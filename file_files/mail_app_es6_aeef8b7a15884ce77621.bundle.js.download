/*! Â© 2023 Yahoo Holdings, Inc. For license information, see js/mail_app_es6_aeef8b7a15884ce77621.bundle.js.LICENSE.txt. */
(()=>{var e,t,s,a={65055:(e,t,s)=>{"use strict";var a=s(20862);t.Z=void 0;var n=a(s(11471)),r={CREATE_SINGLE_NEW_EVENT_SUCCEEDED:n.CREATE_SINGLE_NEW_EVENT_SUCCEEDED,CREATE_SINGLE_NEW_EVENT_FAILED:n.CREATE_SINGLE_NEW_EVENT_FAILED,CREATE_RECURR_NEW_EVENTS_SUCCEEDED:n.CREATE_RECURR_NEW_EVENTS_SUCCEEDED,CREATE_RECURR_NEW_EVENTS_FAILED:n.CREATE_RECURR_NEW_EVENTS_FAILED,DELETE_SINGLE_EVENT_SUCCEEDED:n.DELETE_SINGLE_EVENT_SUCCEEDED,DELETE_SINGLE_EVENT_FAILED:n.DELETE_SINGLE_EVENT_FAILED,DELETE_RECURR_EVENTS_SUCCEDDED:n.DELETE_RECURR_EVENTS_SUCCEDDED,DELETE_RECURR_EVENTS_FAILED:n.DELETE_RECURR_EVENTS_FAILED,EDIT_RECURR_EVENTS_SUCCEEDED:n.EDIT_RECURR_EVENTS_SUCCEEDED,EDIT_RECURR_EVENTS_FAILED:n.EDIT_RECURR_EVENTS_FAILED,EDIT_SINGLE_EVENT_SUCCEEDED:n.EDIT_SINGLE_EVENT_SUCCEEDED,EDIT_SINGLE_EVENT_FAILED:n.EDIT_SINGLE_EVENT_FAILED,RSVP_REPLY_SINGLE_EVENT_SUCCEEDED:n.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED,RSVP_REPLY_SINGLE_EVENT_FAILED:n.RSVP_REPLY_SINGLE_EVENT_FAILED,RSVP_REPLY_RECURR_EVENT_SUCCEEDED:n.RSVP_REPLY_RECURR_EVENT_SUCCEEDED,RSVP_REPLY_RECURR_EVENT_FAILED:n.RSVP_REPLY_RECURR_EVENT_FAILED,EPOCH_OPEN_COMPOSE_VIEW:n.EPOCH_OPEN_COMPOSE_VIEW};t.Z=r},41874:(e,t,s)=>{"use strict";var a=s(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(s(38549)).default;t.default=n},38549:(e,t,s)=>{"use strict";var a=s(20862),n=s(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(s(34575)),o=n(s(93913)),i=n(s(81506)),l=n(s(2205)),c=n(s(78585)),d=n(s(29754)),_=n(s(59713)),E=a(s(67294)),u=n(s(25823)),m=n(s(76223));n(s(45697));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,a=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return(0,c.default)(this,s)}}var p=function(e){(0,l.default)(s,e);var t=S(s);function s(){var e;(0,r.default)(this,s);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,_.default)((0,i.default)(e),"renderEventItem",(function(){var e=(0,m.default)(u.default);return E.default.createElement("div",{className:e.eventListWrapper},E.default.createElement("div",{className:e.timeWrapper},E.default.createElement("span",{className:e.timeIndicator}),E.default.createElement("span",{className:e.timeIndicator})),E.default.createElement("div",{className:e.eventPicWrapper},E.default.createElement("div",{className:e.eventItemWrapper},E.default.createElement("span",{className:e.eventIndicator})),E.default.createElement("div",{className:e.picWrapper},E.default.createElement("span",{className:e.picIndicator}))))})),e}return(0,o.default)(s,[{key:"render",value:function(){var e=this.props.includeHeaders,t=(0,m.default)(u.default);return E.default.createElement("div",{className:t.wrapper},e?E.default.createElement(E.Fragment,null,E.default.createElement("div",{className:t.navHeaderWrapper}),E.default.createElement("div",{className:t.monthHeaderWrapper})):null,this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem(),this.renderEventItem())}}]),s}(E.default.Component);t.default=p},25823:e=>{"use strict";e.exports={className:{default:{wrapper:"F_N W_3vpWV H_6D6F M_A",navHeaderWrapper:"H_73Xs W_6D6F m_Z14vXdP",monthHeaderWrapper:"W_6D6F H_74ed",eventListWrapper:"W_3vpWV H_7jcW D_Z1YJkyX",timeWrapper:"W_74JI H_6UbO Q_6Fd5 D_Z1YJaYm ab_C je_6FsP",eventPicWrapper:"D_Z1YJkyX m_Z14vXdP Q_6DEy",eventItemWrapper:"W_3r5Ku je_6FsP",timeIndicator:"ah_Z1tF3s4 D_X H_fq7 e_eo6 q_ZpQYvz",eventIndicator:"ah_Z1tF3s4 D_B W_3nV5V H_fq7 e_eo6 q_ZpQYvz Y_e8l",picWrapper:"W_72FG H_750t",picIndicator:"W_6Nds H_6Nds q_ZpQYvz e_e5X ah_Z1tF3s4 D_B Y_6EWk Q_eTB"}},_key:"K8ORb"}},11471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EPOCH_CREATE_TODO_SUCCEEDED=t.EPOCH_CREATE_TODO_REQUESTED=t.EPOCH_DELETE_TODO_FAILED=t.EPOCH_DELETE_TODO_SUCCEEDED=t.EPOCH_DELETE_TODO_REQUESTED=t.EPOCH_PUT_TODO_FAILED=t.EPOCH_PUT_TODO_SUCCEEDED=t.EPOCH_PUT_TODO_REQUESTED=t.EPOCH_PATCH_TODO_FAILED=t.EPOCH_PATCH_TODO_SUCCEEDED=t.EPOCH_PATCH_TODO_REQUESTED=t.EPOCH_FETCH_TODOS_FAILED=t.EPOCH_FETCH_TODOS_SUCCEEDED=t.EPOCH_FETCH_TODOS_REQUESTED=t.EDIT_USER_PREFERENCES_FAILED=t.EDIT_USER_PREFERENCES_SUCCEEDED=t.EDIT_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_FOLDER_FAILED=t.EPOCH_FETCH_FOLDER_SUCCEEDED=t.EPOCH_FETCH_FOLDER_REQUESTED=t.EPOCH_EXPORT_FOLDER_FAILED=t.EPOCH_EXPORT_FOLDER_SUCCEEDED=t.EPOCH_EXPORT_FOLDER_REQUESTED=t.EPOCH_IMPORT_FOLDER_FAILED=t.EPOCH_IMPORT_FOLDER_SUCCEEDED=t.EPOCH_IMPORT_FOLDER_REQUESTED=t.EPOCH_DELETE_FOLDER_FAILED=t.EPOCH_DELETE_FOLDER_SUCCEEDED=t.EPOCH_DELETE_FOLDER_REQUESTED=t.EPOCH_EDIT_FOLDER_FAILED=t.EPOCH_EDIT_FOLDER_SUCCEEDED=t.EPOCH_EDIT_FOLDER_REQUESTED=t.EPOCH_CREATE_FOLDER_FAILED=t.EPOCH_CREATE_FOLDER_SUCCEEDED=t.EPOCH_CREATE_FOLDER_REQUESTED=t.RIGHT_RAIL_COMMS_ICON_CLICKED=t.EPOCH_INCOMING_PROPS_UPDATED=t.REDIRECT_TO_FULL_VIEW=t.RIGHT_CLICK_MENU_OPTION_CLICK=t.ITEM_RIGHT_CLICK=t.POP_UP_EMIAL_INVITEE=t.POP_UP_EVENT_DELETE=t.POP_UP_EVENT_EDIT=t.POP_UP_EVENT_CLICK=t.POP_UP_EVENT_EMAIL_INVITEE=t.POP_UP_EVENT_PRINT=t.EPOCH_OPEN_COMPOSE_VIEW=t.EPOCH_APP_LAUNCH_FAILED=t.EPOCH_APP_LAUNCH_SUCCEEDED=t.EPOCH_APP_LAUNCH_REQUESTED=t.RSVP_REPLY_RECURR_EVENT_FAILED=t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED=t.RSVP_REPLY_RECURR_EVENT_REQUESTED=t.RSVP_REPLY_SINGLE_EVENT_FAILED=t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED=t.RSVP_REPLY_SINGLE_EVENT_REQUESTED=t.FETCH_USER_PREFERENCES_FAILED=t.FETCH_USER_PREFERENCES_SUCCEEDED=t.FETCH_USER_PREFERENCES_REQUESTED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED=t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED=t.FETCH_FOLDERS_FAILED=t.FETCH_FOLDERS_SUCCEEDED=t.FETCH_FOLDERS_REQUESTED=t.EPOCH_SELECT_SEARCH_DATE_REQUESTED=t.SELECT_DATE_REQUESTED=t.SPORTS_FORM_SWITCH_REQUESTED=t.COMPONENT_SWITCH_REQUESTED=t.DELETE_RECURR_EVENTS_FAILED=t.DELETE_RECURR_EVENTS_SUCCEDDED=t.DELETE_RECURR_EVENTS_REQUESTED=t.DELETE_SINGLE_EVENT_FAILED=t.DELETE_SINGLE_EVENT_SUCCEEDED=t.DELETE_SINGLE_EVENT_REQUESTED=t.PATCH_EVENT_FAILED=t.PATCH_EVENT_SUCCEEDED=t.PATCH_EVENT_REQUESTED=t.EDIT_ALL_RECURR_INSTANCES_REQUESTED=t.EDIT_RECURR_EVENTS_FAILED=t.EDIT_RECURR_EVENTS_SUCCEEDED=t.EDIT_RECURR_EVENTS_REQUESTED=t.EDIT_SINGLE_EVENT_FAILED=t.EDIT_SINGLE_EVENT_SUCCEEDED=t.EDIT_SINGLE_EVENT_REQUESTED=t.CREATE_RECURR_NEW_EVENTS_FAILED=t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED=t.CREATE_RECURR_NEW_EVENTS_REQUESTED=t.CREATE_SINGLE_NEW_EVENT_FAILED=t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED=t.CREATE_SINGLE_NEW_EVENT_REQUESTED=t.HOLIDAY_FOLDER_USAGE_LOGGED=t.REFETCH_DELETE_EVENT_SUCCEEDED=t.REFETCH_EDIT_EVENT_SUCCEEDED=t.FETCH_EVENT_FAILED=t.FETCH_EVENT_SUCCEEDED=t.FETCH_EVENT_REQUESTED=t.FETCH_EVENTS_FAILED=t.FETCH_EVENTS_SUCCEEDED=t.FETCH_EVENTS_REQUESTED=void 0,t.EPOCH_FEATURE_CUE_CLOSE=t.EPOCH_DELETE_JOURNAL_FAILED=t.EPOCH_DELETE_JOURNAL_SUCCEEDED=t.EPOCH_DELETE_JOURNAL_REQUESTED=t.EPOCH_UPDATE_JOURNAL_FAILED=t.EPOCH_UPDATE_JOURNAL_SUCCEEDED=t.EPOCH_UPDATE_JOURNAL_REQUESTED=t.EPOCH_CREATE_JOURNAL_FAILED=t.EPOCH_CREATE_JOURNAL_SUCCEEDED=t.EPOCH_CREATE_JOURNAL_REQUESTED=t.EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED=t.EPOCH_SELECT_JOURNAL_REQUESTED=t.EPOCH_GET_JOURNALS_FAILED=t.EPOCH_GET_JOURNALS_SUCCEEDED=t.EPOCH_GET_JOURNALS_REQUESTED=t.EPOCH_GET_JOURNAL_FAILED=t.EPOCH_GET_JOURNAL_SUCCEEDED=t.EPOCH_GET_JOURNAL_REQUESTED=t.EPOCH_NOTEPAD_LAUNCH_FAILED=t.EPOCH_NOTEPAD_LAUNCH_SUCCEEDED=t.EPOCH_NOTEPAD_LAUNCH_REQUESTED=t.NGY_NOTIFY=t.RSVP_REPLY_FROM_RSVP_PAGE_FAILED=t.RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED=t.RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED=t.EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES=t.SEARCH_SPORTS_EVENTS_FAILED=t.SEARCH_SPORTS_EVENTS_SUCCEEDED=t.SEARCH_SPORTS_EVENTS_REQUESTED=t.EPOCH_FETCH_SPORTS_DATA_FAILED=t.EPOCH_FETCH_SPORTS_DATA_SUCCEEDED=t.EPOCH_FETCH_SPORTS_DATA_REQUESTED=t.EPOCH_PUBLIC_APP_LAUNCH_FAILED=t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED=t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED=t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED=t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED=t.EPOCH_XOBNIFIED_USER_FAILED=t.EPOCH_XOBNIFIED_USER_SUCCEEDED=t.EPOCH_XOBNIFIED_USER_REQUESTED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED=t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED=t.EPOCH_RELATED_CONTACTS_CLOSED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED=t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED=t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED=t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED=t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED=t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED=t.EPOCH_FETCH_ITEMS_FAILED=t.EPOCH_FETCH_ITEMS_SUCCEEDED=t.EPOCH_FETCH_ITEMS_REQUESTED=t.EPOCH_RSVP_LAUNCH_FAILED=t.EPOCH_RSVP_LAUNCH_SUCCEEDED=t.EPOCH_RSVP_LAUNCH_REQUESTED=t.EPOCH_PRINTPAGE_LAUNCH_FAILED=t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED=t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED=t.EPOCH_SETTING_LAUNCH_FAILED=t.EPOCH_SETTING_LAUNCH_SUCCEEDED=t.EPOCH_SETTING_LAUNCH_REQUESTED=t.EPOCH_SEARCH_LAUNCH_FAILED=t.EPOCH_SEARCH_LAUNCH_SUCCEEDED=t.EPOCH_SEARCH_LAUNCH_REQUESTED=t.EPOCH_SEARCH_QUERY_UPDATED=t.EPOCH_ITEM_SEARCH_FAILED=t.EPOCH_ITEM_SEARCH_SUCCEEDED=t.EPOCH_ITEM_SEARCH_REQUESTED=t.FETCH_OPTIONS_FAILED=t.FETCH_OPTIONS_SUCCEEDED=t.FETCH_OPTIONS_REQUESTED=t.EPOCH_CREATE_TODO_FAILED=void 0;t.FETCH_EVENTS_REQUESTED="FETCH_EVENTS_REQUESTED";t.FETCH_EVENTS_SUCCEEDED="FETCH_EVENTS_SUCCEEDED";t.FETCH_EVENTS_FAILED="FETCH_EVENTS_FAILED";t.FETCH_EVENT_REQUESTED="FETCH_EVENT_REQUESTED";t.FETCH_EVENT_SUCCEEDED="FETCH_EVENT_SUCCEEDED";t.FETCH_EVENT_FAILED="FETCH_EVENT_FAILED";t.REFETCH_EDIT_EVENT_SUCCEEDED="REFETCH_EDIT_EVENT_SUCCEEDED";t.REFETCH_DELETE_EVENT_SUCCEEDED="REFETCH_DELETE_EVENT_SUCCEEDED";t.HOLIDAY_FOLDER_USAGE_LOGGED="HOLIDAY_FOLDER_USAGE_LOGGED";t.CREATE_SINGLE_NEW_EVENT_REQUESTED="CREATE_SINGLE_NEW_EVENT_REQUESTED";t.CREATE_SINGLE_NEW_EVENT_SUCCEEDED="CREATE_SINGLE_NEW_EVENT_SUCCEEDED";t.CREATE_SINGLE_NEW_EVENT_FAILED="CREATE_SINGLE_NEW_EVENT_FAILED";t.CREATE_RECURR_NEW_EVENTS_REQUESTED="CREATE_RECURR_NEW_EVENTS_REQUESTED";t.CREATE_RECURR_NEW_EVENTS_SUCCEEDED="CREATE_RECURR_NEW_EVENTS_SUCCEEDED";t.CREATE_RECURR_NEW_EVENTS_FAILED="CREATE_RECURR_NEW_EVENTS_FAILED";t.EDIT_SINGLE_EVENT_REQUESTED="EDIT_SINGLE_EVENT_REQUESTED";t.EDIT_SINGLE_EVENT_SUCCEEDED="EDIT_SINGLE_EVENT_SUCCEEDED";t.EDIT_SINGLE_EVENT_FAILED="EDIT_SINGLE_EVENT_FAILED";t.EDIT_RECURR_EVENTS_REQUESTED="EDIT_RECURR_EVENTS_REQUESTED";t.EDIT_RECURR_EVENTS_SUCCEEDED="EDIT_RECURR_EVENTS_SUCCEEDED";t.EDIT_RECURR_EVENTS_FAILED="EDIT_RECURR_EVENTS_FAILED";t.EDIT_ALL_RECURR_INSTANCES_REQUESTED="EDIT_ALL_RECURR_INSTANCES_REQUESTED";t.PATCH_EVENT_REQUESTED="PATCH_EVENT_REQUESTED";t.PATCH_EVENT_SUCCEEDED="PATCH_SINGLE_EVENT_SUCCEEDED";t.PATCH_EVENT_FAILED="PATCH_EVENT_FAILED";t.DELETE_SINGLE_EVENT_REQUESTED="DELETE_SINGLE_EVENT_REQUESTED";t.DELETE_SINGLE_EVENT_SUCCEEDED="DELETE_SINGLE_EVENT_SUCCEEDED";t.DELETE_SINGLE_EVENT_FAILED="DELETE_SINGLE_EVENT_FAILED";t.DELETE_RECURR_EVENTS_REQUESTED="DELETE_RECURR_EVENTS_REQUESTED";t.DELETE_RECURR_EVENTS_SUCCEDDED="DELETE_RECURR_EVENTS_SUCCEDDED";t.DELETE_RECURR_EVENTS_FAILED="DELETE_RECURR_EVENTS_FAILED";t.COMPONENT_SWITCH_REQUESTED="COMPONENT_SWITCH_REQUESTED";t.SPORTS_FORM_SWITCH_REQUESTED="SPORTS_FORM_SWITCH_REQUESTED";t.SELECT_DATE_REQUESTED="SELECT_DATE_REQUESTED";t.EPOCH_SELECT_SEARCH_DATE_REQUESTED="EPOCH_SELECT_SEARCH_DATE_REQUESTED";t.FETCH_FOLDERS_REQUESTED="FETCH_FOLDERS_REQUESTED";t.FETCH_FOLDERS_SUCCEEDED="FETCH_FOLDERS_SUCCEEDED";t.FETCH_FOLDERS_FAILED="FETCH_FOLDERS_FAILED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_REQUESTED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_SUCCEEDED";t.EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED="EPOCH_FETCH_OTHERS_FOLDERS_LIST_FAILED";t.FETCH_USER_PREFERENCES_REQUESTED="FETCH_USER_PREFERENCES_REQUESTED";t.FETCH_USER_PREFERENCES_SUCCEEDED="FETCH_USER_PREFERENCES_SUCCEEDED";t.FETCH_USER_PREFERENCES_FAILED="FETCH_USER_PREFERENCES_FAILED";t.RSVP_REPLY_SINGLE_EVENT_REQUESTED="RSVP_REPLY_SINGLE_EVENT_REQUESTED";t.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED="RSVP_REPLY_SINGLE_EVENT_SUCCEEDED";t.RSVP_REPLY_SINGLE_EVENT_FAILED="RSVP_REPLY_SINGLE_EVENT_FAILED";t.RSVP_REPLY_RECURR_EVENT_REQUESTED="RSVP_REPLY_RECURR_EVENT_REQUESTED";t.RSVP_REPLY_RECURR_EVENT_SUCCEEDED="RSVP_REPLY_RECURR_EVENT_SUCCEEDED";t.RSVP_REPLY_RECURR_EVENT_FAILED="RSVP_REPLY_RECURR_EVENT_FAILED";t.EPOCH_APP_LAUNCH_REQUESTED="EPOCH_APP_LAUNCH_REQUESTED";t.EPOCH_APP_LAUNCH_SUCCEEDED="EPOCH_APP_LAUNCH_SUCCEEDED";t.EPOCH_APP_LAUNCH_FAILED="EPOCH_APP_LAUNCH_FAILED";t.EPOCH_OPEN_COMPOSE_VIEW="EPOCH_OPEN_COMPOSE_VIEW";t.POP_UP_EVENT_PRINT="POP_UP_EVENT_PRINT";t.POP_UP_EVENT_EMAIL_INVITEE="POP_UP_EVENT_EMAIL_INVITEE";t.POP_UP_EVENT_CLICK="POP_UP_EVENT_CLICK";t.POP_UP_EVENT_EDIT="POP_UP_EVENT_EDIT";t.POP_UP_EVENT_DELETE="POP_UP_EVENT_DELETE";t.POP_UP_EMIAL_INVITEE="POP_UP_EMIAL_INVITEE";t.ITEM_RIGHT_CLICK="ITEM_RIGHT_CLICK";t.RIGHT_CLICK_MENU_OPTION_CLICK="RIGHT_CLICK_MENU_OPTION_CLICK";t.REDIRECT_TO_FULL_VIEW="REDIRECT_TO_FULL_VIEW";t.EPOCH_INCOMING_PROPS_UPDATED="EPOCH_INCOMING_PROPS_UPDATED";t.RIGHT_RAIL_COMMS_ICON_CLICKED="RIGHT_RAIL_COMMS_ICON_CLICKED";t.EPOCH_CREATE_FOLDER_REQUESTED="EPOCH_CREATE_FOLDER_REQUESTED";t.EPOCH_CREATE_FOLDER_SUCCEEDED="EPOCH_CREATE_FOLDER_SUCCEEDED";t.EPOCH_CREATE_FOLDER_FAILED="EPOCH_CREATE_FOLDER_FAILED";t.EPOCH_EDIT_FOLDER_REQUESTED="EPOCH_EDIT_FOLDER_REQUESTED";t.EPOCH_EDIT_FOLDER_SUCCEEDED="EPOCH_EDIT_FOLDER_SUCCEEDED";t.EPOCH_EDIT_FOLDER_FAILED="EPOCH_EDIT_FOLDER_FAILED";t.EPOCH_DELETE_FOLDER_REQUESTED="EPOCH_DELETE_FOLDER_REQUESTED";t.EPOCH_DELETE_FOLDER_SUCCEEDED="EPOCH_DELETE_FOLDER_SUCCEEDED";t.EPOCH_DELETE_FOLDER_FAILED="EPOCH_DELETE_FOLDER_FAILED";t.EPOCH_IMPORT_FOLDER_REQUESTED="EPOCH_IMPORT_FOLDER_REQUESTED";t.EPOCH_IMPORT_FOLDER_SUCCEEDED="EPOCH_IMPORT_FOLDER_SUCCEEDED";t.EPOCH_IMPORT_FOLDER_FAILED="EPOCH_IMPORT_FOLDER_FAILED";t.EPOCH_EXPORT_FOLDER_REQUESTED="EPOCH_EXPORT_FOLDER_REQUESTED";t.EPOCH_EXPORT_FOLDER_SUCCEEDED="EPOCH_EXPORT_FOLDER_SUCCEEDED";t.EPOCH_EXPORT_FOLDER_FAILED="EPOCH_EXPORT_FOLDER_FAILED";t.EPOCH_FETCH_FOLDER_REQUESTED="EPOCH_FETCH_FOLDER_REQUESTED";t.EPOCH_FETCH_FOLDER_SUCCEEDED="EPOCH_FETCH_FOLDER_SUCCEEDED";t.EPOCH_FETCH_FOLDER_FAILED="EPOCH_FETCH_FOLDER_FAILED";t.EDIT_USER_PREFERENCES_REQUESTED="EDIT_USER_PREFERENCES_REQUESTED";t.EDIT_USER_PREFERENCES_SUCCEEDED="EDIT_USER_PREFERENCES_SUCCEEDED";t.EDIT_USER_PREFERENCES_FAILED="EDIT_USER_PREFERENCES_FAILED";t.EPOCH_FETCH_TODOS_REQUESTED="EPOCH_FETCH_TODOS_REQUESTED";t.EPOCH_FETCH_TODOS_SUCCEEDED="EPOCH_FETCH_TODOS_SUCCEEDED";t.EPOCH_FETCH_TODOS_FAILED="EPOCH_FETCH_TODOS_FAILED";t.EPOCH_PATCH_TODO_REQUESTED="EPOCH_PATCH_TODO_REQUESTED";t.EPOCH_PATCH_TODO_SUCCEEDED="EPOCH_PATCH_TODO_SUCCEEDED";t.EPOCH_PATCH_TODO_FAILED="EPOCH_PATCH_TODO_FAILED";t.EPOCH_PUT_TODO_REQUESTED="EPOCH_PUT_TODO_REQUESTED";t.EPOCH_PUT_TODO_SUCCEEDED="EPOCH_PUT_TODO_SUCCEEDED";t.EPOCH_PUT_TODO_FAILED="EPOCH_PUT_TODO_FAILED";t.EPOCH_DELETE_TODO_REQUESTED="EPOCH_DELETE_TODO_REQUESTED";t.EPOCH_DELETE_TODO_SUCCEEDED="EPOCH_DELETE_TODO_SUCCEEDED";t.EPOCH_DELETE_TODO_FAILED="EPOCH_DELETE_TODO_FAILED";t.EPOCH_CREATE_TODO_REQUESTED="EPOCH_CREATE_TODO_REQUESTED";t.EPOCH_CREATE_TODO_SUCCEEDED="EPOCH_CREATE_TODO_SUCCEEDED";t.EPOCH_CREATE_TODO_FAILED="EPOCH_CREATE_TODO_FAILED";t.FETCH_OPTIONS_REQUESTED="FETCH_OPTIONS_REQUESTED";t.FETCH_OPTIONS_SUCCEEDED="FETCH_OPTIONS_SUCCEEDED";t.FETCH_OPTIONS_FAILED="FETCH_OPTIONS_FAILED";t.EPOCH_ITEM_SEARCH_REQUESTED="EPOCH_ITEM_SEARCH_REQUESTED";t.EPOCH_ITEM_SEARCH_SUCCEEDED="EPOCH_ITEM_SEARCH_SUCCEEDED";t.EPOCH_ITEM_SEARCH_FAILED="EPOCH_ITEM_SEARCH_FAILED";t.EPOCH_SEARCH_QUERY_UPDATED="EPOCH_SEARCH_QUERY_UPDATED";t.EPOCH_SEARCH_LAUNCH_REQUESTED="EPOCH_SEARCH_LAUNCH_REQUESTED";t.EPOCH_SEARCH_LAUNCH_SUCCEEDED="EPOCH_SEARCH_LAUNCH_SUCCEEDED";t.EPOCH_SEARCH_LAUNCH_FAILED="EPOCH_SEARCH_LAUNCH_FAILED";t.EPOCH_SETTING_LAUNCH_REQUESTED="EPOCH_SETTING_LAUNCH_REQUESTED";t.EPOCH_SETTING_LAUNCH_SUCCEEDED="EPOCH_SETTING_LAUNCH_SUCCEEDED";t.EPOCH_SETTING_LAUNCH_FAILED="EPOCH_SETTING_LAUNCH_FAILED";t.EPOCH_PRINTPAGE_LAUNCH_REQUESTED="EPOCH_PRINTPAGE_LAUNCH_REQUESTED";t.EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED="EPOCH_PRINTPAGE_LAUNCH_SUCCEEDED";t.EPOCH_PRINTPAGE_LAUNCH_FAILED="EPOCH_PRINTPAGE_LAUNCH_FAILED";t.EPOCH_RSVP_LAUNCH_REQUESTED="EPOCH_RSVP_LAUNCH_REQUESTED";t.EPOCH_RSVP_LAUNCH_SUCCEEDED="EPOCH_RSVP_LAUNCH_SUCCEEDED";t.EPOCH_RSVP_LAUNCH_FAILED="EPOCH_RSVP_LAUNCH_FAILED";t.EPOCH_FETCH_ITEMS_REQUESTED="EPOCH_FETCH_ITEMS_REQUESTED";t.EPOCH_FETCH_ITEMS_SUCCEEDED="EPOCH_FETCH_ITEMS_SUCCEEDED";t.EPOCH_FETCH_ITEMS_FAILED="EPOCH_FETCH_ITEMS_FAILED";t.EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED="EPOCH_CONTACT_PICKER_LAUNCH_REQUESTED";t.EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED="EPOCH_CONTACT_PICKER_LAUNCH_SUCCEEDED";t.EPOCH_CONTACT_PICKER_LAUNCH_FAILED="EPOCH_CONTACT_PICKER_LAUNCH_FAILED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_REQUESTED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_SUCCEEDED";t.EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED="EPOCH_FETCH_CONTACTS_BY_GROUP_ID_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_DELETE_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED="EPOCH_DELETE_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_DELETE_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED="EPOCH_FETCH_CONTACT_SUGGESTIONS_REQUESTED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED="EPOCH_FETCH_CONTACT_SUGGESTIONS_SUCCEEDED";t.EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED="EPOCH_FETCH_CONTACT_SUGGESTIONS_FAILED";t.EPOCH_RELATED_CONTACTS_CLOSED="EPOCH_RELATED_CONTACTS_CLOSED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED="EPOCH_FETCH_IMPORTANT_CONTACTS_REQUESTED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED="EPOCH_FETCH_IMPORTANT_CONTACTS_SUCCEEDED";t.EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED="EPOCH_FETCH_IMPORTANT_CONTACTS_FAILED";t.EPOCH_XOBNIFIED_USER_REQUESTED="EPOCH_XOBNIFIED_USER_REQUESTED";t.EPOCH_XOBNIFIED_USER_SUCCEEDED="EPOCH_XOBNIFIED_USER_SUCCEEDED";t.EPOCH_XOBNIFIED_USER_FAILED="EPOCH_XOBNIFIED_USER_FAILED";t.EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED="EPOCH_SEARCH_FOLDER_STATUS_CHANGE_REQUESTED";t.EPOCH_SEARCH_ITEM_CATEGORY_UDPATED="EPOCH_SEARCH_ITEM_CATEGORY_UDPATED";t.EPOCH_PUBLIC_APP_LAUNCH_REQUESTED="EPOCH_PUBLIC_APP_LAUNCH_REQUESTED";t.EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED="EPOCH_PUBLIC_APP_LAUNCH_SUCCEEDED";t.EPOCH_PUBLIC_APP_LAUNCH_FAILED="EPOCH_PUBLIC_APP_LAUNCH_FAILED";t.EPOCH_FETCH_SPORTS_DATA_REQUESTED="EPOCH_FETCH_SPORTS_DATA_REQUESTED";t.EPOCH_FETCH_SPORTS_DATA_SUCCEEDED="EPOCH_FETCH_SPORTS_DATA_SUCCEEDED";t.EPOCH_FETCH_SPORTS_DATA_FAILED="EPOCH_FETCH_SPORTS_DATA_FAILED";t.SEARCH_SPORTS_EVENTS_REQUESTED="SEARCH_SPORTS_EVENTS_REQUESTED";t.SEARCH_SPORTS_EVENTS_SUCCEEDED="SEARCH_SPORTS_EVENTS_SUCCEEDED";t.SEARCH_SPORTS_EVENTS_FAILED="SEARCH_SPORTS_EVENTS_FAILED";t.EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES="EPOCH_ROUTE_CHANGE_WITH_NO_STATE_UPDATES";t.RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED="RSVP_REPLY_FROM_RSVP_PAGE_REQUESTED";t.RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED="RSVP_REPLY_FROM_RSVP_PAGE_SUCCEEDED";t.RSVP_REPLY_FROM_RSVP_PAGE_FAILED="RSVP_REPLY_FROM_RSVP_PAGE_FAILED";t.NGY_NOTIFY="NGY_NOTIFY";t.EPOCH_NOTEPAD_LAUNCH_REQUESTED="EPOCH_NOTEPAD_LAUNCH_REQUESTED";t.EPOCH_NOTEPAD_LAUNCH_SUCCEEDED="EPOCH_NOTEPAD_LAUNCH_SUCCEEDED";t.EPOCH_NOTEPAD_LAUNCH_FAILED="EPOCH_NOTEPAD_LAUNCH_FAILED";t.EPOCH_GET_JOURNAL_REQUESTED="EPOCH_GET_JOURNAL_REQUESTED";t.EPOCH_GET_JOURNAL_SUCCEEDED="EPOCH_GET_JOURNAL_SUCCEEDED";t.EPOCH_GET_JOURNAL_FAILED="EPOCH_GET_JOURNAL_FAILED";t.EPOCH_GET_JOURNALS_REQUESTED="EPOCH_GET_JOURNALS_REQUESTED";t.EPOCH_GET_JOURNALS_SUCCEEDED="EPOCH_GET_JOURNALS_SUCCEEDED";t.EPOCH_GET_JOURNALS_FAILED="EPOCH_GET_JOURNALS_FAILED";t.EPOCH_SELECT_JOURNAL_REQUESTED="EPOCH_SELECT_JOURNAL_REQUESTED";t.EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED="EPOCH_SELECT_JOURNAL_FOLDER_REQUESTED";t.EPOCH_CREATE_JOURNAL_REQUESTED="EPOCH_CREATE_JOURNAL_REQUESTED";t.EPOCH_CREATE_JOURNAL_SUCCEEDED="EPOCH_CREATE_JOURNAL_SUCCEEDED";t.EPOCH_CREATE_JOURNAL_FAILED="EPOCH_CREATE_JOURNAL_FAILED";t.EPOCH_UPDATE_JOURNAL_REQUESTED="EPOCH_UPDATE_JOURNAL_REQUESTED";t.EPOCH_UPDATE_JOURNAL_SUCCEEDED="EPOCH_UPDATE_JOURNAL_SUCCEEDED";t.EPOCH_UPDATE_JOURNAL_FAILED="EPOCH_UPDATE_JOURNAL_FAILED";t.EPOCH_DELETE_JOURNAL_REQUESTED="EPOCH_DELETE_JOURNAL_REQUESTED";t.EPOCH_DELETE_JOURNAL_SUCCEEDED="EPOCH_DELETE_JOURNAL_SUCCEEDED";t.EPOCH_DELETE_JOURNAL_FAILED="EPOCH_DELETE_JOURNAL_FAILED";t.EPOCH_FEATURE_CUE_CLOSE="EPOCH_FEATURE_CUE_CLOSE"},1558:(e,t,s)=>{"use strict";s.d(t,{AC:()=>r,E2:()=>l,G0:()=>p,In:()=>C,Iu:()=>E,Ku:()=>S,MM:()=>u,NO:()=>m,Vr:()=>o,hN:()=>c,hy:()=>_,jw:()=>i,qe:()=>d,tm:()=>n});var a=s(50566);function n(e){return{type:a.ACCOUNT_DELETE_REQUESTED,...e}}function r(e){return{type:a.ACCOUNT_DELETE_SUCCEEDED,...e}}function o(e){return{type:a.ACCOUNT_DELETE_FAILED,...e}}function i(e){return{type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED,...e}}function l(e){return{type:a.ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED,...e}}function c(e){return{type:a.EMAIL_PROVIDER_SELECTED,...e}}function d(e){return{type:a.ACCOUNT_ADD_SUCCEEDED,...e}}function _(e){return{type:a.ACCOUNT_ADD_FAILED,...e}}const E=e=>({type:a.ACCOUNT_REAUTH_REQUESTED,...e}),u=e=>({type:a.ACCOUNT_REAUTH_SUCCEEDED,...e}),m=e=>({type:a.ACCOUNT_REAUTH_FAILED,...e});function S(e){return{...e,type:a.ACCOUNT_DELETE_CONFIRMED}}function p(e){return{type:a.ACCOUNT_ADD_AUTHORIZED,...e}}function C(e){return{type:a.FETCH_PRIMARY_ACCOUNT,...e}}},59413:(e,t,s)=>{"use strict";s.d(t,{Nq:()=>c,O:()=>n,VK:()=>r,oh:()=>l,tQ:()=>i,yu:()=>o});var a=s(50566);s(30982),s(37422);function n({i13nModel:e}){return{type:a.ADBLOCK_UPSELL_OPTION_CLICKED,i13nModel:e}}function r({i13nModel:e}){return{type:a.ADBLOCK_DETECTED,i13nModel:e}}function o({i13nModel:e}){return{type:a.ABP_DETECTED,i13nModel:e}}function i({i13nModel:e}){return{type:a.NO_ABP_DETECTED,i13nModel:e}}function l({i13nModel:e}){return{type:a.NO_ADBLOCK_DETECTED,i13nModel:e}}function c({i13nModel:e}){return{type:a.ATHENA_ADBLOCKER_SIGNAL_DETECTED,i13nModel:e}}},18352:(e,t,s)=>{"use strict";s.d(t,{Ah:()=>P,Ay:()=>r,Ci:()=>i,F$:()=>h,Fb:()=>u,I5:()=>l,J:()=>g,JF:()=>I,K5:()=>T,P0:()=>C,Q8:()=>O,QP:()=>A,Qe:()=>f,WA:()=>p,XC:()=>E,XR:()=>R,Xw:()=>S,__:()=>L,a5:()=>m,gB:()=>n,i$:()=>o,jJ:()=>M,k:()=>c,ke:()=>N,lN:()=>_,nu:()=>d,vf:()=>D});var a=s(50566);const n=e=>({type:a.PENCIL_AD_CLICKED,...e}),r=e=>({type:a.AD_FEEDBACK_STARTED,...e}),o=e=>({type:a.AD_FEEDBACK_SUBMITTED,...e}),i=e=>({type:a.AD_FEEDBACK_CLOSED,...e}),l=e=>({type:a.MESSAGE_READ_AD_ROTATION_TIMER,...e}),c=({sectionIds:e})=>({type:a.GEMINI_AD_REQUESTED,sectionIds:e}),d=({geminiAd:e,sectionIds:t,sponsoredMessageTriage:s=!1,i13nModel:n={}})=>({type:a.GEMINI_AD_RECEIVED,geminiAd:e,sectionIds:t,i13nModel:n,sponsoredMessageTriage:s}),_=({error:e,sectionIds:t,i13nModel:s})=>({type:a.GEMINI_AD_FAILED,error:e,sectionIds:t,i13nModel:s}),E=({creativeId:e,asset:t})=>({type:a.GEMINI_SPONSORED_ASSET_RECEIVED,creativeId:e,asset:t}),u=({creativeId:e,error:t,url:s})=>({type:a.GEMINI_SPONSORED_ASSET_FAILED,creativeId:e,error:t,url:s}),m=({subject:e,asset:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_REQUESTED,subject:e,asset:t}),S=({message:e,simpleBody:t})=>({type:a.SPONSORED_SAVE_TO_INBOX_SUCCEEDED,message:e,simpleBody:t}),p=()=>({type:a.SPONSORED_SAVE_TO_INBOX_FAILED}),C=e=>({type:a.HIDE_RIGHT_PANE_ADS,...e}),A=({i13nModel:e})=>({type:a.UNUSUAL_DISCOUNT_VIGLINK_CLICKED,i13nModel:e}),T=()=>({type:a.FLASH_SALE_AD_ENDED}),I=e=>({type:a.AD_FEEDBACK_CLICKED,...e}),h=e=>({type:a.TOGGLE_BOTTOM_STICKY_PENCIL_AD_COLLAPSE,...e}),g=e=>({type:a.AD_REPORTER_CLICKED,...e}),O=e=>({type:a.JAC_AD_RENDERED,...e}),D=e=>({type:a.GPT_IFRAME_LOADED,...e}),R=e=>({type:a.GPT_IFRAME_UNLOADED,...e}),N=e=>({type:a.MESSAGE_READ_MOUSE_MOVED,...e}),L=e=>({type:a.NO_FULL_PANE_AD_RETURNED_FOR_SEND_CONFIRM,...e}),f=e=>({type:a.GPT_IFRAME_REMOUNT_REQUESTED,...e}),M=e=>({type:a.GPT_IFRAME_REMOUNT_SUCCEEDED,...e}),P=e=>({type:a.GPT_IFRAME_UBA_CLASSNAME_ADDED,...e})},39239:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(50566);const n=e=>({type:a.TOGGLE_ADVANCED_SEARCH_PANE,...e})},18091:(e,t,s)=>{"use strict";s.d(t,{JX:()=>o,Kr:()=>n,c5:()=>i,lR:()=>r});var a=s(50566);const n=e=>({type:a.AFFILIATE_OFFERS_FAILED,error:e}),r=e=>({type:a.AFFILIATE_OFFERS_SUCCEEDED,...e}),o=e=>({type:a.AFFILIATE_OFFERS_REQUESTED,brandId:e}),i=e=>({type:a.INBOX_COMMERCE_FEATURE_CLICKED,...e})},35598:(e,t,s)=>{"use strict";s.d(t,{Kf:()=>i,Tf:()=>r,td:()=>l,u8:()=>o});var a=s(50566),n=s(37422);const r=({tasks:e,messageItemsToSync:t,actionPayload:s,isPassiveBulkTask:n})=>({type:a.BULK_PROGRESS_INITIATED,tasks:e,messageItemsToSync:t,isPassiveBulkTask:n,...s}),o=({id:e,status:t,progress:s,isPassiveBulkTask:n,pollCount:r})=>({type:a.BULK_PROGRESS_RECEIVED,id:e,status:t,progress:s,pollCount:r,isPassiveBulkTask:n}),i=({taskId:e})=>({type:a.BULK_CANCEL_REQUESTED,taskId:e,status:n.sZ3.ABORTING}),l=({taskId:e,progress:t,triageActionType:s,folderId:r,count:o,conversations:i})=>({type:a.BULK_CANCEL_FAILED,triageActionType:s,folderId:r,count:o,conversations:i,taskId:e,progress:t,status:n.sZ3.ABORT_FAILED})},73924:(e,t,s)=>{"use strict";s.d(t,{AV:()=>n,Ve:()=>r,b2:()=>o,ok:()=>i});var a=s(50566);function n({i13nModel:e}){return{type:a.ATTACHMENT_OPENED,i13nModel:e}}function r({attachment:e,i13nModel:t}){const{id:s,filename:n,downloadUrl:r}=e;return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:s,downloadUrl:r,filename:n,fileCount:1},i13nModel:t}}const o=({downloadUrl:e})=>({type:a.ATTACHMENT_PREVIEW_FAILED,downloadUrl:e}),i=e=>({type:a.INLINE_IMAGES_TO_ATTACHMENT,...e})},52021:(e,t,s)=>{"use strict";s.d(t,{UT:()=>l,ZP:()=>c});s(44908);var a=s(50566),n=s(37422),r=s(85927),o=s(78263),i=s(5199);const l=e=>(t,s)=>{const{getRoute:l,getFeaturesSelectors:c,getMainStreamListIds:d}=(0,r.selectors)(s()),_=d(l()),E=(0,o.BA)(_),u=c().isEnabled(n.ANe.CONVERSATIONS),m={triageActionType:n.Ewo.DELETE_ALL_FROM_SENDERS,conversations:u};return t({...e,name:n.Zrf.DELIVERY_BLOCKED_SENDERS,type:a.BLOCK_SENDERS_WITH_DELETE_REQUESTED,streamId:E,allSelected:!0,destinationFolderType:n.Sck.TRASH,triageActionType:n.Ewo.DELETE_ALL_FROM_SENDERS,isAsync:!0,conversations:u,successAction:(0,i.G)(m),failureAction:(0,i.O)(m)})},c=e=>(t,s)=>{const{getRoute:i,getMainStreamListIds:l}=(0,r.selectors)(s()),c=l(i()),d=(0,o.BA)(c);return t({...e,type:a.BLOCK_SENDERS_REQUESTED,name:n.Zrf.DELIVERY_BLOCKED_SENDERS,streamId:d})}},49760:(e,t,s)=>{"use strict";s.d(t,{IL:()=>l,Io:()=>o,JN:()=>c,WX:()=>n,Z0:()=>i,Ze:()=>r,eT:()=>d,pV:()=>_});var a=s(50566);const n=e=>({type:a.SETTINGS_BLOCKED_DOMAINS_FETCHED,...e}),r=e=>({type:a.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED,...e}),o=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED,...e}),i=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED,...e}),l=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED,...e}),c=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED,...e}),d=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED,...e}),_=e=>({type:a.SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED,...e})},45582:(e,t,s)=>{"use strict";s.d(t,{$K:()=>i,C5:()=>o,Gv:()=>n,iD:()=>r});var a=s(50566);const n=e=>({type:a.BREAKING_NEWS_DISMISSED,...e}),r=e=>({type:a.BREAKING_NEWS_REFRESH,...e}),o=e=>({type:a.BREAKING_NEWS_CLICKED,...e}),i=e=>({type:a.BREAKING_NEWS_RENDERED,...e})},78850:(e,t,s)=>{"use strict";s.d(t,{$l:()=>r,Au:()=>l,RO:()=>o,iv:()=>_,kr:()=>d,tG:()=>i,xU:()=>c});var a=s(92559),n=s(50566);function r({messageId:e,params:t}){return{type:n.GET_INVITE_INFO_REQUESTED,messageId:e,params:t,i13nModel:{mKey:a.JE.RSVP_LOADED,sec:a.nJ.RSVP_CARD,actionData:{msgID:e}}}}function o({messageIds:e,inviteInfoGroup:t}){return{type:n.INVITEINFO_FETCH_SUCCEEDED,messageIds:e,inviteInfoGroup:t}}function i({messageIds:e,errors:t}){return{type:n.INVITEINFO_FETCH_FAILED,messageIds:e,errors:t}}function l(e){return{type:n.RESPOND_TO_INVITE,...e,i13nModel:{mKey:a.JE.RSVP_CALENDAR_RESPONSE,sec:a.nJ.RSVP_CARD,actionData:{msgID:e.messageId,response:e.response}}}}function c({messageId:e}){return{type:n.RSVP_NAVIGATE_TO_CALENDAR,i13nModel:{mKey:a.JE.RSVP_NAVIGATE_TO_CALENDAR,sec:a.nJ.RSVP_CARD,actionData:{msgID:e}}}}function d({uid:e,response:t,messageId:s}){return{type:n.RESPOND_TO_INVITE_SUCCEEDED,messageId:s,uid:e,response:t}}function _({uid:e,response:t,messageId:s}){return{type:n.RESPOND_TO_INVITE_FAILED,messageId:s,uid:e,response:t}}},30982:(e,t,s)=>{"use strict";s.d(t,{Dy:()=>_,FV:()=>m,Hn:()=>h,Lz:()=>D,Nw:()=>T,Rs:()=>M,SC:()=>I,SI:()=>A,Uw:()=>E,Yp:()=>u,ZP:()=>v,_5:()=>O,d5:()=>g,eH:()=>f,eM:()=>b,eX:()=>R,f6:()=>S,g9:()=>N,go:()=>P,hY:()=>L,j4:()=>y,nt:()=>C,zp:()=>p});var a=s(50566),n=s(85927),r=s(37422),o=s(63352),i=s(31602),l=s(82729),c=s.n(l),d=s(92559);const _=({name:e,value:t,...s})=>(o,l)=>{const{isMobileRoute:c,getEnvironmentSelectors:d}=(0,n.selectors)(l());if(e===r.Zrf.NOTIFICATION&&c())e=r.Zrf.MOBILE_NOTIFICATION,t=Boolean(t);else if(e===r.Zrf.NOTIFICATION)e=r.Zrf.DESKTOP_NOTIFICATION,t=t?1:0;else if(e===r.Zrf.THEME){const{getUserNamespace:e}=d();(0,i.h1)(t,e())}return o({...s,name:e,value:t,type:a.SETTINGS_CHANGE_REQUESTED})},E=({name:e,value:t,i13nModel:s,...i})=>(l,c)=>{const{getSetting:d}=(0,n.selectors)(c()),_=d(r.Zrf.DISABLED_MESSAGE_READ_CARDS)||[],E=[r.ANe.DEAL_RECOMMENDATIONS_ENABLED];(0,o.Z)(E.indexOf(e)>-1,"Not a valid message read card option");const u=t?_.filter((t=>t!==e)):[..._,e];return l({name:r.Zrf.DISABLED_MESSAGE_READ_CARDS,value:u,i13nModel:s,...i,type:a.SETTINGS_CHANGE_REQUESTED})},u=({i13nModel:e})=>(t,s)=>{const{getSetting:o}=(0,n.selectors)(s()),i=(o(r.Zrf.PREVIEW_PANE)+1)%Object.keys(r.EsZ).length;return t({name:r.Zrf.PREVIEW_PANE,value:i,i13nModel:e,type:a.SETTINGS_CHANGE_REQUESTED})},m=e=>({type:a.SETTINGS_CHANGE_SUCCEEDED,...e}),S=e=>({type:a.SETTINGS_CHANGE_FAILED,...e}),p=e=>({type:a.AOL_SETTINGS_MIGRATION_INITIATED,...e}),C=e=>({type:a.AOL_SETTINGS_MIGRATION_SUCCEEDED,name:r.Zrf.MIGRATION_STATUS,value:"1",...e}),A=e=>({type:a.AOL_SETTINGS_MIGRATION_FAILED,...e}),T=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_REQUESTED}),I=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_SUCCEEDED}),h=e=>({...e,type:a.ACCOUNT_DETAILS_CHANGE_FAILED}),g=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED}),O=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED}),D=e=>({...e,type:a.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED}),R=e=>({...e,type:a.THEME_MODE_CHANGE_REQUESTED}),N=e=>{const{filters:t,...s}=e;return{type:a.SETTINGS_SAVE_FILTERS_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:t,...s,runV3:!0}},L=e=>({...e,type:a.SETTINGS_ADD_FILTER_REQUESTED}),f=e=>({type:a.REVIEW_FORWARD_EMAIL,...e}),M=e=>({...e,type:a.THEME_CHANGE_SUCCEEDED}),P=e=>({...e,type:a.THEME_MODE_CHANGE_SUCCEEDED}),b=({messageIds:e,isPinned:t,streamId:s,streamItem:i,i13nModel:l})=>(_,E)=>{const{getSetting:u,getMessagesSelectors:m}=(0,n.selectors)(E()),S=(new Date).getTime(),p=u(r.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS),C=e[0],A=m().getConversationId(C);var T;if(p.length>=r.nQQ&&!t)return void _({type:a.PINNED_EMAIL_LIMIT_REACHED,i13nModel:{mKey:d.JE.PINNED_EMAIL_MAX,sec:null!==(T=null==l?void 0:l.sec)&&void 0!==T?T:d.nJ.PINNED_EMAILS_LIST,interactionType:d.Rb.click}});let I,h=a.PINNED_EMAIL_PIN_REQUESTED;const g=p.some((e=>e.startsWith(`${C}${r.Vky}`)));let O,D;if(t)O=p.find((t=>t.indexOf(1===e[0]))),I=c()(p,(e=>-1===e.indexOf(C))),h=a.PINNED_EMAIL_UNPIN_REQUESTED;else{if(g)return void(0,o.Z)(!1,"Attempted to pin a message that was already pinned. This should never happen.");D=`${e[0]}${r.Vky}${A}${r.Vky}${S}`,I=[...p,D]}_({name:r.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS,value:I,type:a.SETTINGS_CHANGE_REQUESTED,sourceAction:h,i13nModel:l}),h===a.PINNED_EMAIL_PIN_REQUESTED?_({type:a.PINNED_EMAIL_PIN_REQUESTED,messageToAddToPinnedList:D,streamId:s,streamItem:i}):_({type:a.PINNED_EMAIL_UNPIN_REQUESTED,messageToRemoveFromPinnedList:O,streamId:s,streamItem:i})},y=e=>(t,s)=>{const{isFeatureEnabled:o,getSetting:i}=(0,n.selectors)(s());if(e.length>0){const s=i(r.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS).filter((t=>{const[s,a]=t.split(r.Vky);return!e.includes(o(r.ANe.CONVERSATIONS)?a:s)}));t({name:r.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS,value:s,type:a.SETTINGS_CHANGE_REQUESTED})}},v=_},1656:(e,t,s)=>{"use strict";s.d(t,{Av:()=>S,Cb:()=>p,J3:()=>d,LY:()=>h,YS:()=>u,aX:()=>E,af:()=>C,dc:()=>l,ft:()=>A,h_:()=>_,ob:()=>i,p:()=>T,pd:()=>o,qL:()=>c,qV:()=>I,sM:()=>m});var a=s(50566),n=s(37422),r=s(92559);const o=(e,t)=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED,listId:e.altListId,response:{[n.F6k.CLOUD_STORAGE_ITEMS]:{[n.ukn.CLOUD_STORAGE_ITEMS]:t}}}),i=(e,t)=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED,listId:e.altListId,err:t}),l=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED}),c=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED}),d=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED}),_=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED}),E=(e={})=>{const t=e.contentProviders&&Object.keys(e.contentProviders).filter((t=>t!==n.hKF.YMAIL&&e.contentProviders[t]&&e.contentProviders[t].isConnected)),s={mKey:r.JE.CONNECTED_PROVIDERS,sec:r.nJ.CONTENT_PROVIDERS,actionData:{providers:t}};return{...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED,i13nModel:null!=t&&t.length?s:{}}},u=e=>({...e,type:a.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED}),m=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED}),S=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED}),p=e=>({...e,type:a.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED}),C=e=>({...e,type:a.CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED}),A=e=>({...e,type:a.ATTACH_FILES_MENU_ITEM_CLICKED}),T=e=>({...e,type:a.CLOUD_STORAGE_ITEM_LINK_ADDED}),I=e=>({...e,type:a.CLOUD_STORAGE_ITEM_PREVIEW_CLICKED}),h=e=>({...e,type:a.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED})},32440:(e,t,s)=>{"use strict";s.d(t,{Cr:()=>y,FU:()=>c,I6:()=>u,Jl:()=>l,Jo:()=>g,L3:()=>b,Lg:()=>f,Lz:()=>I,M5:()=>N,Q0:()=>h,R5:()=>L,Wr:()=>C,bG:()=>p,bU:()=>P,eW:()=>_,gc:()=>m,hP:()=>O,jt:()=>D,kS:()=>R,lN:()=>T,pl:()=>S,qN:()=>A,wy:()=>d,yh:()=>M,zE:()=>E});var a=s(50566),n=s(37422),r=s(92559),o=s(85927);const i=(e,t)=>(s,a)=>{const{csid:i}=t,{isFeatureEnabled:l,isReplyMessage:c,isReplyAllMessage:d,isForwardMessage:_}=(0,o.selectors)(a());let E=r.JE.SEND_MSG,u=r.rO.sendMsg;return c(i)&&(u=r.rO.replyMsg,E=r.JE.MSG_REPLY),d(i)&&(u=r.rO.replyAllMsg,E=r.JE.MSG_REPLY_ALL),_(i)&&(u=r.rO.forwardMsg,E=r.JE.MSG_FORWARD),l(n.ANe.SMART_REPLY)&&(u=r.rO.replyMsg,E=r.JE.MSG_SMART_REPLY),s({...t,type:e,i13nModel:{mKey:E,sec:r.nJ.COMPOSE_MSG,mKeyGroup:u,interactionType:r.Rb.click}})};function l(e){return{...e,type:a.ADD_COMPOSE_HEADER}}function c(e){return{...e,type:a.CLEAR_FORWARDED_ATTACHMENT_IDS}}function d(e){return{...e,type:a.UPDATE_COMPOSE_HEADER_FOCUS}}function _(e){return{...e,type:a.DELETE_COMPOSE_HEADER}}function E(e){return{...e,type:a.V3_MESSAGE_SAVE_REQUESTED}}function u(e){return{...e,forceSync:!0,type:a.SYNC_DATA}}function m(e){return{...e,type:a.V3_MESSAGE_SAVE_SUCCEEDED}}function S(e){return{...e,type:a.V3_MESSAGE_SAVE_FAILED}}function p(e){return{...e,type:a.V3_MESSAGE_SEND_REQUESTED}}function C(e){return i(a.V3_MESSAGE_SEND_SUCCEEDED,e)}function A(e){return i(a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED,e)}function T(e){return{...e,type:a.V3_MESSAGE_SEND_FAILED}}function I(e){return{...e,type:a.RTE_MORE_MENU_SHOWN}}function h(e){return{...e,type:a.HANDLE_RTE_TOOLBAR_ACTIONS}}function g(e){return{...e,type:a.QUOTED_TEXT_EXPANDED}}function O(e){return{...e,type:a.CONTACT_ADDED}}function D(e){return{...e,type:a.CONTACT_DRAG_DROP}}function R(e){return{...e,type:a.UPLOAD_PROGRESS_RECEIVED}}function N(e){return{type:a.ADD_BIG_ATTACHMENT,...e}}const L=e=>(t,s)=>{const{csid:r}=e,{getCurrentListId:i,getDraftStatus:l,getLastEditedTimestampForCompose:c}=(0,o.selectors)(s()),d=i(),_=l({csid:r,lastEditedTimeStamp:c(r)});return t({type:a.DELETE_ITEMS_REQUESTED,...e,listId:d,draftStatus:_,permanent:!0,fromMessageGroupView:!0,destinationFolderType:n.Sck.TRASH,triageActionType:n.Ewo.DELETE_DRAFT})},f=e=>({...e,type:a.TOGGLE_COMPACT_COMPOSE_STATE}),M=e=>({...e,type:a.EDIT_COMPACT_COMPOSE_SUBJECT}),P=e=>({...e,type:a.CLOSE_COMPACT_COMPOSE}),b=e=>({...e,type:a.POP_OUT_COMPOSE}),y=e=>({...e,type:a.SHOW_INVALID_REPLY_TO_ADDRESS_ALERT})},72710:(e,t,s)=>{"use strict";s.r(t),s.d(t,{closeAutotagForCurrentSession:()=>d,closeRelatedContactsForCurrentSession:()=>_,contactSuggestionFailed:()=>c,contactSuggestionRequested:()=>i,contactSuggestionSucceeded:()=>l,deleteContactSuggestionFailed:()=>r,deleteContactSuggestionRequested:()=>n,deleteContactSuggestionSucceeded:()=>o});var a=s(50566);const n=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_REQUESTED,...e}),r=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_FAILED,...e}),o=e=>({type:a.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED,...e}),i=e=>({type:a.CONTACT_SUGGESTIONS_REQUESTED,...e}),l=e=>({type:a.CONTACT_SUGGESTIONS_SUCCEEDED,...e}),c=e=>({type:a.CONTACT_SUGGESTIONS_FAILED,...e}),d=e=>({type:a.AUTOTAG_DROPDOWN_CLOSED,...e}),_=e=>({type:a.RELATED_CONTACTS_CLOSED,...e})},30426:(e,t,s)=>{"use strict";s.d(t,{AU:()=>N,FT:()=>g,HQ:()=>R,Im:()=>O,JC:()=>D,KI:()=>o,LF:()=>p,Np:()=>c,QU:()=>T,Qx:()=>u,Vj:()=>_,XF:()=>y,XQ:()=>h,Yo:()=>C,c6:()=>r,cj:()=>S,hV:()=>E,iC:()=>l,kl:()=>A,lB:()=>P,ll:()=>d,nW:()=>f,oF:()=>L,ow:()=>i,r:()=>b,rg:()=>I,uy:()=>M,v2:()=>n,zh:()=>m});var a=s(50566);const n=e=>({type:a.IMPORTANT_CONTACTS_FETCH_SUCCEEDED,...e}),r=e=>({type:a.IMPORTANT_CONTACTS_FETCH_FAILED,...e}),o=e=>({type:a.CONTACT_DETAIL_FETCH_REQUESTED,...e}),i=e=>({type:a.CONTACT_DETAIL_FETCH_SUCCEEDED,...e}),l=e=>({type:a.CONTACT_DETAIL_FETCH_FAILED,...e}),c=e=>({type:a.CONTACTS_GROUP_FETCH_SUCCEEDED,...e}),d=e=>({type:a.CONTACTS_GROUP_FETCH_FAILED,...e}),_=e=>({type:a.CONTACTS_LIST_FETCH_SUCCEEDED,...e}),E=e=>({type:a.CONTACTS_LIST_FETCH_FAILED,...e}),u=e=>({type:a.DELETE_CONTACT_SUCCEEDED,...e}),m=e=>({type:a.DELETE_CONTACT_FAILED,...e}),S=e=>({type:a.CONTACTS_GROUP_DELETE_SUCCEEDED,...e}),p=e=>({type:a.CONTACTS_GROUP_DELETE_FAILED,...e}),C=e=>({type:a.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED,...e}),A=e=>({type:a.CONTACTS_PANE_SAVE_GROUP_FAILED,...e}),T=e=>({type:a.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED,...e}),I=e=>({type:a.CONTACTS_PANE_CREATE_GROUP_FAILED,...e}),h=e=>({type:a.ADD_TO_CONTACTS,...e});function g(e){return{type:a.EDIT_CONTACT_FROM_CARD,...e}}const O=e=>({...e,type:a.CONTACTS_RESTORE_CLICKED}),D=e=>({...e,type:a.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED}),R=e=>({...e,type:a.CONTACTS_SNAPSHOT_FETCH_FAILED}),N=e=>({...e,type:a.CONTACTS_RESTORE_REQUESTED}),L=e=>({...e,type:a.CONTACTS_RESTORE_SUCCEEDED}),f=e=>({...e,type:a.CONTACTS_RESTORE_FAILED}),M=e=>({...e,type:a.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY}),P=e=>({...e,type:a.CONTACTS_CSV_IMPORT_FAILED}),b=e=>({...e,type:a.CONTACTS_CSV_IMPORT_SIZE_FAILED}),y=e=>({...e,type:a.CONTACTS_CSV_IMPORT_REQUESTED})},91742:(e,t,s)=>{"use strict";s.d(t,{$9:()=>p,AQ:()=>b,CL:()=>H,Dg:()=>X,E9:()=>g,Ew:()=>G,GJ:()=>Z,GK:()=>f,Ks:()=>W,LB:()=>h,LS:()=>w,LY:()=>A,Ni:()=>E,Qx:()=>R,RT:()=>u,Vn:()=>I,Y_:()=>j,Ym:()=>m,ZF:()=>O,aB:()=>K,bw:()=>y,ek:()=>L,gK:()=>V,hB:()=>z,i:()=>x,iE:()=>q,lY:()=>v,lf:()=>S,m1:()=>F,mM:()=>M,pC:()=>U,q$:()=>Y,q7:()=>N,rU:()=>k,sS:()=>D,tb:()=>T,vc:()=>B,wg:()=>P,yf:()=>C});var a=s(37422),n=s(50566),r=s(31057),o=s(3405),i=s(92559),l=s(78737),c=s(17016),d=s(73498),_=s(85927);const E=e=>({...e,type:n.CONTACTS_FULL_PANE_OPENED}),u=e=>(t,s)=>{const{getDefaultFolderRoute:a,getDefaultFolderIdForSelectedAccount:r}=(0,_.selectors)(s());return t({...e,route:a(r()),type:n.OPEN_PAGE_REQUESTED})},m=e=>({...e,type:n.CONTACTS_FULL_PANE_CONTRACTED,name:a.Qk$.CONTACTS_PANE}),S=(e={})=>(0,l.Ch)({route:(0,o.IX)({keepContext:"1"}),...e}),p=e=>({...e,type:n.RIGHT_RAIL_COMMS_ICON_CLICKED,name:a.Qk$.CONTACTS_PANE}),C=e=>({...e,name:a.Qk$.CONTACTS_PANE}),A=({listFilter:e,...t})=>({...t,listFilter:e,type:n.CONTACTS_PANE_LIST_FILTER_CHANGED}),T=e=>({...e,type:n.CONTACTS_SORT_ORDER_CHANGED}),I=e=>({...e,type:n.CONTACTS_CATEGORY_FILTER_CHANGED}),h=e=>({...e,type:n.CATEGORY_LIST_EXPANSION_TOGGLED}),g=({event:e,payload:t,listId:s,i13nSection:a})=>{const o=(0,r.C4)(s);return(e=>({...e,type:n.CONTACTS_PANE_CONTACT_CLICKED}))({...t,i13nModel:{mKey:i.JE.OPEN_CONTACT,sec:a||d.XY[o]||i.nJ.CONTACTS_PANE,interactionType:(0,c.getInteractionFromEvent)(e)}})},O=e=>({...e,type:n.CONTACTS_PANE_SAVE_GROUP_REQUESTED}),D=e=>({...e,type:n.CONTACTS_PANE_CREATE_GROUP_REQUESTED}),R=e=>({...e,type:n.CONTACTS_PANE_BACK_BUTTON_CLICKED}),N=e=>({...e,type:n.CONTACTS_PANE_EDIT_BUTTON_CLICKED}),L=e=>({...e,type:n.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED}),f=({streamItems:e=[],streamItem:t,...s}={})=>({...s,streamItem:t,streamItems:e,type:n.DELETE_CONTACT_REQUESTED}),M=e=>({...e,type:n.CONTACT_EDIT_CANCELLED}),P=({keyword:e,...t})=>({...t,keyword:e,listId:(0,r.j_)(e),type:n.CONTACTS_PANE_SEARCHED}),b=e=>({...e,type:n.CONTACT_SEARCH_CLOSED}),y=e=>({type:n.CONTACT_CREATE_CLICKED,...e}),v=(e={})=>{const{smtp:t,name:s,sectionValue:a}=e;return(0,l.k1)({route:(0,o.jq)({emailAddresses:t,name:s||t}),i13nModel:{interactionType:i.Rb.click,mKey:i.JE.CONTACT_SEARCH,sec:a||i.nJ.RIGHT_RAIL,mKeyGroup:i.rO.search}})},F=e=>({...e,type:n.CONTACTS_PANE_EDIT_GROUP}),U=e=>({...e,type:n.CONTACTS_PANE_GROUP_CHANGED}),k=e=>({...e,type:n.EXPORT_ALL_CONTACTS_REQUESTED}),w=e=>(0,l.Ch)({route:(0,o.Tx)({settingsGroupId:a.u5h.CONTACTS}),...e}),G=e=>({...e,type:n.PRINT_ALL_CONTACTS_REQUESTED}),H=e=>({...e,type:n.FETCH_ALL_CONTACTS}),B=e=>({...e,type:n.FETCH_ALL_CONTACTS_SUCCESS}),x=e=>({...e,type:n.FETCH_ALL_CONTACTS_FAILED}),V=e=>({type:n.CONTACT_SAVE_REQUESTED,...e}),Z=e=>({type:n.CONTACT_SAVE_SUCCEEDED,...e}),W=e=>({type:n.CONTACT_SAVE_FAILED,...e}),K=e=>({type:n.CONTACT_PHOTO_UPLOAD_SUCCEEDED,...e}),z=e=>({type:n.CONTACT_PHOTO_UPLOAD_FAILED,...e}),Y=e=>({type:n.CREATE_CONTACT_SUCCEEDED,...e}),j=e=>({type:n.CREATE_CONTACT_FAILED,...e}),q=e=>({type:n.CONTACTS_GROUP_DELETE_REQUESTED,...e}),X=e=>({type:n.CONTACTS_GROUP_EDIT_EMAIL_SEARCH,...e})},17591:(e,t,s)=>{"use strict";s.d(t,{Ai:()=>_,Oz:()=>d,V3:()=>p,Wf:()=>m,a6:()=>I,eu:()=>S,is:()=>A,lX:()=>C,og:()=>h,rz:()=>E,sv:()=>T,uv:()=>u,wu:()=>g});var a=s(37422),n=s(50566),r=s(31057),o=s(85927);const i=(e=!0)=>({cardMid:t,...s})=>(i,l)=>{const{getSelectedAccountId:c,isFeatureEnabled:d}=(0,o.selectors)(l()),_=c(),E=d(a.ANe.DEALS_VIEW_FOR_INTLS)?[a.Sck.TRASH,a.Sck.BULK]:[],u=(0,r.tE)("{}",{listContentType:a.F6k.COUPON_CARDS,listFilter:e?a.ukn.SAVED_COUPON_CARDS:a.ukn.ALL_COUPON_CARDS,accountIds:[_],excludefolders:E,referrer:a.qd8[a.K8C.COUPONS]});i({type:e?n.COUPONS_ADD_TAG_DECO_REQUESTED:n.COUPONS_REMOVE_TAG_DECO_REQUESTED,listId:u,streamId:u,messageDecosPayloads:[{messageId:t}],messageId:t,schemaCard:{id:t,type:a.rgK.Coupon,saved:e},accountId:_,cardMid:t,...s})},l=e=>t=>({type:e,...t}),c=e=>t=>({type:e,error:t}),d=(e={})=>i(!0)(e),_=(e={})=>i(!1)(e),E=()=>({type:n.VIGLINK_CLICKED}),u=()=>({type:n.COUPON_RECOMMENDATIONS_OPENED}),m=(e="")=>({type:n.COUPON_RECOMMENDATIONS_CLOSED,listId:(0,r.H7)({referrer:a.qd8.COUPON_RECOMMENDATIONS,keyword:e})}),S=(e={})=>l(n.EXTRACT_COUPON_SUCCEEDED)(e),p=e=>c(n.EXTRACT_COUPON_FAILED)(e),C=e=>({type:n.PARENT_MESSAGE_METADATA_REQUESTED,cardConversationId:e}),A=e=>({...e,type:n.PARENT_MESSAGE_METADATA_SUCCEEDED}),T=e=>({error:e,type:n.PARENT_MESSAGE_METADATA_FAILED}),I=(e={})=>({type:n.DEALS_VIEW_EXPANSION_TOGGLED,...e}),h=({i13nModel:e})=>({type:n.DEALS_SHOPPING_CART_AD_CLICKED,i13nModel:e}),g=({i13nModel:e})=>({type:n.DEALS_SHOPPING_CART_AD_RENDERED,i13nModel:e})},79159:(e,t,s)=>{"use strict";s.d(t,{CV:()=>l,Ht:()=>d,xF:()=>c});var a=s(50566),n=s(37422),r=s(85927),o=s(30982),i=s(31057);const l=e=>(t,s)=>{const{isFeatureEnabled:l,getSelectedStreamItems:c}=(0,r.selectors)(s());if(l(n.ANe.PINNED_EMAILS)){let s=e.streamItem?[e.streamItem]:c(null==e?void 0:e.streamId);s=s.filter((({listId:e})=>e===(0,i.uW)())).map((({id:e})=>e)),s&&t((0,o.j4)(s))}t({...e,destinationFolderType:n.Sck.TRASH,type:a.DELETE_ITEMS_REQUESTED})},c=e=>({type:a.DELETE_PREVIEW_REQUESTED,...e}),d=e=>({type:a.DELETE_PREVIEW_CLOSED,...e})},57438:(e,t,s)=>{"use strict";s.d(t,{Fd:()=>_,Fn:()=>d,Lp:()=>l,Re:()=>r,cm:()=>o,u3:()=>E,vA:()=>i,wq:()=>n,xp:()=>c});var a=s(50566);const n=()=>({type:a.VIDEO_PLAYER_CLOSED}),r=()=>({type:a.VIDEO_PLAYER_OPENED}),o=({payload:e})=>({type:a.VIDEO_CHANNELS_METADATA_RECEIVED,payload:e}),i=({error:e})=>({type:a.VIDEO_CHANNELS_METADATA_FAILED,error:e}),l=e=>({type:a.VIDEO_CHANNEL_RECEIVED,...e}),c=e=>({type:a.VIDEO_CHANNEL_FAILED,...e}),d=()=>({type:a.VIDEO_PLAYER_PLAYED}),_=()=>({type:a.VIDEO_PLAYER_PAUSED}),E=e=>({type:a.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL,...e})},5156:(e,t,s)=>{"use strict";s.d(t,{Cz:()=>d,Jd:()=>l,Ts:()=>_,a7:()=>E,f7:()=>o,hN:()=>r,oe:()=>c,tF:()=>i});var a=s(50566),n=s(37422);const r=e=>({type:"click"===e.userAction?a.FEATURE_TRY_NOW_REQUESTED:a.FEATURE_CLOSED,...e}),o=e=>({type:a.PAC_CUE_MARK_AS_SHOWN_REQUESTED,...e}),i=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED,...e}),l=e=>({type:a.FEATURE_CUE_NOTIFICATION_CLOSED,...e}),c=e=>"click"===e.userAction?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e},d=({userAction:e,error:t})=>"click"===e?{type:a.FEATURE_CUE_MARK_AS_SUCCESS_FAILED,error:t}:{type:a.FEATURE_CUE_MARK_AS_CLOSE_FAILED,error:t},_=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,name:n.Zrf.SCOUT_ONBOARDING,...e}),E=e=>({type:a.FEATURE_CUE_MARK_AS_SHOWN_FAILED,error:e.error,feature:e.feature})},18380:(e,t,s)=>{"use strict";s.d(t,{Go:()=>S,J1:()=>E,Me:()=>C,VG:()=>_,Yf:()=>d,_r:()=>m,aU:()=>l,oM:()=>u,p0:()=>c,vx:()=>p,zX:()=>i});var a=s(50566),n=s(85927),r=s(37422),o=s(55636);const i=({folder:e})=>({folder:e,type:a.CREATE_FOLDER_SUCCEEDED}),l=({error:e,folderName:t})=>({folderName:t,error:e,type:a.CREATE_FOLDER_FAILED}),c=({folderId:e,folderName:t,i13nModel:s={}})=>(i,l)=>{const{getFolderName:c,getFeaturesSelectors:d,getFolderFullName:_}=(0,n.selectors)(l()),E=c(e),u=t.substr(t.lastIndexOf("/")+1),m=_(e),S=m.replace(RegExp((0,o.hr)(E)+"$"),u),p=d().getSetting(r.Zrf.MESSAGE_FILTERS).map((e=>A(e,m,S)));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:E,newFolderName:u,filters:p,type:a.RENAME_FOLDER_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:p})},d=({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r=[]})=>({newFolderName:e,folderId:t,originalFolderName:s,folder:n,subfolders:r,type:a.RENAME_FOLDER_SUCCEEDED}),_=({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r})=>({folderId:e,newFolderName:t,originalFolderName:s,filters:n,error:r,type:a.RENAME_FOLDER_FAILED}),E=({folderId:e,folderName:t,i13nModel:s={}})=>(i,l)=>{const{getFolderName:c,getFeaturesSelectors:d,getFolderFullName:_}=(0,n.selectors)(l()),E=c(e),u=t.substr(t.lastIndexOf("/")+1),m=_(e),S=m.replace(RegExp((0,o.hr)(E)+"$"),u),p=d().getSetting(r.Zrf.MESSAGE_FILTERS).map((e=>A(e,m,S)));return i({folderId:e,folderName:t,i13nModel:s,originalFolderName:E,filters:p,type:a.MOVE_FOLDER_REQUESTED,name:r.Zrf.MESSAGE_FILTERS,value:p})},u=({folderId:e,originalFolderName:t,folder:s,subfolders:n=[]})=>({folderId:e,originalFolderName:t,folder:s,subfolders:n,type:a.MOVE_FOLDER_SUCCEEDED}),m=({folderId:e,originalFolderName:t,filters:s,error:n})=>({folderId:e,originalFolderName:t,filters:s,error:n,type:a.MOVE_FOLDER_FAILED}),S=({folderId:e,folderName:t,i13nModel:s={}})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_REQUESTED}),p=({folderId:e,folderName:t,i13nModel:s})=>({folderId:e,folderName:t,i13nModel:s,type:a.DELETE_FOLDER_SUCCEEDED}),C=({folderId:e,folderName:t,error:s})=>({folderId:e,folderName:t,error:s,type:a.DELETE_FOLDER_FAILED});function A(e,t,s){return{...e,actions:e.actions.map((e=>{const{value:{folderActionValueBean:{folder:{name:a}}}}=e;if(a!==t)return e;const n={...e};return n.value.folderActionValueBean.folder.name=s,n}))}}},88071:(e,t,s)=>{"use strict";s.d(t,{$B:()=>d,Dt:()=>i,Pi:()=>l,by:()=>r,gD:()=>o,ip:()=>c});var a=s(50566),n=s(37422);function r({altListId:e,query:t,id:s},r){return{type:a.GIF_FETCH_SUCCEEDED,listId:e,response:{[n.F6k.GIFS]:{[n.ukn.GIFS]:r}},query:t,id:s}}function o({altListId:e,query:t,id:s},n){return{type:a.GIF_FETCH_FAILED,err:n,listId:e,query:t,id:s}}function i(e){return{...e,type:a.GIF_FETCH_REQUESTED}}function l(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED}}function c(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_FAILED}}function d(e){return{...e,type:a.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED}}},30532:(e,t,s)=>{"use strict";s.d(t,{E3:()=>o,Lo:()=>r,c5:()=>i});var a=s(50566),n=s(55831);const r=e=>({type:a.LAUNCH_PAGE_REQUESTED,...e}),o=({initialMailboxAttributes:e={},mailboxAttributes:t={},...s})=>{s.mailboxes&&(s.selectedMailbox=(0,n.Lq)(s.mailboxes));const{responses:r={},success:o}=t,i={responses:Object.assign(r,e),success:o};return{type:a.INITIAL_STATE,mailboxAttributes:i,...s}},i=({error:e})=>({type:a.LAUNCH_ERROR,error:e})},40564:(e,t,s)=>{"use strict";s.d(t,{Eq:()=>E,HZ:()=>i,LW:()=>l,ND:()=>r,Rx:()=>n,bL:()=>c,qP:()=>o,r0:()=>_,y7:()=>d});var a=s(50566);function n(e){return{type:a.LINK_ENHANCER_FETCH_REQUESTED,...e}}function r(e){return{type:a.LINK_ENHANCER_FETCH_SUCCEEDED,...e}}function o(e){return{type:a.LINK_ENHANCER_FETCH_FAILED,...e}}function i(e){return{type:a.LINK_ENHANCER_ADD_LINK,...e}}function l(e){return{type:a.LINK_ENHANCER_RESIZE_LINK,...e}}function c(e){return{type:a.LINK_ENHANCER_REMOVE_LINK,...e}}function d(e){return{type:a.LINK_ENHANCER_SHARE_LINK,...e}}function _(e){return{type:a.LINK_ENHANCER_MOVE_LINK_BOTTOM,...e}}function E(e){return{type:a.LINK_ENHANCER_MOVE_LINK_INLINE,...e}}},41958:(e,t,s)=>{"use strict";s.d(t,{Iu:()=>c,Qn:()=>_,RP:()=>u,Rr:()=>E,XQ:()=>l,Z$:()=>i,ZP:()=>m,az:()=>d,tl:()=>o});var a=s(50566),n=s(31057),r=s(37422);const o=e=>({type:a.MORE_MESSAGES_REQUEST_SUCCESS,...e}),i=e=>({type:a.MORE_RECEIPTS_SUCCESS,...e}),l=e=>({type:a.MORE_TRAVEL_ITEMS_SUCCEEDED,...e}),c=e=>({type:a.MORE_MESSAGES_REQUEST_FAILED,...e}),d=e=>({type:a.MORE_RECEIPTS_REQUEST_FAILED,...e}),_=e=>({type:a.MORE_TRAVEL_ITEMS_FAILED,...e}),E=e=>({type:a.MORE_SEARCH_LIST_ITEMS_RECEIVED,...e}),u=e=>({type:a.MORE_SEARCH_LIST_ITEMS_FAILED,...e}),m=e=>{switch((0,n.WN)(e.listId)){case r.F6k.SENDERS:return{type:a.MORE_SENDER_ROLLUP_REQUESTED,...e};case r.F6k.COUPON_CARDS:return{type:a.MORE_COUPONS_REQUESTED,...e};case r.F6k.REFUND_CARDS:return{type:a.MORE_RECEIPTS_REQUESTED,...e};default:return{type:a.MORE_ITEMS_REQUESTED,...e}}}},12550:(e,t,s)=>{"use strict";s.d(t,{UL:()=>o,ci:()=>i,rY:()=>l});var a=s(50566),n=s(85927),r=s(37422);const o=e=>(t,s)=>{const{getLocationSuggestionSelectors:o}=(0,n.selectors)(s()),{keyword:i,product:l}=e.query;if(o().getLocationSuggestionStatus(i,l)===r.DAQ.DOES_NOT_EXIST)return t({type:a.LOCATION_SUGGEST_REQUESTED,...e})},i=e=>({type:a.LOCATION_SUGGEST_SUCCEEDED,...e}),l=e=>({type:a.LOCATION_SUGGEST_FAILED,...e})},59959:(e,t,s)=>{"use strict";s.d(t,{hC:()=>_,HM:()=>u,BB:()=>E,co:()=>C,t3:()=>A,Am:()=>m,Oc:()=>S,oi:()=>p});var a=s(50566),n=s(3405),r=s(37422),o=s(78737),i=s(85927),l=s(92559),c=s(17016);var d=s(30982);const _=e=>({type:a.CLOSE_MAIL_PLUS_FEATURE_UPSELL,...e}),E=(e={})=>(0,o.Ch)({route:(0,n.Tx)({settingsGroupId:r.u5h.MAIL_PLUS}),...e}),u=e=>({type:a.DEAL_CARD_GROUP_SHOWN,...e}),m=e=>({type:a.MAIL_PLUS_FEATURE_REQUESTED,...e}),S=e=>({type:a.TOGGLE_DEAL_RECOMMENDATION_PREVIEW,...e}),p=()=>(e,t)=>{const{getMailPremiumFreeTrialSelectors:s,getSetting:a}=(0,i.selectors)(t()),{getDealsRecommendationsPreview:n}=s(),{value:o}=n(),c=a(r.Zrf.DISABLED_MESSAGE_READ_CARDS),_=Array.isArray(c)&&-1===c.indexOf(r.ANe.DEAL_RECOMMENDATIONS_ENABLED);if(void 0!==o&&_!==o)return(0,d.Uw)({name:r.ANe.DEAL_RECOMMENDATIONS_ENABLED,value:o,i13nModel:{mKey:`cue_${r.ANe.DEALS_RECOMMEND_CONTROL_CUE}_update_setting`,sec:l.nJ.DEALS_RECOMMEND_CONTROL,interactionType:l.Rb.click,actionData:{value:o}}})(e,t)},C=(e,t)=>(s,o)=>{const{isFeatureEnabled:_,isMobileRoute:E}=(0,i.selectors)(o()),u=_(r.ANe.MAIL_PLUS),m=_(r.ANe.MAIL_PLUS_ELIGIBLE),S=E();if(m&&!u){const o={mKey:l.JE.MERCHANT_CARD_HIDE_DEALS,sec:t,interactionType:(0,c.getInteractionFromEvent)(e)};return s(S?{type:a.OPEN_PAGE_REQUESTED,route:(0,n.gN)(),plusFeatureRequested:r.ANe.HIDE_DEALS_ENABLED}:{type:a.MAIL_PLUS_FEATURE_REQUESTED,i13nModel:o,plusFeatureRequested:r.ANe.HIDE_DEALS_ENABLED})}if(u){const a=_(r.ANe.DEAL_RECOMMENDATIONS_ENABLED),n=((e,t,s)=>({name:r.ANe.DEAL_RECOMMENDATIONS_ENABLED,value:!t,i13nModel:{mKey:t?l.JE.SETTINGS_DEAL_RECO_TOGGLE_DISABLED:l.JE.SETTING_DEAL_RECO_TOGGLE_ENABLED,sec:s||l.nJ.SETTINGS_VIEWING_EMAIL_TAB,interactionType:(0,c.getInteractionFromEvent)(e)}}))(e,a,t);return(0,d.Uw)(n)(s,o)}},A=({event:e,plusFeatureRequested:t})=>(s,d)=>{const{getBlockedDomainsUsageAndLimit:_,getDEAUsageAndLimit:E,getPrimaryAccountId:u}=(0,i.selectors)(d()),m=u(),S=l.nJ.SETTINGS_MAIL_PLUS_TAB,p=(t,r,i,l)=>t&&t.limit>0&&t.usage>=t.limit?s({type:a.MAIL_PLUS_FEATURE_REQUESTED,i13nModel:{mKey:l,sec:S,interactionType:(0,c.getInteractionFromEvent)(e)},plusFeatureRequested:r}):s((0,o.Ch)({route:(0,n.Tx)({settingsGroupId:i,primaryAccountID:m}),i13nModel:{mKey:l,sec:S,interactionType:(0,c.getInteractionFromEvent)(e)}}));switch(t){case r.ANe.PREMIUM_DEA:return p(E(),r.ANe.PREMIUM_DEA,r.u5h.ACCOUNTS,l.JE.DEA_MAIL_PLUS_SETTINGS);case r.ANe.BLOCKED_DOMAINS:return p(_(),r.ANe.BLOCKED_DOMAINS,r.u5h.SECURITY_AND_PRIVACY,l.JE.DOMAIN_BLOCK_MAIL_PLUS_SETTINGS);case r.ANe.COMPACT_COMPOSE:return p(null,r.ANe.COMPACT_COMPOSE,r.u5h.WRITING_EMAIL,l.JE.COMPACT_COMPOSE_MAIL_PLUS_SETTINGS);case r.ANe.AUTO_FORWARD_EMAIL:return p(null,r.ANe.AUTO_FORWARD_EMAIL,r.u5h.ACCOUNTS,l.JE.AUTO_FORWARD_NOTIFICATION_MAIL_PLUS_SETTINGS);case r.ANe.HIDE_DEALS_ELIGIBLE:return p(null,r.ANe.HIDE_DEALS_ELIGIBLE,r.u5h.VIEWING_EMAIL,l.JE.HIDE_DEAL_MAIL_PLUS_SETTINGS)}}},24947:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(50566);const n=e=>({type:a.PURCHASE_MAILPRO_FREE_TRIAL,...e})},38346:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var a=s(50566),n=s(85927),r=s(37422),o=s(3405),i=s(78737);const l=e=>(t,s)=>{const{getAppName:l}=(0,n.selectors)(s());l()===r.BQZ.MAILBOXES_APP&&t((0,i.Ch)({route:(0,o.tf)({email:e.newAccount.email||""})})),t({...e,type:a.ACCOUNT_ADD_REQUESTED})}},36850:(e,t,s)=>{"use strict";s.d(t,{I4:()=>i,Yr:()=>r,_L:()=>o,wd:()=>n});var a=s(50566);const n=e=>({...e,type:a.UNSUBSCRIBE_MARKETING_PREFERENCES}),r=e=>({...e,type:a.SUBSCRIBE_MARKETING_PREFERENCES}),o=e=>({...e,type:a.MARKETING_PREFERENCES_WRITE_SUCCEEDED}),i=e=>({...e,type:a.MARKETING_PREFERENCES_WRITE_FAILED})},14196:(e,t,s)=>{"use strict";s.d(t,{BE:()=>m,Bz:()=>p,Cz:()=>b,D1:()=>u,DT:()=>D,EM:()=>P,Hy:()=>S,Ju:()=>U,MR:()=>y,P8:()=>A,Qj:()=>N,So:()=>R,Ty:()=>h,X6:()=>I,Zp:()=>O,cS:()=>L,fP:()=>E,fV:()=>f,h2:()=>M,hk:()=>g,pc:()=>T,uq:()=>C,x4:()=>v,zI:()=>F});var a=s(50566),n=s(85927),r=s(37422),o=s(17016),i=s(92559),l=s(78737),c=s(87367),d=s(31057),_=s(8106);const E=e=>({type:a.PREVIEW_MESSAGE_REQUESTED,...e}),u=e=>({type:a.FETCH_RAW_MESSAGE,...e}),m=e=>({type:a.FETCH_RAW_MESSAGE_SUCCEEDED,...e}),S=e=>({type:a.FETCH_RAW_MESSAGE_FAILED,...e});function p(e){return{type:a.MESSAGE_BODIES_RECEIVED,...e}}function C(e){return{type:a.MESSAGE_BODIES_FAILED,...e}}function A(e){return{type:a.MESSAGE_GROUP_WITH_BODIES_RECEIVED,...e}}function T(e){return{type:a.MESSAGE_GROUP_WITH_BODIES_FAILED,...e}}const I=e=>t=>{const{itemsToUpdate:s}=e,n=s.length?s[s.length-1]:void 0;return t({...e,streamItem:{listId:n.listId,id:n.messageId},type:a.MESSAGE_CARD_EXPANSION_CHANGED})},h=e=>(t,s)=>{const{listId:r,streamId:o,messageGroupId:i,expansionState:l}=e,{getMessageGroupStreamItems:c,doesStreamExist:d,getCursorItem:_}=(0,n.selectors)(s()),E=d(o)?_(o):void 0,u=i?{id:i,listId:r}:E;if(!u)return;return t({itemsToUpdate:c(u).map((e=>({...e,expansionState:l}))),type:a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED})};function g(e){return{type:a.RIGHT_RAIL_IC_DEALS_FAILED,...e}}function O(e){return{type:a.RIGHT_RAIL_IC_DEALS_RECEIVED,...e}}function D(e){return{type:a.RIGHT_RAIL_IC_PRODUCTS_FAILED,...e}}function R(e){return{type:a.RIGHT_RAIL_IC_PRODUCTS_RECEIVED,...e}}const N=e=>({type:a.MESSAGE_PRINT_CANCELED,...e}),L=e=>({type:a.MESSAGE_PRINT_SUCCEEDED,...e}),f=e=>({type:a.MESSAGE_PRINT_CLOSED,...e}),M=({i13nModel:e,streamId:t,composeMode:s,listId:i,triggeredFromContextMenu:l=!1,triggeredFromMessageToolbar:c=!1,streamItem:d})=>(_,E)=>{const{__getLastNonDraftMessageIdByGroupId:u,__getMessageWithFlagsAndFolderId:m,doesMessageBodyExist:S,findReplyForwardCsidsOfMessage:p,getMessageBodiesSelectors:C,getDraftMessageId:A,isSent:T,isFeatureEnabled:I,doesStreamExist:h,getCursorItem:g,isSpamMessage:O}=(0,n.selectors)(E()),D=h(t)?g(t):void 0,R=d||D;if(!R)return;const N=u(R.id),L=m(N),f=I(r.ANe.CONVERSATIONS),M=(p(N)||[]).filter((e=>!A(e)&&!T(e))),P=M.length?M[0]:(0,o.generateUID)(),{get:b}=C(),y=!I(r.Zrf.SHOW_IMAGES)||O(N);return _({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:P,listId:i,composeMode:s,messageGroupId:R.id,conversationsMode:f,streamId:t,groupId:R.id,messageId:N,triggeredFromContextMenu:l,triggeredFromMessageToolbar:c,secure:y,full:!0,message:Object.assign({},L,{id:N,body:S(N)?b(N):void 0})})},P=({i13nModel:e,streamId:t,composeMode:s,listId:i,messageGroupId:l,messageId:c})=>(d,_)=>{const{__getMessageWithFlagsAndFolderId:E,doesMessageBodyExist:u,findReplyForwardCsidsOfMessage:m,getMessageBodiesSelectors:S,getDraftMessageId:p,isSent:C,isFeatureEnabled:A,isSpamMessage:T}=(0,n.selectors)(_()),I=E(c),h=A(r.ANe.CONVERSATIONS),g=(m(c)||[]).filter((e=>!p(e)&&!C(e))),O=g.length?g[0]:(0,o.generateUID)(),{get:D}=S(),R=!A(r.Zrf.SHOW_IMAGES)||T(c);return d({type:a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,i13nModel:e,csid:O,listId:i,composeMode:s,messageGroupId:l,conversationsMode:h,streamId:t,groupId:l,messageId:c,secure:R,full:!0,message:Object.assign({},I,{id:c,body:u(c)?D(c):void 0})})},b=({i13nModel:e,messageGroupId:t,message:s})=>(o,i)=>{const{getCurrentListId:l,isFeatureEnabled:c,isSpamMessage:d}=(0,n.selectors)(i()),_=l(),E=s.id||s.messageId,u=!c(r.Zrf.SHOW_IMAGES)||d(E);return o({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:e,messageGroupId:t,mId:E,listId:_,messageId:E,full:!0,secure:u})},y=({streamId:e,listId:t,groupId:s,i13nModel:o})=>(i,l)=>{const{doesStreamExist:c,getSelectedStreamItems:d,getCursorItem:_,isFeatureEnabled:E,__getLastNonDraftMessageIdByGroupId:u,isSpamMessage:m}=(0,n.selectors)(l()),S=c(e)?d(e):[],p=c(e)?_(e):void 0;let C;if(s)C=s;else if(S.length>0)C=S[0].id;else{if(!p)return;C=p.id}const A=u(C),T=!E(r.Zrf.SHOW_IMAGES)||m(A);if(A)return i({type:a.MESSAGE_PRINT_REQUESTED,i13nModel:o,messageGroupId:C,mId:A,listId:t,messageId:A,full:!0,secure:T})},v=({listId:e,streamId:t,messageRoute:s,groupId:o,senders:u=[],i13nModel:m={},uiContext:S})=>(p,C)=>{const{getSetting:A,isFeatureEnabled:T,isStorefrontRoute:I,getFoldersSelectors:h,getMailActionFirstEmailOpened:g}=(0,n.selectors)(C()),O=I()?r.EsZ.NO:A(r.Zrf.PREVIEW_PANE),D=T(r.ANe.GEMINI_CONTEXTUAL_ADS),R=h().isInboxFolder((0,d.Fh)(e)),N=g();if(R&&!N){var L;const e=(0,_.jU)()&&(null===(L=window.AppBootstrapData)||void 0===L?void 0:L.launchTime),t=Date.now()-e;m.actionData||(m.actionData={}),m.actionData.TTO=t,p((f=!1,{type:a.OPEN_FIRST_EMAIL,payload:f}))}var f;const M={mKey:i.JE.OPEN_MSG,sec:i.nJ.MSG_LIST_MSG,mKeyGroup:i.rO.openMsg,...m};return O===r.EsZ.NO?p((0,l.Ch)({route:s,streamItem:{listId:e,id:o},i13nModel:{...M},...S&&{uiContext:S}})):p(E({listId:e,itemId:o,streamId:t,streamItem:{listId:e,id:o},i13nModel:{...M},...S&&{uiContext:S},geminiCategories:D?(0,c.a7)(u):null}))},F=({decos:e,linkTarget:t,messageId:s,message:n})=>{const r=t.getAttribute("href");let o=t.innerText||"";for(let a=0;a<t.childElementCount;a++)if("IMG"===t.children[a].tagName&&t.children[a].alt){o=t.children[a].alt;break}if(o=o.trim().slice(0,256),t.hasAttribute("class")&&-1!==t.getAttribute("class").indexOf("yahoo-enhancr-cardlink")){const e=t.parentNode&&t.parentNode.hasAttribute("data-size")?t.parentNode.getAttribute("data-size").toUpperCase():"";return{type:a.LINK_ENHANCER_OPEN_LINK,message:n,messageId:s,i13nModel:{mKey:i.JE.LINK_ENHANCER_OPEN_LINK,sec:i.nJ.MSG_BODY,mKeyGroup:i.rO.clickMsgLink,actionData:{mHref:r,size:e,linkText:o}}}}return{type:a.MESSAGE_BODY_LINK_CLICKED,message:n,messageId:s,i13nModel:{mKey:i.JE.OPEN_LINK,sec:i.nJ.MSG_BODY,mKeyGroup:i.rO.clickMsgLink,actionData:{decos:e,mHref:r,linkText:o}}}},U=({listId:e,card:t})=>{const{messageId:s,csid:n,streamId:o,folderType:i}=t,l={id:s||n,listId:(0,d.tE)(e,{listContentType:i===r.Sck.DRAFT?r.F6k.COMPOSE:r.F6k.MESSAGE})};return{type:a.MESSAGE_CARD_FOCUSED,streamId:o,streamItem:l,card:t}}},85458:(e,t,s)=>{"use strict";s.d(t,{B6:()=>_,IU:()=>C,Ke:()=>S,nh:()=>p,nw:()=>m,x0:()=>E,xN:()=>u});var a=s(37422),n=s(50566),r=s(31057),o=s(3405),i=s(85927),l=s(62594),c=s(24893),d=s(30982);const _=e=>(t,s)=>{const o=(0,l.Z)(s()),{isFeatureEnabled:_,getSelectedStreamItems:E}=(0,i.selectors)(s());if(_(a.ANe.PINNED_EMAILS)&&e.destinationFolderType===a.Sck.BULK){const e=(o.streamItem?[o.streamItem]:E(o.streamId)).filter((({listId:e})=>e===(0,r.uW)())).map((({id:e})=>e));e&&t((0,d.j4)(e))}e.messageIds&&((0,c.c)(o.streamItem,"panic: moveMessageIds: moving specific messages, but there is no active streamItem"),1===e.messageIds.length&&(e.conversations=!1),o.streamItem.messageIds=e.messageIds,delete e.messageIds),t({type:n.MOVE_ITEMS_REQUESTED,...o,...e})},E=e=>_({...e,destinationFolderType:a.Sck.INBOX}),u=e=>(t,s)=>{const{getDefaultFolderIdForSelectedAccount:d,getAccountIdByFolderId:_}=(0,i.selectors)(s()),E=d(),u=(0,o.jK)(e.isRead?a.K8C.NEWMAIL:a.K8C.OLDMAIL,{accountIds:[_(E)],folders:[E]});return(0,c.c)(u,"panic: moveAndReadChange: unable to buildSmartViewRoute"),t({...e,...(0,l.Z)(s()),type:n.MOVE_AND_READ_CHANGE_REQUESTED,destinationFolderType:a.Sck.INBOX,destinationListId:(0,r.LY)(u)})},m=e=>_({...e,destinationFolderType:a.Sck.ARCHIVE}),S=e=>_({...e,destinationFolderType:a.Sck.BULK}),p=e=>({...e,type:n.ITEMS_DRAG_STARTED}),C=e=>({...e,type:n.CONFIRM_DELETE_DIALOG_CLOSED})},78737:(e,t,s)=>{"use strict";s.d(t,{Ah:()=>L,Ch:()=>d,Fm:()=>u,Hg:()=>m,I3:()=>I,KE:()=>M,LG:()=>N,Mw:()=>b,PV:()=>O,Qg:()=>P,Sh:()=>A,St:()=>h,WT:()=>g,YD:()=>T,bx:()=>R,eY:()=>p,gL:()=>f,iZ:()=>C,k1:()=>S,n:()=>_,st:()=>E,ze:()=>D});var a=s(50566),n=s(85927),r=s(3405),o=s(37422),i=s(17016),l=s(31057),c=s(73924);const d=e=>({type:a.OPEN_PAGE_REQUESTED,...e}),_=(e={})=>(t,s)=>{const{createPageForRoute:a,getCurrentHistoryState:i,getPrescribedNumberOfColumns:c,getCurrentPage:_,getSelectedAccountId:E,getPreviousPage:u}=(0,n.selectors)(s());let m=u();const S=_();S&&S.route&&S.route.name===o.n8z.MESSAGE_FROM_LIST&&(0,l.aY)((0,l.LY)(S.route))===o.qd8.SUBSCRIPTIONS&&2===c()&&(m=a((0,r.lB)(E()),-1,i())),t(d({...e,route:m.route,nextPage:m}))},E=(e={})=>(t,s)=>{const{createPageForRoute:a,getCurrentHistoryState:r}=(0,n.selectors)(s()),{replaceInStack:o,route:i}=e;let l;o&&(l=a(i,0,r())),t(d({...e,nextPage:l}))},u=e=>({...d({route:(0,r.jK)(o.K8C.PEOPLE,{accountIds:e.accountId})}),updatedSettingAttributes:e.updatedSettingAttributes,accountId:e.accountId}),m=({csid:e=(0,i.generateUID)(),attachments:t,route:s,...l})=>(i,c)=>{var d;const{getSetting:_,getPreviousPage:E,getRoute:u}=(0,n.selectors)(c()),m=_(o.Zrf.COMPOSE_FORMAT)===o.tTi.COMPACT,S=u(),p="1"===(null==S||null===(d=S.query)||void 0===d?void 0:d.fullscreen),C=E(),A=Array.isArray(t);let T={};if(A&&p&&m&&(T={route:C.route,nextPage:C}),!s&&A)return i({type:a.FORWARD_ATTACHMENTS,csid:e,attachments:t,...l,...T});i(m?{type:a.OPEN_COMPACT_COMPOSE,csid:e,attachments:t,...l,...T}:{type:a.OPEN_PAGE_REQUESTED,csid:e,attachments:t,route:s||(0,r.Rl)(e),...l})},S=e=>(t,s)=>{const{route:a}=e,{shouldNavigateSearchFromToAll:i}=(0,n.selectors)(s()),c=i(a)?(0,r.dM)((0,l.tE)((0,l.LY)(a),{listFilter:o.ukn.ALL})):a;t(d({...e,route:c}))},p=e=>t=>{const{listId:s}=e,a=(0,l.Fh)(s),n=(0,r.KI)((0,l.rA)({folders:[a],listContentType:o.F6k.SENDERS,sortOrder:o.Asd.SENDER}));t(d({route:n}))},C=({query:e,...t})=>(s,a)=>{const{getCurrentPage:o,createPageForRoute:i,getCurrentHistoryState:l}=(0,n.selectors)(a()),c=o(),_=(0,r.jq)(e);let E;!!c.route&&c.route.name===_.name&&(E=i(_,0,l())),s(d({...t,route:_,nextPage:E}))},A=({streamId:e,i13nModel:t})=>(s,a)=>{const{doesStreamExist:i,getCursorItem:_}=(0,n.selectors)(a()),E=i(e)?_(e):void 0;if(!E)return;const{listId:u,id:m}=E,S=(0,l.WN)(u);if(S===o.F6k.MESSAGES)s(d({route:(0,r.m9)(u,m),i13nModel:t,streamItem:E}));else if(S===o.F6k.IMAGES||S===o.F6k.DOCUMENTS){const{messageId:e,previewable:a,downloadUrl:n}=E;return a?s(d({route:(0,r.Sk)(u,e,m,{fullscreen:"1"}),itemId:m,i13nModel:t,streamItem:E})):(window.open(n,"_blank"),s((0,c.AV)({streamItem:E,i13nModel:t})))}},T=e=>(t,s)=>{const{getDefaultFolderRoute:a}=(0,n.selectors)(s());t(d({route:a(e.inboxFolderId)}))},I=(e={})=>(t,s)=>{const{getRoute:r}=(0,n.selectors)(s());t({type:a.CLOSE_PAGE_REQUESTED,...e,route:e.route||r()})},h=(e={})=>t=>{t({type:a.CLOSE_ALL_PAGES_REQUESTED,...e})},g=(e={})=>(t,s)=>{const{getDefaultFolderRoute:a,getCurrentHistoryState:r,normalizeRoute:i}=(0,n.selectors)(s()),c={route:i(a()),backIdx:-1},{historyStack:_,activePageIndex:E}=r();let u=_.length?E:-1,m=c;for(;u>=0;){const e=_[u],t=e.route,s=(0,l.LY)(t);if(t.name===o.n8z.FOLDER||t.name===o.n8z.CONTACTS||t.name===o.n8z.SUBSCRIPTION_LIST||t.name===o.n8z.SEARCH&&(0,l.yE)(s)||(0,l.kC)(t)){m=e;break}u=e.backIdx}t(d({...e,route:m.route,nextPage:m}))},O=e=>({type:a.SYNC_DATA,...e}),D=e=>({type:a.SYNC_NOW_SUCCEEDED,...e}),R=e=>({type:a.SYNC_NOW_FAILED,...e}),N=e=>({type:a.SHOW_APP_RELOAD,...e}),L=e=>({type:a.CANCEL_APP_RELOAD,...e}),f=e=>({type:a.CONFIRM_APP_RELOAD,...e}),M=e=>({type:a.HEADER_NAVIGATION_SELECTED,...e}),P=e=>({type:a.PREVIEW_MESSAGE_CLOSED,...e}),b=e=>(t,s)=>{const{messageGroupIds:r,i13nModel:o}=e,[i]=r,{__getLastNonDraftMessageIdByGroupId:l}=(0,n.selectors)(s()),c=l(i);t({type:a.VIEW_RAW_MESSAGE,i13nModel:o,messageId:c})}},73722:(e,t,s)=>{"use strict";s.d(t,{$q:()=>l,Bv:()=>E,CZ:()=>h,E9:()=>g,Od:()=>i,Tk:()=>p,Wd:()=>u,aL:()=>A,b1:()=>S,gT:()=>O,h3:()=>n,hI:()=>N,hU:()=>r,ii:()=>T,jP:()=>m,lY:()=>C,m1:()=>o,ne:()=>d,pd:()=>R,qV:()=>D,qg:()=>_,rA:()=>I,rN:()=>c});var a=s(50566);const n=e=>({type:a.FETCH_ALL_NOTEBOOKS_AND_NOTES_REQUESTED,...e}),r=e=>({type:a.FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED,...e}),o=e=>({type:a.FETCH_ALL_NOTEBOOKS_AND_NOTES_FAILED,...e}),i=e=>({type:a.CREATE_NOTE_REQUESTED,...e}),l=e=>({type:a.CREATE_NOTE_SUCCEEDED,...e}),c=e=>({type:a.CREATE_NOTE_FAILED,...e}),d=e=>({type:a.UPDATE_NOTE_REQUESTED,...e}),_=e=>({type:a.UPDATE_NOTE_SUCCEEDED,...e}),E=e=>({type:a.UPDATE_NOTE_FAILED,...e}),u=e=>({type:a.DELETE_NOTE_DEFERRED_REQUESTED,...e}),m=e=>({type:a.DELETE_NOTE_SUCCEEDED,...e}),S=e=>({type:a.DELETE_NOTE_FAILED,...e}),p=e=>({type:a.CREATE_JOURNAL_FOLDER_REQUESTED,...e}),C=e=>({type:a.CREATE_JOURNAL_FOLDER_SUCCEEDED,...e}),A=e=>({type:a.CREATE_JOURNAL_FOLDER_FAILED,...e}),T=e=>({type:a.UPDATE_JOURNAL_FOLDER_REQUESTED,...e}),I=e=>({type:a.UPDATE_JOURNAL_FOLDER_SUCCEEDED,...e}),h=e=>({type:a.UPDATE_JOURNAL_FOLDER_FAILED,...e}),g=e=>({type:a.SET_NOTEBOOK_ID,...e}),O=e=>({type:a.DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED,...e}),D=e=>({type:a.DELETE_JOURNAL_FOLDER_SUCCEEDED,...e}),R=e=>({type:a.DELETE_JOURNAL_FOLDER_FAILED,...e}),N=e=>({type:a.NOTE_TAB_CLOSE,...e})},74745:(e,t,s)=>{"use strict";s.d(t,{Fe:()=>r,Kp:()=>o,Qq:()=>l,a6:()=>i});var a=s(37422),n=s(50566);const r=e=>({...e,type:n.RIGHT_RAIL_COMMS_ICON_CLICKED,name:a.Qk$.NOTES_PANE}),o=e=>({...e,type:n.CHANGE_NOTES_PANE_SECTION}),i=e=>({...e,type:n.CHANGE_NOTES_PANE_VIEW}),l=e=>({...e,type:n.CHANGE_NOTEBOOKS_SECTION_VIEW})},12055:(e,t,s)=>{"use strict";s.d(t,{OA:()=>r,Tw:()=>_,V5:()=>i,eH:()=>d,eZ:()=>c,lK:()=>l,mF:()=>o});var a=s(50566),n=s(85927);const r=e=>({type:a.PHISHING_BANNER_MOUNTED,...e}),o=e=>({type:a.PHISHING_REMOVE_BDM_DECO_SUCCEEDED,...e}),i=e=>({type:a.PHISHING_REMOVE_BDM_DECO_FAILED,...e}),l=e=>(t,s)=>{const{getSelectedMailboxId:r}=(0,n.selectors)(s());return t({type:a.PHISHING_REMOVE_BDM_DECO_REQUESTED,mailboxId:r(),...e})},c=e=>({type:a.REMOVE_SPAM_SCHEMA_SUCCEEDED,...e}),d=e=>({type:a.REMOVE_SPAM_SCHEMA_FAILED,...e}),_=e=>(t,s)=>{const{getSelectedMailboxId:r}=(0,n.selectors)(s());return t({type:a.REMOVE_SPAM_SCHEMA_REQUESTED,mailboxId:r(),...e})}},67607:(e,t,s)=>{"use strict";s.d(t,{Cq:()=>l,WF:()=>i,ZP:()=>c,zJ:()=>o});var a=s(50566),n=s(85927),r=s(62594);const o=(e={})=>(t,s)=>{const{isInboxStyleNewOldMail:r}=(0,n.selectors)(s());return r()?t((e=>({...e,isRead:!1,type:a.RECENT_AND_READ_CHANGE_REQUESTED}))({...e})):t((e=>({...e,isRead:!1,type:a.READ_CHANGE_REQUESTED}))({...e}))},i=e=>({...e,isRead:!0,type:a.READ_CHANGE_REQUESTED}),l=e=>(t,s)=>t(i({...e,...(0,r.Z)(s())})),c=e=>(t,s)=>{const{streamItem:r}=e,{getMessageIdsFromMessageGroupId:o,getMessageFlags:i,isInboxStyleNewOldMail:l}=(0,n.selectors)(s()),c=o(r.id).every((e=>i(e).read));return l()&&!1===c?t({type:a.RECENT_AND_READ_CHANGE_REQUESTED,...e,isRead:c}):t({type:a.READ_CHANGE_REQUESTED,...e,isRead:c})}},59098:(e,t,s)=>{"use strict";s.d(t,{CC:()=>c,Cm:()=>i,RX:()=>r,eO:()=>n,e_:()=>l,mh:()=>o});var a=s(50566);const n=(e={})=>({type:a.RECENT_SEARCHES_REQUESTED,...e}),r=e=>({type:a.RECENT_SEARCHES_SUCCEEDED,...e}),o=()=>({type:a.RECENT_SEARCHES_FAILED}),i=e=>({type:a.DELETE_RECENT_SEARCH_REQUESTED,...e}),l=e=>({type:a.DELETE_RECENT_SEARCH_SUCCEEDED,...e}),c=e=>({type:a.DELETE_RECENT_SEARCH_FAILED,...e})},70774:(e,t,s)=>{"use strict";s.d(t,{E8:()=>r,FW:()=>n,Uj:()=>o});var a=s(50566);const n=e=>({type:a.RELATED_SEARCHES_FETCH_SUCCEEDED,...e}),r=e=>({type:a.RELATED_SEARCHES_FETCH_FAILED,...e}),o=({i13nModel:e})=>({type:a.RELATED_SEARCHES_CARD_CLICKED,i13nModel:e})},93568:(e,t,s)=>{"use strict";s.d(t,{W:()=>r,l:()=>n});var a=s(50566);const n=e=>({type:a.ITEM_LIST_PAGE_SCROLLED,...e}),r=e=>({type:a.SCROLL_TO_SEARCH_PAGE_SCROLLED,...e})},90406:(e,t,s)=>{"use strict";s.d(t,{Ac:()=>o,Y$:()=>l,nJ:()=>n,o2:()=>i,tB:()=>r});var a=s(50566);const n=(e={})=>({type:a.SEARCH_INPUT_BLURRED,...e}),r=e=>({type:a.SEARCH_INPUT_FOCUSED,...e}),o=e=>({type:a.SEARCH_LIST_ITEMS_FAILED,...e}),i=e=>({type:a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,...e}),l=e=>({type:a.SEARCH_LIST_ITEMS_RECEIVED,...e})},12602:(e,t,s)=>{"use strict";s.d(t,{KX:()=>r,jT:()=>i,pe:()=>o});var a=s(50566),n=s(92559);const r=e=>{const t={isBeaconEvent:!0,eventName:n.fS.SEARCH_SUGGESTION,etrg:"change",outcome:"search_suggestion_dropdown"};return{type:a.SUGGESTIONS_REQUESTED,...e,i13nModel:t}},o=e=>({type:a.SUGGESTIONS_RECEIVED,...e}),i=e=>({type:a.SUGGESTIONS_FAILED,...e})},90583:(e,t,s)=>{"use strict";s.d(t,{$Y:()=>Y,AG:()=>P,D9:()=>Q,Gp:()=>Z,Gz:()=>E,HB:()=>i,Hg:()=>c,Iu:()=>w,KX:()=>G,LK:()=>v,NA:()=>o,Nd:()=>F,Nr:()=>J,OM:()=>m,OT:()=>X,PK:()=>T,Pw:()=>M,RP:()=>n,Ro:()=>V,Rw:()=>O,TK:()=>W,Wx:()=>r,XP:()=>R,_O:()=>U,ad:()=>f,e9:()=>N,eV:()=>z,eq:()=>I,gb:()=>_,h2:()=>l,iP:()=>u,iQ:()=>p,it:()=>C,jg:()=>d,kB:()=>h,nl:()=>ee,ox:()=>g,pK:()=>$,qS:()=>S,qm:()=>K,r4:()=>j,tm:()=>L,tv:()=>B,tx:()=>k,u9:()=>H,wR:()=>y,wX:()=>q,yO:()=>D,yu:()=>x,z9:()=>A,zc:()=>b});var a=s(50566);const n=e=>({type:a.SETTINGS_MENU_REQUESTED,...e}),r=e=>({type:a.SETTINGS_POPOVER_AUTOOPEN_CHANGED,...e}),o=e=>({type:a.OPT_OUT_OF_NORRIN,...e}),i=e=>({type:a.OPT_OUT_CANCEL_FEEDBACK,...e}),l=e=>({type:a.DISABLED_FEATURE_BUTTON_HOVERED,...e}),c=e=>({type:a.DISABLED_FEATURE_CLOSE_BUTTON_CLICKED,...e}),d=e=>({...e,type:a.MAIL_PLUS_SETTINGS_BUTTON_CLICKED}),_=e=>({type:a.SETTINGS_LOCATION_CHANGE_REQUESTED,...e}),E=e=>({type:a.SETTINGS_LOCATION_CHANGE_SUCCEEDED,...e}),u=e=>({type:a.SETTINGS_LOCATION_CHANGE_FAILED,...e}),m=e=>({type:a.CONVERSATIONS_CHANGE_REQUESTED,...e}),S=e=>({type:a.CONVERSATIONS_CHANGE_SUCCEEDED,...e}),p=e=>({type:a.CONVERSATIONS_CHANGE_FAILED,...e}),C=e=>({type:a.ALIAS_EMAIL_CREATE_REQUESTED,...e}),A=e=>({type:a.ALIAS_EMAIL_CREATE_SUCCEEDED,...e}),T=e=>({type:a.ALIAS_EMAIL_CREATE_FAILED,...e}),I=e=>({type:a.CONFIRM_EMAIL_RESEND_REQUESTED,...e}),h=e=>({type:a.CONFIRM_EMAIL_RESEND_SUCCEEDED,...e}),g=e=>({type:a.CONFIRM_EMAIL_RESEND_FAILED,...e}),O=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED,...e}),D=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED,...e}),R=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED,...e}),N=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED,...e}),L=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED,...e}),f=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED,...e}),M=e=>({type:a.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE,...e}),P=e=>({type:a.ACCOUNT_ADD_FINISHED,...e}),b=e=>({type:a.ACCOUNT_ADD_ERROR,...e}),y=e=>({type:a.ACCOUNT_ADD_WIZARD_OPENED,...e}),v=e=>({type:a.ACCOUNT_ADD_SELECT_PROVIDER,...e}),F=e=>({type:a.ACCOUNT_SETTINGS_CANCEL,...e}),U=e=>({type:a.FEEDBACK_SUBMITTED,...e}),k=e=>({type:a.ABOUT_OUR_ADS_PAGE_REQUESTED,...e}),w=e=>({type:a.PRIVACY_TERMS_PAGE_REQUESTED,...e}),G=e=>({type:a.HELP_PAGE_REQUESTED,...e}),H=e=>({type:a.ADFREE_MAIL_PAGE_REQUESTED,...e}),B=e=>({type:a.ABOUT_YAHOO_MAIL_PAGE_REQUESTED,...e}),x=e=>({type:a.SETTINGS_BLOCKED_SENDERS_REQUESTED,...e}),V=e=>({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED,...e}),Z=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED,...e}),W=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED,...e}),K=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED,...e}),z=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED,...e}),Y=e=>({type:a.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED,...e}),j=e=>({type:a.SETTINGS_PEOPLE_I_KNOW_FETCH_SUCCEEDED,...e}),q=e=>({type:a.SETTINGS_PEOPLE_I_KNOW_FETCH_FAILED,...e}),X=e=>({type:a.SETTINGS_PEOPLE_I_KNOW_CHANGE_REQUESTED,...e}),Q=e=>({type:a.SETTINGS_PEOPLE_I_KNOW_CHANGE_SUCCEEDED,...e}),J=e=>({type:a.SETTINGS_PEOPLE_I_KNOW_CHANGE_FAILED,...e}),$=e=>({type:a.UPDATE_ALL_THEMES_RENDERED,...e}),ee=e=>({type:a.UPDATE_STICKY_ONBOARDING_EXPANSION,...e})},66588:(e,t,s)=>{"use strict";s.d(t,{Ck:()=>i,DV:()=>o,JB:()=>d,OP:()=>T,Oy:()=>l,S$:()=>_,S9:()=>p,Zg:()=>C,ah:()=>S,be:()=>r,bn:()=>A,eU:()=>m,nK:()=>E,pt:()=>u,s:()=>c,z_:()=>I});var a=s(50566),n=s(37422);const r=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:a.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED}),o=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:a.SOCIAL_ACCOUNTS_CONNECT_FAILED}),i=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED}),l=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_FAILED}),c=e=>({...e,type:a.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED}),d=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED}),_=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:a.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED}),E=e=>({...e,type:a.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED}),u=e=>({...e,type:a.SOCIAL_ACCOUNTS_IMPORT_FAILED}),m=e=>({...e,type:a.SOCIAL_ACCOUNTS_STATUS_RECEIVED}),S=e=>({...e,type:a.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED}),p=e=>({...e,type:Object.keys(n.P$E).includes(e.provider)?a.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:a.SOCIAL_ACCOUNTS_CONNECT_REQUESTED}),C=e=>({...e,type:a.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED}),A=e=>({...e,type:a.DISCONNECT_CONTACTS_PROVIDER_REQUESTED}),T=e=>({...e,type:a.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED}),I=e=>({...e,type:a.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED})},99124:(e,t,s)=>{"use strict";s.d(t,{XM:()=>r,oz:()=>n,wA:()=>o});var a=s(50566);const n=e=>({type:a.SPELL_CHECK_SUGGESTIONS_REQUESTED,...e}),r=e=>({type:a.SPELL_CHECK_SUCCESS,...e}),o=e=>({type:a.SPELL_CHECK_FAILED,...e})},97735:(e,t,s)=>{"use strict";s.d(t,{Hw:()=>o,ZP:()=>l,ww:()=>i});var a=s(50566),n=s(85927),r=s(92559);const o=e=>({...e,isStarred:!1,type:a.STAR_CHANGE_REQUESTED}),i=e=>({...e,isStarred:!0,type:a.STAR_CHANGE_REQUESTED}),l=e=>(t,s)=>{const{i13nModel:o,streamId:i,streamItem:l,triageActionType:c}=e,{getMessageIdsFromMessageGroupId:d,getMessageFlags:_}=(0,n.selectors)(s()),E=d(l.id).some((e=>_(e).flagged));return t({streamItem:l,streamId:i,...o&&{i13nModel:{...o,mKey:E?r.JE.MARK_MSG_UNSTARRED:r.JE.MARK_MSG_STARRED}},isStarred:E,triageActionType:c,type:a.STAR_CHANGE_REQUESTED})}},40818:(e,t,s)=>{"use strict";s.d(t,{B1:()=>A,Gp:()=>p,Hf:()=>l,LC:()=>_,MW:()=>I,O$:()=>g,WC:()=>E,YP:()=>h,ab:()=>r,fC:()=>S,h7:()=>c,iP:()=>d,l1:()=>C,lU:()=>o,mE:()=>u,mK:()=>D,qF:()=>i,qs:()=>T,r$:()=>O,w4:()=>n,yf:()=>m});var a=s(50566);const n=e=>({type:a.STOREFRONT_MODULES_SUCCEEDED,...e}),r=(e,t)=>({type:a.STOREFRONT_MODULES_FAILED,brandId:e,error:t}),o=e=>({type:a.STOREFRONT_DEALS_REQUESTED,...e}),i=e=>({type:a.STOREFRONT_DEALS_SUCCEEDED,...e}),l=e=>({type:a.STOREFRONT_DEALS_FAILED,error:e}),c=e=>({type:a.STOREFRONT_PRODUCTS_REQUESTED,...e}),d=e=>({type:a.STOREFRONT_PRODUCTS_SUCCEEDED,...e}),_=e=>({type:a.STOREFRONT_PRODUCTS_FAILED,error:e}),E=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED,...e}),u=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED,...e}),m=e=>({type:a.RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED,error:e}),S=e=>({type:a.STOREFRONT_EMAILS_MODULES_SUCCEEDED,...e}),p=e=>({type:a.STOREFRONT_EMAILS_MODULES_FAILED,error:e}),C=e=>({type:a.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED,...e}),A=e=>({type:a.STOREFRONT_RECEIPTS_MODULES_FAILED,error:e}),T=e=>({type:a.STOREFRONT_BRAND_FOLLOW_REQUESTED,...e}),I=e=>({type:a.STOREFRONT_BRAND_FOLLOW_SUCCEEDED,...e}),h=e=>({type:a.STOREFRONT_BRAND_FOLLOW_FAILED,error:e}),g=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_REQUESTED,...e}),O=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED,...e}),D=e=>({type:a.STOREFRONT_BRAND_UNFOLLOW_FAILED,error:e})},1035:(e,t,s)=>{"use strict";s.d(t,{$1:()=>n,F7:()=>o,JV:()=>c,T7:()=>r,nm:()=>i,uQ:()=>l});var a=s(50566);const n=e=>({type:a.SUBSCRIPTION_LIST_FETCH_SUCCEEDED,...e}),r=e=>({type:a.SUBSCRIPTION_LIST_FETCH_FAILED,...e}),o=e=>({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED,...e}),i=e=>({type:a.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED,...e}),l=e=>({...e,type:a.SUBSCRIPTION_LIST_FILTER_CHANGED}),c=e=>({...e,type:a.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED})},36632:(e,t,s)=>{"use strict";s.d(t,{BP:()=>_,I3:()=>C,JW:()=>o,PF:()=>p,XV:()=>r,_r:()=>l,bz:()=>n,gf:()=>S,go:()=>E,mU:()=>i,sw:()=>u,tL:()=>d,w8:()=>m,wS:()=>c});var a=s(50566);const n=e=>({type:a.FETCH_ALL_TODOS_REQUESTED,...e}),r=e=>({type:a.FETCH_ALL_TODOS_SUCCEEDED,...e}),o=e=>({type:a.FETCH_ALL_TODOS_FAILED,...e}),i=e=>({type:a.POST_LAUNCH_FETCH_TODOS_SUCCEEDED,...e}),l=e=>({type:a.POST_LAUNCH_FETCH_TODOS_FAILED,...e}),c=e=>({type:a.CREATE_TODO_REQUESTED,...e}),d=e=>({type:a.CREATE_TODO_SUCCEEDED,...e}),_=e=>({type:a.CREATE_TODO_FAILED,...e}),E=e=>({type:a.UPDATE_TODO_REQUESTED,...e}),u=e=>({type:a.UPDATE_TODO_SUCCEEDED,...e}),m=e=>({type:a.UPDATE_TODO_FAILED,...e}),S=e=>({type:a.DELETE_TODO_DEFERRED_REQUESTED,...e}),p=e=>({type:a.DELETE_TODO_SUCCEEDED,...e}),C=e=>({type:a.DELETE_TODO_FAILED,...e})},65127:(e,t,s)=>{"use strict";s.d(t,{$Z:()=>c,Fn:()=>E,RF:()=>u,WR:()=>_,id:()=>i,jR:()=>l,y8:()=>d});var a=s(82159),n=s(37422),r=s(50566),o=s(85927);const i=e=>({...e,type:r.RIGHT_RAIL_COMMS_ICON_CLICKED,name:n.Qk$.TODOS_PANE}),l=e=>({...e,type:r.OPEN_PAGE_REQUESTED,name:n.Qk$.TODOS_PANE}),c=e=>({...e,type:r.CHANGE_TODOS_PANE_FILTER}),d=e=>({...e,type:r.CHANGE_TODOS_PANE_VIEW}),_=e=>(t,s)=>{const{getActionableRightRailPane:i}=(0,o.selectors)(s());return t(i()===n._Ab.TodosPane?d({...e,view:a.$r.LIST}):{...e,view:a.$r.LIST,type:r.RIGHT_RAIL_COMMS_ICON_CLICKED,name:n.Qk$.TODOS_PANE})},E=e=>(t,s)=>{const{getActionableRightRailPane:i}=(0,o.selectors)(s());return t(i()===n._Ab.TodosPane?d({...e,view:a.$r.CREATE}):{...e,view:a.$r.CREATE,type:r.RIGHT_RAIL_COMMS_ICON_CLICKED,name:n.Qk$.TODOS_PANE})},u=e=>(t,s)=>{const{getActionableRightRailPane:i}=(0,o.selectors)(s());return t(i()===n._Ab.TodosPane?d({...e,view:a.$r.EDIT}):{...e,view:a.$r.EDIT,type:r.RIGHT_RAIL_COMMS_ICON_CLICKED,name:n.Qk$.TODOS_PANE})}},43475:(e,t,s)=>{"use strict";s.d(t,{DI:()=>i,E1:()=>n,HG:()=>m,HN:()=>u,So:()=>_,Yi:()=>l,Yj:()=>c,cN:()=>o,i4:()=>r,vN:()=>E,yd:()=>d});var a=s(50566);const n=e=>({...e,type:a.TOP_OF_INBOX_FETCH_SUCCEEDED}),r=e=>({...e,type:a.TOP_OF_INBOX_FETCH_FAILED}),o=e=>({...e,type:a.TOP_OF_INBOX_CARD_REMOVE}),i=e=>({...e,type:a.TOP_OF_INBOX_CARD_REMOVE_UNDO}),l=e=>({...e,type:a.TOP_OF_INBOX_CARD_REMOVE_ALL}),c=e=>({...e,type:a.TOP_OF_INBOX_CARD_REMOVE_ALL_UNDO}),d=e=>({...e,type:a.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED}),_=e=>({...e,type:a.TOP_OF_INBOX_MESSAGES_FETCH_FAILED}),E=e=>({...e,type:a.TOP_OF_INBOX_FIRST_CARD_OPENED}),u=e=>({...e,type:a.TOP_OF_INBOX_BOTTOM_OPTIONS_OPEN}),m=e=>({...e,type:a.TOP_OF_INBOX_EXPAND_CLOSE})},49973:(e,t,s)=>{"use strict";s.d(t,{B_:()=>r,H:()=>l,IB:()=>n,P4:()=>o,i_:()=>i,zZ:()=>c});var a=s(50566);const n=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_REQUESTED}),r=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED}),o=e=>({...e,type:a.UNSUBSCRIBE_BY_EMAIL_FAILED}),i=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_REQUESTED}),l=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_SUCCEEDED}),c=e=>({...e,type:a.UNSUBSCRIBE_BY_BRAND_FAILED})},5199:(e,t,s)=>{"use strict";s.d(t,{G:()=>r,O:()=>o});var a=s(50566),n=s(37422);const r=e=>e.triageActionType===n.Ewo.UNDO_MOVE?{...e,type:a.UNDO_MOVE_SUCCEEDED}:{...e,type:a.UPDATE_ITEMS_SUCCEEDED},o=e=>e.triageActionType===n.Ewo.UNDO_MOVE?{...e,type:a.UNDO_MOVE_FAILED}:{...e,type:a.UPDATE_ITEMS_FAILED}},29519:(e,t,s)=>{"use strict";s.d(t,{Ez:()=>E,IG:()=>l,So:()=>u,X:()=>c,aQ:()=>n,ol:()=>d,r2:()=>i,rC:()=>o,sb:()=>m,yV:()=>r,ys:()=>_});var a=s(50566);const n=e=>({...e,type:a.COUPONS_ADD_TAG_DECO_SUCCEEDED}),r=e=>({...e,type:a.COUPONS_REMOVE_TAG_DECO_SUCCEEDED}),o=e=>({type:a.COUPONS_ADD_TAG_DECO_FAILED,error:e}),i=e=>({type:a.COUPONS_REMOVE_TAG_DECO_FAILED,error:e}),l=e=>({type:a.CATEGORY_FOLLOW_REQUESTED,...e}),c=(e=[])=>({type:a.CATEGORY_FOLLOW_SUCCEEDED,followedCategoryList:e}),d=(e=[],t)=>({type:a.CATEGORY_FOLLOW_FAILED,followedCategoryList:e,error:t}),_=e=>({type:a.CATEGORY_UNFOLLOW_REQUESTED,...e}),E=(e=[])=>({type:a.CATEGORY_UNFOLLOW_SUCCEEDED,followedCategoryList:e}),u=(e=[],t)=>({type:a.CATEGORY_UNFOLLOW_FAILED,followedCategoryList:e,error:t}),m=()=>({type:a.CATEGORY_FOLLOW_FAILURE_RESET})},58583:(e,t,s)=>{"use strict";s.d(t,{EI:()=>n,HR:()=>o,Qu:()=>i,mE:()=>r,wt:()=>l});var a=s(50566);const n=e=>({type:a.WALLET_LIST_SUCCEEDED,...e}),r=e=>({type:a.WALLET_LIST_FAILED,...e}),o=e=>({type:a.SELECT_WALLET_LIST_ITEM,...e}),i=e=>({type:a.WALLET_FEEDBACK_YES,...e}),l=e=>({type:a.WALLET_FEEDBACK_ALREADY_ADDED,...e})},73683:(e,t,s)=>{"use strict";s.d(t,{TZ:()=>l,fI:()=>c,mh:()=>r,p:()=>n,w1:()=>i,xD:()=>o});var a=s(50566);const n=e=>({type:a.WEATHER_GET_REQUESTED,...e}),r=e=>({type:a.WEATHER_SUCCESS,...e}),o=e=>({type:a.WEATHER_FAILED,...e}),i=e=>({type:a.WEATHER_LOCATION_SUGGESTIONS_REQUESTED,...e}),l=e=>({type:a.WEATHER_LOCATION_SUCCESS,...e}),c=e=>({type:a.WEATHER_LOCATION_FAILED,...e})},32443:(e,t,s)=>{"use strict";s.d(t,{GB:()=>d,GT:()=>i,Jv:()=>c,MZ:()=>o,Vy:()=>r,eQ:()=>m,n1:()=>E,ox:()=>_,rS:()=>l,s9:()=>S,zW:()=>u});var a=s(50566),n=s(85927);const r=e=>(t,s)=>{const{isReplyOrReplyAll:r,isQuotedTextExpanded:o,getReplyingToMessageId:i,doesMessageBodyExist:l,getMessageBody:c}=(0,n.selectors)(s()),{csid:d,additionalContext:_}=e;let E="";if(r(d)&&!_&&!o(d)){const e=i(d);if(e){const{html:t=""}=l(e)?c(e):{};E=t.replaceAll(/<br.*?>/g,"\n").replaceAll(/<.*?>/g,"")}}return t({type:a.GENERATE_MSG_FROM_PROMPT_REQUESTED,...e,additionalContext:_||E})},o=e=>({type:a.GENERATE_MSG_FROM_PROMPT_SUCCEEDED,...e}),i=e=>({type:a.GENERATE_MSG_FROM_PROMPT_FAILED,...e}),l=e=>({type:a.REPHRASE_CONTENT_BY_TONE_REQUESTED,...e}),c=e=>({type:a.REPHRASE_CONTENT_BY_PROMPT_REQUESTED,...e}),d=e=>({type:a.REPHRASE_CONTENT_SUCCEEDED,...e}),_=e=>({type:a.REPHRASE_CONTENT_FAILED,...e}),E=e=>({type:a.AI_COMPOSER_INITIALIZED,...e}),u=e=>({type:a.AI_COMPOSER_UPDATE_VIEW,...e}),m=e=>({type:a.AI_COMPOSER_DISMISS_ERROR,...e}),S=e=>({type:a.AI_COMPOSER_NOTIFY_ERROR,...e})},61514:(e,t,s)=>{"use strict";s.d(t,{XS:()=>o,hT:()=>r,tF:()=>n});var a=s(50566);const n=e=>({...e,type:a.YAI_OPT_IN_REQUESTED}),r=e=>({...e,type:a.YAI_OPT_IN_SUCCEEDED}),o=e=>({...e,type:a.YAI_OPT_IN_FAILED})},61149:(e,t,s)=>{"use strict";s.d(t,{DE:()=>r,Fi:()=>n,KH:()=>i,Yd:()=>o});var a=s(50566);const n=e=>({...e,type:a.YAI_RETRO_COMPOSE_REQUESTED}),r=e=>({...e,type:a.YAI_RETRO_COMPOSE_SUCCEEDED}),o=e=>({...e,type:a.YAI_RETRO_COMPOSE_FAILED}),i=()=>({type:a.YAI_RETRO_COMPOSE_CLEAR})},33139:(e,t,s)=>{"use strict";s.d(t,{Ek:()=>E,GD:()=>n,IL:()=>i,Oh:()=>l,Q_:()=>r,in:()=>d,qA:()=>_,rn:()=>c,zM:()=>o});var a=s(50566);const n=e=>({type:a.YAI_SUGGESTIONS_REQUESTED,...e}),r=e=>({type:a.YAI_SUGGESTIONS_RECEIVED,...e}),o=e=>({type:a.YAI_SUGGESTIONS_FAILED,...e}),i=e=>({type:a.YAI_SEARCH_CONSUME_REQUESTED,...e}),l=e=>({type:a.YAI_SEARCH_CONSUME_SUCCEEDED,...e}),c=e=>({type:a.YAI_SEARCH_CONSUME_FAILED,...e}),d=e=>({type:a.YAI_SEARCH_ANSWER_FEEDBACK_ADDED,...e}),_=e=>({type:a.YAI_REFRESH_SEARCH_SUCCEEDED,...e}),E=e=>({type:a.YAI_REFRESH_SEARCH_FAILED,...e})},85671:(e,t,s)=>{"use strict";s.d(t,{F:()=>_,l:()=>d});var a=s(85927),n=s(37422),r=s(31057),o=s(12779),i=s(99839),l=s(10587),c=s(92559);const d=({state:e,stateSelectors:t})=>{const s=e?(0,a.selectors)(e):t,{getWindowDimensions:o,getRoute:i,getAccountIdByFolderId:d,getInboxFolderIdByAccountId:_,isFeatureEnabled:E,getSetting:u}=s,m=u(n.Zrf.MARKETING_PREFERENCES_SETTING);if(E(n.ANe.USE_DISPATCHER_CLIENT)&&null!=m&&m[l.Cf])return!1;const{innerWidth:S,innerHeight:p}=o(),C=i(),A=(0,r.LY)(C),T=(0,r.aY)(A);if(S>=800&&p>=625&&(C.name===n.n8z.LIST&&T===c.JE.NEWMAIL||C.name===n.n8z.FOLDER)){const e=(0,r.Fh)(A);return _(d(e))===e}return!1},_=({state:e,action:t})=>{const{mailoverlay:s}=t,a=!!s,n=d({state:e}),r=a&&o.BW.find((e=>e===s.template));return i.Z.error("enableDispatcherSubscriptionUpsellsLog",{mailoverlayExists:a,enableUpsell:n,template:r}),!!r&&n}},42056:(e,t,s)=>{"use strict";s.d(t,{Z:()=>yt});var a=s(50566),n=s(57557),r=s.n(n),o=s(30982),i=s(1558),l=s(37422),c=s(85927),d=s(62631),_=s(8106);var E=s(336),u=s(68113);const m=({beaconType:e,reason:t,comment:s})=>`(${[["type",e],["subo",t],["cmnt",s],["afv","2.0"]].filter((e=>e[1])).map((([e,t])=>`${e}$${t}`)).join(",")})`,S=(e,t,s)=>{const{getAdsSelectors:a}=(0,c.selectors)(e.getState()),n=a().getAdFeedbackBeacon(s).replace("$(AD_FEEDBACK)",t);(0,E.Z)(n)},p=(e,{type:t,reason:s,comment:n,sectionId:r,feedbackType:o})=>{if(t===a.AD_FEEDBACK_CLICKED){if(!o)return;s=o===u.gT.POSITIVE?100:10}S(e,m({beaconType:"fdb_submit",reason:s,comment:n}),r)};var C=s(35598);function A({itemsToUpdate:e,isRead:t,...s}){return void 0!==t?{itemsToUpdate:null==e?void 0:e.map((({destinationFolder:e,folder:s,flags:a,...n})=>({...n,folder:e,destinationFolder:s,flags:{...a,read:!t}}))),...s,isRead:!t,type:a.UNDO_MOVE_AND_READ_REQUESTED}:{itemsToUpdate:null==e?void 0:e.map((({destinationFolder:e,folder:t,...s})=>({...s,folder:e,destinationFolder:t}))),...s,type:a.UNDO_MOVE_REQUESTED}}var T=s(78850),I=s(95406);var h=s(63352);function g(e,t,s){const{isMobileRoute:a,getAccountSelectors:n,getFoldersSelectors:r,getEnvironmentSelectors:o}=e,{getFolderIdsByAccountId:i,hasChildren:c}=r(),{getUserNamespace:d}=o();let _;switch(t){case l.Zrf.AMP_EMAIL:_=l.CbW.AMP_EMAIL;break;case l.Zrf.INTERSTITIAL_FREQUENCY:_=l.CbW.INTERSTITIAL_FREQUENCY;break;case l.Zrf.THEME:_=a()?l.CbW.MOBILE_THEME:l.CbW.THEME;break;case l.Zrf.THEME_MODE:_=a()?l.CbW.MOBILE_THEME_MODE:l.CbW.THEME_MODE;break;case l.Zrf.PREVIEW_PANE:_=l.CbW.PREVIEW_PANE;break;case l.Zrf.COMPOSE_FORMAT:_=l.CbW.COMPOSE_FORMAT;break;case l.Zrf.MSG_LIST_DENSITY:_=d()===l.Tzw.AOL?l.CbW.AOL_MSG_LIST_DENSITY:l.CbW.MSG_LIST_DENSITY;break;case l.Zrf.SNIPPETS:_=a()?l.CbW.MOBILE_SNIPPETS:l.CbW.SNIPPETS;break;case l.Zrf.COMPOSE_FONT_FAMILY:_=l.CbW.COMPOSE_FONT_FAMILY;break;case l.Zrf.COMPOSE_FONT_SIZE:_=l.CbW.COMPOSE_FONT_SIZE;break;case l.Zrf.MOBILE_NOTIFICATION:_=l.CbW.MOBILE_NOTIFICATION;break;case l.Zrf.DESKTOP_NOTIFICATION:_=l.CbW.DESKTOP_NOTIFICATION;break;case l.Zrf.MARK_AS_READ_INTERVAL:_=l.CbW.MARK_AS_READ_INTERVAL;break;case l.Zrf.SHOW_IMAGES:_=a()?l.CbW.MOBILE_SHOW_IMAGES:l.CbW.BLOCK_IMAGES;break;case l.Zrf.LINK_ENHANCR:_=l.CbW.LINK_ENHANCER;break;case l.Zrf.SHOW_SEND_CONFIRMATION_PAGE:_=l.CbW.SHOW_SEND_CONFIRMATION_PAGE;break;case l.Zrf.SPELL_CHECK_BEFORE_SEND:_=l.CbW.SPELL_CHECK_BEFORE_SEND;break;case l.Zrf.ACTION_AFTER_MSG_MOVE:_=l.CbW.ACTION_AFTER_MSG_MOVE;break;case l.Zrf.SHOW_CUSTOM_FOLDERS:_=l.CbW.SHOW_CUSTOM_FOLDERS;break;case l.Zrf.SHOW_SMART_VIEWS:_=l.CbW.EXPAND_SMART_VIEWS;break;case l.Zrf.MAIL_TABS:_=l.CbW.MAIL_TABS;break;case l.Zrf.HIDE_AD:_=l.CbW.HIDE_AD;break;case l.Zrf.SHOW_ALL_SYSTEM_FOLDERS:_=l.CbW.SHOW_ALL_SYSTEM_FOLDERS;break;case l.Zrf.EXPANDED_FOLDERS:{_=l.CbW.EXPANDED_FOLDERS;const e=n().getAccountIds();let t=[];e.forEach((e=>{i(e).forEach((e=>{c(e)&&-1!==s.indexOf(e)&&(t=t.concat(e))}))})),s=t;break}case l.Zrf.STATIONERY_DEFAULT_THEME:_=l.CbW.STATIONERY_DEFAULT_THEME;break;case l.Zrf.USE_RICH_TEXT:_=l.CbW.USE_RICH_TEXT;break;case l.Zrf.HIDE_FORMAT_TOOLBAR:_=l.CbW.HIDE_FORMAT_TOOLBAR;break;case l.Zrf.RECENTLY_USED_EMOJIS:_=l.CbW.RECENTLY_USED_EMOJIS;break;case l.Zrf.SCOUT_ONBOARDING:_=l.CbW.SCOUT_ONBOARDING;break;case l.Zrf.SYSTEM_TABS:_=l.CbW.SYSTEM_TABS;break;case l.Zrf.AD_BLOCK_FEATURE_CUE_ID:_=l.CbW.AD_BLOCK_FEATURE_CUE_ID;break;case l.Zrf.BREAKING_NEWS_SETTINGS:_=l.CbW.BREAKING_NEWS;break;case l.Zrf.PACKAGE_TRACKING_SETTINGS:_=l.CbW.PACKAGE_TRACKING;break;case l.Zrf.DEALS_STORIES_SETTINGS:_=l.CbW.DEALS_STORIES;break;case l.Zrf.CONSENT_EVENTS:_=l.CbW.CONSENT_EVENTS;break;case l.Zrf.AUTO_OPEN_FIRST_MESSAGE:_=l.CbW.AUTO_OPEN_FIRST_MESSAGE;break;case l.Zrf.INBOX_STYLE:_=l.CbW.INBOX_STYLE;break;case l.Zrf.SUPPRESSED_UPSELLS:_=l.CbW.SUPPRESSED_UPSELLS;break;case l.Zrf.MIGRATION_STATUS:_=l.CbW.MIGRATION_STATUS;break;case l.Zrf.DISABLED_MESSAGE_READ_CARDS:_=l.CbW.DISABLED_MESSAGE_READ_CARDS;break;case l.Zrf.NUDGE_TO_REPLY_SETTING:_=l.CbW.NUDGE_TO_REPLY;break;case l.Zrf.SHOW_TODAY_AT_SIGNIN:_=l.CbW.SHOW_TODAY_AT_SIGNIN;break;case l.Zrf.PLAY_SOUND:_=l.CbW.PLAY_SOUND;break;case l.Zrf.PLAY_SOUND_MODE:_=l.CbW.PLAY_SOUND_MODE;break;case l.Zrf.READABILITY_MODE:_=l.CbW.READABILITY_MODE;break;case l.Zrf.EXPERIMENTAL_FEATURES:_=l.CbW.EXPERIMENTAL_FEATURES;break;case l.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS:_=l.CbW.PINNED_EMAILS_IDS_AND_TIMESTAMPS}return(0,h.Z)(_,`Id for ${t} is undefined or null`),_}const O=(e,{name:t,value:s,action:a,...n},r)=>{const{dispatch:i,getState:d}=e,_=(0,c.selectors)(d()),{getSelectedMailboxId:E,getAppName:u}=_;let m=[];const S=g(_,t,s);return m=m.concat(r.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:E(),attributes:[{id:S,value:S===l.CbW.BLOCK_IMAGES?!s:s}]}).then((()=>{i((0,o.FV)({name:t,requestActionPayload:a,...void 0!==(null==n?void 0:n.isFeatureCue)&&{isFeatureCue:n.isFeatureCue},...void 0!==(null==n?void 0:n.sourceAction)&&{sourceAction:n.sourceAction}}));const e=S===l.CbW.INBOX_STYLE&&u()===l.BQZ.MOBILE_APP;(S===l.CbW.BLOCK_IMAGES||e)&&window.setTimeout((()=>window.location.reload()),300)})).catch((()=>i((0,o.f6)({name:t,requestActionPayload:a,...void 0!==n.isFeatureCue&&{isFeatureCue:n.isFeatureCue},...void 0!==(null==n?void 0:n.sourceAction)&&{sourceAction:n.sourceAction}}))))),Promise.all(m)};var D=s(17591),R=s(17016),N=s(31057);var L=s(12055);var f=s(32440),M=s(590),P=s(35456),b=s(78263),y=s(45578),v=s.n(y),F=s(23493);const U=(e=[])=>e.map((({name:e,email:t})=>({name:e,email:t}))),k=(e,t)=>{const s=(0,c.selectors)(e),{getSelectedMailboxId:a,getDraftFolderIdByAccountEmail:n,getDraftFolderIdForPrimaryAccount:r,getAttachmentMessageReferenceByContentId:o,isReplyMessage:i,isReplyAllMessage:l,isForwardMessage:d,getReplyingToMessageId:_}=s,{to:E,cc:u,bcc:m,from:S,csid:p,subject:C,html:A,attachmentsInfo:T=[],rawFiles:I={},newContentIds:h=[],uiState:{useRichText:g}}=t,O=a(),D=n(S.email)||r(),R=_(p),N=i(p),L=l(p),f=d(p),M=v()(T,"contentId").filter((e=>{const t=h.some((t=>t===e.contentId)),s=o(e.contentId),a=e.id&&e.id.includes("inlineImage");let n=s&&e.partId&&e.partId.indexOf(".")>0;if(n){const t=e.partId.split(".")[0];n=!!T.find((({partId:e})=>e===t))}return(t||s)&&!n&&!a})).map((e=>{const t=o(e.contentId);return t?{...e,messageReference:t,file:void 0}:e})),b=[{name:S.sendingName||S.email,email:S.email}],y=S.replyToAddress?[{name:S.sendingName||S.replyToAddress,email:S.replyToAddress}]:[],F={csid:p,mailboxId:encodeURIComponent(O),subject:C,from:b,replyTo:y,to:U(E),cc:U(u),bcc:U(m),html:g?(0,P.ZK)(A,s):null,text:g?null:(0,P.iT)(A),folderId:D,attachments:M,files:(h||[]).map((e=>I[e])).filter(Boolean)};return R?(F.newMessage=!1,F.inReplyTo={messageReference:{id:R},replied:N||L,forwarded:!(N||L)&&f}):F.newMessage=!0,F},w=s.n(F)()(((e,t)=>{e((0,f.kS)(t))}),2e3);var G=s(72710),H=s(30426),B=s(91742),x=s(90583),V=s(92559);var Z=s(40315);const W=e=>({type:a.DOCUMENT_FETCH_FAILED,...e});var K=s(99691);function z({type:e,subtype:t}){switch((0,K.SA)(e,t)){case l.sSc.SimplifiedTypes.COMPRESSED:return{code:625,isRetryable:!1};default:return{code:813,isRetryable:!1}}}var Y=s(57438);var j=s(5156);const q=["tmrOnboardingCue","tmrIconNotification","addMailboxPopover","tmrMobileOnboardingCue","tmrMobileDailyCheckinCue","tmrMobileImapInCue","isWiderMailExtnEnabled","updateWiderMailCue","lastMinuteGiftShopCue","aptSecurityCue","blkDeleteMsgErnyCue","couponClipperCue","couponsViewCue","categoryFollowingCue","couponsViewLaunchCue","dealsViewCue","groceriesLocationsCue","groceriesProductCue","groceriesSearchCue","groceriesViewCue","inboxCouponsCue","inboxErnyBrndCue","inboxErnyCue","inboxErnyGrthBrndCue","inboxErnyGrthCue","inboxErnySvngsCue","linkedinReauthCue","msgReadDeleteEarnyCue","msgReadErnyCue","newUserOnboardingCue","purchasesViewCue","qtntviewLeftRailCue","qtntviewMsgReadCue","quotientClipperCue","quotientContextualCue","smallBizCue","shopRunnerViewCue","sportsCue","themesCue","valentineDayCue","walmartCue","rRAdFreeReshowUpsellCue","nextGenHomeCue","adblockDelayDismissCue","fathersDayComposeCue","mothersDayComposeCue","layoutCue","appInstallCueV3Dismiss","undefined"],X=e=>v()(e.filter((e=>q.indexOf(e.split(",")[0])<0)).sort(((e,t)=>(0|parseInt(t.split(",")[1],10))-(0|parseInt(e.split(",")[1],10)))),(e=>e.split(",")[0]));var Q=s(78737),J=s(3405);const $=({shouldWriteToDataSource:e,success:t,failure:s})=>(a,{name:n,userAction:r,userResponse:o,i13nModel:i},d)=>{const{dispatch:_,getState:E}=a,{getFeaturesSelectors:u,getFeatureCueSelectors:m,getSelectedMailboxId:S}=(0,c.selectors)(E()),{isPersistent:p,isKeySaved:C}=m();return i&&i.mKey===V.JE.CONVERSATIONS_CUE_TAP&&setImmediate((()=>_((0,Q.Ch)({route:(0,J.Tx)()})))),n&&n!==l.ANe.PARTNER_RECONSENT_BANNER?!C(n)&&e({userResponse:o,isPersistent:p(n)})?(({feature:e,userResponse:t,apiClients:{mailAPIClient:s},selectors:{getFeatureCueSelectors:a,getSelectedMailboxId:n}})=>{const{getSubkey:r}=a(),o=r(e)||e,i=n();(0,h.Z)(q.indexOf(o)<0,`${o} is legacy, it shouldn't be rendered`);const c=t?`${t}`:"";(0,h.Z)(c.length<5,`User Response should be of length 4 or less for ${e}, got ${c}`);const d=("0000"+c).substring(c.length);return s.request("saveArrayAttributes",{mailboxId:i,items:[`${o},${Math.round(Date.now()/1e3)},${d}`],attribute:l.CbW.SCOUT_ONBOARDING,dedupFn:X})})({feature:n,userResponse:o,apiClients:d,selectors:{getFeaturesSelectors:u,getFeatureCueSelectors:m,getSelectedMailboxId:S}}).then((e=>_(t({feature:n,value:e,userAction:r})))).catch((e=>_(s({feature:n,error:e,userAction:r})))):void 0:Promise.resolve()},ee=$({shouldWriteToDataSource:({userResponse:e,isPersistent:t})=>e||t,success:e=>(0,j.oe)(e),failure:e=>(0,j.Cz)(e)}),te=$({shouldWriteToDataSource:({isPersistent:e})=>!e,success:e=>(0,j.Ts)(e),failure:e=>(0,j.a7)(e)});var se=s(18380);var ae=s(18352);var ne=s(43475);var re=s(88071);var oe=s(30532),ie=s(42907);var le=s(54418);const ce=(e,t,s)=>{const{route:a,config:n,type:r}=t,o=((e,t)=>{switch(t.name){case l.n8z.FOLDER:return e.launchFolder;case l.n8z.MESSAGE_FROM_FOLDER_LIST:case l.n8z.MESSAGE_FROM_SEARCH_LIST:return e.launchMessage;default:return e.root}})((0,le.N)(n,"spaceids"),a),i=(0,le.N)(n,"geminiForceFilter"),c=(0,le.N)(n,"geminiCreativeId"),d=(0,le.N)(n,"sectionIdsToPrefetch")||[],_=(0,le.N)(n,"geminiSectionIds")||{},E=(0,le.N)(n,l.ANe.MSG_READ_PENCIL_AD),u=Object.keys(_).reduce(((e,t)=>{if(-1!==d.indexOf(_[t])){if(t===l.e$m.MESSAGE_READ&&!E)return e;e[t]=_[t]}return e}),{});if(!Object.keys(u).length)return Promise.resolve();const m={sectionId:u,publisherInfo:`lu:1||${o}|STRM|`,rotationActionType:r,isAdFeedbackV2:(0,le._)(n,"adFeedbackV2")?"enabled":"disabled"};return i&&(m.forceFilter=i),c&&(m.creativeId=c),(0,le._)(n,"geminiSponsoredVideo")&&(m.creativeCode="STRM,STRM_VIDEO",m.contentType="video/mp4,application/vnd.apple.mpegurl"),(0,le._)(n,"nobleHybridAd")&&(m.nobleHybridAdEnabled=!0),(0,le._)(n,"secondPencilFallbackSectionIdEnabled")&&(m.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(m).then((e=>e))},de=e=>{const t=(e=>{const t={};return Object.values(e||{}).forEach((e=>{e.forEach((e=>{e.vertical&&(void 0!==t[e.vertical]?t[e.vertical]+=1:t[e.vertical]=1)}))})),t})(e);let s={};return Object.keys(t).length&&(s={mKey:V.JE.RELATED_CARDS_REQUEST_SUCCESS,sec:V.nJ.MSG_READ_RELATED_CARDS,interactionType:V.Rb.nav,actionData:{}},Object.keys(t).forEach((e=>{s.actionData[`vertical-${e}`]=t[e]}))),s};var _e=s(96943),Ee=s(99839),ue=s(10587);var me=s(71887);var Se=s(59678);var pe=s(40564);var Ce=s(41958);const Ae=({dispatch:e,getState:t},{listId:s},{mailAPIClient:a})=>{const{getSelectedMailboxId:n,getListsSelectors:r,getFeaturesSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(t()),d=n(),{getItemIdsSelectors:_}=r(),E=o().getSetting(l.Zrf.CARD_GROUPS_FETCH_COUNT),u=_(s).getItemIds().length,m=(0,N.C4)(s),S=(0,N.WW)(s),p=i();return a.request("messageCards.getList",{mailboxId:d,filter:m,offset:u,count:E,sortOrder:S,accountId:p}).then((({cardGroupList:t,hasMoreItems:a})=>{e((0,Ce.XQ)({listId:s,cardGroupList:t,hasMoreItems:a}))})).catch((t=>{e((0,Ce.Qn)({listId:s,error:t}))}))},Te=({dispatch:e,getState:t},{listId:s,count:a=l.snh},{mailAPIClient:n})=>{const{getFeaturesSelectors:r,getSelectedMailboxId:o,getListsSelectors:i,getSelectedAccountId:d,getSelectedStreamItems:_,doesStreamExist:E}=(0,c.selectors)(t()),u=o(),m=d(),S=r().isEnabled(l.ANe.CONVERSATIONS),p=r().isEnabled(l.ANe.SELECT_ALL),{getItemIdsSelectors:C}=i(),A=C(s).getItemIds().length,T={folderId:(0,N.Fh)(s),mailboxId:u,accountId:m,sortOrder:(0,N.WW)(s),filter:(0,N.C4)(s),fromEmails:(0,N.Ob)(s),listIds:(0,N.yd)(s),fromNames:(0,N.dZ)(s),count:a,offset:A,conversationsMode:S,excludeFolderTypes:(0,N.JO)(s)};let I=!1;if(p){const e=(0,b.BA)([s]),t=E(e)?_(e):[];I=t.length>0&&C(s).getItemIds().length===t.length}return n.request("messageGroups.getList",T).then((({messageGroupList:t,hasMoreItems:a})=>e((0,Ce.tl)({listId:s,messageGroupList:t,hasMoreItems:a,allItemsSelected:I})))).catch((t=>{e((0,Ce.Iu)({listId:s,error:t}))}))},Ie=({dispatch:e,getState:t},{listId:s,count:a=l.snh},{mailAPIClient:n})=>{const{getSelectedMailboxId:r,getListsSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(t()),{doesListExist:d,getListOffset:_,hasMoreItems:E}=o(),u=r(),m=i(),S=l.ukn.ALL_REFUND_CARDS;let p=0;!!d(s)&&E(s)&&(p=d(s)?_(s):0);const C={mailboxId:u,filter:S,count:a,offset:p,sortOrder:l.Asd.CARD_DATE_DESC,accountId:m};return n.request("getMoreReceipts",C).then((t=>{e((0,Ce.Z$)({listId:s,cardGroupList:t.messageGroupsResponses.cardGroupList,hasMoreItems:t.messageGroupsResponses.hasMoreItems,offset:t.messageGroupsResponses.offset,parentMessagesMap:t.parentMessagesMap}))})).catch((t=>{e((0,Ce.az)({listId:s,error:t}))}))};var he=s(14196);function ge(e){return{type:a.POST_LAUNCH_SYNC_FAILED,...e}}function Oe(e){return e.then((e=>({status:l.aj8.FULFILLED,value:e})),(e=>({status:l.aj8.REJECTED,reason:e})))}function De(e=[]){return Promise.allSettled?Promise.allSettled(e):Promise.all(e.map(Oe))}const Re="MAILBOX_POST_SYNC",Ne="CHECK_XOBNIFIED";var Le=s(36632),fe=s(82159);const Me=e=>e.filter((e=>e.status===fe.wq.NEEDS_ACTION)),Pe=e=>e.filter((e=>e.status===fe.wq.COMPLETED));var be=s(29519);const ye=e=>({type:a.CHECK_NUDGE_AND_SMART_REPLY_FAILED,...e});var ve=s(44908),Fe=s.n(ve),Ue=s(45481);const ke=function(e,t,s){const{sectionIds:a,spaceId:n}=t;if(t.unsyncedDataType!==l.sKi.GEMINI_AD||!a||!n)return Promise.resolve();const{dispatch:r,getState:o}=e,{getFeaturesSelectors:i,getAdsSelectors:d,getAction:_,getGroupId:E,getSenderEmailIdsFromMessageGroup:u,getCouponsSelectors:m}=(0,c.selectors)(o()),{isEnabled:S,getSetting:p}=i(),C=d().getGeminiCategories(),A=p(l.Zrf.GEMINI_CREATIVE_ID),T=p(l.Zrf.GEMINI_FORCE_FILTER),I=u([E()]),h=(0,R.getRootDomainFromEmailAddress)(I[0]),{getCouponCategoriesForMessageGroup:g}=m(),O=g(),D={adCount:1,sectionId:a,publisherInfo:`lu:1||${n}|STRM|`,rotationActionType:_().type,isAdFeedbackV2:S(l.ANe.AD_FEEDBACK_V2)?"enabled":"disabled"},N=Object.keys(a).some((e=>e===l.e$m.SHOPPING_CART)),L=Object.keys(a).some((e=>e===l.e$m.DEALS_SHOPPING_CART)),f=Object.keys(a).some((e=>e===l.e$m.CROSS_DOMAIN_DPA_ADS)),M=S(l.ANe.DOMAIN_MATCH_AD)&&h&&Object.keys(a).some((e=>e===l.e$m.MESSAGE_READ));return S(l.ANe.ROTATE_PENCIL_AD_ON_EXPIRE)||setImmediate((()=>r((0,ae.k)({sectionIds:a})))),T&&(D.forceFilter=T),A&&(D.creativeId=A),S(l.ANe.GEMINI_SPONSORED_VIDEO)&&(D.creativeCode="STRM,STRM_VIDEO",D.contentType="video/mp4,application/vnd.apple.mpegurl"),M&&(D.domainParts=(0,Ue.$U)(I[0]).join(",")),S(l.ANe.SHOPPING_CART_AD)&&h?D.domain=h:S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&h&&(D.categories=O.slice(0,5).map((e=>e.id)).join(","),D.domain=h),C&&C.length&&(D.adCategories=C.join(",")),S(l.ANe.NOBLE_HYBRID_AD)&&(D.nobleHybridAdEnabled=!0),S(l.ANe.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED)&&(D.secondPencilFallbackSectionIdEnabled=!0),s.geminiAPIClient.request(D).then((e=>{const t={geminiAd:e,sectionIds:a};if(S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&f){const s=e[a[l.e$m.CROSS_DOMAIN_DPA_ADS]];t.i13nModel={mKey:s?V.JE.CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:V.JE.CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE,sec:V.nJ.DPA_ADS,actionData:{domain:h,categories:D.categories}},s&&s.length&&(t.i13nModel.actionData.adCount=s.length)}else if(M){const s=(null==e?void 0:e[a[l.e$m.MESSAGE_READ]])||[];t.i13nModel={mKey:V.JE.DOMAIN_MATCHED_PENCIL_AD_MSG_READ,sec:V.nJ.MSG_READ_AD,actionData:{domain:h,adCount:s.length}}}else if(N||L){const s=N?V.JE.SHOPPING_CART_AD_REQUEST_SUCCESS:V.JE.DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS,n=N?V.JE.SHOPPING_CART_AD_REQUEST_FAILURE:V.JE.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,r=e[a[l.e$m.SHOPPING_CART]]||e[a[l.e$m.DEALS_SHOPPING_CART]],o=(null==r?void 0:r.length)||0;let i={domain:h};N&&o&&(i={...i,adCount:o,adSource:Fe()(r.map((e=>{var t;return null==e||null===(t=e.pencilAd)||void 0===t?void 0:t.adSource}))),brand:Fe()(r.map((e=>{var t;return null==e||null===(t=e.pencilAd)||void 0===t?void 0:t.brand})))}),t.i13nModel={mKey:r?s:n,sec:V.nJ.SHOPPING_CART,actionData:i}}return S(l.ANe.SPONSORED_MESSAGE_TRIAGE)&&(t.sponsoredMessageTriage=!0),r((0,ae.nu)(t))})).catch((e=>{let t={};return S(l.ANe.CROSS_DOMAIN_DPA_ADS)&&f?t={mKey:V.JE.CROSS_DOMAIN_DPA_AD_REQUEST_ERROR,sec:V.nJ.DPA_ADS,actionData:{domain:h,categories:D.categories}}:(N||L)&&(t={mKey:N?V.JE.SHOPPING_CART_AD_REQUEST_FAILURE:V.JE.DEALS_SHOPPING_CART_AD_REQUEST_FAILURE,sec:V.nJ.SHOPPING_CART,actionData:{domain:h}}),r((0,ae.lN)({error:e,sectionIds:a,i13nModel:t}))}))};const we=function(e,t,s){if(t.unsyncedDataType!==l.sKi.IMPORTANT_CONTACTS_FETCH)return Promise.resolve();const{dispatch:a}=e,{fromEmail:n,listId:r}=t;return s.autoSuggestClient.importantContacts(n).then((e=>{a((0,H.v2)({fromEmail:n,contacts:e,listId:r}))})).catch((()=>{a((0,H.c6)({fromEmail:n,listId:r}))}))};var Ge=s(12550);var He=s(59098);var Be=s(70774);var xe=s(90406),Ve=s(73749),Ze=s(43373),We=s(42655),Ke=s(63523),ze=s(92039);var Ye=s(12602),je=s(6273);const qe=(e,t,s)=>{const{blockSenders:a=null,overWrite:n=!1,delta:r=1}=t,{dispatch:i}=e;return null===a?Promise.resolve():s.mailAPIClient.request("saveArrayAttributes",{items:a||[],overWrite:n,attribute:l.CbW.DELIVERY_BLOCKED_SENDERS}).then((()=>{i((0,o.FV)({name:l.Zrf.DELIVERY_BLOCKED_SENDERS,senders:a,delta:r}))})).catch((e=>{i((0,o.f6)({name:l.Zrf.DELIVERY_BLOCKED_SENDERS,error:e,delta:r}))}))};var Xe=s(44140),Qe=s.n(Xe),Je=s(91097);const $e=(e,t,s)=>{var n;const{dispatch:r,getState:o}=e,{getSelectedMailboxId:i,getRoute:d,getSettingsSelectors:_,getAccountSelectors:E,isFeatureEnabled:u,getAction:m}=(0,c.selectors)(o()),{getSettingsApiCallStatus:S}=_(),p=d(),C=null===(n=m())||void 0===n?void 0:n.type;if(p.name!==l.n8z.SETTINGS&&p.name!==l.n8z.BLOCKED_SENDERS&&p.name!==l.n8z.BLOCKED_DOMAINS&&C!==a.LAUNCH_COMPLETED)return Promise.resolve();const A=S(),T=u(l.ANe.MAIL_PLUS)||u(l.ANe.MAIL_PLUS_FREE_TRIAL)||u(l.ANe.MAIL_PLUS_MOBILE_APPS),I=u(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);if(A===l.DAQ.LOADED)return Promise.resolve();const h=i();return s.mailAPIClient.request("settings.get",{mailboxId:h,primaryAccountDisabled:E().isPrimaryAccountDisabled(),isMailPlusUser:T,useSavedSearchForFilters:I}).then((e=>{r({type:a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED,...e})})).catch((function(e){r({type:a.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED,payload:e})}))};var et=s(66588);var tt=s(2464),st=s(49973);var at=s(5199);const nt=(e,t,s,a)=>{var n,r;const{dispatch:o,getState:i}=e,{messageItemsToSync:l=[]}=t,{getSelectedMailboxId:d,getPendingUpdate:_,getFolderHighestModSeq:E}=(0,c.selectors)(i()),u=null==l||null===(n=l[0])||void 0===n||null===(r=n.sourceFolder)||void 0===r?void 0:r.id,m=u?{id:u,highestModSeq:E(u)}:{},{streamId:S}=_();return s.mailAPIClient.request("messages.getDeletedMessages",{mailboxId:d(),messages:l.map((e=>({messageId:e.messageId,modSeq:e.modSeq}))),folder:m,messageUpdateFailureMap:a}).then((({deletedMessages:e=[]})=>{o((0,at.O)({...t,deletedMessages:e,streamId:S,forceSync:!0}))})).catch((()=>{o((0,at.O)(t))}))},rt=async({messageItemQueries:e,apiMethod:t,apiPayload:s,actionPayload:a,payload:n,store:r,apiClients:o})=>{const i=function(e,t,s,a){return e.map(((e,n)=>{const r={...t},o={...s},i={...a};let l=r.messageItemsToSync,c=o.itemsToUpdate;return 0===n?(l=l.filter((({id:t,messageQuery:s})=>t===e.id||!s)),c=c.filter((({messageQueryId:t,messageQuery:s})=>t===e.id||!s))):(l=l.filter((({id:t})=>t===e.id)),c=c.filter((({messageQueryId:t})=>t===e.id))),r.messageItemsToSync=l,o.messageItemsToSync=l,o.successAction.messageItemsToSync=l,o.failureAction.messageItemsToSync=l,o.itemsToUpdate=c,o.successAction.itemsToUpdate=c,o.failureAction.itemsToUpdate=c,i.itemsToUpdate=c,i.messageItemsToSync=l,{batchApiPayload:r,batchActionPayload:o,batchPayload:i}}))}(e,s,a,n);return ot(i,t,r,o,i.length)};async function ot(e,t,s,a,n){const{dispatch:r}=s;if(0===e.length)return;const{batchApiPayload:o,batchActionPayload:i,batchPayload:d}=e.shift();return a.mailAPIClient.request(t,o).then((async({tasks:o,successType:_,shouldCheckMessageStatus:E,failureMap:u})=>{if(_===l.Fa7.ASYNC&&o.length>0)e.length+1===n&&r((0,C.Tf)({tasks:o,messageItemsToSync:[],actionPayload:i,isPassiveBulkTask:!0})),await async function(e,t,s,a,n,r){const{dispatch:o,getState:i}=s;let{id:d,status:_}=t,E=!1;const u=e=>new Promise((t=>setTimeout(t,e)));for(;!E;){const{getAsyncTask:s}=(0,c.selectors)(i());if(s().abort)return await ct({mailAPIClient:e,batchActionPayload:r,task:t,dispatch:o}),{aborted:!0};switch(await e.request("task.status",{taskId:d}).then((({task:e})=>{var t;d=e.id,_=e.status;const s=dt(null!==(t=e.progress)&&void 0!==t?t:0,a,n);o((0,C.u8)({...e,progress:s,isPassiveBulkTask:!0}))})).catch((()=>{throw E=!0,Error("Error occurred listening to task status")})),_){case l.sZ3.PENDING:await u(5e3);break;case l.sZ3.COMPLETED:case l.sZ3.FAILED:E=!0;break;default:throw E=!0,Error("Unkown error occurred listening to task status")}}}(a.mailAPIClient,o[0],s,n-(e.length+1),n,i).then((async o=>{null!=o&&o.aborted?it(d,e,r,o.aborted):(await ot(e,t,s,a,n),r((0,at.G)(d)))})).catch((()=>{lt(d,e,r)}));else if(_===l.Fa7.FAIL){if(E)return nt(s,d,a,u);r((0,at.O)(d))}else it(d,e,r)})).catch((()=>{lt(d,e,r)}))}function it(e,t,s,a){for(s((0,at.G)({...e,abort:a}));t.length>0;){const e=t.shift().batchPayload;s((0,at.G)({...e,abort:a}))}}function lt(e,t,s){for(s((0,at.O)(e));t.length>0;){const e=t.shift().batchPayload;s((0,at.O)(e))}}async function ct({mailAPIClient:e,batchActionPayload:t,task:s,dispatch:a}){const{successAction:n,streamId:r,itemsToUpdate:o,triageActionType:i,folderId:l,count:c,conversations:d}=t,_=r&&o?A({streamId:r,itemsToUpdate:o}):void 0,{progress:E,id:u}=s;return e.request("task.abort",{taskId:u}).then((()=>a({...n,undoAction:n.undoAction||_,progress:E,abort:!0}))).catch((()=>a((0,C.td)({triageActionType:i,folderId:l,count:c,conversations:d,taskId:u,progress:E}))))}function dt(e,t,s){return Math.trunc((e+100*t)/s)}const _t=(e,t,s)=>{const{dispatch:n,getState:r}=e,{getFeaturesSelectors:o,getSelectedMailboxId:i,getPendingUpdate:d}=(0,c.selectors)(r()),{unsyncedDataType:_,messageItemsToSync:E=[],isRead:u}=t;if(_!==l.sKi.MESSAGE_ITEM_TO_UPDATE||!E.length)return Promise.resolve();const m=o(),S=E.some((e=>e.permanentDelete)),p=m.isEnabled(l.ANe.CONVERSATIONS),{type:T,streamId:I,itemsToUpdate:h=[],triageActionType:g="",folderId:O="",destinationFolderId:D="",destinationFolderType:R="",count:N,conversations:L,isAutomatic:f=!1}=d();let M,P=Object.keys(h.reduce(((e,t)=>({...e,[t.id]:!0})),{})).length;switch(f&&E.some((e=>!e.flags.read))&&Ee.Z.error("debug_mark_as_read",{actionType:T,itemsToUpdate:h,messageItemsToSync:E}),-1!==[l.Ewo.READ_CHANGE_FOLDER_ITEMS,l.Ewo.ARCHIVE_FOLDER_ITEMS,l.Ewo.DELETE_FOLDER_ITEMS].indexOf(g)&&(P=N),g){case l.Ewo.MOVE_SELECTED_ITEMS:case l.Ewo.RESTORE_SELECTED_ITEMS:case l.Ewo.SPAM_SELECTED_ITEMS:case l.Ewo.NOT_SPAM_SELECTED_ITEMS:{const e={streamId:I,itemsToUpdate:h,i13nModel:{mKey:V.JE.UNDO_MOVE_ACTION},triageActionType:l.Ewo.UNDO_MOVE};void 0!==u&&(e.isRead=u),M=A(e);break}case l.Ewo.DELETE_SELECTED_ITEMS:M=S?void 0:A({streamId:I,itemsToUpdate:h,i13nModel:{mKey:V.JE.UNDO_DELETE_ACTION},triageActionType:l.Ewo.UNDO_MOVE});break;case l.Ewo.ARCHIVE_SELECTED_ITEMS:M=A({streamId:I,itemsToUpdate:h,i13nModel:{mKey:V.JE.UNDO_ARCHIVE_ACTION},triageActionType:l.Ewo.UNDO_MOVE})}const b=m.getSetting("bulkActionDialogThreshold"),y=E.filter((e=>!!e.messageQuery)),v=E.length>b||y.length>0,F={mailboxId:i(),messageItemsToSync:E,isAsync:v},U={messageItemsToSync:E,itemsToUpdate:h,triageActionType:g,folderId:O,destinationFolderId:D,destinationFolderType:R,isAsync:v,count:P,permanent:S,conversations:p,...void 0!==u&&{isRead:u},...void 0!==L&&{conversations:L}},k={successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...U,undoAction:M},failureAction:{type:a.UPDATE_ITEMS_FAILED,...U},...U},w=((e=[])=>{let t;for(let s=0;s<e.length;s++){const{updateTypes:a}=e[s];if(a.length>1)return"messages.UnifiedUpdate";if(t){if(a[0]!==t)return"messages.UnifiedUpdate"}else t=a[0]}switch(t){case l.oc$.READ:return"messages.readFlagUpdate";case l.oc$.STAR:return"messages.starFlagUpdate";case l.oc$.MOVE:return"messages.move";case l.oc$.DELETE:return"messages.delete";default:return"messages.UnifiedUpdate"}})(E);return y.length>=1?rt({messageItemQueries:y,apiMethod:w,apiPayload:F,actionPayload:k,payload:U,store:e,apiClients:s}):s.mailAPIClient.request(w,F).then((({tasks:t,successType:a,shouldCheckMessageStatus:r,failureMap:o})=>{if(a===l.Fa7.ASYNC)n((0,C.Tf)({tasks:t,messageItemsToSync:E,actionPayload:k}));else if(a===l.Fa7.FAIL){if(r)return nt(e,U,s,o);n((0,at.O)(U))}else n((0,at.G)({...U,undoAction:M}))})).catch((()=>{n((0,at.O)(U))}))},Et=(e,t,s)=>{const{getState:n}=e,{getSetting:r,isMobileRoute:o}=(0,c.selectors)(n()),i=r(l.Zrf.SCOUT_ONBOARDING),{name:d,value:_,userResponse:E}=t,u=(0,Se.JV)(i,l.ANe.WEB_PAC_NOTIFICATION_CUE),m=d===l.Zrf.SHOW_IMAGES&&!_&&u>0||d!==l.Zrf.SHOW_IMAGES&&E,S=u>=l.hqH;if(!([a.SETTINGS_CHANGE_REQUESTED,l.sKi.UPDATE_PAC_CUE].indexOf(t.unsyncedDataType)>-1)||o()||S||!m)return Promise.resolve();const p={name:l.ANe.WEB_PAC_NOTIFICATION_CUE,userResponse:E||l.hqH,i13nModel:{sec:V.nJ.FEATURE_CUE,mKey:"cue_pacNotificationCue_invoke",actionData:{fromMsgBody:!!E}}};return te(e,p,s)};var ut=s(47292);var mt=s(1035);var St=s(1656);var pt=s(18091);var Ct=s(36850);var At=s(3690);var Tt=s(40818);var It=s(49760);var ht=s(73683);var gt=s(99124);var Ot=s(58583);var Dt=s(73722),Rt=s(89506);var Nt=s(32443);var Lt=s(33139);var ft=s(61149);var Mt=s(61514);const Pt=[(e,t,s)=>{const{route:a,selectedMailbox:n,config:r={}}=t,{dispatch:o,getState:i}=e,{isFeatureEnabled:d,getEnvironmentSelectors:_}=(0,c.selectors)(i()),E=a?(0,N.LY)(a):void 0;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.SEARCH,l.n8z.SETTINGS,l.n8z.TUTORIAL,l.n8z.SIGNATURES_FROM_SETTINGS,l.n8z.THEME_CHOOSER,l.n8z.CONTACTS,l.n8z.CONTACT_DETAILS,l.n8z.CONTACT_DETAILS_FROM_SEARCH,l.n8z.EDIT_CONTACT,l.n8z.CREATE_CONTACT,l.n8z.ACCOUNT_LIST_FROM_SETTINGS,l.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,l.n8z.ADD_ACCOUNT_PROVIDER,l.n8z.ADD_MAILBOX_PROGRESS,l.n8z.BLOCKED_SENDERS,l.n8z.BLOCKED_DOMAINS,l.n8z.AFTER_MESSAGE_MOVE,l.n8z.MESSAGE_PREVIEW,l.n8z.SUBSCRIPTION_LIST,l.n8z.STOREFRONT,l.n8z.PORTRAIT_AD,l.n8z.MAILPLUS_BENEFITS_UPSELL,l.n8z.FOCUSED_INBOX,l.n8z.TODAYPAGE,l.n8z.SEND_CONFIRMATION,l.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL,l.n8z.CONTACTS,l.n8z.ONBOARDING,l.n8z.INBOX_HIGHLIGHT_SETTINGS,l.n8z.WALLET].indexOf(a.name)&&!(0,N.Yd)(E)&&!(0,N.SH)(a)&&(0,N.aY)(E)!==l.qd8.SUBSCRIPTIONS)return Promise.resolve();const u=n.id,m=d(l.ANe.MAIL_PLUS),S=_().getUserNamespace();let p={};d(l.ANe.PINNED_EMAILS)&&S===l.Tzw.YAHOO&&(p.PINNED_EMAILS_IDS_AND_TIMESTAMPS=l.CbW.PINNED_EMAILS_IDS_AND_TIMESTAMPS),r.compactCompose&&(p={...p,...l.Ncq});const C={...l.zkc,...m?l.UHK:{},...p};return s.mailAPIClient.request("launch.skeleton",{mailboxId:u,attributesToFetch:C}).then((e=>{o((0,oe.E3)({initialMailboxAttributes:t.mailboxAttributes,selectedMailbox:n,...e}))})).catch((e=>o((0,oe.c5)({error:e}))))},(e,t,s)=>{const{route:a,config:n={},selectedMailbox:r}=t;if(!a)return Promise.resolve();const o=(0,N.LY)(a),i=(0,N.Fh)(o),d=(0,N.WW)(o),E=(0,N.C4)(o),{dispatch:u,getState:m}=e,{isFeatureEnabled:S,getEnvironmentSelectors:p}=(0,c.selectors)(m()),C=p().getUserNamespace();if(t.unsyncedDataType!==l.sKi.LAUNCH||a.name!==l.n8z.FOLDER&&a.name!==l.n8z.EDIT_FOLDER&&a.name!==l.n8z.BASE&&a.name!==l.n8z.LIST||(0,N.GG)(o))return Promise.resolve();const{pencilAd:A,conversations:T,launchFolderTimeout:I,messageFetchCountInitial:h,compactCompose:g=!1}=n,O=_e.Z.feature("gemini_server_prefetch",{routeName:a.name});let D=null;A&&ce(0,t,s).then((e=>{D=e}));const R=r.id;let L=null;var f;S(l.ANe.DISPATCHER_UPSELLS_ELIGIBLE)&&!(0,_.jU)()&&(null!==(f=t.memberProfileData)&&void 0!==f&&f.marketingpreferencesData?(L=(0,ue.A9)(t.memberProfileData.marketingpreferencesData),Ee.Z.error("launch:marketingPreferences",{optedOutProducts:Object.keys(L||{}).join(",")})):s.marketingPreferencesAPIClient.request("readMemberProfilePreferences").then((e=>{L=e,Ee.Z.error("marketingPreferences",{optedOutProducts:Object.keys(e||{}).join(",")})})));let M={};return S(l.ANe.PINNED_EMAILS)&&C===l.Tzw.YAHOO&&(M.PINNED_EMAILS_IDS_AND_TIMESTAMPS=l.CbW.PINNED_EMAILS_IDS_AND_TIMESTAMPS),g&&(M={...M,...l.Ncq}),s.mailAPIClient.request("launch.folder",{folderId:i,sortOrder:d,filter:E,count:h,offset:0,conversationsMode:T,mailboxId:R,attributesToFetch:M},{timeout:I}).then((({error:e,messageGroups:s,...a})=>{u((0,oe.E3)({initialMailboxAttributes:t.mailboxAttributes,...a,listId:o,geminiAd:D,selectedMailbox:r,messageGroupList:s,optedOutMarketingProducts:L,...e&&{launchError:l.Rtf.FOLDER_ACCESS_FAILED}})),A&&(D?O.logSuccess():O.logFailure())})).catch((e=>u((0,oe.c5)({error:e}))))},(e,t,s)=>{const{route:a,config:n={},mailboxAttributes:r,appName:o,selectedMailbox:i}=t;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.MESSAGE_FROM_LIST,l.n8z.MESSAGE_FROM_FOLDER_LIST,l.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(a.name))return Promise.resolve();const d=a.params,_=(0,N.LY)(a),E=decodeURIComponent(d.groupId),u=(0,N.Fh)(_),m=(0,N.WW)(_),S=(0,N.C4)(_),{value:p=[]}=r[l.CbW.SCOUT_ONBOARDING]||{},{pencilAd:C,conversations:A,messageFetchCountInitial:T,compactCompose:I=!1}=n,{dispatch:h,getState:g}=e,O=(0,Se.Zo)(p),D=(0,Se.yW)(p),R=i.id,L=!!r[l.CbW.MOBILE_SHOW_IMAGES]&&(!r[l.CbW.MOBILE_SHOW_IMAGES].value&&!D),f=!!r[l.CbW.BLOCK_IMAGES]&&(r[l.CbW.BLOCK_IMAGES].value&&!O),M=o===l.BQZ.MOBILE_APP?L:f,{isFeatureEnabled:P,getEnabledVerticals:b,getEnvironmentSelectors:y}=(0,c.selectors)(g()),v=y().getUserNamespace();let F=null;C&&ce(0,t,s).then((e=>{F=e}));const U=b();let k={};return P(l.ANe.PINNED_EMAILS)&&v===l.Tzw.YAHOO&&(k.PINNED_EMAILS_IDS_AND_TIMESTAMPS=l.CbW.PINNED_EMAILS_IDS_AND_TIMESTAMPS),I&&(k={...k,...l.Ncq}),s.mailAPIClient.request("launch.messageGroup",{isConversation:A,messageGroupId:E,folderId:u,sortOrder:m,filter:S,count:T,offset:0,secure:M,mailboxId:R,attributesToFetch:k,batchRelatedCards:P(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),shouldGetExtractions:P(l.ANe.MAIL_TODO_SMART_SUGGESTIONS)||P(l.ANe.ABANDONED_CART_EXP1_TEST_A)||P(l.ANe.ABANDONED_CART_EXP1_TEST_B)||P(l.ANe.ABANDONED_CART_EXP2_TEST_A)||P(l.ANe.ABANDONED_CART_EXP2_TEST_C),enabledVerticals:U}).then((function({messageGroups:e,messageBodiesMap:t,messageMetadataMap:s,messageGroupList:a,hasMoreItems:n,folderId:o,error:c,...d}){const E=de(d.relatedCardsMap);h((0,oe.E3)({initialMailboxAttributes:r,...d,selectedMailbox:i,geminiAd:F,i13nModel:E,...c?{folderId:o,messageGroupList:a,hasMoreItems:n,launchError:l.Rtf.MESSAGE_ACCESS_FAILED}:{listId:_,messageGroups:e,messageBodiesMap:t,messageMetadataMap:s}}))})).catch((e=>h((0,oe.c5)({error:e}))))},(e,t,s)=>{const{route:a,encryptedQueryParams:n,selectedMailbox:r}=t;if(!a||t.unsyncedDataType!==l.sKi.LAUNCH||-1===[l.n8z.NEW_DRAFT,l.n8z.EDIT_DRAFT].indexOf(a.name))return Promise.resolve();const o=decodeURIComponent(a.params.csid),{dispatch:i,getState:d}=e,_=r.id,{isFeatureEnabled:E}=(0,c.selectors)(d()),u=E(l.ANe.MAIL_PLUS);return s.mailAPIClient.request("launch.compose",{csid:o,mailboxId:_,isMailPlusUser:u}).then((e=>{let s;(0,h.Z)(o,"csid is required and should be in the url");const a={csid:o,initialTo:"",initialCc:"",initialBcc:"",initialSubject:"",initialBody:{}};if(e.message){const{id:n,headers:o,folder:{types:c,id:d}}=e.message;if(s=(0,N.Kw)(d),c[0]&&-1===c[0].indexOf(l.Sck.DRAFT)){const{id:s}=(0,ie.lS)(e.accounts,e.folders);return i((0,oe.E3)({initialMailboxAttributes:t.mailboxAttributes,...e,selectedMailbox:r,folderId:s,launchError:l.Rtf.COMPOSE_ACCESS_FAILED})),Promise.resolve()}Object.assign(a,{initialFrom:o.from,initialTo:o.to,initialCc:o.cc,initialBcc:o.bcc,initialSubject:o.subject,initialBody:{content:e.messageBodiesMap[n].html}})}i((0,oe.E3)({initialMailboxAttributes:t.mailboxAttributes,...e,listId:s,selectedMailbox:r,draftData:a,encryptedQueryParams:n}))})).catch((e=>i((0,oe.c5)({error:e}))))},async(e,t,s)=>{const{route:a,config:n={},selectedMailbox:r}=t;if(!a)return Promise.resolve();const{dispatch:o,getState:i}=e,{isFeatureEnabled:d}=(0,c.selectors)(i());if(t.unsyncedDataType!==l.sKi.LAUNCH||!d(l.ANe.FOCUSED_INBOX)||a.name!==l.n8z.FOCUSED_INBOX)return Promise.resolve();const E=(0,N.LY)(a),u=(0,N.Fh)(E),m=(0,N.WW)(E),S=(0,N.C4)(E),p=(0,N.Er)(E),{pencilAd:C,conversations:A,launchFolderTimeout:T,messageFetchCountInitial:I,compactCompose:h=!1}=n,g=_e.Z.feature("gemini_server_prefetch",{routeName:a.name});let O=null;C&&(O=await ce(0,t,s));const D=r.id;let R=null;var L;d(l.ANe.DISPATCHER_UPSELLS_ELIGIBLE)&&!(0,_.jU)()&&(null!==(L=t.memberProfileData)&&void 0!==L&&L.marketingpreferencesData?(R=(0,ue.A9)(t.memberProfileData.marketingpreferencesData),Ee.Z.error("launch:marketingPreferences",{optedOutProducts:Object.keys(R||{}).join(",")})):(R=await s.marketingPreferencesAPIClient.request("readMemberProfilePreferences"),Ee.Z.error("marketingPreferences",{optedOutProducts:Object.keys(R||{}).join(",")})));return(async()=>{try{const e=await s.mailAPIClient.request("launch.folder",{folderId:u,sortOrder:m,filter:S,count:I,offset:0,conversationsMode:A,mailboxId:D,attributesToFetch:h?l.Ncq:{}},{timeout:T}),a=(({jediResponse:e,falconResponse:t})=>({...e,messageGroups:t.messageGroups,hasMoreItems:t.hasMore}))({jediResponse:e,falconResponse:await s.falconAPIClient.getFocusedInbox(D,p,e.folderId,me.k)}),{error:n,messageGroups:i,...c}=a;o((0,oe.E3)({initialMailboxAttributes:t.mailboxAttributes,...c,listId:E,geminiAd:O,selectedMailbox:r,messageGroupList:i,optedOutMarketingProducts:R,...n&&{launchError:l.Rtf.FOLDER_ACCESS_FAILED}}))}catch(e){o((0,oe.c5)({error:e}))}C&&(O?g.logSuccess():g.logFailure())})()}],bt=[(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getDraftFolderIdByAccountEmail:o,getDraftFolderIdForPrimaryAccount:i,getFeaturesSelectors:d,getDraftMessageId:_,getGroupIdContainingMessageId:E,isSendRequested:u,doesComposeHaveFatalError:m}=(0,c.selectors)(r),{isEnabled:S}=d(),p=S(l.ANe.CONVERSATIONS),{from:C,csid:A,lastEditedTimeStamp:T,newContentIds:I=[],showNotification:h,unsyncedDataType:g,rawFiles:O={},isDialogAction:D=!1}=t,R=h?"messages.saveV3":"messages.autoSaveV3";if(!A||g!==l.sKi.COMPOSE||u(A)||m(A)&&!h)return Promise.resolve();const L=k(r,t),P=o(C.email)||i(),y=(0,N.Kw)(P),v=I.filter((e=>O[e])),F={strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:0,...L.files.length?{uploadProgressCallback(e){const{percent:t}=e;w(a,{newFileContentIds:v,percent:parseInt(t,10),csid:A})}}:{}};return s.mailAPIClient.request(R,L,F,L.files).then((e=>{const{html:s,htmlAnnotations:n}=t,r=_(A);e.simpleBody={html:s,htmlAnnotations:n},a((0,f.gc)({...e,lastEditedTimeStamp:T,csid:A,listId:y,conversationsMode:p,draftMessageId:r,draftFolderId:P,previousStreamItem:{listId:y,id:E(r)},streamId:(0,b.BA)([y]),streamItem:{listId:y,id:p?e.message.conversationId:e.message.id},isDialogAction:D}))})).catch((e=>a((0,f.pl)({lastEditedTimeStamp:T,csid:A,listId:y,newContentIds:I,error:e,showNotification:h}))))},(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSendFolderIdByAccountEmail:o,getSendFolderIdForPrimaryAccount:i,getMessagesSelectors:d,getFeaturesSelectors:_,getDraftMessageId:E,getRoute:u,canSendDraft:m,getDraftErrors:S,isSendRequested:p,isSent:C,getMessageCsid:A,doesMessageIdExist:T,didAttachmentUploadFail:I,getGroupIdContainingMessageId:h,getMainStreamListIds:g,getReplyingToMessageId:O}=(0,c.selectors)(r),{isEnabled:D}=_(),{csid:R,from:N,lastEditedTimeStamp:L,attachmentsInfo:P=[],listId:y,unsyncedDataType:v}=t;if(!R||v!==l.sKi.COMPOSE||C(R)||!p(R))return Promise.resolve();const F=k(r,t);if(S(F))return Promise.reject();const U=u(),w=E(R),G=D(l.ANe.CONVERSATIONS),H=o(N.email)||i(),B=O(R),x=g(U),V=x[0],Z=(0,b.BA)(x),W=h(B||w),K=B&&T(B)?A(B):null,z={strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:0};if(F.sentFolderId=H,F.secure=!_().isEnabled(l.Zrf.SHOW_IMAGES),m({csid:R,lastEditedTimeStamp:L,attachmentsInfo:P})){let e;return G&&(e=d().getConversationId(w)),s.mailAPIClient.request("messages.send",{...F,messageId:w},z,F.files).then((t=>a((0,f.Wr)({...t,message:{...t.message,folder:{id:H},inReplyTo:F.inReplyTo,conversationId:e},route:U,csid:R,listId:V,streamId:Z,...W?{streamItem:{id:W,listId:V,messageIds:[w||t.message.id]}}:null,destinationFolderId:H,lastEditedTimeStamp:L,sentFolderId:H,conversationsMode:G,inReplyToMessageCsid:K})))).catch((e=>a((0,f.lN)({csid:R,listId:y,groupId:W,lastEditedTimeStamp:L,error:e}))))}const Y=P.filter((e=>I(e.contentId)));return Y.length?Promise.resolve().then((()=>{a((0,f.lN)({csid:R,lastEditedTimeStamp:L,listId:y,groupId:W,error:{invalidAttachments:Y}}))})):s.mailAPIClient.request("messages.saveAndSend",F,z,F.files).then((e=>a((0,f.qN)({...e,message:{...e.message,folder:{id:H}},csid:R,listId:V,streamId:Z,...W?{streamItem:{id:W,listId:V,messageIds:[w||e.message.id]}}:null,destinationFolderId:H,lastEditedTimeStamp:L,sentFolderId:H,conversationsMode:G,inReplyToMessageCsid:K})))).catch((e=>a((0,f.lN)({csid:R,listId:y,groupId:W,lastEditedTimeStamp:L,error:e}))))},function(e,t,s){const{dispatch:a,getState:n}=e,{getFeaturesSelectors:r,getSelectedMailboxId:o,getMessagesSelectors:i,isDraftMessage:d,isFeatureEnabled:_,getCurrentListId:E,getGroupIdContainingMessageId:u,getCardConversationIdsFromMessageGroupId:m,getFalconRelatedCardSelectors:S,getEnabledVerticals:p,getSelectedAccountId:C,getSetting:A,getTodoSelectors:T,getSettingsSelectors:I}=(0,c.selectors)(n()),h=o(),g=r(),{doRelatedCardsExistForGroupId:O}=S(),{isFallback:D=!1,messageIds:R=[],secure:N=!0,full:L=!1,messageGroupId:f,draftCsid:M,prefetchMode:P,retryCount:b=0,ineligibleFalconTOMGroupIds:y=[],firstMessageIds:v=[]}=t;if(t.unsyncedDataType!==l.sKi.MESSAGE_ITEM_TO_FETCH)return Promise.resolve();const F=E(),U=g.isEnabled("fetchFullBody"),k=g.isEnabled(l.ANe.CONVERSATIONS),w=g.isEnabled(l.ANe.DEALS),G=g.isEnabled(l.ANe.FLIGHT_CARD_EXTRACTIONS),H=g.isEnabled(l.ANe.RECEIPTS),B=g.isEnabled(l.ANe.PRODUCT_RECOMMENDATIONS),x=_(l.ANe.PKG_TRACKING_TOP_OF_MSG),{messageIds:V,draftMessageIds:W,cardConversationIds:K}=R.reduce((({messageIds:e,draftMessageIds:t,cardConversationIds:s},a)=>{const n=i().getCardConversationId(a);return d(a)?t.push(a):e.push(a),n&&(w||H||G||B||x)&&s.push(n),{messageIds:e,draftMessageIds:t,cardConversationIds:s}}),{messageIds:[],draftMessageIds:[],cardConversationIds:[]}),z=_(l.ANe.MAIL_TODO_SMART_SUGGESTIONS),Y=_(l.ANe.ABANDONED_CART_EXP1_TEST_A)||_(l.ANe.ABANDONED_CART_EXP1_TEST_B)||_(l.ANe.ABANDONED_CART_EXP2_TEST_A)||_(l.ANe.ABANDONED_CART_EXP2_TEST_C),{getTodoByMessageId:j}=T(),q={};z&&v.forEach((e=>{if(!j(e)){const t=i().getCardConversationId(e);t&&(q[e]=t)}})),Y&&v.forEach((e=>{const t=i().getCardConversationId(e);t&&(q[e]=t)}));const X=Boolean(W.length)||!k||L||U,Q=function({shouldFetchFullBody:e,shouldFetchExtractedBody:t,messageGroupId:s,isFallback:a,draftCsid:n,prefetchMode:r}){let o;if(o=r?e?"messages.prefetchGetBodiesFull":"messages.prefetchGetBodies":e?"messages.getBodiesFull":"messages.getBodies",t)switch(o){case"messages.getBodies":o="messages.getExtractedBodies";break;case"messages.getBodiesFull":o="messages.getExtractedBodiesFull";break;case"messages.prefetchGetBodies":o="messages.prefetchGetExtractedBodies";break;case"messages.prefetchGetBodiesFull":o="messages.prefetchGetExtractedBodiesFull"}return s?o="messageGroups.get":n&&(o="messages.getCompose"),a?o+"Fallback":o}({shouldFetchFullBody:X,shouldFetchExtractedBody:K.length>0||Object.keys(q).length>0,messageGroupId:f,isFallback:D,draftCsid:M,prefetchMode:P}),J=p();let $=!1;"messages.getCompose"!==Q&&($=_(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)||_(l.ANe.DISPLAY_BIMI));let ee={},te={};const{isRightRailCommerceResponseLoaded:se}=I(),ae=_(l.ANe.RIGHT_RAIL_DEALS)&&!se(),ne=_(l.ANe.RIGHT_RAIL_PRODUCTS)&&!se(),re=C(),oe=l.nMQ,ie=A(l.Zrf.COUPON_CARDS_FETCH_COUNT),le=[0,0],ce=["TRASH","BULK"];if(ae){ee={startCardDate:(0,Z.Qy)(new Date),endCardDate:Math.round((new Date).getTime()/1e3)+30*Z.K5,accountId:re,filter:[l.ukn.ALL_COUPON_CARDS],count:ie,offset:le,sortOrder:oe,excludeFolderTypes:ce}}if(ne){te={startCardDate:"",endCardDate:"",accountId:re,filter:[l.ukn.ALL_DEAL_RECOMMENDATION_CARDS],count:ie,offset:le,sortOrder:oe,excludeFolderTypes:ce}}if(f||M)return s.mailAPIClient.request(Q,{mailboxId:h,isConversation:k,messageGroupId:f,csid:M,cardConversationIds:m(f),full:X,secure:N,batchRelatedCards:$,enabledVerticals:J}).then((e=>{const t=de(e.relatedCardsMap);a((0,he.P8)({listId:F,secure:N,full:X,messageGroup:e.messageGroup,messageBodiesMap:e.messageBodiesMap,messageMetadataMap:e.messageMetadataMap,response:e.response||{},ineligibleFalconTOMGroupIds:y,relatedCardsMap:e.relatedCardsMap,i13nModel:t,enabledVerticals:J}))})).catch((e=>{a((0,he.pc)({listId:F,messageGroupId:f,csid:M,error:e}))}));let _e=[],Ee=[];return $&&(Ee=v.filter((e=>{const t=u(e),s=O(t);return s||(_e=_e.concat([t])),!s})),Ee=Ee.concat(R.filter((e=>{const t=u(e),s=-1===_e.indexOf(t),a=O(t);return s&&!a})))),s.mailAPIClient.request(Q,{mailboxId:h,messageIds:V,draftMessageIds:W,cardConversationIds:K,full:X,secure:N,prefetchMode:P,batchRelatedCards:$,enabledVerticals:J,messagIdsToFetchCards:Ee,shouldGetExtractions:Object.keys(q).length>0,msgIdToCcidMapForTOMExtractions:q,getCouponsListPayload:ee,getProductRecommendationItemsPayload:te},{retryCount:b}).then((e=>{let t=e.result.relatedCardsMap;t=Object.keys(t||{}).reduce(((e,s)=>{const a=u(s);return a?e[a]=t[s]:e[s]=t[s],e}),{});const s=de(t);let n=e.result.extractedCardsForTodoTOMMap;n=Object.keys(n||{}).reduce(((e,t)=>(e[u(t)]=n[t],e)),{});const r=e.result.extractedShoppingCards;a((0,he.Bz)({listId:F,full:X,secure:N,messageBodiesMap:e.result.messageBodiesMap,messageMetadataMap:e.result.messageMetadataMap,errorMessageIds:e.error&&e.error.messageIds||[],response:e.result.response||{},ineligibleFalconTOMGroupIds:y,relatedCardsMap:t,extractedCardsForTodoTOMMap:n,extractedShoppingCards:r,rightRailCommerceCardsApiLoaded:ae||ne,i13nModel:s,enabledVerticals:J}))})).catch((e=>{a((0,he.uq)({listId:F,messageIds:R,error:e}))}))},function(e,t,{bootcampClient:s}){const{dispatch:a,getState:n}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getListsSelectors:d,getAppName:_,getSetting:E,isFeatureEnabled:u,getPrescribedNumberOfColumns:m}=(0,c.selectors)(n()),{doesListExist:S,getListStatus:p}=d(),C=o();let{listId:A}=t;const T=u(l.ANe.SHOW_RECENT_SUGGESTIONS),h=_()===l.BQZ.MOBILE_APP,g=2===m(),O=C.name===l.n8z.SEARCH||h&&g&&C.name===l.n8z.MESSAGE_FROM_SEARCH_LIST,D=u(l.ANe.SECOND_SEARCH_AD)&&!u(l.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)?2:1;if(t.unsyncedDataType!==l.sKi.CONTACT_DETAILS&&(A=(0,N.LY)(C)),u(l.ANe.YAI_SEARCH)&&t.unsyncedDataType===l.sKi.LIST_TO_UPDATE){const e=(0,N.Q7)(A);let t="";const s=(0,ze.Gi)(e);s&&(t=(0,ze.vl)(e));if(!s&&e.split(" ").length>=l.$eb||t.split(" ").length>=l.$eb)return Promise.resolve()}if((t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!O||t.listId!==A||(0,Ke.lX)(A)||S(A)&&p(A)!==l.DAQ.DOES_NOT_EXIST&&!t.isStale)&&t.unsyncedDataType!==l.sKi.CONTACT_DETAILS)return Promise.resolve();const R=r()?i():null;return R?new Promise(((e,t)=>{let r={apiName:"searchStream"};const o=u(l.ANe.PLA_SEARCH_ADS),i=u(l.ANe.SEARCH_AD),d=E(o?l.Zrf.PLA_SEARCH_SOURCE_TAG:l.Zrf.SEARCH_SOURCE_TAG),_=!(0,N.GG)(A)&&T,m={...(0,N.Ie)(A,{plaAdsEnabled:o}),limit:E(l.Zrf.SEARCH_FIRST_PAGE_COUNT),threads:u("conversations"),accountemail:`smtp:${R}`,sourceTag:d,ui:_?1:0,device:h?"phone":"desktop"};m.ac=i&&(m.expand||"").split(",").some((e=>[l.ZyO.AL,l.ZyO.PLA].indexOf(e)>-1))?D:0,u(l.ANe.FILTER_COMMERCIAL_IMAGES)&&(m.fci=!0);const S=s.createStream("searchStream",m,(e=>r=e));S.on("data",(e=>{if(200!==e.status&&e.error&&"BootcampApiClient.SearchError"===e.error.name){Ve.Z.feature("bootcamp_client_stream_call",r).logFailure(e.error)}else{const t={listId:A,response:e};let s=0;if(e.ADS||e.PLAADS){s=(0,I.u9)(e,"ADS.WITH_KEYWORD.items",[]).length;const a=(0,I.u9)(e,"PLAADS.WITH_KEYWORD.items",[]).length,n={mKey:V.JE.SEARCH_AD_FETCHED,sec:V.nJ.MSG_LIST_AD,interactionType:V.Rb.nav,actionData:{keyword:(0,N.Q7)(A),searchAdCount:s,plaAdCount:a}};Object.assign(t,{i13nModel:n})}if(u(l.ANe.SEARCH_AD)){Ee.Z.feature("bootcamp_search_ad_response",{appName:l.BQZ.MAIL_APP,searchAdCount:s,sourceTag:E(l.Zrf.SEARCH_SOURCE_TAG)}).logSuccess()}a((0,xe.o2)(t))}})),S.on("end",(()=>{const{getListsSelectors:t}=(0,c.selectors)(n()),{doesListExist:s,isListEmpty:o,getListStatus:i}=t();if(s(A)&&i(A)!==l.DAQ.LOADING){const t=o(A),s=(0,N.aY)(A),n={listId:A,navigateFromToAll:!1,streamId:A,addToRecentSearch:_};t&&!s&&(0,N.WN)(A)===l.F6k.MESSAGES&&(n.i13nModel={isBeaconEvent:!0,eventName:V.fS.SEARCH_ZERO_RESULTS,etrg:V.OI.CHANGE,outcome:V.pf.SEARCH}),a((0,xe.Y$)(n)),e()}else{const e=Object.assign({},r,{searchType:(0,N.lG)(A)?"contact":"keyword",query:(0,N.Q7)(A),listStatus:s(A)?i(A):l.DAQ.DOES_NOT_EXIST,listContentType:(0,N.WN)(A),listReferrer:(0,N.aY)(A)});a((0,xe.Ac)({listId:A})),(0,Ze.apiErrorLogger)(Ve.Z,l.BrN.BootcampClient,e,new We.Z("BootcampApiClient.SearchChunkError",{errorCode:"SEARCH_CHUNK_ERROR"}))}})),S.on("error",(e=>{e=s.handleCommonError(e,"mailSearch"),a((0,xe.Ac)({listId:A,error:e})),t(e)}))})):Promise.resolve()},function(e,t,{bootcampClient:s}){const{dispatch:a,getState:n}=e,{doesSelectedAccountExist:r,getRoute:o,getEmailOfSelectedAccount:i,getFeaturesSelectors:d,getListsSelectors:_}=(0,c.selectors)(n()),{doesListExist:E,getListStatus:u}=_(),{getSetting:m,isEnabled:S}=d(),p=o(),C=(0,N.LY)(p);if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!(0,Ke.lX)(C)||t.listId!==C||E(C)&&u(C)!==l.DAQ.DOES_NOT_EXIST&&!t.isStale||S(l.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return Promise.resolve();const A=r()?i():null;if(!A)return Promise.resolve();const T={...(0,N.Ie)(C),accountemail:`smtp:${A}`,limit:m(l.Zrf.SEARCH_FIRST_PAGE_COUNT),listContentType:(0,N.WN)(C),mimeType:(0,N.I1)(C),threads:S("conversations")},I=(0,N.WN)(C),h=(0,N.C4)(C);return s.request("attachmentsViewApi",{...T}).then((e=>{a((0,xe.o2)({listId:C,response:{[I]:{[h]:e}}}))})).catch((e=>{a((0,xe.Ac)({listId:C,error:e}))}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getAction:o,getSelectedMailboxId:i,getSelectedAccountId:d,getRoute:_,getFolderHighestModSeq:E,isAppVisible:u,getFolderIdsByFolderTypeForAccount:m,getStaleFolderIds:S,shouldUpdateFolders:p,getListsSelectors:C,getAccountSelectors:A,isComposeFocused:T,getAdsSelectors:I,isInboxStyleNewOldMail:h,getSetting:g,isFeatureEnabled:O,getSettingsSelectors:D}=(0,c.selectors)(r()),{getCheckMailAdRotationIdleTimestamp:R}=I(),L=_(),f=(0,N.LY)(L),{doesListExist:M,getListStatus:P}=C(),b=(0,N.Fh)(f),y=(0,N.SH)(L),v=L.name===l.n8z.SEARCH,F=i(),{getPrimaryAccountId:U}=A(),{i13nModel:k,forceSync:w}=o();if(w&&(null==k?void 0:k.mKey)===V.JE.MANUAL_SAVE_DRAFT||t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||!b&&!y&&(0,N.aY)(f)!==l.qd8.FOCUSED_INBOX||(0,N.yE)(f)||(0,N.WN)(f)===l.F6k.SENDERS||!F||v)return Promise.resolve();const G=O(l.ANe.USE_JEDI_CLIENT_PRIORITY),H=(0,N.WW)(f),B=(0,N.C4)(f),x=(0,N.JO)(f),W=d(),[K]=m(l.Sck.ALERTSTORE,U()),z=g(l.Zrf.MESSAGE_FETCH_COUNT),Y=O(l.ANe.CONVERSATIONS),j=O(l.ANe.IS_REINDEXABLE),q=h()&&(0,N.kC)(L)&&!j,X=u(),Q=O(l.ANe.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS),J=O(l.ANe.NO_IDLE_CHECK_MAIL_AD_ROTATIONS),$=g(l.Zrf.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL),ee=Date.now()-R()>$,te=m(l.Sck.INBOX,d()),se=O(l.ANe.ROTATE_ADS_ON_CHECK_MAIL)&&(!J||!ee)&&(!Q||X)&&!T(),ae=M(f)&&P(f)!==l.DAQ.DOES_NOT_EXIST;let ne={},re={};const{isRightRailCommerceResponseLoaded:oe}=D(),ie=!oe()&&!ae,le=O(l.ANe.RIGHT_RAIL_DEALS),ce=O(l.ANe.RIGHT_RAIL_PRODUCTS);if(ie){const e=d(),t=l.nMQ,s=g(l.Zrf.COUPON_CARDS_FETCH_COUNT),a=(0,Z.Qy)(new Date),n=Math.round((new Date).getTime()/1e3)+30*Z.K5,r=[0,0],o=[l.ukn.ALL_COUPON_CARDS],i=[l.ukn.ALL_DEAL_RECOMMENDATION_CARDS],c=["TRASH","BULK"];le&&(ne={startCardDate:a,endCardDate:n,accountId:e,filter:o,count:s,offset:r,sortOrder:t,excludeFolderTypes:c}),ce&&(re={startCardDate:"",endCardDate:"",accountId:e,filter:i,count:s,offset:r,sortOrder:t,excludeFolderTypes:c})}const de={highestModSeq:t.isStale||y?0:E(b),resetUnseenCount:X,alertStoreHighestModSeq:K?E(K):0,accountId:W,folderId:b,mailboxId:F,sortOrder:H,filter:B,count:z,offset:0,conversationsMode:Y,excludeFolderTypes:x,shouldSelectAll:q,getCouponsListPayload:ne,getProductRecommendationItemsPayload:re};return(0,N.aY)(f)===l.qd8.FOCUSED_INBOX&&L.name===l.n8z.FOCUSED_INBOX?s.falconAPIClient.getFocusedInbox(F,W,te,me.k).then((({messageGroups:e,folders:s,accountAlerts:r})=>{const o=s?S(s):[];n({type:a.CHANGE_FOLDER_SUCCEEDED,folders:s,staleFolderIds:o,accountAlerts:r,listId:f,streamId:f,messageGroupList:e,hasMoreItems:!1,conversationsMode:Y,isAppVisible:X,rotateAds:ae&&se,userInitiated:t.userInitiated})})).catch((e=>{n({type:ae?a.CHECK_MAIL_FAILED:a.CHANGE_FOLDER_FAILED,listId:f,error:e})})):s.mailAPIClient.withClientPriority(G?"background":null).request(ae?"checkMail":"folderChange.getList",de).then((function({folders:e,accountAlerts:s,messageGroupList:r,hasMoreItems:o,response:i}){const l=e?S(e):[];if(!t.isStale&&ae&&!l.length&&!p(e))return t.forceSync&&n({type:a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES,listId:f,rotateAds:se,userInitiated:t.userInitiated}),Promise.resolve();n({type:ae?a.CHECK_MAIL_RECEIVED_WITH_UPDATES:a.CHANGE_FOLDER_SUCCEEDED,folders:e,staleFolderIds:l,accountAlerts:s,listId:f,streamId:f,messageGroupList:r,response:i,hasMoreItems:o,conversationsMode:Y,isAppVisible:X,rotateAds:ae&&se,userInitiated:t.userInitiated,rightRailCommerceCardsApiLoaded:ie&&(le||ce)})})).catch((function(e){n({type:ae?a.CHECK_MAIL_FAILED:a.CHANGE_FOLDER_FAILED,listId:f,error:e})}))},function(e,t,s){const{dispatch:a,getState:n}=e,{getRoute:r,getSelectedMailboxId:o,getSelectedAccountId:i}=(0,c.selectors)(n());if(t.unsyncedDataType!==l.sKi.SYNC_NOW)return Promise.resolve();const d=r(),_=(0,N.LY)(d),E={accountId:t.accountId||i(),folderId:(0,N.Fh)(_),mailboxId:o()};return s.mailAPIClient.request("mailbox.syncNow",E).then((e=>{const{syncData:t={},error:s}=e;if(s)a((0,Q.bx)({error:s}));else{Ee.Z.feature("sync_now_response",{syncedMessages:t.syncedMessages,lastSyncTime:t.lastSyncTime}).logSuccess(),a((0,Q.ze)({syncData:t}))}})).catch((e=>{a((0,Q.bx)({error:e}))}))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAdsSelectors:r}=(0,c.selectors)(n()),{getGeminiAdDataFromCreativeId:o}=r();if(t.dataType!==l.sKi.GEMINI_AD_ASSET)return Promise.resolve();const{creativeId:i,url:d}=t;return s.geminiAPIClient.getSponsoredAsset({url:d}).then((e=>{let t=e.text||"";const{nativeAd:s={}}=o(i)||{},{embeddedLandingUrls:n={}}=s;Object.keys(n).forEach((e=>{const{url:s="",landingPage:a="",label:r}=n[e];if("fsubmit"!==r){const n=s.replace("$(AD_POSN)",encodeURIComponent("pp=n,pi=1,st=p"));t=t.replace(`${a}#$embeddedLandingUrl_${e}`,n)}})),a((0,ae.XC)({creativeId:i,asset:t}))})).catch((e=>a((0,ae.Fb)({creativeId:i,error:e,url:d}))))},(e,t,s)=>{const{dispatch:a}=e;return t.dataType!==l.sKi.RELATED_SEARCHES_TO_FETCH?Promise.resolve():s.relatedSearchesAPIClient.request().then((e=>a((0,Be.FW)({queries:(0,I.u9)(e,"body.queriesPerDomain",{})})))).catch((e=>a((0,Be.E8)(e))))},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationId:a=""},{mailAPIClient:n}){if(s!==l.sKi.PARENT_MESSAGE_TO_FETCH)return Promise.resolve();const{getSelectedMailboxId:r,getCurrentListId:o}=(0,c.selectors)(t()),i=r();return n.request("couponCards.getParentMessage",{mailboxId:i,cardConversationId:a}).then((([t])=>{e((0,D.is)({listId:o(),hasMoreItems:!1,messageGroup:t}))})).catch((t=>e((0,D.sv)(t))))},function({dispatch:e,getState:t},{unsyncedDataType:s="",cardConversationIds:a=[]},{mailAPIClient:n}){if(s!==l.sKi.TOI_MESSAGES)return Promise.resolve();const{getSelectedMailboxId:r}=(0,c.selectors)(t()),o=r();return n.request("messages.getExtractions",{mailboxId:o,cardConversationIds:a}).then((t=>{var s,a;const n=(Array.isArray(null==t||null===(s=t.result)||void 0===s?void 0:s.extractedMessagesList)?null==t||null===(a=t.result)||void 0===a?void 0:a.extractedMessagesList:[]).filter((e=>e&&e.decos&&e.decos.some((e=>e&&e.id&&e.id===l.Jd6.EML)))).reduce(((e,t)=>({...e,[t.id]:{...t}})),{});return e((0,ne.yd)({listData:{messages:n}}))})).catch((t=>e((0,ne.So)({error:t}))))},function({dispatch:e,getState:t},s,a){const{wssid:n,accountId:r,unsyncedDataType:o,email:d,provider:_}=s;if(o!==l.sKi.ACCOUNT_TO_REAUTH)return Promise.resolve();const{getMailboxesSelectors:E}=(0,c.selectors)(t()),u={...n?{wssid:n}:{}},{id:m}=E().getExpiredAccountAlert(r);return m?a.mailAPIClient.request("account.updateAlerts",{alertId:m},u).then((({accountAlerts:t})=>{t&&t.length>0?e((0,i.MM)({accountAlerts:t,accountId:r})):e((0,i.NO)({accountId:r}))})).catch(((t={})=>{e((0,i.NO)({error:t.statusCode,provider:_,email:d,accountId:r}))})):Promise.reject(new Error(`AlertId not found for account: ${r} to update alerts`))},_t,function(e,t,s){const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,getSetting:o,isFeatureEnabled:i,getSelectedAccountId:d}=(0,c.selectors)(n()),_=r(),E=o(l.Zrf.COUPON_CARDS_FETCH_COUNT),u=i(l.ANe.RIGHT_RAIL_DEALS),m=[l.ukn.ALL_COUPON_CARDS],S=l.nMQ,p=(0,Z.Qy)(new Date),C=Math.round((new Date).getTime()/1e3)+30*Z.K5,A=d();return t.unsyncedDataType===l.sKi.RIGHT_RAIL_CARDS_TO_FETCH&&u?s.mailAPIClient.request("consolidatedCoupons.getList",{mailboxId:_,filter:m,count:E,offset:[0,0],sortOrder:S,startCardDate:p,endCardDate:C,accountId:A,excludeFolderTypes:["TRASH","BULK"]}).then((e=>{a((0,he.Zp)({dealsToSave:e.messageGroupsResponses[0].cardGroupList||[],rightRailCommerceCardsApiLoaded:u}))})).catch((e=>{a((0,he.hk)({accountId:A,error:e}))})):Promise.resolve()},function(e,t,s){const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,getSetting:o,isFeatureEnabled:i,getSelectedAccountId:d}=(0,c.selectors)(n()),_=r(),{retryCount:E=0}=t,u=o(l.Zrf.COUPON_CARDS_FETCH_COUNT),m=i(l.ANe.RIGHT_RAIL_PRODUCTS),S=[l.ukn.ALL_DEAL_RECOMMENDATION_CARDS],p=l.nMQ,C=d();return t.unsyncedDataType===l.sKi.RIGHT_RAIL_CARDS_TO_FETCH&&m?s.mailAPIClient.request("productRecommendation.items",{mailboxId:_,filter:S,count:u,offset:[0,0],sortOrder:p,startCardDate:"",endCardDate:"",accountId:C,excludeFolderTypes:["TRASH","BULK"]},{retryCount:E}).then((e=>{a((0,he.So)({response:e||{},rightRailCommerceCardsApiLoaded:m,cardGroupList:e.messageGroupsResponses[0].cardGroupList||[]}))})).catch((e=>{a((0,he.DT)({accountId:C,error:e}))})):Promise.resolve()},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.CONTACTS_IMPORT_CSV)return Promise.resolve();const{name:r,file:o,unsyncedDataItemTimestamp:i}=t;try{const e=await s.autoSuggestClient.importContactsFromCsv({filename:r,csvfile:o});n((0,H.uy)({response:e,unsyncedDataItemTimestamp:i}))}catch(c){n((0,H.lB)({error:c,unsyncedDataItemTimestamp:i}))}},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.CONTACTS_SNAPSHOT_FETCH)return Promise.resolve();try{const e=await s.autoSuggestClient.fetchContactsSnapshot();n((0,H.JC)({snapshots:e}))}catch(r){n((0,H.HQ)({error:r}))}},async(e,t,s)=>{const{unsyncedDataType:a,snapshotId:n}=t,{dispatch:r}=e;if(a!==l.sKi.CONTACTS_RESTORE)return Promise.resolve();try{const e=await s.autoSuggestClient.restoreContacts({snapshotId:n});r((0,H.oF)(e))}catch(o){r((0,H.nW)({error:o}))}},(e,t,s)=>{const{unsyncedDataType:a,listId:n,sortOrder:r}=t,{dispatch:o}=e;return a!==l.sKi.FETCH_ALL_CONTACTS?Promise.resolve():s.autoSuggestClient.printContacts({sort_by:l.K24[r]}).then((e=>o((0,B.vc)({contacts:e,listId:n})))).catch((e=>o((0,B.i)({error:e,listId:n}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.CONTACT_CARD)return Promise.resolve();const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=(0,c.selectors)(n()),{emails:o,isPrefetch:i}=t;return s.autoSuggestClient.contactDetails({emails:o,isPrefetch:i}).then((e=>{var t;let s={};if(r(l.ANe.CONTACT_CARD_TRACKING)&&(null==e||null===(t=e[0])||void 0===t||!t.website)){const e=(null==o?void 0:o[0])||"",t=e.split("@")[1];s={mKey:V.JE.CONTACT_CARD_LOAD_FAILED,sec:V.nJ.RIGHT_RAIL,actionData:{domain:t,email:e}}}a((0,H.ow)({contacts:e,i13nModel:s,emails:o}))})).catch((()=>{a((0,H.iC)({emails:o}))}))},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH)return;const{dispatch:a}=e;try{const e=await s.autoSuggestClient.getEnhanceContactsPreference();a((0,x.Gp)({enabled:e}))}catch(n){a((0,x.TK)({error:n}))}},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE)return;const{dispatch:a}=e,{enabled:n}=t;try{await s.autoSuggestClient.setEnhanceContactsPreference(n),a((0,x.eV)({enabled:n}))}catch(r){a((0,x.$Y)({error:r}))}},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.PEOPLE_I_KNOW_PREFERENCE_FETCH)return;const{dispatch:a}=e;try{const e=await s.autoSuggestClient.getPeopleIKnowPreference();a((0,x.r4)({isPeopleIKnowEnabled:e}))}catch(n){a((0,x.wX)({error:n}))}},async(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.PEOPLE_I_KNOW_PREFERENCE_CHANGE)return;const{dispatch:a}=e,{isPeopleIKnowEnabled:n}=t;try{await s.autoSuggestClient.setPeopleIKnowPreference(n),a((0,x.D9)({isPeopleIKnowEnabled:n}))}catch(r){a((0,x.Nr)({error:r}))}},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r}=t,{dispatch:o,getState:i}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();if((0,N.C4)(n)!==l.ukn.TOP_CONTACTS)return Promise.resolve();const{getEmailOfSelectedAccount:d}=(0,c.selectors)(i()),_=d();return s.autoSuggestClient.topContacts({email:_,maxCount:r}).then((e=>o((0,H.Vj)({listId:n,contacts:e,unsyncedDataType:a})))).catch((e=>o((0,H.hV)({error:e,listId:n,unsyncedDataType:a}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r,characters:o,fetchGroupContactsNext:i,sortOrder:c=l.bW1.FIRST_NAME}=t,{dispatch:d}=e;if([l.sKi.CONTACTS_LIST,l.sKi.CONTACTS_CATEGORY_LIST].indexOf(a)<0)return Promise.resolve();return(0,N.C4)(n)!==l.ukn.USER_CREATED_CONTACTS?Promise.resolve():s.autoSuggestClient.alphabeticalContacts({count:r,characters:o,group_by:l.K24[c]}).then((({contacts:e,groups:t,groupIds:s})=>d((0,H.Vj)({listId:n,contacts:e,groups:t,groupIds:s,characters:o,count:r,unsyncedDataType:a,fetchGroupContactsNext:i})))).catch((e=>d((0,H.hV)({error:e,listId:n,characters:o,count:r,unsyncedDataType:a}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,sortOrder:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,N.C4)(n),c=(0,N.Q7)(n);return i===l.ukn.GROUPS&&c&&c!==l.c8t?s.autoSuggestClient.contactsInGroup({groupId:c,sort_by:l.K24[r]}).then((e=>{o((0,H.Np)({listId:n,...e,unsyncedDataType:a}))})).catch((e=>{o((0,H.ll)({error:e,listId:n,unsyncedDataType:a}))})):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,listId:n,fetchGroupContactsNext:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,N.C4)(n),c=(0,N.Q7)(n);return i!==l.ukn.GROUPS||c?Promise.resolve():s.autoSuggestClient.contactGroupsList().then((({groups:e,groupIds:t})=>{o((0,H.Vj)({listId:n,groups:e,groupIds:t,unsyncedDataType:a,fetchGroupContactsNext:r}))})).catch((e=>{o((0,H.hV)({error:e,listId:n,unsyncedDataType:a}))}))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,groupId:r,newName:o,addedEndpoints:i,removedEndpoints:c,oldGroup:d}=t,{dispatch:_}=e;return a!==l.sKi.CONTACTS_GROUP_EDIT?Promise.resolve():s.autoSuggestClient.editContactGroup({groupId:r,newName:o,addedEndpoints:i,removedEndpoints:c}).then((()=>{_((0,H.Yo)({listId:n}))})).catch((e=>{_((0,H.kl)({error:e,listId:n,id:r,oldGroup:d}))}))},(e,t,s)=>{const{unsyncedDataType:a,tempListId:n,tempGroupId:r,name:o,endpoints:i}=t,{dispatch:c}=e;return a!==l.sKi.CONTACTS_GROUP_CREATE?Promise.resolve():s.autoSuggestClient.createContactGroup({name:o,endpoints:i}).then((e=>{c((0,H.QU)({tempListId:n,id:e,tempGroupId:r,newListId:(0,N.tE)(n,{keyword:e})}))})).catch((e=>{c((0,H.rg)({error:e,tempListId:n,tempGroupId:r}))}))},we,(e,t,s)=>{const{unsyncedDataType:a,listId:n}=t,{dispatch:r}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const o=(0,N.ci)(n);return o?s.autoSuggestClient.simpleContactsSearch({query:o}).then((e=>r((0,H.Vj)({listId:n,contacts:e,unsyncedDataType:a})))).catch((e=>r((0,H.hV)({error:e,listId:n,unsyncedDataType:a})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,provider:n,spid:r,appRootPath:o,scope:i}=t,{dispatch:c}=e;return a!==l.sKi.SOCIAL_ACCOUNT_AUTH_URL?Promise.resolve():((0,_.jU)()||(0,h.Z)("Credstore social account linking needs be called from the browser"),s.credstoreClient.link({provider:n,spid:r,redirectUri:`https://${window.location.host}${o}/oAuth`,isCorpUser:window.AppBootstrapData.partner===l.rRt,scope:i}).then((({authorizationURL:e})=>c((0,et.JB)({url:e,provider:n})))).catch((e=>c((0,et.S$)({error:e,provider:n})))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n,enable:r}=t,{dispatch:o}=e;return a===l.sKi.SOCIAL_ACCOUNT_IMPORT&&l.Nq8[n]?s.autoSuggestClient.triggerProfileImport({provider:n}).then((()=>o((0,et.nK)({provider:n,enable:r})))).catch((e=>o((0,et.pt)({provider:n,error:e,enable:r})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;return a!==l.sKi.SOCIAL_ACCOUNT_STATUS?Promise.resolve():s.autoSuggestClient.formatted().then((e=>n((0,et.eU)({response:e})))).catch((e=>n((0,et.ah)({error:e}))))},(e,t,s)=>{const{unsyncedDataType:a,itemsToUpdate:n,listsToUpdate:r}=t,{dispatch:o}=e;return a===l.sKi.CONTACT_DELETE&&n.filter((({isAffected:e})=>e)).length?s.autoSuggestClient.deleteContacts({editTokenList:n.map((({editToken:e})=>e))}).then((()=>{o((0,H.Qx)({itemsToUpdate:n,listsToUpdate:r}))})).catch((e=>o((0,H.zh)({error:e,itemsToUpdate:n,listsToUpdate:r})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,groupId:n}=t,{dispatch:r}=e;return a!==l.sKi.CONTACT_GROUP_DELETE?Promise.resolve():s.autoSuggestClient.contactsGroupDelete({groupId:n}).then((()=>r((0,H.cj)({groupId:n})))).catch((e=>{r((0,H.LF)({error:e,groupId:n}))}))},(e,t,s)=>{const{unsyncedDataType:a,newContact:n,image:r,timestamp:o,openContactViewOnSuccess:i=!1}=t,{dispatch:c}=e;return a!==l.sKi.CONTACT_CREATE?Promise.resolve():s.autoSuggestClient.createContact({newContact:n,image:r}).then((e=>c((0,B.q$)({contact:e,timestamp:o,openContactView:i})))).catch((e=>c((0,B.Y_)({error:e,contact:n,timestamp:o}))))},(e,t,s)=>{const{unsyncedDataType:a,oldContact:n,newContact:r,skipContactDiffCheck:o}=t,{dispatch:i}=e;return a!==l.sKi.CONTACT_SAVE?Promise.resolve():s.autoSuggestClient.contactDetailsEdit({oldContact:n,newContact:r,skipContactDiffCheck:o}).then((e=>i((0,B.GJ)({contact:e})))).catch((e=>i((0,B.Ks)({error:e,contact:n}))))},(e,t,s)=>{const{unsyncedDataType:a,editToken:n,image:r,id:o}=t,{dispatch:i}=e;return a===l.sKi.CONTACT_PHOTO_UPLOAD&&n?s.autoSuggestClient.contactUploadPhoto({editToken:n,image:r}).then((e=>i((0,B.aB)({contact:e})))).catch((e=>i((0,B.hB)({error:e,contact:{image:r,id:o}})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;return a!==l.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS?Promise.resolve():s.autoSuggestClient.contactProvidersStatus().then((e=>n((0,et.OP)({response:e})))).catch((e=>n((0,et.z_)({error:e}))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n,spid:r,enable:o}=t,{dispatch:i}=e;return a!==l.sKi.SOCIAL_ACCOUNT_IMPORT||l.AJg.indexOf(n)<0?Promise.resolve():s.autoSuggestClient.toggleContactsProviderImporter({provider:n,spid:r,enable:o}).then((()=>i((0,et.nK)({provider:n,enable:o})))).catch((e=>i((0,et.pt)({provider:n,error:e,enable:o}))))},(e,t,s)=>{const{unsyncedDataType:a,listId:n,count:r}=t,{dispatch:o}=e;if(a!==l.sKi.CONTACTS_LIST)return Promise.resolve();const i=(0,N.C4)(n),c=(0,N.Q7)(n);if(i!==l.ukn.GROUPS||!c||c!==l.c8t)return Promise.resolve();const d=(0,N.h_)(n);return s.autoSuggestClient.userCuratedEndpoints({endpointTypes:["smtp"],query:d,count:r}).then((e=>{o((0,H.Np)({listId:n,...e,unsyncedDataType:a}))})).catch((e=>{o((0,H.ll)({error:e,listId:n,unsyncedDataType:a}))}))},function({dispatch:e},t,s){const{baseName:a,domain:n,unsyncedDataType:r}=t;return r!==l.sKi.BASENAME_TO_CREATE?Promise.resolve():s.mailAPIClient.request("settings.setBaseNameJWS",{baseName:a,domain:n}).then((()=>{e((0,x.yO)(t))})).catch((s=>e((0,x.XP)({...t,err:s}))))},function({dispatch:e},t,s){const{baseName:a,unsyncedDataType:n}=t;return n!==l.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH?Promise.resolve():s.mailAPIClient.request("settings.getDEABaseNameSuggestions",{baseName:a}).then((({suggestions:s})=>{s&&s.length&&e((0,x.e9)({...t,suggestions:s}))})).catch((s=>e((0,x.ad)({...t,err:s}))))},(e,{unsyncedDataType:t,taskId:s,pollCount:a=0,progress:n,abort:r,isPassiveBulkTask:o,actionPayload:i},d)=>{if(t!==l.sKi.ASYNC_TASK_STATUS)return Promise.resolve();const{dispatch:_,getState:E}=e,{getFeaturesSelectors:u}=(0,c.selectors)(E()),m=u().getSetting(l.Zrf.ASYNC_TASK_POLL_COUNT);if(!s||o)return Promise.resolve();const{successAction:S,failureAction:p,allSelected:T,streamId:I,itemsToUpdate:h,triageActionType:g,folderId:O,count:D,conversations:R}=i,N=I&&h?A({streamId:I,itemsToUpdate:h}):void 0;return r?d.mailAPIClient.request("task.abort",{taskId:s}).then((()=>_({...S,undoAction:S.undoAction||N,progress:n}))).catch((()=>_((0,C.td)({triageActionType:g,folderId:O,count:D,conversations:R,taskId:s,progress:n})))):a>=m?(_((0,C.Kf)({taskId:s})),Promise.resolve()):d.mailAPIClient.request("task.status",{taskId:s}).then((({task:e})=>{switch(e.status){case l.sZ3.PENDING:return _((0,C.u8)({...e,pollCount:a+1}));case l.sZ3.COMPLETED:return _({...S,undoAction:S.undoAction||N,progress:e.progress});case l.sZ3.FAILED:return e.progress>0?_({...S,undoAction:S.undoAction||N,progress:e.progress}):_(p);default:return _(p)}})).catch((()=>_(n>0&&T?{...S,undoAction:S.undoAction||N,progress:n}:p)))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.FOLDER)return Promise.resolve();const{updateType:n}=t;return n===a.RENAME_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,isFeatureEnabled:o}=(0,c.selectors)(n()),{folderId:i,folderName:d,filters:_,originalFolderName:E,newFolderName:u,subfolders:m}=t,S=r(),p=o(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);return s.mailAPIClient.request("folders.rename",{mailboxId:S,folderId:i,folderName:d,filters:_,subfolders:m,useSavedSearchForFilters:p}).then((({folder:e,subfolders:t})=>{a((0,se.Yf)({folder:e,subfolders:t,folderId:i,originalFolderName:E,newFolderName:u}))})).catch((e=>{a((0,se.VG)({folderId:i,newFolderName:u,originalFolderName:E,error:e}))}))})(e,t,s):n===a.MOVE_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,isFeatureEnabled:o}=(0,c.selectors)(n()),{folderId:i,folderName:d,filters:_,originalFolderName:E,subfolders:u}=t,m=r(),S=o(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);return s.mailAPIClient.request("folders.rename",{mailboxId:m,folderId:i,folderName:d,filters:_,subfolders:u,useSavedSearchForFilters:S}).then((({folder:e,subfolders:t})=>{a((0,se.oM)({folder:e,subfolders:t,folderId:i,originalFolderName:E}))})).catch((e=>{a((0,se._r)({folderId:i,originalFolderName:E,error:e}))}))})(e,t,s):n===a.DELETE_FOLDER_REQUESTED?((e,t,s)=>{const{dispatch:a}=e,{folderId:n,folderName:r,i13nModel:o={}}=t;return s.mailAPIClient.request("folders.delete",{folderId:n}).then((()=>{a((0,se.vx)({folderId:n,folderName:r,i13nModel:o}))})).catch((e=>{a((0,se.Me)({folderId:n,folderName:r,error:e}))}))})(e,t,s):Promise.resolve()},function({dispatch:e},{location:t,unsyncedDataType:s},a){if(s!==l.sKi.LOCATION_TO_UPDATE)return Promise.resolve();const n=Qe().determine(),r=n&&n.name();(0,_.jU)()&&new Je.a({window}).determineClientTimeZone();const o=[{id:l.CbW.TIMEZONE,value:`${t.timezone.name}|${t.city||""}|${t.state||""}|${t.country||""}`},{id:l.CbW.LAST_OBSERVED_TIMEZONE,value:`${r||""}|${t.timezone.name||""}`}];return a.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:o}).then((()=>{e((0,x.Gz)({})),window.setTimeout((()=>window.location.reload()),1500)}),(t=>e((0,x.iP)({err:t}))))},function({dispatch:e,getState:t},{value:s,unsyncedDataType:a},n){if(a!==l.sKi.CONVERSATION_MODE_TO_UPDATE)return Promise.resolve();const{getFeaturesSelectors:r,isMobileRoute:o,getEnvironmentSelectors:i}=(0,c.selectors)(t()),{getUserNamespace:d}=i(),_=r().getSetting(l.Zrf.TOGGLE_CONV_RELOAD_DELAY);let E;return E=o()?l.CbW.MOBILE_CONVERSATIONS:d()===l.Tzw.AOL?l.zQK.CONVERSATIONS:l.bUm.CONVERSATIONS,n.mailAPIClient.request("settings.saveWebMailboxAttributes",{attributes:[{id:E,value:s}]}).then((()=>{e((0,x.qS)({value:s})),window.setTimeout((()=>window.location.reload()),_)})).catch((t=>e((0,x.iQ)({err:t}))))},ke,(e,t,s)=>{const{dispatch:a,getState:n}=e,{messageId:r,messageIds:o,unsyncedDataType:i}=t,{getAttachmentsByMessageId:d,getCalendarSelectors:_,isMobileRoute:E}=(0,c.selectors)(n()),{getInviteStatus:u}=_();if(i!==l.sKi.MESSAGE_ITEM_TO_FETCH&&i!==l.sKi.RSVP_FETCH||E())return Promise.resolve();const m={},S=[];if((o||[r]).forEach((e=>{const t=((e,t,s)=>{const{SubTypes:a}=l.sSc,n=t(e);if("READY"===s(e))return null;const r=n.find((e=>{const t=(0,I.u9)(e,"subtype","");return t===a.ICS||t===a.CALENDAR}));return r?{downloadUrl:r.downloadUrl}:null})(e,d,u);t&&(S.push(e),m[e]=t)})),null==S||!S.length)return Promise.resolve();const p=[],C={},A=[],h={};return s.calendarClient.getInviteInfo(m[S[0]]).then((e=>(null!=e&&e.startTime&&null!=e&&e.endTime&&null!=e&&e.uid?(A.push(S[0]),h[S[0]]=e):(p.push(S[0]),C[S[0]]=new Error("Mandatory field missing")),S.shift(),Promise.all(S.map((e=>s.calendarClient.getInviteInfo(m[e]).catch((e=>e)))))))).catch((e=>(p.push(S[0]),C[S[0]]=e,S.shift(),Promise.all(S.map((e=>s.calendarClient.getInviteInfo(m[e]).catch((e=>e)))))))).then((e=>{e.forEach(((e,t)=>{e?e.startTime&&e.endTime&&e.uid?(A.push(S[t]),h[S[t]]=e):(p.push(S[t]),C[S[t]]=new Error("Mandatory field missing")):(p.push(S[t]),C[S[t]]=new Error("Fetching Error"))})),p.length>0&&a((0,T.tG)({messageIds:p,errors:C})),A.length>0&&a((0,T.RO)({messageIds:A,inviteInfoGroup:h}))})).catch((e=>a((0,T.tG)({messageIds:S,errors:S.map((()=>e))}))))},(e,t,s)=>{if(t.dataType!==l.sKi.RAW_MESSAGE)return Promise.resolve();const{messageId:a}=t,{getState:n}=e,{getSelectedMailboxId:r,getEnvironmentSelectors:o}=(0,c.selectors)(n()),i=r(),{wssid:d,appId:_}=s.mailAPIClient,E=s.mailAPIClient.ymreqidGenerator.generate(),u=`https://${o().getEndpoint(l.ANM.JWS_HOST)}/ws/v3/mailboxes/@.id==${i}/messages/@.id==${a}/content/rawplaintext?appId=${_}&ymreqid=${E}&wssid=${d}`;return window.open(u,"_blank"),Promise.resolve()},(e,t,s)=>{if(t.dataType!==l.sKi.RAW_MESSAGE_TO_FETCH)return Promise.resolve();const{messageId:a}=t,{getState:n,dispatch:r}=e,{getSelectedMailboxId:o}=(0,c.selectors)(n()),i=o();return s.mailAPIClient.request("messages.getRawMessage",{mailboxId:i,messageId:a}).then((e=>r((0,he.BE)({rawMessage:e,messageId:a})))).catch((()=>r((0,he.Hy)({messageId:a}))))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VACATION_RESPONSE_SETTINGS)return Promise.resolve();const{dispatch:a}=e,{value:n,actionType:r,requestTimestamp:i}=t,{mailAPIClient:c}=s;return c.request("settings.saveVacationPreferences",{payload:n}).then((()=>{a((0,o._5)({actionType:r,requestTimestamp:i}))})).catch((()=>{a((0,o.Lz)({requestTimestamp:i}))}))},function({dispatch:e},{unsyncedDataType:t,cardMessageId:s=""},{bootcampClient:n}){const r=(0,N.H7)({referrer:l.qd8.COUPON_RECOMMENDATIONS,keyword:s});return t!==l.sKi.COUPON_RECOMMENDATIONS_TO_FETCH||""===s?Promise.resolve():n.request("getCouponRecommendations",{mid:s}).then((t=>{e({type:a.COUPONS_LIST_SUCCEEDED,listId:r,cardGroupList:t.messageGroupsResponses[0].cardGroupList,hasMoreItems:t.messageGroupsResponses[0].hasMoreItems,parentMessagesMap:t.parentMessagesMap})})).catch((t=>{e({type:a.COUPONS_LIST_FAILED,listId:r,error:t})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountId:i,getRoute:d,isFeatureEnabled:_,getSetting:E}=(0,c.selectors)(r()),u=d(),m=(0,N.LY)(u),S=u.name===l.n8z.SEARCH;if(_(l.ANe.DEALS)||t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,N.WN)(m)!==l.F6k.COUPON_CARDS||S)return Promise.resolve();const p=o(),C=i(),A=l.nMQ,T=E(l.Zrf.COUPON_CARDS_FETCH_COUNT),I=(0,Z.Qy)(new Date),h=Math.round((new Date).getTime()/1e3)+30*Z.K5,g=(0,N.C4)(m),O=(0,N.tE)(m,{listFilter:g===l.ukn.ALL_COUPON_CARDS?l.ukn.SAVED_COUPON_CARDS:l.ukn.ALL_COUPON_CARDS}),D={mailboxId:p,filter:[(0,N.C4)(m),(0,N.C4)(O)],count:T,offset:[0,0],startCardDate:I,endCardDate:h,sortOrder:A,accountId:C,excludeFolderTypes:(0,N.JO)(m)};return s.mailAPIClient.request("consolidatedCoupons.getList",D).then((e=>{e.messageGroupsResponses.forEach((e=>{const t=(0,N.tE)(m,{listFilter:e.filter});n({type:a.COUPONS_LIST_SUCCEEDED,listId:t,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems,offset:e.offset})}))})).catch((e=>{n({type:a.COUPONS_LIST_FAILED,listId:m,error:e})}))},function(e,{unsyncedDataType:t,decoId:s=[],listId:n,isSearch:r,keyword:o,emailAddress:i},{bootcampClient:d}){const{dispatch:_,getState:E}=e,{getSelectedMailboxId:u,getAccountSelectors:m,getSetting:S,getListsSelectors:p,doesListExist:C}=(0,c.selectors)(E()),{getListNextItemsUrl:A,getListOffset:T}=p(),{getAccountIds:I}=m();if(t!==l.sKi.COUPONS_TO_FETCH)return Promise.resolve();const h=C(n),g={nextItemsUrl:h?A(n):"",mailboxId:u(),accountIds:[I()],order:l.xem,limit:S(l.Zrf.COUPON_CARDS_FETCH_COUNT),start:-1===s.indexOf("TAG")?Date.now():0,end:1e3*(Math.round((new Date).getTime()/1e3)+365*Z.K5),offset:h?T(n):0,decoId:s,query:o,from:i},O=-1===s.indexOf("TAG")?"getAllCouponsForSmartViewSearch":"getSavedCouponsForSmartViewSearch",D=-1===s.indexOf("TAG")?"getAllCouponsForSmartView":"getSavedCouponsForSmartView";return d.request(r?O:D,g).then((({cardGroupList:e=[],nextItemsUrl:t="",offset:s=0,totalHits:o=0,hasMoreItems:i=!1})=>_({type:a.COUPONS_LIST_SUCCEEDED,listId:n,cardGroupList:e,hasMoreItems:i,offset:s,totalHits:o,nextItemsUrl:t,addToRecentSearch:r}))).catch((e=>_({type:a.COUPONS_LIST_FAILED,listId:n,error:e})))},function({dispatch:e,getState:t},{unsyncedDataType:s="",batchEnabledFeatures:n=[],mailboxId:r=""},{astraClient:o}){if(s!==l.sKi.ASTRA_BATCH_REQUEST)return Promise.resolve();const{getPrimaryAccountId:i,isMobileRoute:d}=(0,c.selectors)(t()),_=i();return o.request("getAstraBatchResponse",{accountId:_,batchEnabledFeatures:n,mailboxId:r,isMobileRoute:d()}).then((t=>{return e((s={response:t},{type:a.ASTRA_BATCH_API_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.ASTRA_BATCH_API_FAILED,...s}));var s}))},function({dispatch:e},{unsyncedDataType:t="",brandId:s=""},{astraClient:a}){return t!==l.sKi.REQUEST_AFFILIATE_OFFERS?Promise.resolve():a.request("getAffiliateOffers",{brandId:s}).then((({affiliateProducts:t=[],statusCode:a})=>e(200===a?(0,pt.lR)({affiliateProducts:t,brandId:s}):(0,pt.Kr)(`Got error with status code: ${a}`)))).catch((t=>e((0,pt.Kr)(t))))},function({dispatch:e,getState:t},{unsyncedDataType:s="",category:a={}},{astraClient:n}){if(s!==l.sKi.FOLLOW_CATEGORY)return Promise.resolve();const{isFeatureEnabled:r}=(0,c.selectors)(t());return n.request(r(l.Zrf.IS_USER_FOLLOWING_CATEGORIES)?"requestCategoryFollow":"requestFirstCategoryFollow",a).then((({statusCode:t,error:s})=>e(200===t?(0,be.X)([a]):(0,be.ol)([a],(0,I.u9)(s,"code","Unknown"))))).catch((t=>e((0,be.ol)([a],t))))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:a="",clipping:n=!0},{astraClient:r}){return t!==l.sKi.SAVE_COUPONS?Promise.resolve():r.request("requestSaveCoupon",{cardMid:s,mailboxId:a,clipping:n}).then((({statusCode:t,error:s=""})=>e(200===t?(0,be.aQ)({}):(0,be.rC)(s)))).catch((t=>e((0,be.rC)(t))))},function({dispatch:e},{unsyncedDataType:t="",cardMid:s="",mailboxId:a="",clipping:n=!1},{astraClient:r}){return t!==l.sKi.UNSAVE_COUPONS?Promise.resolve():r.request("requestUnsaveCoupon",{cardMid:s,mailboxId:a,clipping:n}).then((({statusCode:t,error:s=""})=>e(200===t?(0,be.yV)({}):(0,be.r2)(s)))).catch((t=>e((0,be.r2)(t))))},function({dispatch:e},{unsyncedDataType:t="",category:s={}},{astraClient:a}){return t!==l.sKi.UNFOLLOW_CATEGORY?Promise.resolve():a.request("requestCategoryUnfollow",s).then((({statusCode:t,error:a})=>e(200===t?(0,be.Ez)([s]):(0,be.So)([s],(0,I.u9)(a,"code","Unknown"))))).catch((t=>e((0,be.So)([s],t))))},({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.FOLLOW_STOREFRONT_BRAND?Promise.resolve():n.request("requestStorefrontBrandFollow",{accountId:s,brandId:a}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,Tt.MW)({brandId:a}):(0,Tt.YP)(s)))).catch((t=>e((0,Tt.YP)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.UNFOLLOW_STOREFRONT_BRAND?Promise.resolve():n.request("requestStorefrontBrandUnfollow",{accountId:s,brandId:a}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,Tt.r$)({brandId:a}):(0,Tt.mK)(s)))).catch((t=>e((0,Tt.mK)(t)))),({dispatch:e},{unsyncedDataType:t="",brandId:s,accountId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_MODULES?Promise.resolve():n.request("getStorefrontModules",{accountId:a,brandId:s}).then((({statusCode:t,errorDescription:a="",...n})=>e(200===t?(0,Tt.w4)({brandId:s,...n}):(0,Tt.ab)(s,a)))).catch((t=>e((0,Tt.ab)(s,t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_DEALS?Promise.resolve():n.request("getStorefrontDeals",{accountId:s,brandId:a}).then((({statusCode:t,dealsToSave:s,errorDescription:n})=>e(200===t?(0,Tt.qF)({brandId:a,dealsToSave:s}):(0,Tt.Hf)(n)))).catch((t=>e((0,Tt.Hf)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_PRODUCTS?Promise.resolve():n.request("getStorefrontProducts",{accountId:s,brandId:a}).then((({statusCode:t,affiliateProducts:s,errorDescription:n})=>e(200===t?(0,Tt.iP)({brandId:a,products:s}):(0,Tt.LC)(n)))).catch((t=>e((0,Tt.LC)(t)))),({dispatch:e},{unsyncedDataType:t="",accountId:s},{astraClient:a})=>t!==l.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT?Promise.resolve():a.request("resetStorefrontNewDealCount",{accountId:s}).then((({statusCode:t,errorDescription:s})=>e(200===t?(0,Tt.mE)():(0,Tt.yf)(s)))).catch((t=>e((0,Tt.yf)(t)))),(e,{unsyncedDataType:t="",brandDomains:s,listId:a,keyword:n,brandId:r,messagesToFetch:o},{bootcampClient:i})=>{if(t!==l.sKi.STOREFRONT_MODULES)return Promise.resolve();const{dispatch:d,getState:_}=e,{getSelectedMailboxId:E,getListsSelectors:u,doesListExist:m,getPrimaryAccountId:S,isFeatureEnabled:p}=(0,c.selectors)(_()),{getListOffset:C}=u(),A=p(l.ANe.CONVERSATIONS),T={mailboxId:E(),accountIds:[S()],order:l.Gos,limit:o,query:n,from:s,offset:m(a)?C(a):0};return i.request("getBrandEmailsForStorefront",T).then(((e={})=>{var t;A&&(e.items=null==e||null===(t=e.items)||void 0===t?void 0:t.map((e=>{var t,s;return{id:null==e||null===(t=e.messages)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.conversationId,messages:null==e?void 0:e.messages}})));return d((0,Tt.fC)({response:{[l.F6k.MESSAGES]:{[l.ukn.FROM]:e}},listId:a,brandId:r,numberOfMessages:e.totalHits}))})).catch((e=>d((0,Tt.Gp)({error:e,listId:a}))))},({dispatch:e},{unsyncedDataType:t="",accountId:s,brandId:a},{astraClient:n})=>t!==l.sKi.STOREFRONT_MODULES?Promise.resolve():n.request("getStorefrontReceipts",{accountId:s,brandId:a}).then((({statusCode:t,storefrontReceiptsModule:s,errorDescription:n})=>e(200===t?(0,Tt.l1)({brandId:a,storefrontReceiptsModule:s}):(0,Tt.B1)(n)))).catch((t=>e((0,Tt.B1)(t)))),({dispatch:e},{unsyncedDataType:t=""},{mailppClient:s})=>t!==l.sKi.AFFILIATE_CRUMB?Promise.resolve():s.request("fetchAffiliateCrumb").then((({affiliateCrumb:t})=>{return e((s={affiliateCrumb:t},{type:a.GET_AFFILIATE_CRUMB_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.GET_AFFILIATE_CRUMB_FAILED,...s}));var s})),function({dispatch:e,getState:t},{unsyncedDataType:s="",messagesList:n=[]},{smartReplyClient:r}){if(s!==l.sKi.NUDGE_AND_SMART_REPLY)return Promise.resolve();const{getSetting:o,getMessagesSelectors:i,isFeatureEnabled:d}=(0,c.selectors)(t()),{doesMessageIdExist:_}=i(),E=l.Lz3-o(l.ANe.REPLY_NUDGE_COUNT),u=d(l.ANe.NUDGE_TO_REPLY_ELIGIBLE),m=d(l.ANe.SMART_REPLY);return r.requestNudgeAndReplySuggestions(n).then((t=>{var s;const r=null==t||null===(s=t.result)||void 0===s?void 0:s.data;if(r&&Array.isArray(r)){let t=u?[...r].filter((e=>{var t;return e.nudge&&e.nudge.prediction&&_(null==e||null===(t=e.message)||void 0===t?void 0:t.id)&&(e=>{var t;if(null!=e&&null!==(t=e.headers)&&void 0!==t&&t.date){const t=1e3*Number(e.headers.date),s=Math.floor(((new Date).getTime()-t)/l.Zd2);return s>=l.rS$&&s<=l.qBs}return!1})(e.message)})).map((e=>({...e.nudge,message:e.message}))).sort(((e,t)=>t.score-e.score)):[];const s=t.length;t=t.slice(0,E);const i=m?[...r].filter((e=>{var t;return e.replySuggestions&&e.replySuggestions.length&&_(null==e||null===(t=e.message)||void 0===t?void 0:t.id)})).reduce(((e,t)=>(e[t.message.id]=t.replySuggestions,e)),{}):{},c=Object.keys(i).length;return n.forEach((e=>{i[e.id]=i[e.id]||[]})),e((o={predictionList:t,replySuggestionResponse:i,i13nModel:{mKey:V.JE.NUDGE_AND_SMART_REPLY_RESPONSE,sec:V.nJ.NUDGE_AND_SMART_REPLY,actionData:{messagesToFetchCount:n.length,isNudgeEligible:u,nudgeAllowedCount:E,validNudgeInResponseCount:s,isSmartReplyEligible:m,replySuggestionCount:c}}},{type:a.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED,...o}))}var o;return e(ye({error:(null==t?void 0:t.error)||t}))})).catch((t=>e(ye({error:t}))))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSelectedAccountId:d,getRoute:_}=(0,c.selectors)(r()),{getSetting:E,isEnabled:u}=i(),m=_(),S=(0,N.LY)(m);if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,N.WN)(S)!==l.F6k.TRAVEL_CARDS||u(l.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return Promise.resolve();const p=o(),C=d(),A=(0,N.WW)(S);let T=E(l.Zrf.CARD_GROUPS_FETCH_COUNT);const I=(0,N.C4)(S),h=(0,N.JO)(S);let g,O;I!==l.ukn.TRAVEL_VIEW_UPCOMING&&I!==l.ukn.TRAVEL_VIEW_PAST||(T=E(l.Zrf.FLIGHT_CARD_GROUPS_FETCH_COUNT),I===l.ukn.TRAVEL_VIEW_PAST?(g="*",O=(0,Z.$w)(Date.now()+86400)):(g=(0,Z.$w)(Date.now()-86400),O="*"));const D={mailboxId:p,filter:I,count:T,offset:0,sortOrder:A,startCardDate:g,endCardDate:O,accountId:C,excludeFolderTypes:h};return s.mailAPIClient.request("messageCards.getList",D).then((e=>{n({type:a.TRAVEL_LIST_SUCCEEDED,listId:S,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})})).catch((e=>{n({type:a.TRAVEL_LIST_FAILED,listId:S,error:e})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getListsSelectors:o,getRouterSelectors:i,getSelectedAccountId:d,getSelectedMailboxId:_}=(0,c.selectors)(r()),{getRoute:E}=i(),u=E(),m=(0,N.LY)(u),{getItemIdsSelectors:S}=o(),{getItemIds:p}=S(m),C=p();if(t.unsyncedDataType!==l.sKi.LIST_TO_UPDATE||(0,N.WN)(m)!==l.F6k.REFUND_CARDS||C.length)return Promise.resolve();const A=_(),T=d(),I=l.Asd.CARD_DATE_DESC,h={mailboxId:A,filter:(0,N.C4)(m),count:100,offset:0,sortOrder:I,accountId:T,excludeFolderTypes:(0,N.JO)(m)};return s.mailAPIClient.request("getReceipts",h).then((e=>{n({type:a.RECEIPTS_LIST_SUCCEEDED,listId:m,cardGroupList:e.messageGroupsResponses.cardGroupList,parentMessagesMap:e.parentMessagesMap,hasMoreItems:e.messageGroupsResponses.hasMoreItems,offset:e.messageGroupsResponses.offset})})).catch((e=>{n({type:a.RECEIPTS_LIST_FAILED,listId:m,error:e})}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VIDEO_CHANNELS_METADATA_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,r=n(),{getSetting:o}=(0,c.selectors)(r),i=o(l.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS),d=i?Object.keys(i).join(","):"";return s.videoAPIClient.request({type:"channels_meta_data",channel_alias:d}).then((e=>{a((0,Y.cm)({payload:e.body}))})).catch((e=>{a((0,Y.vA)({error:e}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.VIDEO_CHANNEL_FETCH)return Promise.resolve();const{dispatch:a}=e,{channelAlias:n}=t;return s.videoAPIClient.request({type:"channel_video_data",channel_alias:n}).then((e=>{if(!(e&&e.body&&e.body[n]))throw new Error(`${n} channel data is missing`);a((0,Y.Lp)({payload:e.body,channel:n}))})).catch((e=>{a((0,Y.xp)({error:e,channel:n}))}))},async(e,t,s)=>{const{unsyncedDataType:n,placementname:r}=t;if(n!==l.sKi.STATIC_MAILPLUS_UPSELL_FETCH)return;const{dispatch:o}=e;try{const e=await s.falconAPIClient.getOfferDecisionByAction({payload:[{placementname:r}]},r);o((i=e,{...i,type:a.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED}))}catch(c){o((e=>({...e,type:a.STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED}))({error:c}))}var i},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.SETTINGS_TO_CHANGE)return Promise.resolve();const{updatedSettingAttributes:a}=t;return((e,{updatedSettingAttributes:t=[],action:s},a)=>{const{dispatch:n,getState:r}=e,i=(0,c.selectors)(r()),{getSelectedMailboxId:d}=i;let _=[];const E=t.map((({name:e,value:t})=>{const s=g(i,e,t);return{id:s,value:s===l.CbW.BLOCK_IMAGES?!t:t}}));return _=_.concat(a.mailAPIClient.request("settings.saveWebMailboxAttributes",{mailboxId:d(),attributes:E}).then((()=>s.aolSettingsMigration?n((0,o.nt)({requestActionPayload:s})):n((0,o.FV)({requestActionPayload:s})))).catch((()=>s.aolSettingsMigration?n((0,o.SI)({requestActionPayload:s})):n((0,o.f6)({requestActionPayload:s}))))),Promise.all(_)})(e,{updatedSettingAttributes:a,action:t,runV3:!0},s)},function(e,t,s){if(t.unsyncedDataType!==l.sKi.SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=(0,c.selectors)(n()),{query:o="",fetchEmailSuggestions:i}=t,d=r(l.ANe.SHOW_EMAIL_SEARCH_SUGGESTIONS)&&o.length>=3,_=""===o,E=Object.assign({query:o},{textualSuggest:1},_?{enableEmptyQuery:!0}:null,d&&i?{emailSuggest:1}:null);let u=t.i13nModel;return new Promise(((e,t)=>{const n=s.bootcampClient.createStream("searchSuggestionsStream",E);n.on("data",(e=>{if(e){(d&&e?(0,je.u6)(e):[]).length&&(u={...u,actionData:{queryLength:o.length},mKey:V.JE.SEARCH_EMAIL_SUGGESTION_SHOWN,sec:V.nJ.HEADER_SEARCH}),a((0,Ye.pe)({query:o,suggestions:e,i13nModel:u}))}})),n.on("end",e),n.on("error",(e=>{a((0,Ye.jT)({query:o,error:e})),t(e)}))}))},function(e,t,s){const{dispatch:n,getState:r}=e,{isFeatureEnabled:o,getRoute:i,getSelectedMailboxId:d}=(0,c.selectors)(r()),_=i(),E=d(),u=(0,N.LY)(_),m=(0,N.WW)(u),S=o(l.ANe.SENDER_ROLLUP),p=o(l.ANe.SENDER_ROLLUP_FLUSH_CACHE),C=(0,N.WN)(u),A=(0,N.Fh)(u);return t.unsyncedDataType===l.sKi.LIST_TO_UPDATE&&S&&m===l.Asd.SENDER&&C===l.F6k.SENDERS?s.senderRollupAPIClient.sendersApi({limit:5,count:25,offset:0,folderid:A,mailboxId:E,...p?{flush:1}:null}).then((e=>{const t=(0,I.u9)(e,"body.result.rollup",[]);var s;n((s={listId:u,senderRollup:t,hasMoreItems:t.length>0,offset:t.length},{type:a.SENDER_ROLLUP_SUCCEEDED,...s}))})).catch((e=>{var t;n((t=e,{type:a.SENDER_ROLLUP_FAILED,...t}))})):Promise.resolve()},function(e,t,s){const{dispatch:n,getState:r}=e,{isFeatureEnabled:o,getSelectedMailboxId:i,getListsSelectors:d,doesListExist:_}=(0,c.selectors)(r()),E=i(),{listId:u}=t;if(t.unsyncedDataType!==l.sKi.MORE_SENDER_ROLLUP_TO_FETCH||!_(u)||!o(l.ANe.SENDER_ROLLUP))return Promise.resolve();const m=(0,N.Fh)(u),S=_(u)?d().getListOffset(u):0;return s.senderRollupAPIClient.sendersApi({limit:5,count:25,offset:S,folderid:m,mailboxId:E}).then((e=>{const t=(0,I.u9)(e,"body.result.rollup",[]);var s;n((s={listId:u,senderRollup:t,hasMoreItems:t.length>0,offset:t.length>0?S+t.length:""},{type:a.MORE_SENDER_ROLLUP_SUCCEEDED,...s}))})).catch((e=>{var t;n((t={error:e,listId:u},{type:a.MORE_SENDER_ROLLUP_FAILED,...t}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.ACCOUNT_TO_UPDATE)return Promise.resolve();const{dispatch:a}=e,{accountId:n,updatedProperties:i,requestTimestamp:d}=t,{mailAPIClient:_}=s;return function({store:e,accountId:t,updatedProperties:s,mailAPIClient:a}){const n=r()(s,["id","email","type"]),{getState:o}=e,{getAliasAccounts:i,getAccountById:l}=(0,c.selectors)(o()),d=l(t)||i().find((e=>e.id===t));return a.request("settings.updateAccount",{account:d,data:n})}({store:e,accountId:n,updatedProperties:i,mailAPIClient:_}).then((e=>a((0,o.SC)({accountId:n,requestTimestamp:d,updatedProperties:i,updatedAccount:e})))).catch((e=>a((0,o.Hn)({error:e,accountId:n,requestTimestamp:d,updatedProperties:i}))))},(e,t,s)=>{const{query:a,unsyncedDataType:n}=t,{dispatch:r}=e;return n!==l.sKi.COMPOSE_SUGGESTIONS_FETCH?Promise.resolve():s.autoSuggestClient.search(t).then((e=>r((0,G.contactSuggestionSucceeded)({query:a,recipientList:t.recipientList,contextFrom:t.contextFrom,contacts:e.contacts})))).catch((e=>r((0,G.contactSuggestionFailed)({error:e,query:a,recipientList:t.recipientList,contextFrom:t.contextFrom}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.DOCUMENT_FETCH)return Promise.resolve();const{documentId:n,startPage:r,endPage:o,type:i="",subtype:d="",retryCount:_}=t,{dispatch:E,getState:u}=e,{getRoute:m,getRouteParams:S,getAttachmentById:p,getMimetypeByAttachmentId:C,getSizeByAttachmentId:A,getAttachmentExtentionByAttachmentId:T}=(0,c.selectors)(u()),h=m(),{attachmentId:g}=S()||{},O=p(g);if(!(0,K.M)(O))return Promise.resolve().then((()=>E(W({route:h,documentId:n,startPage:r,endPage:o,error:{data:{info:{documentError:z({type:i,subtype:d})}}}}))));const D=C(g),R=A(g),N=T(g);return s.mailAPIClient.request("document.fetch",{documentId:n,startPage:r,endPage:o,mimeType:D,size:R,extension:N,retryCount:_},{strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:9e4}).then((e=>{if(815===(0,I.u9)(e,"data.info.documentError.code",null))return E(W({error:e,documentId:n,startPage:r,endPage:o}));var t;E((t={response:e,documentId:n,startPage:r,endPage:o},{type:a.DOCUMENT_FETCH_SUCCEEDED,...t}))})).catch((e=>{E(W({error:e,documentId:n,startPage:r,endPage:o}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ACCOUNT_DELETE)return Promise.resolve();const{dispatch:a,getState:n}=e,{accountId:r,requestTimestamp:_}=t,{getAccountById:E,getAliasAccounts:u,getAccountSelectors:m}=(0,c.selectors)(n()),S=E(r)||u().find((e=>e.id===r)),p=S.type===l.tO8.DEA&&S.status===l.dpb.DELETE_IN_PROGRESS,C=m().getDisposableEmailAccounts().filter((({status:e})=>e===l.dpb.DISABLED)).map((({id:e})=>e));return s.mailAPIClient.request("settings.deleteAccount",{accountId:r,fetchAccounts:p}).then((e=>{if(a((0,i.AC)({updatedAccount:S})),p){const t=(e||[]).find((({id:e,type:t,status:s})=>t===l.tO8.DEA&&s===l.dpb.ENABLED&&C.indexOf(e)>-1));t&&a((0,o.SC)({accountId:t.id,updatedProperties:{status:t.status},updatedAccount:t,requestTimestamp:_}))}})).then((()=>{if((0,d.Cs)(S))return function(e,t,s){const{email:a}=s,n=(0,d.VH)(s),r=l.wxL[n];if(r){const s=r.oauthDomain;return e.removeOAuthToken({domain:s,email:a}).then((e=>{t((0,i.jw)({response:e}))})).catch((e=>{t((0,i.E2)({error:e}))}))}return Promise.reject(new Error(`No provider found for ${a}`))}(s.credstoreClient,a,S)})).catch((e=>{a((0,i.Vr)({err:e}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.ACCOUNT_ADD)return Promise.resolve();const{dispatch:a,getState:n}=e,{newAccount:r,emailOrPhoneRegAccount:o=!1}=t,{email:d,type:E}=r,{hasAccountWithEmail:u,getDefaultFolderIdForSelectedAccount:m,getFeaturesSelectors:S,isMobileRoute:p}=(0,c.selectors)(n()),{disposableAddressDeleteOnly:C}=S();if(E===l.tO8.DEA&&C)return Promise.reject().catch((()=>a((0,i.hy)({err:"Disposable Email Address is delete only. User cannot add new DEA"}))));const A=m();return u(d)?Promise.reject().catch((()=>a((0,i.hy)({updatedAccount:r})))):s.mailAPIClient.request("settings.addAccount",{account:r}).then((e=>{if(o)return void window.setTimeout((()=>{if(p())return(0,_.X2)({isMobile:!0});window.location.reload()}),300);const t=e.find((e=>e.email===d));return a(t?(0,i.qe)({accounts:e,updatedAccount:t,inboxFID:A,newAccount:t}):(0,i.hy)({err:"New account was not found in the accounts object!",newAccount:t}))})).catch((e=>a((0,i.hy)({err:e,newAccount:r}))))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.MORE_ITEMS_TO_FETCH)return Promise.resolve();const a=(0,c.selectors)(e.getState()),{getRouteName:n}=a,r=n(),{listId:o}=t;return o&&(0,N.Yy)(o)?Te(e,t,s):r===l.n8z.SEARCH?(({dispatch:e,getState:t},{listId:s},{bootcampClient:a})=>{const{getListsSelectors:n,getFeaturesSelectors:r,doesStreamExist:o,getSelectedStreamItems:i}=(0,c.selectors)(t()),{getItemIdsSelectors:d,getListNextItemsUrl:E}=n(),{getSetting:u}=r(),m=d(s).getItemIds().length,S=(0,N.WN)(s);let p=E(s);const C=r().isEnabled(l.ANe.SELECT_ALL);S===l.F6k.MESSAGES&&(p=(0,_.Y0)(p,{cursor:m,limit:u(l.Zrf.SEARCH_FETCH_COUNT)}));let A=!1;if(C){const e=(0,b.BA)([s]),t=o(e)?i(e):[];A=t.length>0&&d(s).getItemIds().length===t.length}return a.request("searchItems",{url:p,listContentType:S}).then((t=>{e((0,Ce.Rr)({listId:s,listContentBlock:t,allItemsSelected:A}))})).catch((t=>e((0,Ce.RP)({listId:s,error:t}))))})(e,t,s):r===l.n8z.LIST&&(0,N.WN)(o)===l.F6k.TRAVEL_CARDS?Ae(e,t,s):Te(e,t,s)},function(e,t,s){if(t.unsyncedDataType!==l.sKi.GIFS_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{listId:n,query:r,id:o}=t,{getListsSelectors:i,getSelectedMailboxId:d}=(0,c.selectors)(e.getState()),{doesListExist:_,getListNextItemsUrl:E}=i(),u=_(n)?E(n):"";return s.bootcampClient.request("searchGifs",{mailboxId:d(),query:r,nextItemsUrl:u}).then((e=>a((0,re.by)({altListId:n,query:r,id:o},e)))).catch((e=>a((0,re.gD)({altListId:n,query:r,id:o},e))))},function({dispatch:e},t,s){return t.unsyncedDataType!==l.sKi.GIF_CATEGORY_TO_FETCH?Promise.resolve():s.bootcampClient.request("getGifCategories").then((({categories:t})=>e((0,re.Pi)({categories:t})))).catch((t=>e((0,re.ip)({error:t}))))},function({dispatch:e},{email:t,unsyncedDataType:s},a){return s!==l.sKi.ALIAS_EMAIL_TO_CREATE?Promise.resolve():a.mailAPIClient.request("settings.createAlias",{email:t}).then((({suggestions:s,newAccount:a})=>{s&&s.length?e((0,x.PK)({email:t,suggestions:s})):e(s||a?(0,x.z9)({newAccount:a}):(0,x.PK)({email:t}))})).catch((()=>e((0,x.PK)({email:t}))))},function({dispatch:e},{account:t,unsyncedDataType:s},a){return s!==l.sKi.CONFIRM_EMAIL_TO_RESEND?Promise.resolve():a.mailAPIClient.request("settings.resendConfirmEmail",{account:t}).then((s=>{e((0,x.kB)({account:s,email:t.email}))})).catch((s=>{e((0,x.ox)({err:s,email:t.email}))}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i}=(0,c.selectors)(r()),{getBlockedSendersApiCallStatus:d}=i();if(d()===l.DAQ.LOADED)return Promise.resolve();const _=o();return s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:_,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS]}).then((e=>{n({type:a.SETTINGS_BLOCKED_SENDERS_RECEIVED,...e})})).catch((e=>{n({type:a.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED,payload:e})}))},(e,t,s)=>{if(t.unsyncedDataType!==l.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSettingsSelectors:i,isFeatureEnabled:d}=(0,c.selectors)(r()),{getFiltersAndBlockedSendersApiCallStatus:_}=i();if(_()===l.DAQ.LOADED)return Promise.resolve();const E=o(),u=d(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS);let m,S=Promise.resolve({});return u?(m=s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:E,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS]}),S=s.mailAPIClient.request("savedSearches.getMessageFilters",{mailboxId:E})):m=s.mailAPIClient.request("settings.getFeatureAttributes",{mailboxId:E,attributes:[l.CbW.DELIVERY_BLOCKED_SENDERS,l.CbW.MESSAGE_FILTERS]}),Promise.all([m,S]).then((([e={},t])=>{const{savedSearchMessageFilters:s=[]}=(null==t?void 0:t.responses)||{};e.mailboxAttributes&&s.length&&(e.mailboxAttributes.messageFilters={filters:s}),n({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED,...e})})).catch((e=>{n({type:a.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED,payload:e})}))},(e,t,s)=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,isFeatureEnabled:i}=(0,c.selectors)(r()),d=o();if(!d||t.unsyncedDataType!==l.sKi.COMPOSE_ATTRIBUTES_TO_FETCH)return Promise.resolve();const _=i(l.ANe.MAIL_PLUS)?{...l.zkc,...l.UHK}:l.zkc;return s.mailAPIClient.request("postLaunch.getComposeAttributes",{mailboxId:d,attributes:_}).then((e=>{return n((t={mailboxAttributes:e.responses},{type:a.COMPOSE_ATTRIBUTES_RECEIVED,...t}));var t})).catch((e=>{return n((t={error:e},{type:a.COMPOSE_ATTRIBUTES_FETCH_FAILED,...t}));var t}))},async function(e,t,s){if(!(0,_.jU)()||t.unsyncedDataType!==l.sKi.POST_LUNCH_TO_SYNC)return Promise.resolve();const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getSelectedAccountIdByRoute:i,getRoute:d,getCurrentGroupId:E,doesMessageGroupIdExist:u,getMessageIdsFromMessageGroupId:m,getCardConversationIdByMessageId:S,isFeatureEnabled:p,getAccountSelectors:C,getAppName:A}=(0,c.selectors)(r()),T=o(),I=i(d()),h=[],g=[],O=E(),D=u(O)?m(O):[];let R="";const N=!!C().getVerifiedAutoForwardAccount()&&A()===l.BQZ.MAIL_APP,L=p(l.ANe.MAIL_PLUS_FREE_TRIAL)||p(l.ANe.MAIL_PLUS)||p(l.ANe.MAIL_PLUS_MOBILE_WEB),f=p(l.ANe.HIDE_DEALS_ELIGIBLE),M=L&&f,P=p(l.ANe.NUDGE_TO_REPLY_ELIGIBLE);D.length&&(R=S(D[0]),p(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&(R="")),g.push(Re),h.push(s.mailAPIClient.request("postLaunch.postSync",{mailboxId:T,accountId:I,cardConversationId:R,fetchAutoForwardAttribute:N,fetchMsgReadCardsAttribute:M,fetchNudgeToReplyAttribute:P})),p(l.ANe.SOCIAL_ACCOUNTS)||(g.push(Ne),h.push(((e,t,s)=>(s.autoSuggestClient.isUserXobnified(),Promise.resolve()))(0,0,s)));try{const e=await De(h),t={},s=e[g.indexOf(Re)];return s.status!==l.aj8.FULFILLED?n(ge({error:s.reason})):(Object.assign(t,{...s.value}),n((b=t,{type:a.POST_LAUNCH_SYNC_SUCCEEDED,...b})))}catch(y){n(ge({error:y}))}var b},async function(e,t,s){const{dispatch:a,getState:n}=e,{isFeatureEnabled:r,getEnvironmentSelectors:o,getRouteName:i}=(0,c.selectors)(n());if(!r(l.ANe.MAIL_TODO)||!(0,_.jU)()||t.unsyncedDataType!==l.sKi.POST_LUNCH_TO_SYNC&&t.unsyncedDataType!==l.sKi.FETCH_ALL_TODOS||i()===l.n8z.ONBOARDING)return Promise.resolve();let d,E;switch(t.unsyncedDataType){case l.sKi.POST_LUNCH_TO_SYNC:d=e=>{var t;return(0,Le.mU)({...e,i13nModel:{...null!==(t=e.i13nModel)&&void 0!==t?t:{},mKey:V.JE.TODOS_FETCHED_AT_LAUNCH}})},E=Le._r;break;case l.sKi.FETCH_ALL_TODOS:d=e=>{var t;return(0,Le.XV)({...e,i13nModel:{...null!==(t=e.i13nModel)&&void 0!==t?t:{},mKey:V.JE.FETCH_TODOS_RETRY_SUCCEEDED}})},E=e=>(0,Le.JW)({...e,i13nModel:{mKey:V.JE.FETCH_TODOS_RETRY_FAILED,sec:V.nJ.TODOS_PANE}})}const u=o().getTimeZoneName();try{const e=await De([s.calendarClient.getTodos({timezoneName:u}),s.calendarClient.getFolders()]),t=e[0],n=e[1];if(t.status===l.aj8.FULFILLED){var m;const e={todos:(null===(m=t.value)||void 0===m?void 0:m.todos)||[],folders:[]},{todos:s}=e;return n.status===l.aj8.FULFILLED&&(e.folders=n.value||[]),a(d({...e,i13nModel:{sec:V.nJ.TODOS_PANE,actionData:{activeTodoCount:Me(s).length,completedTodoCount:Pe(s).length,totalTodoCount:s.length}}}))}return a(E({error:new Error(t.reason)}))}catch(S){return a(E({error:S}))}},function({dispatch:e,getState:t},{unsyncedDataType:s=""},{bootcampClient:n}){if(s!==l.sKi.TOP_RETAILERS_TO_FETCH)return Promise.resolve();const{getAccountSelectors:r}=(0,c.selectors)(t()),{getAccountIds:o}=r(),i={accountIds:o()};return n.request("getTopRetailers",i).then((t=>{return e((s={topRetailers:t},{type:a.TOP_RETAILERS_REQUEST_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.TOP_RETAILERS_REQUEST_FAILED,...s}));var s}))},function({dispatch:e},{unsyncedDataType:t=""},{bootcampClient:s}){return t!==l.sKi.TOP_DEAL_CATEGORIES_TO_FETCH?Promise.resolve():s.request("getTopDealCategories").then((t=>{return e((s={topDealCategories:t},{type:a.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED,...s}));var s})).catch((t=>{return e((s={error:t},{type:a.TOP_DEAL_CATEGORIES_REQUEST_FAILED,...s}));var s}))},({dispatch:e,getState:t},{unsyncedDataType:s="",mailboxId:n=""},{astraClient:r})=>{if(s!==l.sKi.COMBINE_DEALS)return Promise.resolve();const{getSelectedAccountId:o,isMobileRoute:i}=(0,c.selectors)(t()),d=o();return r.request("getCombineDeals",{accountId:d,mailboxId:n,isMobileRoute:i()}).then((t=>{return e((s={response:t},{type:a.COMBINE_DEALS_SUCCEEDED,...s}));var s})).catch((t=>e((e=>({type:a.COMBINE_DEALS_FAILED,error:e}))({error:t}))))},function(e,t,s){const{dispatch:a}=e;return t.unsyncedDataType!==l.sKi.RECENT_SEARCHES_TO_FETCH?Promise.resolve():s.bootcampClient.request("recentSearches",{}).then((e=>{a((0,He.RX)({recentSearches:e}))})).catch((()=>{a((0,He.mh)())}))},function(e,t,s){const{query:a,unsyncedDataType:n}=t;if(n!==l.sKi.RECENT_SEARCH_DELETE)return Promise.resolve();const{dispatch:r,getState:o}=e,{getMailboxesSelectors:i}=(0,c.selectors)(o()),d={query:a,mailboxid:i().getSelectedMailboxId()};return s.bootcampClient.request("deleteRecentSearch",d).then((()=>r((0,He.e_)({query:a})))).catch((()=>r((0,He.CC)({query:a}))))},function({dispatch:e},{accountId:t,updatedProperties:s,unsyncedDataType:a,requestTimestamp:n},{mailAPIClient:r}){return a!==l.sKi.FETCH_PRIMARY_ACCOUNT?Promise.resolve():r.request("accounts.get").then((({accounts:a})=>{if(a&&a.length){const r=a.find((({isPrimary:e})=>e));e((0,o.SC)({accountId:t,updatedProperties:s,updatedAccount:r,requestTimestamp:n}))}})).catch((a=>{e((0,o.Hn)({error:a,accountId:t,updatedProperties:s,requestTimestamp:n}))}))},function(e,t,s){if(t.unsyncedDataType!==l.sKi.LINK_ENHANCER_TO_FETCH)return Promise.resolve();const{dispatch:a}=e,{cardUrl:n}=t;return s.linkEnhancerClient.get(n).then((({linkInfo:e})=>a((0,pe.ND)({id:n,cardUrl:n,linkInfo:e})))).catch((e=>a((0,pe.qP)({id:n,cardUrl:n,error:e}))))},Et,(e,t,s)=>{const{dispatch:a}=e,{unsyncedDataType:n,messageId:r}=t;return n!==l.sKi.UNSUBSCRIBE_EMAIL?Promise.resolve():s.subscriptionAPIClient.unsubscribeByEmail(t).then((e=>a((0,st.B_)({unsubscribe:e,messageId:r})))).catch((e=>a((0,st.P4)({error:e,messageId:r}))))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{unsyncedDataType:r,brandId:o}=t;if(r!==l.sKi.UNSUBSCRIBE_BRAND)return Promise.resolve();if((0,c.selectors)(n()).getSetting(l.ANe.DISABLE_UNSUBSCRIBE_FEATURE))return Promise.resolve().then((()=>{a((0,st.H)({brandId:o,subscriptions:[]}))}));const{subscriptions:i}=(0,tt.selectors)(n()[tt.key]).getBrandInfo(o);return s.subscriptionAPIClient.unsubscribeByBrand({subscriptions:i,...t}).then((({subscriptions:e})=>a((0,st.H)({brandId:o,subscriptions:e})))).catch((e=>a((0,st.zZ)({error:e,brandId:o}))))},function({dispatch:e,getState:t},{unsyncedDataType:s},{breakingNewsClient:n}){if(s!==l.sKi.BREAKING_NEWS)return Promise.resolve();const{isFeatureEnabled:r}=(0,c.selectors)(t()),o=r(l.ANe.BREAKING_NEWS_TEST_PARAM);return n.request({testParam:o}).then((t=>{e({type:a.BREAKING_NEWS_SUCCESS,news:t})})).catch((t=>{e({type:a.BREAKING_NEWS_FAILED,error:t})}))},(e,t,a)=>{const{dispatch:n}=e,{mailboxId:r,accountId:o,email:i,sortOrder:c}=t;if(t.unsyncedDataType!==l.sKi.SUBSCRIPTION_LIST)return Promise.resolve();const d=c===l.Asd.ALPHA_ASC?"brandname.asc":"score.desc",_=Promise.all([s.e(567),s.e(841)]).then(s.bind(s,2464)),E=a.subscriptionAPIClient.getSubscriptions({mailboxId:r,accountId:o,email:i,sort:d});return Promise.all([E,_]).then((([e])=>n((0,mt.$1)({response:e,accountId:o,sortOrder:c})))).catch((e=>n((0,mt.T7)({error:e,sortOrder:c}))))},(e,t,a)=>{const{dispatch:n,getState:r}=e,{getFeaturesSelectors:o}=(0,c.selectors)(r()),{getSetting:i}=o(),d=i(l.Zrf.SUBHUB_RECO_FILTER),_=i(l.Zrf.SUBHUB_RECO_COUNT),{mailboxId:E,accountId:u,email:m,sortOrder:S}=t;if(t.unsyncedDataType!==l.sKi.SUBHUB_RECOMMENDATION_LIST)return Promise.resolve();let p,C=S===l.Asd.ALPHA_ASC?"brandname.asc":"score.desc";"vz"===d||"thirdParty"===d?p=d:"sortByRandom"===d&&(C="random.desc");const A=Promise.all([s.e(567),s.e(841)]).then(s.bind(s,2464)),T=a.subscriptionAPIClient.getSubhubRecommendations({mailboxId:E,accountId:u,email:m,sort:C,brandowner:p,count:_});return Promise.all([T,A]).then((([e])=>n((0,mt.F7)({response:e,accountId:u,sortOrder:S})))).catch((e=>n((0,mt.nm)({error:e,sortOrder:S}))))},(e,t,s)=>{const{unsyncedDataType:a,provider:n}=t,{dispatch:r}=e;return a!==l.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL?Promise.resolve():((0,_.jU)()||(0,h.Z)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:n}).then((({authorizationURL:e})=>{r((0,et.JB)({url:e,provider:n}))})).catch((e=>r((0,et.S$)({error:e,provider:n})))))},(e,t,s)=>{const{unsyncedDataType:a,source:n,listId:r,query:o,id:i,path:d}=t,{dispatch:E}=e,{getListsSelectors:u,getSelectedAccountId:m}=(0,c.selectors)(e.getState()),{doesListExist:S,getListNextItemsUrl:p,getListOffset:C}=u(),A=S(r)?p(r):"",T=S(r)?C(r):0,I=m();return a!==l.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH?Promise.resolve():((0,_.jU)()||(0,h.Z)("Bootcamp cloud storage account linking needs be called from the browser"),s.cloudStorageClient.cloudStorageItems({source:n,query:o,path:d,nextItemsUrl:A,accountId:I,offset:T}).then((e=>E((0,St.pd)({altListId:r,query:o,path:d,id:i,source:n},e)))).catch((e=>E((0,St.ob)({altListId:r,query:o,path:d,id:i,source:n},e)))))},function(e,t,s){const{dispatch:a,getState:n}=e,{unsyncedDataType:r}=t,{getFeaturesSelectors:o}=(0,c.selectors)(n()),{isEnabled:i}=o();return r!==l.sKi.FETCH_CLOUD_STORAGE_PROVIDERS?Promise.resolve():i(l.ANe.CLOUD_STORAGE)||i(l.ANe.MAIL_YAI)||i(l.ANe.POTENTIAL_MAIL_YAI)?s.cloudStorageClient.getContentProviders().then((e=>{a((0,St.aX)({contentProviders:e}))})).catch((e=>a((0,St.YS)({error:e})))):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:a,provider:n,unlink:r}=t,{dispatch:o}=e;return a!==l.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT?Promise.resolve():((0,_.jU)()||(0,h.Z)("Bootcamp cloud storage account unlinking needs be called from the browser"),s.cloudStorageClient.linkContentProvider({provider:n,unlink:r}).then((()=>{o((0,St.h_)({provider:n}))})).catch((e=>{o((0,St.J3)({error:e,provider:n}))})))},(e,t,s)=>{const{unsyncedDataType:a,itemId:n,provider:r}=t,{dispatch:o}=e;return a!==l.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK?Promise.resolve():((0,_.jU)()||(0,h.Z)("Bootcamp cloud storage shareable link fetching needs be called from the browser"),s.cloudStorageClient.getShareableLink({itemId:n,provider:r}).then((({shareableLink:e})=>{o((0,St.Av)({shareableLink:e,itemId:n,provider:r}))})).catch((e=>o((0,St.Cb)({error:e,itemId:n,provider:r})))))},async function(e,t,{mailAPIClient:s}){const{mailboxId:a,messageId:n,unsyncedDataType:r}=t,{dispatch:o}=e;if(r!==l.sKi.PHISHING_REMOVE_BDM_DECO)return;const i=[{messageId:n,decos:[{id:"-"+l.Jd6.BDM}]}];try{await s.request("messages.updateDecos",{mailboxId:a,messageDecosPayloads:i}),o((0,L.mF)({messageId:n,mailboxId:a}))}catch(c){o((0,L.V5)(c))}},async function(e,t,{mailAPIClient:s}){const{mailboxId:a,messageId:n,unsyncedDataType:r}=t,{dispatch:o,getState:i}=e,{getMessagesSelectors:d}=(0,c.selectors)(i()),{getSchemaOrg:_}=d();if(r!==l.sKi.REMOVE_SPAM_SCHEMA)return;const E=_(n),u=[{messageId:n,schemaOrgToUpdate:E}];try{await s.request("messages.updateSchemaOrg",{mailboxId:a,messageSchemaOrgPayloads:u}),o((0,L.eZ)({messageId:n,mailboxId:a}))}catch(m){Ee.Z.error("update_schemaOrg_failed",{messageId:n,schemaOrgToUpdate:E}),o((0,L.eH)({error:m,mailboxId:a,messageId:n}))}},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n})=>{if(s!==l.sKi.PURCHASE_MAILPRO_FREE_TRIAL)return Promise.resolve();const{getSetting:r,getAccountSelectors:o,getSelectedAccountId:i}=(0,c.selectors)(e()),d=r(l.Zrf.PURCHASE_OFFER_TEST_PARAM),_=r(l.Zrf.LIST_SUBSCRIPTION_TEST_PARAM),E=(o().getPrimaryAccount()||{}).email||"",{getAccountNameByAccountId:u}=o(),m={purchaseOfferTestParam:d,listSubscriptionTestParam:_,contactEmail:E,accountName:u(i())||""};return n.request("purchaseOffer",m).then((()=>{t({type:a.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,i13nModel:{mKey:V.JE.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS,sec:V.nJ.MAILPRO_FREE_TRIAL}})})).catch((e=>{t({type:a.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,error:e,i13nModel:{mKey:V.JE.PURCHASE_MAILPRO_FREE_TRIAL_FAILED,sec:V.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{error:e}}})}))},({getState:e,dispatch:t},{unsyncedDataType:s},{obiApiClient:n})=>{if(s!==l.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS)return Promise.resolve();const{getSetting:r}=(0,c.selectors)(e()),o=r(l.Zrf.LIST_SUBSCRIPTION_TEST_PARAM),i=r(l.Zrf.DAYS_IN_TRIAL_TEST_PARAM);let d=(new Date).getTime();i>=1&&(d=(0,ut.subDays)(new Date,i-1).getTime());const _={listSubscriptionTestParam:o,mockedTrialStartDate:d};return n.request("listSubscription",_).then((e=>{t({type:a.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS,data:e.body,i13nModel:{mKey:V.JE.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS,sec:V.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:e.body}})})).catch((e=>{t({type:a.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED,error:e,i13nModel:{mKey:V.JE.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED,sec:V.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{error:e}}})}))},(e,t,s)=>{const{dispatch:a,getState:n}=e,{unsyncedDataType:r,preferenceCode:o}=t;if(r!==l.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE&&r!==l.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE)return Promise.resolve();const{getAccountSelectors:i}=(0,c.selectors)(n()),d=(i().getPrimaryAccount()||{}).email||"";let _;return _=r===l.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE?s.marketingPreferencesAPIClient.unsubscribe({preferenceCode:o,email:d}):s.marketingPreferencesAPIClient.subscribe({preferenceCode:o,email:d}),_.then((()=>{a((0,Ct._L)({preferenceCode:o}))})).catch((e=>{a((0,Ct.I4)({error:e,preferenceCode:o}))}))},(e,t,s)=>{const{unsyncedDataType:n,eligibleFalconTOMGroupIds:r=[],prefetchMode:o=null,openedGroupId:i="",openedMessageId:d=""}=t,{dispatch:_,getState:E}=e,{getCurrentGroupId:u,getMessageIdsFromMessageGroupId:m,getMessagesSelectors:S,getSubjectsAndSnippetsSelectors:p,getAttachmentCountByMessageId:C,getGroupIdContainingMessageId:A,__getMessage:T,getSelectedMailboxId:I,getSelectedAccountId:h,getEmailOfSelectedAccount:g,getCurrentListId:O,getFalconTOMSubscriptionSelectors:D,isFeatureEnabled:R}=(0,c.selectors)(E());if(n!==l.sKi.MESSAGE_ITEM_TO_FETCH&&n!==l.sKi.POST_LUNCH_TO_SYNC)return Promise.resolve();if(!R(l.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)||R(l.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED))return Promise.resolve();const N=I(),L=h(),f=g(),M=u();n===l.sKi.POST_LUNCH_TO_SYNC&&M&&r.push(M);const{getMessageIdRfc822:P,getImmutableId:b,getMessageId:y}=S(),{getSubject:v,getSnippet:F}=p(),U=O(),{getFalconTOMSubscriptionsApiCallStatus:k}=D(),w=r.reduce(((e,t)=>{if(k(t)!==l.bYh.LOADING){const s=m(t)[0],a=y(s),n=T(a),{cardConversationId:r,conversationId:o,headers:i,decos:l,schemaOrg:c}=n,d={headers:{...i,subject:v(a,U),internalDate:i.date||"",messageIdRfc822:P(a)},id:a,conversationId:o,cardConversationId:r,immutableid:b(a)||a,snippet:F(a,U),decos:l,attachmentCount:C(a),schemaOrg:c};e.push(d)}return e}),[]);return w.length&&setImmediate((()=>{var e;_((e={groupIds:r},{...e,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED}))})),w.length?s.falconAPIClient.getFalconTOMSubscriptions(w,r,o,i,d,N,L,f).then((e=>{const t=e.reduce(((e,t)=>{const s=t&&A(t.messageId);return s&&(e[s]=t),e}),{});var s;_((s={responseList:t,groupIds:r},{...s,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED}))})).catch((e=>{var t;_((t={error:e,groupIds:r},{...t,type:a.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED}))})):Promise.resolve()},(e,t,s)=>{const{unsyncedDataType:n,messageIds:r=[],retryCount:o=0,groupId:i}=t,{dispatch:d,getState:_}=e,{getSelectedMailboxId:E,getGroupIdContainingMessageId:u,getEnabledVerticals:m}=(0,c.selectors)(_());if(n!==l.sKi.CARD_TO_FETCH)return Promise.resolve();const S=E(),p=m();return s.mailAPIClient.request("messages.getBodies",{mailboxId:S,messageIds:r,full:!0,secure:!0,batchRelatedCards:!0,messagIdsToFetchCards:r,suppressed:!0,enabledVerticals:p},{retryCount:o}).then((e=>{if(!Object.keys(e.result.relatedCardsMap).length)throw new Error("Falcon related cards response unavailable");const t=Object.keys(e.result.relatedCardsMap).reduce(((t,s)=>{const a=u(s);return a?t[a]=e.result.relatedCardsMap[s]:t[s]=e.result.relatedCardsMap[s],t}),{});var s;d((s={relatedCardsMap:t,groupId:i,enabledVerticals:p},{...s,type:a.RELATED_CARDS_FETCH_SUCCEEDED}))})).catch((e=>{var t;d((t={error:e,groupId:i},{...t,type:a.RELATED_CARDS_FETCH_FAILED}))}))},async(e,t,s)=>{const{unsyncedDataType:n,selectedOfferId:r,useDispatcherClient:o=!1,optOutCodes:i,clientos:c,placementname:d="mail-overlay"}=t;if(n!==l.sKi.DISPATCHER_UPSELLS)return;const{dispatch:_}=e;try{let e;if(o){var E,u;const t=(null===(E=window)||void 0===E||null===(u=E.AppBootstrapData)||void 0===u?void 0:u.buckets)||[];e=await s.subdispatcherAPIClient.plutusSubscriptionUpsells({optOutCodes:i,selectedOfferId:r,clientos:c,bucket:t.length?t.join(","):0})}else e=await s.falconAPIClient.getOfferDecision({selectedOfferId:r,placementname:d});_((m=e,{...m,type:a.DISPATCHER_UPSELL_FETCH_SUCCEEDED}))}catch(S){_((e=>({...e,type:a.DISPATCHER_UPSELL_FETCH_FAILED}))({error:S}))}var m},async(e,t,s)=>{const{unsyncedDataType:n,placementname:r,coreAction:o,contextPayload:i}=t;if(n!==l.sKi.TOUCHPOINT_UPSELL)return Promise.resolve();const{dispatch:c}=e,d=[{parameters:{"mail.coreAction":o},placementname:r,context:i}];return s.falconAPIClient.getOfferDecisionByAction({payload:d},r).then((e=>c((e=>({...e,type:a.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED}))(e)))).catch((e=>c((e=>({...e,type:a.TOUCHPOINT_UPSELL_FETCH_FAILED}))({error:e}))))},(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,isFeatureEnabled:i,getSetting:d,isMobileRoute:_}=(0,c.selectors)(r()),E=!_()&&d(l.Zrf.PACKAGE_TRACKING_SETTINGS)&&!i(l.ANe.MAIL_YAI),u=_()&&1===(0,At.nC)();if(!(i(l.ANe.TOP_OF_INBOX_CARDS)&&a===l.sKi.POST_LUNCH_TO_SYNC&&(E||u))&&a!==l.sKi.TOP_OF_INBOX)return Promise.resolve();const m=[];i(l.ANe.YAI_RETRO_COMPOSE)&&m.push(l.f8s.GN_CLAIM_HINT);const S=o();return s.falconAPIClient.getTopOfInboxCards(S,m).then((e=>n((0,ne.E1)({cards:e})))).catch((e=>n((0,ne.i4)({error:e}))))},function({dispatch:e},t,{tastemakerClient:s}){return t.unsyncedDataType!==l.sKi.CONSUME_TASTEMAKER?Promise.resolve():s.consumeTastemaker(t.featureName).then((t=>{e({type:a.TASTEMAKER_CONSUME_SUCCEEDED})})).catch((t=>{e((e=>({type:a.TASTEMAKER_CONSUME_FAILED,error:e}))(t))}))},function({dispatch:e},t,{tastemakerClient:s}){return t.unsyncedDataType!==l.sKi.DELETE_TASTEMAKER?Promise.resolve():s.deleteTastemaker(t.featureName).then((t=>{e({type:a.TASTEMAKER_DELETE_SUCCEEDED})})).catch((t=>{e((e=>({type:a.TASTEMAKER_DELETE_FAILED,error:e}))(t))}))},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e;if(a!==l.sKi.BLOCKED_DOMAINS_FETCH)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.getBlockedDomains");n((0,It.WX)({items:e}))}catch(r){n((0,It.Ze)(r))}},async(e,t,s)=>{const{unsyncedDataType:a}=t,{dispatch:n}=e,{domainNames:r,isFromSubscriptionsView:o}=t;if(a!==l.sKi.BLOCKED_DOMAIN_ADD)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.addBlockedDomain",{domainNames:r});n((0,It.Io)({items:e,domainNames:r,isFromSubscriptionsView:o}))}catch(i){n((0,It.Z0)({error:i,domainNames:r}))}},async(e,t,s)=>{const{unsyncedDataType:a,id:n}=t,{dispatch:r}=e;if(a!==l.sKi.BLOCKED_DOMAIN_DELETE)return Promise.resolve();try{const e=await s.mailAPIClient.request("savedSearches.deleteBlockedDomain",{id:n});r((0,It.JN)({items:e,id:n}))}catch(o){r((0,It.IL)({error:o,id:n}))}},function({dispatch:e,getState:t},{unsyncedDataType:s},{weatherClient:a}){const{isFeatureEnabled:n,getSetting:r,getRoute:o}=(0,c.selectors)(t()),i=o(),d=n(l.ANe.SHOW_WEATHER),_=r(l.Zrf.TODAYPAGE_URL);return s===l.sKi.WEATHER&&i.name===l.n8z.TODAYPAGE&&_&&d?a.getWeatherData().then((t=>{e((0,ht.mh)(t))})).catch((t=>{e((0,ht.xD)(t))})):Promise.resolve()},function({dispatch:e,getState:t},{query:s,unsyncedDataType:a},{weatherClient:n}){const{isFeatureEnabled:r,getSetting:o,getRoute:i}=(0,c.selectors)(t()),d=i(),_=r(l.ANe.SHOW_WEATHER),E=o(l.Zrf.TODAYPAGE_URL);return a===l.sKi.WEATHER_LOCATION_SUGGESTIONS&&d.name===l.n8z.TODAYPAGE&&E&&_?n.getWeatherLocationSuggestions(s).then((t=>{e((0,ht.TZ)(t))})).catch((t=>{e((0,ht.fI)(t))})):Promise.resolve()},function({dispatch:e,getState:t},{unsyncedDataType:s,spellCheckText:a},{spellCheckClient:n}){const{isFeatureEnabled:r}=(0,c.selectors)(t()),o=r(l.ANe.ENABLE_SPELL_CHECK);return a&&s===l.sKi.SPELL_CHECK_SUGGESTIONS&&o?n.getSpellCheckSuggestions(a).then((t=>{e((0,gt.XM)(t))})).catch((t=>{e((0,gt.wA)(t))})):Promise.resolve()},async(e,t,{calendarClient:s})=>{const{dispatch:a}=e;if(t.unsyncedDataType!==l.sKi.CREATE_TODO)return Promise.resolve();const{todo:n,hash:r,openTodoViewOnSuccess:o=!1}=t;try{const e=await s.createTodo({todo:n});a((0,Le.tL)({todo:e,hash:r,openTodoView:o}))}catch(i){a((0,Le.BP)({error:i,hash:r}))}},async(e,t,{calendarClient:s})=>{const{dispatch:a,getState:n}=e,{getEnvironmentSelectors:r}=(0,c.selectors)(n());if(t.unsyncedDataType!==l.sKi.UPDATE_TODO)return Promise.resolve();const{todo:o,replaceTodo:i}=t,d={todo:o,timezoneName:r().getTimeZoneName()};try{const e=i?await s.putTodo(d):await s.patchTodo(d);a((0,Le.sw)({todo:e,todoUid:o.uid}))}catch(_){a((0,Le.w8)({error:_,todoUid:o.uid}))}},async(e,t,{calendarClient:s})=>{const{dispatch:a}=e;if(t.unsyncedDataType!==l.sKi.DELETE_TODO)return Promise.resolve();const{todoUid:n,folderId:r}=t;try{await s.deleteTodo({todoUid:n,folderId:r}),a((0,Le.PF)({todoUid:n}))}catch(o){a((0,Le.I3)({error:o,todoUid:n}))}},(e,{unsyncedDataType:t=""},{mailAPIClient:s})=>{const{dispatch:a,getState:n}=e,{getSelectedMailboxId:r,getRoute:o}=(0,c.selectors)(n());if(t!==l.sKi.WALLET)return Promise.resolve();const i=(0,N.LY)(o()),d={mailboxId:r(),filter:(0,N.C4)(i),count:150,offset:0,sortOrder:l.Asd.CARD_DATE_DESC,excludeFolderTypes:(0,N.JO)(i)};return s.request("messageCards.getList",d).then((e=>a((0,Ot.EI)({listId:i,cardGroupList:e.cardGroupList,hasMoreItems:e.hasMoreItems})))).catch((e=>a((0,Ot.mE)({listId:i,err:e}))))},async(e,t,{yaiAPIClient:s})=>{if(t.unsyncedDataType!==l.sKi.MSG_FROM_PROMPT)return Promise.resolve();const{dispatch:a}=e,{csid:n,prompt:r,additionalContext:o="",sender:i="",recipients:c=[],hash:d}=t;try{const e=await s.postComposeMessage({userPrompt:r,replyToText:o,sender:i,recipients:c});a((0,Nt.MZ)({csid:n,hash:d,result:e}))}catch(_){a((0,Nt.GT)({csid:n,error:_,hash:d}))}},async(e,t,{yaiAPIClient:s})=>{if(t.unsyncedDataType!==l.sKi.REPHRASE_CONTENT)return Promise.resolve();const{dispatch:a}=e,{csid:n,draftText:r,additionalContext:o="",hash:i}=t;try{const e={draftText:r,replyToText:o,...t.tone&&{action:t.tone},...t.prompt&&{userPrompt:t.prompt}},l=await s.postComposeMessage(e);a((0,Nt.GB)({csid:n,hash:i,result:l}))}catch(c){a((0,Nt.ox)({csid:n,error:c,hash:i}))}},async(e,t,{calendarClient:s})=>{if(t.unsyncedDataType!==l.sKi.FETCH_ALL_NOTEBOOKS_AND_NOTES)return Promise.resolve();const{dispatch:a}=e;try{var n;const e=await s.getFolders({type:Rt.Sr.JOURNAL}),t=null==e?void 0:e.map((e=>e.id)),r=await s.getJournals({fid:null==t?void 0:t.join(",")}),o={notes:(null==r||null===(n=r.journals)||void 0===n?void 0:n.journal)||[],folders:e||[]};a((0,Dt.hU)({...o}))}catch(r){a((0,Dt.m1)({error:r}))}},async(e,t,{calendarClient:s})=>{if(t.unsyncedDataType!==l.sKi.CREATE_NOTE)return Promise.resolve();const{dispatch:a,getState:n}=e,r=n(),{getEnvironmentSelectors:o}=(0,c.selectors)(r),i=o().getTimeZoneName(),{journal:d,isRichTextMode:_,hash:E,openNoteViewOnSuccess:u=!1}=t;d&&(d.fromRTE=_);try{const e=await s.createJournal({journal:d,folderId:null==d?void 0:d.folderId,tzid:i});a((0,Dt.$q)({journal:null==e?void 0:e.journal,hash:E,openNoteView:u}))}catch(m){a((0,Dt.rN)({error:m,hash:E}))}},async(e,t,{calendarClient:s})=>{const{dispatch:a}=e;if(t.unsyncedDataType!==l.sKi.UPDATE_NOTE)return Promise.resolve();const{journal:n,isRichTextMode:r,currentFolderId:o}=t;n&&(n.fromRTE=r);try{var i;const e=await s.updateJournal({journal:n,folderId:o,journalUid:n.uid});a((0,Dt.qg)({journal:e.journal,journalUid:null!==(i=null==n?void 0:n.uid)&&void 0!==i?i:""}))}catch(d){var c;a((0,Dt.Bv)({error:d,journalUid:null!==(c=null==n?void 0:n.uid)&&void 0!==c?c:""}))}},async(e,t,{calendarClient:s})=>{const{dispatch:a}=e;if(t.unsyncedDataType!==l.sKi.DELETE_NOTE)return Promise.resolve();const{journalUid:n,folderId:r}=t;try{await s.deleteJournal({journalUid:n,folderId:r}),a((0,Dt.jP)({journalUid:n}))}catch(o){a((0,Dt.b1)({error:o,journalUid:n}))}},async(e,t,{calendarClient:s})=>{if(t.unsyncedDataType!==l.sKi.CREATE_JOURNAL_FOLDER)return Promise.resolve();const{dispatch:a}=e,{folder:n,hash:r}=t;try{const e=await s.createFolder({folder:n});a((0,Dt.lY)({folder:null==e?void 0:e.folder,hash:r}))}catch(o){a((0,Dt.aL)({error:o,hash:r}))}},async(e,t,{calendarClient:s})=>{if(t.unsyncedDataType!==l.sKi.UPDATE_JOURNAL_FOLDER)return Promise.resolve();const{dispatch:a}=e,{folder:n}=t;try{const e=await s.patchFolder({folder:n,folderId:null==n?void 0:n.id});a((0,Dt.rA)({folder:null==e?void 0:e.folder,folderId:null==n?void 0:n.id}))}catch(r){a((0,Dt.CZ)({error:r,folderId:null==n?void 0:n.id}))}},async(e,t,{calendarClient:s})=>{const{dispatch:a}=e;if(t.unsyncedDataType!==l.sKi.DELETE_JOURNAL_FOLDER)return Promise.resolve();const{folderId:n}=t;try{await s.deleteFolder({folderId:n,component:null}),a((0,Dt.qV)({folderId:n}))}catch(r){a((0,Dt.pd)({error:r,folderId:n}))}},async function(e,t,{yaiAPIClient:s}){if(t.unsyncedDataType!==l.sKi.YAI_SEARCH_SUGGESTIONS_FETCH)return Promise.resolve();const{dispatch:a,getState:n}=e,{getSelectedAccountId:r}=(0,c.selectors)(n()),{query:o=""}=t;try{const e=await s.getYaiSearchSuggestions({query:o,accountIds:r()}),t=[];e.forEach((e=>{t.push(...(0,I.u9)(e,"response.suggestions",[]))})),a((0,Lt.Q_)({suggestions:t,query:o}))}catch(i){a((0,Lt.zM)({error:i,query:o}))}},async function(e,t,{yaiAPIClient:s}){if(t.unsyncedDataType!==l.sKi.CONSUME_YAI_SEARCH)return Promise.resolve();const{dispatch:a,getState:n}=e,{question:r="",query:o,unsyncedDataType:i,syncAttempts:d,unsyncedDataItemRequestHash:_,...E}=t;try{const e=await s.postYaiSearch({...E,question:r}),{getRoute:t}=(0,c.selectors)(n()),o=t(),i=(0,N.LY)(o),l=e,d=l.result.answer.messages?l.result.answer.messages.map((e=>(e.headers.cc||(e.headers.cc=[]),e.headers.bcc||(e.headers.bcc=[]),{id:e.id,messages:[e]}))):[],_={listId:i,response:{PEOPLE:{WITH_KEYWORD:{nextItemsUrl:"",suggestedWords:[],items:[]}},MESSAGES:{WITH_KEYWORD:{totalHits:d.length,nextItemsUrl:"",suggestedWords:[],items:d,lmv3Query:""}}}};a((0,xe.o2)(_));const u={listId:i,navigateFromToAll:!1,streamId:i,addToRecentSearch:!0};a((0,xe.Y$)(u)),a((0,Lt.Oh)({response:e,query:r}))}catch(u){const{getRoute:e}=(0,c.selectors)(n()),t=e(),s=(0,N.LY)(t);a((0,xe.Ac)({listId:s,error:u})),a((0,Lt.rn)({error:u,query:r}))}},async function(e,t,{yaiAPIClient:s}){const{dispatch:a,getState:n}=e,{isFeatureEnabled:r}=(0,c.selectors)(n());if(!r(l.ANe.YAI_SEARCH)||!(0,_.jU)()||t.unsyncedDataType!==l.sKi.POST_LUNCH_TO_SYNC)return Promise.resolve();try{const e=await s.getYaiRefreshSearch();a((0,Lt.qA)(e))}catch(o){a((0,Lt.Ek)({error:o}))}},async function(e,t,{yaiAPIClient:s}){if(t.unsyncedDataType!==l.sKi.YAI_RETRO_COMPOSE)return Promise.resolve();const{getState:a,dispatch:n}=e,{getMessagesSelectors:r,__getLastNonDraftMessageIdByGroupId:o,getSelectedAccountId:i,getAccountById:d,getContactListSelectors:_}=(0,c.selectors)(a()),{getConversationId:E}=r(),{getContactByEmail:u}=_(),{messageId:m,cardId:S}=t,p=d(i())||{},C=u(null==p?void 0:p.email)||{};try{const e=await s.postYaiRetroCompose({messageId:m,cardId:S,sender:{name:(null==p?void 0:p.sendingName)||(null==C?void 0:C.name)||"",email:(null==p?void 0:p.email)||""}});n((0,ft.DE)({messageId:o(E(m))||m,retroCompose:e}))}catch(A){n((0,ft.Yd)({error:A}))}},async function(e,t,{yaiAPIClient:s}){if(t.unsyncedDataType!==l.sKi.YAI_OPT_IN)return Promise.resolve();const{dispatch:a}=e,{optIn:n=!1}=t;try{await s.postYaiOptin(n),a((0,Mt.hT)({}))}catch(r){a((0,Mt.XS)({error:r}))}},(e,t,{mailAPIClient:s})=>{const{dispatch:n,getState:r}=e,{getSelectedMailboxId:o,getFeaturesSelectors:i,getSetting:d,getSelectedAccountId:_}=(0,c.selectors)(r());if((null==t?void 0:t.unsyncedDataType)!==l.sKi.PINNED_EMAILS_TO_FETCH)return Promise.resolve();const E=d(l.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS),u=i().isEnabled(l.ANe.CONVERSATIONS),m=E.map((e=>{var t;return null===(t=e.split(l.Vky))||void 0===t?void 0:t[0]})),S=E.map((e=>{var t;return null===(t=e.split(l.Vky))||void 0===t?void 0:t[1]})),p=E.reduce(((e,t)=>{const[s,a,n]=t.split(l.Vky);return{...e,[u?a:s]:Number(n)}}),{}),C=(0,N.uW)(),A=_(),T={mailboxId:o(),count:3,offset:0,messageGroupIds:u?S:m,conversationsMode:u,excludeFolderTypes:(0,N.JO)(C),accountId:A};return s.request("messageGroups.getPinnedList",T,void 0,void 0).then((e=>{const t=e.messageGroups;if(t.sort(((e,t)=>(null==p?void 0:p[null==e?void 0:e.id])-(null==p?void 0:p[null==t?void 0:t.id]))),m.length>t.length){const e=t.map((e=>e.id)),s=E.filter((t=>{const[s,a]=t.split(l.Vky);return e.includes(u?a:s)}));n({type:a.SETTINGS_CHANGE_REQUESTED,value:s,name:l.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS})}var s;n((s={listId:C,pinnedEmailsList:t,...t.length>0&&{i13nModel:{mKey:V.JE.PINNED_EMAIL_SECTION_DISPLAY,sec:V.nJ.PINNED_EMAILS_LIST}}},{type:a.PINNED_EMAIL_LIST_SUCCEEDED,...s}))})).catch((e=>{var t;n((t={listId:C,error:e},{type:a.PINNED_EMAIL_LIST_FAILED,...t}))}))}],yt={[a.SYNC_DATA]:[...Pt.map((e=>({syncer:e,isomorphic:!0}))),...bt.map((e=>({syncer:e})))],[a.CREATE_FOLDER_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,r=n(),{getSelectedMailboxId:o,isMobileRoute:i}=(0,c.selectors)(r);if(!i())return Promise.resolve();const{folderName:l,accountId:d}=t,_=o();return s.mailAPIClient.request("folders.create",{mailboxId:_,folderName:l,accountId:d}).then((e=>{a((0,se.zX)({folder:e.folder}))})).catch((e=>a((0,se.aU)({folderName:l,error:e}))))},[a.MORE_RECEIPTS_REQUESTED]:Ie,[a.LOCATION_SUGGEST_REQUESTED]:function(e,t,s){const{dispatch:a}=e,{query:n,i13nModel:r,partner:o}=t;return Promise.resolve(s.locationAutoSuggestClient.getLocationSuggestion(n,o)).then((e=>{a((0,Ge.ci)({...n,...e,i13nModel:r}))})).catch((e=>a((0,Ge.rY)(e))))},[a.RESPOND_TO_INVITE]:(e,t,s)=>{const{messageId:a,uid:n,response:r,email:o}=t,{dispatch:i}=e,l={numGuests:0,partStat:r,email:o,comment:""};return s.calendarClient.sendReply(n,l).then((()=>i((0,T.kr)({uid:n,response:r,messageId:a})))).catch((()=>i((0,T.iv)({uid:n,response:"ERROR",messageId:a}))))},[a.OPEN_PAGE_REQUESTED]:[$e],[a.EXTRACT_COUPON_REQUESTED]:function({dispatch:e,getState:t},{messageId:s,description:a,expiryDate:n},{mailAPIClient:r}){const{getSelectedMailboxId:o,getFoldersSelectors:i,getMessagesSelectors:d,getMessageFolderId:_}=(0,c.selectors)(t()),{getUserCardFolderIds:E,getAccountIdByFolderId:u}=i(),{getFromAddresses:m,getReplyToAddresses:S}=d(),p=o(),C=u(_(s)),A=E(C),T=[{id:l.Jd6.CRD,type:l.cip.NORMAL},{id:l.Jd6.CPN,type:l.cip.NORMAL},{id:l.Jd6.TAG,type:l.cip.NORMAL}],I={from:m(s),replyTo:S(s),subject:a},h=[{schema:{"@id":(0,R.generateRandomStringWithLength)({min:10,max:40}),"@type":l.rgK.Coupon,validThrough:n,description:a,identifier:[{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"searchTerms",value:a},{"@id":"http://schema.org/PropertyValue","@type":"PropertyValue",propertyID:"cardDate",value:"$.validThrough"}]}}];if(!(s&&A&&a&&n))return Promise.resolve();r.request("cards.create",{mailboxId:p,messageId:s,destinationFolderId:A,headers:I,decos:T,schemaOrg:h}).then((t=>{e((0,D.eu)({messageId:s,listId:(0,N.tE)("{}",{listContentType:l.F6k.COUPON_CARDS,listFilter:l.ukn.SAVED_COUPON_CARDS,accountIds:[C],referrer:l.qd8[l.K8C.COUPONS]}),...t}))})).catch((t=>{e((0,D.V3)(t))}))},[a.LAUNCH_COMPLETED]:[function(e,t,s){const a=_e.Z.feature("migrate_aol_settings"),{dispatch:n,getState:r}=e,{getSelectedMailboxId:i,getSetting:d}=(0,c.selectors)(r()),_=i();if(d(l.ANe.ENABLE_SETTINGS_MIGRATION)&&""===d(l.Zrf.MIGRATION_STATUS)&&1===d(l.Zrf.SNIPPETS)&&!1===d(l.Zrf.SHOW_IMAGES)){let e=[];return(0,h.Z)(_,"mailboxId is missing -> in the migrate_aol_settings middleware must be executed  *after* the get_mailboxes_with_wssid middleware."),s.mailAPIClient.request("mailbox.getAttributes",{mailboxId:_,attributes:l.C2H},{appId:"aolwebmail"}).then((t=>{var s;if(null==t||!t.responses)throw new Error("mailbox.getAttributes response returned empty");if(e=function(e){const t={[l.C2H.AOL_MOBILE_SNIPPETS]:{migrateTo:l.Zrf.SNIPPETS,newValue:e=>e},[l.C2H.AOL_MOBILE_BLOCK_IMAGES]:{migrateTo:l.Zrf.SHOW_IMAGES,newValue:e=>!e}},s=[];return Object.keys(e).forEach((a=>{const n=e[a],r=t[a];r&&s.push({name:r.migrateTo,value:r.newValue(n[a]||n.value)})})),s}(t.responses),null===(s=e)||void 0===s||!s.length)throw new Error("mailbox.getAttributes response returned incorrect");n((0,o.zp)({updatedSettingAttributes:e})),a.logSuccessAndLatency()})).catch((e=>{n((0,o.SI)({error:e})),a.logFailure(e)}))}},$e],[a.DELETE_CONTACT_SUGGESTIONS_REQUESTED]:(e,t,s)=>{const{dispatch:a}=e;return s.autoSuggestClient.blockContact(t).then((()=>a((0,G.deleteContactSuggestionSucceeded)({contactInfo:t.contactInfo})))).catch((e=>a((0,G.deleteContactSuggestionFailed)(e))))},[a.FEATURE_CLOSED]:ee,[a.FEATURE_TRY_NOW_REQUESTED]:ee,[a.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED]:te,[a.BLOCK_SENDERS_REQUESTED]:qe,[a.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:qe,[a.SETTINGS_CHANGE_REQUESTED]:[Et,O],[a.AOL_SETTINGS_MIGRATION_SUCCEEDED]:O,[a.SETTINGS_SAVE_FILTERS_REQUESTED]:function(e,t,s){const{dispatch:a,getState:n}=e,{isFeatureEnabled:r,getPrimaryAccountId:i,getSelectedMailboxId:d,getFolderIdsByPath:_,getSetting:E}=(0,c.selectors)(n()),{name:u,value:m,actionType:S,selectedFilterIds:p}=t;let C,A;if(r(l.ANe.USE_SAVED_SEARCH_FOR_FILTERS)){const e=i(),t=d();let n;switch(S){case"create":case"update":{"update"===S?n=m.find((e=>e.id===p[0])):(n=m[m.length-1],n.priority=(0,R.getFilterPriority)(E(l.Zrf.MESSAGE_FILTERS)));const s=_(n.actions[0].value.folderActionValueBean.folder.name);n.folderId=s[0],C="savedSearches.saveMessageFilters",A={mailboxId:t,actionType:S,accountId:e,newFilter:n};break}case"rearrange":{const s=m.find((e=>e.id===p[0])),a=m.find((e=>e.id===p[1]));((e,t)=>{e.priority=e.priority+t.priority,t.priority=e.priority-t.priority,e.priority=e.priority-t.priority})(s,a),C="savedSearches.updateMessageFilterPriority",A={mailboxId:t,actionType:S,accountId:e,filtersToUpdate:[s,a]};break}case"delete":C="savedSearches.deleteMessageFilter",A={mailboxId:t,actionType:S,newFilter:{id:p[0]}}}return s.mailAPIClient.request(C,{...A}).then((e=>{if("create"===S){const t=e;m[m.length-1].id=t.id}return a((0,o.FV)({name:u,value:m}))})).catch((e=>a((0,o.f6)({error:e,name:u,value:m}))))}return s.mailAPIClient.request("settings.saveMessageFilters",{payload:m}).then((()=>a((0,o.FV)({name:u,value:m})))).catch((e=>a((0,o.f6)({error:e,name:u,value:m}))))},[a.AD_FEEDBACK_STARTED]:(e,{sectionId:t})=>{S(e,m({beaconType:"fdb_cta"}),t)},[a.AD_FEEDBACK_SUBMITTED]:p,[a.AD_FEEDBACK_CLICKED]:p,[a.SPONSORED_SAVE_TO_INBOX_REQUESTED]:(e,t,s)=>{const{dispatch:a,getState:n}=e,{getAccountSelectors:r,getSelectedMailboxId:o,getRoute:i,getAccountIdByFolderId:l,getInboxFolderIdByAccountId:d}=(0,c.selectors)(n()),{getAccountById:_}=r(),E=o(),u=i(),m=(0,N.LY)(u),S=l((0,N.Fh)(m)),p=_(S),C=d(S),A={csid:(0,R.generateUID)(),mailboxId:E,subject:t.subject,html:t.asset,from:[p],folderId:C};return s.mailAPIClient.request("sponsoredMessages.save",A,{strategy:M.Z.STRATEGIES.BROWSER_TO_JEDI,timeout:35e3}).then((({message:e})=>{a((0,ae.Xw)({message:e,simpleBody:{html:A.html,htmlAnnotations:[]}}))})).catch((()=>a((0,ae.WA)())))},[a.SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED]:(e,t,s)=>{const{dispatch:a}=e,{provider:n}=t;return s.credstoreClient.unlink({spid:l.ZUn[n],provider:n}).then((()=>{a((0,et.s)({provider:n}))})).catch((e=>{a((0,et.Oy)({error:e}))}))}}},73821:(e,t,s)=>{"use strict";s.d(t,{Dj:()=>S,Sm:()=>A,WF:()=>C,XL:()=>m,nu:()=>u,nw:()=>E,pB:()=>d,qP:()=>_,zJ:()=>p,z_:()=>T});var a=s(50566),n=s(37422),r=s(31057),o=s(13556),i=s(85927);function l(e,t){const{getFolderIdsForSelectedAccount:s}=(0,i.selectors)(e.store.getState());return s(t)[0]}function c(e,t,s){const{getListLmv3Query:n,getNumberOfSelectedItemsInList:l,getFoldersSelectors:c,getSelectedAccountId:d,doesListExist:_}=(0,i.selectors)(e.store.getState()),{getFolderTotal:E}=c(),u=d(),{listId:m,destinationFolderId:S,triageActionType:p}=t,C=(0,r.Fh)(m),A=C?E(C):0,T=C?A:l(m),I=_(m)?n(m):void 0,h=I?JSON.parse(I):void 0;let g=h?h.base:null;if(!g&&C&&(g=(0,o.q$)({folderId:C})),!g)return;h&&h.token&&(g+=` querytoken:${h.token}`);const O=-1!==[a.DELETE_ITEMS_REQUESTED,a.READ_CHANGE_REQUESTED].indexOf(s)?C:S;e.dispatch(s,{...t,accountId:u,folderId:C,isAsync:!0,conversations:!1,count:T,allSelected:!0,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:p,folderId:O,conversations:!1},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:p,folderId:O}})}function d(e,t){return c(e,{...t,triageActionType:n.Ewo.MOVE_ALL_ITEMS,flags:null},a.MOVE_ITEMS_REQUESTED)}function _(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.TRASH,destinationFolderId:l(e,n.Sck.TRASH),triageActionType:n.Ewo.DELETE_ALL_ITEMS},a.DELETE_ITEMS_REQUESTED)}function E(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.ARCHIVE,destinationFolderId:l(e,n.Sck.ARCHIVE),triageActionType:n.Ewo.ARCHIVE_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function u(e,t){return c(e,{...t,flags:null,destinationFolderType:n.Sck.INBOX,destinationFolderId:l(e,n.Sck.INBOX),triageActionType:n.Ewo.RESTORE_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function m(e,t){return c(e,{...t,flags:{spam:!0},destinationFolderType:n.Sck.BULK,destinationFolderId:l(e,n.Sck.BULK),triageActionType:n.Ewo.SPAM_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function S(e,t){return c(e,{...t,flags:{ham:!0},destinationFolderType:n.Sck.INBOX,destinationFolderId:l(e,n.Sck.INBOX),triageActionType:n.Ewo.NOT_SPAM_ALL_ITEMS},a.MOVE_ITEMS_REQUESTED)}function p(e,t){return c(e,{...t,isRead:!1,flags:{read:!0},triageActionType:n.Ewo.READ_CHANGE_ALL_ITEMS},a.READ_CHANGE_REQUESTED)}function C(e,t){return c(e,{...t,isRead:!0,flags:{read:!1},triageActionType:n.Ewo.READ_CHANGE_ALL_ITEMS},a.READ_CHANGE_REQUESTED)}function A(e,t){return c(e,{...t,isStarred:!1,flags:{flagged:!0},triageActionType:n.Ewo.STAR_CHANGE_ALL_ITEMS},a.STAR_CHANGE_REQUESTED)}function T(e,t){return c(e,{...t,isStarred:!0,flags:{flagged:!1},triageActionType:n.Ewo.STAR_CHANGE_ALL_ITEMS},a.STAR_CHANGE_REQUESTED)}},62201:(e,t,s)=>{"use strict";s.d(t,{AV:()=>l,FH:()=>_,Ve:()=>d,vr:()=>c,wD:()=>i});var a=s(50566),n=s(37422),r=s(99691),o=s(85927);function i(e){return{...e,type:a.ATTACHMENT_ZOOMED}}function l(e,{i13nModel:t}){e.dispatch(a.ATTACHMENT_OPENED,{i13nModel:t})}function c(e,{documentId:t,pageNumber:s=1}){const{getDocumentSelectors:i}=(0,o.selectors)(e.store.getState()),l=i().getNumberOfPages(t)||n._ob.PAGES_CHUNK_SIZE,{startPage:c,endPage:d}=(0,r.Vb)(s,l,n._ob.PAGES_CHUNK_SIZE);e.dispatch(a.DOCUMENT_FETCH_REQUESTED,{documentId:t,startPage:c,endPage:d})}function d({attachment:e,i13nModel:t}){const{id:s,filename:n,downloadUrl:r}=e;return{attachment:e,type:a.ATTACHMENT_DOWNLOADED,download:{downloadId:s,downloadUrl:r,filename:n,fileCount:1},i13nModel:t}}function _({attachments:e,downloadUrl:t,downloadId:s,filename:n,i13nModel:r}){return{attachments:e,type:a.ALL_ATTACHMENTS_DOWNLOADED,download:{downloadId:s,downloadUrl:t,filename:n,fileCount:e.length},i13nModel:r}}},13556:(e,t,s)=>{"use strict";s.d(t,{HE:()=>u,L6:()=>d,UA:()=>_,WD:()=>S,p2:()=>p,q$:()=>c,tk:()=>E,zA:()=>m});var a=s(50566),n=s(31057),r=s(3405),o=s(37422),i=s(85927);function l(e,t){const{getFeaturesSelectors:s}=(0,i.selectors)(e.store.getState());return t>=s().getSetting("bulkActionDialogThreshold")}function c({folderId:e,filterUnread:t=!1}){let s=`folderId:${e} count:${o.DTB}`;return t&&(s+=" is:unread"),s}function d(e,{accountId:t,folderName:s,alertFromModalDialog:n=!1,i13nModel:r={}}){return e.dispatch(a.CREATE_FOLDER_REQUESTED,{accountId:t,folderName:s,i13nModel:r}),e.mailAPIClient.request("folders.create",{folderName:s,accountId:t}).then((t=>{e.dispatch(a.CREATE_FOLDER_SUCCEEDED,{folder:t.folder,alertFromModalDialog:n})})).catch((t=>{e.dispatch(a.CREATE_FOLDER_FAILED,{folderName:s,alertFromModalDialog:n,error:t})}))}function _(e,{streamId:t,listId:s,folderId:n,unreadCount:r,i13nModel:i}){const c=r,d=l(e,c);e.dispatch(a.READ_CHANGE_REQUESTED,{folderId:n,listId:s,isAsync:d,count:c,isRead:!1,flags:{read:!0},allSelected:!0,streamId:t,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,folderId:n},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.READ_CHANGE_FOLDER_ITEMS,folderId:n},i13nModel:i})}function E(e,{folderId:t,total:s,streamId:r,i13nModel:i}){const c=(0,n.Kw)(t),d=o.Sck.ARCHIVE,_=s,E=l(e,_);e.dispatch(a.MOVE_ITEMS_REQUESTED,{streamId:r,listId:c,folderId:t,destinationFolderType:d,isAsync:E,count:_,allSelected:!0,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.ARCHIVE_FOLDER_ITEMS,folderId:t},i13nModel:i})}function u(e,{folderId:t,total:s,streamId:c,i13nModel:d}){const{isPermDeleteFolderType:_,getMainStreamItems:E,normalizeRoute:u}=(0,i.selectors)(e.store.getState()),m=(0,n.Kw)(t),S=_(t),p=s,C=l(e,p),A=u((0,r.i5)(t));e.dispatch(a.DELETE_ITEMS_REQUESTED,{streamId:c,listId:m,folderId:t,destinationFolderType:o.Sck.TRASH,permanent:S,isAsync:C,count:p,conversations:!1,allSelected:!0,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,streamItems:E(A),isV2Action:!0,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,folderId:t},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,folderId:t},i13nModel:d})}function m(e,{i13nModel:t}){e.dispatch(a.FOLDER_CONTEXT_MENU_REQUESTED,{i13nModel:t})}function S(e,{i13nModel:t}){e.dispatch(a.EXPAND_ACCOUNT_LIST,{i13nModel:t})}function p(e,{folderId:t,i13nModel:s}){e.dispatch(a.DELETE_NON_EMPTY_FOLDER_REQUESTED,{folderId:t,i13nModel:s})}},98901:(e,t,s)=>{"use strict";s.d(t,{$v:()=>N,Dj:()=>f,Gh:()=>g,O6:()=>P,OO:()=>T,QM:()=>V,SL:()=>R,Sm:()=>v,Uz:()=>H,WF:()=>y,XL:()=>L,XV:()=>M,YC:()=>h,aI:()=>D,eH:()=>x,hB:()=>I,hb:()=>O,qU:()=>B,sR:()=>Z,ts:()=>G,zJ:()=>b,z_:()=>F});var a=s(50566),n=s(37422),r=s(42907),o=s(31057),i=s(18247),l=s(17016),c=s(85927),d=s(78263);function _(e,t){const{getFeaturesSelectors:s}=(0,c.selectors)(e.store.getState()),a=s();return t.length>=a.getSetting("bulkActionDialogThreshold")}function E(e,{sourceListId:t,fromMessageGroupView:s,destinationFolderId:r,messageIds:i,messageGroupIds:l,nextGroupId:d,streamId:E,streamItem:u,i13nModel:m}){const S=l.length,p=_(e,l),{getFeaturesSelectors:A,isFeatureEnabled:T,getPrimaryFolderTypeByFolderId:I,getSetting:h,getSelectedStreamItems:g}=(0,c.selectors)(e.store.getState()),O=A().isEnabled(n.ANe.CONVERSATIONS),D=(0,o.Fh)(t);if(0===(i=C(e,t,r,i,s)).length)return;const R={triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,count:S,conversations:O,folderId:r},N={triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,count:S,conversations:O},L=I(r);if(T(n.ANe.PINNED_EMAILS)&&[n.Sck.BULK,n.Sck.TRASH].includes(L)){let t=g(E);if(t=t.filter((({listId:e})=>e===(0,o.uW)())).map((({id:e})=>e)),t.length>0){const s=h(n.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS).filter((e=>{const[s,a]=e.split(n.Vky);return!t.includes(T(n.ANe.CONVERSATIONS)?a:s)}));e.dispatch(a.SETTINGS_CHANGE_REQUESTED,{name:n.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS,value:s})}}e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:i,destinationFolderId:r,isAsync:p,count:S,folderId:D,conversations:O,nextGroupId:d,listId:t,streamId:E,streamItem:u,i13nModel:m,triageActionType:n.Ewo.MOVE_SELECTED_ITEMS,isV2Action:!0,fromMessageGroupView:s,checkForDuplicates:l.length<=n.xRm,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...R},failureAction:{type:a.UPDATE_ITEMS_FAILED,...N}})}function u(e,{messageIds:t,sourceListId:s,fromMessageGroupView:a,destinationFolderType:n,flags:r,isAsync:o,checkForDuplicates:i}){const{__getFolderIdMapFromFolderType:l}=(0,c.selectors)(e.store.getState()),d=l(t,n);return Object.keys(d).map((t=>{let n=d[t];return n=C(e,s,t,n,a),Object.assign({destinationFolderId:t,messageIds:n,checkForDuplicates:i,isAsync:o},r&&{flags:r})}))}function m(e,{sourceListId:t,streamId:s,streamItem:r,i13nModel:o,fromMessageGroupView:i,destinationFolderType:l,messageIds:d,messageGroupIds:E,flags:m,triageActionType:S,checkForDuplicates:p}){const C=_(e,E),A=u(e,{sourceListId:t,destinationFolderType:l,messageIds:d,messageGroupIds:E,fromMessageGroupView:i,flags:m,isAsync:C,checkForDuplicates:p});if(0===(d=A.reduce((function(e,t){return e.concat(t.messageIds)}),[])).length)return;const T=E.length,{getFeaturesSelectors:I}=(0,c.selectors)(e.store.getState()),h=I().isEnabled(n.ANe.CONVERSATIONS);e.dispatch(a.MOVE_ITEMS_REQUESTED,{messageIds:d,destinationFolderType:l,isAsync:C,i13nModel:o,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,triageActionType:S,count:T,conversations:h},failureAction:{type:a.UPDATE_ITEMS_FAILED,triageActionType:S,count:T,conversations:h},count:T,conversations:h,listId:t,fromMessageGroupView:i,triageActionType:S,streamId:s,streamItem:r,checkForDuplicates:A.some((e=>e.checkForDuplicates)),isV2Action:!0})}function S(e,t){return t&&t===n.Sck.SENT||!t?e:function(e){return(0,i.Zr)(e,(e=>e!==n.Sck.SENT))}(e)}const p=[{moveFrom:n.Sck.DRAFT,allow:!1},{moveTo:n.Sck.DRAFT,allow:!1},{moveTo:n.Sck.SENT,allow:!1}];function C(e,t=null,s,a,l){const{__patchV2MessageId__:d}=(0,c.selectors)(e.store.getState()),{getFeaturesSelectors:_,doesFolderIdExist:E,getPrimaryFolderTypeByFolderId:u}=(0,c.selectors)(e.store.getState()),m=u(s);let C=a.map((e=>d(e,t)));const A=(0,o.Fh)(t),T=A&&E(A)&&u(A)||null,I=_().isEnabled(n.ANe.CONVERSATIONS);return l?m!==n.Sck.TRASH&&(C=S(C,T)):(C=function(e,t,s){if(t&&s){const s={[n.Sck.TRASH]:!0,[n.Sck.BULK]:!0};return s[t]?(0,i.Zr)(e,(e=>e===t)):(0,i.Zr)(e,(e=>!s[e]))}return e}(C,T,I),C=S(C,T)),function(e,t){return e.filter((e=>{const s=(0,r.IZ)(e.folder);let a=!0;return p.some((e=>{let n=!1;return(e.hasOwnProperty("moveFrom")&&e.moveFrom===s||e.hasOwnProperty("moveTo")&&e.moveTo===t)&&(a=e.allow,n=!0),n})),a}))}(C,m).map((({id:e})=>e))}function A(e,{messageIds:t,flags:s,itemId:a,streamId:n,streamItem:r,route:o,isRead:i,isStarred:l,i13nModel:d,persistStreamItemExpansionStates:_,triageActionType:E},{pendingActionType:u}){const{getCurrentListId:m,doesMessageGroupIdExist:S,getMainStreamItems:p}=(0,c.selectors)(e.store.getState()),C=o?p(o):void 0,A=m();S(a)&&e.dispatch(u,{i13nModel:d,isV2Action:!0,messageIds:t,itemId:a,listId:A,streamId:n,streamItem:r,streamItems:C,flags:s,isRead:i,isStarred:l,persistStreamItemExpansionStates:_,triageActionType:E})}function T(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return E(e,{sourceListId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function I(e,{listId:t,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i}){return E(e,{sourceListId:t,fromMessageGroupView:!0,destinationFolderId:s,messageIds:a,messageGroupIds:n,streamId:r,streamItem:o,i13nModel:i})}function h(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.ARCHIVE,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.ARCHIVE_SELECTED_ITEMS})}function g(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{fromMessageGroupView:!0,destinationFolderType:n.Sck.ARCHIVE,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.ARCHIVE_SELECTED_ITEMS})}function O(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,sourceListId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.RESTORE_SELECTED_ITEMS})}function D(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.RESTORE_SELECTED_ITEMS})}function R(e,t){const{messageGroupIds:s,permanent:r,listId:o,fromMessageGroupView:i,conversationsFlagFromAction:l=!0}=t,d=(0,c.selectors)(e.store.getState()),{__patchV2MessageId__:E,getFeaturesSelectors:m,getRoute:S,isPermDeleteFolderType:p}=d,C=m().isEnabled(n.ANe.CONVERSATIONS)&&l,A=_(e,s),T=s.length<=n.xRm;let I,{messageIds:h}=t;if(S().name===n.n8z.SEARCH){let t=null,a=null;const r=h.map((e=>E(e))).filter((({folder:e})=>p(e.id))).map((({id:e})=>e)),l=h.map((e=>E(e))).filter((({folder:e})=>!p(e.id))).map((({id:e})=>e));l.length&&(t=u(e,{destinationFolderType:n.Sck.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:l,messageGroupIds:s,checkForDuplicates:T,isAsync:A})),r.length&&(a={messageIds:r,checkForDuplicates:T,isAsync:A}),I={trashPayload:t,deletePayload:a}}else r?I={messageIds:h,checkForDuplicates:T,isAsync:A}:(I=u(e,{destinationFolderType:n.Sck.TRASH,sourceListId:o,fromMessageGroupView:i,messageIds:h,messageGroupIds:s,checkForDuplicates:T,isAsync:A}),h=I.reduce(((e,{messageIds:t})=>e.concat(t)),[]));const g=s.length;if(0===h.length)return;const O={triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,count:g,conversations:C,permanent:r},D={triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,count:g,conversations:C};e.dispatch(a.DELETE_ITEMS_REQUESTED,Object.assign({},t,{isV2Action:!0,triageActionType:n.Ewo.DELETE_SELECTED_ITEMS,messageIds:h,successAction:{type:a.UPDATE_ITEMS_SUCCEEDED,...O},failureAction:{type:a.UPDATE_ITEMS_FAILED,...D},count:g,conversations:C,checkForDuplicates:T,isAsync:A}))}function N(e,{listId:t,messageIds:s,messageGroupIds:a,permanent:r,streamId:o,streamItem:i,i13nModel:l,conversationsFlagFromAction:c}){return R(e,{i13nModel:l,listId:t,streamId:o,streamItem:i,destinationFolderType:n.Sck.TRASH,messageIds:s,fromMessageGroupView:!0,messageGroupIds:a,permanent:r,conversationsFlagFromAction:c})}function L(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.BULK,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function f(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function M(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.BULK,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{spam:!0,read:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function P(e,{listId:t,messageIds:s,messageGroupIds:a,streamId:r,streamItem:o,i13nModel:i}){return m(e,{destinationFolderType:n.Sck.INBOX,fromMessageGroupView:!0,messageIds:s,messageGroupIds:a,sourceListId:t,flags:{ham:!0},streamId:r,streamItem:o,i13nModel:i,triageActionType:n.Ewo.NOT_SPAM_SELECTED_ITEMS,checkForDuplicates:a.length<=n.xRm})}function b(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,route:i,i13nModel:l,persistStreamItemExpansionStates:c}){return A(e,{i13nModel:l,messageIds:t,itemId:s,isRead:!1,flags:{read:!0},streamId:r,streamItem:o,route:i,persistStreamItemExpansionStates:c,triageActionType:n.Ewo.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function y(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isRead:!0,flags:{read:!1},streamId:r,streamItem:o,triageActionType:n.Ewo.READ_CHANGE_SELECTED_ITEMS},{pendingActionType:a.READ_CHANGE_REQUESTED})}function v(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!1,flags:{flagged:!0},streamId:r,streamItem:o,triageActionType:n.Ewo.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}function F(e,{messageIds:t,itemId:s,streamId:r,streamItem:o,i13nModel:i}){return A(e,{i13nModel:i,messageIds:t,itemId:s,isStarred:!0,flags:{flagged:!1},streamId:r,streamItem:o,triageActionType:n.Ewo.STAR_CHANGE_SELECTED_ITEMS},{pendingActionType:a.STAR_CHANGE_REQUESTED})}const U=n.AGu.Modes;function k(e,t,s,n,r,o=!1,i=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{i13nModel:r,composeMode:n,triggeredFromContextMenu:o,triggeredFromMessageToolbar:i,...w(e,t,s)})}function w(e,t,s){const a=s.id||s.messageId,r=(0,c.selectors)(e.store.getState()),{getCurrentListId:o,doesMessageBodyExist:i,findReplyForwardCsidsOfMessage:_,getDraftMessageId:E,isSent:u,isFeatureEnabled:m,isSpamMessage:S}=r,p=o(),C=(0,d.BA)([p]),{getFeaturesSelectors:A}=(0,c.selectors)(e.store.getState()),T=A().isEnabled(n.ANe.CONVERSATIONS),I=(_(a)||[]).filter((e=>!E(e)&&!u(e))),h=I.length?I[0]:(0,l.generateUID)(),{getMessageBodiesSelectors:g}=(0,c.selectors)(e.store.getState()),{get:O}=g();return{csid:h,listId:p,messageGroupId:t,conversationsMode:T,groupId:t,streamId:C,messageId:a,secure:!m(n.Zrf.SHOW_IMAGES)||S(a),full:!0,message:Object.assign({},s,{id:a,body:i(a)?O(a):void 0})}}function G(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:r=!1}){return k(e,t,s,U.REPLY,a,n,r)}function H(e,{messageGroupId:t,message:s,selectedReplySuggestion:n,i13nModel:r,triggeredFromContextMenu:o=!1}){return function(e,t,s,n,r,o,i=!1){return e.dispatch(a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED,{selectedReplySuggestion:n,i13nModel:o,composeMode:r,triggeredFromContextMenu:i,...w(e,t,s)})}(e,t,s,n,U.REPLY_ALL,r,o)}function B(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:r=!1}){return k(e,t,s,U.REPLY_ALL,a,n,r)}function x(e,{messageGroupId:t,message:s,i13nModel:a,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:r=!1}){return k(e,t,s,U.FORWARD,a,n,r)}function V(e,{messageGroupId:t,message:s,composeMode:a,i13nModel:n}){return k(e,t,s,a,n)}function Z(e,{messageId:t}){const{getSelectedMailboxId:s,getEnvironmentSelectors:a}=(0,c.selectors)(e.store.getState()),{mailAPIClient:r}=e,{wssid:o,appId:i}=r,l=r.ymreqidGenerator.generate(),d=s(),_=`https://${a().getEndpoint(n.ANM.JWS_HOST)}/ws/v3/mailboxes/@.id==${d}/messages/@.id==${t}/content/rawplaintext?appId=${i}&ymreqid=${l}&wssid=${o}`;window.open(_,"_blank")}},58608:(e,t,s)=>{"use strict";s.d(t,{$D:()=>_,AK:()=>d,DO:()=>p,J4:()=>T,Mf:()=>g,Mw:()=>O,W9:()=>c,Zs:()=>i,bn:()=>E,fs:()=>N,iG:()=>R,ih:()=>S,oD:()=>D,oX:()=>I,rL:()=>C,sK:()=>A,u4:()=>l,uX:()=>m,wd:()=>h,y4:()=>u});var a=s(98901),n=s(37422),r=(s(31057),s(85927));function o(e,t,s=(()=>!0)){const{getMessageIdsFromMessageGroupId:a,__getMessageWithFlagsAndFolderId:n}=(0,r.selectors)(e.store.getState()),o=t.map((e=>a(e).filter((e=>{const t=n(e);return s(t)}))));return[].concat(...o)}function i(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:l}){a.OO(e,{destinationFolderId:t,listId:s,streamId:r,streamItem:i,messageIds:o(e,n),messageGroupIds:n,i13nModel:l})}function l(e,{destinationFolderId:t,listId:s,messageGroupIds:n,streamId:r,streamItem:i,i13nModel:l}){a.hB(e,{listId:s,streamId:r,streamItem:i,destinationFolderId:t,messageIds:o(e,n),messageGroupIds:n,i13nModel:l})}function c(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.YC(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function d(e,{messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:i}){a.Gh(e,{messageIds:o(e,t),messageGroupIds:t,listId:s,streamId:n,streamItem:r,i13nModel:i})}function _(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.hb(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function E(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.aI(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function u(e,{listId:t,messageGroupIds:s,permanent:i,streamId:l,streamItem:c,i13nModel:d,batchRemoveItems:_,batchDelete:E}){let u=o(e,s);if(0!==u.length){if(i){const{__isPermDeleteMessage:t}=(0,r.selectors)(e.store.getState());u=u.filter((e=>t(e)))}return a.SL(e,{listId:t,streamId:l,streamItem:c,isV2Action:!0,destinationFolderType:n.Sck.TRASH,messageIds:u,messageGroupIds:s,permanent:i,i13nModel:d,batchRemoveItems:_,batchDelete:E})}}function m(e,{listId:t,permanent:s,messageGroupIds:n,streamId:i,streamItem:l,i13nModel:c}){const{doesMessageGroupIdExist:d}=(0,r.selectors)(e.store.getState()),_=n.filter((e=>d(e)));0!==_.length&&a.$v(e,{messageGroupIds:_,messageIds:o(e,_),permanent:s,listId:t,streamId:i,streamItem:l,i13nModel:c})}function S(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.XL(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function p(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.Dj(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function C(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.XV(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function A(e,{listId:t,messageGroupIds:s,streamId:n,streamItem:r,i13nModel:i}){a.O6(e,{listId:t,streamId:n,streamItem:r,messageIds:o(e,s),messageGroupIds:s,i13nModel:i})}function T(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.zJ(e,{itemId:t[0],messageIds:o(e,t,(e=>!e.flags.read)),streamId:s,streamItem:n,i13nModel:r})}function I(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.WF(e,{itemId:t[0],messageIds:o(e,t,(e=>e.flags.read)),streamId:s,streamItem:n,i13nModel:r})}function h(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.Sm(e,{itemId:t[0],messageIds:o(e,t,(e=>!e.flags.flagged)),streamId:s,streamItem:n,i13nModel:r})}function g(e,{messageGroupIds:t,streamId:s,streamItem:n,i13nModel:r}){a.z_(e,{itemId:t[0],messageIds:o(e,t,(e=>e.flags.flagged)),streamId:s,streamItem:n,i13nModel:r})}function O(e,{messageGroupIds:t,i13nModel:s}){const[n]=t,{__getLastNonDraftMessageIdByGroupId:o}=(0,r.selectors)(e.store.getState()),i=o(n);a.sR(e,{messageId:i,i13nModel:s})}function D(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:o=!1}){const{__getLastNonDraftMessageIdByGroupId:i,__getMessageWithFlagsAndFolderId:l}=(0,r.selectors)(e.store.getState()),c=l(i(t));a.ts(e,{messageGroupId:t,message:c,i13nModel:s,triggeredFromContextMenu:n,triggeredFromMessageToolbar:o})}function R(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:o=!1}){const{__getLastNonDraftMessageIdByGroupId:i,__getMessageWithFlagsAndFolderId:l}=(0,r.selectors)(e.store.getState()),c=l(i(t));a.qU(e,{messageGroupId:t,message:c,i13nModel:s,triggeredFromContextMenu:n,triggeredFromMessageToolbar:o})}function N(e,{messageGroupId:t,i13nModel:s,triggeredFromContextMenu:n=!1,triggeredFromMessageToolbar:o=!1}){const{__getLastNonDraftMessageIdByGroupId:i,__getMessageWithFlagsAndFolderId:l}=(0,r.selectors)(e.store.getState()),c=l(i(t));a.eH(e,{messageGroupId:t,message:c,i13nModel:s,triggeredFromContextMenu:n,triggeredFromMessageToolbar:o})}},62739:e=>{"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"t_C M_1WSbm8",loginPage:"t_C Y_6LEV",emailInput:"W_3qWeB",header:"P_0 u_b A_6LEV i_6UbO Y_6DEy U_6LEV",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"t_C C_Z1TsNbA",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNbA",providersOption:"Y_6Fd5",switchAccount:"C_Z29WjXl",accountList:"M_0 P_0 hd_n",listItem:"P_1Eu6qC M_1EAG48 D_X",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1WBuqm M_6DEy",errorMessage:"C_ZnTFMv M_fq7",primaryButton:"A_6EqO u_e69 W_3nqmc P_Z1E2XDm M_eo6 I_Z29WjXl b_n e_dRA C_4SSH I4_Z29WjXl b4_n C4_4SSH",legalText:"A_6DUj a_3z5BY M_hvBM4",note:"C_Z1WBuqm A_6DUj M_hDwes a_3z5BY",link:"C_Z29WjXl Q_dRA u_e69 r_P"}},_key:"2eiyk7"}},1191:(e,t,s)=>{"use strict";s.d(t,{PV:()=>p,Q5:()=>_,dS:()=>E,kL:()=>u,sF:()=>m,wD:()=>S});var a=s(50566),n=s(8106),r=s(85927),o=s(37422),i=s(1558),l=s(44140),c=s.n(l);let d=5;function _(e){const{getCurrentListId:t,isFeatureEnabled:s}=(0,r.selectors)(e.store.getState()),i=s(o.ANe.SILENT_TIMEZONE_CORRECTION),l=c().determine(),d=l&&l.name(),_=i&&(0,n.mL)(d)?d:null;e.dispatch(a.LAUNCH_COMPLETED,{listId:t(),clientInferredTimezone:_})}function E(e){e.dispatch(a.APP_LOAD_COMPLETED)}function u(e,{isVisible:t}){const s=e.heartbeatAPIClient.emergencyRefresh,{getFeaturesSelectors:n,isAppVisible:l,getApplicationLastVisibleTimeStamp:c,getPrimaryAccount:_,getRoute:E}=(0,r.selectors)(e.store.getState()),u=n().getSetting("appRefreshIdleInterval"),m=l(),S=_(),{name:p}=E();t!==m&&(t&&p===o.n8z.SETTINGS&&S.forwardEmail&&!S.forwardEmailVerified&&d>0&&(e.store.dispatch(i.In({accountId:S.id,updatedProperties:{forwardEmailVerified:S.forwardEmailVerified}})),d--),e.dispatch(a.APPLICATION_VISIBILITY_DID_CHANGE,{isVisible:t,emergencyRefresh:s,appRefreshIdleInterval:u,applicationLastVisibleTimeStamp:c()}))}function m(e){e.dispatch(a.SETTINGS_MENU_CLOSED)}function S(e,{i13nModel:t}){e.dispatch(a.OPEN_TABS_MENU,{i13nModel:t})}function p(e,t){e.dispatch(a.SYNC_DATA,t)}},70593:e=>{"use strict";e.exports={className:{default:{container:"D_n W_0 H_0"}},_key:"Z1erYH8"}},95861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>V});var a=s(99839),n=s(38320),r=s(92559),o=s(86056),i=s.n(o),l=s(29122),c=s(62494),d=s(66905),_=s(72243),E=s(81666),u=s(18446),m=s.n(u);const S=new Uint8Array([4,227,117,12,199,115,220,127,63,174,149,203,16,189,37,161,153,221,243,25,141,129,140,15,239,208,107,204,154,74,211,59,73,79,73,232,78,169,10,131,161,9,71,153,219,46,209,23,162,120,123,210,6,68,247,154,171,164,170,191,10,141,178,88,216]),p=S.reduce(((e,t)=>{let s=(e<<5)-e+t;return s&=s,s}));function C(e,t){if(null==e)throw new Error(`${t}; Expected 'val' to be defined, but received ${e}`)}const A=e=>`${e.service}_registration`,T=e=>`${e.service}_association`,I=e=>(C(e.subscription,"Unable to migrate a missing subscription. This guard must run after ensuring a subscription exists."),e.applicationServerKeyVersion!==p),h=e=>!e.subscription,g=e=>i()(Date.now(),e.associationTimestamp)>=e.associationValidityPeriod||!m()(e.attributes,e.storedAttributes),O=e=>!e.registrationId,D=e=>(e=>{var t;return e.subscriptionEndpoint!==(null===(t=e.subscription)||void 0===t?void 0:t.endpoint)})(e)||(e=>e.registrationVersion<1||i()(Date.now(),e.registrationTimestamp)>=e.registrationValidityPeriod)(e),R=e=>e.permissionState===n.Jj.DEFAULT,N=e=>e.type.startsWith("error.platform"),L=(e,t)=>N(t)&&d.Z.isResponseError(t.data)&&t.data.errorCode===d.Z.ERROR_NO_ASSOCIATION_EXISTS,f=(e,t)=>N(t)&&d.Z.isResponseError(t.data)&&t.data.errorCode===d.Z.ERROR_ASSOCIATION_EXISTS,M=(e,t)=>N(t)&&d.Z.isResponseError(t.data)&&t.data.errorCode===d.Z.ERROR_NO_REGISTRATION_EXISTS,P=e=>e.apiRequests>10,b=async()=>{const e=await(async()=>{if(!(0,E.Z)())throw new Error("Push not supported");const e=await window.navigator.serviceWorker.getRegistration();return e?await e.pushManager.getSubscription():null})();C(e,"Attempted to unsubscribe without a subscription");C(await e.unsubscribe(),"Unsubscribe failed")},y=async()=>{const e=await window.navigator.serviceWorker.ready;return await e.pushManager.subscribe({applicationServerKey:S,userVisibleOnly:!0})},v=async e=>{const t=new d.Z({...e.requestContext,service:e.service});return C(e.subscription,"Subscription required for addRegistration"),t.addRegistration(e.subscription)},F=async e=>{const t=new d.Z({...e.requestContext,service:e.service});return C(e.subscription,"Subscription required for updateRegistration"),C(e.registrationId,"registrationId required for updateRegistration"),t.updateRegistration(e.subscription,e.registrationId)},U=async e=>{const t=new d.Z({...e.requestContext,service:e.service});return C(e.registrationId,"registrationId required for addAssociation"),t.addAssociation(e.registrationId,e.attributes)},k=async e=>{const t=new d.Z({...e.requestContext,service:e.service});return C(e.registrationId,"registrationId required for updateAssociation"),t.updateAssociation(e.registrationId,e.attributes)},w=async e=>{const t=await(0,_.b)(),s=A(e),a=T(e),n=t.transaction([s,a],"readonly"),r=n.objectStore(s),o=await r.get("registrationId")||"",i=Number(await r.get("registrationTimestamp"))||0,l=Number(await r.get("registrationVersion"))||0,c=await r.get("subscriptionEndpoint")||"",d=Number(await r.get("associationTimestamp"))||0,E=Number(await r.get("applicationServerKeyVersion"))||-1,u=await r.get("migrationFlow")||"",m=await n.objectStore(a).get("attributes")||{},S=await n.objectStore(a).get("inactiveAttributes")||{};let p;return"tap"===e.service&&0===Object.keys(m).length&&(p=await r.get("subscriptionIds")||""),await n.done,p&&"object"==typeof m&&!Array.isArray(m)&&(m.tags=p.split(",").map((e=>`mail/new_mail_v4|notify|${e}|deco:FTI`))),{registrationId:o,registrationTimestamp:i,registrationVersion:l,subscriptionEndpoint:c,associationTimestamp:d,applicationServerKeyVersion:E,migrationFlow:u,storedAttributes:m,storedInactiveAttributes:S}},G=async e=>{const t=await(0,_.b)(),s=A(e),a=T(e),n=t.transaction([s,a],"readwrite"),r=n.objectStore(s),o=n.objectStore(a);if(null===e.registrationId?(await r.delete("registrationId"),await r.delete("registrationTimestamp"),await r.delete("registrationVersion"),await r.delete("associationTimestamp"),await r.delete("subscriptionIds")):(await r.put(String(e.registrationTimestamp),"registrationTimestamp"),await r.put(String(e.associationTimestamp),"associationTimestamp"),await r.put(String(1),"registrationVersion"),await r.put(e.registrationId,"registrationId")),e.subscription&&await r.put(String(p),"applicationServerKeyVersion"),e.subscriptionEndpoint&&await r.put(e.subscriptionEndpoint,"subscriptionEndpoint"),e.migrationFlow&&await r.put(e.migrationFlow,"migrationFlow"),await r.delete("timestamp"),await r.delete("subscriptionIds"),e.attributes&&"object"==typeof e.attributes&&"tags"in e.attributes){var i,l,c,d,E,u;const t=null!==(i=null===(l=e.storedInactiveAttributes)||void 0===l?void 0:l.tags)&&void 0!==i?i:[],s=null!==(c=null===(d=e.attributes)||void 0===d?void 0:d.tags)&&void 0!==c?c:[],a=null!==(E=null===(u=e.storedAttributes)||void 0===u?void 0:u.tags)&&void 0!==E?E:[],n=t.filter((e=>!s.includes(e))).concat(a.filter((e=>!(null!=s&&s.includes(e)))));o.put({...e.storedInactiveAttributes,tags:n},"inactiveAttributes")}o.put(e.attributes,"attributes"),await n.done,t.close()};var H=s(46029);const B=e=>{const t=e.map((e=>e.value));return t.includes("unsubscribeToMigrate")||t.includes("deleteAssociationBeforeStartOver")?n.ug.MIGRATE:t.includes("subscribe")?n.ug.SUBSCRIBE:t.includes("addAssociation")||t.includes("updateAssociation")?n.ug.RENEW:n.ug.NOOP},x=e=>e.map((e=>e.value)).join(",");async function V(e){const{service:t,attributes:s,disablePushNotifications:o,isPreviousActionNotificationsEnabled:i,onGrantedPermissions:d,associationValidityPeriod:_,registrationValidityPeriod:E,guidHash:u,appId:m}=e,{userNamespace:S}=window.AppBootstrapData,p=[];let A=0,T=0;const N=e=>{const s=B(p),l={scenario:s},c=(0,n.MR)();c===n.Jj.DENIED&&(l.i13nModel={mKey:r.JE.PUSH_NOTIFICATIONS_REQUEST_REJECTED,sec:r.nJ.NOTIFICATION_ACTION});const d=!!i;a.Z.feature("push_notifications_subscription_complete",{service:t,scenario:s,flow:x(p),registrationVersion:T,registrationTimestamp:A,browserPermissionState:c,shouldDisablePush:d}).logFailure(e),d&&o(l)},V=async()=>{const e=await(0,n.pI)(),r=(o={service:t,subscription:e,attributes:s,associationValidityPeriod:_,registrationValidityPeriod:E,requestContext:{guidHash:u,appId:m,userNamespace:S},permissionState:(0,n.MR)()},(0,l.C)({context:{...o,apiRequests:0,registrationId:"",subscriptionEndpoint:"",registrationTimestamp:0,registrationVersion:0,associationTimestamp:0,applicationServerKeyVersion:0,storedAttributes:{},storedInactiveAttributes:{},migrationFlow:""},tsTypes:{},schema:{context:{},events:{},services:{}},id:"webpush",initial:"unsubscribed",states:{unsubscribed:{invoke:{src:"readContextFromStorage",onDone:[{actions:"assignContextFromStorage",target:"#webpush.subscribing"}],onError:[{target:"#webpush.failed"}]}},subscribing:{entry:"resetApiRequestCounter",always:[{cond:"subscriptionDoesNotExist",target:"#webpush.subscribe"},{cond:"registrationDoesNotExist",target:"#webpush.startOver"},{cond:"shouldMigrateSubscription",target:"#webpush.unsubscribeToMigrate"},{cond:"shouldUpdateRegistration",target:"#webpush.updateRegistration"},{cond:"associationIsStale",target:"#webpush.updateAssociation"},{target:"#webpush.complete"}]},startOver:{invoke:{src:"unsubscribe",onDone:[{actions:"clearSubscription",target:"#webpush.subscribe"}],onError:[{target:"#webpush.failed"}]}},unsubscribeToMigrate:{entry:"markMigration",invoke:{src:"unsubscribe",onDone:[{actions:"clearSubscription",target:"#webpush.subscribeWhenAlreadyRegistered"}],onError:[{target:"#webpush.failed"}]}},subscribe:{invoke:{src:"subscribe",onDone:[{actions:"assignSubscription",target:"#webpush.addRegistration"}],onError:[{target:"#webpush.failed"}]}},subscribeWhenAlreadyRegistered:{invoke:{src:"subscribe",onDone:[{actions:"assignSubscription",target:"#webpush.updateRegistration"}],onError:[{target:"#webpush.failed"}]}},addRegistration:{invoke:{src:"addRegistration",onDone:[{actions:["incrementApiRequestCounter","assignRegistration","assignRegistrationTimestamp"],target:"#webpush.addAssociation"}],onError:[{target:"#webpush.failed"}]}},updateRegistration:{invoke:{src:"updateRegistration",onDone:[{actions:["incrementApiRequestCounter","assignRegistrationTimestamp"],cond:"associationIsStale",target:"#webpush.updateAssociation"},{target:"#webpush.complete",actions:"assignRegistrationTimestamp"}],onError:[{actions:"incrementApiRequestCounter",cond:"failedBecauseRegistrationDoesNotExist",target:"#webpush.addRegistration"},{target:"#webpush.failed"}]}},addAssociation:{invoke:{src:"addAssociation",onDone:[{actions:"assignAssociationTimestamp",target:"#webpush.complete"}],onError:[{cond:"requestCountOverLimit",target:"#webpush.failed"},{actions:"incrementApiRequestCounter",cond:"failedBecauseAssociationAlreadyExists",target:"#webpush.updateAssociation"},{target:"#webpush.failed"}]}},updateAssociation:{invoke:{src:"updateAssociation",onDone:[{actions:"assignAssociationTimestamp",target:"#webpush.complete"}],onError:[{cond:"requestCountOverLimit",target:"#webpush.failed"},{actions:"incrementApiRequestCounter",cond:"failedBecauseRegistrationDoesNotExist",target:"#webpush.addRegistration"},{actions:"incrementApiRequestCounter",cond:"failedBecauseAssociationDoesNotExist",target:"#webpush.addAssociation"},{target:"#webpush.failed"}]}},failed:{type:"final"},complete:{entry:"updateContextOnCompletion",invoke:{src:"saveContextToStorage",onDone:[{cond:"previousPermissionStateWasNotGranted",target:"#webpush.processPermissionGrant"},{target:"#webpush.subscribed"}],onError:[{target:"#webpush.failed"}]}},processPermissionGrant:{invoke:{src:"onGrantedPermissions",onDone:[{target:"#webpush.subscribed"}],onError:[{target:"#webpush.failed"}]}},subscribed:{type:"final"}}},{actions:{assignRegistration:(0,c.f0)({registrationId:(e,t)=>t.data.registrationId}),assignRegistrationTimestamp:(0,c.f0)({registrationTimestamp:e=>Date.now()}),assignAssociationTimestamp:(0,c.f0)({associationTimestamp:e=>Date.now()}),assignSubscription:(0,c.f0)({subscription:(e,t)=>t.data}),clearSubscription:(0,c.f0)((e=>({subscription:null}))),resetApiRequestCounter:(0,c.f0)((e=>({apiRequests:0}))),updateContextOnCompletion:(0,c.f0)({subscriptionEndpoint:e=>{var t;return(null===(t=e.subscription)||void 0===t?void 0:t.endpoint)||""}}),assignContextFromStorage:(0,c.f0)({registrationId:(e,t)=>t.data.registrationId,storedAttributes:(e,t)=>t.data.storedAttributes,storedInactiveAttributes:(e,t)=>t.data.storedInactiveAttributes,subscriptionEndpoint:(e,t)=>t.data.subscriptionEndpoint,registrationTimestamp:(e,t)=>t.data.registrationTimestamp,associationTimestamp:(e,t)=>t.data.associationTimestamp,registrationVersion:(e,t)=>t.data.registrationVersion,applicationServerKeyVersion:(e,t)=>t.data.applicationServerKeyVersion,migrationFlow:(e,t)=>t.data.migrationFlow}),markMigration:(0,c.f0)({migrationFlow:e=>{C(e.subscription,"subscription required to migrate");let t=e.migrationFlow;return t.length>100&&(t="truncated"),`${t}${t?";":""}webpush`}}),incrementApiRequestCounter:(0,c.f0)({apiRequests:e=>e.apiRequests+1})},services:{onGrantedPermissions:()=>Promise.resolve(),readContextFromStorage:w,subscribe:y,unsubscribe:b,addRegistration:v,updateRegistration:F,addAssociation:U,updateAssociation:k,saveContextToStorage:G},guards:{shouldMigrateSubscription:I,shouldUpdateRegistration:D,subscriptionDoesNotExist:h,registrationDoesNotExist:O,associationIsStale:g,failedBecauseRegistrationDoesNotExist:M,failedBecauseAssociationDoesNotExist:L,failedBecauseAssociationAlreadyExists:f,previousPermissionStateWasNotGranted:R,requestCountOverLimit:P}})).withConfig({services:{onGrantedPermissions:async()=>d()}});var o;const i=(0,H.kJ)(r,{devTools:!0});i.onTransition((()=>{A=r.context.registrationTimestamp,T=r.context.registrationVersion}));const V=new Promise((e=>{i.onDone((async()=>{const s=p[p.length-1],n=B(p),r=x(p);if("failed"===s.value)return N(s.event.data),void e();a.Z.feature("push_notifications_subscription_complete",{service:t,scenario:n,flow:r,registrationTimestamp:A,registrationVersion:T}).logSuccess(),e()}))}));return i.subscribe((e=>p.push(e))),i.start(),V};try{await V()}catch(Z){N(Z)}}},68e3:e=>{"use strict";e.exports={className:{default:{whenLazyContainer:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},30285:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB W_6D6F H_6D6F",iframe:"F_1GMrKx W_6D6F H_6D6F b_n I_T o_h"}},_key:"Z1HuxlE"}},70426:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ab_C gl_C"}},_key:"vwCkd"}},77837:(e,t,s)=>{"use strict";var a={};s.r(a),s.d(a,{getBlockPayload:()=>Vs,transformResponse:()=>Zs});var n={};s.r(n),s.d(n,{getBlockPayload:()=>Ws,transformResponse:()=>Ks});var r=s(82492),o=s.n(r),i=s(590),l=s(23560),c=s.n(l),d=s(57557),_=s.n(d),E=s(17673),u=s(17901),m=s(63352),S=s(37422),p=s(54418),C=s(42655),A=s(34443),T=s(43373),I=s(8106),h=s(95406),g=s(51917),O=s(8575),D=s(12476),R=s.n(D),N=s(6097);const L=/^[\w\-]+:.+$/gim;function f({boundary:e,useBuffer:t=!0,consolidate:s=!1}){let a="";return R()((function(n){t||(a="");const r=(n=a+n).split(new RegExp(`--${e}-{0,2}`,"gm")),o=[];for(;r.length>1;){const e=r.shift().replace(L,"").trim();""!==e&&(s?o.push(e):this.emit("data",e))}s&&o.length>0&&this.emit("data",o),a=r[0]}))}var M=s(40315),P=s(60037),b=s(18247),y=s(27955),v=s.n(y),F=s(16980),U=s(98109),k=s(52300),w=s(73749);function G(e){const t=e=>({email:e.id,name:e.name});return e.map((e=>{const s=Number(e.creationDate)/1e3,a={id:e.mid,folder:{id:e.folderNumber.toString()},conversationId:e.conversationId,flags:{flagged:e.isFlagged,read:e.isRead},cardConversationId:e.cardConversationId||"",decos:e.decos||[],headers:{subject:e.subject||"",cc:e.ccList?e.ccList.map(t):[],bcc:e.bccList?e.bccList.map(t):[],to:e.toList?e.toList.map(t):[],from:e.fromList?e.fromList.map(t):[],date:s},snippet:e.snippet||"",attachments:H(e.attachments.map((t=>Object.assign({},t,{mid:e.mid,creationDate:e.creationDate,csid:e.csid})))).map((e=>e.attachment)),verifiedDomains:e.verifiedDomains||[]};return e.csid&&(a.csid=e.csid),a}))}function H(e){return e.map((e=>{const[t,s]=e.mimeType.split("/"),{partId:a=e.id,conversationId:n,csid:r,source:o}=e,{Dispositions:i}=S.sSc,l=e.mid?(0,b.K)(e.mid):void 0;return{attachment:{id:l?(0,b.ad)({partId:a},l,!1):e.id,virus:"N",filename:e.name,size:e.size,partId:a,type:t,subtype:s,conversationId:n,source:o,csid:r,disposition:e.disposition||i.ATTACHMENT,downloadUrl:e.online?e.onlineContentLink:e.downloadLink,thumbnailUrl:e.thumbnail,isExternal:e.online||!1,creationDate:e.creationDate,documentId:e.documentId},message:{id:l,subject:e.subject}}}))}const B={[S.F6k.MESSAGES]:function(e,t){return e.map((e=>{const{itemType:t}=e;return"THREAD"===t?{id:e.conversationId,messages:G(e.messages.reverse())}:"MESSAGE"===t?{id:e.mid,messages:G([e])}:void 0}))},[S.F6k.DOCUMENTS]:H,[S.F6k.IMAGES]:H,[S.F6k.PEOPLE]:function(e,{allowEnhancedContactData:t}){return e.filter((e=>!!e.payload)).map((e=>{var s;const a=e.payload,n=a.id,r={[n]:a},o=S.F6k.PEOPLE,i={[`smtp:${o}`]:[n]},l=e.relationshipHistory;return{contactDetails:(null===(s=(0,F.ed)({emails:[o],contacts_info:r,contacts_by_ep:i,relationshipHistory:l},t))||void 0===s?void 0:s[0])||{}}}))},[S.F6k.ADS]:function(e,t={}){return e&&e.length>0?e.reduce((({PLAADS:e=[],ADS:s=[]},a)=>{let n={};if(a.ads&&k.DS.isValid(a.ads))try{n=JSON.parse(k.DS.decode(a.ads))}catch(l){w.Z.error(`Invalid search ad data. Bad JSON: ${null==t?void 0:t.ymreqId}`)}else w.Z.error(`Invalid search ad data. Bad encoding: ${null==t?void 0:t.ymreqId}`);let r=[],o={},i=[];if("AL"===a.itemType){(0,h.u9)(n,"response.search.moduleGroups",[]).forEach((({name:e,modules:t=[]})=>{"adNorth"!==e&&"adSouth"!==e&&"adEast"!==e||t.forEach((e=>{i=i.concat((0,h.u9)(e,"data.list",[]))}))}))}else if("PLA"===a.itemType){const e=(0,h.u9)(n,"response.search.results",{});Object.keys(e).forEach((t=>{if("ads.pla"===t){if(r=r.concat(e[t].data||[]),r.length){var s;const{ClientID:a="",ImpressionGUID:n="",SearchID:r=""}=(null===(s=e[t])||void 0===s?void 0:s.instrumentation)||{};o={clientId:a,impressionGuid:n,searchId:r}}}else"ads.north"!==t&&"ads.south"!==t&&"ads.east"!==t||(i=i.concat(e[t].data||[]))}))}return{PLAADS:{ads:[...e,...r.map((e=>function(e){var t,s,a,n,r,o,i,l,c;const d=e.installmentInfo||{},_=0===parseInt((e.originalprice||"").replace(/\D/g,""),10)?d.amount:e.originalprice;return{title:v()(e.title.replace(/<[^>]+>/g,""))||"",url:e.url||"",abstract:v()(e.abstract)||"",thumbnailUrl:e.thumbnailUrl||"",sellerName:e.sellername||"",originalPrice:_||"",installmentInfo:d,eliteBadge:e.eliteBadge?{domain:(null===(t=e.eliteBadge)||void 0===t?void 0:t.domain)||"",rating:(null===(s=e.eliteBadge)||void 0===s?void 0:s.rating)||"",numberOfRatings:(null==e||null===(a=e.eliteBadge)||void 0===a?void 0:a.numberOfRatings)||""}:null,merchantPromotion:e.merchantPromotion?{displayedText:(null==e||null===(n=e.merchantPromotion)||void 0===n?void 0:n.displayedText)||"",promotionalText:(null==e||null===(r=e.merchantPromotion)||void 0===r?void 0:r.promotionalText)||"",daysFromExpiration:(null==e||null===(o=e.merchantPromotion)||void 0===o?void 0:o.daysFromExpiration)||"",url:(null==e||null===(i=e.merchantPromotion)||void 0===i?void 0:i.url)||""}:null,priceDropAlert:e.priceDropAlert?{displayedText:(null==e||null===(l=e.priceDropAlert)||void 0===l?void 0:l.displayedText)||"",longText:(null==e||null===(c=e.priceDropAlert)||void 0===c?void 0:c.longText)||""}:null,productRating:e.productRating&&{rating:e.productRating&&e.productRating.rating||"",numberOfReviews:e.productRating&&e.productRating.numberOfReviews||""},ns:e.appNs||"",k:e.k||"",impressionId:e.ImpressionId||""}}(e)))],instrumentation:o},ADS:[...s,...i.map((e=>function(e){return{creativeId:"",pencilAd:{adHeadline:v()(e.title)||"",adSummary:v()(e.abstract)||"",adImg:e.iconUrl||"",adSource:e.displayDomain||e.displayUrl||"",clickUrl:e.url||"",beacon:"",impressionTrackingUrls:[],type:U.aB.SearchAdType,adFeedbackBeacon:"",rating:(0,h.u9)(e,"merchantRating.rating",null)}}}(e)))]}}),{}):[]},[S.F6k.GIFS]:function(e){return(e||[]).map((e=>{const{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:l,thumbnail:c,thumbnailHeight:d,thumbnailWidth:_,thumbnails:E,feedbackUrl:u="",h1_title:m=""}=e;return{downloadLink:t,height:s,width:a,id:n,online:r,onlineContentLink:o,ownerId:i,source:l,thumbnail:c,thumbnailHeight:d,thumbnailWidth:_,thumbnails:E,feedbackUrl:u,altText:m}}))},[S.F6k.COUPON_CARDS]:function(e=[]){return e.map((({immutableId:e,messageMetadata:t})=>({id:e,messages:[{..._()({...t,schemaCards:(0,b.Se)(t)},["schemaOrg"]),id:e}]})))},[S.F6k.CLOUD_STORAGE_ITEMS]:function(e){return(e||[]).map((e=>{const{previewLink:t,source:s,thumbnail:a}=e;return{...e,previewLink:t,thumbnail:"dropbox"===s&&a&&!a.includes("data.mail.yahoo.com")?void 0:a}}))}};function x(e,{listContentType:t},s){if(!e||!t)throw new C.Z("BootcampApiClient.SearchError");const{items:a=[],totalHits:n,extendUrl:r="",queryResponse:o,cursor:i}=e;return{totalHits:n,offset:a.length?i:"",nextItemsUrl:r,queryResponse:o,items:B[t]?B[t](a,s):a}}const V=e=>"CPN"===e.id,Z=e=>"CRD"===e.id;function W(e,t){return(e=>e.reduce(((e,t)=>{if("CARDS"!==t.blockType)e.push(t);else{const s={};t.content.items.forEach((e=>{const{decos:a}=e.messageMetadata;let n=S.F6k.CARDS;a.some(Z)&&a.some(V)&&(n=S.F6k.COUPON_CARDS),s[n]||(s[n]={...t,blockType:n,content:{...t.content,items:[]}}),s[n].content.items.push(e)})),e.push(...(0,h.VO)(s))}return e}),[]))(e.reduce(((e,t={})=>e.concat((0,h.u9)(t,"contentBlocks",[]))),[])).reduce(((e,s={})=>{const{filter:a=S.ukn.WITH_KEYWORD,content:n}=s,{blockType:r}=s;if("ADS"===r){const s=n?B[r](n.items,t):{};for(const t in s){var o,i;const n="PLAADS"===t?null===(o=s[t])||void 0===o?void 0:o.ads:s[t],r="PLAADS"===t?null===(i=s[t])||void 0===i?void 0:i.instrumentation:{};n&&n.length>0&&(e[t]={[a]:{suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0,items:n,instrumentation:r}})}return e}if(!S.ukn[a]||(e=>e&&e.items&&0===e.items.length&&!!e.extendUrl)(n))return e;if(e[r]||(e[r]={}),e[r][a]={items:[],suggestedWords:[],totalHits:0,nextItemsUrl:"",offset:0},n){const{items:s=[],suggestedWords:o=[],extendUrl:i="",totalHits:l,cursor:c,queryResponse:d}=n;e[r][a]={totalHits:l,offset:s.length?c:void 0,nextItemsUrl:i,suggestedWords:o,items:B[r]?B[r](s,t):s,...d&&{lmv3Query:d}}}return e}),{})}function K(e){if(!e||!e.response)throw new C.Z("BootcampApiClient.SuggestionError");return e.response.suggestions}const z={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};var Y=s(68591);function j({boundary:e,headers:t}){const s=Object.keys(t).reduce(((e,s)=>`${e}${s}: ${t[s]}\n`),"");return R()((function(t){this.queue(`--${e}\n${s}\n${t}\n\n`)}),(function(){this.queue(`--${e}--`),this.queue(null)}))}const q={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"};const X=class{constructor(e){this.loggerParams=e,this.startTime=Date.now(),this.loggers={}}logLatency(e,t=0,s=0){Object.keys(e||{}).forEach((a=>{Object.keys(e[a]||{}).forEach((e=>{const n=a+"__"+e;if(!this.loggers[n]){w.Z.feature("bootcamp_client_stream_call",Object.assign({},this.loggerParams,{contentType:a,filterType:e,bootcampRequestTS:t,bootcampResponseTS:s}),this.startTime).logLatency(),this.loggers[n]=!0}}))}))}},Q={date_desc:"time",date_asc:"time asc",attachment:"attachment desc",relevance:"score desc"},J={[P.ZI]:class{constructor({appId:e,httpRetry:t,appName:s,allowEnhancedContactData:a}){this.urlPrefix=(s===S.BQZ.MOBILE_APP?S.IZo:S.jQ2)+"/bootcamp_api",this.appId=e,this.httpRetry=t,this.allowEnhancedContactData=a}_getHttpTransport(e,t,s){const a=(0,Y.Sf)()?(0,Y.Ow)():{};return new N.Z(e,t,{...s,tls:a})}searchStream(e,t){const s=this.urlPrefix+"/search",a=this._getHttpTransport("GET",s,{timeout:P.Gf,httpRetry:this.httpRetry});let n=0;a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0;const r=a.createStream(e),o=r.pipe(f({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(R()((function(e){try{const s=e.slice(n);if(n=e.length,0===s.length)return;const a=Object.keys(S.F6k),r=s.reduce(((e,s)=>{const n=JSON.parse(s);return t.logLatency(n),Object.keys(n).forEach((t=>{if(-1===a.indexOf(t))return e;e[t]||(e[t]={}),Object.keys(n[t]).forEach((s=>{e[t][s]=n[t][s]}))})),e}),{});this.emit("data",r)}catch(s){this.emit("data",{status:500,error:C.Z.errorify(s)})}})));return r.on("error",(e=>o.emit("error",e))),o}itemsApi(e){const t=this.urlPrefix+"/items",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then((e=>JSON.parse(e.text)))}searchSuggestionsStream(e){const t=this.urlPrefix+"/suggestions",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});let a=0;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const n=s.createStream(Object.assign({multipart:!0},e)),r=n.pipe(f({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(R()((function(e){let t;try{const s=e.slice(a);if(a=e.length,0===s.length)return;t=s.reduce(((e,t)=>e.concat(JSON.parse(t))),[])}catch(s){this.emit("data",{status:500,error:C.Z.errorify(s)})}this.emit("data",t)})));return n.on("error",(e=>r.emit("error",e))),r}recentSearchesApi(e){const t=this.urlPrefix+"/recentSearches",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s.send(e).then((e=>JSON.parse(e.text)))}},[P._v]:class{constructor({appId:e,bootcampHost:t,cookie:s,headers:a,bootcampYHeaders:n={},httpRetry:r,allowEnhancedContactData:o}){this.appId=e,this.cookie=s,this.bootcampHost=t,this.headers=Object.assign({},a,n),this.httpRetry=r,this.allowEnhancedContactData=o}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}_getHttpTransport(e,t,s){const a=(0,Y.Sf)()?(0,Y.Ow)():{};return new N.Z(e,t,{...s,tls:a})}searchStream(e,t){const s=this.bootcampHost+"/psearch/v3/srp?",a=this._getHttpTransport("GET",s,{timeout:P.Gf,httpRetry:this.httpRetry}),n=_()(e,["keyword","buckets"]);a.setHeader("Accept","multipart/form-data"),a.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),a.setHeader("User-Agent",e.userAgent),a.setCookieHeader(this.cookie),this._setCustomHeaders(a,this.headers),a.withCredentials=!0,n.query=e.keyword,n.bucketid=(e.buckets||[]).join(",");const{sortOrder:r=S.Asd.DATE_DESC}=e,o=this.allowEnhancedContactData;n.order=q[r];const i=a.createStream(n),l=i.pipe(f({boundary:P.WW})).pipe((c={timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,searchStreamLogger:t,allowEnhancedContactData:o,ymreqId:e.ymreqid},R()((function(e){try{const{status:t,response:s}=JSON.parse(e);if(401===t)throw new C.Z(A.tO,{statusCode:t,errorCode:"AUTH",refresh:!0});if(!s||200!==t)throw new C.Z("BootcampApiClient.SearchError");if(s.verticals){const e=W(s.verticals,c);c.searchStreamLogger.logLatency(e,s.requestTS,s.responseTS),(0,h.xb)(e)||this.emit("data",JSON.stringify(e))}}catch(t){return this.emit("data",JSON.stringify({status:500,error:C.Z.errorify(t)}))}})))).pipe(j({boundary:P.WW,headers:{"Content-Type":"application/json"}}));var c;return i.on("error",(e=>l.emit("error",e))),l}itemsApi(e){const{wssid:t,buckets:s,timeout:a,ymreqid:n,listContentType:r,timezone:o,userAgent:i}=e,l=this.allowEnhancedContactData,c=(0,I.Y0)(e.url,{wssid:t,bucketid:(s||[]).join(",")}),d=this._getHttpTransport("GET",c,{httpRetry:this.httpRetry,timeout:a});return i&&d.setHeader("User-Agent",i),d.setHeader("Accept","application/json"),d.setCookieHeader(this.cookie),this._setCustomHeaders(d,this.headers),d.withCredentials=!0,d.send({ymreqid:n}).then((e=>JSON.stringify(x(JSON.parse(e.text),{listContentType:r},{timezone:o,allowEnhancedContactData:l,ymreqId:n}))))}searchSuggestionsStream(e){const t=this.bootcampHost+"/psearch/v3/suggestions?",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});s.setHeader("Accept","multipart/form-data"),s.setHeader("Accept-Encoding","gzip;q=0, deflate, sdch, br"),s.setCookieHeader(this.cookie),this._setCustomHeaders(s,this.headers),s.withCredentials=!0;const a=s.createStream(e),n=a.pipe(f({boundary:P.WW})).pipe(R()((function(e){try{const t=JSON.parse(e),{status:s,response:a}=t;if(!a||200!==s)throw new C.Z("BootcampApiClient.SuggestionError");if(a.suggestions){const e=K(t);(0,h.xb)(e)||this.emit("data",JSON.stringify(e))}}catch(t){return this.emit("data",JSON.stringify({status:500,error:C.Z.errorify(t)}))}}))).pipe(j({boundary:P.WW,headers:{"Content-Type":"application/json"}}));return a.on("error",(e=>n.emit("error",e))),n}recentSearchesApi(e){const t=this.bootcampHost+"/psearch/v3/recentSearches?",{ymreqid:s,wssid:a,appid:n}=e,r=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),r.withCredentials=!0,r.send({ymreqid:s,wssid:a,appid:n}).then((e=>JSON.parse(e.text)))}},[P.vo]:class{constructor({httpRetry:e,endpoints:t,useBootcampYCPIProxy:s,appId:a,allowEnhancedContactData:n}){this.endpoints=t,this.httpRetry=e,this.useBootcampYCPIProxy=s,this.appId=a||S.JfS,this.allowEnhancedContactData=n}_getHttpTransport(e,t,s){return new N.Z(e,t,s)}_getPsearchHost(){return this.useBootcampYCPIProxy?"":this.endpoints.BOOTCAMP_HOST}_getDefaultGifUrl({anonid:e,query:t,mailboxId:s,wssid:a,offset:n}){const r=Object.assign({appid:this.appId,cursor:n,limit:P.sh,mailboxId:s,mimeTypes:"image/gif",order:"desc",query:t,source:S.LJ$.TENOR,vertical:"WEB",wssid:a},e?{anonid:e}:{});return this._getPsearchHost()+"/psearch/v3/items?"+(0,E.stringify)(r)}_getGifCategoriesUrl({wssid:e,locale:t}){const s={wssid:e,appid:this.appId,limit:P.sh,locale:t};return this._getPsearchHost()+"/psearch/v3/categories/expanded?"+(0,E.stringify)(s)}_fullNextItemsUrl(e,{anonid:t,wssid:s}){const{host:a}=(0,O.parse)(this.endpoints.BOOTCAMP_HOST);e=e.replace(/data.mail.yahoo.com/,a).replace(/YMailNorrin/,this.appId);const n=Object.assign({wssid:s},t?{anonid:t}:{},-1===e.indexOf(`appid=${this.appId}`)?{appid:this.appId}:{});return e+"&"+(0,E.stringify)(n)}gifsApi(e){const{ymreqid:t,timezone:s}=e,a=e.nextItemsUrl?this._fullNextItemsUrl(e.nextItemsUrl,e):this._getDefaultGifUrl(e),n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then((e=>x(JSON.parse(e.text),{listContentType:S.F6k.GIFS},{timezone:s})))}gifCategoriesApi(e){const{ymreqid:t,timezone:s}=e,a=this._getGifCategoriesUrl(e),n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:t}).then((e=>function(e,{listContentType:t},s){if(!e||!t)throw new C.Z("BootcampApiClient.gifCategoriesApiError");return{categories:e.categories.map((({gifs:a={},itemsUrl:n="",queryString:r=""},o)=>{const{items:i=[],extendUrl:l="",cursor:c=""}=a;return{...e.categories[o],gifs:{offset:c,nextItemsUrl:l||n||"",items:B[t]?B[t](i,[],s):i},itemsUrl:n||"",queryString:r||""}}))}}(JSON.parse(e.text),{listContentType:S.F6k.GIFS},{timezone:s})))}getCouponsApi({ymreqid:e,decoId:t,accountIds:s,wssid:a,cursor:n=0,mailboxId:r,limit:o,start:i,end:l,vertical:c,order:d,appid:_,from:E,query:u}){const m=`mailboxId=${r}&limit=${o}&start=${i}&end=${l}&vertical=${c}&order=${d}&appid=${_}${u?`&query=${encodeURIComponent(u)}`:""}${E?`&from=${E}`:""}`,p=`${this._getPsearchHost()}/psearch/v3/items?cursor=${n||0}&decoId=(${t.join(" ")})&accountIds=${s.join(",")}&${m}&wssid=${a}`,C=this._getHttpTransport("GET",p,{httpRetry:this.httpRetry});return C.setHeader("Accept","application/json"),C.withCredentials=!0,C.send({ymreqid:e}).then((e=>function({items:e=[],cursor:t=0,totalHits:s=0,extendUrl:a=""}={}){return{cardGroupList:B[S.F6k.COUPON_CARDS](e),offset:parseInt(""===t?0:t,10),totalHits:s,hasMoreItems:!!a,nextItemsUrl:a}}(JSON.parse(e.text))))}getStorefrontBrandMessages({ymreqid:e,accountIds:t,wssid:s,cursor:a,mailboxId:n,limit:r,vertical:o,order:i,appid:l,from:c,query:d}){const _=`mailboxId=${n}&limit=${r}&vertical=${o}&order=${i}&appid=${l}${d?`&query=${encodeURIComponent(d)}`:""}${c?`&fromdomain=${c}`:""}`,E=`${this._getPsearchHost()}/psearch/v3/items?cursor=${a||0}&accountIds=${t.join(",")}&${_}&wssid=${s}`,u=this._getHttpTransport("GET",E,{httpRetry:this.httpRetry});return u.setHeader("Accept","application/json"),u.withCredentials=!0,u.send({ymreqid:e}).then((e=>x(JSON.parse(e.text),{listContentType:S.F6k.MESSAGES},{allowEnhancedContactData:this.allowEnhancedContactData})))}localStoresApi({wssid:e,senderEmail:t="",latlong:s="",ymreqid:a}){const n=`${this._getPsearchHost()}/psearch/v3/items?appid=${this.appId}&lcount=1&source=locals&wssid=${e}&sendersmtp=${encodeURIComponent(t)}`+(s?`&latlong=${s}`:""),r=this._getHttpTransport("GET",n,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:a}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.LocalStoresError");const{items:[{listing:[t={}]=[]}={}]=[]}=e;return{nearbyListing:t}}(JSON.parse(e.text))))}couponRecommendations(e){const{ymreqid:t,wssid:s,limit:a=5,cursor:n=0,mid:r,mailboxemail:o=""}=e,i={appid:this.appId,wssid:s,vertical:"CARDS",decoId:S.Jd6.CPN,cursor:n,limit:a,context:r?`mid:${r}`:"view:recommended",mailboxemail:o},l=this._getPsearchHost()+"/psearch/v3/items?"+(0,E.stringify)(i),c=this._getHttpTransport("GET",l,{httpRetry:this.httpRetry});return c.setHeader("Accept","application/json"),c.withCredentials=!0,c.send({ymreqid:t}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.LocalStoresError");return{messageGroupsResponses:[{cardGroupList:e.items.map((e=>({id:e.immutableId,messages:[_()({...e.messageMetadata,schemaCards:(0,b.Se)(e.messageMetadata)},["schemaOrg"])]}))),filter:S.ukn.ALL_COUPON_CARDS,hasMoreItems:!1,offset:""}],parentMessagesMap:{}}}(e.body)))}itemsApi(e){const{wssid:t,buckets:s}=e;let a=e.url.replace(`${this.endpoints.BOOTCAMP_HOST}/psearch`,`${this._getPsearchHost()}/psearch`)+"&wssid="+t;s&&s.length&&(a+="&bucketid="+s.join(","));const n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry}),{ymreqid:r,listContentType:o,timezone:i}=e,l=this.allowEnhancedContactData;return n.setHeader("Accept","application/json"),n.withCredentials=!0,n.send({ymreqid:r}).then((e=>x(JSON.parse(e.text),{listContentType:o},{timezone:i,allowEnhancedContactData:l,ymreqId:r})))}recentSearchesApi(e){const t=this._getPsearchHost()+"/psearch/v3/recentSearches?",{ymreqid:s,wssid:a,appid:n}=e,r=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});return r.setHeader("Accept","application/json"),r.withCredentials=!0,r.send({ymreqid:s,wssid:a,appid:n}).then((e=>function(e){if(!e)throw new C.Z("BootcampApiClient.RecentSearchError");return e}(JSON.parse(e.text))))}topRetailersApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n,accountIds:r}=e,o=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}&accountIds=${r.join(",")}`,i=this._getHttpTransport("POST",o,{httpRetry:this.httpRetry}),l={vertical:"CARDS",decoIds:["CPN"],startTime:Date.now(),endTime:1e3*(Math.round((new Date).getTime()/1e3)+365*M.K5),pivotList:[{pivotType:"SENDER",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:1}]}]};return i.setHeader("Accept","application/json"),i.withCredentials=!0,i.send(l).then((e=>function(e){const t=(0,h.u9)(e,"pivotInfoList.0.pivotInfoList",null);if(!t)throw new C.Z("BootcampApiClient.TopRetailersError");return t.map((({count:e,pivotName:t,contentItems:s})=>({count:e,email:t,nameFromEmail:(0,h.u9)(s,"0.internalKVSet.custom.messageMetadata.headers.from.0.name","")})))}(e.body)))}topDealCategoriesApi(e){const{ymreqid:t,wssid:s,appid:a,mailboxid:n}=e,r=this._getPsearchHost()+`/psearch/v3/summaries?ymreqid=${t}&wssid=${s}&appid=${a}&mailboxid=${n}`,o=this._getHttpTransport("POST",r,{httpRetry:this.httpRetry}),i={vertical:"CARDS",decoIds:["CPN"],endTime:Date.now()+5184e6,pivotList:[{pivotType:"CATEGORY",sortOrderList:[{sortType:"TOPCOUNT",order:"DESC"}],pivotList:[{pivotType:"CONTENTITEM",limit:0}]}]};return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(i).then((e=>function(e){const t=(0,h.u9)(e,"pivotInfoList.0.pivotInfoList",null),s={};if(!t)throw new C.Z("BootcampApiClient.TopDealCategoriesError");for(const a of t){const e=a.pivotName.split(">")[0];"Other"!==e&&(s[e]=s[e]?s[e]+a.count:a.count)}return Object.keys(s).sort(((e,t)=>s[t]-s[e]))}(JSON.parse(e.text))))}deleteRecentSearchApi(e){const{wssid:t,ymreqid:s,appid:a,...n}=e,r=`${this._getPsearchHost()}/psearch/v3/clearSearchHistoryQuery?wssid=${t}&ymreqid=${s}&appid=${a}`,o=this._getHttpTransport("POST",r);return o.setHeader("Accept","application/json"),o.withCredentials=!0,o.send(n).catch((()=>{throw new C.Z("BootcampApiClient.DeleteRecentSearch")}))}searchStream(e,t){const s=this._getPsearchHost()+"/psearch/v3/srp?",a=this._getHttpTransport("GET",s,{timeout:{deadline:P.zg,response:P.hR},httpRetry:this.httpRetry}),n=_()(e,["keyword","buckets","excludefolders"]);a.setHeader("Accept","multipart/form-data"),a.withCredentials=!0,n.query=e.keyword,e.buckets&&e.buckets.length&&(n.bucketid=(e.buckets||[]).join(","));const{sortOrder:r=S.Asd.DATE_DESC}=e,o=this.allowEnhancedContactData;n.order=z[r],e.excludefolders&&(n.excludefolders=(e.excludefolders||[]).join());let i=0;const l=a.createStream(n),c=l.pipe(f({boundary:P.WW,useBuffer:!1,consolidate:!0})).pipe(R()((function(s){try{const a=s.slice(i),n=Object.keys(S.F6k);if(i=s.length,0===a.length)return;const r=a.reduce(((s,a)=>{const{status:r,response:i}=JSON.parse(a);if(401===r)throw new C.Z(A.tO,{statusCode:r,errorCode:"AUTH",refresh:!0});if(!i||200!==r)throw new C.Z("BootcampApiClient.SearchError");let l;return i.verticals&&(l=W(i.verticals,{timezone:e.timezone,formatDateUsingUTC:"false"!==e.formatDateUsingUTC,allowEnhancedContactData:o,ymreqId:e.ymreqid}),t.logLatency(l,i.requestTS,i.responseTS)),(0,h.xb)(l)||Object.keys(l).forEach((e=>{if(-1===n.indexOf(e))return s;s[e]||(s[e]={}),Object.keys(l[e]).forEach((t=>{s[e][t]=l[e][t]}))})),s}),{});this.emit("data",r)}catch(a){this.emit("data",{status:500,error:C.Z.errorify(a)})}})));return l.on("error",(e=>c.emit("error",e))),c}searchSuggestionsStream(e){const t=this._getPsearchHost()+"/psearch/v3/suggestions?",s=this._getHttpTransport("GET",t,{httpRetry:this.httpRetry});this.allowEnhancedContactData;s.setHeader("Accept","multipart/form-data"),s.withCredentials=!0;const a=s.createStream(Object.assign({multipart:!0},e)),n=a.pipe(f({boundary:P.WW,useBuffer:!1})).pipe(R()((function(t){let s;try{s=K(JSON.parse(t),e.timezone)}catch(a){this.emit("data",{status:500,error:C.Z.errorify(a)})}this.emit("data",s)})));return a.on("error",(e=>n.emit("error",e))),n}}};class $ extends u.Z{constructor({appName:e=S.BQZ.MAIL_APP,appId:t=S.JfS,strategy:s=P.ZI,bootcampHost:a,executeRequestsSequentially:n=(0,I.jU)(),guidHash:r,locale:o,cookie:i,crumb:l,wssid:c,loggerParams:d,region:_,httpRetry:E,requestQueue:u,isOnline:C,headers:A,bootcampYHeaders:T={},buckets:h,timezone:O={},config:D={},userAgent:R,endpoints:N}){const L=(0,p._)(D,"bootcampProxy");super({loggerName:S.BrN.BootcampClient,loggerParams:(0,I.jU)()?{}:d,crumb:l,wssid:c,isOnline:C,endpoints:N}),(0,m.Z)(s===P.ZI||s===P._v,`Invalid strategy ${s}`),(0,m.Z)(N.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),this.allowEnhancedContactData=(0,p._)(D,S.ANe.SHOW_ENHANCED_CONTACTS_INFO),this.strategy=(0,I.jU)()&&L?P.vo:s,this._getRequest=function(s=this.strategy){return new J[s]({appId:t,appName:e,headers:A,bootcampYHeaders:T,bootcampHost:a,cookie:i,httpRetry:E,endpoints:this.endpoints,allowEnhancedContactData:this.allowEnhancedContactData,...L?{useBootcampYCPIProxy:(0,p._)(D,"useBootcampYCPIProxy")}:void 0})},this.appName=e,this.appId=t,this.cookie=i,this.headers=Object.assign({},A,T),this.httpRetry=E,this.bootcampHost=a,this.timezone=O.name,this.executeRequestsSequentially=n,this.requestQueue=u,this.region=_,this.locale=o,this.buckets=h,this.userAgent=R,this.suggestionsStrategyOverride=(0,I.jU)()&&(0,p._)(D,"suggestionsNoProxy")?P.vo:void 0,r&&(this.ymreqidGenerator=new g.Z(r,S.N7x,S.Q_q))}getDefaultUrlParams(){const e=this.strategy===P.vo||this.strategy===P.ZI?this.getMailboxParams():null,t=Object.assign({appid:this.appId,wssid:this.wssid,clientId:"mailsearch",timezone:this.timezone,allowGoogleDocs:1,ymreqid:this.ymreqidGenerator.generate(),timeout:P.Gf},e);return this.strategy===P.ZI&&(t.crumb=this.crumb),t}getOffsetFromUrl(e){if(e){const t=(0,E.parse)(e);return t&&t.cursor}return"0"}isRetryableError(e,t){return t<1&&e.name===A.bD}getMarketValue(){const e=P.Ib[this.region]||["en-US"];return-1!==e.indexOf(this.locale)?this.locale:e[0]}searchStream(e,t,s){e="mailSearch";const a=this.getDefaultUrlParams(),n=this.isOnline(),{ymreqid:r}=a,o={...this.loggerParams,apiName:e,ymreqid:r,isOnline:n},i=w.Z.feature(S.BrN.BootcampClient,o),{expand:l}=t;(0,m.Z)(l,"Bootcamp SRP expand parameter is required"),t=Object.assign({},a,t,{userAgent:this.userAgent}),c()(s)&&s(o);let d=Object.assign({multipart:!0},t);t.emailAddresses&&t.emailAddresses.length>0&&(d.filters=t.listFilter),this.strategy!==P._v&&this.strategy!==P.vo||Object.assign(d,{sourceTag:t.sourceTag,market:this.getMarketValue(),buckets:this.buckets});let{folders:E=[],accountIds:u=[],emailAddresses:p=[],contactIds:C=[]}=t;E=[].concat(E),u=[].concat(u),p=[].concat(p),C=[].concat(C),E.length?d.folders=E.join(","):u.length&&(d.accountIds=u.join(","));const A=p.length;A>0?d.contentId=A>20&&C.length?`x:${C[0]}`:p.slice(0,20).map((e=>"smtp:"+e)).join(","):C.length&&(d.contentId=`x:${C[0]}`),d=_()(d,["referrer","name","listContentType","listFilter","emailAddresses","contactIds"]);const I=new X(o);let h;return h=this.executeRequestsSequentially?this.requestQueue.addStream((()=>this._getRequest().searchStream(d,I)),e):this._getRequest().searchStream(d,I),h.on("end",i.logSuccessAndLatency),h.on("error",(t=>{t=this.handleCommonError(t,e),(0,T.apiErrorLogger)(w.Z,S.BrN.BootcampClient,o,t)})),h}searchItems(e,t,s=0){const a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n,retryCount:s};let o;return t.expand&&"AL"===t.expand&&(r.apiName="getSearchAds"),this.strategy!==P._v&&this.strategy!==P.vo||(t.buckets=this.buckets),o=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest().itemsApi({...a,...t})),e):this._getRequest().itemsApi(Object.assign({},a,t)),this.logRequest(o,r),o.catch((a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchItems(e,t,++s);throw a}))}searchMessages(e,t){this.strategy=P._v;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{appid:n,mailboxid:r,keyword:o,accountIds:i,sortOrder:l=S.Asd.DATE_DESC,cursor:c,limit:d}=a,_=Q[l],E=`${this.bootcampHost}/psearch/v3/items?vertical=MESSAGES&threads=false&mailboxid=${r}&appid=${n}&accountIds=${i[0]}&query=${encodeURIComponent(o)}&order=${_}&limit=${d}&cursor=${c}`;return this.searchItems("searchItem",{...t,url:E})}attachmentsViewApi(e,t){this.strategy=P.vo;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{accountemail:n,accountIds:r,appid:o,cursor:i=0,keyword:l,limit:c,listContentType:d,mailboxid:_,sortOrder:E=S.Asd.DATE_DESC,threads:u,timezone:m,mimeType:p}=a,C={accountemail:n,accountIds:r[0],appid:o,cursor:i,limit:c,mailboxid:_,order:Q[E],query:l,threads:u,timezone:m,vertical:d,mimeTypes:P.$y[p]||""},A=this.endpoints.BOOTCAMP_HOST+"/psearch/v3/items?"+Object.keys(C).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(C[e]))).join("&");return this.searchItems("searchItems",{...t,url:A})}getSearchAds(e,t){this.strategy=P._v;const s=this.getDefaultUrlParams(),a=Object.assign({},s,t),{appid:n,keyword:r,sourceTag:o,expand:i}=a,l=(0,I.Y0)(`${this.bootcampHost}/psearch/v3/items`,{vertical:i,appid:n,query:r,sourceTag:o,device:"desktop",market:this.getMarketValue(),adCount:t.secondSearchAd?2:1});return this.searchItems("searchItem",{...t,url:l,userAgent:this.userAgent,timeout:P.im}).then((e=>(0,h.u9)((0,I.OA)(e),"items.ADS",[]).map((e=>e.pencilAd))))}searchGifs(e,t,s=0){const a=P.vo,n=this.getDefaultUrlParams(),{ymreqid:r}=n,o={apiName:e,ymreqid:r,retryCount:s};let i;return t.offset=this.getOffsetFromUrl(t.nextItemsUrl),i=this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest(a).gifsApi({...n,...t})),e):this._getRequest(a).gifsApi(Object.assign({},n,t)),this.logRequest(i,o,null,s),i.catch((a=>{if(a=this.handleCommonError(a,e),this.isRetryableError(a,s))return this.searchGifs(e,t,++s);throw a}))}getGifCategories(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).gifCategoriesApi(Object.assign({locale:this.locale},a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}getAllCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartView(...e){return this.getCouponsForSmartView(...e)}getAllCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getSavedCouponsForSmartViewSearch(...e){return this.getCouponsForSmartView(...e)}getCouponsForSmartView(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",start:o,end:i,accountIds:l=[],vertical:c="CARDS",order:d="time",query:_,from:E}={}){const u=P.vo,m=this.getDefaultUrlParams(),{ymreqid:S}=m,p={apiName:e,ymreqid:S},C={mailboxId:t,limit:s,cursor:n,extendUrl:r,start:o,end:i,decoId:a,accountIds:l,vertical:c,order:d,query:_,from:E,...m},A=this._getRequest(u).getCouponsApi(C);return this.logRequest(A,p),A.catch((t=>{throw t=this.handleCommonError(t,e)}))}getBrandEmailsForStorefront(e,{mailboxId:t="",limit:s=0,decoId:a=[],offset:n=0,nextItemsUrl:r="",accountIds:o=[],vertical:i=S.F6k.MESSAGES,order:l=S.Gos,query:c,from:d}={}){const _=P.vo,E=this.getDefaultUrlParams(),{ymreqid:u}=E,m={apiName:e,ymreqid:u},p={mailboxId:t,limit:s,cursor:n,extendUrl:r,decoId:a,accountIds:o,vertical:i,order:l,query:c,from:d,...E},C=this._getRequest(_).getStorefrontBrandMessages(p);return this.logRequest(C,m),C.catch((t=>{throw t=this.handleCommonError(t,e)}))}getLocalStores(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).localStoresApi(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}getCouponRecommendations(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).couponRecommendations(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw t=this.handleCommonError(t,e)}))}searchSuggestionsStream(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={...this.loggerParams,apiName:e,ymreqid:a,crumb:this.crumb},r=w.Z.feature(S.BrN.BootcampClient,n);let o;return t=Object.assign({},s,t),o=this.executeRequestsSequentially?this.requestQueue.addStream((()=>this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t)),e):this._getRequest(this.suggestionsStrategyOverride).searchSuggestionsStream(t),o.on("end",r.logSuccessAndLatency),o.on("error",(t=>{t=this.handleCommonError(t,e),(0,T.apiErrorLogger)(w.Z,S.BrN.BootcampClient,n,t)})),o}recentSearches(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a,crumb:this.crumb};let r;return r=this.isRequestBlocked()?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add((()=>this._getRequest().recentSearchesApi({...s,...t})),e):this._getRequest().recentSearchesApi(Object.assign({},s,t)),this.logRequest(r,n),r}getTopRetailers(e,t){const s=P.vo,a=this.getDefaultUrlParams(),{ymreqid:n}=a,r={apiName:e,ymreqid:n},o=this._getRequest(s).topRetailersApi(Object.assign(a,t));return this.logRequest(o,r),o.catch((t=>{throw this.handleCommonError(t,e)}))}getTopDealCategories(e){const t=P.vo,s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._getRequest(t).topDealCategoriesApi(s);return this.logRequest(r,n),r.catch((t=>{throw this.handleCommonError(t,e)}))}deleteRecentSearch(e,t){const s=this.getDefaultUrlParams(),{wssid:a,ymreqid:n,appid:r}=s,o=Object.assign({},this.loggerParams,{apiName:e,ymreqid:n}),i=this._getRequest(P.vo).deleteRecentSearchApi({...t,wssid:a,ymreqid:n,appid:r});return this.logRequest(i,o),i}createStream(e,t,s=(()=>{})){return this[e](e,t,s)}request(e,t){return this[e](e,t)}handleAuthError(e,t){const{statusCode:s}=e;return 401!==s||"mailSearch"!==t&&"searchItems"!==t?null:new C.Z(A.tO,{statusCode:s,errorCode:"AUTH",body:e.getDataByName("body",""),refresh:!0})}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,h.u9)(e,"data.body.code","");if("EC-4003"===s||"Client.ClientRedirect.SessionIdReissue"===s){const a=(0,h.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e,t=""){let s=null;return e=C.Z.errorify(e),s||(s=this.handleAuthError(e,t)),s||(s=this.handleYdodError(e)),s||(s=this.handleWssidReissueError(e)),s||e}}const ee=$;var te=s(96943),se=s(99839),ae=s(24350),ne=s.n(ae);function re(e,t=U.aB.VideoPrimary){let s;return Array.isArray(e.assets)&&e.assets.length>0?(e.assets.forEach((e=>{e.usageType===t&&(s=e.mediaInfo.map((e=>e)))})),s):null}function oe(e,t,s){return Array.isArray(s)&&s?{videoMediaAssets:s,clickUrl:t.clickUrl||"",rules:e.rules,actionUrls:e.actionUrls,callToAction:t.callToAction,thumbnail:t.thumbnailImage||t.hqImage||""}:null}function ie(e,t){const s=re(t,U.aB.VideoPortrait);return s?oe(e,t,s):null}function le(e,t,s={}){if(!t)return;const a=s[U.aB.VideoPreview]||{},n=s[U.aB.ImagePortrait]||s[U.aB.ImagePortraitWithBG]||{},r="image/jpeg"===n.contentType?n.url:"",o=(t.adextensions||[]).filter((e=>e.type===U.wV)),i=function(e=[]){const t=(new Date).getTime();return e.filter((e=>e.endDate>t&&e.startDate<t))}(t.promotions);return t.secThumbnailImage=/^https:\/\//.test(t.secThumbnailImage)?t.secThumbnailImage:"",{adHeadline:t.headline||"",adSummary:t.summary||"",adImg:t.secThumbnailImage||t.secImage||"",adSource:t.source||"",clickUrl:t.clickUrl||"",landingUrl:t.landingUrl||"",creativeId:e.creativeId.toString(),impressionTrackingUrls:t.imprTrackingUrls?t.imprTrackingUrls:[t.imprTrackingUrl],adFeedbackBeacon:t.ad_feedback_beacon||"",rules:e.rules,actionUrls:e.actionUrls,previewVideoContentType:a.contentType||"",previewVideoUrl:a.url||"",callToAction:t.callToAction||"",flashSaleEndTime:(0,h.u9)(t,"passThroughFields.flashSaleCountdownMilliSec",null),imagePortrait:r||t.secOrigImg||t.origImg||"",origImg:t.secOrigImg||t.origImg||"",brand:(0,h.u9)(t,"passThroughFields.brand"),productAdActivity:(0,h.u9)(t,"passThroughFields.productAdActivity"),productAdActivityMessage:(0,h.u9)(t,"passThroughFields.productAdActivityMessage"),salePrice:(0,h.u9)(t,"passThroughFields.salePrice"),fullPrice:(0,h.u9)(t,"passThroughFields.fullPrice"),videoPortraitAssets:ie(e,t),promotions:i,hqImage:t.secHqImage||t.hqImage||"",callExtension:o[0]||{}}}function ce(e,t="",s={}){if(!Array.isArray(e))return[];const a=s.loggerParams||{};return e.map(((e,n)=>{var r,o,i;const l=function(e,t){let s;try{s=JSON.parse(e)}catch(a){te.Z.error("Gemini ad tag is not valid JSON",t)}return s}(e.tag,a);if(!l)return;const c=function(e){if(!Array.isArray(e.assets)||e.assets.length<=0)return{};let t=e.assets.filter((e=>Array.isArray(e.mediaInfo)));return t=t.map((e=>e.mediaInfo.map((function(t){const s=e.embeddedLandingUrls||[];return t.usageType=e.usageType,t.embeddedLandingUrls=s.reduce(((e,t)=>(e[t.index.toString()]=t,e)),{}),t})).reduce(((e,t)=>(t.usageType!==U.aB.ImagePortrait&&t.usageType!==U.aB.ImagePortraitWithBG||t.contentLabel===U.iw)&&t.url?t:e),{}))),ne()(t,(e=>e.usageType))}(l),d=oe(e,l,re(l,U.aB.VideoPrimary)),_=function(e,t,s={}){if(!t)return;const{actionUrls:a,ccCode:n}=e,{url:r,contentType:o,usageType:i,embeddedLandingUrls:l}=s,c=new RegExp("(.png|.gif|.jpg|.jpeg)$","i");let d="";return r&&r.match(c)&&(d=[`<a target="_blank" href="${t.landingUrl}" rel="noreferrer">`,`<img\n                src="${r}"\n                alt="${t.headline||"Ad image"}"\n                style="display: block; margin: auto; max-width: 100%; text-indent: 0;"/>`,"</a>"].join("")),{contentType:o||"",url:r||"",usageType:i||"",geminiSponsoredAsset:d,actionUrls:"STRM_VIDEO"===n?"":a,embeddedLandingUrls:l}}(e,l,c[U.aB.HtmlPrimary]),E=le(e,l,c);Array.isArray(null==E||null===(r=E.actionUrls)||void 0===r?void 0:r.STATIC_VIEW_3P)&&(E.actionUrls.STATIC_VIEW_3P=E.actionUrls.STATIC_VIEW_3P.map((e=>e?e.replace("$(S_VIEW_TYPE)",E.rules.viewabilityDefStatic3P[0].t):e)));const u=function(e,t,s,a,n){return a.productAdActivity?U.aB.ShoppingCartAdType:"STRM_VIDEO"===e&&t?U.aB.VideoAdType:s.usageType===U.aB.HtmlPrimary&&s.url?U.aB.NativeAdType:!a.flashSaleEndTime||null!=a&&a.promotions.length?n.hasOwnProperty(U.aB.VideoPortrait)?U.aB.VideoPortraitAdType:n.hasOwnProperty(U.aB.ImagePortrait)?U.aB.PortraitAdType:n.hasOwnProperty(U.aB.ImagePortraitWithBG)&&n.hasOwnProperty(U.aB.CarouselImage)?U.aB.PortraitCarouselAdType:U.aB.PencilAdType:U.aB.FlashSaleAdType}(e.ccCode,d,_,E,c);E.sectionId=t,E.beacon=e.beacon.replace("$(AD_POSN)",n+1)||"",E.type=u,E.domain=s.domain,E.carouselAssets=function(e,t,s){const a=[],n=s===U.aB.PortraitAdType||s===U.aB.PortraitCarouselAdType?U.Em:U.Sp;return!e.assets||+t!==U.a_&&+t!==U.vY&&+t!==U.Pu&&+t!==U.H6||e.assets.forEach((({callToAction:e,clickUrl:t,headline:s,assetId:r,mediaInfo:o,assetIndex:i})=>{if(t){let l="";const c=`pp=m,st=c,si=${i},sa=${r}`;o.forEach((e=>{e.contentLabel===n&&(l=e.url)})),a.push({callToAction:e,clickUrl:t,headline:s,assetId:r,img:l||o[0].url,adPosnMacro:c})}else se.Z.error("clickURL not present in Ad",{assetId:r})})),a}(l,t,u);const m=l.afb_cfg_url||"",S=function(e,t){let s=!1;const a=e=>!e||/^https:\/\//.test(e),n=e=>e.map((e=>a(e))),r={};return["adFeedbackBeacon","adFeedbackConfigUrl","adImg","beacon","clickUrl","impressionTrackingUrls","actionUrls"].forEach((t=>{Array.isArray(e[t])?(r[t]=n(e[t]),r[t].indexOf(!1)>-1&&(s=!0)):null!==e[t]&&"object"==typeof e[t]?(r[t]={},Object.keys(e[t]).forEach((o=>{Array.isArray(e[t][o])?(r[t][o]=n(e[t][o]),r[t][o].indexOf(!1)>-1&&(s=!0)):(r[t][o]=a(e[t][o]),r[t][o]||(s=!0))}))):(r[t]=a(e[t]),r[t]||(s=!0))})),s&&te.Z.feature("gemini_non_https_url",{...e,...t}).logFailure(),r}({...E,adFeedbackConfigUrl:m},a);return null!==(o=S.impressionTrackingUrls)&&void 0!==o&&o.length&&null!==(i=E.impressionTrackingUrls)&&void 0!==i&&i.length&&(E.impressionTrackingUrls=E.impressionTrackingUrls.filter(((e,t)=>S.impressionTrackingUrls[t]))),{creativeId:e.creativeId.toString(),nativeAd:_,pencilAd:E,videoAd:d,adFeedbackConfigUrl:m}})).filter(Boolean)}var de=s(11282),_e=s.n(de);const Ee=_e().create("norrin/gemini_client");var ue=s(88913),me=s(39593),Se=s.n(me),pe=s(24908),Ce=s.n(pe),Ae=s(47745);const Te=36e5,Ie=new(Se())({max:5,maxAge:Te}),he=(new(Se())({max:5,maxAge:Te}),{keyPath:"/var/run/athenz/service.key.pem",certPath:"/var/run/athenz/service.cert.pem",caPath:"/opt/yahoo/share/ssl/certs/yahoo_certificate_bundle.pem"});function ge(e){try{return Ce().readFileSync(e).toString()}catch(t){return se.Z.error("MTLS auth error: Cannot load file",{filePath:e,error:t&&t.stack}),""}}const Oe=N.W.GET,De=new(Se())({maxAge:216e5}),Re={Transport:N.Z,request:e=>{const t=e.sectionId,s=Object.keys(t).filter((e=>"string"==typeof t[e]||"number"==typeof t[e])).map((s=>Re._sendRequest(e,t[s]).then((a=>{if((0,h.u9)(a,"body.error")){const n=e.loggerParams||{},r={...a.body,sectionId:t[s]};return Ee.feature("gemini_no_ads",{...n,loggerInfo:r}).logFailure(),{body:r}}return a}))));return Promise.all(s).then((t=>Re._constructAdResponses(t,e))).then((t=>Re._appendAdFeedbackConfig(t,e)))},_appendAdFeedbackConfig:(e,t)=>{if("enabled"!==t.isAdFeedbackV2)return Promise.resolve(e);const{logRequest:s=(()=>{}),appId:a,locale:n,ymreqid:r}=t,o=a===S.gUS?"phone":"desktop",i=[];return Object.values(e).forEach((e=>{Array.isArray(e)&&e.forEach((e=>{const{adFeedbackConfigUrl:l}=e||{};if(l){const c=l.replace("$(AD_FEEDBACK_SITE_LOCALE)",n).replace("$(AD_FEEDBACK_DEVICE_TYPE)",o);if(De.has(c))return void(e.adFeedbackConfig=De.get(c));const d=new Re.Transport(Oe,c,{timeout:U.LX}).send().then((s=>{if((0,h.u9)(s,"body.error")){const e={...s.body};return Ee.feature("gemini_no_feedback_config",{...t.loggerParams,loggerInfo:e}).logFailure(),{body:e}}const{config:a}=s.body;return e.adFeedbackConfig=a,De.set(c,a),s}));s(d,{apiName:"geminiAdConfig.get",appId:a,ymreqid:r,locale:n}),i.push(d)}}))})),Promise.all(i).then((()=>e))},_sendRequest:(e,t)=>{(0,m.Z)(e.ymreqid,"ymreqid is required for making requests to Gemini ssi"),(0,m.Z)(e.userAgent,"userAgent is required for making requests to Gemini ssi");const{logRequest:s=(()=>{}),ymreqid:a,rotationActionType:n,region:r,colo:o}=e,i=!(0,I.jU)()&&"pullrequest"!==Ae.N&&"devbox"!==Ae.N,l=i?function(e=he){const t=JSON.stringify(e);let s=Ie.get(t);if(!s){if(s=Object.assign({key:ge(e.keyPath),cert:ge(e.certPath)},e.caPath?{ca:ge(e.caPath)}:null),!s.key||!s.cert)return;Ie.set(t,s)}return s}({keyPath:U.py,certPath:U.Vr}):{},c=new Re.Transport(Oe,U.kl+U.dW,{timeout:U.LX,tls:l});c.setHeader("Accept","application/json"),c.setHeader("User-Agent",e.userAgent),(0,ue.Eo)()||c.setHeader("X-Forwarded-For",e.remoteAddress),e.cookie&&!e.creativeId&&c.setHeader("Cookie",e.cookie);const d=e.userAgentHintHeaders;d&&Object.keys(d).forEach((e=>{c.setHeader(e,d[e])}));const _={apiName:"geminiAd.get",sectionId:t,rotationActionType:n,ymreqid:a,intl:r,colo:o,isGeminiMTLSEnabled:i},E=Re._getQueryParams(e,t),u=c.send(E);return s(u,_),u},getForceFilter:e=>{const t=E.stringify({useForceFilter:!0,forceFilter:"creative_id:"+e,useSpaceBall:!1,useFrequencyCapping:!1,useBudget:!1,useDeviceTargeting:!1,useBooleanQueries:!1,useSegmentsTargeting:!1,useBudgetCampaignFineThrottling:!1,useCF:!1,honorBlacklistedProperties:!1,dedupOnTitleSummaryHash:!1,"grouping.maxCreativesPerAdvertiser":5});return new Buffer(t).toString("base64")},_getQueryParams:(e,t)=>{const{locale:s,region:a,ymreqid:n}=e,r="zh-Hant-HK"===s||"zh-Hant-TW"===s?"zh_TW":s.substr(0,2),o=Object.assign({format:"json",apiVersion:2,size:"3x3",sectionId:U.$I,creativeCode:"STRM",propertyName:"mail_norrin",siteLanguage:r,countryCode:a,requestId:`${n}-${t}`,publisherInfo:"lu:1||159600001|STRM|",contentInHttps:1},e);o.sectionId=t||U.$I,o.adCount=U.XH[+t]||1,e.buckets&&e.buckets.length&&(o.bucket=e.buckets.join(",")),U.df.indexOf(+t)>-1&&(o.domain=o.domainParts),"devbox"===e.environment&&(o.nonRevenue=1),o.creativeId&&(o.forceFilter=Re.getForceFilter(o.creativeId),o.nonRevenue=2);const i={};for(const l in o)U.CW[l]&&(i[U.CW[l]]=o[l]);return i},_constructAdResponses:(e,t)=>{const s={};return e.forEach((e=>{if((0,h.u9)(e,"body.ads",null)){const a=(0,h.u9)(e,"body.section.id",U.$I),n=ce(e.body.ads,a,t);s[a]=n}else if((0,h.u9)(e,"body.error")){const t=(0,h.u9)(e,"body.sectionId");t!==U.vG.toString()&&t!==U.Mj.toString()||(s[t]={pencilAd:{},nativeAd:{},error:(0,h.u9)(e,"body.error"),additionalErrorInfo:(0,h.u9)(e,"body.additionalErrorInfo"),status:(0,h.u9)(e,"body.status")})}})),t.secondPencilFallbackSectionIdEnabled&&(s[U.Fq]=s[U.Fq]||s[U.YA]),t.nobleHybridAdEnabled&&s[U.X5]&&(s[U.lC]=s[U.X5]),s}},Ne=Re;class Le{constructor({appName:e}){this.proxyURL=`${e===S.BQZ.MOBILE_APP?S.IZo:S.jQ2}/gemini_api/`}request(e){const t=new N.Z(N.W.GET,this.proxyURL,{timeout:33e3});return t.setHeader("Accept","application/json"),t.send(e).then((e=>e.body))}}const fe=(0,h.gP)(["NODE_TO_GEMINI","BROWSER_TO_NODE"]);class Me extends u.Z{constructor({appName:e=S.BQZ.MAIL_APP,appId:t=S.JfS,loggerParams:s,wssid:a,isOnline:n,guidHash:r,cookie:o,crumb:i,userAgent:l,remoteAddress:c,environment:d,region:_,locale:E,colo:u,buckets:m,referer:p,userAgentHintHeaders:C},A){super({loggerName:S.BrN.GeminiAPIClient,loggerParams:(0,I.jU)()?{}:s,crumb:i,wssid:a,isOnline:n}),this.strategy=A||this.getDefaultStrategy(),this.browserProxy=new Le({appName:e}),this.REQUESTS={Gemini:Ne.request,BrowserProxy:this.browserProxy.request},this.validateStrategy(this.strategy),this.appId=t,this.cookie=o,this.environment=d,this.buckets=m,this.locale=E,this.region=_,this.colo=u,this.remoteAddress=c,this.userAgent=l,this.referer=p,this.userAgentHintHeaders=C,r&&(this.ymreqidGenerator=new g.Z(r,S.N7x,S.Q_q))}getDefaultStrategy(){return(0,I.jU)()?fe.BROWSER_TO_NODE:fe.NODE_TO_GEMINI}validateStrategy(e){if("string"!=typeof e||!fe[e])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(fe)));if((0,I.jU)()&&e===fe.NODE_TO_GEMINI)throw new Error(fe.NODE_TO_GEMINI+" strategy can not be used in the browser");if(!(0,I.jU)()&&e===fe.BROWSER_TO_NODE)throw new Error(fe.BROWSER_TO_NODE+" strategies can not be used on the server")}request(e){let t;if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated. making a request or initialize GeminiAPIClient with `guidHash`, so that it can generate a new one");const s=this.ymreqidGenerator.generate(),a=this.crumb,n=Object.assign({},e,{ymreqid:s,appId:this.appId,crumb:a,loggerParams:this.loggerParams});switch(this.strategy){case fe.NODE_TO_GEMINI:Object.assign(n,{userAgent:this.userAgent,remoteAddress:this.remoteAddress,buckets:this.buckets,cookie:this.cookie,environment:this.environment,region:this.region,locale:this.locale,colo:this.colo,referer:this.referer,logRequest:this.logRequest.bind(this),userAgentHintHeaders:this.userAgentHintHeaders}),t=this.REQUESTS.Gemini;break;case fe.BROWSER_TO_NODE:Object.assign(n,{locale:this.locale}),t=this.REQUESTS.BrowserProxy.bind(this.browserProxy)}const r=t(n);if(this.strategy===fe.BROWSER_TO_NODE){const t={ymreqid:s,crumb:a,intl:this.region,apiName:"geminiAd.get",sectionIds:e.sectionId,rotationActionType:e.rotationActionType};this.logRequest(r,t)}return r}getSponsoredAsset(e){const t=new N.Z(N.W.GET,e.url,{timeout:1e3}),s={intl:this.region,apiName:"geminiSponsoredAsset.get",url:e.url};t.setHeader("Accept","text/html");const a=t.send();return this.logRequest(a,s),a}}const Pe=Me;class be extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,guidHash:s,wssid:a,httpRetry:n,isOnline:r,endpoints:o,config:i={}}){super({loggerName:S.BrN.XobniClient,loggerParams:e,wssid:a,isOnline:r}),(0,m.Z)(o.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints");const l={guidHash:s,httpRetry:n,isOnline:r,wssid:a,host:(0,p.N)(i,"xobniHost"),classicabHost:o.BOOTCAMP_HOST+"/classicab"};(0,m.Z)(l.guidHash,"Xobni `guidHash` is a required option"),this.ymreqidGenerator=new g.Z(l.guidHash,S.N7x,S.Q_q),this.appId=t,this.httpRetry=l.httpRetry,this.allowEnhancedContactData=i[S.ANe.SHOW_ENHANCED_CONTACTS_INFO],this.instanceOptions=l}transport(e,t=N.W.GET,s={}){const a=new N.Z(t,e,{httpRetry:this.httpRetry});return t===N.W.GET&&a.setHeader("Accept","application/json"),(0,h.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a,n={},r=0){const{appendMailboxParams:o=!0,reqHeaders:i={},urlParams:l={},formData:c}=n,d=a===N.W.POST||a===N.W.DELETE,_=this.getRequestId(),u=this.appId;let m=e;if(d){const t=E.stringify({...l,ymreqid:_,appId:u,wssid:this.wssid});m=`${e}?${t}`}else t={...t,ymreqid:_,appId:u};s={...s,ymreqid:_},t=o?Object.assign(t||{},this.getMailboxParams()):t;const S=this.transport(m,a,i).send(c||t).then((e=>e.body));return this.logRequest(S,s,null,r),S.catch((o=>{if(o=this.handleCommonError(o),d&&this.isRetryableError(o,r))return this.request(e,t,s,a,n,++r);throw o}))}getRequestId(){return this.ymreqidGenerator.generate()}getSearchQueries(e){return{q:(e=Object.assign({query:"",includeLists:!0,includeTypes:"smtp",contextFrom:"",recipientList:[],identifier:"",limit:6},e)).query,i_l:e.includeLists,i_t:e.includeTypes,c_t:e.recipientList.join(","),c_f:e.contextFrom,k:e.identifier,l:e.limit}}isRetryableError(e,t){return t<1&&e.name===A.bD&&(this.wssid=e.data.wssid,!0)}isUserXobnified(){return this.request(`${this.instanceOptions.host}/pachinko/v2/xobnified`,{},{apiName:"isUserXobnified"})}normalizeResponse(e){const t={};for(const s in e)e.hasOwnProperty(s)&&void 0!==e[s]&&(t[s]=e[s]);return t}normalizeImportantContactsResponse(e){return(e.endpoint_info_list||[]).map((e=>{const t=(e.endpoint?[e.endpoint]:[]).filter((e=>/^smtp:(\S+)/.test(e))).map((e=>e.match(/^smtp:(\S+)/)[1]));return{emails:t,name:e.c_name,xobniId:e.c_id,id:t[0]}}))}triggerProfileImport({provider:e}){(0,m.Z)(e,"`provider` is a required option");const t={apiName:"triggerProfileImport",provider:e=e.toLowerCase()},s=`${this.instanceOptions.host}/credentials/workflow`;return this.request(s,{},t,N.W.POST,{urlParams:{source:e},appendMailboxParams:!1})}blockContact({contactInfo:e={}}={}){const{email:t}=e;t||(0,m.Z)(t,"`email` is a required option to block the email contact");const s={apiName:"blockContactEndpoint",blocklistedEmail:t};return this.request(`${this.instanceOptions.host}/v4/endpoints/${t}/blacklist`,{},s,N.W.POST)}search(e){const t=this.getSearchQueries(e),s={apiName:"searchSimpleEndpoint",...t};return this.request(this.instanceOptions.host+"/v4/endpoints/s",t,s).then((e=>this.normalizeResponse({identifier:e.k,contacts:e.r.map((function(e){return"LIST"===e.i?{id:e.n+e.ct,email:e.n+e.ct,name:e.n,list:e.es.map((e=>({id:e.e,email:e.e,name:e.n})))}:{id:e.c,email:e.e,name:e.n||e.nd||"",filteredResults:{fullName:e.f&&(e.f.FN||e.f.ND)||[],email:e.f&&e.f.E||[]}}}))})))}simpleContactsSearch(e){const t=this.getSearchQueries(e),s={apiName:"searchSimpleContact",...t};return this.request(this.instanceOptions.host+"/v4/contacts/alpha/s",t,s).then((e=>(0,F.i6)(e.r)))}deleteContacts({editTokenList:e=[]}){e.length||(0,m.Z)(e.length,"`editToken` is a required option to delete the contact");const t={sources:e},s={apiName:"deleteContacts",editTokenList:JSON.stringify(e)};return this.request(`${this.instanceOptions.host}/v4/contacts/delete`,t,s,N.W.POST).then((({deleted_contacts:e=[]})=>e.map((e=>(0,F.WS)(e,this.allowEnhancedContactData)))))}importantContacts(e){e||(0,m.Z)(e,"`email` is a required option to fetch important endpoints");const t={include_types:"smtp",context_from:e,max_count:100},s={apiName:"importantEndpoints",context_from:e};return this.request(this.instanceOptions.host+"/v4/endpoints/important",t,s).then((e=>this.normalizeImportantContactsResponse(e)))}topContacts({email:e,maxCount:t=20}){e||(0,m.Z)(e,"`email` is a required option to specify the context");const s={exclude_known_entities:!0,context_from:e,max_count:t,no_me_contact:!0,include_favorite:!0},a={apiName:"importantContacts",context_from:e,max_count:t};return this.request(this.instanceOptions.host+"/v4/contacts/important",s,a).then(F.Kl)}userCuratedEndpoints({endpointTypes:e=[],count:t=1e4,query:s}){return this.request(this.instanceOptions.host+"/v4/endpoints/userCurated",{i_t:e,l:t,q:s},{apiName:"userCuratedEndpoints"}).then((e=>(0,F.HT)({response:e})))}contactGroupsList(){return this.request(this.instanceOptions.host+"/v4/groups",{},{apiName:"contactGroupsList"}).then((e=>(0,F.Dv)({response:e})))}contactsInGroup({groupId:e,sort_by:t=S.K24[S.bW1.FIRST_NAME]}){(0,m.Z)(null!=e,"`Contact Group id` is a required parameter");return this.request(this.instanceOptions.host+`/v4/groups/${e}?include_types=smtp,tel,adr,hidden&sort_by=${t}`,{},{apiName:"contactsInGroup"}).then((e=>(0,F.Ir)({response:e})))}editContactGroup({groupId:e,newName:t,addedEndpoints:s,removedEndpoints:a}){(0,m.Z)(null!=e,"`Contact Group id` is a required parameter");const n=(0,F.K6)({newName:t,addedEndpoints:s,removedEndpoints:a}),r={apiName:"editContactGroup",newName:n.new_name,addedEndpoints:JSON.stringify(n.added_endpoints),removedEndpoints:JSON.stringify(n.removed_endpoints)};return this.request(this.instanceOptions.host+`/v4/groups/${e}/edit`,n,r,N.W.POST,{appendMailboxParams:!1})}createContactGroup({name:e,endpoints:t}){(0,m.Z)(e,"`Contact Group name` is a required parameter");const s=(0,F.qr)({name:e,endpoints:t}),a={apiName:"createContactGroup",name:e,endpoints:JSON.stringify(s.endpoints)};return this.request(this.instanceOptions.host+"/v4/groups",s,a,N.W.POST,{appendMailboxParams:!1}).then((e=>((e||{}).created_group||{}).id))}contactsGroupDelete({groupId:e}){e||(0,m.Z)(e,"`groupId` is a required option to delete contact group");const t=N.W.DELETE;return this.request(this.instanceOptions.host+`/v4/groups/${e}`,{},{apiName:"contactGroupsDelete"},t).then((e=>(0,F.Dv)({response:e})))}fetchContactsSnapshot(){const e={wssid:this.wssid},t={...e,apiName:"fetchContactsSnapshot"};return this.request(this.instanceOptions.host+"/v4/contacts/snapshots",e,t).then((e=>(null==e?void 0:e.snapshots)||[]))}importContactsFromCsv({filename:e,csvfile:t}){const s={wssid:this.wssid,filename:e,apiName:"importContactsFromCsv"},a=new FormData;a.append("csvfile",t,e);return this.request(this.instanceOptions.host+"/v4/contacts/import/csv",{},s,N.W.POST,{formData:a})}restoreContacts({snapshotId:e}){const t={snapshot_id:e,wssid:this.wssid,apiName:"restoreContacts"};return this.request(this.instanceOptions.host+"/v4/contacts/restore",{},t,N.W.POST,{appendMailboxParams:!1,urlParams:{snapshot_id:decodeURIComponent(e)}})}printContacts({sort_by:e=S.K24[S.bW1.FIRST_NAME],count:t=1e4}){const s={format:"json",count:t,sort_by:e},a={...s,apiName:"printContacts"};return this.request(this.instanceOptions.host+"/v4/contacts/export",s,a).then((e=>(0,F.bj)(e)))}alphabeticalContacts({count:e,characters:t=[],group_by:s=S.K24[S.bW1.FIRST_NAME]}){const a={count:e,group_by:s};t.length>0&&(a.categories=t.join(","));const n={apiName:"alphabeticalContacts",...a};return this.request(this.instanceOptions.host+"/v4/contacts/alpha",a,n).then((t=>(0,F.ci)({response:t,count:e,allowEnhancedContactData:this.allowEnhancedContactData})))}contactDetailsEdit({oldContact:e,newContact:t,skipContactDiffCheck:s}){const a=(0,F.zD)(e,t),n=Object.keys(a.changes).filter((e=>!Array.isArray(a.changes[e])||a.changes[e].length)).length;if(!s&&!n)return Promise.resolve(e);if(!a.source)return Promise.reject({error:"no editToken"});const{removed_endpoints:r,added_endpoints:o,...i}=a.changes,l={apiName:"contactDetailsEdit",editToken:a.editToken,...i,removed_endpoints:JSON.stringify(r),added_endpoints:JSON.stringify(o)};return this.request(`${this.instanceOptions.host}/v4/contacts/liteEdit`,a,l,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,F.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData,e.deleted_contacts&&e.deleted_contacts[0])))}createContact({newContact:e,image:t}){if((0,h.xb)(e))return;const s={apiName:"createContact",newContact:JSON.stringify(e),image:t},a=(0,F.Gt)({contact:e,image:t});if(!Object.keys(a.source_contacts).length)return Promise.reject({error:"no changes"});return this.request(`${this.instanceOptions.host}/v4/contacts/create`,a,s,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,F.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData)))}contactUploadPhoto({image:e,editToken:t}){const s={apiName:"contactUploadPhoto",image:e,editToken:t};if(!t)return Promise.reject({error:"no editToken"});return this.request(`${this.instanceOptions.host}/v4/contacts/uploadPhoto`,{image:e,source:t},s,N.W.POST,{appendMailboxParams:!1}).then((e=>(0,F.WS)(e.resulting_contacts&&e.resulting_contacts[0],this.allowEnhancedContactData)))}contactDetails({emails:e,isPrefetch:t}){e||(0,m.Z)(e,"`emails` is a required option");const s={apiName:"contactDetailsByEndpoint",emails:e,isPrefetch:t},a=`smtp:${e.join(",smtp:")}`;return this.request(`${this.instanceOptions.host}/v4/contacts/by/ep`,{ep:a},s).then((t=>(0,F.ed)({emails:e,...t},this.allowEnhancedContactData)))}getEnhanceContactsPreference(){return this.request(`${this.instanceOptions.host}/util/user_preferences`,{},{apiName:"getEnhanceContactsPreference"},N.W.GET).then((e=>!e.opt_out_elcaro_zippy))}setEnhanceContactsPreference(e){const t={apiName:"setEnhanceContactsPreference",enabled:e};return this.request(`${this.instanceOptions.host}/util/user_preferences`,{opt_out_elcaro_zippy:!e},t,N.W.POST)}getPeopleIKnowPreference(){return this.request(`${this.instanceOptions.host}/util/user_preferences`,{},{apiName:"getPeopleIKnowPreference"},N.W.GET).then((e=>e.enable_pik))}setPeopleIKnowPreference(e){const t={apiName:"setPeopleIKnowPreference",enabled:e};return this.request(`${this.instanceOptions.host}/util/user_preferences`,{enable_pik:e},t,N.W.POST)}toggleContactsProviderImporter({provider:e,enable:t=!0,spid:s}){(0,m.Z)(e,"`provider` is a required option"),(0,m.Z)(s,"`spid` is a required option");const a={sync:t?"on":"off",src:e=e.toLowerCase(),spid:s},n={apiName:"toggleContactsProviderImporter",provider:e,enable:t},r=`${this.instanceOptions.host}/v4/contacts/import`;return this.request(r,a,n,N.W.POST,{urlParams:{custId:"ymail"}})}contactProvidersStatus(){return this.request(`${this.instanceOptions.host}/v4/contacts/preferences`,{custId:"ymail"},{apiName:"contactProvidersStatus"}).then((e=>(0,F.OC)({response:e})))}formatted(){return this.request(`${this.instanceOptions.host}/v4/util/credentials/formatted`,{},{apiName:"socialAccountStatus"}).then((e=>(0,F._l)(e)))}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,h.u9)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=(0,h.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}}const ye=be;class ve extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,cookie:s,guid:a,crumb:n,wssid:r,guidHash:o,endpoints:i}={}){(0,m.Z)(i.CREDSTORE_HOST,"CREDSTORE_HOST is missing in endpoints"),super({loggerName:S.BrN.CredstoreClient,loggerParams:e,crumb:n,wssid:r,endpoints:i}),this.guid=a,this.cookie=s,this.appId=t,this.credstoreHost=this.endpoints.CREDSTORE_HOST,this.ymreqidGenerator=new g.Z(o,S.N7x,S.Q_q)}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t,s={}){t||(t=N.W.GET);const a=new N.Z(t,e,{tls:s});return a.withCredentials=!0,a}unlink({provider:e,spid:t}={}){(0,m.Z)(t,"`spid` is a required option");const s=this.getRequestId(),a={apiName:"unlinkSocialAccount",provider:e,ymreqid:s},n=`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/${t}/credential?ymreqid=${s}&appId=${this.appId}`,r=this.transport(n,N.W.DELETE);this.cookie&&r.setHeader("cookie",this.cookie);const o=r.send().then((e=>{if(e)return e.text})).catch((e=>{throw e}));return this.logRequest(o,a),o}removeOAuthToken({domain:e,email:t}={}){(0,m.Z)(e,"`domain` is a required option"),(0,m.Z)(t,"`email` is a required option");const s=this.getRequestId(),a=E.stringify({relyingParty:"comms",domain:e,email:t,ymreqid:s,wssid:this.wssid,appId:this.appId}),n={apiName:"removeOAuthToken",domain:e,email:t,ymreqid:s},r=`${this.endpoints.CREDSTORE_HOST}/v1/users/${this.guid}/service-providers/spid/credential?${a}`,o=this.transport(r,N.W.DELETE).send().then((e=>{if(e)return e.text})).catch((e=>{throw e}));return this.logRequest(o,n),o}contextualizeredirectUri(e,t){const s=t?"1":null,a=E.stringify({isCorp:s,crumb:this.crumb});return-1!==e.indexOf("?")?`${e}&${a}`:`${e}?${a}`}getAuthorizationURL({provider:e,email:t,redirectUri:s,isCorpUser:a=!1}={}){(0,m.Z)(e,"`provider` is a required option"),(0,m.Z)(t,"`email` is a required option"),(0,m.Z)(s,"`redirectUri` is a required option");const n=this.getRequestId(),{oauthDomain:r,scope:o}=S.wxL[e],i=E.stringify({appId:this.appId,wssid:this.wssid,ymreqid:n}),l={apiName:"getAuthorizationURL",domain:r,email:t,provider:e,ymreqid:n},c={applicationAttributes:{relyingParty:"comms",domain:r,email:t},redirectUri:this.contextualizeredirectUri(s,a),scope:o||""};let d=`${this.credstoreHost}/v1/users/@me/service-providers/spid/authorization-url?${i}`,_={};(0,Y.e_)(this.appId)&&(_=(0,Y.Ow)(),d=`${this.credstoreHost}/v1/users/@me/mtls/service-providers/spid/authorization-url?${i}`);const u=this.transport(d,N.W.POST,_);this.cookie&&u.setHeader("cookie",this.cookie);const p=u.setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(c).then((e=>e.body));return this.logRequest(p,l),p}link({spid:e,provider:t,redirectUri:s,isCorpUser:a=!1,scope:n}={}){(0,m.Z)(e,"`spid` is a required option"),(0,m.Z)(s,"`redirectUri` is a required option");const r=this.getRequestId(),o={apiName:"linkSocialAccount",provider:t,scope:n,ymreqid:r},i={applicationAttributes:{relyingParty:"comms"},redirectUri:this.contextualizeredirectUri(s,a),scope:n||""},l=`${this.credstoreHost}/v1/users/@me/service-providers/${e}/authorization-url?ymreqid=${r}&appId=${this.appId}`,c=this.transport(l,N.W.POST).setHeader("Content-Type","application/json").setHeader("Accept","application/json").send(i).then((e=>e.body));return this.logRequest(c,o),c}}var Fe=s(10728);const Ue="https://s.yimg.com/nq/storm/assets/enhancrV2/23/logos/",ke="https://s.yimg.com/lb/brands/80x80_",we={domainLogo:"",domainColor:Fe.E6z.vzm_black},Ge="BROWSER_TO_LUCY_STRATEGY",He="BROWSER_TO_NODE_STRATEGY",Be="NODE_TO_LUCY_STRATEGY",xe={default:we,"yahoo.com":{domainLogo:`${ke}yahoo.png`,domainColor:Fe.E6z.vzm_grape_jelly},"aol.com":{domainLogo:`${ke}aol.png`,domainColor:Fe.E6z.vzm_black},"tumblr.com":{domainLogo:`${Ue}tumblr.png`,domainColor:"#3E97C5"},"ebay.com":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"craigslist.ca":{domainLogo:`${Ue}craigslist.png`,domainColor:"#56088f"},"google.ro":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"amazon.co.uk":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"amazon.com":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"cnn.com":{domainLogo:`${Ue}cnn.png`,domainColor:"#cc1417"},"ebay.fr":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"ebay.ca":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"google.com.mx":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"docs.google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.it":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.com.br":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"goog.gl":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"ebay.com.au":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"picasaweb.google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.de":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"amazon.ca":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"tripadvisor.fr":{domainLogo:`${Ue}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"google.co.uk":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.co.in":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"realtor.com":{domainLogo:`${Ue}realtor.png`,domainColor:"#e91b28"},"autotrader.com":{domainLogo:`${Ue}autotrader.png`,domainColor:"#12377d"},"ebay.de":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"amazon.fr":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"amazon.de":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"airbnb.com":{domainLogo:`${Ue}airbnb.png`,domainColor:"#ff5a5f"},"mercadolibre.com.ar":{domainLogo:`${Ue}mercadolibre.png`,domainColor:"#fce404"},"google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.fr":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"plus.google.com":{domainLogo:`${Ue}googleplus.png`,domainColor:"#dd4B39"},"craigslist.org":{domainLogo:`${Ue}craigslist.png`,domainColor:"#56088f"},"google.es":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"google.ca":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"olx.ph":{domainLogo:`${Ue}olx.png`,domainColor:"#03273b"},"play.google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"amazon.es":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"gumtree.com.au":{domainLogo:`${Ue}gumtree.png`,domainColor:"#1d1d1b"},"amazon.in":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"airbnb.fr":{domainLogo:`${Ue}airbnb.png`,domainColor:"#ff5a5f"},"tripadvisor.co.uk":{domainLogo:`${Ue}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"ebay.it":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"support.google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"craigslist.co.uk":{domainLogo:`${Ue}craigslist.png`,domainColor:"#56088f"},"google.gr":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"tripadvisor.ca":{domainLogo:`${Ue}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"apple.com":{domainLogo:`${Ue}apple.png`,domainColor:Fe.E6z.vzm_black},"windows.microsoft.com":{domainLogo:`${Ue}microsoft.png`,domainColor:"#feb800"},"foxnews.com":{domainLogo:`${Ue}foxnews.png`,domainColor:"#d92226"},"walmart.com":{domainLogo:`${Ue}walmart.png`,domainColor:"#2484c6",displayName:"Walmart"},"behance.net":{domainLogo:`${Ue}behance.png`,domainColor:"#0b7fff"},"johnlewis.com":{domainLogo:`${Ue}johnlewis.png`,domainColor:"#939393"},"wnd.com":{domainLogo:`${Ue}wnd.png`,domainColor:"#2c3d44"},"ebay.co.uk":{domainLogo:`${Ue}ebay.png`,domainColor:"#0065d4",displayName:"eBay"},"homedepot.com":{domainLogo:`${Ue}homedepot.png`,domainColor:"#f58020",displayName:"Home Depot"},"wayfair.com":{domainLogo:`${Ue}wayfair.png`,domainColor:"#592148"},"monster.com":{domainLogo:`${Ue}monster.png`,domainColor:"#652d90"},"signupgenius.com":{domainLogo:`${Ue}signupgenius.png`,domainColor:"#231f20"},"aliexpress.com":{domainLogo:`${Ue}aliexpress.png`,domainColor:"#f2cb4a",displayName:"AliExpress"},"buzzfeed.com":{domainLogo:`${Ue}buzzfeed.png`,domainColor:"#ee3323"},"sportsdirect.com":{domainLogo:`${Ue}sportsdirect.png`,domainColor:"#e8341b"},"amazon.it":{domainLogo:`${Ue}amazon.png`,domainColor:Fe.E6z.vzm_black},"dhgate.com":{domainLogo:`${Ue}dhgate.png`,domainColor:"#727071"},"breitbart.com":{domainLogo:`${Ue}breitbart.png`,domainColor:Fe.E6z.vzm_black},"indeed.com":{domainLogo:`${Ue}indeed.png`,domainColor:"#1a65f6"},"redfin.com":{domainLogo:`${Ue}redfin.png`,domainColor:"#a02021"},"washingtonpost.com":{domainLogo:`${Ue}washingtonpost.png`,domainColor:"#3a3a3a"},"tocmai.ro":{domainLogo:`${Ue}tocmai.png`,domainColor:"#aabb00"},"drive.google.com":{domainLogo:`${ke}google.png`,domainColor:"#3d79f7"},"gumtree.com":{domainLogo:`${Ue}gumtree.png`,domainColor:"#1d1d1b"},"fool.com":{domainLogo:`${Ue}fool.png`,domainColor:"#ffcc99"},"myrecipes.com":{domainLogo:`${Ue}myrecipes.png`,domainColor:"#921e1e"},"laredoute.fr":{domainLogo:`${Ue}laredoute.png`,domainColor:"#201e1f"},"wsj.com":{domainLogo:`${Ue}wsj.png`,domainColor:"#001022"},"economist.com":{domainLogo:`${Ue}economist.png`,domainColor:"#e3120b"},"allrecipes.com":{domainLogo:`${Ue}allrecipes.png`,domainColor:"#fc6700"},"upworthy.com":{domainLogo:`${Ue}upworthy.png`,domainColor:"#ff6a00"},"eventbrite.com":{domainLogo:`${Ue}eventbrite.png`,domainColor:"#ff7200"},"allegro.pl":{domainLogo:`${Ue}allegro.png`,domainColor:"#ff5a00"},"jcpenney.com":{domainLogo:`${Ue}jcpenney.png`,domainColor:"#d61e20"},"alternet.org":{domainLogo:`${Ue}alternet.png`,domainColor:"#f15f2c"},"bloomberg.com":{domainLogo:`${Ue}bloomberg.png`,domainColor:Fe.E6z.vzm_black},"4shared.com":{domainLogo:`${Ue}4shared.png`,domainColor:"#267aa8"},"realestate.com.au":{domainLogo:`${Ue}realestate.png`,domainColor:"#e3002b"},"dell.com":{domainLogo:`${Ue}dell.png`,domainColor:"#0085c5"},"usatoday.com":{domainLogo:`${Ue}usatoday.png`,domainColor:"#009bff"},"latimes.com":{domainLogo:`${Ue}latimes.png`,domainColor:Fe.E6z.vzm_black},"hm.com":{domainLogo:`${Ue}hm.png`,domainColor:"#bc0114"},"submarino.com.br":{domainLogo:`${Ue}submarino.png`,domainColor:"#083f89"},"issuu.com":{domainLogo:`${Ue}issuu.png`,domainColor:"#ed5224"},"forever21.com":{domainLogo:`${Ue}forever21.png`,domainColor:"#0d0b0c"},"mindbodygreen.com":{domainLogo:`${Ue}mindbodygreen.png`,domainColor:"#73d54c"},"mashable.com":{domainLogo:`${Ue}mashable.png`,domainColor:"#00aef0"},"toysrus.com":{domainLogo:`${Ue}toysrus.png`,domainColor:"#0062ae"},"governmentjobs.com":{domainLogo:`${Ue}governmentjobs.png`,domainColor:"#ef5f3c"},"overstock.com":{domainLogo:`${Ue}overstock.png`,domainColor:"#c61e2b"},"staples.com":{domainLogo:`${Ue}staples.png`,domainColor:"#ec1c29",displayName:"Staples"},"costco.com":{domainLogo:`${Ue}costco.png`,domainColor:"#e51d37"},"fotocasa.es":{domainLogo:`${Ue}fotocasa.png`,domainColor:"#001e41"},"americanas.com.br":{domainLogo:`${Ue}americanas.png`,domainColor:"#e50007"},"marriott.com":{domainLogo:`${Ue}marriott.png`,domainColor:"#bc1d31"},"potterybarn.com":{domainLogo:`${Ue}potterybarn.png`,domainColor:Fe.E6z.vzm_black},"bedbathandbeyond.com":{domainLogo:`${Ue}bedbathandbeyond.png`,domainColor:"#002f8b"},"zulily.com":{domainLogo:`${Ue}zulily.png`,domainColor:Fe.E6z.vzm_black},"tripadvisor.com":{domainLogo:`${Ue}tripadvisor.png`,domainColor:"#49913d",displayName:"Tripadvisor"},"davidsbridal.com":{domainLogo:`${Ue}davidsbridal.png`,domainColor:"#ee8e92"},"etsy.com":{domainLogo:`${Ue}etsy.png`,domainColor:"#f56400"},"webmd.com":{domainLogo:`${Ue}webmd.png`,domainColor:"#20272f"},"zazzle.com":{domainLogo:`${Ue}zazzle.png`,domainColor:"#676767"},"stepstone.de":{domainLogo:`${Ue}stepstone.png`,domainColor:"#656a6d"},"npr.org":{domainLogo:`${Ue}npr.png`,domainColor:"#3366cc"},"homes.com":{domainLogo:`${Ue}homes.png`,domainColor:"#f7841a"},"dailykos.com":{domainLogo:`${Ue}dailykos.png`,domainColor:"#db7b27"},"indiegogo.com":{domainLogo:`${Ue}indiegogo.png`,domainColor:"#e32875"},"instagram.com":{domainLogo:`${Ue}instagram.png`,domainColor:Fe.E6z.vzm_black},"trulia.com":{domainLogo:`${Ue}trulia.png`,domainColor:"#00c000"},"weather.com":{domainLogo:`${Ue}weather.png`,domainColor:"#003399"},"zappos.com":{domainLogo:`${Ue}zappos.png`,domainColor:"#020001"},"thrillist.com":{domainLogo:`${Ue}thrillist.png`,domainColor:Fe.E6z.vzm_black},"pinterest.com":{domainLogo:`${Ue}pinterest.png`,domainColor:"#bb0919"},"lemonde.fr":{domainLogo:`${Ue}lemonde.png`,domainColor:Fe.E6z.vzm_black},"loopnet.com":{domainLogo:`${Ue}loopnet.png`,domainColor:"#df002b"},"newyorker.com":{domainLogo:`${Ue}newyorker.png`,domainColor:"#252324"},"har.com":{domainLogo:`${Ue}har.png`,domainColor:"#005ca4"},"meetup.com":{domainLogo:`${Ue}meetup.png`,domainColor:"#e62028"},"travelzoo.com":{domainLogo:`${Ue}travelzoo.png`,domainColor:"#020607"},"olx.ro":{domainLogo:`${Ue}olx.png`,domainColor:"#03273b"},"coursera.org":{domainLogo:`${Ue}coursera.png`,domainColor:"#1e9ef5"},"articulo.mercadolibre.com.mx":{domainLogo:`${Ue}mercadolibre.png`,domainColor:"#fce404"},"cbssports.com":{domainLogo:`${Ue}cbssports.png`,domainColor:"#004b8f"},"microsoft.com":{domainLogo:`${Ue}microsoft.png`,domainColor:"#feb800"},"chicagotribune.com":{domainLogo:`${Ue}chicagotribune.png`,domainColor:"#12172b"},"lefigaro.fr":{domainLogo:`${Ue}lefigaro.png`,domainColor:"#407bbd"},"livestrong.com":{domainLogo:`${Ue}livestrong.png`,domainColor:"#fc5b00"},"cnet.com":{domainLogo:`${Ue}cnet.png`,domainColor:"#d50100"},"autotrader.co.uk":{domainLogo:`${Ue}autotrader.png`,domainColor:"#12377d"},"boredpanda.com":{domainLogo:`${Ue}boredpanda.png`,domainColor:"#a0a297"},"thedailybeast.com":{domainLogo:`${Ue}thedailybeast.png`,domainColor:"#ee2f28"},"nbcnews.com":{domainLogo:`${Ue}nbcnews.png`,domainColor:"#113850"},"itunes.apple.com":{domainLogo:`${Ue}apple.png`,domainColor:Fe.E6z.vzm_black},"sears.com":{domainLogo:`${Ue}sears.png`,domainColor:"#0d358c"},"entrepreneur.com":{domainLogo:`${Ue}entrepreneur.png`,domainColor:"#242424"},"seek.com.au":{domainLogo:`${Ue}seek.png`,domainColor:"#e60a7c"},"airbnb.co.uk":{domainLogo:`${Ue}airbnb.png`,domainColor:"#ff5a5f"},"salon.com":{domainLogo:`${Ue}salon.png`,domainColor:Fe.E6z.vzm_black},"immobilienscout24.de":{domainLogo:`${Ue}immobilienscout24.png`,domainColor:"#ff7500"},"yelp.com":{domainLogo:`${Ue}yelp.png`,domainColor:"#da262e"},"livingsocial.com":{domainLogo:`${Ue}livingsocial.png`,domainColor:"#a70a36"},"leboncoin.fr":{domainLogo:`${Ue}leboncoin.png`,domainColor:"#b9afa3"},"time.com":{domainLogo:`${Ue}time.png`,domainColor:"#f12500"},"popsugar.com":{domainLogo:`${Ue}popsugar.png`,domainColor:"#731644"},"shutterstock.com":{domainLogo:`${Ue}shutterstock.png`,domainColor:"#cf221f"},"box.com":{domainLogo:`${Ue}box.png`,domainColor:"#00aef0"},"hudl.com":{domainLogo:`${Ue}hudl.png`,domainColor:"#f47623"},"emag.ro":{domainLogo:`${Ue}emag.png`,domainColor:"#00589b"},"macys.com":{domainLogo:`${Ue}macys.png`,domainColor:"#e11a2d",displayName:"Macys"},"naturalnews.com":{domainLogo:`${Ue}naturalnews.png`,domainColor:"#2aa9e0"},"twitter.com":{domainLogo:`${Ue}twitter.png`,domainColor:"#1bb2e7"},"realtor.ca":{domainLogo:`${Ue}realtor.png`,domainColor:"#e91b28"},"patch.com":{domainLogo:`${Ue}patch.png`,domainColor:"#519542"},"facebook.com":{domainLogo:`${Ue}facebook.png`,domainColor:"#3b579d"},"holidaylettings.co.uk":{domainLogo:`${Ue}holidaylettings.png`,domainColor:"#0b71d6"},"dailymotion.com":{domainLogo:`${Ue}dailymotion.png`,domainColor:"#0066ca"},"reverbnation.com":{domainLogo:`${Ue}reverbnation.png`,domainColor:"#2c2d28"},"github.com":{domainLogo:`${Ue}github.png`,domainColor:"#010101"},"bizjournals.com":{domainLogo:`${Ue}bizjournals.png`,domainColor:"#163174"},"kohls.com":{domainLogo:`${Ue}kohls.png`,domainColor:"#7e2b79"},"zara.com":{domainLogo:`${Ue}zara.png`,domainColor:Fe.E6z.vzm_black},"pbs.org":{domainLogo:`${Ue}pbs.png`,domainColor:Fe.E6z.vzm_black},"adevarul.ro":{domainLogo:`${Ue}adevarul.png`,domainColor:"#231f20"},"target.com":{domainLogo:`${Ue}target.png`,domainColor:"#e51837",displayName:"Target"},"nordstrom.com":{domainLogo:`${Ue}nordstrom.png`,domainColor:"#635f5c",displayName:"Nordstrom"},"fedex.com":{domainLogo:`${Ue}fedex.png`,domainColor:"#381c73"},"marketwatch.com":{domainLogo:`${Ue}marketwatch.png`,domainColor:"#1e1f20"},"today.com":{domainLogo:`${Ue}today.png`,domainColor:"#ff7e00"},"cnbc.com":{domainLogo:`${Ue}cnbc.png`,domainColor:"#152945"},"techcrunch.com":{domainLogo:`${Ue}techcrunch.png`,domainColor:"#0a9e00"},"zoopla.co.uk":{domainLogo:`${Ue}zoopla.png`,domainColor:"#5b1760"},"archiveofourown.org":{domainLogo:`${Ue}archiveofourown.png`,domainColor:"#9c1111"},"spiegel.de":{domainLogo:`${Ue}spiegel.png`,domainColor:"#06100f"},"paypal.com":{domainLogo:`${Ue}paypal.png`,domainColor:"#003184"},"food.com":{domainLogo:`${Ue}food.png`,domainColor:"#feb800"},"rightmove.co.uk":{domainLogo:`${Ue}rightmove.png`,domainColor:"#74c045"},"seloger.com":{domainLogo:`${Ue}seloger.png`,domainColor:"#ce393b"},"alibaba.com":{domainLogo:`${Ue}alibaba.png`,domainColor:"#f47221"},"simplyhired.com":{domainLogo:`${Ue}simplyhired.png`,domainColor:"#ff6600"},"ruten.com.tw":{domainLogo:`${Ue}ruten.png`,domainColor:Fe.E6z.vzm_black},"trademe.co.nz":{domainLogo:`${Ue}trademe.png`,domainColor:Fe.E6z.vzm_black},"jobstreet.com":{domainLogo:`${Ue}jobstreet.png`,domainColor:"#fde200"},"dailymail.co.uk":{domainLogo:`${Ue}dailymail.png`,domainColor:"#004eb2"},"rollingstone.com":{domainLogo:`${Ue}rollingstone.png`,domainColor:"#d5222a"},"huffingtonpost.com":{domainLogo:`${Ue}huffingtonpost.png`,domainColor:"#2e7161"},"infowars.com":{domainLogo:`${Ue}infowars.png`,domainColor:Fe.E6z.vzm_black},"epicurious.com":{domainLogo:`${Ue}epicurious.png`,domainColor:"#ff3b2e"},"argos.co.uk":{domainLogo:`${Ue}argos.png`,domainColor:"#c2291b"},"segundamano.es":{domainLogo:`${Ue}segundamano.png`,domainColor:"#fe9426"},"istockphoto.com":{domainLogo:`${Ue}istockphoto.png`,domainColor:Fe.E6z.vzm_black},"westelm.com":{domainLogo:`${Ue}westelm.png`,domainColor:"#b92025",displayName:"west elm"},"dubizzle.com":{domainLogo:`${Ue}dubizzle.png`,domainColor:"#bb1718"},"snapdeal.com":{domainLogo:`${Ue}snapdeal.png`,domainColor:"#b81e23"},"thekitchn.com":{domainLogo:`${Ue}thekitchn.png`,domainColor:"#bdc7bf"},"restorationhardware.com":{domainLogo:`${Ue}restorationhardware.png`,domainColor:"#010101"},"newsmax.com":{domainLogo:`${Ue}newsmax.png`,domainColor:"#2f4da3"},"seekingalpha.com":{domainLogo:`${Ue}seekingalpha.png`,domainColor:"#ff5f39"},"priceline.com":{domainLogo:`${Ue}priceline.png`,domainColor:"#108dde",displayName:"Priceline"},"idealist.org":{domainLogo:`${Ue}idealist.png`,domainColor:"#fed300"},"apartmentguide.com":{domainLogo:`${Ue}apartmentguide.png`,domainColor:"#d80000"},"examiner.com":{domainLogo:`${Ue}examiner.png`,domainColor:"#59a686"},"hightail.com":{domainLogo:`${Ue}hightail.png`,domainColor:"#3a383a"},"rei.com":{domainLogo:`${Ue}rei.png`,domainColor:"#1c1b17"},"bestbuy.com":{domainLogo:`${Ue}bestbuy.png`,domainColor:"#055182"},"subito.it":{domainLogo:`${Ue}subito.png`,domainColor:"#fb4230"},"naukri.com":{domainLogo:`${Ue}naukri.png`,domainColor:"#066db8"},"flipkart.com":{domainLogo:`${Ue}flipkart.png`,domainColor:"#f7e830",displayName:"Flipkart"},"kayak.com":{domainLogo:`${Ue}kayak.png`,domainColor:"#ff7d00"},"jabong.com":{domainLogo:`${Ue}jabong.png`,domainColor:"#201e1f"},"booking.com":{domainLogo:`${Ue}booking.png`,domainColor:"#023682",displayName:"Booking"},"lowes.com":{domainLogo:`${Ue}lowes.png`,domainColor:"#004893",displayName:"Lowes"},"groupon.com":{domainLogo:`${Ue}groupon.png`,domainColor:"#7fb545"},"idealista.com":{domainLogo:`${Ue}idealista.png`,domainColor:"#d2fb21"},"victoriassecret.com":{domainLogo:`${Ue}victoriassecret.png`,domainColor:"#222021"},"cargurus.com":{domainLogo:`${Ue}cargurus.png`,domainColor:"#0099ff"},"francetvinfo.fr":{domainLogo:`${Ue}francetvinfo.png`,domainColor:"#0e52d1"},"bodybuilding.com":{domainLogo:`${Ue}bodybuilding.png`,domainColor:"#00b0f3"},"theblaze.com":{domainLogo:`${Ue}theblaze.png`,domainColor:"#ea1606"},"academia.edu":{domainLogo:`${Ue}academia.png`,domainColor:"#3c3f42"},"lightinthebox.com":{domainLogo:`${Ue}lightinthebox.png`,domainColor:"#c72128"},"goodreads.com":{domainLogo:`${Ue}goodreads.png`,domainColor:"#e6e1c3"},"finn.no":{domainLogo:`${Ue}finn.png`,domainColor:"#1096cb"},"bhphotovideo.com":{domainLogo:`${Ue}bhphotovideo.png`,domainColor:"#e15733"},"homeaway.com":{domainLogo:`${Ue}homeaway.png`,domainColor:"#0074b3"},"scribd.com":{domainLogo:`${Ue}scribd.png`,domainColor:"#063748"},"boston.com":{domainLogo:`${Ue}boston.png`,domainColor:"#9b1c1f"},"orientaltrading.com":{domainLogo:`${Ue}orientaltrading.png`,domainColor:"#e00120"},"houzz.com":{domainLogo:`${Ue}houzz.png`,domainColor:"#7ac144",displayName:"Houzz"},"okazii.ro":{domainLogo:`${Ue}okazii.png`,domainColor:"#f7a418"},"wetransfer.com":{domainLogo:`${Ue}wetransfer.png`,domainColor:"#3099da"},"theguardian.com":{domainLogo:`${Ue}theguardian.png`,domainColor:"#214583"},"medium.com":{domainLogo:`${Ue}medium.png`,domainColor:"#242021"},"ziprecruiter.com":{domainLogo:`${Ue}ziprecruiter.png`,domainColor:"#18181a"},"change.org":{domainLogo:`${Ue}change.png`,domainColor:"#ed2d23"},"gofundme.com":{domainLogo:`${Ue}gofundme.png`,domainColor:"#999999"},"glassdoor.com":{domainLogo:`${Ue}glassdoor.png`,domainColor:"#72b533"},"sfgate.com":{domainLogo:`${Ue}sfgate.png`,domainColor:"#d12827"},"mercadolivre.com.br":{domainLogo:`${Ue}mercadolivre.png`,domainColor:"#fce503"},"disney.go.com":{domainLogo:`${Ue}disney.png`,domainColor:Fe.E6z.vzm_black},"instructables.com":{domainLogo:`${Ue}instructables.png`,domainColor:"#fbc210"},"bestjobs.ro":{domainLogo:`${Ue}bestjobs.png`,domainColor:"#1357a0"},"linkedin.com":{domainLogo:`${Ue}linkedin.png`,domainColor:"#0077b5"},"businessinsider.com":{domainLogo:`${Ue}businessinsider.png`,domainColor:"#1d5b7d"},"careerbuilder.com":{domainLogo:`${Ue}careerbuilder.png`,domainColor:"#182642"},"homelidays.com":{domainLogo:`${Ue}homelidays.png`,domainColor:"#282828"},"kickstarter.com":{domainLogo:`${Ue}kickstarter.png`,domainColor:"#081245"},"asos.com":{domainLogo:`${Ue}asos.png`,domainColor:Fe.E6z.vzm_black},"khanacademy.org":{domainLogo:`${Ue}khanacademy.png`,domainColor:"#95ae3c"},"youtube.com":{domainLogo:`${Ue}youtube.png`,domainColor:"#e52d27"},"youtu.be":{domainLogo:`${Ue}youtube.png`,domainColor:"#e52d27"},"usps.com":{domainLogo:`${Ue}usps.png`,domainColor:"#233d8e"},"nydailynews.com":{domainLogo:`${Ue}nydailynews.png`,domainColor:"#fe3835"},"imobiliare.ro":{domainLogo:`${Ue}imobiliare.png`,domainColor:"#b31e24"},"hotels.com":{domainLogo:`${Ue}hotels.png`,domainColor:"#ec3925"},"newegg.com":{domainLogo:`${Ue}newegg.png`,domainColor:"#f79727",displayName:"Newegg"},"cdiscount.com":{domainLogo:`${Ue}cdiscount.png`,domainColor:"#5fb0e3"},"indiatimes.com":{domainLogo:`${Ue}indiatimes.png`,domainColor:"#fd4664"},"timeout.com":{domainLogo:`${Ue}timeout.png`,domainColor:"#080300"},"prezi.com":{domainLogo:`${Ue}prezi.png`,domainColor:"#1867cc"},"mercola.com":{domainLogo:`${Ue}mercola.png`,domainColor:"#acacac"},"surveymonkey.com":{domainLogo:`${Ue}surveymonkey.png`,domainColor:"#dde3b5"},"dropbox.com":{domainLogo:`${Ue}dropbox.png`,domainColor:"#007ee4"},"6pm.com":{domainLogo:`${Ue}6pm.png`,domainColor:"#9c132d"},"hollywoodreporter.com":{domainLogo:`${Ue}hollywoodreporter.png`,domainColor:"#e01e26"},"bbc.com":{domainLogo:`${Ue}bbc.png`,domainColor:"#429be8"},"msn.com":{domainLogo:`${Ue}msn.png`,domainColor:"#0076da"},"ticketmaster.com":{domainLogo:`${Ue}ticketmaster.png`,domainColor:"#009cde"},"slickdeals.net":{domainLogo:`${Ue}slickdeals.png`,domainColor:"#0071bb"},"usajobs.gov":{domainLogo:`${Ue}usajobs.png`,domainColor:"#b92025"},"babycenter.com":{domainLogo:`${Ue}babycenter.png`,domainColor:"#00b0c7"},"zillow.com":{domainLogo:`${Ue}zillow.png`,domainColor:"#0074e4"},"vimeo.com":{domainLogo:`${Ue}vimeo.png`,domainColor:"#00b3ec"},"flickr.com":{domainLogo:`${Ue}flickr.png`,domainColor:"#206dd7"},"vrbo.com":{domainLogo:`${Ue}vrbo.png`,domainColor:"#2b3180"},"nike.com":{domainLogo:`${Ue}nike.png`,domainColor:"#fd642a",displayName:"Nike"},"expedia.com":{domainLogo:`${Ue}expedia.png`,domainColor:"#00335a"},"foodnetwork.com":{domainLogo:`${Ue}foodnetwork.png`,domainColor:"#c42126"},"telegraph.co.uk":{domainLogo:`${Ue}telegraph.png`,domainColor:"#121212"},"bleacherreport.com":{domainLogo:`${Ue}bleacherreport.png`,domainColor:"#ef3f23"},"nytimes.com":{domainLogo:`${Ue}nytimes.png`,domainColor:Fe.E6z.vzm_black},"agoda.com":{domainLogo:`${Ue}agoda.png`,domainColor:"#929291"},"reuters.com":{domainLogo:`${Ue}reuters.png`,domainColor:"#666666"},"wired.com":{domainLogo:`${Ue}wired.png`,domainColor:Fe.E6z.vzm_black},"walgreens.com":{...we,displayName:"Walgreens"},"bloomingdales.com":{...we,displayName:"Bloomingdales"},"worldmarket.com":{...we,displayName:"Worldmarket"},"barnesandnoble.com":{...we,displayName:"Barnes and Noble"},"crateandbarrel.com":{...we,displayName:"Crate and Barrel"},"audible.com":{...we,displayName:"Audible"},"officedepot.com":{...we,displayName:"Office Depot"},"neimanmarcus.com":{...we,displayName:"Neiman Marcus"},"orbitz.com":{...we,displayName:"Orbitz"},"glossier.com":{...we,displayName:"Glossier"},"sephora.com":{...we,displayName:"Sephora"},"chewy.com":{...we,displayName:"Chewy"},"abebooks.com":{...we,displayName:"Abe Books"},"emirates.com":{...we,displayName:"Emirates"},"samsclub.com":{...we,displayName:"Sams Club"},"cvs.com":{...we,displayName:"CVS"},"avon.com":{...we,displayName:"Avon"},"finishline.com":{...we,displayName:"Finish Line"},"cratejoy.com":{...we,displayName:"Cratejoy"},"selfridges.com":{...we,displayName:"Selfridges"},"hiltonhotels.com":{...we,displayName:"Hilton Hotels"},"footlocker.com":{...we,displayName:"Footlocker"},"currys.co.uk":{...we,displayName:"Currys"},"anthropologie.com":{...we,displayName:"Anthropologie"},"skyscanner.com":{...we,displayName:"Skyscanner"},"ssense.com":{...we,displayName:"SSENSE"},"vons.com":{...we,displayName:"Vons"},"monoprice.com":{...we,displayName:"Monoprice"},"lecreuset.com":{...we,displayName:"Le Creuset"},"everlane.com":{...we,displayName:"Everlane"}};function Ve(e){const t=function(e){if(e["@graph"]&&e["@graph"][0]&&e["@graph"][0]["@type"])return e["@graph"][0]}(e);if(!t)throw new C.Z("LinkEnhancerClient.NoRootType");if("WebSnippet"!==t["@type"])throw new C.Z("LinkEnhancerClient.NoWebSnippet");return e=function(e){if(e.docproc){const t=e.docproc.linkinfo,{fetchedtime:s,fetchedurl:a,requestedurl:n,urldomain:r}=e;if(t){const{title:e,description:o,type:i,offers:l,image:c,author:d,video:_}=t,E={fetchedtime:s,fetchedurl:a,requestedurl:n,urldomain:r,linkInfo:{title:e,description:o,type:i}};return l&&(l.forEach((e=>Ke(e))),Object.assign(E.linkInfo,{offers:l})),c&&(Ke(c),Object.assign(E.linkInfo,{images:We(c)})),d&&d.name&&Object.assign(E.linkInfo,{author:d.name}),_&&(Ke(_),Object.assign(E.linkInfo,{video:_})),Object.assign(E.linkInfo,{domainStyles:Ze(r)}),E}}}(t)}function Ze(e){const t=e.replace(/www\./i,"").toLowerCase(),s=function(e){const t=e.match(/[a-z0-9][a-z0-9\-]{1,63}\.[a-z\.]{2,6}$/i);if(t)return t[0];return e}(t);return xe[t]?xe[t]:xe[s]?xe[s]:xe.default}function We(e){const{url:t,height:s,width:a}=e;return{thumbnails:["400x200","800x280","80x80"].reduce(((t,s)=>{const a=e[`simage${s}`];if(a){const e=s.split("x");return t[s]={url:a,width:parseInt(e[0],10),height:parseInt(e[1],10)},t}}),{}),url:t,height:s,width:a}}function Ke(e){delete e["@type"],delete e["@id"]}const ze=S.JKT+"/linkEnhancer";const Ye=new RegExp("(.{8})-(.{4})-(.{4})-(.{4})-(.{12})");const je={[He]:class{constructor({crumb:e}){this.crumb=e}get(e){const{ymreqid:t,url:s}=e;if(!s)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));const a=`${ze}?crumb=${this.crumb}&url=${encodeURIComponent(s)}&ymreqid=${t}`,n=new N.Z(S.f2m.GET,a,{timeout:3500});n.setHeader("Accept","application/json");return n.send().then((e=>e.body))}},[Be]:class{constructor({cookie:e,ymreqid:t}){this.cookie=e,this.ymreqid=t}get(e){const{url:t}=e;if(!t)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));if(!this.ymreqid||!Ye.test(this.ymreqid))return Promise.reject({statusCode:400,errorCode:"BAD_REQUEST"});const s=`https://le.yahooapis.com/v1/lucy?url=${encodeURIComponent(t)}&appname=mailenhancr&ymreqid=${this.ymreqid}`,a=new N.Z(S.f2m.GET,s,{timeout:3e3});a.setHeader("User-Agent","Mail-FE-Norrin"),a.setCookieHeader(this.cookie);return a.send().then((e=>{if(!e.body)throw new C.Z("LinkEnhancerClient.EmptyResponseBody");return Ve(e.body)})).catch((e=>{throw e}))}},[Ge]:class{get(e){const{ymreqid:t,url:s}=e;if(!s)return Promise.reject(new C.Z("LinkEnhancerClient.InvalidRequestUrl"));const a=`/v1/lucy/?url=${encodeURIComponent(s)}&appname=mailenhancr&ymreqid=${t}`,n=new N.Z(S.f2m.GET,a,{timeout:3e3});n.setHeader("Accept","application/json"),n.withCredentials=!0;return n.send().then((e=>{if(!e.body)throw new C.Z("LinkEnhancerClient.EmptyResponseBody");return Ve(e.body)})).catch((e=>{throw e}))}}};class qe extends u.Z{constructor({loggerParams:e,crumb:t,guidHash:s,config:a={},strategy:n=He,...r}){super({loggerName:S.BrN.LinkEnhancerClient,loggerParams:e,crumb:t}),this.useLucyYCPIProxy=(0,p._)(a,"useLucyYCPIProxy"),this.strategy=(0,I.jU)()&&this.useLucyYCPIProxy?Ge:n,this.restParams=r,this.crumb=t,this._getRequest=function(e=this.strategy){return new je[e]({crumb:t,...r})},s&&(this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q))}get(e){var t;const s=this.ymreqidGenerator&&this.ymreqidGenerator.generate()||(null===(t=this.restParams)||void 0===t?void 0:t.ymreqid),a={apiName:"lucy",...this.crumb?{crumb:this.crumb}:void 0,ymreqid:s,useLucyYCPIProxy:this.useLucyYCPIProxy,...this.strategy===Be?{alertTAE:!1}:void 0},n=this._getRequest().get({url:e,ymreqid:s});return this.logRequest(n,a),n}}var Xe=s(94801),Qe=s.n(Xe),Je=s(91884),$e=s.n(Je),et=s(94844),tt=s.n(et),st=s(62680),at=s.n(st),nt=s(91318),rt=s.n(nt),ot=s(69723),it=s.n(ot),lt=s(15616),ct=s.n(lt),dt=s(41143),_t=s.n(dt);function Et(e){const{event:t,state:s,email:a}=e;return t.startTime&&(t.startTime=ut(t.startTime)),t.endTime?t.endTime=ut(t.endTime):t.duration&&t.startTime?t.endTime=function(e,t){const s=[{unit:"D",addFunction:tt()},{unit:"T",addFunction:e=>e},{unit:"H",addFunction:at()},{unit:"M",addFunction:rt()},{unit:"S",addFunction:it()}];let a=1,n=e;return s.forEach((({unit:e,addFunction:s})=>{const r=t.indexOf(e,a);if(r>-1){const e=parseInt(t.substring(a,r),10)||0;n=s(n,e),a=r+1}})),n}(t.startTime,t.duration):t.startTime&&(t.endTime=t.startTime),t.email=a||"",t.state=s||"",t.response=t.partStat||"",t.startTime&&t.endTime&&(t.isSameDay=Qe()(t.startTime,t.endTime)),t.firstAttendeeStatus=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee[0].partStat}(t.attendees),t.location=t.location||null,t.videoLink=function(e){const t=/https:\/\/plus.google.com\/hangouts\/_\/.*\/.*/.exec(e);return t&&t[0]||null}(t.description),t.attendees=function(e){if(!e||!e.attendee||!e.attendee[0])return[];return e.attendee.map((e=>e.email))}(t.attendees),t.firstAttendeeEmail=t.attendees[0]||"",t.organizerEmail=t.organizer&&t.organizer.email||"",t}function ut(e){const t=$e()(e);return _t()("Invalid Date"!==t.toString(),"Invalid Date"),t}function mt(e){return ct()(e,"YYYYMMDDTHHmmss")}const St=_e().create("norrin/calendar");var pt=s(82159),Ct=s(95992);const At=e=>{switch(e){case"NEEDS_ACTION":return pt.wq.NEEDS_ACTION;case"COMPLETED":return pt.wq.COMPLETED;default:return pt.wq.CANCELLED}},Tt=(e,t)=>e?e.filter(Boolean).map((e=>{try{var s,a,n;const t=null===(s=e.reminders)||void 0===s?void 0:s.reminder,r=[];return null===(a=e.reminders)||void 0===a||null===(n=a.reminder)||void 0===n||n.forEach((e=>{e.dateTime&&r.push((e=>{const{showAlert:t,offset:s,dateTime:a}=e;return{showAlert:t,offset:s,dateTime:ut(a)}})(e))})),{...e,summary:(0,Ct.a)(e.summary,!0),status:At(e.status),...e.description&&{description:(0,Ct.a)(e.description,!0)},...e.dueOn&&{dueOn:ut(e.dueOn)},...e.completedOn&&{completedOn:ut(e.completedOn)},...t&&{reminders:{...e.reminders,reminder:r}}}}catch(r){return t&&t.logFailure(r),null}})).filter(Boolean).reverse():[],It=e=>({...e,...e.dueOn&&{dueOn:mt(e.dueOn)}}),ht=e=>({...e,...e.dueOn&&{dueOn:mt(e.dueOn)},...e.completedOn&&{completedOn:mt(e.completedOn)}});class gt extends u.Z{constructor(e){var t,s,a;super({...e,loggerName:S.BrN.EpochCalendarClient}),a=e=>{const{folderId:t,component:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`);let r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${t}/`;const o=`?wssid=${encodeURIComponent(this.calendarWssid)}&appId=${this.appId}&format=json&ymreqid=${a}`;null!=e&&e.type&&(r+=`&type=${null==e?void 0:e.type}`),r+=s?s+`${o}`:`${o}`;const i=new N.Z(N.W.DELETE,r);i.setHeader("Accept-Language","en-US");const l=i.send().then((()=>!0)).catch((t=>this._handleErrorAndPossiblyRetry("deleteFolder",e)(t)));return this.logRequest(l,{apiName:"deleteFolder",folderId:t,ymreqid:a}),l},(s="deleteFolder")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,this.appId=e.appId||S.JfS,this.mailWssid=e.wssid,this.isYCorp="ycorp"===e.partner,this.guid=e.guid,this.ymreqidGenerator=new g.Z(e.guidHash,S.N7x,S.Q_q)}getInviteInfo(e,t=0){const{downloadUrl:s}=e,a=this.ymreqidGenerator.generate(),n=`/cal/ws/v4/users/calendars/131/events/inviteUp?url=${encodeURIComponent(s)}&offset=0&fullAttendeeList=true${this.isYCorp?"&parseIcsOnly=true&supportPublish=true":""}&wssid=${this.calendarWssid}&format=json&appId=${this.appId}&ymreqid=${a}`,r=new N.Z(N.W.POST,n),o=St.feature("calendar_get_invite_call",{crumb:this.mailWssid,params:e,ymreqid:a});r.setHeader("Content-Type","application/json"),r.setHeader("Mailbox-ID",`guid=${this.guid}`),r.setHeader("Accept-Language","en-US");const i=r.send();return i.then(o.logSuccessAndLatency,o.logFailure),i.then(this._handleInviteResponse(e,t+1)).catch(this._handleInviteResponse(e,t+1))}_handleInviteResponse(e,t){return s=>{var a,n,r;const o=(null===(a=s.data)||void 0===a?void 0:a.body)||s.body;if(!o)return Promise.reject({error:"Empty response"});if(null!==(n=o.calendarError)&&void 0!==n&&n.wssid){if(t<=1){var i;this.calendarWssid=null===(i=o.calendarError)||void 0===i?void 0:i.wssid;try{return this.getInviteInfo(e,t)}catch(d){return Promise.reject({error:"Bad response",data:d})}}return Promise.reject(o)}const l=o.invitestate,c=null==l||null===(r=l.event)||void 0===r?void 0:r[0];return null!=c&&c.startTime&&null!=c&&c.endTime?Et({event:c,state:null==l?void 0:l.state}):Promise.reject(new Error("Invalid data"))}}sendReply(e,t){const s=this.ymreqidGenerator.generate(),a=Date.now(),n=`/cal/ws/v3/users/calendar/rsvp/${encodeURIComponent(e)}/?format=json&notify=true&wssid=${this.calendarWssid}&rand=${a}&prog=aeon&appId=${this.appId}&ymreqid=${s}`,r=new N.Z(N.W.POST,n),o=St.feature("calendar_invite_reply_call",{wssid:this.calendarWssid,uid:e,data:t,ymreqid:s});r.setHeader("Content-Type","application/json"),r.setHeader("Accept-Language","en-US");const i=r.send({rsvp:t});return i.then(o.logSuccessAndLatency,o.logFailure),i.then((e=>e.body)).catch((e=>Promise.reject(e)))}getFolders(e){const t=this.ymreqidGenerator.generate(),s=btoa(`g=${this.guid}`);let a=`/cal/ws/v3/users/${encodeURIComponent(s)}/calendars/?wssid=${encodeURIComponent(this.calendarWssid)}&appId=${this.appId}&format=json&ymreqid=${t}`;null!=e&&e.type&&(a+=`&type=${null==e?void 0:e.type}`);const n=new N.Z(N.W.GET,a);n.setHeader("Content-Type","application/json"),n.setHeader("Accept-Language","en-US");const r=n.send().then((e=>{var t,s;return((null===(t=e.body)||void 0===t||null===(s=t.folders)||void 0===s?void 0:s.folder)||[]).map((e=>({id:e.id,name:e.name,isReadOnly:e.isReadOnly})))})).catch(this._handleErrorAndPossiblyRetry("getFolders",e));return this.logRequest(r,{apiName:"getFolders",ymreqid:t}),r}createFolder(e){const{folder:t}=e,s=this.ymreqidGenerator.generate(),a=btoa(`g=${this.guid}`),n=`/cal/ws/v3/users/${encodeURIComponent(a)}/calendars/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${s}`,r=new N.Z(N.W.POST,n);r.setHeader("Content-Type","application/json"),r.setHeader("Accept-Language","en-US");const o=r.send({folder:t}).then((e=>{var t;const s=null==e||null===(t=e.body)||void 0===t?void 0:t.folder;return{folder:{id:s.id,name:s.name,isReadOnly:s.isReadOnly}}})).catch((t=>this._handleErrorAndPossiblyRetry("createFolder",e)(t)));return this.logRequest(o,{apiName:"createFolder",ymreqid:s}),o}patchFolder(e){const{folder:t,folderId:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`),r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${s}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${a}`,o=new N.Z(N.W.PATCH,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send({folder:t}).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.folder;return{folder:{id:s.id,name:s.name,isReadOnly:s.isReadOnly}}})).catch((t=>this._handleErrorAndPossiblyRetry("patchFolder",e)(t)));return this.logRequest(i,{apiName:"patchFolder",folderId:s,ymreqid:a}),i}getTodos(e){const{timezoneName:t}=e,s=this.ymreqidGenerator.generate(),a=btoa(`g=${this.guid}`),n=`/cal/ws/v3/users/${encodeURIComponent(a)}/calendars/todos/?wssid=${encodeURIComponent(this.calendarWssid)}&appId=${this.appId}&format=json&tzid=${t}&ymreqid=${s}`,r=new N.Z(N.W.GET,n);r.setHeader("Content-Type","application/json"),r.setHeader("Accept-Language","en-US");const o=St.feature(S.BrN.EpochCalendarClient,{apiName:"getTodos",parseTodo:!0,ymreqid:s}),i=r.send().then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.todos;return{todos:Tt(null==s?void 0:s.todo,o)}})).catch(this._handleErrorAndPossiblyRetry("getTodos",e));return this.logRequest(i,{apiName:"getTodos",ymreqid:s}),i}getTodo(e){const{uid:t,folderId:s,timezoneName:a}=e,n=this.ymreqidGenerator.generate(),r=btoa(`g=${this.guid}`),o=`/cal/ws/v3/users/${encodeURIComponent(r)}/calendars/${s}/todos/${t}/?wssid=${encodeURIComponent(this.calendarWssid)}&appId=${this.appId}&format=json&tzid=${a}&ymreqid=${n}`,i=new N.Z(N.W.GET,o);i.setHeader("Content-Type","application/json"),i.setHeader("Accept-Language","en-US");const l=i.send().then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.todo;return Tt([s])[0]})).catch(this._handleErrorAndPossiblyRetry("getTodo",e));return this.logRequest(l,{apiName:"getTodo",ymreqid:n}),l}createTodo(e){const{todo:t}=e,s=this.ymreqidGenerator.generate(),a=btoa(`g=${this.guid}`),n=`/cal/ws/v3/users/${encodeURIComponent(a)}/calendars/131/todos/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${s}`,r=new N.Z(N.W.POST,n);r.setHeader("Content-Type","application/json"),r.setHeader("Accept-Language","en-US");const o=r.send({todo:It(t)}).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.todo;return Tt([s])[0]})).catch((t=>this._handleErrorAndPossiblyRetry("createTodo",e)(t)));return this.logRequest(o,{apiName:"createTodo",ymreqid:s}),o}patchTodo(e){const{todo:t,timezoneName:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`),r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${t.folderId}/todos/${t.uid}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&tzid=${s}&ymreqid=${a}`,o=new N.Z(N.W.PATCH,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send({todo:ht(t)}).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.todo;return Tt([s])[0]})).catch(this._handleErrorAndPossiblyRetry("patchTodo",e));return this.logRequest(i,{apiName:"patchTodo",todoUid:t.uid,ymreqid:a}),i}putTodo(e){const{todo:t,timezoneName:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`),r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${t.folderId}/todos/${t.uid}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&tzid=${s}&ymreqid=${a}`,o=new N.Z(N.W.PUT,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send({todo:ht(t)}).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.todo;return Tt([s])[0]})).catch(this._handleErrorAndPossiblyRetry("putTodo",e));return this.logRequest(i,{apiName:"putTodo",todoUid:t.uid,ymreqid:a}),i}deleteTodo(e){const{todoUid:t,folderId:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`),r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${s}/todos/${t}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${a}`,o=new N.Z(N.W.DELETE,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send().then((()=>!0)).catch((t=>this._handleErrorAndPossiblyRetry("deleteTodo",e)(t)));return this.logRequest(i,{apiName:"deleteTodo",todoUid:t,ymreqid:a}),i}getJournals(e){const{fid:t}=e,s=this.ymreqidGenerator.generate(),a=btoa(`g=${this.guid}`),n=`/cal/ws/v3/users/${encodeURIComponent(a)}/calendars/${t}/journals/?&wssid=${encodeURIComponent(this.calendarWssid)}&format=json&ymreqid=${s}&appId=${this.appId}`,r=new N.Z(N.W.GET,n);r.setHeader("Content-Type","application/json"),r.setHeader("Accept-Language","en-US");const o=r.send().then((e=>{var t;return{journals:(null===(t=e.body)||void 0===t?void 0:t.journals)||{}}})).catch(this._handleErrorAndPossiblyRetry("getJournals",e));return this.logRequest(o,{apiName:"getJournals",ymreqid:s}),o}createJournal(e){const{journal:t,folderId:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`);let r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${s}/journals/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${a}`;null!=e&&e.tzid&&(r+=`&tzid=${null==e?void 0:e.tzid}`);const o=new N.Z(N.W.POST,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send({journal:t}).then((e=>{var t;return{journal:null===(t=e.body)||void 0===t?void 0:t.journal}})).catch((t=>this._handleErrorAndPossiblyRetry("createJournal",e)(t)));return this.logRequest(i,{apiName:"createJournal",ymreqid:a}),i}updateJournal(e){const{journal:t,journalUid:s,folderId:a}=e,n=this.ymreqidGenerator.generate(),r=btoa(`g=${this.guid}`),o=`/cal/ws/v3/users/${encodeURIComponent(r)}/calendars/${a}/journals/${s}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${n}`,i=new N.Z(N.W.PUT,o);i.setHeader("Content-Type","application/json"),i.setHeader("Accept-Language","en-US");const l=i.send({journal:t}).then((e=>{var t;return{journal:null===(t=e.body)||void 0===t?void 0:t.journal}})).catch((t=>this._handleErrorAndPossiblyRetry("updateJournal",e)(t)));return this.logRequest(l,{apiName:"updateJournal",journalUid:s,ymreqid:n}),l}deleteJournal(e){const{journalUid:t,folderId:s}=e,a=this.ymreqidGenerator.generate(),n=btoa(`g=${this.guid}`),r=`/cal/ws/v3/users/${encodeURIComponent(n)}/calendars/${s}/journals/${t}/?wssid=${encodeURIComponent(this.calendarWssid)}&format=json&appId=${this.appId}&ymreqid=${a}`,o=new N.Z(N.W.DELETE,r);o.setHeader("Content-Type","application/json"),o.setHeader("Accept-Language","en-US");const i=o.send().then((()=>!0)).catch((t=>this._handleErrorAndPossiblyRetry("deleteJournal",e)(t)));return this.logRequest(i,{apiName:"deleteJournal",journalUid:t,ymreqid:a}),i}_handleErrorAndPossiblyRetry(e,t){return s=>{var a;if(401===s.statusCode&&null!==(a=s.data)&&void 0!==a&&a.responseText){var n;const a=(0,I.OA)(s.data.responseText)||{};if(null!==(n=a.calendarError)&&void 0!==n&&n.wssid){this.calendarWssid=a.calendarError.wssid;try{return this[e](t)}catch(s){return Promise.reject({error:"Bad response",data:s})}}}return Promise.reject(s)}}}var Ot=s(39713);class Dt extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,httpRetry:n,locale:r,environment:o,region:i}){super({loggerName:S.BrN.LocationAutoSuggestClient,loggerParams:t,crumb:s,isOnline:a}),this.httpRetry=n,this.appid=e,this.locale=r,this.region=i,this.environment=o}getLocationSuggestion(e){const t=Ot.Uk,s={text:e.keyword,language:"en-us"},a={locale:this.locale,appid:this.appid,region:this.region,environment:this.environment,...s},n=new N.Z(N.W.GET,t,{timeout:Ot.LX,httpRetry:this.httpRetry});n.setHeader("Accept","application/json");const r=n.send(s);return this.logRequest(r,a),r.then((e=>({suggestions:e.body.result||e.body.results})))}}const Rt=Dt;var Nt=s(28295);const Lt=(0,Nt.Wc)(S.A3t.WEEKLY,(0,Nt.kw)((0,Nt.a9)(S.A3t.WEEKLY),(0,Nt.a9)(S.A3t.MONTHLY),(0,Nt.a9)(S.A3t.YEARLY))),ft=(0,Nt.Wc)({ftype:S.A3t.WEEKLY,fval:0},(0,Nt.Ry)({ftype:Lt,fval:(0,Nt.Wc)("0",(0,Nt.Z_)()).map(parseFloat)})),Mt=(0,Nt.Ry)({domain:(0,Nt.Z_)(),listId:(0,Nt.Wc)("",(0,Nt.Z_)()),fromName:(0,Nt.Wc)("",(0,Nt.Z_)()),fromEmail:(0,Nt.Z_)(),score:(0,Nt.Rx)(),status:(0,Nt.Z_)(),unsubRequestTs:(0,Nt.Wc)("0",(0,Nt.Z_)()).map(parseFloat),frequency:ft,requestStatus:(0,Nt.jt)((0,Nt.Ry)({code:(0,Nt.Wc)("",(0,Nt.Z_)()),message:(0,Nt.Wc)("",(0,Nt.Z_)()),status:(0,Nt.Wc)("success",(0,Nt.kw)((0,Nt.a9)("success"),(0,Nt.a9)("failed")))})),subid:(0,Nt.Z_)(),lastOpened:(0,Nt.Wc)("-1",(0,Nt.Z_)()).map(parseFloat),isUsb:(0,Nt.Wc)("false",(0,Nt.Z_)()),ver:(0,Nt.Z_)(),meta:(0,Nt.Wc)("",(0,Nt.Z_)())}),Pt=(0,Nt.Wc)([],(0,Nt.IX)(Mt)),bt=(0,Nt.Ry)({name:(0,Nt.Z_)(),unsubRequestTs:(0,Nt.Wc)("0",(0,Nt.Z_)()).map(parseFloat),frequency:ft,lastOpened:(0,Nt.Wc)("-1",(0,Nt.Z_)()).map(parseFloat),score:(0,Nt.Rx)(),subscriptions:(0,Nt.IX)(Mt)}),yt=(0,Nt.Ry)({subscription:(0,Nt.Ry)({email:(0,Nt.Ry)({brand:(0,Nt.jt)((0,Nt.IX)(bt)).map((e=>e||[]))}),query:(0,Nt.Wc)({count:0,total:0},(0,Nt.Ry)({count:(0,Nt.Wc)("0",(0,Nt.Z_)()).map(parseFloat),total:(0,Nt.Wc)("0",(0,Nt.Z_)()).map(parseFloat)}))}),status:(0,Nt.jt)((0,Nt.Z_)()),message:(0,Nt.jt)((0,Nt.Z_)()),code:(0,Nt.jt)((0,Nt.Z_)())}),vt=(0,Nt.Ry)({subscription:(0,Nt.Ry)({email:(0,Nt.Ry)({brand:(0,Nt.IX)((0,Nt.Ry)({name:(0,Nt.Z_)(),subscriptions:(0,Nt.IX)((0,Nt.Ry)({name:(0,Nt.jt)((0,Nt.Z_)()),fromEmails:(0,Nt.IX)((0,Nt.Z_)()),meta:(0,Nt.Z_)(),displayName:(0,Nt.Z_)(),description:(0,Nt.Z_)(),subscriptionInfo:(0,Nt.IX)((0,Nt.Ry)({url:(0,Nt.jt)((0,Nt.Z_)()),method:(0,Nt.Z_)()})),recoid:(0,Nt.Z_)()}))}))})}),status:(0,Nt.jt)((0,Nt.Z_)()),message:(0,Nt.jt)((0,Nt.Z_)()),code:(0,Nt.jt)((0,Nt.Z_)())});function Ft(e){return"object"==typeof e&&!!e}class Ut extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,...a}){super({...a,loggerParams:e,loggerName:S.BrN.SubscriptionAPIClient}),this.appid=t,this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q),this.host=`${this.endpoints.BOOTCAMP_HOST}/f/subscription`}unsubscribeByEmail({messageId:e,accountId:t,mailboxId:s}){const{wssid:a,appid:n}=this,r=this.ymreqidGenerator.generate(),o=(0,E.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),i=new N.Z(S.f2m.POST,`${this.host}/email/unsubscribe/${e}?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const l=i.send().then((e=>{const t=Ft(e.body)?e.body:{};if("failed"===t.status)throw new C.Z("ApiError",String(t.message||"unsubscribeByEmail error"),{errorCode:t.code});return t}));return this.logRequest(l,{apiName:"unsubscribeByEmail",appId:n,ymreqid:r}),l}unsubscribeByBrand({subscriptions:e,accountId:t,mailboxId:s}){const{wssid:a,appid:n}=this,r=this.ymreqidGenerator.generate(),o=(0,E.stringify)({acctid:t,mboxid:s,wssid:a,appid:n,ymreqid:r}),i=new N.Z(S.f2m.POST,`${this.host}/email/unsubscribe?${o}`);i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={subscriptions:e},c=i.send(l).then((e=>{const t=Ft(e.body)?e.body:{};if("failed"===t.status)throw new C.Z("ApiError",String(t.message||"unsubscribeByBrand error"),{errorCode:t.code});return{subscriptions:Pt.runWithException(t.subscriptions)}}));return this.logRequest(c,{apiName:"unsubscribeByBrand",appId:n,ymreqid:r}),c}getSubscriptions({mailboxId:e,accountId:t,email:s,sort:a}){const{wssid:n,appid:r}=this,o=this.ymreqidGenerator.generate(),i=(0,E.stringify)({acctid:t,mboxid:e,wssid:n,appid:r,ymreqid:o,email:s,sort:a}),l=new N.Z(S.f2m.GET,`${this.host}/email/brand?${i}`);l.setHeader("Accept","application/json"),l.withCredentials=!0;const c=l.send().then((({body:e})=>yt.runWithException(e))).then((e=>{if("failed"===e.status)throw new C.Z("ApiError",e.message,{errorCode:e.code});return e}));return this.logRequest(c,{apiName:"subscriptions",appId:r,ymreqid:o}),c}getSubhubRecommendations({mailboxId:e,accountId:t,email:s,sort:a,brandowner:n,count:r}){const{wssid:o,appid:i}=this,l=this.ymreqidGenerator.generate(),c=(0,E.stringify)({acctid:t,mboxid:e,wssid:o,appid:i,ymreqid:l,email:s,sort:a,count:r}),d=void 0!==n?"&brandowner="+n:"",_=new N.Z(S.f2m.GET,`${this.host}/email/recommended/brand?${c}${d}`);_.setHeader("Accept","application/json"),_.withCredentials=!0;const u=_.send().then((({body:e})=>vt.runWithException(e))).then((e=>{if("failed"===e.status)throw new C.Z("ApiError",e.message,{errorCode:e.code});return e}));return this.logRequest(u,{apiName:"subscriptionRecommendations",appId:i,ymreqid:l,sort:a,brandOwner:n||"undefined"}),u}}class kt extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,locale:n,environment:r,region:o}){super({loggerName:S.BrN.RelatedSearchesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.appid=e,this.locale=n,this.region=o,this.environment=r}request(){const e={apiName:"relatedSearches",appId:this.appId,locale:this.locale,region:this.region,environment:this.environment},t=new N.Z(N.W.GET,"https://s.yimg.com/yo/m2s/EXP/test.json");t.setHeader("Accept","application/json");const s=t.send();return this.logRequest(s,e),s}}var wt=s(81463),Gt=s.n(wt);const Ht=_e().create("norrin/astra_client"),Bt="Retailer";function xt(e,t,s){(0,T.apiPassiveErrorLogger)({logger:Ht,loggerName:S.BrN.AstraClient,apiName:e,statusCode:t,errorCode:s,message:`${e} request failed`})}function Vt(e=[]){return e.filter((e=>e["@id"]&&e.name)).map((e=>{const t=e.name.split(">"),s=t[t.length-1];return{id:e["@id"],name:s,level:t.length}})).reduce(((e,t)=>(e.some((e=>e.id===t.id))||e.push(t),e)),[])}function Zt(e=null){var t,s,a,n,r;if(!e)return[];let o=[];const i=(null===(t=e.discountType)||void 0===t?void 0:t.charAt(0).toLowerCase())+(null===(s=e.discountType)||void 0===s?void 0:s.slice(1)),l=(null===(a=e[i])||void 0===a?void 0:a.value)||(null===(n=e[i])||void 0===n?void 0:n.maxValue)||"",c=(null===(r=e[i])||void 0===r?void 0:r.currency)||"";switch(i){case S.eN2.PERCENT_OFF:var d;if(l>0&&l<100)o=[{discountType:i,hasUpToField:!(null===(d=e[i])||void 0===d||!d.maxValue),value:`${l}%`}];break;case S.eN2.MONEY_OFF:var _;if(l>0)o=[{discountType:i,hasUpToField:!(null===(_=e[i])||void 0===_||!_.maxValue),value:`${c}${l}`}];break;case S.eN2.FREE_SHIPPING:o=[{discountType:i}]}return o}function Wt(e={}){var t,s,a,n,r,o,i,l;const c=e["@id"],{description:d="",url:_="",retailer:{name:E="",logo:{contentUrl:u=""}={}}={},category:m=[],validThrough:S="",saved:p="",additionalProperties:C=[],discountInfo:A,images:T=[]}=e,I=(null===(t=C.find((e=>"messageId"===e.propertyID)))||void 0===t?void 0:t.value)||(null===(s=C.find((e=>"MessageSource"===e["@type"])))||void 0===s?void 0:s.messageId)||"",h=(null===(a=C.find((e=>"senderEmail"===e.propertyID)))||void 0===a?void 0:a.value)||(null===(n=C.find((e=>"MessageSender"===e["@type"])))||void 0===n||null===(r=n.senderEmail)||void 0===r?void 0:r[0])||"",g=(null===(o=C.find((e=>"ccid"===e.propertyID)))||void 0===o?void 0:o.value)||"",O=(null===(i=T[0])||void 0===i?void 0:i.url)||"",D=(null===(l=m.find((e=>"Great Savings"===e.name)))||void 0===l?void 0:l.name)||"",R=Zt(A);return{categories:Vt(m),cardConversationId:g,cmid:c,dealLink:_,description:d,discountInfo:R,imageUrl:O,parentMessageId:I,retailer:E,retailerLogoUrl:u,saved:"true"===p,senderEmails:[h],src:"sndr",unusualDiscount:D,validThrough:S}}function Kt(e={}){if(void 0===e.result)throw new C.Z("AstraApiClient.AffiliateOffersError");const{result:t={},statusCode:s=-1}=e;return{statusCode:s,affiliateProducts:(t.cards||[]).map((e=>{var t,s,a,n,r,o,i,l,c;const d=(null==e?void 0:e.data)||{},_=d["@id"],E=(null===(t=d.priceSpecification)||void 0===t?void 0:t.priceCurrency)||"USD",u=Gt()(E),m=d.description||"",S=(null===(s=d.images)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.url)||(null===(n=d.images)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.contentUrl)||"";let p=null===(o=d.originalPriceSpecification)||void 0===o?void 0:o.price,C=null===(i=d.priceSpecification)||void 0===i?void 0:i.price;const A=d.url||"",T=Vt(d.category),I=void 0===d.saved?void 0:"true"===d.saved,h=(null===(l=d.score)||void 0===l||null===(c=l.scoreValue)||void 0===c?void 0:c.toString())||"0.0";var g,O;p&&(p=`${u}${null===(g=Number(p))||void 0===g?void 0:g.toFixed(2)}`);C&&(C=`${u}${null===(O=Number(C))||void 0===O?void 0:O.toFixed(2)}`);return{categories:T,description:m,imgUrl:S,originalPrice:p,price:C,productId:_,saved:I,url:A,score:h}}))}}function zt(e={}){var t,s;const a=e.statusCode,n=null===(t=e.error)||void 0===t?void 0:t.code;if(400===a&&"EC-4003"===n)throw new C.Z(A.bD,{errorCode:n,statusCode:a,wssid:"Wrong astra wssid"});if(void 0===e.result)throw new C.Z("AstraApiClient.StorefrontModulesError");const{result:{cards:r=[]},userInfo:o={}}=e,{astraEGuid:i=""}=o,l=(null===(s=(r.find(((e={})=>(e.cardType||"").includes(Bt)))||{}).data)||void 0===s?void 0:s.senderEmailIds)||[],c=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t.dealTypes)||[]).includes(S.WSI.COUPON)})).reduce(((e,t={})=>{var s;return[...e,...(null===(s=t.data)||void 0===s?void 0:s.coupons)||[]]}),[]),d=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t.dealTypes)||[]).includes(S.WSI.PRODUCT_OFFER)})).reduce(((e,t={})=>{var s;return[...e,...(null===(s=t.data)||void 0===s?void 0:s.productOffers)||[]]}),[]),_=c.map((e=>Wt(e))).filter((e=>!!e.description)),E={},u=d.map(((e={})=>{var t,s,a;const n=e["@id"],{url:r="",description:o="",priceSpecification:{priceCurrency:i="USD",price:l},originalPriceSpecification:{price:c},images:d=[],category:_=[]}=e,u=(null===(t=d[0])||void 0===t?void 0:t.contentUrl)||"",m=Gt()(i),S=_.map((e=>e["@id"]));return _.forEach((e=>{const t=e["@id"],{name:s,level:a}=e;E[t]?E[t].productIds.push(n):E[t]={id:t,name:s,level:a,productIds:[n]}})),{productId:n,description:o,imgUrl:u,originalPrice:c?`${m}${null===(s=Number(c))||void 0===s?void 0:s.toFixed(2)}`:"",price:l?`${m}${null===(a=Number(l))||void 0===a?void 0:a.toFixed(2)}`:"",url:r,categoryIds:S}})),m=r.filter(((e={})=>{var t;return((null===(t=e.data)||void 0===t?void 0:t["@type"])||[]).includes(S.WSI.PAYMENT_DETAIL)})).map(((e={})=>{var t,s,a,n,r,o;const i=e.cardId,l=null==e||null===(t=e.sources)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.messageId,c=null==e||null===(a=e.data)||void 0===a?void 0:a.total,d=(null==c?void 0:c.currency)||"USD",_=Gt()(d),E=null!=c&&c.value?`${_}${null===(n=Number(c.value))||void 0===n?void 0:n.toFixed(2)}`:"",{inferredOrderDate:u="",orderDate:m="",orderedItem:S=[],orderNumber:p="",orderStatus:C="",seller:A={}}=null==e||null===(r=e.data)||void 0===r||null===(o=r.paymentFor)||void 0===o?void 0:o[0];return{cardId:i,messageId:l,orderDate:m||u,orderedItems:S.map((e=>{var t,s,a;const{category:n=[],image:r={},name:o="",offers:i=[]}=e,l=(null==i||null===(t=i[0])||void 0===t?void 0:t.priceCurrency)||"USD",c=Gt()(l),d=null!=i&&null!==(s=i[0])&&void 0!==s&&s.price?`${c}${null===(a=Number(i[0].price))||void 0===a?void 0:a.toFixed(2)}`:"";return{category:n,image:null==r?void 0:r.contentUrl,itemId:e["@id"],name:o,price:d}})),orderNumber:p,orderStatus:C,price:E,seller:A}}));return{astraEGuid:i,dealsToSave:_,statusCode:a,storefrontBrandCategories:E,storefrontBrandEmailIds:l,storefrontProductsModule:u,storefrontReceiptsModule:m}}function Yt({responseText:e,astraWssid:t}={}){if(!e)throw new C.Z("AstraApiClient.BatchCallError");const s={astraWssid:t},a=(null==e?void 0:e.split("\n"))||[];let n="";return a.forEach((e=>{e.startsWith("Content-RequestId: ")?n=e.split(":")[1].trim():e.startsWith('{"')&&(s[n]=e)})),Object.keys(s).forEach((e=>{if("astraWssid"===e)return;const t=JSON.parse(s[e]);switch(e){case S.G1D.STOREFRONT_BRANDS:case S.G1D.AFFILIATE_RETAILERS:s[e]=function(e={}){var t;200!==e.statusCode&&xt(e.id||S.G1D.STOREFRONT_BRANDS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:s=[],statusCode:a=-1,userInfo:n={}}=e,{astraEGuid:r=""}=n;return{astraEGuid:r,brands:s.map(((e={},t)=>{var s;const{domain:a,facebookUrl:n,featured:r,followed:o,logo:i={},name:l,twitterUrl:c,url:d,aggregateOffers:_=[],emailDomains:E=[]}=e;return{domain:a,facebookUrl:n,featured:"true"===r,followed:"true"===o,brandId:e["@id"],logo:i.contentUrl,name:l,twitterUrl:c,website:d,hasAffiliateProducts:_.some((e=>e.dealType===S.WSI.PRODUCT_OFFER&&e.offerCount>10)),newDealsCount:Number(null===(s=_.find((e=>e.dealType===S.WSI.COUPON)))||void 0===s?void 0:s.newOfferCount),brandDomains:E,affinityNumber:t+1}})),statusCode:a}}(t);break;case S.G1D.ALL_INBOX_DEALS:s[e]=function(e={}){var t;200!==e.statusCode&&xt(S.G1D.ALL_INBOX_DEALS,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:{cards:s=[]}={},statusCode:a=0,userInfo:n={}}=e,{astraEGuid:r=""}=n;return{astraEGuid:r,recommendedAndStaticDeals:s.map((e=>{var t,s,a,n,r,o,i;const l=(null==e||null===(t=e.sources)||void 0===t||null===(s=t.find((e=>"MessageSource"===e["@type"])))||void 0===s?void 0:s.messageId)||"",c=(null==e||null===(a=e.sources)||void 0===a||null===(n=a.find((e=>"MessageSender"===e["@type"])))||void 0===n?void 0:n.senderEmail)||[],{cardId:d="",data:_={}}=e,{broker:E={},description:u="",url:m="",retailer:{name:p="",logo:{contentUrl:C=""}={}}={},category:A=[],validThrough:T="",score:I="",saved:h=""}=_,g=(null==_||null===(r=_.images)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url)||"",O=Zt(null==_?void 0:_.discountInfo),D=Vt(A),R=(null===(i=A.find((e=>"Great Savings"===e.name)))||void 0===i?void 0:i.name)||"",N=parseFloat(I)||0;let L="";return"Inbox"===(null==E?void 0:E.name)?L=S.WSI.RECOMMENDED_DEAL:"yahoo"===(null==E?void 0:E.name)&&(L=S.WSI.STATIC_DEAL),{id:d,messages:[{id:d,schemaCards:[{id:d,type:"Coupon",categories:D,cmid:d,dealLink:m,dealType:L,description:u,discountInfo:O,imageUrl:g,parentMessageId:l,relevanceScore:N,retailer:p,retailerLogoUrl:C,saved:"true"===h,senderEmails:c,src:"sndr",unusualDiscount:R,validThrough:T}]}]}})).sort(((e,t)=>t.messages[0].schemaCards[0].relevanceScore-e.messages[0].schemaCards[0].relevanceScore)),statusCode:a}}(t);break;case S.G1D.CATEGORY_FOLLOWING_LIST:s[e]=function(e={}){var t,s,a;200!==e.statusCode&&xt(S.G1D.CATEGORY_FOLLOWING_LIST,e.statusCode,null===(a=e.error)||void 0===a?void 0:a.code);const n=(null==e?void 0:e.statusCode)||-1,r=(null==e||null===(t=e.error)||void 0===t?void 0:t.code)||(200===n?"":"Unknown");return{astraEGuid:(null==e||null===(s=e.userInfo)||void 0===s?void 0:s.astraEGuid)||"",followedCategoryList:((null==e?void 0:e.result)||[]).map((e=>(e.id=e["@id"],e.type=e["@type"],(0,h.oF)(e,["@id","@type"])))),statusCode:n,errorCode:r}}(t);break;case S.G1D.SPICE_TO_GPT:s[e]=function(e={}){var t;200!==e.statusCode&&xt(e.id||S.G1D.SPICE_TO_GPT,e.statusCode,null===(t=e.error)||void 0===t?void 0:t.code);const{result:s=[],statusCode:a=-1}=e;return{mapping:s.map(((e={})=>{var t,s;return{[null===(t=e.taxonomyProperties)||void 0===t?void 0:t.topicId]:null===(s=e.relatedCategories)||void 0===s?void 0:s.map((e=>({id:e["@id"],name:e.name})))}})),statusCode:a}}(t)}})),s}function jt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class qt{constructor({config:e,httpRetry:t,wssid:s}){jt(this,"transport",((e,t=N.W.GET)=>{const s=new N.Z(t,e,{httpRetry:this.httpRetry});return s.setHeader("Accept","application/json"),s.withCredentials=!0,this.astraBucketHeaderString&&s.setHeader("X-astra-bucket",this.astraBucketHeaderString),s})),jt(this,"checkForAstraWssid",(e=>{if(this.isItFirstAstraCall){this.isItFirstAstraCall=!1;const t=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared&ymreqid=${e}`;return this.transport(t).send().then((e=>{var t,s,a,n,r;200===(null==e||null===(t=e.body)||void 0===t?void 0:t.statusCode)&&"EC-4003"===(null==e||null===(s=e.body)||void 0===s||null===(a=s.error)||void 0===a?void 0:a.code)&&(this.astraWssid=(null==e||null===(n=e.body)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.astraWssid)||"")}))}return new Promise((e=>{setTimeout((()=>e("done!")),400)}))})),jt(this,"getAstraWssidParam",(async e=>(await this.checkForAstraWssid(e),this.astraWssid?`&astraWssid=${this.astraWssid}`:Promise.reject("Astra wssid not found")))),this.astraWssid="",this.httpRetry=t,this.isItFirstAstraCall=!0,this.wssid=s,this.namespace=e.aolUser?S.Tzw.AOL:S.Tzw.YAHOO,this.host=(e[S.ANe.ASTRA_YCPI_HOST]?"":`https://astra.commerce.${this.namespace}.com`)+"/astra/v1";const a=(e.bucketMetainfo||[]).filter((e=>"astra"in e)).map((e=>e.astra));this.astraBucketHeaderString=a.reduce(((e,t)=>{for(const s in t)e=e.concat(`${s}=${t[s]}`);return e}),[]).join("&")}async astraBatchApi({ymreqid:e="",accountId:t="",appid:s="",mailboxId:a="",batchEnabledFeatures:n=[],isMobileRoute:r=!1}){const o=await this.getAstraWssidParam(e),i=r?`&wssid=${this.wssid}`:"",l=`${this.host}/user/batch?q=cardView:Deal&accountId=1${o}&ymreqid=${e}&appid=${s}&mailboxId=${a}${i}`,c={requests:[(n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)||n.includes(S.ANe.FETCH_AFFILIATE_RETAILERS))&&{id:n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)?S.G1D.STOREFRONT_BRANDS:S.G1D.AFFILIATE_RETAILERS,uri:n.includes(S.ANe.STOREFRONT)||n.includes(S.ANe.SHOW_SEARCH_CONTACT_CARD)?"/astra/v1/user/retailers?source=inbox&accountId=1&viewContext=shopping&limit=100":`/astra/v1/user/retailers?accountId=${t}&source=inbox`,method:S.f2m.GET},n.includes(S.ANe.SHOW_USER_FOLLOWED_CATEGORIES)&&{id:S.G1D.CATEGORY_FOLLOWING_LIST,uri:"/astra/v1/user/categories?source=inbox&type=inferred&accountId=1",method:S.f2m.GET}].filter(Boolean)},d=this.transport(l,N.W.POST);return d.setHeader("Accept","multipart/form-data"),n.includes(S.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA)&&d.setHeader("X-astra-bucket",this.astraBucketHeaderString+"cardsService.includeLastOneMonthInboxDealsInTopDeals=true&cardsService.sortLastOneMonthInboxDealsByExpiryTime=true"),d.send(c).then((e=>Yt({responseText:e.text,astraWssid:this.astraWssid})))}async combineDealsApi({ymreqid:e="",appid:t="",mailboxId:s="",isMobileRoute:a=!1}){const n=await this.getAstraWssidParam(e),r=a?`&wssid=${this.wssid}`:"",o=`${this.host}/user/batch?q=cardView:Deal&accountId=1${n}&ymreqid=${e}&appid=${t}&mailboxId=${s}${r}`,i={requests:[{id:S.G1D.ALL_INBOX_DEALS,uri:"/astra/v1/user/cards?q=cardView:Deal+AND+source:inbox,yahoo&sortBy=score&accountId=1&limit=1000",method:S.f2m.GET}]},l=this.transport(o,N.W.POST);return l.setHeader("Accept","multipart/form-data"),l.setHeader("X-astra-bucket",this.astraBucketHeaderString+"cardsService.includeLastOneMonthInboxDealsInTopDeals=true&cardsService.sortLastOneMonthInboxDealsByExpiryTime=true"),l.send(i).then((e=>Yt({responseText:e.text,astraWssid:this.astraWssid})))}async affiliateOffersApi({ymreqid:e="",brandId:t=""}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/cards?q=cardView:Deal+AND+source:affiliate+AND+data.dealType:ProductOffer+AND+retailer:${t}&sortBy=score&accountId=1&limit=15${s}&ymreqid=${e}`;return this.transport(a).send().then((e=>Kt(e.body)))}async storefrontModulesApi({ymreqid:e="",accountId:t=1,brandId:s,appid:a=""}){const n=await this.getAstraWssidParam(e),r=`${this.host}/user/cards?q=retailer:${s}&accountId=${t}&appid=${a}&viewContext=storefrontBrandShortcut&siteId=us-inbox${n}&limit=${S.JaR}&ymreqid=${e}`;return this.transport(r).send().then((e=>zt(e.body)))}async storefrontDealsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:Deal%20AND%20retailer:${s}&sortBy=cardCreateTime&accountId=${t}&viewContext=storefrontBrandShortcut&siteId=us-inbox${a}&ymreqid=${e}&limit=100`;return this.transport(n).send().then((e=>function(e={}){if(void 0===e.result)throw new C.Z("AstraApiClient.StorefrontDealsError");const{result:t={},statusCode:s=-1}=e;return{statusCode:s,dealsToSave:(t.cards||[]).map((e=>Wt({...e.data,additionalProperties:e.sources}))).filter((e=>!!e.description))}}(e.body)))}async storefrontProductsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:Deal+AND+source:affiliate+AND+data.dealType:ProductOffer+AND+retailer:${s}&accountId=${t}${a}&ymreqid=${e}&limit=100`;return this.transport(n).send().then((e=>Kt(e.body)))}async storefrontReceiptsApi({ymreqid:e="",accountId:t=1,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/cards?q=cardView:PaymentDetail+AND+retailer:${s}&sortBy=cardCreateTime&accountId=${t}${a}&ymreqid=${e}`;return this.transport(n).send().then((e=>zt(e.body)))}async resetStorefrontNewDealCountApi({ymreqid:e="",accountId:t=1}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/retailers?source=inbox,storefrontAffiliate&resetNewCount=true&accountId=${t}${s}&ymreqid=${e}`;return this.transport(a,S.f2m.POST).send().then((e=>e.body))}async clipCoupon({ymreqid:e="",cardMid:t="",mailboxId:s="",wssid:a="",clipping:n=!0}){const r=await this.getAstraWssidParam(e),o=`${this.host}/user/cards/${t}?accountId=1${r}&mailboxId=${s}&wssid=${a}&ymreqid=${e}`,i={action:n?"save":"unsave",source:"inbox"};return this.transport(o,N.W.POST).send(i).then((e=>e.body))}async firstCategoryFollowApi({ymreqid:e="",id:t="",name:s=""}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=1${a}&ymreqid=${e}`,r={"shopping.affinity.productCategory.name=categoryFollow.type=Declared":{"@type":"ItemList",itemListElement:[{"@id":t,"@type":"CategoryListItem",name:s}]}};return this.transport(n,N.W.POST).send(r).then((e=>e.body))}async categoryFollowApi(e){const{ymreqid:t="",id:s="",name:a=""}=e,n=await this.getAstraWssidParam(t),r=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${n}&ymreqid=${t}`,o=[{op:"add",path:"/itemListElement/-",value:{"@id":s,"@type":"CategoryListItem",name:a}}];return this.transport(r,N.W.PATCH).send(o).then((e=>e.body))}async categoryUnfollowApi({ymreqid:e="",id:t=""}){const s=await this.getAstraWssidParam(e),a=`${this.host}/user/profile?accountId=1&attribute=shopping.affinity.productCategory.name=categoryFollow.type=Declared${s}&ymreqid=${e}`,n=[{op:"remove",path:`/itemListElement/[@id==${t}]`}];return this.transport(a,N.W.PATCH).send(n).then((e=>e.body))}async storefrontBrandFollowApi({ymreqid:e="",accountId:t,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=${t}&attribute=shopping.affinity.merchantAffinity.name=retailerFollow.type=Declared${a}&ymreqid=${e}`,r=[{op:"add",path:"/itemListElement/-",value:{"@id":s,"@type":"RetailerListItem"}}];return this.transport(n,N.W.PATCH).send(r).then((e=>e.body))}async storefrontBrandUnfollowApi({ymreqid:e="",accountId:t,brandId:s}){const a=await this.getAstraWssidParam(e),n=`${this.host}/user/profile?accountId=${t}&attribute=shopping.affinity.merchantAffinity.name=retailerFollow.type=Declared${a}&ymreqid=${e}`,r=[{op:"remove",path:`/itemListElement/[@id==${s}]`}];return this.transport(n,N.W.PATCH).send(r).then((e=>e.body))}}class Xt extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,astraHost:s,cookie:a,guidHash:n,headers:r,httpRetry:o,wssid:i,timezone:l={},config:c={}}){super({loggerName:S.BrN.AstraClient,loggerParams:e}),this._request=new qt({appId:t,astraHost:s,cookie:a,headers:r,httpRetry:o,config:c,wssid:i}),this.appId=t,this.wssid=i,this.config=c,this.timezone=l.name,n&&(this.ymreqidGenerator=new g.Z(n,S.N7x,S.Q_q))}getDefaultUrlParams(){return{appid:this.appId,wssid:this.wssid,timezone:this.timezone,config:this.config,ymreqid:this.ymreqidGenerator.generate()}}getAstraBatchResponse(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.astraBatchApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontModules(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontModulesApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontDeals(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontDealsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getCombineDeals(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.combineDealsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontProducts(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontProductsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getStorefrontReceipts(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontReceiptsApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestStorefrontBrandFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontBrandFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestStorefrontBrandUnfollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.storefrontBrandUnfollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}resetStorefrontNewDealCount(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.resetStorefrontNewDealCountApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}getAffiliateOffers(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.affiliateOffersApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestSaveCoupon(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestUnsaveCoupon(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.clipCoupon(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestFirstCategoryFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.firstCategoryFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestCategoryFollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.categoryFollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}requestCategoryUnfollow(e,t){const s=this.getDefaultUrlParams(),{ymreqid:a}=s,n={apiName:e,ymreqid:a},r=this._request.categoryUnfollowApi(Object.assign(s,t));return this.logRequest(r,n),r.catch((t=>{throw t=this.handleCommonError(t,e)}))}request(e,t){return this[e](e,t)}}const Qt="NODE_TO_ATHENA_STRATEGY",Jt=["WEB_DESKTOP","WEB_MOBILE","MOBILE_IOS","MOBILE_ANDROID"],$t={"google chrome":"Chrome","mozilla firefox":"Firefox"};const{ATHENA_HOST_MTLS:es,TOKEN_FILE:ts,KEY_FILE:ss,CERT_FILE:as}=Y.bO;const ns={[Qt]:class{constructor({athenaHost:e,cookie:t,headers:s}){this.cookie=t,this.athenaHost=e,this.headers=s}_setCustomHeaders(e,t={}){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}userProfileApi(e){const t=(0,Y.Sf)(),s=(t?es:this.athenaHost)+"/v3/commsdata/userprofile?",a=t?(0,Y.Ow)({keyPath:ss,certPath:as}):{},n=t?(0,Y.Fc)({tokenJsonPath:ts}):null,r=new N.Z("GET",s,{timeout:1250,tls:a});return n&&n.key&&r.setHeader("Athenz-Authorization",`Bearer ${n.key}`),r.setHeader("Accept","application/json"),r.setCookieHeader(this.cookie),this._setCustomHeaders(r,this.headers),r.withCredentials=!0,r.send(e).then((e=>function(e){var t,s,a,n,r;const o=(null==e||null===(t=e.commsDataUserProfile)||void 0===t||null===(s=t.result)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.userProfile)||{},i=o.attributesList||[],l=(null===(n=o.attributes)||void 0===n||null===(r=n.adBlock)||void 0===r?void 0:r.adBlockers)||[];let c={},d={};return Array.isArray(i)&&(c=i.filter((e=>!(!e||!e.platform)&&-1!==Jt.indexOf(e.platform))).reduce(((e,t)=>({...e,[t.platform]:t})),{})),Array.isArray(l)&&(d=l.filter((e=>!(null==e||!e.browserName))).reduce(((e,t)=>{const{browserName:s,detectedAdBlockers:a=[]}=t;return{...e,[$t[s]||s]:a}}),{})),{userSegmentData:c,userAdBlockerData:d}}(JSON.parse(e.text))))}}};class rs extends u.Z{constructor({appId:e=S.JfS,strategy:t=Qt,guidHash:s,wssid:a,crumb:n,isOnline:r,cookie:o,athenaHost:i,headers:l,timezone:c,loggerParams:d}){super({loggerName:S.BrN.AthenaClient,loggerParams:d,crumb:n,wssid:a,isOnline:r}),(0,m.Z)(t===Qt,`Invalid strategy ${t}`),this.appId=e,this.cookie=o,this.athenaHost=i,this.timezone=c,this.strategy=t,this._request=new ns[t]({headers:l,athenaHost:i,cookie:o}),s&&(this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q))}request(e,t){return this[e](e,t)}getUserProfileData(e,t){const s={apiName:e},a=this._request.userProfileApi(Object.assign({appId:this.appId},t));return this.logRequest(a,s),a}}const os=rs,is=_e().create("norrin/video_client"),ls=S.JKT+"/video_api";class cs extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,guidHash:a}){super({loggerName:S.BrN.ObiApiClient,loggerParams:t,crumb:s}),this.proxyURL=`${S.jQ2}/obi/`,this.crumb=s,this.appid=e,a&&(this.ymreqidGenerator=new g.Z(a,S.N7x,S.Q_q))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a={apiName:e,appId:this.appId,params:t};t={...t,crumb:this.crumb,ymreqid:s};const n=this.proxyURL+e,r=new N.Z(N.W.GET,n);r.setHeader("Accept","application/json");const o=r.send(t);return this.logRequest(o,a),o}}var ds=s(42907);const _s="/",Es=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"GET",payloadType:"embedded"}),us=(e,{appId:t}={appId:S.JfS})=>{const s=function(e){const t="@B@Bulk",s="Spam",a="DELETE_IN_PROGRESS";return e.filter((e=>e.status!==a)).map((e=>{let a=!0,n=e.name;return-1!==e.types.indexOf(S.Sck.USER)&&(a=!1),n===t&&(n=s),{unread:e.unread,total:e.total,types:e.types,name:n,path:n,id:e.id,isSystem:a,accountId:e.acctId,highestModSeq:e.highestModSeq,uidNext:e.uidNext,uidValidity:e.uidValidity}}))}(e.response.result.folders),a=t&&t.includes(S.L1J);return s.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),function(e,t=!1){const s=[],a={};return e.forEach((e=>{a[e.accountId]||(a[e.accountId]={}),a[e.accountId][e.name]=e})),e.forEach((e=>{var n;const r=a[e.accountId],o=e.name;let i=!0;-1!==o.indexOf(_s)&&(e.isSystem||!o.startsWith(_s)&&!r[o.substr(0,o.indexOf(_s))])&&(i=!1);const l="Saved/";if(t&&null!==(n=e.name)&&void 0!==n&&n.startsWith(l)){const t=e.name,s=e.name.replace(l,"");r[s]||(e.name=s,e.path=s,r[s]=r[t],delete r[t])}const c=(0,ds.b8)(e,r,i),d=0;(0,ds.PH)(s,e,c,d)})),s}(s,a)};const ms="GetFolders",Ss={getBatchPayload:({mailboxId:e})=>({requests:[Es(ms,{mailboxId:e})]}),transformResponses:({successMap:e})=>({folders:us(e[ms])})},ps=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/@.id==${t.folderId}`,method:"DELETE"}),Cs="DeleteFolders",As={getBatchPayload:({mailboxId:e,folderId:t})=>({requests:[ps(Cs,{mailboxId:e,folderId:t})]}),transformResponses:()=>1},Ts=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders`,method:"PUT",payloadType:"embedded",payload:{folder:{types:[S.Sck.USER],acctId:t.accountId,name:t.folderName}}}),Is=e=>{const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,path:t.name,isSystem:!1,accountId:t.acctId,highestModSeq:t.highestModSeq,uidNext:t.uidNext,uidValidity:t.uidValidity}},hs="CreateFolders",gs={getBatchPayload:({mailboxId:e,accountId:t,folderName:s})=>({requests:[Ts(hs,{mailboxId:e,accountId:t,folderName:s})]}),transformResponses:({successMap:e})=>({folder:Is(e[hs])})},Os={getBlockPayload:(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/folders/${t.folderId}`,method:"POST",payloadType:"embedded",payload:{folder:{name:t.folderName}}}),transformResponse(e){const t=e.response.result;return{id:t.id,unread:t.unread,total:t.total,types:t.types,name:t.name,isSystem:!1,accountId:t.acctId}}},Ds=(e,t)=>`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${t}`,Rs={getBlockPayload:(e,t)=>{const{mailboxId:s,value:a}=t,n=Ds(s,e);return{id:e,method:"POST",uri:n,payload:{id:e,link:{type:"RELATIVE",href:n},value:a}}},get getChainedBlockPayload(){return(e,{mailboxId:t,value:s})=>{const{getSaveBlockPayload:a}=this;let n;return-1!==[S.CbW.DELIVERY_BLOCKED_SENDERS,S.CbW.MESSAGE_FILTERS,S.CbW.CONSENT_EVENTS].indexOf(e)?a(e,{mailboxId:t,value:s}):(n={select:{testAndSet:"$..value.testAndSet"}},{id:"GetMailboxAttribute_"+e,uri:Ds(t,e),method:"GET",filters:n,requests:[a(e,{mailboxId:t,value:s})]})}},getSaveBlockPayload:(e,{mailboxId:t,value:s})=>{const a=Ds(t,e),n=[S.CbW.DELIVERY_BLOCKED_SENDERS,S.CbW.VACATION_PREFERENCES,S.CbW.MESSAGE_FILTERS,S.CbW.CONSENT_EVENTS];let r;return-1===n.indexOf(e)&&(s.testAndSet="$(testAndSet)"),-1===n.indexOf(e)&&(r={select:{testAndSet:"$..value.testAndSet"}}),{id:"SetMailboxAttribute_"+e,method:"POST",uri:a,payload:{id:e,link:{type:"RELATIVE",href:a},value:s},filters:r}},get getMultiAttributeChain(){return({mailboxId:e,attributes:t})=>{const{getChainedBlockPayload:s}=this,a=t.map((({id:t,value:a})=>s(t,{mailboxId:e,value:a}))),n=a[0];let r;return a.forEach((e=>{r?r.requests?(r.requests[0].requests=[e],r=e):(r.requests=[e],r=e):r=e})),{requests:[n]}}},transformResponse:()=>1},Ns="RenameFolders",Ls="messageFilters",fs={getBatchPayload({mailboxId:e,folderId:t,folderName:s,filters:a,useSavedSearchForFilters:n,subfolders:r=[]}){const o=Os.getBlockPayload(Ns+t,{mailboxId:e,folderId:t,folderName:s}),i=r.map((({folderId:t,folderName:s})=>Os.getBlockPayload(Ns+t,{mailboxId:e,folderId:t,folderName:s})));return 0===a.length||n?{requests:[o,...i]}:{requests:[{...o,requests:[Rs.getBlockPayload(Ls,{mailboxId:e,value:{filters:a}})]},...i]}},transformResponses:(e,t)=>({folder:Os.transformResponse(e.successMap[Ns+t.folderId]),subfolders:Object.keys(e.successMap).filter((e=>e!==Ns+t.folderId&&e!==Ls)).map((t=>Os.transformResponse(e.successMap[t]))),...e.successMap[Ls]?{messageFilters:e.successMap[Ls]}:{}})};var Ms=s(79137);const Ps={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,isAsync:n,deleteDuplicates:r})=>{if(!s&&!a)throw new Error("POST Delete Message requires either a list of ids or a query string.");const o=[];s&&o.push(`id:(${s.join(" ")})`),a&&o.push(a);const i=encodeURIComponent(o.join(" AND ")),l=r?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"DELETE"}]}}(e,t,i):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"DELETE"}}(e,t,i);return n&&(l.uri+="&async=true"),l},getBatchError:({failureMap:e})=>"EC-4007"===(0,h.u9)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ms.Z(A.dO,e):null,transformResponse:()=>1};const bs={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"GET"}),transformResponse(e){const t=e.response.result;if(!t)return{};const s=t.task;return s?{id:s.id,link:s.link.href,status:s.status,progress:s.progress,expires:s.expiryTime}:{}}},ys="DeleteList",vs={getBatchPayload:e=>({requests:e.map((({mailboxId:e,query:t,isAsync:s=!0})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),Ps.getBlockPayload(ys,{mailboxId:e,query:t,isAsync:s}))))}),transformResponses({successMap:e}){const t=e[ys];return t.response?{task:bs.transformResponse(t)}:Ps.transformResponse(t)}},Fs={getBatchPayload(e){const t=e.map((({mailboxId:e,query:t,isAsync:s})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),{mailboxId:e,query:t,isAsync:s})));return vs.getBatchPayload(t)},transformResponses:({successMap:e})=>vs.transformResponses({successMap:e})},Us={getBlockPayload:(e,{mailboxId:t,messageIds:s,query:a,destinationFolderId:n,flags:r,cardConversationId:o,isAsync:i,payload:l,deleteDuplicates:c})=>{if(!s&&!a)throw new Error("POST Update Message requires either a list of ids or a query string.");const d=[];s&&d.push(`id:(${s.join(" ")})`),a&&d.push(a);const _=encodeURIComponent(d.join(" AND ")),E=c?function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"GET",filters:{iterator:"$..messages[*]",select:{dedupId:"$.dedupId",conversationId:"$.conversationId"}},requests:[{id:`${e}_$(dedupId)`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=dedupId:($(dedupId))%20AND%20conversationId:($(conversationId))`,method:"POST",payloadType:"embedded",payload:{message:{}}}]}}(e,t,_):function(e,t,s){return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${s}`,method:"POST",payloadType:"embedded",payload:{message:{}}}}(e,t,_),u=c?E.requests[0]:E;if(i&&(E.uri+="&async=true"),!(n||r||o||l))throw new Error("POST Update Message requires either a folder id, flags, cardConversationId or payload");return l?u.payload=l:(n&&(u.payload.message.folder={},u.payload.message.folder.id=n),r&&(u.payload.message.flags=r),o&&(u.payload.message.cardConversationId=o)),E},transformResponse:()=>1,getBatchError:({failureMap:e})=>"EC-4007"===(0,h.u9)(e,"DeleteMessages.response.error.code")?null:Object.keys(e).length>0?new Ms.Z(A.dO,e):null};const ks="UpdateList",ws={getBatchPayload:e=>({requests:e.map((({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n=!0})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),(0,m.Z)(s||a,"`destinationFolderId` or `flags` required."),Us.getBlockPayload(ks,{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n}))))}),transformResponses({successMap:e}){const t=e[ks];return t.response?{task:bs.transformResponse(t)}:Us.transformResponse(t)}},Gs={getBatchPayload(e){const t=e.map((({mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})=>((0,m.Z)(e,"`mailboxId` missing."),(0,m.Z)(t,"`query` missing."),(0,m.Z)(s||a,"`destinationFolderId` or `flags` required."),{mailboxId:e,query:t,destinationFolderId:s,flags:a,isAsync:n})));return ws.getBatchPayload(t)},transformResponses:({successMap:e})=>ws.transformResponses({successMap:e})};var Hs=s(55831);function Bs(e){const t={id:e.immutableid||e.id,conversationId:e.conversationId,snippet:e.snippet||"",flags:Object.assign(e.flags,{flagged:!!e.flags.flagged,read:!!e.flags.read,ham:!!e.flags.ham}),folder:{id:e.folder.id,types:e.folder.types},headers:{replyTo:e.headers.replyTo||"",subject:e.headers.subject||"",from:e.headers.from?xs(e.headers.from):[],to:e.headers.to?xs(e.headers.to):[],cc:e.headers.cc?xs(e.headers.cc):[],bcc:e.headers.bcc?xs(e.headers.bcc):[],date:Number(e.headers.internalDate),messageIdRfc822:e.headers.messageIdRfc822},attachments:[],attachmentCount:0,classification:e.classification&&e.classification.category,verifiedDomains:e.verifiedDomains||[]};var s,a,n,r;e.spame&&(t.spame=e.spame),e.captcha&&(t.captcha=e.captcha),e.csid&&(t.csid=e.csid),e.attachments&&(e.attachments=t.attachments=(s=e.attachments,a=t.headers.date,n=t.id,r=e.csid,s.map((e=>({id:(0,b.ad)(e,n,!1),virus:e.virus||"N",filename:e.filename,size:e.size,partId:e.partId,type:e.type,subtype:e.subtype,disposition:e.disposition,downloadUrl:e.downloadUrl,thumbnailUrl:e.thumbnailUrl,isExternal:!1,creationDate:1e3*a||e.creationDate,textExtractionUrl:e.textExtractionUrl,contentId:e.contentId,dataIds:e.dataIds,documentId:e.documentId,csid:r}))))),void 0!==e.attachmentCount&&(t.attachmentCount=e.attachmentCount),e.headers.inReplyTo&&(t.headers.inReplyTo=e.headers.inReplyTo),e.inReplyTo&&(t.inReplyTo={...e.inReplyTo,messageIdRfc822:e.headers.messageIdRfc822,id:e.immutableid||e.id}),e.downloadAllUrl&&(t.downloadAllUrl=e.downloadAllUrl),e.schemaOrg&&(t.schemaCards=(0,b.Se)(e)),e.cardConversationId&&(t.cardConversationId=e.cardConversationId),e.decos&&(t.decos=e.decos),e.modSeq&&(t.modSeq=e.modSeq);const{filterResult:o}=e;return o&&o.folderOfDelivery&&(t.folderOfDelivery=o.folderOfDelivery),e.schemaOrg&&(t.schemaOrg=e.schemaOrg),t}function xs(e){return e.map((({email:e="",...t})=>({...t,email:e.toLowerCase()})))}function Vs(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:l,cidFilter:c,cardConversationIds:d,startCardDate:_,endCardDate:E,accountId:u,encodeCardConversationId:p=!0,query:C={},fromNames:A=[],fromEmails:T=[],listIds:I=[],cursorOffsetId:h,shouldSelectAll:g}){let O="";(0,m.Z)(t,"mailboxId is a required field");const D=[];switch(I.length?D.push(`listid:(${I.map((e=>`"${e}"`)).join(" OR ")})`):(T.length&&D.push(`fromEmail:(${T.join(" OR ")})`),A.length&&D.push(`from:(${A.map((e=>`"${e}"`)).join(" OR ")})`)),O+=n?"folderId"+Hs.cF+n:"",O+=g?Hs.L_+"all:1":"",O+=o?(0,Hs.od)(o):"",O+=i.length?Hs.L_+encodeURIComponent(i.map((e=>`-folderType:(${e})`)).join("")):"",O+=D.length?Hs.L_+encodeURIComponent(`(${D.join(" OR ")})`):"",O+=h?Hs.L_+"cursorOffsetId"+Hs.cF+h:"",O+=Hs.L_+"count"+Hs.cF+a,O+=Hs.L_+"offset"+Hs.cF+s,O+=l?encodeURIComponent(` id:(${l.join(" ")})`):"",d&&(O+=p?encodeURIComponent(` cardConversationId:(${d.join(" ")})`):`%20cardConversationId%3A(${d.join("%20")})`),O+=c?`%20conversationId%3A(${c})`:"",O+=r===S.nMQ&&_&&E?`${Hs.L_}cardDate${Hs.cF}${Hs.R1}${_}${Hs.L_}TO${Hs.L_}${E}${Hs.om}`:"",O+=u&&!n?"%20acctId"+Hs.cF+u:"",O+=encodeURIComponent(Object.keys(C).reduce(((e,t)=>Array.isArray(C[t])?e+C[t].map((e=>" "+t+":"+e)):e+" "+t+":"+C[t]),"")),r){case S.Asd.DATE_ASC:O+=Hs.L_+"sort"+Hs.cF+"date";break;case S.Asd.DATE_DESC:O+=Hs.L_+"-sort"+Hs.cF+"date";break;case S.Asd.CARD_DATE_DESC:O+=Hs.L_+"-sort"+Hs.cF+"cardDate";break;case S.Asd.SENDER:case S.Asd.RECIPIENT:case S.Asd.SUBJECT:case S.Asd.UNREAD:case S.Asd.STARRED:case S.Asd.ATTACHMENT:case S.nMQ:O+=Hs.L_+"sort"+Hs.cF+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${O}`,method:"GET",payloadType:"embedded"}}function Zs(e,t){const s=e.response.result,{messages:a}=s,n={messageGroups:a.map((e=>({id:e.id,messages:[Bs(e)]})))};if(!isNaN(t)){let e=!1;a.length&&(e=a[0].folder.total>t),n.hasMore=e}return n}function Ws(e,{mailboxId:t,offset:s,count:a,folderId:n,sortOrder:r,filter:o,excludeFolderTypes:i=[],ids:l,cidFilter:c,startCardDate:d,endCardDate:_,accountId:E,groupBy:u="conversationId",fromNames:p=[],fromEmails:C=[],listIds:A=[],shouldSelectAll:T}){let I="";(0,m.Z)(t,"mailboxId is a required field");const h=[];switch(A.length?h.push(`listid:(${A.map((e=>`"${e}"`)).join(" OR ")})`):(C.length&&h.push(`fromEmail:(${C.join(" OR ")})`),p.length&&h.push(`from:(${p.map((e=>`"${e}"`)).join(" OR ")})`)),I+=n?"folderId"+Hs.cF+n:"",I+=T?Hs.L_+"all:1":"",I+=E?Hs.L_+"acctId"+Hs.cF+E:"",I+=o?(0,Hs.od)(o):"",I+=h.length?Hs.L_+encodeURIComponent(`(${h.join(" OR ")})`):"",I+=`${Hs.L_}groupBy${Hs.cF}${u}`,I+=Hs.L_+"count"+Hs.cF+a,I+=Hs.L_+"offset"+Hs.cF+s,I+=l?encodeURIComponent(` conversationId:(${l.join(" ")})`):"",I+=c?`%20conversationId%3A(${c})`:"",I+=d&&_?`${Hs.L_}cardDate${Hs.cF}${Hs.R1}${d}${Hs.L_}TO${Hs.L_}${_}${Hs.om}`:"",I+=i.length?Hs.L_+encodeURIComponent(i.map((e=>`-folderType:(${e})`)).join("")):"",I+=o===S.ukn.PEOPLE?Hs.L_+encodeURIComponent([S.Sck.USER,S.Sck.INBOX].map((e=>`+folderType:(${e})`)).join("")):"",r){case S.Asd.DATE_ASC:I+=Hs.L_+"sort"+Hs.cF+"date";break;case S.Asd.DATE_DESC:I+=Hs.L_+"-sort"+Hs.cF+"date";break;case S.Asd.CARD_DATE_ASC:I+=Hs.L_+"sort"+Hs.cF+"cardDate";break;case S.Asd.CARD_DATE_DESC:I+=Hs.L_+"-sort"+Hs.cF+"cardDate";break;case S.Asd.SENDER:case S.Asd.SUBJECT:case S.Asd.UNREAD:case S.Asd.STARRED:case S.nMQ:I+=Hs.L_+"sort"+Hs.cF+r}return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${I}`,method:"GET",payloadType:"embedded"}}function Ks(e){const{conversations:t,messages:s,query:a}=e.response.result,n=new Map;s.forEach((e=>n.set(e.id,e)));const r={messageGroups:t.filter((({messageIds:e})=>e.some((e=>!!n.get(e))))).map((({id:e,messageIds:t})=>({id:e,messages:t.filter((e=>n.get(e))).map((e=>Bs(n.get(e)))).reverse()})))};if(r.hasMore=0!==t.length,a&&a.options){const e=(0,Hs.v2)(a);r.hasMore=t.length>=e}return 0===s.length&&(r.hasMore=!1),r}var zs=s(97665);const Ys=(e,t)=>{const{accountId:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/decos/@.id==FTI`,method:"POST",payload:{id:"FTI",counts:[{accountId:s,unseen:0}]}}},js=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};zs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null};var qs=s(7739),Xs=s.n(qs),Qs=s(85564),Js=s.n(Qs),$s=s(43174),ea=s.n($s);function ta(e){const t=e.every((e=>e.headers&&e.headers.date));return(0,m.Z)(t,"date is missing in the headers"),e.sort(((e,t)=>t.headers.date-e.headers.date)).slice(1)}function sa(e=[]){const[t=[],s=[]]=ea()(e,(({csid:e,folder:t})=>e&&-1!==t.types.indexOf("DRAFT"))),a=ea()(t,(e=>!e.inReplyTo)),n=Xs()(a[0],"csid"),r=Xs()(a[1],"conversationId"),o=Object.keys(n).filter((e=>n[e].length>1)).map((e=>ta(n[e])));let i=Object.keys(r).map((e=>Xs()(r[e],"csid"))).reduce(((e,t)=>{const s=Object.keys(t).filter((e=>t[e].length>1)).map((e=>ta(t[e])));return s.length&&e.push(...Js()(s)),e}),[...Js()(o)]);if(t.length&&s.length){const e=t.filter((e=>s.some((({csid:t,folder:s})=>t===e.csid&&-1!==s.types.indexOf("SENT")))));i=i.concat(e)}return i.length?e.filter((({id:e})=>!i.find((({id:t})=>e===t)))):e}const aa=e=>{const{CPN:t,CRD:s,POE:a,ORD:n,EER:r,PKG:o}=S.Jd6,i=[],l=[],c=[],d=[],_=[];return e.forEach((e=>{var E,u;const m=(null==e||null===(E=e.messages)||void 0===E||null===(u=E[0])||void 0===u?void 0:u.decos)||[];(0,Hs.m3)(m,[t,s],!0)&&i.push({...e,id:e.messages[0].cardConversationId}),(0,Hs.m3)(m,[a,n,s],!0)&&l.push({...e,id:e.messages[0].cardConversationId}),(0,Hs.m3)(m,[n,s],!0)&&c.push({...e,id:e.messages[0].cardConversationId}),(0,Hs.m3)(m,[r,s],!0)&&d.push({...e,id:e.messages[0].cardConversationId}),(0,Hs.m3)(m,[o],!0)&&_.push({...e,id:e.messages[0].cardConversationId})})),{[S.F6k.COUPON_CARDS]:{[S.ukn.ALL_COUPON_CARDS]:{items:i}},[S.F6k.REFUND_CARDS]:{[S.ukn.ALL_REFUND_CARDS]:{items:l}},[S.F6k.RECEIPT_CARDS]:{[S.ukn.ALL_RECEIPT_CARDS]:{items:c}},[S.F6k.RECOMMENDATION_CARDS]:{[S.ukn.ALL_DEAL_RECOMMENDATION_CARDS]:{items:d}},[S.F6k.PKG_TRACKING_CARD]:{[S.ukn.ALL_PKG_TRACKING_CARD]:{items:_}}}};var na=s(44908),ra=s.n(na);const oa="GetMessageGroupList",ia={getBatchPayload({mailboxId:e,accountId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,fromNames:c,fromEmails:d,listIds:_,conversationsMode:E,excludeFolderTypes:u=[],ids:m,cardConversationIds:S,query:p,shouldSelectAll:C}){const A=E&&!S?n:a;return u=ra()([...u,...Hs.z_]),{requests:[A.getBlockPayload(oa,{mailboxId:e,accountId:t,folderId:s,count:r,offset:o,filter:l,sortOrder:i,excludeFolderTypes:u,ids:m,cardConversationIds:S,query:p,fromEmails:d,fromNames:c,listIds:_,shouldSelectAll:C})]}},transformResponses({successMap:e},t){const{conversationsMode:s,offset:r,count:o,cardConversationIds:i}=t,l=r+o,c=s&&!i?n:a,{response:{result:d}}=e[oa],{messages:_}=d,{messageGroups:E,hasMore:u}=c.transformResponse({response:{result:{...d,messages:sa(_)}}},l,t.folder);return{messageGroupList:E,hasMoreItems:u}}},la="GetConsolidatedCouponsList",ca={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:a=[],sortOrder:n=S.nMQ,startCardDate:r,endCardDate:o,accountId:i})=>({requests:t.map(((t,l)=>Vs(`${la}_${t}`,{mailboxId:e,count:s,offset:a[l],filter:t,sortOrder:n,startCardDate:r,endCardDate:o,accountId:i})))}),transformResponses:({successMap:e},t)=>{const{offset:s,count:a,filter:n}=t,r=[];return Object.keys(e).forEach((t=>{if(-1!==t.indexOf(la)){const o=Zs(e[t]),{messageGroups:i}=o,l=t.replace(`${la}_`,""),c=n.indexOf(l),d=s[c],_=i.length===a,E=i.length<a?d+i.length:d+a,u=i.filter((({messages:[{headers:{subject:e="",from:[{email:t,name:s}={}]=[]}={}}={}]=[]}={})=>e&&t&&s)),m=u.length?[...new Map(u.map((e=>[e.messages[0].conversationId,e]))).values()]:u;r.push({cardGroupList:m,hasMoreItems:_,filter:l,offset:_?E:""})}})),{messageGroupsResponses:r}}},da="GetProductRecommendationItems",_a={getBatchPayload:({mailboxId:e,filter:t=[],count:s,offset:a=[],sortOrder:n=S.nMQ,startCardDate:r,endCardDate:o,accountId:i})=>({requests:t.map(((t,l)=>Vs(`${da}_${t}`,{mailboxId:e,count:s,offset:a[l],filter:t,sortOrder:n,startCardDate:r,endCardDate:o,accountId:i})))}),transformResponses:({successMap:e},t)=>{const{offset:s,count:a,filter:n}=t,r=[];return Object.keys(e).forEach((t=>{if(-1!==t.indexOf(da)){const o=Zs(e[t]),{messageGroups:i}=o,l=t.replace(`${da}_`,""),c=n.indexOf(l),d=s[c],_=i.length===a,E=i.length<a?d+i.length:d+a,u=i.filter((({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t));r.push({cardGroupList:u,hasMoreItems:_,filter:l,offset:_?E:""})}})),{messageGroupsResponses:r}}},Ea="GetMessageGroupList",ua="UnseenCountReset",ma="GetConsolidatedCouponsList",Sa="GetProductRecommendationItems",pa={getBatchPayload({accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,conversationsMode:c,excludeFolderTypes:d=[],shouldSelectAll:_,getCouponsListPayload:E={},getProductRecommendationItemsPayload:u={}}){const m=c?n:a;d=ra()([...d,...Hs.z_]);const S=[],p=[];var C,A;(0,h.xb)(E)||S.push((null===(C=ca.getBatchPayload({mailboxId:t,...E}).requests)||void 0===C?void 0:C[0])||[]);(0,h.xb)(E)||p.push((null===(A=_a.getBatchPayload({mailboxId:t,...u}).requests)||void 0===A?void 0:A[0])||[]);return{requests:[m.getBlockPayload(Ea,{accountId:e,mailboxId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,excludeFolderTypes:d,shouldSelectAll:_}),Ys(ua,{mailboxId:t,accountId:e})].concat(S).concat(p)}},transformResponses(e,t){let s=[];const{successMap:a}=e;return Object.keys(a).forEach((e=>{if(-1!==e.indexOf(ma)){var n,r;const e=ca.transformResponses({successMap:a},t.getCouponsListPayload);s=s.concat((null===(n=e.messageGroupsResponses)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.cardGroupList)||[])}else if(-1!==e.indexOf(Sa)){var o,i;const e=_a.transformResponses({successMap:a},t.getProductRecommendationItemsPayload);s=s.concat((null===(o=e.messageGroupsResponses)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.cardGroupList)||[])}})),{response:aa(s),...ia.transformResponses(e,t)}},getBatchError:({failureMap:e})=>{const t=Object.keys(e).length,s=e[ua];return s&&1===t?js(s):t?new Ms.Z(A.ps,e):null}},Ca=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts`,method:"GET"}),Aa=e=>(0,h.u9)(e,"response.result.accounts");var Ta=s(60039);const Ia="GetMailboxAttribute_",ha={getBatchPayload:({mailboxId:e,attributes:t=S.bxj})=>({requests:Object.keys(t).map((s=>{const a=t[s];return Ta.Z.getBlockPayload(Ia+a,{mailboxId:e,attributeId:a})}))}),updateFailureMap:e=>{const t=Object.keys(e).filter((e=>0===e.indexOf(Ia)));if(t.length>0){const s=t.map((t=>e[t])),a=t.map((e=>e.replace(Ia,"")));return(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:s[0].id,statusCode:s[0].httpCode,errorCode:(0,h.u9)(s[0],"response.error.code",""),ymreqid:(0,h.u9)(s[0],"response.error.requestId",""),extraStatusCode:s.map((e=>(0,h.u9)(e,"httpCode",""))).join(","),extraErrorCode:s.map((e=>(0,h.u9)(e,"response.error.code",""))).join(","),message:`failed to load attribute values ${a.join(",")}.`}),_()(e,t)}return e},transformResponses:({successMap:e},{attributes:t=S.bxj,userNamespace:s})=>{let a=t;Array.isArray(t)||(a=Object.keys(t).map((e=>t[e])));const n=a.length,r={};let o=!0;for(let i=0;i<n;i++){const t=a[i],n=e[Ia+t];if(n){const e=Ta.Z.transformResponse(n,{userNamespace:s});Object.assign(r,e)}else o=!1}return{responses:r,success:o}}},ga="GetFolders",Oa="GetAccounts",Da={getBatchPayload:({mailboxId:e,attributesToFetch:t={}},{appName:s,appId:a})=>{const n=a&&a.includes(S.L1J),r=n?S.El5:S.$It,o=s===S.BQZ.MOBILE_APP?r:{...n?S.wKQ:S.CuF,...t};return{requests:[Es(ga,{mailboxId:e}),Ca(Oa,{mailboxId:e})].concat(ha.getBatchPayload({mailboxId:e,attributes:o}).requests)}},getBatchError:({failureMap:e})=>{const t=ha.updateFailureMap(e);return Object.keys(t).length>0?new Ms.Z(A.dO,t):null},transformResponses:({successMap:e},{appName:t,appId:s,attributesToFetch:a={},userNamespace:n})=>{const r=s&&s.includes(S.L1J),o=r?S.El5:S.$It,i=t===S.BQZ.MOBILE_APP?o:{...r?S.wKQ:S.CuF,...a},l=ha.transformResponses({successMap:e},{attributes:i,userNamespace:n});return{folders:us(e[ga],{appId:s}),accounts:Aa(e[Oa]),mailboxAttributes:l}}},Ra="GetFolders",Na="GetMessageGroupList",La="GetAccounts",fa={getBatchPayload:({folderId:e="null",count:t,offset:s,sortOrder:r,filter:o,conversationsMode:i,excludeFolderTypes:l=[],mailboxId:c,attributesToFetch:d={}},{appName:_,appId:E})=>{const u=E&&E.includes(S.L1J),m=i?n:a,p=u?S.El5:S.$It,C=_===S.BQZ.MOBILE_APP?p:{...u?S.wKQ:S.CuF,...d};return l=ra()([...l,...Hs.z_]),{requests:[{...Ca(La,{mailboxId:c}),filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[{...Es(Ra,{mailboxId:c}),filters:{iterator:`$..folders[?((@.id=='${e}' && '${e}' in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && '${e}' nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},requests:[m.getBlockPayload(Na,{mailboxId:c,folderId:"$(folderId)",sortOrder:r,filter:o,count:t,offset:s,excludeFolderTypes:l})]}]}].concat(ha.getBatchPayload({mailboxId:c,attributes:C}).requests)}},transformResponses({successMap:e},t){const{appName:s,appId:r,offset:o,count:i,conversationsMode:l,ymreqid:c,folderId:d,mailboxId:_,attributesToFetch:E={},userNamespace:u}=t,m=r&&r.includes(S.L1J),p=us(e[Ra],{appId:r}),C=Aa(e[La]),I=o+i,h=l?n:a,g=m?S.El5:S.$It,O=s===S.BQZ.MOBILE_APP?g:{...m?S.wKQ:S.CuF,...E},D=ha.transformResponses({successMap:e},{attributes:O,userNamespace:u}),{response:{result:{query:R}}}=e[Na],N=(0,Hs.jZ)(R),L=h.transformResponse(e[Na],I,N),{messageGroups:f,hasMore:M}=L,P={accounts:C,folders:p,messageGroups:f,hasMoreItems:M,mailboxAttributes:D,folderId:N};if(d&&N!==d){const t=[...e[Na].headers];t[2]={key:"Status-Code",value:500};const s={[Na]:{headers:t,httpCode:500,id:Na,response:{error:{code:"ET-5006",requestId:c,resource:`/ws/v3/mailboxes/@.id==${_}/messages/@.select==q`}}}};return(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:Na,statusCode:0,errorCode:"",message:"failed to load provided folder id"}),{...P,error:new Ms.Z(A.dO,s)}}return P},getBatchError:({failureMap:e})=>{const t=ha.updateFailureMap(e);return Object.keys(t).length?new Ms.Z(A.ps,t):null}},Ma={getBlockPayload:(e,{mailboxId:t,messageId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}`,method:"GET"}),transformResponse:(e,t)=>Bs(e.response.result.message)};var Pa=s(17016);const ba=function(e,{mailboxId:t,messageId:s,secure:a=!1,full:n=!0,suppressed:r=!1}){let o=`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/content/simplebody`;return n&&(o+="/full"),a&&(o+="/secure"),{id:e,uri:o,method:"GET",payloadType:"embedded",suppressResponse:r}},ya=function(e,t){const{message:s,simpleBody:a}=e.response.result,n=Bs(s),{attachments:r,headers:o,csid:i,id:l,inReplyTo:c,downloadAllUrl:d,schemaCards:_,schemaOrg:E=null}=n,u={attachments:r,headers:o,csid:i,inReplyTo:c,downloadAllUrl:d,schemaOrg:E};if(s.headers=o,s.inReplyTo=c,s.id=l,s.attachments=r,s.downloadAllUrl=d,s.schemaOrg=E,_){const e=_.find((e=>e.type===S.rgK.EmailMessage));e&&(u.spiceCategories=e.categories)}return{id:l,body:(0,Pa.transformSimpleBody)(a),message:s,metadata:u}},va=(e,t=new Date)=>{if(""===e)return{};const s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())),a=new Date(e);return a.setUTCHours(23),a.setUTCMinutes(59),a.setUTCSeconds(59),{date:a.getDate(),month:a.getMonth(),dateDiff:Math.floor((a.getTime()-s.getTime())/864e5),timestamp:a.getTime()}},Fa=function(e,{appId:t,simpleBodyRequestId:s,enabledVerticals:a=[]}){let n=[];"undefined"!=typeof window&&void 0!==window.AppBootstrapData&&(n=window.AppBootstrapData.buckets||[]);return{id:e,uri:`/ws/comms/falcon/f/cards/tom/gsb?appid=${t}&enableModules=${a.join(",")}&treatmentnames=${n.join(",")}`,method:"POST",payloadFromExport:`$(${s})`}},Ua=function(e,{ymreqid:t}){let s=[];try{const{cards:a,message:n}=e.response.result;return a.length&&null!=n&&n.id&&(s=a.map((e=>{var s,a;const{data:r,meta:o,vertical:i,subType:l,ttl:c,i13nMeta:d}=e,_=(null==o?void 0:o.DPA2IC)||!1;if(i===S.VRv.OFFERS&&null!=r&&r.length&&null!==(s=r[0].gemini)&&void 0!==s&&null!==(a=s.ads)&&void 0!==a&&a.length){const{sku:e,gemini:{ads:s}}=r[0],{tag:a,beacon:o=""}=s[0],l=JSON.parse(a),_=o;if(l){const a=le(s[0],l),{adHeadline:r,adSummary:o,callToAction:E,adImg:u,clickUrl:m,impressionTrackingUrls:S,creativeId:p}=a;return{strings:{heading:(0,Pa.sanitizeData)(r),body:(0,Pa.sanitizeData)(o),ctaText:(0,Pa.sanitizeData)(E)},falconTOMImageUrl:(0,Pa.sanitizeData)(u),impressionTracker:S[0]||"",impressionBeacon:_,redirectUrl:m,version:p,messageId:n.id,ymreqid:t,sku:e,isPrefetched:!1,vertical:i,ttl:c,i13nMeta:d}}}if([S.VRv.DPA,S.VRv.DMA,S.VRv.DMA1].includes(i)&&Object.keys(r||{}).length){return{data:Object.keys(r).reduce(((e,s)=>{const{ads:a=[],additionalErrorInfo:n=""}=r[s];if(n){const{error:a="",errorCode:o}=r[s];return(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:"GetRelatedCards",ymreqid:t,message:a,errorCode:o,extraErrorCode:n,batchRelatedCards:!0}),e[s]=r[s],e}const o=[{ads:a.map((e=>{const{actionUrls:t={},beacon:s,tag:a,carouselAssets:n=[],rules:r,creativeId:o}=e,i=JSON.parse(a);if(i){const{headline:e="",summary:a="",secThumbnailImage:l="",secImage:c="",source:d="",callToAction:_="",clickUrl:E="",landingUrl:u="",imprTrackingUrls:m=[],ad_feedback_beacon:S="",passThroughFields:p={},secOrigImg:C="",origImg:A="",secHqImage:T="",hqImage:I=""}=i,{brand:h="",flashSaleEndTime:g="",productAdActivity:O="",productAdActivityMessage:D="",fullPrice:R="",salePrice:N=""}=p;return{pencilAd:{adHeadline:e,adSummary:a,callToAction:_,clickUrl:E,origImg:C||A,actionUrls:t,beacon:s,carouselAssets:n,rules:r,impressionTrackingUrls:m,adImg:l||c,adSource:d,landingUrl:u,creativeId:o.toString(),adFeedbackBeacon:S,imagePortrait:C||A,brand:h,productAdActivity:O,productAdActivityMessage:D,fullPrice:R,salePrice:N,flashSaleEndTime:g,hqImage:T||I}}}}))}];return e[s]=o,e}),{}),vertical:i,ttl:c,i13nMeta:d}}if(i===S.VRv.COMMERCE&&Object.keys(r||{}).length){let e=[];if(l===S.W2H.AFF_PRO_OFF)e=r.map((e=>{var t,s,a,n;const r=null==e||null===(t=e.data)||void 0===t?void 0:t["@id"],{category:o,description:i="",images:l=[],originalPriceSpecification:c={},priceSpecification:d={},score:_={},url:E=""}=(null==e?void 0:e.data)||{},u=d.priceCurrency||"USD",m=Gt()(u),p=(null===(s=l[0])||void 0===s?void 0:s.url)||(null===(a=l[0])||void 0===a?void 0:a.contentUrl)||"",C=Vt(o);let A=c.price,T=d.price;var I,h;A&&(A=`${m}${null===(I=Number(A))||void 0===I?void 0:I.toFixed(2)}`);T&&(T=`${m}${null===(h=Number(T))||void 0===h?void 0:h.toFixed(2)}`);return{categories:C,dealType:S.WSI.AFFILIATE_PRODUCT_OFFER,description:i,imgUrl:p,originalPrice:A,price:T,productId:r,score:(null==_||null===(n=_.scoreValue)||void 0===n?void 0:n.toString())||"0.0",url:E}}));else if(l===S.W2H.STA_OFF)e=r.map((e=>{const t=null==e?void 0:e.data,{description:s="",score:a,url:n="",validThrough:r=""}=t||{};return{cardId:e.cardId,dealLink:n,dealType:S.WSI.STATIC_DEAL,description:s,score:a,validThrough:r}}));else if(l===S.W2H.EER){let t="";t=(null==o?void 0:o.jcds)===S.e3F.CONQUEST?S.WSI.CONQUEST_PRODUCT_DEAL:(null==o?void 0:o.jcds)===S.e3F.MAILBOX?S.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL:S.WSI.PRODUCT_RECOMMENDATION_DEAL,e=null==r?void 0:r.map((e=>{var s,a,n,r,o,i,l;const c=null==e?void 0:e.cardConversationId,d=(null==e||null===(s=e.schemaOrg)||void 0===s||null===(a=s[0])||void 0===a||null===(n=a.schema)||void 0===n?void 0:n.identifier)||[],E=JSON.parse((null===(r=d.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===r?void 0:r.value)||"[]")[0]||{};return(null==e||null===(o=e.schemaOrg)||void 0===o||null===(i=o[0])||void 0===i||null===(l=i.schema)||void 0===l?void 0:l.recommendedItem).map((e=>{const s=e["@id"],a=e["@type"],n=e.offers||{},{image:r="",name:o="",url:i=""}=e,{price:l="",priceCurrency:d=""}=n;return{cardId:s,cardConversationId:c,dealLink:i,dealType:t,description:o,imageUrl:r,entity:a,extractionMeta:E,price:l,amountUnit:d,isDPA2IC:_}}))})).flat()}else if(l===S.W2H.ADB_TNTPLE_OFF){const t=r.placements,s=o.atods;e=t.map((e=>{if(null!=e&&e.offers){var t,a;const n=null==e||null===(t=e.offers)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.content,{primaryImage:r="",landingPageUrl:o="",headline:i=""}=n||{},{validThrough:l="",eventName:c="",brand:d="",annotation:_={}}=(null==n?void 0:n.additionalProperties)||{};return{adbDealKind:s,dealType:S.WSI.ADB_DEAL,imageUrl:r,dealLink:o,expirationTime:""===l?"":va(l),description:i,eventName:c,brandKey:null==d?void 0:d.Key,annotation:_}}}))}else e=r.map((e=>{var t,s,a;const{cardConversationId:n="",cardId:r="",decos:i=[],id:c=""}=e||{},d=null==e||null===(t=e.schemaOrg)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.schema,{category:E=[],description:u="",image:m={},url:p="",validThrough:C="",annotatedCollection:A=[],promoCode:T=""}=d||{},I=(0,Hs.m3)(i,S.Jd6.TAG);let h=!1;(0,Hs.m3)(i,S.Jd6.XDL)&&A.some((e=>e["@id"]===S.jdn.OUTLIER))&&(h=!0);const g=Vt(E),O=(null==d||null===(a=d.offerSubType)||void 0===a?void 0:a[0])||{},D=Object.keys(O).filter((e=>!e.startsWith("@"))).map((e=>{const t=O[e],s=(null==t?void 0:t.value)||(null==t?void 0:t.maxValue)||"",a=(null==t?void 0:t.currency)||"";switch(e){case S.eN2.PERCENT_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${s}%`};break;case S.eN2.MONEY_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${a}${s}`};break;case S.eN2.FREE_SHIPPING:return{discountType:e,value:t}}}));let R="";return l===S.W2H.CPN&&(null==o?void 0:o.jcds)===S.e3F.EMAIL?R=S.WSI.EXTRACTED_DEAL:l===S.W2H.CPN&&(null==o?void 0:o.jcds)===S.e3F.MAILBOX?R=S.WSI.INBOX_DEAL:l===S.W2H.CPN&&(null==o?void 0:o.jcds)===S.e3F.CONQUEST&&(R=S.WSI.CONQUEST_DEAL),{cardConversationId:n,cardId:r,categories:g,cmid:c,dealLink:"object"==typeof p?p.value:p,dealType:R,description:u,discountInfo:D.filter((e=>!!e)),expirationTime:va(C),imageUrl:(null==m?void 0:m.url)||"",promoCode:T,saved:I,unusualDiscount:h,isDPA2IC:_}}));return{data:e,vertical:i,i13nMeta:d}}if(i===S.VRv.KE&&Object.keys(r||{}).length){var E,u,m,p;const{Name:e="",Image:t,IncludeAttributes:s,PhotoSource:a=""}=r||{},o=s.find((e=>"website"===e.key));return{data:{email:(null==n||null===(E=n.headers)||void 0===E||null===(u=E.from)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.email)||"",image:null==t||null===(p=t.signedImages)||void 0===p?void 0:p.simg50x50,name:e,website:(null==o?void 0:o.value)||"",photoSource:a||""},vertical:i,i13nMeta:d}}if(i===S.VRv.HI&&Object.keys(r||{}).length){const{highIntent:e={}}=r||{};return{hIBrands:Object.keys(e).map((e=>e.toLowerCase())),vertical:i,i13nMeta:d}}if(i===S.VRv.COMMERCE_UTIL&&Object.keys(r||{}).length){let e=[];return l===S.W2H.PCS?e=r.map((e=>{var t;const{id:s="",cardId:a=""}=e,{schema:r={}}=(null==e||null===(t=e.schemaOrg)||void 0===t?void 0:t[0])||{},{acceptedOffer:o={},inferredOrderDate:i="",orderDate:l="",orderedItem:c=[],seller:d={}}=r,{price:_="",priceCurrency:E="USD"}=o,u=_?`${Gt()(E)||"$"}${_}`:"",{name:m,image:S}=d;return{cardId:s||a,price:u,orderDate:l||i,sellerName:m||"",sellerImage:S,orderedItems:c.map((e=>e.name)),messageId:n.id}})):l===S.W2H.CPN?e=r.map((e=>{var t;const{id:s="",cardId:a=""}=e,{schema:n={}}=(null==e||null===(t=e.schemaOrg)||void 0===t?void 0:t[0])||{},{description:r="",promoCode:o="",validThrough:i="",broker:l={},seller:c={},provider:d={}}=n;return{cardId:s||a,description:r,promoCode:o,validThrough:i,sellerName:(null==l?void 0:l.name)||(null==c?void 0:c.name)||(null==d?void 0:d.name)||""}})):l===S.W2H.EEG&&(e=r.map((e=>{var t;const{id:s="",cardId:a=""}=e,{schema:n={}}=(null==e||null===(t=e.schemaOrg)||void 0===t?void 0:t[0])||{},{amount:r={},provider:o={}}=n,{currency:i="",validFrom:l="",value:c=""}=r;return{cardId:s||a,value:c?`${Gt()(i)||"$"}${c}`:"",validFrom:l,sellerName:(null==o?void 0:o.name)||""}}))),{data:e,vertical:i,subType:l}}return[S.VRv.DPA,S.VRv.DMA,S.VRv.DMA1,S.VRv.COMMERCE,S.VRv.KE,S.VRv.OFFERS,S.VRv.HI,S.VRv.COMMERCE_UTIL].includes(i)&&!Object.keys(r||{}).length?null:e}))),s.filter((e=>e))}catch(a){return(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:"GetRelatedCards",ymreqid:t,message:a.message,batchRelatedCards:!0}),s}},ka=["PaymentDue"],wa={getBatchPayload:({id:e,mailboxId:t,cardConversationId:s})=>({id:`GetExtractedCards_${e}`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=cardConversationId:(${s})+decoId:CRD`,method:"GET"}),transformResponse(e){var t,s;const a=((null===(t=e.response)||void 0===t||null===(s=t.result)||void 0===s?void 0:s.messages)||[]).filter((({decos:e})=>{for(const t of e)if(t.id===S.Jd6.INV||t.id===S.Jd6.EEG)return!0;return!1})),n=[];for(const d of a){const e=d.schemaOrg;for(const t of e){const e=t.schema["@type"];switch(e){case S.rgK.Invoice:{var r,o,i;const s=t.schema,a=(null===(r=s.paymentStatus)||void 0===r?void 0:r.split("http://schema.org/").pop())||"",l=-1!==(null===(o=s.paymentDue)||void 0===o?void 0:o.indexOf("Z"))?null===(i=s.paymentDue)||void 0===i?void 0:i.replace("Z",""):s.paymentDue;ka.indexOf(a)>=0&&n.push({type:e,dueOn:l||null,paymentStatus:a});break}case S.rgK.GiftCard:{var l,c;const s=t.schema;n.push({type:e,dueOn:(null===(l=s.amount)||void 0===l?void 0:l.validThrough)||null,isDueOnInferred:"Inferred"===(null===(c=s.valueReference)||void 0===c?void 0:c[0].propertyID)});break}}}}return n}},Ga="GetSimpleBody",Ha="GetRelatedCards",Ba="GetExtractedCards",xa={getBatchPayload({id:e,mailboxId:t,messageId:s,batchRelatedCards:a,enabledVerticals:n=[],full:r=!0,secure:o=!1,suppressed:i=!1},{appId:l}){const c=Ga+"_"+(void 0!==e?e:s);return Object.assign({},ba(c,{mailboxId:t,messageId:s,full:r,secure:o,suppressed:i}),a&&n.length?{filters:{exportResponse:!0},requests:[Fa(Ha+"_"+s,{appId:l,simpleBodyRequestId:c,enabledVerticals:n})]}:{})},transformResponses:({successMap:e={}},{batchRelatedCards:t,shouldGetExtractions:s=!1,id:a,messageId:n,ymreqid:r})=>({simpleBodyResponse:ya(e[Ga+"_"+(void 0!==a?a:n)]),relatedCardsResponse:t&&e[Ha+"_"+n]?Ua(e[Ha+"_"+n],{ymreqid:r}):[],extractedCardsForTodoTOM:s&&e[Ba+"_"+n]?wa.transformResponse(e[Ba+"_"+n]):[]}),passivelyLogAnyError(e,{batchRelatedCards:t,ymreqid:s}){const a=t&&Object.keys(e).filter((e=>0===e.indexOf(Ha)))||[];if(!a.length)return;let n="0";const r=a.reduce(((t,s)=>{const a=e[s];return n=a.httpCode||"0",t.push(`${s}:${n}`),t}),[]).join(",")||"0";let o="0";const i=a.reduce(((t,s)=>{const a=e[s];return o=(0,h.u9)(a,"response.error.code","0"),t.push(`${s}:${o}`),t}),[]).join(",")||"0";(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:Ha,statusCode:n,errorCode:o,extraStatusCode:r,extraErrorCode:i,ymreqid:s,message:A.xj,batchRelatedCards:t})}},Va="GetFolders",Za="GetAccounts",Wa="GetMessage",Ka={getBatchPayload:({messageId:e,mailboxId:t,attributesToFetch:s={},batchRelatedCards:a=!1,enabledVerticals:n},{appName:r,appId:o})=>{const i=o&&o.includes(S.L1J)?S.El5:S.$It,l=r===S.BQZ.MOBILE_APP?i:{...S.CuF,...s};return{requests:[Ma.getBlockPayload(Wa,{mailboxId:t,messageId:e}),xa.getBatchPayload({mailboxId:t,messageId:e,full:!0,batchRelatedCards:a,enabledVerticals:n},{appId:o}),Es(Va,{mailboxId:t}),Ca(Za,{mailboxId:t})].concat(ha.getBatchPayload({mailboxId:t,attributes:l}).requests)}},transformResponses:({successMap:e,failureMap:t},{appName:s,appId:a,attributesToFetch:n={},messageId:r,batchRelatedCards:o,ymreqid:i})=>{const l={},{simpleBodyResponse:c,relatedCardsResponse:d}=xa.transformResponses({successMap:e},{batchRelatedCards:o,messageId:r,ymreqid:i}),{id:_,body:E,metadata:u}=c,m=a&&a.includes(S.L1J)?S.El5:S.$It,p=s===S.BQZ.MOBILE_APP?m:{...S.CuF,...n},C=ha.transformResponses({successMap:e},{attributes:p}),A=Object.assign(Ma.transformResponse(e[Wa]),{attachments:u.attachments});return d.length&&(l[r]=d),xa.passivelyLogAnyError(t,{batchRelatedCards:o,ymreqid:i}),{folders:us(e[Va],{appId:a}),accounts:Aa(e[Za]),message:A,messageBodiesMap:{[_]:E},messageMetadataMap:{[_]:u},mailboxAttributes:C,relatedCardsMap:l}}};function za(e,{mailboxId:t,csid:s}){let a=encodeURIComponent(`csid:${s} folderType:DRAFT`);return a+=`${Hs.L_}-sort${Hs.cF}date`,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${a}`,method:"GET"}}const Ya="GetFolders",ja="GetAccounts",qa="GetSimpleBody",Xa="GetMessageByCsid",Qa={getBatchPayload:function({csid:e,mailboxId:t,isMailPlusUser:s},{appName:a,appId:n}){const r=n&&n.includes(S.L1J),o=Object.assign({},r?S.wKQ:S.CuF,S.zkc,s?S.UHK:{}),i=r?S.El5:S.$It;return{requests:[Object.assign({},za(Xa,{mailboxId:t,csid:e}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[ba(qa,{mailboxId:t,messageId:"$(messageId)",full:!0,secure:!1})]}),Es(Ya,{mailboxId:t}),Ca(ja,{mailboxId:t})].concat(ha.getBatchPayload({mailboxId:t,attributes:a===S.BQZ.MOBILE_APP?i:o}).requests)}},transformResponses:function({successMap:e},t){const{appName:s,appId:a,isMailPlusUser:n,userNamespace:r}=t,o=a&&a.includes(S.L1J),i=Object.assign({},o?S.wKQ:S.CuF,S.zkc,n?S.UHK:{}),l=o?S.El5:S.$It,c={mailboxAttributes:ha.transformResponses({successMap:e},{attributes:s===S.BQZ.MOBILE_APP?l:i,userNamespace:r}),folders:us(e[Ya],{appId:a}),accounts:Aa(e[ja])};if(e[qa]){const{id:t,body:s,message:a,metadata:n}=ya(e[qa]);Object.assign(c,{message:a,messageBodiesMap:{[t]:s},messageMetadataMap:{[t]:n}})}return c},getBatchError:function({successMap:e,failureMap:t}){const s=ha.updateFailureMap(t),a=new Ms.Z("MailApiClient.LaunchCompose",s);if(s[Xa])return a;let n=0;const r=e[Xa];r&&(n=r.response.result.messages.length);if(s[qa]&&n>0)return a;if(s[Ya]||s[ja])return a;return null}};const Ja={getBlockPayload(e,{mailboxId:t,messageGroupId:s,isConversation:a,excludeFolderTypes:n=[]}){(0,m.Z)(t,"mailboxId is a required field"),(0,m.Z)(s,"messageGroupId is required");const r=encodeURIComponent(s);let o=a&&/^[0-9]+$/.test(r)?`conversationId:(${r})`:`id:(${r})`;return o+=n.length?Hs.L_+encodeURIComponent(n.map((e=>`-folderType:(${e})`)).join("")):"",{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${o}`,method:"GET",payloadType:"embedded"}},transformResponse(e,t){const s=e.response.result.messages,{isConversation:a}=t,n=s.map((e=>Bs(e))).reverse();return{messageGroup:{id:a?n[0].conversationId:n[0].id,messages:n}}}},$a="GetFolders",en="GetConversationMessageGroup",tn="GetAccounts",sn="GetMessage",an="GetMessageGroupList",nn="OnEmpty",rn="GetRelatedCards",on="OnEmpty",ln="OnFailure",cn={getBatchPayload:({isConversation:e,messageGroupId:t,folderId:s,count:r,offset:o,sortOrder:i,filter:l,excludeFolderTypes:c=[],secure:d=!1,mailboxId:_,attributesToFetch:E={},batchRelatedCards:u=!1,shouldGetExtractions:m=!1,enabledVerticals:p},{appName:C,appId:A})=>{const T=[],I=A&&A.includes(S.L1J),h=((e,t,s,r)=>o=>({...Ca(tn,{mailboxId:r}),id:tn+o,filters:{select:{accountId:"$..accounts[?(((@.isSelected == true) || (true nin $.result.accounts[*].isSelected) && @.isPrimary == true))].id"}},requests:[{...Es($a,{mailboxId:r}),filters:{iterator:`$..folders[?((@.id==${e} && ${e} in $.result.folders[*].id) || ('INBOX' in @.types && @.acctId=='$(accountId)' && ${e} nin $.result.folders[*].id))]`,select:{folderId:"@.id"}},id:$a+o,requests:[{...(t?n:a).getBlockPayload(an,{mailboxId:r,folderId:"$(folderId)",...s}),id:an+o}]}]}))(s,e,{sortOrder:i,filter:l,count:r,offset:o,excludeFolderTypes:c=ra()([...c,...Hs.z_])},_),g=I?S.El5:S.$It,O=C===S.BQZ.MOBILE_APP?g:{...I?S.wKQ:S.CuF,...E};return e?(T.push(Object.assign({},Ja.getBlockPayload(en,{mailboxId:_,messageGroupId:t,isConversation:e,excludeFolderTypes:c}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"},exportResponse:!0},suppressResponse:!1,requests:[xa.getBatchPayload({mailboxId:_,messageId:"$(id)",full:!0,secure:d},{appId:A})]},{onEmpty:{id:nn,suppressResponse:!1,applyFilterOn:`$(${en})`,requests:[h(on)]},onFailure:h(ln)})),m&&T.push({...Ja.getBlockPayload("GetConversationMessageGroupForExtractedCards",{mailboxId:_,messageGroupId:t,isConversation:e,excludeFolderTypes:c}),filters:{iterator:"$..messages[?(@.cardConversationId)]",select:{id:"$.id",cardConversationId:"$.cardConversationId"}},suppressResponse:!0,requests:[wa.getBatchPayload({id:"$(id)",mailboxId:_,cardConversationId:"$(cardConversationId)"})]}),u&&T.push(Object.assign({},Ja.getBlockPayload("GetConversationMessageGroupForTOM",{mailboxId:_,messageGroupId:t,isConversation:e,excludeFolderTypes:c}),{filters:{iterator:"$..messages[0]",select:{id:"$.id"}},suppressResponse:!0,requests:[xa.getBatchPayload({mailboxId:_,messageId:"$(id)",id:"TOM",full:!0,secure:d,batchRelatedCards:u,suppressed:!0,enabledVerticals:p},{appId:A})]}))):(T.push(Object.assign({},Ma.getBlockPayload(sn,{mailboxId:_,messageId:t}),m?{filters:{select:{cardConversationId:"$..message.cardConversationId"}},requests:[wa.getBatchPayload({id:t,mailboxId:_,cardConversationId:"$(cardConversationId)"})]}:{},{onFailure:h(ln)})),T.push(Object.assign({},xa.getBatchPayload({mailboxId:_,messageId:t,full:!0,secure:d,batchRelatedCards:u,enabledVerticals:p},{appId:A})))),{requests:[...T,Es($a,{mailboxId:_}),Ca(tn,{mailboxId:_})].concat(ha.getBatchPayload({mailboxId:_,attributes:O}).requests)}},transformResponses:({successMap:e,failureMap:t},s)=>{const{isConversation:r,messageGroupId:o,offset:i,count:l,appName:c,appId:d,attributesToFetch:_={},batchRelatedCards:E,shouldGetExtractions:u,ymreqid:m,userNamespace:p}=s,C=d&&d.includes(S.L1J),T=C?S.El5:S.$It,I=c===S.BQZ.MOBILE_APP?T:{...C?S.wKQ:S.CuF,..._},h=ha.transformResponses({successMap:e},{attributes:I,userNamespace:p}),g={folders:us(e[$a],{appId:d}),accounts:Aa(e[tn]),mailboxAttributes:h},O=r?n:a,D=e[an+on]||e[an+ln];if(D){const e=i+l,{response:{result:{query:s}}}=D,a=(0,Hs.jZ)(s),n=O.transformResponse(D,e,a),{messageGroups:r,hasMore:o}=n;return{...g,messageGroupList:r,hasMoreItems:o,folderId:a,error:new Ms.Z(A.dO,t)}}const R=r?(e=>Ja.transformResponse(e[en],{isConversation:!0}).messageGroup)(e):((e,t)=>({id:t,messages:[Ma.transformResponse(e[sn])]}))(e,o),N={},L={},f={},M={};return R.messages.forEach((t=>{const{simpleBodyResponse:s,relatedCardsResponse:a,extractedCardsForTodoTOM:n}=xa.transformResponses({successMap:e},{batchRelatedCards:E,shouldGetExtractions:u,messageId:t.id,ymreqid:m});N[t.id]=s.body,L[t.id]=s.metadata,a.length&&!f[o]&&(f[o]=a),n.length&&!M[o]&&(M[o]=n)})),xa.passivelyLogAnyError(t,{batchRelatedCards:E,ymreqid:m}),{...g,messageGroups:[R],messageBodiesMap:N,messageMetadataMap:L,relatedCardsMap:f,extractedCardsForTodoTOMMap:M}},getBatchError:({failureMap:e},{isConversation:t})=>{const s=ha.updateFailureMap(e);if(0===Object.keys(s).length)return null;if(!Object.values(s).filter((e=>!e.id.startsWith(rn+"_"))).length)return null;const a=t?s[en]:s[sn];if(a&&a.response&&a.response.error){const{response:{error:{code:e}}}=a;if(["EC-4001","ET-5005","ET-5006"].indexOf(e)>=0)return(0,T.apiPassiveErrorLogger)({logger:zs.Z,apiName:a.id,statusCode:a.httpCode,errorCode:e,message:"failed to load provided message/conversation id"}),null}return new Ms.Z(A.dO,s)}},dn=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts`,method:"GET"}),_n=e=>{if(!e)return[];const t=e.response.result.alerts;let s=[];return Array.isArray(t)&&(s=t.map((e=>({id:e.id,accountId:e.accountId,type:e.type,state:e.state,data:e.data})))),s},En=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};zs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null},un="UnseenCountReset",mn="GetAccountAlerts",Sn="GetMessagesByGroup",pn="GetAutoForwardAllowedAttribute",Cn="GetDisabledMsgReadCardsAttribute",An="GetNudgeToReplyAttribute",Tn={getBatchPayload({accountId:e,mailboxId:t,cardConversationId:s="",fetchAutoForwardAttribute:a=!1,fetchMsgReadCardsAttribute:n=!1,fetchNudgeToReplyAttribute:r=!1}){const o={requests:[Ys(un,{mailboxId:t,accountId:e}),dn(mn,{mailboxId:t})]};return n&&o.requests.push(Ta.Z.getBlockPayload(Cn,{mailboxId:t,attributeId:S.CbW.DISABLED_MESSAGE_READ_CARDS})),a&&o.requests.push(Ta.Z.getBlockPayload(pn,{mailboxId:t,attributeId:S.CbW.AUTO_FORWARD_ALLOWED})),r&&o.requests.push(Ta.Z.getBlockPayload(An,{mailboxId:t,attributeId:S.CbW.NUDGE_TO_REPLY})),s&&o.requests.push(Vs(Sn,{mailboxId:t,offset:0,count:50,cardConversationIds:[s],encodeCardConversationId:!1})),o},transformResponses({successMap:e}){const t={accountAlerts:_n(e[mn])};if(e[Sn]){const s=Zs(e[Sn]).messageGroups.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.CRD)))))).map((e=>({...e,id:e.messages[0].cardConversationId})));t.cardGroupList=s}return e[pn]&&(t.mailboxAttributes={...t.mailboxAttributes,...Ta.Z.transformResponse(e[pn])}),e[An]&&(t.mailboxAttributes={...t.mailboxAttributes,...Ta.Z.transformResponse(e[An])}),e[Cn]&&(t.mailboxAttributes={...t.mailboxAttributes,...Ta.Z.transformResponse(e[Cn])}),t},getBatchError:({failureMap:e})=>{const t=e[un],s=e[mn],a=e[Sn];return t&&js(t),s&&En(s),a?new Ms.Z(A.ps,e):null}},In="GetConversationMessageGroup",hn="GetMessagesByGroup",gn={getBatchPayload:({messageGroupId:e,mailboxId:t,isConversation:s,secure:a,full:n,cardConversationIds:r,batchRelatedCards:o=!1,enabledVerticals:i},{appId:l})=>{const c=[];return c.push(Object.assign({},Ja.getBlockPayload(In,{mailboxId:t,messageGroupId:e,isConversation:s,excludeFolderTypes:Hs.z_}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[xa.getBatchPayload({mailboxId:t,messageId:"$(id)",full:n,secure:a},{appId:l})]})),o&&c.push(Object.assign({},Ja.getBlockPayload("GetConversationMessageGroupForTOM",{mailboxId:t,messageGroupId:e,isConversation:s}),{filters:{iterator:"$..messages[0]",select:{id:"$.id"}},suppressResponse:!0,requests:[xa.getBatchPayload({mailboxId:t,messageId:"$(id)",id:"TOM",full:n,secure:a,batchRelatedCards:o,suppressed:!0,enabledVerticals:i},{appId:l})]})),r&&r.length>0&&c.push(Object.assign({},Vs(hn,{mailboxId:t,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:r}))),{requests:c}},transformResponses:({successMap:e,failureMap:t},{isConversation:s,batchRelatedCards:a,ymreqid:n,messageGroupId:r})=>{const o={},i={};let l;const c=Ja.transformResponse(e[In],{isConversation:s}).messageGroup;return c.messages.forEach((t=>{const{simpleBodyResponse:s,relatedCardsResponse:l}=xa.transformResponses({successMap:e},{batchRelatedCards:a,messageId:t.id,ymreqid:n});o[t.id]=s.body,Object.assign(t.headers,s.metadata.headers),t.attachments=s.message.attachments||[],l.length&&!i[r]&&(i[r]=l)})),xa.passivelyLogAnyError(t,{batchRelatedCards:a,ymreqid:n}),Object.keys(e).forEach((t=>{if(-1!==t.indexOf(hn)){const s=Zs(e[t]).messageGroups.filter((e=>{const[t={decos:[]}]=e.messages,s=t.decos.map((e=>e.id)).filter((e=>"CPN"===e||"CRD"===e));return t&&s.length>=2})).map((e=>({...e,id:e.messages[0].cardConversationId})));l={[S.F6k.COUPON_CARDS]:{[S.ukn.ALL_COUPON_CARDS]:{items:s}}}}})),{messageGroup:c,messageBodiesMap:o,response:l,relatedCardsMap:i}}},On="GetConversationsByGroup",Dn="GetMessagesByGroup",Rn={getBatchPayload:({messageGroupIds:e,excludeFolderTypes:t=[],conversationsMode:s=!0,mailboxId:r,secure:o,full:i,count:l,offset:c,accountId:d},{appId:_})=>{const E=[],u=s?n:a,m=s?On:Dn;return E.push(Object.assign({},u.getBlockPayload(m,{mailboxId:r,ids:e,excludeFolderTypes:[...Hs.z_,...t],count:l,offset:c,accountId:d}),{filters:{iterator:"$..messages[*]",select:{id:"$.id"}},requests:[xa.getBatchPayload({mailboxId:r,messageId:"$(id)",full:i,secure:o},{appId:_})]})),{requests:E}},transformResponses:({successMap:e,failureMap:t},{ymreqid:s,conversationsMode:r=!0})=>{const o={},i=(r?n:a).transformResponse(e[r?On:Dn],{}).messageGroups,l=i.reduce(((e,t)=>[...t.messages,...e]),[]);return null==l||l.forEach((t=>{const{simpleBodyResponse:a}=xa.transformResponses({successMap:e},{messageId:t.id,ymreqid:s});o[t.id]=a.body,Object.assign(t.headers,a.metadata.headers),t.attachments=a.message.attachments||[]})),xa.passivelyLogAnyError(t,{ymreqid:s}),{messageGroups:i,messageBodiesMap:o}}},Nn="GetMessageCardsList",Ln={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:r,startCardDate:o,endCardDate:i,accountId:l,excludeFolderTypes:c})=>({requests:[n.getBlockPayload(Nn,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:r,startCardDate:o,endCardDate:i,accountId:l,excludeFolderTypes:c,groupBy:"cardConversationId"})]}),transformResponses({successMap:e},t){const{offset:s,count:a}=t,n=Ks(e[Nn]),{messageGroups:r,hasMore:o}=n;return{cardGroupList:r.filter((({messages:e})=>e.some((({decos:e=[]})=>e.some((({id:e})=>"EML"===e)))))),hasMoreItems:o}}},fn="GetParentMessageByGroup",Mn={getBatchPayload:({mailboxId:e,cardConversationId:t=""})=>{let s;return""!==t&&(s=Vs(fn,{mailboxId:e,offset:0,count:1,cardConversationIds:[t]})),{requests:[s]}},transformResponses:e=>{const{successMap:t}=e;return t.GetParentMessageByGroup?t.GetParentMessageByGroup.response.result.messages.filter((({decos:e=[]}={})=>e.some((({id:e=""})=>e===S.Jd6.EML)))).map((({id:e,...t})=>({id:e,messages:[{id:e,...t}]}))):[]}},Pn="GetReceiptsList",bn={getBatchPayload:({mailboxId:e,filter:t,count:s,offset:a,sortOrder:n=S.Asd.CARD_DATE_DESC,accountId:r})=>({requests:Vs(Pn,{mailboxId:e,count:s,offset:a,filter:t,sortOrder:n,accountId:r})}),transformResponses:({successMap:e},t)=>{const{count:s,offset:a}=t,n=Zs(e[Pn]),r=n.messageGroups.length<s?a+n.messageGroups.length:a+s,{messageGroups:o}=n,i=n.messageGroups.filter((({messages:[{headers:{from:[{email:e,name:t}={}]=[]}={}}={}]=[]}={})=>e&&t)),l=o.length===s;return{cardGroupList:i,hasMoreItems:l,offset:l?r:""}}},yn="GetMessageGroupList",vn={getBatchPayload:({accountId:e,mailboxId:t,ids:s=[]})=>({requests:[Vs(yn,{accountId:e,mailboxId:t,ids:s,count:s.length,offset:0})]}),transformResponses:(e,t)=>ia.transformResponses(e,t),getBatchError:({failureMap:e})=>Object.keys(e).length?new Ms.Z(A.ps,e):null},Fn={getNakedRequestUrl:(e,t)=>`${(0,Hs.ow)(e)}://${e}/ws/v3/mailboxes/?${E.stringify(t)}`,getBlockPayload:e=>({id:e,uri:"/ws/v3/mailboxes",method:"GET",payloadType:"embedded"}),getMailboxFilters:()=>({select:{mailboxId:"$..mailboxes[?(@.isSelected==true)].id"}}),transformResponse:e=>e.response.result.mailboxes.map(Un),getExtendedResponse:e=>{const{mailboxes:t,guid:s,shardId:a}=e.response.result;return{mailboxes:t.map(Un),guid:s,shardId:a}}};function Un(e){return{id:e.id,email:e.email,isPrimary:e.isPrimary,isSelected:e.isSelected,type:e.type,state:e.state}}const kn="GetMailboxes",wn={getBatchPayload:()=>({requests:[Fn.getBlockPayload(kn)]}),transformResponses:({successMap:e})=>Fn.transformResponse(e[kn])},Gn="GetFolders",Hn={getBatchPayload:({mailboxId:e})=>({requests:Es(Gn,{mailboxId:e})}),transformResponses:({successMap:e},{appId:t})=>({folders:us(e[Gn],{appId:t})})},Bn=(e,t)=>{const{accountId:s,mailboxId:a,folderId:n}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/accounts/@.id==${s}/syncnow`,method:"POST",payload:n?{folder:{id:n}}:{}}},xn=e=>{if(e){const{id:t,httpCode:s,response:a}=e,n={apiName:t,errorCode:a&&a.error&&a.error.code,httpCode:s};zs.Z.feature(S.BrN.MailAPIClient,{data:n}).logFailure()}return null},Vn=e=>e.response.result,Zn="SyncNow",Wn={getBatchPayload:({accountId:e,folderId:t,mailboxId:s})=>({requests:[Bn(Zn,{accountId:e,folderId:t,mailboxId:s})]}),getBatchError:({failureMap:e})=>{const t=e[Zn];return t?xn(t):null},transformResponses({successMap:e,failureMap:t}){let s={};const a=e[Zn];return a?s=Vn(a):s.error=new Ms.Z(A.dO,t),s}},Kn="GetMailboxes",zn="GetAccounts",Yn={getBatchPayload:()=>({requests:[Object.assign({},Fn.getBlockPayload(Kn),{filters:Fn.getMailboxFilters(),requests:[{...Ca(zn,{mailboxId:"$(mailboxId)"})}]})]}),transformResponses:({successMap:e})=>({accounts:Aa(e[zn])})},jn="GetMailboxes",qn="GetMessage",Xn={getBatchPayload:({messageId:e})=>({requests:[Object.assign({},Fn.getBlockPayload(jn),{filters:Fn.getMailboxFilters(),requests:[Ma.getBlockPayload(qn,{mailboxId:"$(mailboxId)",messageId:e})]})]}),transformResponses:({successMap:e})=>({message:Ma.transformResponse(e[qn])})},Qn="GetMessagesByGroup",Jn={getBatchPayload:({mailboxId:e,cardConversationIds:t=[],offset:s=0,count:a=200})=>{let n;if(t.length>0){n=Vs(Qn+"_0",{mailboxId:e,offset:s,count:a,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:t})}return{requests:[n]}},transformResponses:e=>{const{successMap:t}=e;let s=[];return Object.keys(t).forEach((e=>{-1!==e.indexOf("GetMessagesByGroup")&&(s=t[e].response.result.messages)})),{result:{extractedMessagesList:s}}}},$n="GetSimpleBody",er="GetMessageByCsid",tr="GetRelatedCards",sr="GetConsolidatedCouponsList",ar="GetProductRecommendationItems",nr={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[],full:n,secure:r,batchRelatedCards:o=!1,messagIdsToFetchCards:i=[],suppressed:l=!1,enabledVerticals:c,getCouponsListPayload:d={},getProductRecommendationItemsPayload:_={}},{appId:E})=>{const u=t.map(((t,s)=>xa.getBatchPayload({id:s,mailboxId:e,messageId:t,full:n,secure:r,batchRelatedCards:o&&-1!==i.indexOf(t),suppressed:l,enabledVerticals:c},{appId:E}))),m=[],S=[];var p,C;(0,h.xb)(d)||m.push((null===(p=ca.getBatchPayload({mailboxId:e,...d}).requests)||void 0===p?void 0:p[0])||[]);(0,h.xb)(_)||S.push((null===(C=_a.getBatchPayload({mailboxId:e,..._}).requests)||void 0===C?void 0:C[0])||[]);const A=s.map(((s,a)=>{const n=$n+"_"+(a+t.length);return ba(n,{mailboxId:e,messageId:s,full:!0,secure:!1})})),T=a.map(((a,n)=>{const r=er+"_"+(n+t.length+s.length),o=$n+"_"+(n+t.length+s.length);return Object.assign({},za(r,{mailboxId:e,csid:a}),{filters:{select:{messageId:"$..messages[0].id"}},requests:[ba(o,{mailboxId:e,messageId:"$(messageId)",full:!0,secure:!1})]})}));return{requests:u.concat(A,T,m,S)}},transformResponses:(e,t)=>{const{messageIds:s=[],draftMessageIds:a=[],draftMessageCsids:n=[],batchRelatedCards:r,ymreqid:o,getCouponsListPayload:i={},getProductRecommendationItemsPayload:l={}}=t,{successMap:c,failureMap:d={}}=e,_={},E={},u={},m=[];let S=[];const p=s.concat(a,n),C={},A=[];return p.forEach((e=>{C[e]=!1})),Object.keys(c).forEach((e=>{if(0===e.indexOf($n)){const t=ya(c[e]);_[t.id]=t.body,E[t.id]=t.metadata,C[t.id]=!0,m.push({id:t.id,messages:[t.message]}),t.metadata.csid&&(C[t.metadata.csid]=!0)}else if(r&&0===e.indexOf(tr)){const t=Ua(c[e],{ymreqid:o}),s=/^GetRelatedCards_(.*)$/.exec(e);s&&(u[s[1]]=t)}else if(-1!==e.indexOf(sr)){var t,s;const e=ca.transformResponses({successMap:c},i);S=S.concat((null==e||null===(t=e.messageGroupsResponses)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.cardGroupList)||[])}else if(-1!==e.indexOf(ar)){var a,n;const e=_a.transformResponses({successMap:c},l);S=S.concat((null==e||null===(a=e.messageGroupsResponses)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.cardGroupList)||[])}})),p.forEach((e=>{C[e]||A.push(e)})),xa.passivelyLogAnyError(d,{batchRelatedCards:r,ymreqid:o}),{result:{messageBodiesMap:_,messageMetadataMap:E,messageGroups:m,relatedCardsMap:u,response:aa(S)},error:{messageIds:A}}},getBatchError:({failureMap:e={}},{messageIds:t=[],draftMessageIds:s=[],draftMessageCsids:a=[]})=>{const n=Object.values(e).filter((e=>!e.id.startsWith(tr+"_")));return n.length?n.length!==t.concat(s,a).length?null:new Ms.Z("All requests in method `getBodies` failed",e):null}},rr={getBatchPayload:({mailboxId:e,csid:t,full:s,secure:a},{appId:n})=>nr.getBatchPayload({mailboxId:e,draftMessageCsids:[t],full:s,secure:a},{appId:n}),transformResponses:(e,{csid:t})=>{const{result:{messageBodiesMap:s,messageMetadataMap:a,messageGroups:n}}=nr.transformResponses(e,{draftMessageCsids:[t]});return{messageBodiesMap:s,messageMetadataMap:a,messageGroup:n[0]}},getBatchError:(e,{csid:t})=>{const{error:s}=nr.transformResponses(e,{draftMessageCsids:[t]});return s.messageIds.length?new Ms.Z("Request for csid failed",e.failureMap):null}},or={getBatchPayload:({id:e,mailboxId:t,cardConversationId:s})=>({id:`GetExtractedCards_${e}`,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=cardConversationId:(${s})+decoId:CRD`,method:"GET"}),transformResponse(e){var t,s;const a=((null===(t=e.response)||void 0===t||null===(s=t.result)||void 0===s?void 0:s.messages)||[]).filter((({decos:e})=>{for(const t of e)if(t.id===S.Jd6.EEC)return!0;return!1})),n=[];for(const r of a){const e=r.cardId,t=r.schemaOrg;for(const s of t){const t=s.schema["@type"];switch(t){case S.rgK.ShoppingCart:{const a=s.schema;n.push({type:t,cardId:e,cartItem:a.cartItem||[]});break}}}}return n}},ir="GetSimpleBody",lr="GetMessagesByGroup",cr="GetRelatedCards",dr="GetExtractedCards",_r="GetConsolidatedCouponsList",Er="GetProductRecommendationItems",ur={getBatchPayload:({mailboxId:e,messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[],full:n,secure:r,batchRelatedCards:o=!1,enabledVerticals:i,shouldGetExtractions:l=!1,msgIdToCcidMapForTOMExtractions:c={},getCouponsListPayload:d={},getProductRecommendationItemsPayload:_={}},{appId:E})=>{const u=t.map(((t,s)=>xa.getBatchPayload({id:s,mailboxId:e,messageId:t,full:n,secure:r,batchRelatedCards:o,enabledVerticals:i},{appId:E}))),m=s.map(((s,a)=>{const n=ir+"_"+(a+t.length);return ba(n,{mailboxId:e,messageId:s,full:!0,secure:!1})})),S=[],p=[],C=[];if(l&&Object.keys(c).forEach((t=>{S.push(wa.getBatchPayload({id:t,mailboxId:e,cardConversationId:c[t]}))})),a.length>0&&!o){const t=Vs(lr+"_0",{mailboxId:e,offset:0,count:50,excludeFolderTypes:["TRASH","BULK"],cardConversationIds:a});S.push(t)}var A,T;(0,h.xb)(d)||p.push((null===(A=ca.getBatchPayload({mailboxId:e,...d}).requests)||void 0===A?void 0:A[0])||[]);(0,h.xb)(_)||C.push((null===(T=_a.getBatchPayload({mailboxId:e,..._}).requests)||void 0===T?void 0:T[0])||[]);return{requests:u.concat(m).concat(S).concat(p).concat(C)}},transformResponses:(e,t)=>{const{messageIds:s=[],draftMessageIds:a=[],batchRelatedCards:n,shouldGetExtractions:r=!1,ymreqid:o,getCouponsListPayload:i={},getProductRecommendationItemsPayload:l={}}=t,{successMap:c,failureMap:d={}}=e,_={},E={},u={},m={},S={},p=s.concat(a);let C=[];const A={},T=[];return p.forEach((e=>{A[e]=!1})),Object.keys(c).forEach((e=>{if(-1!==e.indexOf("GetSimpleBody")){const t=ya(c[e]);_[t.id]=t.body,E[t.id]=t.metadata,A[t.id]=!0}else if(-1!==e.indexOf("GetMessagesByGroup")){const t=Zs(c[e]);C=t.messageGroups}else if(n&&-1!==e.indexOf(cr)){const t=Ua(c[e],{ymreqid:o}),s=/^GetRelatedCards_(.*)$/.exec(e);s&&(u[s[1]]=t)}else if(-1!==e.indexOf(dr)&&r){const t=/^GetExtractedCards_(.*)$/.exec(e),s=wa.transformResponse(c[e]),a=or.transformResponse(c[e]),n=e.substring(e.indexOf("_")+1);t&&(m[t[1]]=s,S[n]=null==a?void 0:a[0])}else if(-1!==e.indexOf(_r)){var t,s;const e=ca.transformResponses({successMap:c},i);C=C.concat((null==e||null===(t=e.messageGroupsResponses)||void 0===t||null===(s=t[0])||void 0===s?void 0:s.cardGroupList)||[])}else if(-1!==e.indexOf(Er)){var a,d;const e=_a.transformResponses({successMap:c},l);C=C.concat((null==e||null===(a=e.messageGroupsResponses)||void 0===a||null===(d=a[0])||void 0===d?void 0:d.cardGroupList)||[])}})),xa.passivelyLogAnyError(d,{batchRelatedCards:n,ymreqid:o}),p.forEach((e=>{A[e]||T.push(e)})),{result:{messageBodiesMap:_,messageMetadataMap:E,relatedCardsMap:u,extractedCardsForTodoTOMMap:m,extractedShoppingCards:S,response:aa(C)},error:{messageIds:T}}},getBatchError:({failureMap:e={}},{messageIds:t=[],draftMessageIds:s=[],cardConversationIds:a=[]})=>{const n=Object.values(e).filter((e=>!e.id.startsWith(cr+"_")));return n.length?n.length!==t.concat(s).concat(a).length?null:new Ms.Z("All requests in method `getExtractedBodies` failed",e):null}};var mr=s(19822),Sr=s(99691);const pr={spam:"false",read:"true"},Cr={getBlockPayload:(e,{mailboxId:t,csid:s,inReplyTo:a,subject:n,to:r,cc:o,bcc:i,from:l,replyTo:c,html:d,text:_,attachments:E=[],files:u=[],folderId:m})=>{const p={partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{csid:s,newMessage:!a,headers:{subject:n,from:l,replyTo:c||l,to:Ir(r),cc:Ir(o),bcc:Ir(i)},folder:{id:m},flags:pr,inReplyTo:a,attachments:Tr(E.filter((({disposition:e,type:t,contentId:s})=>!(!s&&e===S.sSc.Dispositions.INLINE&&t===S.sSc.Types.TEXT))))},simpleBody:{}}};return d?p.payload.simpleBody.html=d:p.payload.simpleBody.text=_,p.inReplyTo||delete p.inReplyTo,{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages?uploadCount=${u.length}&totalAttachments=${E.length}`,method:"POST",payloadType:"multipart",payloadParts:[p].concat(Ar(u))}},transformResponse({response:e}){const t=(0,Pa.transformSimpleBody)(e.result.simpleBody),s=Bs(e.result.message);return s.attachments=(0,Sr.fA)(s,s.attachments,!1),{message:s,simpleBody:_()(t,"attachments")}}};function Ar(e){return e.map((({mimeType:e,name:t})=>({contentType:e,partName:encodeURIComponent(t),payloadReference:`multipart://${encodeURIComponent(t)}`})))}function Tr(e){return e.map((({contentId:e,filename:t,disposition:s,messageReference:a})=>{const n={disposition:s,contentId:e};return a?n.messageReference=a:n.multipartName=`multipart://${encodeURIComponent(t)}`,n}))}function Ir(e){return(e=(0,mr.makeArray)(e)).map((function(e){return"string"==typeof e.email&&(e.email=e.email.trim()),e})).filter((function(e){return(0,Pa.isValidEmail)(e.email)}))}const hr="SaveMessage",gr={getBatchPayload:e=>({requests:[Object.assign(Cr.getBlockPayload(hr,e),{filters:{select:{cid:"$..message.conversationId"}}})]}),transformResponses:({successMap:e},t)=>{const s=e[hr],{message:a,simpleBody:n}=Cr.transformResponse(s,t);return{message:a,simpleBody:n}},getBatchError({successMap:e,failureMap:t}){const s=e[hr];if(s){if("ES-2001"===(0,h.u9)(s,"response.error.code",null))return new Ms.Z("MailApiClient.Save",Object.keys(e).reduce(((t,s)=>{const{httpCode:a,response:n}=e[s],{error:r={}}=n;return{...t,[s]:{httpCode:a,response:{error:r}}}}),{}),!1)}return Object.keys(t).length>0?new Ms.Z("MailApiClient.Save",t):null}},Or=(e,{mailboxId:t,messageId:s,csid:a,folderId:n})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.id==${s}/send`,method:"POST",payloadType:"embedded",payload:{csid:a,destinationFolder:{id:n}}}),Dr=({response:e})=>e.result.message,Rr="SaveMessage",Nr="SendMessage",Lr="GetSimpleBody",fr="UpdateMessages",Mr={getBatchPayload:e=>{const{mailboxId:t,sentFolderId:s,secure:a,inReplyTo:n={},messageId:r,csid:o}=e,{messageReference:{id:i}={},replied:l,forwarded:c}=n,d=r&&o,_=Or(Nr,d?{mailboxId:t,messageId:r,csid:o,folderId:s}:{mailboxId:t,folderId:s,messageId:"$(messageId)",csid:"$(csid)"});return _.requests=[],(l||c)&&_.requests.push(Us.getBlockPayload(fr,{mailboxId:t,messageIds:[i],flags:{answered:!!l,forwarded:!!c},isAsync:!0})),d?{requests:[_]}:{requests:[Object.assign(Cr.getBlockPayload(Rr,e),{filters:{select:{messageId:"$..message.immutableid",csid:"$..message.csid",cid:"$..message.conversationId"}},requests:[ba(Lr,{mailboxId:t,messageId:"$(messageId)",secure:a,full:!0}),_]})]}},transformResponses:({successMap:e},t={})=>{const s=e[Lr],a=e[Nr];if(!s)return{message:Dr(a)};const{body:n,message:r}=ya(s),o=e[Rr],i=o?Cr.transformResponse(o,t).message:r;if(e[Nr]){const s=Dr(e[Nr],t);i.id=s.id}return{message:i,simpleBody:n}},getBatchError:({failureMap:e,successMap:t})=>{const s=t[Rr];if(!Object.keys(e).length&&Object.keys(t).length){if(s){if("ES-2001"===(0,h.u9)(s,"response.error.code",null))return new Ms.Z("MailApiClient.SaveAndSend",Object.keys(t).reduce(((e,s)=>{const{httpCode:a,response:n={}}=t[s],{error:r={}}=n;return{...e,[s]:{httpCode:a,response:{error:r}}}}),{}),!1)}return null}if(s){const t=(0,h.u9)(s,"response.result.message",null);if(t&&"C"===t.spame)return null;if(t&&"N"===t.spame&&e[Nr])return new Ms.Z("MailApiClient.SaveAndSend",e,!1,{spame:!0})}return new Ms.Z("MailApiClient.SaveAndSend",e)}},Pr=(e,t)=>{const{messageId:s,mailboxId:a,decos:n}=t;if((0,h.xb)(n)||!s)throw new Error("POST Update Message decos requires a list of non empty messageId and deco attributes.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{decos:n}}}},br="UpdateMessageDecos",yr={getBatchPayload:({mailboxId:e,messageDecosPayloads:t=[]})=>({requests:t.map(((t,s)=>{const a=br+"_"+s,{messageId:n,decos:r}=t;return Pr(a,{mailboxId:e,messageId:n,decos:r})}))}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ms.Z("All requests in method `messages.updateDecos` failed.",t),transformResponses:()=>1},vr=["sendercompromised","answered","forwarded","notmymail","phished","spam","flagged","read","recent"];class Fr{constructor(){this.payload={message:{}}}flag(e,t){(0,m.Z)(vr.indexOf(e)>=0,"name must be a valid flag"),this.payload.message.flags||(this.payload.message.flags={}),this.payload.message.flags[e]=t}folder(e){this.payload.message.folder||(this.payload.message.folder={}),this.payload.message.folder.id=e}}const Ur={UnifiedUpdateMessage:"UnifiedUpdateMessage",UnifiedDeleteMessage:"UnifiedDeleteMessage"};function kr(e){const t={},s=e.some((e=>Boolean(e.messageQuery&&e.isBatch)));e=e.filter((e=>!s||Boolean(e.messageQuery)));for(const a of e){const{messageId:e,folder:s,accountId:n,flags:r,permanentDelete:o,updateTypes:i,messageQuery:l,deleteDuplicates:c}=a,d=o?{permanentDelete:!0}:new Fr;if(o)(0,m.Z)(i.indexOf(S.oc$.DELETE)>=0||i.indexOf(S.oc$.MOVE)>=0,"updateTypes DELETE or MOVE is required for permanentDelete");else for(const t of i)switch(t){case S.oc$.READ:(0,m.Z)(void 0!==r.read,`flags.read is required for operation ${t}`),d.flag("read",r.read);break;case S.oc$.RECENT:(0,m.Z)(void 0!==r.recent,`flags.recent is required for operation ${t}`),d.flag("recent",r.recent);break;case S.oc$.STAR:(0,m.Z)(void 0!==r.flagged,`flags.flagged is required for operation ${t}`),d.flag("flagged",r.flagged);break;case S.oc$.ANSWER:(0,m.Z)(void 0!==r.answered,`flags.answered is required for operation ${t}`),d.flag("answered",r.answered);break;case S.oc$.FORWARD:(0,m.Z)(void 0!==r.forwarded,`flags.forwarded is required for operation ${t}`),d.flag("forwarded",r.forwarded);break;case S.oc$.SPAM:case S.oc$.HAM:d.flag("spam",!!r.spam),s&&d.folder(s.id);break;case S.oc$.MOVE:case S.oc$.DELETE:s&&d.folder(s.id)}const _=(0,Pa.getHash)(d,n,l,c);t[_]?t[_].messages.push(e):t[_]={payload:o?void 0:d.payload,...e&&!l&&{messages:[e]},messageQuery:l,batchId:o?Ur.UnifiedDeleteMessage:Ur.UnifiedUpdateMessage,getBlockPayload:o?Ps.getBlockPayload:Us.getBlockPayload,deleteDuplicates:c}}return(0,h.VO)(t)}function wr(e){const t=[e=>e.batchId===Ur.UnifiedDeleteMessage?0:1,e=>e.messageQuery?1:0,e=>e.messageQuery?0:e.messages.length];e.sort((function(e,s){for(let a=0;a<t.length;a++){const n=t[a],r=n(e)-n(s);if(0!==r)return r}return 0}))}function Gr(e,t=350){const s=[];for(let a=0;a<e.length;a++){const n=e[a];n.messages&&!n.messageQuery&&(n.messages.length>t&&s.push(a))}for(let a=0;a<s.length;a++){const s=e[a],n=s.messages,r=[];for(let e=0;e<n.length;e+=t){const a=n.slice(e,e+t);r.push({...s,isAsync:!1,messages:a})}e.splice(a,1,...r)}}function Hr(e,t,s=3){if(t)for(let a=e.length-1;a>=0;a--)s>0?(e[a].isAsync=!0,s--):e[a].isAsync=!1}function Br(e){return e.reduce(((e,t)=>[{...t,...e.length&&{requests:e}}]),[])}const xr=({successMap:e,failureMap:t})=>{let s=!0,a=!1;const n=Object.keys(e).length,r=(0,h.VO)(t).reduce(((e,t)=>{if(t.id.indexOf(Ur.UnifiedDeleteMessage)>=0){return Ps.getBatchError({failureMap:{DeleteMessages:t}})?e+1:e}return"EC-4007"===Us.getBatchError({failureMap:{UpdateMessages:t}}).errorCode&&(a=!0),e+1}),0),o=(0,h.VO)(e).reduce(((e,t)=>{const s=(0,h.u9)(t,"response.result.task");return s&&e.push(s),e}),[]);return o.length>0?s=S.Fa7.ASYNC:0===n&&r>0?s=S.Fa7.FAIL:n>0&&r>0?s=S.Fa7.PARTIAL:0===r&&(s=S.Fa7.SUCCESS),{successType:s,tasks:o,shouldCheckMessageStatus:a,failureMap:t}},Vr={REQUEST_IDS:Ur,_testFn:{serializeBlockPayload:Br,limitMaxAsyncRequests:Hr,limitMidsPerRequest:Gr,prioritizeRequests:wr,transformToDistinctRequests:kr},getBatchPayload:e=>{const{mailboxId:t,messageItemsToSync:s,isAsync:a}=e,n=function(e,t){return Gr(e,350),wr(e),Hr(e,t,3),e}(kr(s),a);return{requests:Br(n.map(((e,s)=>e.getBlockPayload(`${e.batchId}_${s}`,{mailboxId:t,...!e.messageQuery&&{messageIds:e.messages},query:e.messageQuery,payload:e.payload,isAsync:void 0===e.isAsync?a:e.isAsync,deleteDuplicates:e.deleteDuplicates}))))}},transformResponses:({successMap:e,failureMap:t})=>xr({successMap:e,failureMap:t}),getBatchError:({successMap:e,failureMap:t})=>{const{successType:s,shouldCheckMessageStatus:a}=xr({successMap:e,failureMap:t});return s!==S.Fa7.FAIL||a?null:new Ms.Z("All requests in method `messages.update` failed.",t)}},Zr={getBlockPayload(e,{mailboxId:t,messages:s,folder:a}){const n=[],r=s.map((e=>`"${e.messageId}@${e.modSeq}"`)).join(" ");n.push(`queryTokenState:${a.highestModSeq}`),n.push(`folderId:${a.id}`),n.push(`messageState:(${r})`),n.push(`count:${s.length}`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages/@.select==q?q=${encodeURIComponent(n.join(" "))}`,method:"GET"}},transformResponse:e=>({deletedMessages:(0,h.u9)(e,"response.result.messages",[]).filter((e=>(0,h.u9)(e,"flags.stateDeleted",!1)))})},Wr="GetDeletedMessages",Kr={_setMessageUpdateFailureMap(e){this.messageUpdateFailureMap=e},_getMessageUpdateFailureMap(){return this.messageUpdateFailureMap},_setMessages(e){this.messages=e},_getMessages(){return this.messages},getBatchPayload({mailboxId:e,messages:t=[],folder:s={},messageUpdateFailureMap:a={}}){return this._setMessageUpdateFailureMap(a),this._setMessages(t),{requests:[Zr.getBlockPayload(Wr,{mailboxId:e,messages:t,folder:s})]}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ms.Z("All requests in method `messages.getWindowDiff` failed.",e):null,transformResponses(e){const{successMap:t}=e,{deletedMessages:s=[]}=Zr.transformResponse(t[Wr]),a=this._getMessageUpdateFailureMap();return this._getMessages().length!==s.length?new Ms.Z(A.dO,a):{deletedMessages:s}}},zr=(e,t)=>{const{mailboxId:s,messageId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages/@.id==${a}/content/rawplaintext`,method:"GET"}},Yr=e=>e.responseString,jr="GetRawMessage",qr={getBatchPayload:({mailboxId:e,messageId:t})=>({requests:[zr(jr,{mailboxId:e,messageId:t})]}),transformResponses:({successMap:e})=>Yr(e[jr])},Xr={read:!1,spam:!1,ham:!0},Qr=(e,t,{mailboxId:s,folderId:a})=>{const n="mimeMsg"+t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${s}/messages`,method:"POST",payloadType:"multipart",payloadParts:[{partName:"jsonString",contentType:"application/json",payload:{actions:{responseMessage:!0},message:{newMessage:!0,folder:{id:a},flags:Xr,headers:null},mimeBody:"multipart://"+n}}].concat({contentType:"application/octet-stream",partName:n,disposition:"form-data",payloadReference:"multipart://"+n})}},Jr="SaveRawMessage",$r={getBatchPayload:e=>({requests:e.map(((e,t)=>Qr(Jr+"_"+t,t,e)))}),transformResponses:({successMap:e,failureMap:t})=>({result:{successMap:e},error:{failureMap:t}})},eo="GetFolders",to="GetMessageGroupList",so={getBatchPayload({mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,conversationsMode:i}){const l=i?n:a,c={};return c.requests=[Es(eo,{mailboxId:e}),l.getBlockPayload(to,{mailboxId:e,folderId:t,sortOrder:s,filter:r,count:o,offset:0,excludeFolderTypes:Hs.z_})],c},transformResponses({successMap:e},{folderId:t,conversationsMode:s,count:r}){const o=s?n:a,i=us(e[eo]),{messageGroups:l}=o.transformResponse(e[to],r,t);return{folders:i,messageGroupList:l}},getBatchError:({failureMap:e})=>Object.keys(e).length?new Ms.Z("`undo.list` failed.",e):null},ao=700,no=701,ro=702,oo={0:"ON_DEMAND",1:"PRE_CONVERTED"},io={802:{message:"Missing App Id"},803:{message:"Missing Document Id"},804:{message:"Missing Document URL"},805:{message:"Missing Fetch Options"},806:{message:"Malformed Download URL"},807:{message:"Inaccessible Download URL"},808:{message:"Invalid Fetch Options"},809:{message:"Document Read Error"},810:{message:"Error Inserting In Queue"},811:{message:"Error Reading Info"},812:{message:"Error Processing Document"},813:{message:"Unsupported File Type"},814:{message:"Document still queued"},816:{message:"Document Password Protected Unviewable"},817:{message:"Missing Request for 1st Page"}},lo={602:{message:"Document failed due to unknown reasons"},605:{message:"Conversion First page being Processed"},606:{message:"The document url is not accessible"},610:{message:"The document failed to be converted to HTML"},611:{message:"The document failed to convert to PDF"},612:{message:"All Resources are busy"},621:{message:"Conversion Queued"},625:{message:"Zipped file found"},640:{message:"PDF file is malformed"}},co=e=>({"docs-document-id":e}),_o=(e,t,s,a)=>({id:e,uri:"/ws/docpreview/v2/fetch",method:"POST",payload:{start_page:t,end_page:s,retryCount:a},payloadType:"embedded"}),Eo=({response:e})=>{const{info:t,pages:s,code:a}=e;return 815===a?{data:{info:{documentError:{code:a,isRetryable:!1}}}}:t?{statusCode:e.statuscode,code:a,pages:mo(s),numPages:t.num_pages,height:t.dimension.h,width:t.dimension.w,exceptions:t.exceptions,sheets:t.sheetInfo||{}}:{statusCode:e.statuscode,code:a,pages:mo(s)}},uo=(e,t,s)=>{const a=Object.keys(e).length?e:t,{response:n={},httpCode:r}=a[s],{code:o=0,statuscode:i=0,handler:l=0,pages:c}=n;if(io.hasOwnProperty(o)||lo.hasOwnProperty(i)){const e=function(e,t){switch(e){case 807:case 810:case 811:return!0;case 812:return 606===t||612===t;case 814:return 605===t||621===t;default:return!1}}(o,i),{message:t}=io[o]||{},{message:n}=lo[i]||{},r=(t?`[Fetch Error] ${t}`:"")+(n?` [Conversion Error] ${n}`:"");return Object.assign(a[s],{info:{fetchCode:o,conversionCode:i,isRetryable:e,handler:oo[l]}}),new Ms.Z(r,a,e)}if(600===i&&Object.keys(c).some((e=>c[e].statuscode===no)))return Object.assign(a[s],{info:{fetchCode:no,conversionCode:i,isRetryable:!1}}),new Ms.Z("Page has not converted even though the document is said to be successfully converted",a,!1);if(t&&r>=400){const e="ET"===(0,h.u9)(t[s],"response.error.code","").split("-")[0]||500===r;return Object.assign(a[s],{info:{isRetryable:e}}),new Ms.Z("Returned with not-ok status code",t,e)}return null};function mo(e){const t={};return Object.keys(e).forEach((s=>{const a=Number(s.slice(4)),n=e[s].statuscode;n!==ro&&(t[a]=n===ao?{content:e[s],state:S.DAQ.LOADED}:{content:null,state:S.DAQ.ERROR})})),t}const So="FetchDocument",po={getHeaders:({documentId:e})=>co(e),getBatchPayload:({startPage:e,endPage:t,retryCount:s})=>({requests:[_o(So,e,t,s)]}),transformResponses:({successMap:e})=>Eo(e[So]),getBatchError:({successMap:e,failureMap:t})=>{const s=uo(e,t,So);if(s){const{isRetryable:e,failureMap:t,message:a}=s,{response:n,info:r,info:{fetchCode:o="",conversionCode:i=""}}=t[So],l={};if(r&&(Object.assign(l,{documentError:r}),n&&(o||i))){const e=`DOC-${o}`+(i?`_${i}`:"");Object.assign(n,{error:{code:e}})}return new Ms.Z(a,t,e,l)}return null}},Co="TaskStatus",Ao={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[bs.getBlockPayload(Co,{mailboxId:e,taskId:t})]}),transformResponses:({successMap:e})=>({task:bs.transformResponse(e[Co])})},To={getBlockPayload:(e,{mailboxId:t,taskId:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/tasks/@.id==${s}`,method:"DELETE"}),transformResponse:()=>1},Io="TaskAbort",ho={getBatchPayload:({mailboxId:e,taskId:t})=>({requests:[To.getBlockPayload(Io,{mailboxId:e,taskId:t})]}),getBatchError:({failureMap:e})=>e[Io]?new Ms.Z(A.ps,e):null,transformResponses:()=>({result:To.transformResponse()})},go={getBlockPayload:(e,{mailboxId:t})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"GET",payload:{}}),transformResponse({response:e}){var t;const s=(null==e||null===(t=e.result)||void 0===t?void 0:t.savedSearches)||[],a=s.filter((({id:e,name:t,types:s,priority:a})=>"fOOS"!==e&&!(null!=t&&t.startsWith("RecentSearchQueries"))&&(((e,t)=>"USER"===e&&t>1499&&t<2e3)(s[0],a)||((e,t)=>"FILTER"===e&&t>999&&t<1500)(s[0],a)))).sort(((e,t)=>e.priority-t.priority));return a.map(((e,t)=>{e.index=t+1})),a}};let Oo;!function(e){e.COLON="colon",e.LITERAL="literal",e.KEYWORD="keyword",e.IDENTIFIER="identifier",e.PARENTHESIS="parenthesis"}(Oo||(Oo={}));const Do=(e,t,s,a,n=!1)=>{let r=0,o=s[a];if(t.test(o)){let i="";for(;o&&t.test(o)&&(i+=o,r++,!n);)o=s[a+r];return[r,{type:e,value:i}]}return[0,null]},Ro=[(e,t)=>/\s/.test(e[t])?[1,null]:[0,null],(e,t)=>Do(Oo.COLON,/^[:]/,e,t,!0),(e,t)=>Do(Oo.PARENTHESIS,/^[()]/,e,t,!0),(e,t)=>{const[s,a]=Do(Oo.IDENTIFIER,/[a-z-]/i,e,t);let n="",r=t+s;do{n=e[r++]}while(r<e.length&&" "===n);return":"!==n&&a&&(a.type=Oo.KEYWORD),[s,a]},(e,t)=>{if('"'!==e[t])return[0,null];let s="",a=1,n=!1,r=!1;for(;t+a<e.length;){let o=e[t+a++];if(n)n=!1;else if("\\"===o)o="",n=!0;else if('"'===o&&s.length){r=!0;break}s+=o}return r?[a,{type:Oo.LITERAL,value:s}]:(se.Z.error(`unterminated saved search query string literal at ${t}`),[0,null])},(e,t)=>Do(Oo.LITERAL,/[0-9]/,e,t)],No={from:"SENDER",to:"TOORCC",cc:"TOORCC",subject:"SUBJECT",body:"BODY"},Lo={SENDER:"from",SUBJECT:"subject",BODY:"body"},fo=" AND ",Mo=(e,t)=>{let s=(e=>{const t=(e||[]).reduce(((e,t)=>{let s=t.value.replace(/([\+\-!\(\)\{\}\[\]\^\"~\*\?:\t/)])/g,"\\$&");switch(t.operator){case"CONTAINS":s='"*'+s+'*"';break;case"NOTCONTAINS":s='"'+s+'"';break;case"BEGINSWITH":s='"'+s+'*"';break;case"ENDSWITH":s='"*'+s+'"'}return"TOORCC"===t.field?"NOTCONTAINS"===t.operator?e+=`(-to:${s} OR -cc:${s})`:e+=`(to:${s} OR cc:${s})`:"NOTCONTAINS"===t.operator?e+=`-${Lo[t.field]}:${s}`:e+=`${Lo[t.field]}:${s}`,e+fo}),"");return t.substring(0,t.length-fo.length)})(e.criterions);return s.length&&(s=" AND ("+s+")"),"acctid:"+(t||"1")+s},Po=e=>{let t=0;const s=(e=>{let t=0;const s=[];for(;t<e.length;){let a=!1;if(Ro.forEach((n=>{if(a)return;const[r,o]=n(e,t);0!==r&&(a=!0,t+=r),o&&s.push(o)})),!a)return se.Z.error(`Invalid char in saved search query: ${e} -> ${e[t]} at position ${t}`),[]}return s})(e),a=[],n=(e="",t="")=>{const s=t[0],a=t[t.length-1],n={value:t,operator:"CONTAINS",field:No[e]};return"-"===e[0]?(n.operator="NOTCONTAINS",n.value=t,n.field=No[e.slice(1)]):"*"===s&&"*"===a?(n.operator="CONTAINS",n.value=t.slice(1,-1)):"*"!==s&&"*"===a?(n.operator="BEGINSWITH",n.value=t.slice(0,-1)):"*"===s&&"*"!==a&&(n.operator="ENDSWITH",n.value=t.slice(1)),n};for(;t<s.length;){const e=s[t];switch(e.type){case Oo.COLON:case Oo.KEYWORD:case Oo.PARENTHESIS:break;case Oo.IDENTIFIER:{const r=e.value;++t;const o=s[++t];o&&o.type===Oo.LITERAL||se.Z.error(`unexpected token ${o.value}: expected a string`),-1===["acctid","cc","-cc"].indexOf(r)&&a.push(n(r,o.value))}}t++}return a},bo="GetFolders",yo="GetMessageFilters";function vo(e){const{primaryAccountDisabled:t,appName:s,userNamespace:a,isMailPlusUser:n,useSavedSearchForFilters:r}=e;if(t)return S.lHI;if(s===S.BQZ.MOBILE_APP){const e=n?{...S.NVH,...S._WP}:S.NVH;return a===S.Tzw.AOL?S.zUD:e}return a===S.Tzw.AOL?r?{...S.wp2,MESSAGE_FILTERS:"messageFilters"}:S.wp2:n?{...S.DES,...S.UHK}:S.DES}const Fo={getBatchPayload:({mailboxId:e,primaryAccountDisabled:t=!1,isMailPlusUser:s=!1,useSavedSearchForFilters:a=!1},n)=>{const{appName:r,userNamespace:o}=n,i=vo({primaryAccountDisabled:t,appName:r,userNamespace:o,isMailPlusUser:s,useSavedSearchForFilters:a});let l=[];return i.MESSAGE_FILTERS&&a&&(l.push(Es(bo,{mailboxId:e})),l.push(go.getBlockPayload(yo,{mailboxId:e})),delete i.MESSAGE_FILTERS),l=[...l,...ha.getBatchPayload({mailboxId:e,attributes:i}).requests],{requests:l}},transformResponses:({successMap:e,primaryAccountDisabled:t=!1},s)=>{const{appName:a,userNamespace:n,isMailPlusUser:r,appId:o}=s,i=vo({primaryAccountDisabled:t,appName:a,userNamespace:n,isMailPlusUser:r}),l=ha.transformResponses({successMap:e},{attributes:i}).responses;if(e[yo]){const t=((e,t)=>{const s=(0,ds.YY)(t);return e.map((({id:e,name:t,index:a,priority:n,query:r,decorations:o})=>{var i,l,c,d,_,E;return{id:e,name:t,index:a,priority:n,criterions:Po(r),actions:[(_=null==o||null===(i=o[0])||void 0===i||null===(l=i.id)||void 0===l||null===(c=l.slice)||void 0===c?void 0:c.call(l,1),d=(null===(E=s[_])||void 0===E?void 0:E.path)||"",{type:"MOVETOFOLDER",value:{folderActionValueBean:{folder:{name:d}}}})]}}))})(go.transformResponse(e[yo]),us(e[bo],{appId:o}));l.messageFilters={filters:t}}return{mailboxAttributes:l}}},Uo="vacationPreferences",ko={getBatchPayload:e=>{const{mailboxId:t,payload:s}=e,{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i},domainSpecificResponse:{domainMessageBody:l}}=s;return{requests:[Rs.getBlockPayload(Uo,{mailboxId:t,value:{enabled:a,startDate:n,endDate:r,messageBody:o,domainSpecificResponse:{domains:i,domainMessageBody:l}}})]}},transformResponses:()=>1},wo="messageFilters",Go={getBatchPayload:e=>{const{mailboxId:t,payload:s}=e;return{requests:[Rs.getBlockPayload(wo,{mailboxId:t,value:{filters:s}})]}},transformResponses:()=>1},Ho="deliveryBlockedSenders",Bo={getBatchPayload(e){const{mailboxId:t,senders:s}=e;return{requests:[Rs.getBlockPayload(Ho,{mailboxId:t,value:{senders:s}})]}},transformResponses:()=>1},xo="GetMailboxes",Vo={getBatchPayload:e=>{const{mailboxId:t,attributes:s}=e,a=Rs.getMultiAttributeChain({mailboxId:t||"$(mailboxId)",attributes:s.map((({id:e,value:t})=>{let s=`${e}`;return e===S.CbW.DELIVERY_BLOCKED_SENDERS&&(s="senders"),{id:e,value:e===S.CbW.DEA_BASE_NAME||e===S.CbW.CONSENT_EVENTS?t:{[s]:t}}}))});return t?a:{requests:[Object.assign({},Fn.getBlockPayload(xo),{filters:Fn.getMailboxFilters(),requests:a.requests})]}},transformResponses:e=>e},Zo="GetMailboxes",Wo={getBatchPayload:({mailboxId:e=null,attributes:t=S.bUm})=>{let s;return s=e?ha.getBatchPayload({mailboxId:e,attributes:t}).requests:[Object.assign({},Fn.getBlockPayload(Zo),{filters:Fn.getMailboxFilters(),requests:ha.getBatchPayload({mailboxId:"$(mailboxId)",attributes:t}).requests})],{requests:s}},getBatchError:()=>null,transformResponses:({successMap:e},{attributes:t=S.bUm,userNamespace:s})=>{const a=ha.transformResponses({successMap:e},{attributes:t,userNamespace:s}).responses;if(Zo in e){return{mailboxes:Fn.transformResponse(e[Zo]),mailboxAttributes:a}}return{mailboxAttributes:a}}},Ko={getBlockPayload(e,t){const{account:s,mailboxId:a}=t;return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/accounts`,method:"POST",payload:{account:s}}},transformResponse:e=>e.response.result},zo="AddAccount",Yo="GetAccounts",jo={getBatchPayload:e=>{const{mailboxId:t,account:s}=e;return{requests:[Object.assign({},Ko.getBlockPayload(zo,{account:s,mailboxId:t}),{requests:[Ca(Yo,e)]})]}},transformResponses:({successMap:e})=>Aa(e[Yo]),getBatchError:({failureMap:e},{account:t={}})=>{const s=e[zo],a=e[Yo];return s&&(409!==s.httpCode||409===s.httpCode&&(null==t?void 0:t.type)===S.tO8.DEA)||a?new Ms.Z(A.ps,e):null}},qo=(e,t)=>{const{account:s,data:a}=t,n={type:s.type};return Object.assign(n,a),{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${s.id}`,method:"POST",payload:{account:n}}},Xo="GetAccount",Qo="UpdateAccount",Jo={getBatchPayload:e=>{const{mailboxId:t,account:s,data:a}=e;return{requests:[{...qo(Qo,{account:s,mailboxId:t,data:a}),requests:[{id:Xo,uri:`/ws/v3/mailboxes/@.id==${t}/accounts/@.id==${s.id}`,method:"GET"}]}]}},transformResponses:({successMap:e})=>e[Xo].response.result},$o=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/accounts/@.id==${t.accountId}`,method:"DELETE"}),ei="deleteAccount",ti="GetAccounts",si={getBatchPayload(e){const{mailboxId:t,accountId:s,fetchAccounts:a=!1}=e;return{requests:[Object.assign({},$o(ei,{accountId:s,mailboxId:t}),a?{requests:[Ca(ti,{mailboxId:t})]}:{})]}},transformResponses:({successMap:e})=>e[ti]?Aa(e[ti]):1},ai="SetDeaPrefix",ni="GetDeaSuggestion",ri="disposableAddressesPrefix",oi={getBatchPayload({mailboxId:e,baseName:t,domain:s,fetchSuggestionsOnFailure:a=!1}){const n=ri,r=`/ws/v3/mailboxes/@.id==${e}/attributes/@.id==${n}`,o={id:ni,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1};return{requests:[{id:ai,uri:r,method:"POST",payload:{id:n,link:{type:"RELATIVE",href:r},value:{deaPrefix:t,deaDomain:s}},...a?{onFailure:o}:null,suppressResponse:!1}]}},getBatchError({successMap:e,failureMap:t}){const s=t[ai],a=t[ni],n=e[ni];return!(!s||!a&&(0,h.u9)(n,"response.response.idSuggestionsList",!1))&&new Ms.Z("All batch requests failed",t)},transformResponses({successMap:e}){const t=e[ni];if(!t)return[];return{suggestions:(0,h.u9)(t,"response.response.idSuggestionsList",[])}}},ii="GetDeaSuggestion",li={getBatchPayload({baseName:e}){const t="/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(e);return{requests:[{id:ii,uri:t,method:"GET",suppressResponse:!1}]}},getBatchError:({failureMap:e})=>!!e[ii]&&new Ms.Z("All batch requests failed",e),transformResponses({successMap:e}){var t,s;const a=e[ii];if(!a)return[];return{suggestions:(null==a||null===(t=a.response)||void 0===t||null===(s=t.response)||void 0===s?void 0:s.idSuggestionsList)||[]}}},ci={getBlockPayload(e,t){const{account:s}=t;return{id:e,uri:s.link.href,method:"POST",payload:{account:{type:s.type,resendVerification:!0}}}},transformResponse:e=>e.response.result},di="ResendConfirmEmail",_i={getBatchPayload:e=>{const{account:t}=e;return{requests:[ci.getBlockPayload(di,{account:t})]}},transformResponses:({successMap:e})=>e[di].response.result},Ei="AddAccount",ui="IdSuggestions",mi={getBatchPayload({mailboxId:e,email:t}){const s=`/ws/v3/mailboxes/@.id==${e}/accounts/`,a=-1===t.indexOf("@")?t+"@yahoo.com":t;return{requests:[{id:Ei,uri:s,method:"POST",payload:{account:{email:a,type:"ALIAS",description:"Extra email address account"}},onFailure:{id:ui,uri:"/ws/comms/deasuggestion/api/v1/users/services/idSuggestions?yid="+encodeURIComponent(t),method:"GET",suppressResponse:!1},suppressResponse:!1}]}},getBatchError:({failureMap:e})=>{const t=e[Ei],s=e[ui];return t&&s?new Ms.Z("All batch requests failed",e):null},transformResponses({successMap:e}){const t=e[Ei],s=e[ui];let a,n;return!t&&s&&s.response&&s.response.response?a=s.response.response.idSuggestionsList:t&&t.response&&t.response.result&&(n=t.response.result),{suggestions:a,newAccount:n}}},Si="UnseenCountReset",pi={getBatchPayload:({mailboxId:e,accountId:t})=>({requests:[Ys(Si,{mailboxId:e,accountId:t})]}),getBatchError:({failureMap:e})=>{const t=e[Si];return t?js(t):null},transformResponses:()=>1},Ci="GetAccountAlerts",Ai={getBatchPayload:({mailboxId:e})=>({requests:[dn(Ci,{mailboxId:e})]}),transformResponses:({successMap:e})=>{let t=[];return e[Ci]&&(t=_n(e[Ci])),t},getBatchError:({failureMap:e})=>{const t=e[Ci];return t?En(t):null}},Ti=(e,t)=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/alerts/@.id==${t.alertId}`,method:"POST",payload:{alert:{state:5e3}}}),Ii="GetAccountAlerts",hi="UpdateAccountAlerts",gi={getBatchPayload:({mailboxId:e,alertId:t})=>({requests:[Object.assign({},Ti(hi,{mailboxId:e,alertId:t}),{requests:[dn(Ii,{mailboxId:e})]})]}),transformResponses:({successMap:e})=>e[Ii]?{accountAlerts:_n(e[Ii])}:{accountAlerts:[]}},Oi=(e,{mailboxId:t,destinationFolderId:s,flags:a,headers:n,decos:r,schemaOrg:o,simpleBody:i,actions:l})=>{const c={id:e,uri:`/ws/v3/mailboxes/@.id==${t}/messages`,method:"POST",payloadType:"embedded",payload:{message:{}}};return c.payload.message.newMessage=!0,s&&(c.payload.message.folder={},c.payload.message.folder.id=s),a&&(c.payload.message.flags=a),n&&(c.payload.message.headers=n),r&&(c.payload.message.decos=r),o&&(c.payload.message.schemaOrg=o),i&&(c.payload.simpleBody=i),l&&(c.payload.actions=l),c},Di="CreateMessage",Ri="UpdateMessages",Ni="GetMessagesByGroup",Li={getBatchPayload:({mailboxId:e,messageId:t,destinationFolderId:s,headers:a=[],decos:n=[],schemaOrg:r={}})=>(n.some((e=>e&&e.id===S.Jd6.CRD))||n.push({id:S.Jd6.CRD,type:S.cip.NORMAL}),{requests:[{...Oi(Di,{mailboxId:e,destinationFolderId:s,flags:{read:!0,spam:!1},headers:a,decos:n,schemaOrg:r,simpleBody:{text:""},actions:{responseMessage:!0,responseMessageV2:!1,applyAntispam:!1,generateCardConversationId:!0}}),filters:{iterator:"$..result",select:{cardConversationId:"$..message.cardConversationId"}},suppressResponse:!0,requests:[{...Us.getBlockPayload(Ri,{mailboxId:e,messageIds:[t],cardConversationId:"$(cardConversationId)"}),suppressResponse:!0,requests:[Vs(Ni,{mailboxId:e,offset:0,count:50,cardConversationIds:["$(cardConversationId)"],encodeCardConversationId:!1})]}]}]}),transformResponses:({successMap:e})=>{const t=Zs(e[Ni]).messageGroups;return{cardGroupList:t.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.CRD)))))).map((e=>({...e,id:e.messages[0].cardConversationId}))),parentMessagesMap:t.filter((e=>e.messages.some((e=>e.decos&&e.decos.some((e=>e&&e.id===S.Jd6.EML)))))).reduce(((e,t)=>({...e,[t.messages[0].id]:{...t.messages[0]}})),{})}}};class fi extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,crumb:a,endpoints:n={BOOTCAMP_HOST:"https://data.mail.yahoo.com"}}){super({loggerName:S.BrN.SmartReplyClient,loggerParams:e,crumb:a}),this.appId=t,this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q),this.API_BASE=`${n.BOOTCAMP_HOST}/f/eml/predict`}getDefaultUrlParams(){return(0,E.stringify)({appid:this.appId,ymreqid:this.ymreqidGenerator.generate()})}requestNudgeAndReplySuggestions(e=[]){const t=this.getDefaultUrlParams(),s=`${this.API_BASE}/reply?${t}`,a=new N.Z(S.f2m.POST,s);a.withCredentials=!0;const n={messages:e},r=a.send(n);return this.logRequest(r,{messageIdsCount:e.length,queryParams:t,apiName:"smartReply"}),r.then((e=>e.body))}}const Mi=["high"];class Pi extends u.Z{constructor({loggerParams:e,crumb:t,isOnline:s,partner:a}){super({loggerName:S.BrN.BreakingNewsClient,loggerParams:e,crumb:t,isOnline:s}),this.partner=a}request({testParam:e}){let t="https://ncp-gw-mail.media.yahoo.com/api/v1/gql/stream_view?namespace=mail&id=breakingnews&version=v1"+(e?"&subsite=test":"");this.partner===S.Ql2.ATT&&(t+="&site=att");const s=new N.Z(N.W.GET,t,{timeout:3e3});s.setHeader("Accept","application/json");const a=s.send();return this.logRequest(a,{apiName:"breakingNews"}),a.then((t=>{if(!t.body)throw new Error("BreakingNewsClient.EmptyResponseBody");return((e,t)=>{const s=(0,h.u9)(e,"data.breakingnews.stream",[]).find((e=>{const s=(0,h.u9)(e,"editorialContent.severity","");return t||Mi.indexOf(s)>-1}));return s?{id:s.id||"",title:v()((0,h.u9)(s,"editorialContent.title","")),clickUrl:v()((0,h.u9)(s,"editorialContent.linkUrl","")),severity:v()((0,h.u9)(s,"editorialContent.severity",""))}:{}})(t.body,e)})).catch((e=>{throw e=this.handleCommonError(e)}))}}const bi=S.JKT+"/sender_rollup_api";class yi extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,crumb:s,guidHash:a}){super({loggerName:S.BrN.SenderRollupClient,loggerParams:e,crumb:s}),this.appId=t,this.ymreqidGenerator=new g.Z(a,S.N7x,S.Q_q)}getDefaultUrlParams(){return{appid:this.appId,ymreqid:this.ymreqidGenerator.generate(),crumb:this.crumb}}sendersApi(e){const t=this.getDefaultUrlParams(),s=bi+"/sender_rollup",a=new N.Z("GET",s).send(Object.assign({},t,e));return this.logRequest(a,{apiName:"sendersApi"}),a}}class vi extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,crumb:s,wssid:a,guidHash:n,endpoints:r,config:o={},timezone:i={}}={}){(0,m.Z)(r.BOOTCAMP_HOST,"BOOTCAMP_HOST is missing in endpoints"),super({loggerName:S.BrN.CloudStorageClient,loggerParams:e,crumb:s,wssid:a,endpoints:r}),this.appId=t,this.timezone=i.name,this.ymreqidGenerator=new g.Z(n,S.N7x,S.Q_q),this.cloudStorageHost=(0,p._)(o,"useBootcampYCPIProxy")?"":this.endpoints.BOOTCAMP_HOST,this.mailYAIEnabled=(0,p._)(o,S.ANe.MAIL_YAI)||(0,p._)(o,S.ANe.POTENTIAL_MAIL_YAI)}_getHttpTransport(e,t,s){return new N.Z(e,t,s)}_handleInternalServerError(e){const{statusCode:t,errorCode:s}=e;if(500===t){const a=(0,h.u9)(e,"data.body.code","")||s;return new C.Z("CloudStorageClient.CloudStorageResultsError",{statusCode:t,errorCode:a,body:e.getDataByName("body","")})}return null}handleWssidReissueError(e){const{statusCode:t}=e;if(403===t){const s=(0,h.u9)(e,"data.body.code","");if("Client.ClientRedirect.SessionIdReissue"===s){const a=(0,h.u9)(e,"data.body.wssid","");if(a)return this.wssid=a,new C.Z(A.bD,{statusCode:t,errorCode:s,wssid:a})}}return null}handleCommonError(e){let t=null;return e=C.Z.errorify(e),t||(t=this.handleYdodError(e)),t||(t=this.handleWssidReissueError(e)),t||(t=this._handleInternalServerError(e)),t||e}isRetryableError(e,t){return t<1&&e.name===A.bD}_getDefaultUrlParams(){return{appid:this.appId,wssid:this.wssid,allowGoogleDocs:1,timezone:this.timezone,timeout:6e4,clientId:"mailsearch",ymreqid:this.ymreqidGenerator.generate(),...this.getMailboxParams()}}getContentProviders(){const{appid:e,wssid:t,ymreqid:s}=this._getDefaultUrlParams(),a=`${this.cloudStorageHost}/psearch/v3/contentProviders?allsources=1${this.mailYAIEnabled?"&enableModules=ai":""}`,n=this._getHttpTransport("GET",a,{httpRetry:this.httpRetry});n.setHeader("Accept","application/json"),n.withCredentials=!0;const r=n.send({appid:e,wssid:t,ymreqid:s});return this.logRequest(r,{ymreqid:s,apiName:"getContentProviders"}),r.then((e=>JSON.parse(e.text).reduce(((e,t)=>{const{name:s,isConnected:a,additionalProperties:n={}}=t,r=(n.additionalStatus||[]).reduce(((e,t)=>Object.assign(e,{[t.name]:"connected"===t.status})),{});return s===S.hKF.THIRD_PARTY_AI&&(r.tosStatus=(null==t?void 0:t.tosStatus)||"",r.indexStatus=(null==t?void 0:t.indexStatus)||""),Object.assign(e,{[s]:{isConnected:a,connectionDetails:r}})}),{}))).catch((e=>{throw e=this.handleCommonError(e)}))}cloudStorageItems(e,t=0){const s=this._getDefaultUrlParams(),{wssid:a,source:n,mailboxid:r,ymreqid:o,appid:i,timezone:l,offset:c,query:d,path:_,accountId:E}={...s,...e},u=0!==c?`&cursor=${c}`:"",m=n===S.hKF.YMAIL?"&mimeTypes=images,docs":"",p=`${this.cloudStorageHost}/psearch/v3/items?source=${n}&wssid=${a}&order=name&mailboxid=${r}&appid=${i}${u}${m}${d?`&query=${encodeURIComponent(d)}`:`&path=${encodeURIComponent(_)}`}&accountIds=${E}`,C=this._getHttpTransport("GET",p,{httpRetry:this.httpRetry});C.setHeader("Accept","application/json"),C.withCredentials=!0;const A={ymreqid:o,retryCount:t,provider:n,apiName:"cloudStorageItems"},T=C.send({ymreqid:o});return this.logRequest(T,A),T.then((e=>x(JSON.parse(e.text),{listContentType:S.F6k.CLOUD_STORAGE_ITEMS},{timezone:l}))).catch((s=>{if(s=this.handleCommonError(s),this.isRetryableError(s,t))return this.cloudStorageItems(e,++t);throw s}))}getShareableLink(e){const t=this._getDefaultUrlParams(),{itemId:s,wssid:a,ymreqid:n,appid:r}={...t,...e},o=`${this.cloudStorageHost}/psearch/v3/items/${encodeURIComponent(s)}/shareableLink?wssid=${a}&appid=${r}`,i=this._getHttpTransport("GET",o,{httpRetry:this.httpRetry});i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={ymreqid:n,provider:e.provider,apiName:"getShareableLink"},c=i.send({ymreqid:n});return this.logRequest(c,l),c.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}getFilePermissions(e){const t=this._getDefaultUrlParams(),{itemId:s,wssid:a,ymreqid:n,appid:r}={...t,...e},o=`${this.cloudStorageHost}/psearch/v3/items/${encodeURIComponent(s)}/permission?wssid=${a}&appid=${r}`,i=this._getHttpTransport("GET",o,{httpRetry:this.httpRetry});i.setHeader("Accept","application/json"),i.withCredentials=!0;const l={ymreqid:n,provider:e.provider,apiName:"getFilePermissions"},c=i.send({ymreqid:n});return this.logRequest(c,l),c.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}linkContentProvider(e){const t=this._getDefaultUrlParams(),{wssid:s,appid:a,provider:n,ymreqid:r}={...t,...e},o=e.unlink?"/remove":"",i=`${this.cloudStorageHost}/psearch/v3/contentProviders/${n}${o}?appid=${a}&wssid=${s}&ymreqid=${r}`,l={redirectUrl:`https://${window.location.hostname}/d/oAuth`,errorUrl:`https://${window.location.hostname}/d/oAuth`},c=this._getHttpTransport("POST",i,{httpRetry:this.httpRetry});c.setHeader("Accept","application/json"),c.withCredentials=!0;const d={ymreqid:r,crumb:this.crumb,provider:e.provider,apiName:"linkContentProvider",unlinkAction:e.unlink||!1},_=c.send(l);return this.logRequest(_,d),_.then((e=>JSON.parse(e.text))).catch((e=>{throw e=this.handleCommonError(e)}))}}class Fi extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,crumb:s,isOnline:a,guidHash:n,httpRetry:r,cookie:o,requestQueue:i}){super({loggerName:S.BrN.MarketingPreferencesAPIClient,loggerParams:t,crumb:s,isOnline:a}),this.proxyURL=`${S.jQ2}/marketing_preferences/`,this.crumb=s,this.appid=e,this.httpRetry=r,this.requestQueue=i,this.cookie=o,n&&(this.ymreqidGenerator=new g.Z(n,S.N7x,S.Q_q))}request(e,t){if(!this.ymreqidGenerator)throw new Error("`ymreqid` cannot be generated.");const s=this.ymreqidGenerator.generate(),a=this.proxyURL+e,n=N.W.GET,r={apiName:e,crumb:this.crumb,ymreqid:s};let o={crumb:this.crumb,ymreqid:s};if("unsubscribe"===e||"subscribe"===e){const{preferenceCode:e,email:s}=t;o={...o,email:s,appname:this.appid},e&&(o.preferences=e,r.preferences=e)}const i=new N.Z(n,a,{timeout:3e4,httpRetry:this.httpRetry,apiName:e});i.setHeader("Accept","application/json"),i.setHeader("Content-Type","application/x-www-form-urlencoded");const l=te.Z.feature(S.BrN.MarketingPreferencesAPIClient,r),c=i.send(o);return c.then(l.logSuccessAndLatency,l.logFailure),c}unsubscribe(e={}){return this.requestQueue.add(this.request.bind(this,"unsubscribe",e),"marketingPreferences.unsubscribe")}subscribe(e={}){return this.requestQueue.add(this.request.bind(this,"subscribe",e),"marketingPreferences.subscribe")}}var Ui=s(12779);const ki={offerImage:"offerImg",logoImage:"logoImg",toolTipImage:"tooltipImg"},wi=e=>e.reduce(((e,t)=>{const{name:s,url:a="",alt:n="",...r}=t,o=s.search(/\dx/),i=-1===o?s:s.slice(0,o),l=-1===o?"1x":s.slice(o),c=ki[i];return c&&("1x"===l&&(e[`${c}Alt`]=n&&(0,Pa.sanitizeData)(n)||""),e[c]={...e[c],..."1x"===l?{oneX:a&&(0,Pa.sanitizeData)(a)||""}:{twoX:a&&(0,Pa.sanitizeData)(a)||""},...r}),e}),{}),Gi=(e={})=>{const{status:t,body:s={}}=e,{result:a={}}=s,{placements:n=[]}=a;if(t>204||0===n.length)return{mailoverlay:void 0};const{offers:r=[]}=n[0]||{};if(0===r.length)return{mailoverlay:void 0};const{content:o={},meta:i={}}=r[0],{headline:l,summary:c,cta:d,images:_=[],clickUrl:E,impressionUrl:u,additionalProperties:m}=o,{i13nMeta:S=""}=i,{marketingPrefCode:p,renderContext:C,renderTemplate:A,tooltipText:T,creativeId:I,clickContext:h,...g}=m||{};return{mailoverlay:{...g,productCode:p,cueTypeComponent:C||Ui.j4.MODAL,template:A,redirectUrl:E||"",impressionTracker:u||"",headingText:l,descriptionText:c,ctaText:d,tooltipText:T,version:I,clickContext:h,i13nMeta:S,...wi(_)}}};var Hi=s(71887);class Bi extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,endpoints:a,timezone:n={},...r}){super({...r,loggerParams:e,loggerName:S.BrN.FalconAPIClient}),this.endpoints=a,this.appid=t,this.timezone=n.name,this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q),this.host=`${this.endpoints.BOOTCAMP_HOST}/f`}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=S.f2m.GET,s={}){const a=new N.Z(t,e);return a.setHeader("Content-Type","application/json"),a.setHeader("Accept","application/json"),(0,h.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a=S.f2m.GET,n={}){const{reqHeaders:r={}}=n,o=this.transport(e,a,r).send(t);return this.logRequest(o,s),o}getFalconTOMSubscriptions(e,t=[],s,a="",n="",r,o,i){const{wssid:l,appid:c,timezone:d}=this,{guid:_}=window.AppBootstrapData,u=this.getRequestId(),m=(0,E.stringify)({appid:c,guid:_,wssid:l,mboxid:r,acctid:o,email:i,timezone:d,ymreqid:u}),p=`${`${this.host}/suboffers/emails`}?${m}`,C={apiName:"getFalconTOMSubscriptions",ymreqid:u,groupIds:t.join(","),groupIdsCount:t.length,prefetchMode:s,openedGroupId:a,openedMessageId:n,containsOpenedGroupId:t.includes(a)};return this.request(p,e,C,S.f2m.POST).then((e=>((e,t,s="")=>{var a;if(null!=e&&null!==(a=e.result)&&void 0!==a&&a.subofferMap){const a=e.result.subofferMap||[],n=Object.keys(a),r=[];let o,i;return n.filter((e=>!!a[e].length)).reduce(((e,n)=>{if(a[n].length){const{gemini:c={},sku:d}=a[n][0],{ads:_=[]}=c,E=_[0];try{const{tag:e,beacon:t=""}=E;o=JSON.parse(e),i=t}catch(l){te.Z.error("Falcon ad tag is not valid JSON")}if(o){const a=le(E,o),{adHeadline:l,adSummary:c,callToAction:_,adImg:u,clickUrl:m,impressionTrackingUrls:S,creativeId:p}=a,C={strings:{heading:(0,Pa.sanitizeData)(l),body:(0,Pa.sanitizeData)(c),ctaText:(0,Pa.sanitizeData)(_)},falconTOMImageUrl:(0,Pa.sanitizeData)(u),impressionTracker:S[0]||"",impressionBeacon:i,redirectUrl:m,version:p,messageId:n,ymreqid:t,sku:d,isPrefetched:n!==s};e.push(C),r.push(n)}}return e}),[])}return[]})(e.body,u,n)))}getOfferDecision({selectedOfferId:e,placementname:t}){const{appid:s}=this,a={appid:s,ymreqid:this.getRequestId(),placementname:t};e&&(a.keyword=e,a.placementname="mail-overlay-override");const n=`${`${this.host}/od`}?${(0,E.stringify)(a)}`,r={apiName:"getOfferDecision",...a};return this.request(n,{},r).then((e=>Gi(e)))}getFocusedInbox(e,t,s,a=Hi.k){const{appid:n,wssid:r}=this,o={appid:n,ymreqid:this.getRequestId(),mboxid:e,wssid:r,accid:t,folderid:s,count:a},i={apiName:"getFocusedInbox",...o},l=`${`${this.host}/eml/focused`}?${(0,E.stringify)(o)}`;return this.request(l,{},i,S.f2m.GET).then((e=>Ks({response:e.body})))}getOfferDecisionByAction({payload:e=[]},t){const{appid:s}=this,a={appid:s,ymreqid:this.getRequestId(),placementname:t},n=`${`${this.host}/od`}?${(0,E.stringify)(a)}`,r={apiName:"getOfferDecisionByAction",...a};return this.request(n,e,r,S.f2m.POST).then((e=>Gi(e)))}getTopOfInboxCards(e,t=[],s=15){const{wssid:a,appid:n,timezone:r}=this,o=this.getRequestId(),i=(0,E.stringify)({appid:n,wssid:a,mboxid:e,timezone:r,ymreqid:o,count:s}),l=t.length?"&enableModules="+t.join(","):"",c=`${`${this.host}/cards/top`}?${i}${l}`,d={apiName:"getTopOfInboxCards",appid:n,wssid:a,mboxid:e,timezone:r,ymreqid:o,count:s};return this.request(c,{},d).then((e=>((e={})=>{var t,s;const a=(null==e||null===(t=e.body)||void 0===t||null===(s=t.result)||void 0===s?void 0:s.cards)||[];return a.length&&a.map((e=>{const{subType:t="",data:s={},type:a=""}=e,{cardId:n,cardConversationId:r,headers:o}=s;if(n&&r||a===S.MKR.GN_CLAIM_HINT){if(t===S.MKR.PKG){var i,l,c,d,_;const{deliveryStatus:e=[],trackingNumber:a="",trackingUrl:E="",itemShipped:u=[],expectedArrivalFrom:m="",expectedArrivalUntil:p="",deliveryAddress:C={},partOfOrder:A=[]}=(null===(i=s.schemaOrg[0])||void 0===i?void 0:i.schema)||{},T=e=>{let t=e;for(const s in S.TS)t.includes(s)&&(t=s);return t in S.TS||(t=S.TS.Unknown),t};let I=(null===(l=e[e.length-1])||void 0===l?void 0:l.alternateName)||(null===(c=A[0])||void 0===c?void 0:c.orderStatus)||S.TS.Unknown;if(I=T(I),I===S.TS.Unknown)return;const h=u.map((e=>e.alternateName||e.name||"")).filter((e=>e)),g={locality:C.addressLocality,region:C.addressRegion},O=null==o||null===(d=o.from[0])||void 0===d?void 0:d.email;return{cardId:n,latestDeliveryStatus:I,trackingNumber:a||(null===(_=A[0])||void 0===_?void 0:_.orderNumber),trackingUrl:E,subType:t,itemsShipped:h,expectedArrival:p||m||"",deliveryAddress:g,ccId:r,fromEmail:O,deliveryTimeline:Array.isArray(e)?e.map((e=>{var t,s;let a=(null==e?void 0:e.alternateName)||S.TS.Unknown;if(a=T(a),a!==S.TS.Unknown&&e.description&&e.startDate)return{deliveryStatus:a,description:e.description,location:{locality:null===(t=e.location)||void 0===t?void 0:t.addressLocality,region:null===(s=e.location)||void 0===s?void 0:s.addressRegion},time:e.startDate}})).filter((e=>e)).reverse():[]}}if(a===S.MKR.GN_CLAIM_HINT){var E,u,m;const{cards:e=[],message:t={}}=s;let n={},r={},o="";for(const s of e){const{subType:e="",data:a={}}=s;if(e===S.MKR.PCS){var p;const{id:e="",cardId:s="",cardConversationId:r=""}=a,{schema:i={}}=(null==a||null===(p=a.schemaOrg)||void 0===p?void 0:p[0])||{};o=r;const{acceptedOffer:l={},orderDate:c="",inferredOrderDate:d="",orderedItem:_=[],seller:E={}}=i,{price:u="",priceCurrency:m="USD"}=l,S=u?`${Gt()(m)||"$"}${u}`:"",{name:C,image:A}=E;n={cardId:e||s,price:S,orderDate:c||d,sellerName:C||"",sellerImage:A,orderedItems:_.map((e=>e.name)),messageId:t.id}}else if(e===S.MKR.CPN){var C;const{id:t="",cardId:s=""}=a,{schema:n={}}=(null==a||null===(C=a.schemaOrg)||void 0===C?void 0:C[0])||{},{description:o="",promoCode:i="",validThrough:l="",broker:c={},seller:d={},provider:_={}}=n;(0,h.xb)(r)&&(r={cardId:t||s,description:o,promoCode:i,validThrough:l,subType:e,sellerName:(null==c?void 0:c.name)||(null==d?void 0:d.name)||(null==_?void 0:_.name)||""})}else if(e===S.MKR.EEG){var A;const{id:t="",cardId:s=""}=a,{schema:n={}}=(null==a||null===(A=a.schemaOrg)||void 0===A?void 0:A[0])||{},{amount:o={},provider:i={}}=n,{currency:l="",validFrom:c="",value:d=""}=o,_=d?`${Gt()(l)||"$"}${d}`:"";(0,h.xb)(r)&&(r={cardId:t||s,value:_,validFrom:c,subType:e,sellerName:(null==i?void 0:i.name)||""})}}if((0,h.xb)(r)||(0,h.xb)(n)||!o)return;return{receiptCard:n,discountCard:r,subType:a,ccId:o,cardId:n.cardId,fromEmail:null===(E=t.headers)||void 0===E||null===(u=E.from)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.email}}}})).filter((e=>e))||[]})(e)))}}class xi extends u.Z{constructor({appId:e=S.JfS,loggerParams:t,guid:s,guidHash:a,tastemakerConfig:n,queryStringOverrides:r}){super({loggerName:S.BrN.TastemakerClient,loggerParams:t}),this.appId=e,this.guid=s,this.ymreqidGenerator=new g.Z(a,S.N7x,S.Q_q),this.tastemakerConfig=n,this.ncid=(null==r?void 0:r.ncid)||""}consumeTastemaker(e){var t;if(!e)throw new C.Z("TastemakerApiClient.FeatureNameMissing");const s=S.ryB[e],a={sku:s,orderId:(0,Pa.generateUID)(),attributes:{ncid:this.ncid,userAgent:(null===(t=window.navigator)||void 0===t?void 0:t.userAgent)||""}},{tastemakerUrl:n}=this.tastemakerConfig,r=n+"/mail",o=new N.Z(N.W.POST,r,{timeout:5e3}),i={apiName:"consumeTastemaker",sku:s,ymreqid:this.ymreqidGenerator.generate()};this.setTastemakerRequestHeader(o,e);const l=o.send(a);return this.logRequest(l,i),l.catch((e=>{throw e=this.handleCommonError(e)}))}deleteTastemaker(e){if(!e)throw new C.Z("TastemakerApiClient.FeatureNameMissing");const t=S.ryB[e],s={orderId:(0,Pa.generateUID)(),sku:t},{tastemakerUrl:a}=this.tastemakerConfig,n=`${a}/delmail?${E.stringify(s)}`,r=new N.Z(N.W.POST,n,{timeout:5e3}),o={apiName:"deleteTastemaker",sku:t,ymreqid:this.ymreqidGenerator.generate()};this.setTastemakerRequestHeader(r,e);const i=r.send({});return this.logRequest(i,o),i.catch((e=>{throw e=this.handleCommonError(e)}))}setTastemakerRequestHeader(e,t){const{tastemakerSessionId:s,beaconHashes:a}=this.tastemakerConfig,n=a[t];e.setHeader("Content-Type","application/json"),e.setHeader("x-session-id",s),e.setHeader("x-requested-by",n),e.withCredentials=!0}}const Vi=(e,t)=>Number(t.enable)-Number(e.enable);const Zi={getBlockPayload:(e,{mailboxId:t})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"GET",payload:{}}),transformResponse:e=>function(e={}){var t;return((null==e||null===(t=e.result)||void 0===t?void 0:t.savedSearches)||[]).filter((e=>"BLOCKED_DOMAINS"===e.types[0])).map((({id:e,enable:t=!1,name:s})=>({id:e,enable:t,name:s}))).sort(Vi)}(e.response)},Wi="GetSavedSearches",Ki={getBatchPayload:({mailboxId:e})=>({requests:[Zi.getBlockPayload(Wi,{mailboxId:e})]}),transformResponses:({successMap:e})=>Zi.transformResponse(e[Wi])};const zi={getBlockPayload:(e,{mailboxId:t,domainName:s})=>({id:e,uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches`,method:"POST",payload:{savedSearch:{name:s,query:`acctid:1 AND from:"*@${s}"`,priority:2e3,types:["BLOCKED_DOMAINS"]}}}),transformResponse:e=>function(e={}){const{id:t,enable:s,name:a}=(null==e?void 0:e.result)||{};return{id:t,enable:s,name:a}}(e.response)},Yi="CreateSavedSearches",ji={getBatchPayload:e=>{const{domainNames:t,mailboxId:s}=e,a=t.map((e=>zi.getBlockPayload(Yi+`-${e}`,{domainName:e,mailboxId:s})));return a[a.length-1]={...a[a.length-1],...Ki.getBatchPayload(e)},{requests:a}},transformResponses:({successMap:e})=>Ki.transformResponses({successMap:e})};const qi={getBlockPayload:(e,{mailboxId:t,id:s})=>({id:e,payload:"",method:"DELETE",uri:`/ws/v3/mailboxes/@.id==${t}/savedsearches/@.id==${s}`}),transformResponse:e=>e.response},Xi="DeleteSavedSearches",Qi={getBatchPayload:e=>({requests:[{...qi.getBlockPayload(Xi,e),...Ki.getBatchPayload(e)}]}),transformResponses:({successMap:e})=>Ki.transformResponses({successMap:e})},Ji=(e,t)=>{const{messageId:s,mailboxId:a,schemaOrgToUpdate:n}=t;if(!n||!s)throw new Error("POST Update Message schemaOrg requires a list of non empty messageId and schema to update.");return{id:e,uri:`/ws/v3/mailboxes/@.id==${a}/messages/@.id==${s}`,method:"POST",payload:{message:{schemaOrg:n}}}},$i="UpdateSchemaOrg",el={getBatchPayload:({mailboxId:e,messageSchemaOrgPayloads:t=[]})=>({requests:t.map(((t,s)=>{const a=$i+"_"+s,{messageId:n,schemaOrgToUpdate:r}=t;return Ji(a,{mailboxId:e,messageId:n,schemaOrgToUpdate:r})}))}),getBatchError:({successMap:e,failureMap:t})=>Object.keys(e).length?null:new Ms.Z("All requests in method `messages.updateSchemaOrg` failed.",t),transformResponses:()=>1};class tl extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,guidHash:s,wssid:a,httpRetry:n,isOnline:r,cookie:o,endpoints:i,userNamespace:l,locale:c,colo:d}){super({loggerName:S.BrN.SubDispatcherAPIClient,loggerParams:e,wssid:a,isOnline:r}),(0,m.Z)(i.GLOBAL_HOST,"GLOBAL_HOST is missing in Dispatcher API Client endpoints");const _={guidHash:s,httpRetry:n,isOnline:r,host:("corp"!==d?"":i.GLOBAL_HOST)+"/subdispatcher",endpoints:i};(0,m.Z)(_.guidHash,"Dispatcher API - `guidHash` is a required option"),this.ymreqidGenerator=new g.Z(_.guidHash,S.N7x,S.Q_q),this.appId=t,this.httpRetry=_.httpRetry,this.cookie=o,this.instanceOptions=_,this.userNamespace=l,this.locale=c}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=N.W.GET,s={}){const a=new N.Z(t,e,{httpRetry:this.httpRetry});return t===N.W.GET&&(a.setHeader("Content-Type","application/json"),a.setHeader("Accept","application/json")),(0,h.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}request(e,t,s,a,n={}){const{reqHeaders:r={}}=n,o=this.getRequestId(),i=this.appId;t={...t,irid:o,appId:i,ns:this.userNamespace},s={...s,ymreqid:o};const l=this.transport(e,a,r).send(t);return this.logRequest(l,s,null),l}plutusSubscriptionUpsells({optOutCodes:e=[],selectedOfferId:t,clientos:s="",bucket:a}){const n={context:"mailoverlay,mailsidebar",device:"desktop",locale:this.locale,optout:e.join(","),clientos:s,bucket:a};let r=this.instanceOptions.host;return t&&(n.forceOfferId=t),this.userNamespace===S.Tzw.AOL&&((0,ue.Eo)()?r="/subdispatcher/aol":r+="/aol"),this.request(r+"/mailapi",n,{apiName:"plutusSubscriptionUpsells"}).then((e=>(e=>{const{status:t,body:s}=e||{},{offers:{mailoverlay:a=[]}={},irid:n}=s||{},{status:r,productSKU:o,offerId:i,context:l,ctaURL:c,template:d,..._}=a[0]||{};if(se.Z.error("plutusSubscriptionUpsellsMapperLog",{status:t,bodyExists:!!s,mailoverlayLength:a.length,mailoverlayStatus:r,offerId:i,template:d,irid:n}),t>204||!s||!a.length||r>204||!i||"empty"===i)return{mailoverlay:void 0};const{impressionTracker:E,logoImg:u,logoImgAlt:m,tooltipImg:S,tooltipImgAlt:p,offerImg:C,offerImgAlt:A}=_;return{mailoverlay:{..._,impressionTracker:E?(0,Pa.sanitizeData)(E):E,logoImg:u?{...u,oneX:(0,Pa.sanitizeData)(u.oneX),twoX:(0,Pa.sanitizeData)(u.twoX)}:u,logoImgAlt:m?(0,Pa.sanitizeData)(m):m,tooltipImg:S?{...S,oneX:(0,Pa.sanitizeData)(S.oneX),twoX:(0,Pa.sanitizeData)(S.twoX)}:S,tooltipImgAlt:p?(0,Pa.sanitizeData)(p):p,offerImg:C?{...C,oneX:(0,Pa.sanitizeData)(C.oneX),twoX:(0,Pa.sanitizeData)(C.twoX)}:C,offerImgAlt:A?(0,Pa.sanitizeData)(A):A,productCode:o,version:i,cueTypeComponent:l||Ui.j4.MODAL,redirectUrl:c?(0,Pa.sanitizeData)(c):c,template:d}}})(e)))}}const sl="GetFolders",al="GetMessageFilters",nl={getBatchPayload:({mailboxId:e})=>({requests:[go.getBlockPayload(al,{mailboxId:e}),Es(sl,{mailboxId:e})]}),transformResponses:({successMap:e},{appId:t})=>{let s=!0,a={};const n=us(e[sl],{appId:t}),r=go.transformResponse(e[al]);return e[al]?a={savedSearchMessageFilters:r,folders:n}:s=!1,{responses:a,success:s}}},rl={getBlockPayload({mailboxId:e,newFilter:t,actionType:s,accountId:a}){let n="createFilter_"+t.priority,r=`/ws/v3/mailboxes/@.id==${e}/savedsearches`;return"update"===s&&(n="updateFilter_"+t.id,r=`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`),{id:n,uri:r,method:"POST",payload:{savedSearch:{name:t.name,query:Mo(t,a),priority:t.priority,types:["USER"],decorations:[{id:"F"+(t.folderId||"1"),type:"FOLDER"}]}}}},transformResponse(e){var t;return null==e||null===(t=e.response)||void 0===t?void 0:t.result}},ol={getBatchPayload:e=>{const{mailboxId:t,newFilter:s,actionType:a,accountId:n}=e;return{requests:[rl.getBlockPayload({mailboxId:t,newFilter:s,actionType:a,accountId:n})]}},transformResponses:({successMap:e},{actionType:t,newFilter:{priority:s,id:a}})=>{const n="update"===t?"updateFilter_"+a:"createFilter_"+s;return rl.transformResponse(e[n])}},il={getBlockPayload:({mailboxId:e,newFilter:t})=>({id:"deleteFilter_"+t.id,payload:{},method:"DELETE",uri:`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`}),transformResponse:e=>e.response},ll={getBatchPayload:e=>({requests:[il.getBlockPayload(e)]}),transformResponses:({successMap:e})=>il.transformResponse({successMap:e})},cl={getBlockPayload:({mailboxId:e,newFilter:t})=>({id:"updateFilterPriority_"+t.id,uri:`/ws/v3/mailboxes/@.id==${e}/savedsearches/@.id==${t.id}`,method:"POST",payload:{savedSearch:{priority:t.priority}}}),transformResponse:e=>e.response},dl={getBatchPayload:e=>{const{filtersToUpdate:t=[],mailboxId:s,accountId:a,actionType:n}=e,r=[];if(t.length){t.map((e=>cl.getBlockPayload({actionType:n,mailboxId:s,newFilter:e,accountId:a}))).forEach((e=>{r.push(e)}))}return{requests:r}},transformResponses:({successMap:e})=>cl.transformResponse({successMap:e})},_l="weathergeo",El=".aol.com",ul={lat:"40.71455",lon:"-74.007118",city:"New York",state:"NY",country:"US",zip:"0",woeid:"12761369"},ml=e=>"number"==typeof e?e.toString():"",Sl=e=>"number"==typeof e?Math.round((e-32)/1.8).toString():"",pl=(e,t)=>e&&e.length?{weatherLocationSuggestions:{query:t,suggestions:e.splice(0,16)}}:{weatherLocationSuggestions:{query:t,suggestions:[]}};var Cl=s(60536);function Al(e={window}){return function(e){if(e){const t=e.replace(/"/g,"").split("|"),s={lat:"",lon:"",city:"",state:"",country:"",zip:"",woeid:""};return[s.lat="",s.lon="",s.city="",s.state="",s.country="",s.zip="",s.woeid=""]=t,s}return ul}(new Cl.p(e,_l,{path:"/",domain:El,plainText:!0}).browserGetText())}class Tl extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,endpoints:a,timezone:n={},...r}){super({...r,loggerParams:e,loggerName:S.BrN.WeatherClient}),this.endpoints=a,this.appid=t,this.timezone=n.name}transport(e,t=S.f2m.GET){const s=new N.Z(t,e);return s.setHeader("Accept","application/json"),s.withCredentials=!0,s}request(e,t,s=S.f2m.GET,a={}){const{reqHeaders:n={}}=a,r=this.transport(e,s,n).send();return this.logRequest(r,t),r}getWeatherData(e){const t=Al(e),{woeid:s,lat:a,lon:n}=t,r=`/weather_api/v3/weather/all?${(0,E.stringify)({woeid:s,lat:a,lon:n,format:"json",language:"en-US"})}`;return this.request(r,{apiName:"getWeather"},S.f2m.GET).then((e=>((e,t)=>{var s,a,n,r;const o=null==e||null===(s=e.current_observations)||void 0===s||null===(a=s.result)||void 0===a?void 0:a[0],i=null==e?void 0:e.daily_forecasts.result[0],{city:l,state:c,country:d}=t,_=(null==e||null===(n=e.unified_geo_locations)||void 0===n||null===(r=n.result)||void 0===r?void 0:r[0].country_code)||d,E="US"===d||"United States"===d?c:_;return{weatherData:{tempsF:{current:ml(null==o?void 0:o.temperature),low:ml(null==i?void 0:i.low_temperature),high:ml(null==i?void 0:i.high_temperature)},tempsC:{current:Sl(null==o?void 0:o.temperature),low:Sl(null==i?void 0:i.low_temperature),high:Sl(null==i?void 0:i.high_temperature)},city:l,governorate:E,conditionDescription:(null==o?void 0:o.condition_description)||"",conditionCode:null==o?void 0:o.condition_code}}})(null==e?void 0:e.body,t)))}getWeatherLocationSuggestions(e){if(!e){return new Promise((e=>{e(pl(null,""))}))}const t=`/weather_api/v4/weather/location?${(0,E.stringify)({query:e})}`;return this.request(t,{apiName:"getWeather"},S.f2m.GET).then((t=>pl(t.body,e)))}}class Il extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s,endpoints:a,timezone:n={},...r}){super({...r,loggerParams:e,loggerName:S.BrN.SpellCheckClient}),this.endpoints=a,this.appid=t,this.timezone=n.name}request(e,t){const s=new N.Z(N.W.POST,e);s.withCredentials=!0;const a={check:t},n=(0,E.stringify)(a),r=s.send(n);return this.logRequest(r,{apiName:"getSpellCheckSuggestions"}),r.catch((e=>{throw e}))}getSpellCheckSuggestions(e){if(!e)return new Promise((e=>{e({hitLimit:!1,sets:{},isSuccess:!0})}));return this.request("/webmail-std/spellcheck",e).then((e=>{const t=(null==e?void 0:e.body)||{};return t.timeStamp=Date.now(),{spellCheckData:t}}))}}function hl(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class gl{constructor({httpRetry:e,appId:t}){hl(this,"transport",((e,t=N.W.GET)=>{const s=new N.Z(t,e,{httpRetry:this.httpRetry,timeout:{deadline:12e4,response:9e4}});return s.setHeader("Accept","application/json"),s.withCredentials=!0,s})),hl(this,"fetchAffiliateCrumbApi",(()=>{const e=`/apps/directly?brandUrl=${encodeURIComponent("https://www.xyz.com")}&appName=${this.appId}`;return this.transport(e).send().then((e=>function(e={}){const{statusCode:t,error:s={}}=e,{code:a,wssid:n=""}=s;if(400===t)throw new C.Z(A.yM);if(401===t&&"EC-4003"===a&&n)return{affiliateCrumb:n};throw new C.Z(A.Hs)}(e.body)))})),this.appId=t,this.httpRetry=e}}class Ol extends u.Z{constructor({loggerParams:e,appId:t=S.JfS,httpRetry:s}){super({loggerName:S.BrN.MailppApiClient,loggerParams:e}),this._request=new gl({appId:t,httpRetry:s}),this.appId=t}fetchAffiliateCrumb(e,t){const s={apiName:e},a=this._request.fetchAffiliateCrumbApi(t);return this.logRequest(a,s),a.catch((t=>{throw t=this.handleCommonError(t,e)}))}request(e,t){return this[e](e,t)}}class Dl extends u.Z{constructor({loggerParams:e,appId:t,guidHash:s="",wssid:a,config:n={},timezone:r,...o}){super({...o,loggerParams:e,loggerName:S.BrN.YaiClient}),this.appid=t,this.timezone=(null==r?void 0:r.name)||"",this.wssid=a,this.host=`${(0,p.N)(n,S.Zrf.YAI_URL)}/yai`,this.ymreqidGenerator=new g.Z(s,S.N7x,S.Q_q)}getRequestId(){return this.ymreqidGenerator.generate()}transport(e,t=S.f2m.GET,s={}){const a=new N.Z(t,e);return a.setHeader("Content-Type","application/json"),a.setHeader("Accept","application/json"),(0,h.xb)(s)||Object.keys(s).forEach((e=>{a.setHeader(e,s[e])})),a.withCredentials=!0,a}getYaiAvailability(){const{wssid:e,appid:t,timezone:s}=this,a=this.getRequestId(),n=(0,E.stringify)({appid:t,ymreqid:a}),r=`${this.host}/available?${n}`,o=this.transport(r,S.f2m.GET).send().then((e=>e.body));return this.logRequest(o,{apiName:"getYaiAvailability",appid:t,wssid:e,timezone:s,ymreqid:a}),o}postYaiOptin(e){const{wssid:t,appid:s,timezone:a}=this,n=this.getRequestId(),r=(0,E.stringify)({appid:s,ymreqid:n}),o=`${this.host}/optin?${r}`,i=this.transport(o,S.f2m.POST).send({optin:e}).then((e=>e.body));return this.logRequest(i,{apiName:"postYaiOptin",appid:s,wssid:t,timezone:a,ymreqid:n,optin:e}),i}getYaiSearchSuggestions(e){const{wssid:t,appid:s,timezone:a}=this,n=this.getRequestId(),r=(0,E.stringify)({appid:s,ymreqid:n,wssid:t,...e}),o=`${`${this.host}/searchsuggestions`}?${r}`,i={apiName:"getYaiSearchSuggestions",appid:s,wssid:t,timezone:a,ymreqid:n,query:e.query,accountIds:e.accountIds},l=this.transport(o,S.f2m.GET).send().then((e=>e.body));return this.logRequest(l,i),l}postYaiSearch(e){const{wssid:t,appid:s,timezone:a}=this,n=this.getRequestId(),r=(0,E.stringify)({appid:s,ymreqid:n,wssid:t}),o=`${`${this.host}/search`}?${r}`,i={...e},l={apiName:"postYaiSearch",appid:s,wssid:t,timezone:a,ymreqid:n,...e},c=this.transport(o,S.f2m.POST).send(i).then((e=>e.body));return this.logRequest(c,l),c}getYaiRefreshSearch(){const{wssid:e,appid:t,timezone:s}=this,a=this.getRequestId(),n=(0,E.stringify)({appid:t,ymreqid:a,wssid:e}),r=`${`${this.host}/refreshsearch`}?${n}`,o={apiName:"getYaiRefreshSearch",appid:t,wssid:e,timezone:s,ymreqid:a},i=this.transport(r,S.f2m.GET).send().then((e=>e.body));return this.logRequest(i,o),i}postComposeMessage(e){const{appid:t}=this,s=this.getRequestId(),a=(0,E.stringify)({genAI:!0,stream:!1,appid:t,ymreqid:s}),n=`${this.host}/composemsg?${a}`,r={apiName:"postComposeMessage",appid:t,ymreqid:s},o=this.transport(n,S.f2m.POST).send({...e}).then((e=>{var t;return null===(t=e.body)||void 0===t?void 0:t.body}));return this.logRequest(o,r),o}postYaiRetroCompose({messageId:e="",cardId:t="",sender:s}){const{wssid:a,appid:n,timezone:r}=this,o=this.getRequestId(),i=(0,E.stringify)({appid:n,ymreqid:o,wssid:a}),l=`${`${this.host}/retro`}?${i}`,c={apiName:"postYaiRetro",appid:n,wssid:a,timezone:r,ymreqid:o},d=this.transport(l,S.f2m.POST).send({mail_id:e,card_id:t,sender:s}).then((e=>e.body));return this.logRequest(d,c),d}}const Rl={"folders.get":Ss,"folders.delete":As,"folders.create":gs,"folders.rename":fs,"folderList.delete":Fs,"folderList.update":Gs,"folderChange.getList":pa,"launch.skeleton":Da,"launch.folder":fa,"launch.message":Ka,"launch.compose":Qa,"launch.messageGroup":cn,"mailbox.getAttributes":ha,"postLaunch.getComposeAttributes":ha,"postLaunch.postSync":Tn,"messageGroups.get":gn,"messageGroups.getFallback":gn,"messageGroups.getList":ia,"messageGroups.getPinnedList":Rn,"messageCards.getList":Ln,"couponCards.getParentMessage":Mn,"consolidatedCoupons.getList":ca,"productRecommendation.items":_a,"refundCards.getList":bn,"mailbox.get":wn,"mailbox.sync":Hn,"mailbox.syncNow":Wn,"accounts.get":Yn,"mrdMessages.get":Xn,"messages.getExtractions":Jn,"messages.getCompose":rr,"messages.getBodies":nr,"messages.getBodiesFull":nr,"messages.getExtractedBodies":ur,"messages.getExtractedBodiesFull":ur,"messages.prefetchGetBodies":nr,"messages.prefetchGetBodiesFull":nr,"messages.prefetchGetExtractedBodies":ur,"messages.prefetchGetExtractedBodiesFull":ur,"messages.getBodiesFallback":nr,"messages.getBodiesFullFallback":nr,"messages.getExtractedBodiesFallback":ur,"messages.getExtractedBodiesFullFallback":ur,"messages.getRawMessage":qr,"messages.prefetchGetBodiesFallback":nr,"messages.prefetchGetBodiesFullFallback":nr,"messages.prefetchGetExtractedBodiesFallback":ur,"messages.prefetchGetExtractedBodiesFullFallback":ur,"messages.saveV3":gr,"messages.autoSaveV3":gr,"sponsoredMessages.save":gr,"messages.saveAndSend":Mr,"messages.saveWithAttachment":gr,"messages.saveAndSendWithAttachment":Mr,"messages.send":Mr,"messages.updateDecos":yr,"messages.updateSchemaOrg":el,"messages.getDeletedMessages":Kr,"messages.UnifiedUpdate":Vr,"messages.readFlagUpdate":Vr,"messages.starFlagUpdate":Vr,"messages.move":Vr,"messages.delete":Vr,"messages.saveRawMessage":$r,"undo.list":so,"document.fetch":po,"task.status":Ao,"task.abort":ho,"settings.get":Fo,"settings.saveVacationPreferences":ko,"settings.saveMessageFilters":Go,"settings.saveBlockedSenders":Bo,"settings.saveMailClientVersionAttributes":Vo,"settings.saveWebMailboxAttributes":Vo,"settings.importExistingSettings":Vo,"landshark.updateInterstitial":Vo,"settings.getFeatureAttributes":Wo,"settings.addAccount":jo,"settings.updateAccount":Jo,"settings.deleteAccount":si,"settings.setBaseNameJWS":oi,"settings.getDEABaseNameSuggestions":li,"settings.resendConfirmEmail":_i,"settings.createAlias":mi,"unseenCount.reset":pi,"account.getAlerts":Ai,"account.updateAlerts":gi,"cards.create":Li,"senders.getList":vn,"savedSearches.getBlockedDomains":Ki,"savedSearches.addBlockedDomain":ji,"savedSearches.deleteBlockedDomain":Qi,"savedSearches.getMessageFilters":nl,"savedSearches.saveMessageFilters":ol,"savedSearches.deleteMessageFilter":ll,"savedSearches.updateMessageFilterPriority":dl},Nl={apiClientConstructors:{astraClient:Xt,athenaClient:os,autoSuggestClient:ye,bootcampClient:ee,breakingNewsClient:Pi,calendarClient:gt,cloudStorageClient:vi,credstoreClient:ve,mailppClient:Ol,subdispatcherAPIClient:tl,falconAPIClient:Bi,geminiAPIClient:Pe,linkEnhancerClient:qe,locationAutoSuggestClient:Rt,mailAPIClient:i.Z,marketingPreferencesAPIClient:Fi,obiApiClient:cs,relatedSearchesAPIClient:kt,senderRollupAPIClient:yi,smartReplyClient:fi,subscriptionAPIClient:Ut,videoAPIClient:class{constructor(e){this.lang=e.locale,this.region=e.region}request(e){const t={region:this.region,lang:this.lang,dev_type:"desktop",site:"mail",sort_by:"recent",channels:e.channel_alias,type:e.type,image_sizes:"175x219",locale:this.lang},s=ls+"/getVideos",a=new N.Z(N.W.GET,s);a.setHeader("Accept","application/json");const n=is.feature("video_api_client"),r=a.send(t);return r.then(n.logSuccessAndLatency,n.logFailure),r}},tastemakerClient:xi,weatherClient:Tl,spellCheckClient:Il,yaiAPIClient:Dl},batchMethods:Rl},Ll=[{app:S.BQZ.MAIL_APP,name:S.BQZ.MAIL_APP,isBasicApp:!1,ssrUnsupportedRoutes:[S.n8z.TODAYPAGE,S.n8z.SEARCH,S.n8z.SPONSORED_MESSAGE,S.n8z.SETTINGS,S.n8z.LIST,S.n8z.SUBSCRIPTION_LIST,S.n8z.SEND_CONFIRMATION,S.n8z.STOREFRONT,S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL,S.n8z.CONTACTS,S.n8z.ONBOARDING],paths:{[S.n8z.BASE]:"/",[S.n8z.LIST]:"/list/:serializedListId",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.FOCUSED_INBOX]:"/focused/:serializedListId",[S.n8z.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[S.n8z.NEW_DRAFT]:"/compose/:csid?",[S.n8z.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.SETTINGS]:"/settings/:settingsGroupId/:accountId?/:openReauth?",[S.n8z.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[S.n8z.TUTORIAL]:"/tutorial",[S.n8z.TODAYPAGE]:"/today",[S.n8z.SEND_CONFIRMATION]:"/send_confirmation",[S.n8z.STOREFRONT]:"/storefront/:query",[S.n8z.SUBSCRIPTION_LIST]:"/subscriptions/:query",[S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL]:"/emails_to_myself",[S.n8z.CONTACTS]:"/contacts",[S.n8z.ONBOARDING]:"/onboarding",[S.n8z.WALLET]:"/wallet/:query"},actionCreators:{},cssBundles:["mail_app"],jsBundles:["mail_app_vendor","mail_app","mail_app_es6_vendor","mail_app_es6"],ssrBundles:["mail_app"],container:{id:"mail-app-container"}},{app:S.BQZ.MAILBOXES_APP,name:S.BQZ.MAILBOXES_APP,appRootPath:S.ibP,isBasicApp:!1,ssrUnsupportedRoutes:[],paths:{[S.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/",[S.n8z.ADD_ACCOUNT_PROVIDER]:"/add/:provider",[S.n8z.ADD_MAILBOX_PROGRESS]:"/progress/:email"},cssBundles:["mailboxes_app"],jsBundles:["mailboxes_app_vendor","mailboxes_app"],container:{id:"mailboxes-app-container"}},{app:S.BQZ.MOBILE_APP,name:S.BQZ.MOBILE_APP,appRootPath:"/m",isBasicApp:!1,ssrUnsupportedRoutes:[S.n8z.SEARCH,S.n8z.SPONSORED_MESSAGE,S.n8z.PORTRAIT_AD],paths:{[S.n8z.BASE]:"/",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[S.n8z.LIST]:"/list/:serializedListId",[S.n8z.MESSAGE_FROM_LIST]:"/list/:serializedListId/messages/:groupId",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.EDIT_FOLDER]:"/folders/:fid/edit",[S.n8z.NEW_DRAFT]:"/compose/:csid?",[S.n8z.EDIT_DRAFT]:"/:serializedListId/edit/:csid",[S.n8z.SETTINGS]:"/settings",[S.n8z.SUBSCRIPTION_LIST]:"/subscriptions/:query",[S.n8z.CONTACTS]:"/contacts",[S.n8z.CREATE_CONTACT]:"/contacts/create",[S.n8z.CONTACT_DETAILS]:"/contacts/:id",[S.n8z.CONTACT_DETAILS_FROM_SEARCH]:"/search/:query/contacts/:id",[S.n8z.EDIT_CONTACT]:"/contacts/:id/edit",[S.n8z.EDIT_CONTACT_FROM_SEARCH]:"/search/:query/contacts/:id/edit",[S.n8z.THEME_CHOOSER]:"/settings/theme",[S.n8z.SEARCH]:"/search/:query",[S.n8z.SPONSORED_MESSAGE]:"/folders/:fid/sponsored/:creativeId",[S.n8z.SIGNATURES_FROM_SETTINGS]:"/settings/signatures",[S.n8z.ACCOUNT_LIST_FROM_SETTINGS]:"/settings/accounts",[S.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST]:"/settings/accounts/add",[S.n8z.ADD_ACCOUNT_PROVIDER]:"/settings/accounts/add/:provider",[S.n8z.BLOCKED_SENDERS]:"/settings/blocked_senders",[S.n8z.BLOCKED_DOMAINS]:"/settings/blocked_domains",[S.n8z.AFTER_MESSAGE_MOVE]:"/settings/after_message_move",[S.n8z.MESSAGE_PREVIEW]:"/settings/message_preview",[S.n8z.PORTRAIT_AD]:"/portraitAd/:creativeId",[S.n8z.MAILPLUS_BENEFITS_UPSELL]:"/mailplus_benefits",[S.n8z.INBOX_HIGHLIGHT_SETTINGS]:"/settings/inbox_highlight"},cssBundles:["mobile_app"],jsBundles:["mobile_app_vendor","mobile_app"],container:{id:"mobile-app-container"}},{app:S.BQZ.BASIC_MAIL_APP,name:S.BQZ.BASIC_MAIL_APP,appRootPath:"/b",isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[S.n8z.BASE]:"/",[S.n8z.TODAYPAGE]:"/todaypage",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.MESSAGE]:"/folders/:fid/messages/:mid",[S.n8z.NEW_DRAFT]:"/compose",[S.n8z.EDIT_DRAFT]:"/compose/:csid",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId/:attachmentId?",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.LIST_FOLDERS]:"/listfolders/:serializedListId",[S.n8z.CONTACTS]:"/contacts",[S.n8z.SETTINGS]:"/settings/:settingsGroup",[S.n8z.LOAD_CONTACT]:"/loadcontact",[S.n8z.TASK_STATUS]:"/taskstatus"},cssBundles:["basic_mail_app"],jsBundles:[],container:{id:"basic-mail-app-container"}},{app:S.BQZ.BASIC_MOBILE_APP,name:S.BQZ.BASIC_MOBILE_APP,appRootPath:S.bCI,isBasicApp:!0,ssrUnsupportedRoutes:[],paths:{[S.n8z.BASE]:"/",[S.n8z.FOLDER]:"/folders/:fid",[S.n8z.SEARCH]:"/search/:query",[S.n8z.LIST_FOLDERS]:"/listfolders/:serializedListId?",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"/folders/:fid/messages/:groupId",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"/search/:query/messages/:groupId/:attachmentId?",[S.n8z.NEW_DRAFT]:"/compose",[S.n8z.EDIT_DRAFT]:"/compose/:csid",[S.n8z.SETTINGS]:"/settings/:settingsGroup",[S.n8z.CONTACTS]:"/contacts"},cssBundles:["basic_mobile_app"],jsBundles:[],container:{id:"basic-mobile-app-container"}}],fl=[];Ll.forEach((e=>{fl.push(e);const t=Object.assign({},e,{app:`${e.app}_TEST`,paths:{}});Object.keys(e.paths).forEach((s=>{t.paths[s]=`/test${e.paths[s]}`})),t.jsBundles=e.jsBundles.filter((e=>-1===e.indexOf("_es6"))).map((e=>e.indexOf("_app")>-1?e.replace("_app","_app_test"):e)),fl.push(t)}));const Ml={},Pl={};fl.forEach((e=>{Ml[e.app]=e.paths,Pl[e.app]=e}));var bl=s(45697),yl=s.n(bl),vl=s(67294),Fl=s(18685),Ul=s(71570),kl=s(14890),wl=s(73935),Gl=s(99095),Hl=s(9333),Bl=s(43007),xl=s(76531);const Vl=(0,h.gP)(["BAR","MENU"]);var Zl=s(5223),Wl=s.n(Zl),Kl=s(9026),zl=s(78737);function Yl(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const jl=(0,Gl.defineMessages)({noSubject:{id:"tab.title.no_subject",defaultMessage:"No Subject"},loading:{id:"tab.title.loading",defaultMessage:"Loading"},error:{id:"tab.title.error",defaultMessage:"Error"},newDraft:{id:"tab.title.new_draft",defaultMessage:"New Subject"},closeTab:{id:"tab.label.close",defaultMessage:"Close tab"},checkmail:{id:"tab.label.checkmail",defaultMessage:"Check new messages"},searchDefault:{id:"tab.title.search_default",defaultMessage:"All"},settings:{id:"tab.title.settings",defaultMessage:"Settings"},today:{id:"tab.title.today",defaultMessage:"Today on {yahooBrandNameString}"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class ql extends vl.Component{constructor(...e){super(...e),Yl(this,"state",{hover:!1}),Yl(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)})),Yl(this,"checkmail",(e=>{this.props.isActive&&e.stopPropagation(),e.preventDefault(),this.props.checkmail()})),Yl(this,"handleHoverChange",(e=>{this.setState({hover:e})})),Yl(this,"onCheckmailIconHover",(e=>{this.setState({checkMailHover:e})})),Yl(this,"_getCheckmailIconColor",(e=>e===Kl.zg.DARK?this.state.checkMailHover?xl.ColorStates.INVERTED:xl.ColorStates.INVERTED_LESS_DIM:this.state.checkMailHover?this.props.isActive?xl.ColorStates.BLACK:xl.ColorStates.INVERTED:this.props.isActive?xl.ColorStates.FIRST_LEVEL_GRAY:xl.ColorStates.INVERTED_LESS_DIM))}render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=this.context.getTheme(),{isActive:a,isCloseable:n,onClick:r,url:o,titleType:i,decorator:l,kind:c,title:d,widthOverride:_,animate:E,showCheckMailIcon:u,badgeCount:m}=this.props,p=l!==S.hmI.NONE,C=c===Vl.BAR&&a,A=t===Kl.zg.DARK,T=(0,Kl.L_)(s),I=T&&A,h=T&&!A,g=m>0&&!a&&!this.state.hover,O=this.context.getCss(Wl(),{kind:c,activeBar:C,decoratedMenu:p&&c===Vl.MENU,decoratedBar:p&&c===Vl.BAR,decoratedSettings:l===S.hmI.SETTINGS,activeHover:a&&this.state.hover,activeMenu:c===Vl.MENU&&a,inactiveHover:!a&&this.state.hover,animate:E,darkThemeMode:A,[`darkModePhotoTheme_${s}_bar`]:I&&c===Vl.BAR,[`darkModePhotoTheme_${s}_activeBar`]:I&&C,extraIconPadding:[S.hmI.SMARTVIEW_PEOPLE,S.hmI.SMARTVIEW_SHOPPING].indexOf(l)>-1,lightModeWhiteHeaderTheme:Kl.O3.has(s)&&t===Kl.zg.LIGHT,activeBarLightModeWhiteHeaderTheme:C&&Kl.O3.has(s)&&t===Kl.zg.LIGHT,nonDarkModePhotoTheme:h,activeNonDarkModePhotoTheme:a&&h});let D,R=d,N=xl.ColorStates.DARK,L=xl.Sizes.XS;switch(l){case S.hmI.AOL_OFFICIAL:D=xl.Kinds.AOL_OFFICIAL;break;case S.hmI.YBANG:D=xl.Kinds.YBANG;break;case S.hmI.SEARCH:D=xl.Kinds.SEARCH_MINI;break;case S.hmI.SETTINGS:D=xl.Kinds.SETTINGS,L=xl.Sizes.XXXS;break;case S.hmI.COMPOSE:D=xl.Kinds.COMPOSE;break;case S.hmI.SMARTVIEW_PEOPLE:D=xl.Kinds.PEOPLE;break;case S.hmI.SMARTVIEW_SHOPPING:D=xl.Kinds.SHOPPING;break;case S.hmI.SMARTVIEW_PHOTOS:D=xl.Kinds.TAB_IMAGES;break;case S.hmI.SMARTVIEW_DOCUMENTS:D=xl.Kinds.DOCUMENTS_S;break;case S.hmI.SMARTVIEW_COUPONS:D=xl.Kinds.SCISSORS;break;case S.hmI.SMARTVIEW_RECEIPTS:D=xl.Kinds.DRAFTS;break;case S.hmI.SMARTVIEW_TRAVEL:D=xl.Kinds.TRAVEL;break;case S.hmI.SMARTVIEW_TUTORIAL:D=xl.Kinds.CAL_MAYBE;break;case S.hmI.EXCLAMATION_ALT:D=xl.Kinds.EXCLAMATION_ALT,L=xl.Sizes.XXS}switch(i){case S.Ma6.TODAYPAGE:R=e(jl.today,{yahooBrandNameString:this.context.yahooBrandNameString});break;case S.Ma6.NO_SUBJECT:R=e(jl.noSubject);break;case S.Ma6.LOADING:R=e(jl.loading);break;case S.Ma6.ERROR:R=e(jl.error);break;case S.Ma6.NEW_DRAFT:R=e(jl.newDraft);break;case S.Ma6.SEARCH_DEFAULT:R=e(jl.searchDefault);break;case S.Ma6.SETTINGS:R=e(jl.settings);break;case S.Ma6.SPONSORED_AD:R=e(jl.ad_text)}c===Vl.BAR&&(N=a&&!A?xl.ColorStates.INHERITED:xl.ColorStates.INVERTED,Kl.O3.has(s)&&t===Kl.zg.LIGHT&&!a&&(N=xl.ColorStates.DARK)),i===S.Ma6.SMART_VIEW&&a&&xl.ColorStates[l]&&(N=xl.ColorStates[l]);return vl.createElement("a",{"data-test-id":"tab-item","data-test-active":a,href:o,style:{width:_},className:A&&c===Vl.BAR?O["darkMode_photoTheme"+I]:O.tab,onClick:r,onMouseOver:this.handleHoverChange.bind(this,!0),onMouseLeave:this.handleHoverChange.bind(this,!1),title:R,rel:"noopener"},l!==S.hmI.NONE?vl.createElement("span",{className:O.decorator},vl.createElement(Bl.Z,{kind:D,size:L,colorState:(e=>e===S.hmI.EXCLAMATION_ALT?xl.ColorStates.WARNING:N)(l)})):null,A?vl.createElement("span",{className:C?O.darkThemeModeActiveBarText:O.text},R):vl.createElement("span",{className:C?O.activeBarText:O.text},R),g&&vl.createElement("span",{className:O.badgeCount},m),n&&this.state.hover?vl.createElement(Hl.default,{onClick:this.handleClose,className:O.close,kind:xl.Kinds.CLOSE_MINI,size:xl.Sizes.XS,colorState:N,"aria-label":e(jl.closeTab),title:e(jl.closeTab),"data-test-id":"tab-close-button"}):null,u&&this.state.hover&&vl.createElement(Hl.default,{onClick:this.checkmail,className:O.checkmailIcon,kind:xl.Kinds.REFRESH,size:xl.Sizes.XXS,colorState:this._getCheckmailIconColor(t),"aria-label":e(jl.checkmail),title:e(jl.checkmail),onMouseOver:this.onCheckmailIconHover.bind(this,!0),onMouseLeave:this.onCheckmailIconHover.bind(this,!1),isOnDarkBackground:A,"data-test-id":"tab-checkmail-button"}))}}Yl(ql,"defaultProps",{animate:!1,isCloseable:!0,showCheckMailIcon:!1,checkmail:()=>{},badgeCount:0}),Yl(ql,"contextTypes",{yahooBrandNameString:yl().string,intl:Gl.intlShape,getCss:yl().func,getThemeMode:yl().func,getTheme:yl().func});const Xl=(0,Fl.connect)(void 0,(e=>({checkmail:()=>{e((0,zl.PV)({forceSync:!0,userInitiated:!0}))}})))(ql);var Ql=s(18030),Jl=s(11160),$l=s(31509),ec=s(65304),tc=s(67498),sc=s(28182),ac=s(8470),nc=s(85454),rc=s.n(nc),oc=s(76223),ic=s.n(oc),lc=s(44359),cc=s(92559);function dc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _c=ic()(rc());class Ec extends vl.Component{constructor(...e){super(...e),dc(this,"renderTabButtons",((e,t)=>{const{onSelection:s,onClose:a,smartViews:n}=this.props,r=n&&n.length?`${Fe.jv9}px`:null;return e.map((e=>{const{title:n,titleType:o,url:i,decorator:l,active:c}=e;return vl.createElement("li",{className:_c.tabItem,key:i},vl.createElement(Xl,{onClick:s.bind(null,t?Vl.BAR:Vl.MENU,e),isCloseable:!0,isActive:c,onClose:a.bind(null,e),title:n,titleType:o,decorator:l,kind:Vl.MENU,url:i,widthOverride:r}))}))})),dc(this,"handleAnchorClick",(e=>{const{barTabs:t=[],smartViews:s=[],onAnchorClick:a}=this.props;a({mKey:cc.JE.TABS_MENU_OPEN,sec:cc.nJ.TABS_MENU,interactionType:cc.Rb.click,actionData:{smartView:!!s.length,addIcon:0===t.length&&s.length>0}},e)}))}render(){const{remainingTabs:e,barTabs:t=[],onCloseAll:s,smartViews:a=[],smartViewCategoriesEnabled:n}=this.props,r=n&&a.length,o=t.length>1,i=a.every((e=>e.status)),l=this.context.getTheme(),c=this.context.getThemeMode(),d=n&&0===t.length&&!i?xl.Kinds.ADD:xl.Kinds.CHEVRON_UP,_=(0,Gl.defineMessages)({tabsMenu:{id:"tabs_menu.menu_button",defaultMessage:"Tabs menu"}});return vl.createElement(Jl.Z,{className:_c.menuContainer},vl.createElement($l.Z,null,vl.createElement("span",{className:_c.menuButtonContainer},vl.createElement(tc.Z,{"data-test-id":"tabs-menu-button",tabIndex:-1,kind:sc.F.CHROMELESS,className:_c.menuButton,"aria-label":this.context.intl.formatMessage(_.tabsMenu),onClick:this.handleAnchorClick},vl.createElement("span",{className:_c.menuSpan},vl.createElement("span",{className:_c.chevron},vl.createElement(Bl.Z,{kind:d,size:xl.Sizes.XS,rotate:xl.Rotate.D180,colorState:Kl.O3.has(l)&&c===S.zgU.LIGHT?xl.ColorStates.DARK:xl.ColorStates.INVERTED})))))),vl.createElement(Ql.ZP,{triggerOn:ec.K2.CLICK,offset:3*Fe.mg$,align:ec.xM.END,permittedArrowDirections:[ec.Ji.UP],zAltitude:Fe.LSY.POPOVER.HIGH,animate:!0},vl.createElement("div",{className:_c.menuContentContainer},t.length?vl.createElement(ac.Z,{"data-test-id":"tabs-menu",className:_c.tabList,focusOnMount:!0},this.renderTabButtons(e,!1),this.renderTabButtons(t,!0),!r&&o&&vl.createElement("li",{className:_c.rule}),o&&vl.createElement("li",null,vl.createElement(tc.Z,{"data-test-id":"tabs-close-all",onClick:s,className:_c.closeAllButton,tabIndex:0},vl.createElement("span",{className:_c.closeAllText},vl.createElement(Gl.FormattedMessage,{id:"tabs.menu_close_all",defaultMessage:"Close all tabs"})))),r&&vl.createElement("li",{className:_c.rule})):null,r?vl.createElement(lc.ZP,{isMenuMode:!0,showToggleState:!0,showHint:!0}):null)))}}dc(Ec,"contextTypes",{intl:yl().object,getThemeMode:yl().func,getTheme:yl().func});const uc=Ec;var mc=s(34903),Sc=s.n(mc),pc=s(87771),Cc=s(5156),Ac=s(1191),Tc=s(46046),Ic=s(30925),hc=s(77163),gc=s(3405),Oc=s(85927),Dc=s(98217),Rc=s(31057);function Nc(e){const{name:t}=e;return-1!==[S.n8z.MESSAGE_FROM_FOLDER_LIST,S.n8z.MESSAGE_FROM_SEARCH_LIST,S.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,S.n8z.MESSAGE_FROM_LIST].indexOf(t)}var Lc=s(20305),fc=s(81660);function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Pc(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(0,Tc.m)({group:Ic.LQ,keys:{naviToLeftTab:{key:"BracketLeft",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.navi_tabs_left",defaultMessage:"Navigate to the left tab"})},naviToRightTab:{key:"BracketRight",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.navi_tabs_right",defaultMessage:"Navigate to the right tab"})}}});const bc=["[","]"],yc=Fe.lHY+2,vc=Fe.K_u+2,Fc=ic()(Sc());class Uc extends vl.Component{constructor(...e){super(...e),Pc(this,"state",{boundingWidth:null}),Pc(this,"getBoundingWidth",(()=>{this._isMounted&&this.setState({boundingWidth:(0,wl.findDOMNode)(this).getBoundingClientRect().width})})),Pc(this,"closeCue",(e=>{this.props.featureCueClosed({name:e})})),Pc(this,"handleSelection",((e,t,s)=>{var a;s.preventDefault(),this.props.showPeopleSmartViewCue&&(0,Rc.s7)(t.route)===S.ukn.PEOPLE&&this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE);const n={route:t.route,...t.fetchFullBody?{full:!0}:{},tabRecencyRank:this.getTabRecencyRank(t)},{groupId:r,attachmentId:o}=(null===(a=n.route)||void 0===a?void 0:a.params)||{};r&&o&&Object.assign(n,{uiContext:{mKey:cc.JE.TAB_CLICKED_WITH_ATTACHMENT_PREVIEW}}),t.active||(e===Vl.MENU?this.context.navigateTo(Object.assign(n,{reorderPage:!0})):this.context.navigateTo(n))})),Pc(this,"handleTabClose",(({route:e},t)=>{t.preventDefault();const s={mKey:cc.JE.TABS_MENU_CLOSE,sec:cc.nJ.TABS_MENU};this.props.closePage({route:e,i13nModel:s})})),Pc(this,"handleTabCloseAll",(e=>{e.preventDefault(),this.props.closeAllPages()})),Pc(this,"handleMenuAnchorClick",((e,t)=>{this._categoriesCue&&this.props.showAllTabsPlusCue?(t.stopPropagation(),this.closeCue(S.ANe.ALL_TABS_PLUS_CUE)):(this._peopleViewCue&&this.props.showPeopleSmartViewCue&&this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE),e&&e.actionData&&(e.actionData.multiTaskModeSetting=this.props.multiTaskModeSetting),this.context.executeAction(Ac.wD,{i13nModel:e}))})),Pc(this,"handleShortCut",(e=>{const{charCode:t}=e;switch(t){case hc.P.BRACKETLEFT:this.tabNaviLeft(e);break;case hc.P.BRACKETRIGHT:this.tabNaviRight(e)}}))}componentDidMount(){this._isMounted=!0,this.getBoundingWidth(),window.addEventListener("resize",this.getBoundingWidth),this.context.bindShortcut(bc,this.handleShortCut)}componentWillUnmount(){this._isMounted=!1,window.removeEventListener("resize",this.getBoundingWidth),this.context.unbindShortcut(bc)}UNSAFE_componentWillUpdate(e){const t=e.smartViews.find((e=>this.props.smartViews.find((t=>t.status!==e.status&&t.name===e.name))));t&&(this.changedSmartView=t.name===S.K8C.COUPONS?S.hmI.SMARTVIEW_SHOPPING:S.hmI[`SMARTVIEW_${t.name}`],setTimeout((()=>{this.props.route.name!==S.n8z.SETTINGS&&(t.status?this.props.onSmartViewChange((0,gc.jK)(t.name,{accountIds:this.props.selectedAccountId,excludefolders:this.props.conversationsEnabled?[S.Sck.TRASH,S.Sck.BULK]:[S.Sck.TRASH,S.Sck.BULK,S.Sck.DRAFT,S.Sck.SENT]})):this.props.onSmartViewChange(this.props.isCategorySmartViewActive?this.props.selectedFolderRoute:this.props.route))}),400));this.props.leftNavWidth!==e.leftNavWidth&&this.getBoundingWidth()}renderToFit(){const{smartViewCategoriesEnabled:e}=this.props,t=[];let s,a=[];const{changedSmartView:n}=this;if(this.state.boundingWidth){let e=Math.floor((this.state.boundingWidth-Fe.A_$)/vc);if(this.tabContent.length>e){e=Math.floor((this.state.boundingWidth-Fe.A_$)/yc);const t=Math.min(e,this.tabContent.length),a=Math.floor((this.state.boundingWidth-Fe.A_$)/t);s=a-2+"px"}this.tabContent.forEach((s=>{!s.active&&t.length<this.tabContent.length-e&&s.isCloseable?t.push(s):a.push(s)}))}else a=this.tabContent.slice(0,4);const r=a.filter((({isCloseable:e})=>e)),o=r.length||t.length||e,i=a.map((e=>{const{title:t,titleType:a,url:r,active:o,decorator:i,isCloseable:l,showCheckMailIcon:c,key:d,badgeCount:_}=e,E={className:Fc.item};return i===S.hmI.SMARTVIEW_PEOPLE&&(E.ref=e=>{this._peopleSmartViewTab=e}),vl.createElement("li",Mc({key:d||r},E),vl.createElement(Xl,{onClick:t=>this.handleSelection(Vl.BAR,e,t),isCloseable:l,showCheckMailIcon:c,onClose:t=>this.handleTabClose(e,t),title:t,titleType:a,decorator:i,url:r,kind:Vl.BAR,isActive:o,widthOverride:s,badgeCount:_,animate:n===i}))}));return o&&i.push(vl.createElement("li",{key:"tabMenu",className:Fc.moreMenu,ref:"moreMenu"},vl.createElement(uc,{barTabs:r,remainingTabs:t,onSelection:this.handleSelection,onClose:this.handleTabClose,onCloseAll:this.handleTabCloseAll,onAnchorClick:this.handleMenuAnchorClick,smartViewCategoriesEnabled:e,smartViews:this.props.smartViews}))),i}_allCategorizationsEnabled(){return this.props.smartViews.every((({status:e})=>!!e))}renderCategoriesCue(){return this.props.showAllTabsPlusCue&&this.refs.moreMenu&&!this._allCategorizationsEnabled()?vl.createElement(Ql.ZP,{popoverAnchor:this.refs.moreMenu,align:ec.xM.START,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.UP],onHide:()=>this.closeCue(S.ANe.ALL_TABS_PLUS_CUE),offset:16,zAltitude:Fe.LSY.POPOVER.HIGH,ref:e=>this._categoriesCue=e,hideOnContentClick:!1},vl.createElement(pc.cr,{import:"../../molecules/categorization/all_tabs_plus_cue",cueName:S.ANe.ALL_TABS_PLUS_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82535))},_moduleResolver:function(){return 82535}})):(this._categoriesCue=null,null)}_isInsidePeopleView(){const e=this.tabContent.find((({active:e})=>e));return e&&e.decorator===S.hmI.SMARTVIEW_PEOPLE}renderPeopleSmartViewCue(){return this.props.showPeopleSmartViewCue&&this._peopleSmartViewTab&&!this._isInsidePeopleView()?vl.createElement(Ql.ZP,{popoverAnchor:this._peopleSmartViewTab,align:ec.xM.START,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.UP],onHide:()=>this.closeCue(S.ANe.PEOPLE_SMARTVIEW_CUE),offset:16,zAltitude:Fe.LSY.POPOVER.HIGH,ref:e=>this._peopleViewCue=e,highlight:!0,hideOnContentClick:!1},vl.createElement(pc.cr,{import:"../../molecules/categorization/people_smartview_cue",cueName:S.ANe.PEOPLE_SMARTVIEW_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,25076))},_moduleResolver:function(){return 25076}})):(this._peopleViewCue=null,null)}navigateToLeftRail(){const{selectedFolderRoute:e}=this.props;this.context.navigateTo({route:e})}getActiveTabIndex(e){return e.findIndex((e=>!0===e.active))}getTabRecencyRank(e){return this.props.limitedMessageTabs.findIndex((t=>(0,gc.Vu)(t,e.route)))}tabNaviLeft(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Vl.BAR,this.tabContent[this.tabContent.length-1],e):0===t?this.navigateToLeftRail():this.handleSelection(Vl.BAR,this.tabContent[t-1],e)}tabNaviRight(e){if(0===this.tabContent.length)return;const t=this.getActiveTabIndex(this.tabContent);-1===t?this.handleSelection(Vl.BAR,this.tabContent[0],e):t===this.tabContent.length-1?this.navigateToLeftRail():this.handleSelection(Vl.BAR,this.tabContent[t+1],e)}render(){return this.tabContent=this.props.getTabContent(this.context),vl.createElement("ul",{className:Fc.container,"data-test-id":"tab-list","data-test-count":this.tabContent.length},this.renderPeopleSmartViewCue(),this.renderCategoriesCue(),this.renderToFit())}}function kc(e,t,s){const{getRoute:a,isFeatureEnabled:n,getSmartViewTypeFromRoute:r,getSmartViewPosition:o,getSmartViewTypeFromListId:i}=s,l=a(),c=n(S.Zrf.MAIL_TABS),d=r(t),{formatMessage:_}=e.intl,E=o(d),u=E===S.sDs.TAB_BAR&&d===S.K8C.COUPONS?S.hmI.SMARTVIEW_SHOPPING:S.hmI[`SMARTVIEW_${d}`];return{route:t,url:e.getUrlFromRoute(t),active:c||d===S.K8C.TUTORIAL?(0,gc.Vu)(l,t):i((0,Rc.LY)(l))===d,title:E===S.sDs.TAB_BAR&&d===S.K8C.COUPONS?_(Lc.Z.smart_view_SHOPPING):_(Lc.Z[`smart_view_${d}`]),titleType:S.Ma6.SMART_VIEW,decorator:u,showCheckMailIcon:E===S.sDs.TAB_BAR&&(0,Rc.zu)(l),isCloseable:E!==S.sDs.TAB_BAR,key:u,fetchFullBody:!1}}Pc(Uc,"contextTypes",{intl:Gl.intlShape.isRequired,partner:yl().string,getUrlFromRoute:yl().func,executeAction:yl().func,navigateTo:yl().func,bindShortcut:yl().func,unbindShortcut:yl().func}),Pc(Uc,"defaultProps",{showAllTabsPlusCue:!1,showPeopleSmartViewCue:!1,smartViews:[],onSmartViewChange:()=>{}});const wc=e=>t=>{const s=(0,Oc.selectors)(e),{getTabPages:a,getRoute:n,formatFolderName:r,getMessageCsid:o,isFeatureEnabled:i,getMessageGroupsSelectors:l,isMessageGroupLoading:c,doesComposeSessionExist:d,getDraftMessageId:_,getReplyingToMessageId:E,doesMessageFullBodyExist:u,doesMessageBodyHasError:p,getMessageSubject:C,doesMessageIdExist:A,getRelevantMessageIdFromMessageGroupId:T,doesRouteContainFailure:I,getForwardAttachmentIds:h,getSmartViewTypeFromRoute:g,getMessageIdsFromMessageGroupId:O}=s,D=n(),{formatMessage:R}=t.intl,N={[S.zoT.YAHOO]:R(Dc.Z.yahoo_account_description),[S.zoT.YAHOO_SB]:R(Dc.Z.yahoo_account_description),[S.zoT.YAHOO_INC]:R(Dc.Z.yahoo_account_description),[S.zoT.OUTLOOK]:R(Dc.Z.outlook_account_description),[S.zoT.AOL]:R(Dc.Z.aol_account_description),[S.zoT.GOOGLE]:R(Dc.Z.gmail_account_description),[S.zoT.GOOGLE_APP]:R(Dc.Z.gmail_account_description)},L=a(),f=i(S.Zrf.MAIL_TABS),M=i(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),P=[];return L.forEach((e=>{const{params:a,name:n,query:i}=e,L={route:e,url:t.getUrlFromRoute(e),active:(0,gc.Vu)(D,e),title:"",titleType:S.Ma6.TEXT,decorator:S.hmI.NONE,showCheckMailIcon:!1,isCloseable:!0,fetchFullBody:!1};switch(n){case S.n8z.LIST:if(!M)return;return void(((0,Rc.zu)(e)?g(e):null)&&P.push(kc(t,e,s)));case S.n8z.CONTACTS:case S.n8z.TUTORIAL:return void(M&&P.push(kc(t,e,s)));case S.n8z.BASE:return;case S.n8z.FOLDER:if(M){const t=(0,Rc.LY)(e),s=(0,Rc.Fh)(t),a=r(s)(R);P.push(Object.assign({},L,{titleType:S.Ma6.TEXT,title:a,decorator:S.hmI.NONE,isCloseable:!1,showCheckMailIcon:D.name===S.n8z.FOLDER,active:f?L.active:s===(0,Rc.Fh)((0,Rc.LY)(D))}))}return;case S.n8z.SETTINGS:L.titleType=S.Ma6.SETTINGS,L.decorator=S.hmI.SETTINGS;break;case S.n8z.SEARCH:{const a=(0,Rc.LY)(e);if((0,Rc.GG)(a)){if(!M)return;const n=(0,Rc.rB)(e),r=(0,Rc.yE)(a);if(!n&&!r)return;if(!n){return void(((0,Rc.zu)(e)?g(e):null)&&P.push(kc(t,e,s)))}{const e=(0,Rc.kw)(a);L.title=R(Lc.Z[`smart_view_${e}`]),L.titleType=S.Ma6.SMARTVIEW,L.active=f?L.active:e===(0,Rc.kw)((0,Rc.LY)(D))}}else L.title=function(e,t,s,a){const{formatFolderName:n,getSelectedAccountIdByRoute:r,getProviderFromAccount:o,getAccountDescriptionByAccountId:i,hasMultipleRootAccounts:l}=e,c=l(),d=(0,Rc.LY)(t),_=(0,Rc.Fh)(d),{name:E,keyword:u}=(0,Rc.Ie)(d),m=(0,Rc.Er)(d),S=r(t),p=o(S),C=i(S);let A;if(_){const e=n(_)(a);A=c?(C||s[p])+"/"+e:e}else 1===m.length&&(A=c?C||s[p]:A);const T=(0,Rc.lG)(d)?E:u;return A?T?A+" "+T:A:T}(s,e,N,R),L.titleType=L.title?S.Ma6.SEARCH_KEYWORD:S.Ma6.SEARCH_DEFAULT,L.decorator=S.hmI.SEARCH;break}case S.n8z.MESSAGE_FROM_LIST:case S.n8z.MESSAGE_FROM_SEARCH_LIST:case S.n8z.MESSAGE_FROM_FOLDER_LIST:{if(a.attachmentId&&"1"===i.fullscreen)break;if(!l().doesMessageGroupIdExist(a.groupId)||c(a.groupId)){L.titleType=S.Ma6.LOADING;break}const t=(0,Rc.LY)(e),s=T(a.groupId,t);L.badgeCount=O(a.groupId).reduce(((e,t)=>{if(A(t)){const s=o(t);return e+(d(s)?h(s).length:0)}return e}),0);const r=C(s,t)||"";L.title=n===S.n8z.MESSAGE_FROM_SEARCH_LIST?(0,fc.IX)(r):r,L.title||(L.titleType=S.Ma6.NO_SUBJECT),I(e)&&(L.decorator=S.hmI.EXCLAMATION_ALT);break}case S.n8z.NEW_DRAFT:case S.n8z.EDIT_DRAFT:{const t=decodeURIComponent(a.csid),s=d(t);L.decorator=S.hmI.COMPOSE,t&&s?L.badgeCount=h(t).length:L.titleType=S.Ma6.LOADING;const n=s&&(_(t)||E(t));if(n)if(u(n))if(p(n))L.titleType=S.Ma6.ERROR;else{const t=(0,Rc.LY)(e);L.title=C(n,t)}else L.titleType=S.Ma6.LOADING;else L.titleType=S.Ma6.NEW_DRAFT;L.title||(L.titleType=S.Ma6.NEW_DRAFT),I(e)&&(L.decorator=S.hmI.EXCLAMATION_ALT);break}case S.n8z.SPONSORED_MESSAGE:L.titleType=S.Ma6.SPONSORED_AD;break;case S.n8z.TODAYPAGE:L.titleType=S.Ma6.TODAYPAGE,L.decorator=t.partner.toUpperCase()===S.Bs7.AOL?S.hmI.AOL_OFFICIAL:S.hmI.YBANG;break;case S.n8z.FOCUSED_INBOX:case S.n8z.SUBSCRIPTION_LIST:case S.n8z.SEND_CONFIRMATION:case S.n8z.STOREFRONT:case S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL:case S.n8z.ONBOARDING:case S.n8z.WALLET:return;default:(0,m.Z)(!1,`We do not know how to get title of the tab for this route: ${n}`)}P.push(L)})),P.filter(Boolean)},Gc=(0,kl.compose)((0,Fl.connect)((e=>{const{getFeaturesSelectors:t,getSetting:s,getTabPages:a,getRoute:n,getSelectedAccountId:r,getSmartViewTypeFromRoute:o,getSmartViewPosition:i,getLeftNavWidth:l,getDefaultFolderRoute:c}=(0,Oc.selectors)(e),d=t(),_=d.isEnabled(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),E=d.isEnabled(S.ANe.ALL_TABS_PLUS_CUE),u=d.isEnabled(S.ANe.PEOPLE_SMARTVIEW_CUE),m=s(S.Zrf.SYSTEM_TABS),p=d.isEnabled(S.Zrf.MAIL_TABS),C=n(),A=a().find((e=>e.name===S.n8z.FOLDER||(0,Rc.rB)(e)||(0,Rc.kC)(e)))||c(),T=d.isEnabled(S.ANe.CONVERSATIONS),I=(0,Rc.zu)(C)?o(C):null,h=(0,Rc.zu)(C)&&i(I)===S.sDs.TAB_BAR,g=function(e){const t=(0,Oc.selectors)(e),{getTabPages:s,isDraftGroup:a}=t;return s().filter((e=>Nc(e)&&!a(e.params.groupId))).sort(((e,t)=>(t.timestamp||0)-(e.timestamp||0)))}(e),O=l();return{getTabContent:wc(e),selectedFolderRoute:A,route:C,selectedAccountId:r(),smartViews:m,multiTaskModeSetting:p,smartViewCategoriesEnabled:_,showAllTabsPlusCue:E,showPeopleSmartViewCue:u,isCategorySmartViewActive:h,conversationsEnabled:T,limitedMessageTabs:g,leftNavWidth:O}})),(0,Fl.connect)(void 0,(e=>({featureCueClosed:t=>e((0,Cc.hN)(t)),closePage:({route:t,i13nModel:s={}})=>e((0,zl.I3)({route:t,i13nModel:s})),closeAllPages:t=>e((0,zl.St)(t)),onSmartViewChange:t=>e((0,zl.Ch)({route:t}))}))))(Uc);var Hc=s(83034),Bc=s(50613),xc=s.n(Bc);const Vc=(0,Fl.connect)((e=>{const{getLeftNavWidth:t,isFeatureEnabled:s,getRouteName:a}=(0,Oc.selectors)(e),n=s(S.ANe.LEFT_NAV_RESIZING),r=t();return{hasWideLogo:s(S.Zrf.HAS_WIDE_LOGO),isLeftNavResizingEnabled:n,leftNavWidth:r,isLeftNavResizerVisible:n&&a()!==S.n8z.SETTINGS}}))((e=>{const{isLeftNavResizingEnabled:t,leftNavWidth:s,isLeftNavResizerVisible:a,hasWideLogo:n}=e,r=a&&0===s,o=a?Fe.yLL:0,i=(0,Hc.Z)(xc(),{useStylesForUserNewToLeftNavResizing:`${r}_hasWideLogo_${n}`}),l=t&&s>0?{maxWidth:Fe.GxM+o+"px",width:s+o+"px",minWidth:Fe.nNF+"px"}:{};return vl.createElement("div",{className:i.tabSpace,style:l},"Â ")}));var Zc=s(91041),Wc=s(87873);const Kc={notify(){},get:()=>[]};function zc(e,t){let s,a=Kc;function n(){o.onStateChange&&o.onStateChange()}function r(){s||(s=t?t.addNestedSub(n):e.subscribe(n),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(0,wl.unstable_batchedUpdates)((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let s=e;for(;s;)t.push(s),s=s.next;return t},subscribe(s){let a=!0;const n=t={callback:s,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){a&&null!==e&&(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}())}const o={addNestedSub:function(e){return r(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:n,isSubscribed:function(){return Boolean(s)},trySubscribe:r,tryUnsubscribe:function(){s&&(s(),s=void 0,a.clear(),a=Kc)},getListeners:()=>a};return o}const Yc=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?vl.useLayoutEffect:vl.useEffect;const jc=function({store:e,children:t,serverState:s}){const a=(0,vl.useMemo)((()=>{const t=zc(e);return{store:e,subscription:t,getServerState:s?()=>s:void 0}}),[e,s]),n=(0,vl.useMemo)((()=>e.getState()),[e]);return Yc((()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),n!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,n]),vl.createElement(Wc.E.Provider,{value:a},t)};var qc=s(18446),Xc=s.n(qc);class Qc extends vl.Component{constructor(e){super(e)}componentDidMount(){const{toast:e}=this.props;e&&this.context.toast(e)}componentDidUpdate(e){const{toast:t}=this.props;t&&t!==e.toast&&this.context.toast(t)}render(){return null}}Qc.contextTypes={toast:yl().func};const Jc=(0,Fl.connect)(((e,{toastMap:t})=>{const{getAction:s}=(0,Oc.selectors)(e),a=s();let n=t[a.type];return"function"==typeof n&&(n=n(a,e)),n?{toast:{...n,data:a}}:{}}),void 0,void 0,{areStatePropsEqual:Xc()})(Qc);var $c=s(50566),ed=s(65055);function td(e){e.dispatch($c.PREFERRED_TIMEZONE_CHANGE_REJECTED)}var sd=s(67929),ad=s.n(sd);function nd(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const rd=ic()(ad());class od extends vl.Component{constructor(...e){super(...e),nd(this,"handleChangeAccept",(()=>{this.context.navigateTo({route:(0,gc.Tx)({settingsGroupId:S.u5h.VIEWING_EMAIL,accountId:this.props.accountId})})})),nd(this,"handleChangeReject",(()=>{this.context.executeAction(td)}))}render(){return vl.createElement("span",{className:rd.container},vl.createElement(Gl.FormattedMessage,{id:"timezone.change_msg",defaultMessage:"New time zone detected."}),"Â ",vl.createElement("a",{"data-test-id":"primary-button",className:rd.primaryButton,onClick:e=>{e.preventDefault(),this.handleChangeAccept()}},vl.createElement(Gl.FormattedMessage,{id:"timezone.change_accept",defaultMessage:"Update my location"})))}}nd(od,"contextTypes",{executeAction:yl().func,navigateTo:yl().func});const id=od;var ld=s(52896),cd=s(98901),dd=s(18716),_d=s.n(dd),Ed=s(31280);const ud=ic()(_d());function md({error:e,sendFailureRoute:t},{navigateTo:s,getUrlFromRoute:a}){const{errorCode:n,data:{info:r={}}={}}=e||{},o=a(t),i={message:o?vl.createElement("a",{href:o,className:ud.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),s({route:t})}},vl.createElement(Gl.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):vl.createElement(Gl.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})};return"EC-4017"===n?vl.createElement(Gl.FormattedMessage,{id:"compose.temp_send_failure_notification",defaultMessage:"Your message cannot be sent because you are attempting to send too many emails at once. Please try again later"}):"EP-4010"===n&&r.spame?vl.createElement(Gl.FormattedMessage,{id:"compose.spam_send_failure_notification",defaultMessage:"Your message cannot be sent because it resembles spam and/or contains only links. Please modify your {message} and try again",values:i}):vl.createElement(Gl.FormattedMessage,{id:"compose.send_failure_notification",defaultMessage:"An error occurred while sending the {message}.",values:i})}md.contextTypes={navigateTo:yl().func,getUrlFromRoute:yl().func};const Sd=(e,{navigateTo:t,getUrlFromRoute:s})=>{const{route:a,sentFolderId:n,groupId:r,currentRouteName:o,onClose:i,onPause:l,isSendConfirmationPageEnabled:c}=e;(0,vl.useEffect)((()=>{c&&(o===S.n8z.SEND_CONFIRMATION?l():i())}),[o,c,l,i]);const d={name:S.n8z.MESSAGE_FROM_FOLDER_LIST,params:{fid:n,groupId:r},query:a.query||{}},_=s(d);return vl.createElement(Gl.FormattedMessage,{id:"compose.send_success_notification_with_link",defaultMessage:"Your {message} has been sent.",values:{message:_?vl.createElement("a",{href:_,className:ud.link,"data-test-id":"navigate-button",onClick:e=>{e.preventDefault(),t({route:d})}},vl.createElement(Gl.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})):vl.createElement(Gl.FormattedMessage,{id:"compose.send_success_notification_message_link",defaultMessage:"message"})}})};Sd.contextTypes={navigateTo:yl().func,getUrlFromRoute:yl().func};const pd=(0,Fl.connect)(((e,t)=>{const{conversationsMode:s,message:a}=t,n=s?a.conversationId:a.id,{getRouteName:r,isSendConfirmationEnabled:o}=(0,Oc.selectors)(e);return{groupId:n,isSendConfirmationPageEnabled:o(),currentRouteName:r()}}))(Sd);function Cd(){return vl.createElement(Gl.FormattedMessage,{id:"compose.already_sent_message",defaultMessage:"The message you are trying to save has already been sent using another session. Please check your sent folder."})}function Ad({messageGroupId:e,message:t,composeMode:s},{executeAction:a}){const n=vl.createElement("span",{onClick:()=>{a(cd.QM,{messageGroupId:e,message:t,composeMode:s})},className:ud.link,"data-test-id":"notification-retry-compose-action"},vl.createElement(Gl.FormattedMessage,{id:"notification.compose_draft_failed_retry_link",defaultMessage:"Retry"}));return s===S.AGu.Modes.FORWARD?vl.createElement(Gl.FormattedMessage,{id:"notification.draft_forward_failed",defaultMessage:"We encountered some issues while forwarding this message. {link}",values:{link:n}}):vl.createElement(Gl.FormattedMessage,{id:"notification.draft_reply_or_reply_all_failed",defaultMessage:"We encountered some issues while replying to this message. {link}",values:{link:n}})}Ad.contextTypes={executeAction:yl().func};var Td=s(10745),Id=s.n(Td);const hd=ic()(Id());class gd extends vl.Component{render(){const{value:e}=this.props,t=`${e}%`,s={width:t};return vl.createElement("div",{className:hd.progress},vl.createElement("div",{className:hd.placeholder}),vl.createElement("div",{className:hd.value,style:s,"data-test-id":"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e},vl.createElement("span",{className:hd.label,"data-test-id":"progress-value",role:"presentation"},t)))}}const Od=gd;var Dd=s(75120),Rd=s.n(Dd);const Nd=ic()(Rd());class Ld extends vl.Component{render(){const{message:e,subtitle:t,progress:s,onCancel:a,isCancelable:n}=this.props;return vl.createElement("div",{className:Nd.container,"data-test-id":"progress-dialog"},vl.createElement("div",{className:Nd.messageContainer},vl.createElement("span",{className:Nd.message,"data-test-id":"progress-dialog-message"},e),n&&vl.createElement(tc.Z,{onClick:a,className:Nd.cancel,"data-test-id":"progress-dialog-cancel"},vl.createElement(Gl.FormattedMessage,{id:"confirm.cancel",defaultMessage:"Cancel"}))),vl.createElement("div",{className:Nd.subtitle},t),vl.createElement("div",{className:Nd.bar},vl.createElement(Od,{value:s})))}}var fd,Md,Pd;Pd={isCancelable:!1,onClose:()=>{}},(Md="defaultProps")in(fd=Ld)?Object.defineProperty(fd,Md,{value:Pd,enumerable:!0,configurable:!0,writable:!0}):fd[Md]=Pd;const bd=Ld;var yd=s(35598),vd=s(42523);function Fd(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ud extends vl.Component{constructor(...e){super(...e),Fd(this,"handleCancel",(()=>{const{taskId:e}=this.props;this.props.bulkTaskCancelRequest({taskId:e})})),Fd(this,"isTaskCancelable",(()=>{const{taskId:e,status:t,isPassiveBulkTask:s}=this.props;return s?e&&s:e&&t===S.sZ3.PENDING})),Fd(this,"renderMessage",(()=>{const{triageActionType:e,folderId:t,count:s,conversations:a,itemsToUpdate:n=[]}=this.props,r=n.some((e=>Boolean(e.messageQuery)))?"all":s;switch(e){case S.Ewo.READ_CHANGE_FOLDER_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.mark_read",defaultMessage:"Marking {emailsNum, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                        } in {folderName} as read...\n                    ",values:{emailsNum:r,folderName:vl.createElement(vd.Z,{folderId:t})}});case S.Ewo.DELETE_FOLDER_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.delete",defaultMessage:"Deleting {emailsNum, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{emailsNum:r,folderName:vl.createElement(vd.Z,{folderId:t})}});case S.Ewo.ARCHIVE_FOLDER_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.archive",defaultMessage:"Archiving {count, plural,\n                        =1 {message}\n                        =all {all messages}\n                        other {# messages}\n                    } in {folderName}...\n                    ",values:{count:r,folderName:vl.createElement(vd.Z,{folderId:t})}});case S.Ewo.DELETE_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_delete",defaultMessage:"Deleting {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.DELETE_ALL_FROM_SENDERS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_delete_from_senders",defaultMessage:"Deleting {conversations, select, true {conversations} false {messages}}",values:{conversations:a}});case S.Ewo.MOVE_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_move",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.DELETE_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:case S.Ewo.UNDO_MOVE:return vl.createElement(Gl.FormattedMessage,{id:"progress.move_query",defaultMessage:"Moving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.READ_CHANGE_ALL_ITEMS:case S.Ewo.READ_CHANGE_SELECTED_ITEMS:case S.Ewo.STAR_CHANGE_ALL_ITEMS:case S.Ewo.STAR_CHANGE_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.mark_query",defaultMessage:"Updating {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.ARCHIVE_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_archive",defaultMessage:"Archiving {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    }",values:{conversations:a,count:r}});case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.RESTORE_SELECTED_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_restore",defaultMessage:"Restoring {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    } to Inbox",values:{conversations:a,count:r}});case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.SPAM_SELECTED_ITEMS:return vl.createElement(Gl.FormattedMessage,{id:"progress.messages_mark_spam",defaultMessage:"Marking {conversations, select,\n                        true {{count, plural,\n                            one {conversation}\n                            =all {all conversations}\n                            other {# conversations}\n                        }}\n                        false {{count, plural,\n                            one {message}\n                            =all {all messages}\n                            other {# messages}\n                        }}\n                    } as Spam",values:{conversations:a,count:r}})}return null})),Fd(this,"renderStatus",(()=>{switch(this.props.status){case S.sZ3.ABORTING:return vl.createElement(Gl.FormattedMessage,{id:"progress.aborting",defaultMessage:"Cancelling"});case S.sZ3.ABORT_FAILED:return vl.createElement(Gl.FormattedMessage,{id:"progress.abort_failed",defaultMessage:"Failed to cancel. Please Retry"});default:return null}}))}componentDidUpdate(){clearTimeout(this.handleProgressTimeout),this.handleProgressTimeout=setTimeout((()=>{this.props.forceSync()}),this.props.asyncTaskPollInterval)}componentWillUnmount(){clearTimeout(this.handleProgressTimeout),this.props.forceSync()}render(){const{progress:e=0}=this.props;return vl.createElement(bd,{isCancelable:this.isTaskCancelable(),onCancel:this.handleCancel,progress:e,message:this.renderMessage(),subtitle:this.renderStatus()})}}const kd=(0,Fl.connect)((e=>{const{isAsyncTaskPending:t,getAsyncTask:s,getFeaturesSelectors:a}=(0,Oc.selectors)(e),n=a().getSetting(S.Zrf.ASYNC_TASK_POLL_INTERVAL);if(!t())return{asyncTaskPollInterval:n};const{taskId:r,status:o,progress:i,pollCount:l,isPassiveBulkTask:c}=s();return{taskId:r,status:o,progress:i,isPassiveBulkTask:c,pollCount:l,asyncTaskPollInterval:n}}),(e=>({bulkTaskCancelRequest:t=>e((0,yd.Kf)({taskId:t})),forceSync:()=>e((0,zl.PV)({forceSync:!0,i13nModel:{}}))})))(Ud);var wd=s(90108),Gd=s(70757);const Hd=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_group_edit_succeeded",defaultMessage:"Contact list updated"}),Bd=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_group_edit_in_progress",defaultMessage:"Updating contact list"}),xd=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contacts_csv_import_failed",defaultMessage:"Unable to import contacts. {tryAgainLink}",values:{tryAgainLink:vl.createElement(Gd.V,{i13nModel:{mKey:cc.JE.IMPORT_CSV_CONTACTS_CLICKED,sec:cc.nJ.NOTIFICATION_ACTION}})}}),Vd=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contacts_csv_import_completed",defaultMessage:"Your contacts have been added."});var Zd=s(43854),Wd=s.n(Zd),Kd=s(90583);const zd=ic()(Wd());class Yd extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleClick",(e=>{e.preventDefault(),this.props.onClose(),this.props.toggleAutoOpenSettingsPopover({status:!0})}))}render(){const e=vl.createElement("span",{onClick:this.handleClick,className:zd.settings,"data-test-id":"settings-link"},vl.createElement(Gl.FormattedMessage,{id:"notification.themes_cue_v3_closed_settings",defaultMessage:"Settings"}));return vl.createElement(Gl.FormattedMessage,{id:"notification.themes_cue_v3_closed",defaultMessage:"Theme saved. For more ways to personalize, go to {Settings}.",values:{Settings:e}})}componentWillUnmount(){this.props.featureCueNotificationClosed({name:S.ANe.THEMES_CUE_V3})}}const jd=(0,Fl.connect)(null,(e=>({featureCueNotificationClosed:t=>e((0,Cc.Jd)(t)),toggleAutoOpenSettingsPopover:t=>e((0,Kd.Wx)(t))})))(Yd);function qd({folder:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.create_success",defaultMessage:"{folderName} folder created",values:{folderName:vl.createElement("strong",null,e.name)}})}function Xd({folderName:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.create_failure",defaultMessage:"Failed creating {folderName} folder",values:{folderName:vl.createElement("strong",null,e)}})}function Qd({folderId:e,progress:t}){const s=vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}));if(t<100){const e=vl.createElement("strong",null,t,"%");return vl.createElement(Gl.FormattedMessage,{id:"folder.markasread_partial_success",defaultMessage:"{progress} of messages in {folderName} marked as read",values:{folderName:s,progress:e}})}return vl.createElement(Gl.FormattedMessage,{id:"folder.mark_read_success",defaultMessage:"Folder {folderName} was marked as read",values:{folderName:s}})}function Jd({folderId:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.mark_read_failure",defaultMessage:"Failed marking folder {folderName} as read",values:{folderName:vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}))}})}function $d({folderId:e,progress:t}){const s=vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}));if(t<100){const e=vl.createElement("strong",null,t,"%");return vl.createElement(Gl.FormattedMessage,{id:"folder.archive_partial_success",defaultMessage:"{progress} of messages in {folderName} archived",values:{folderName:s,progress:e}})}return vl.createElement(Gl.FormattedMessage,{id:"folder.archive_success",defaultMessage:"Messages in folder {folderName} were moved to archive",values:{folderName:s}})}function e_({folderId:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.archive_failure",defaultMessage:"Failed moving folder {folderName} messages to archive",values:{folderName:vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}))}})}function t_({folderId:e,progress:t}){const s=vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}));if(t<100){const e=vl.createElement("strong",null,t,"%");return vl.createElement(Gl.FormattedMessage,{id:"folder.delete_partial_success",defaultMessage:"{progress} of messages in {folderName} deleted",values:{folderName:s,progress:e}})}return vl.createElement(Gl.FormattedMessage,{id:"folder.clear_success",defaultMessage:"Folder {folderName} was cleared",values:{folderName:s}})}function s_({folderId:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.clear_failure",defaultMessage:"Failed clearing folder {folderName}",values:{folderName:vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}))}})}function a_(){return vl.createElement(Gl.FormattedMessage,{id:"folder.access_failure",defaultMessage:"The folder you're trying to access is no longer valid"})}class n_ extends vl.Component{render(){return vl.createElement(Gl.FormattedMessage,{id:"notification.no_internet",defaultMessage:"No internet connection."})}}const r_=(0,Fl.connect)(((e,t)=>{const{isOnline:s}=(0,Oc.selectors)(e);return s()&&t.onClose(),{}}))(n_);var o_=s(98014),i_=s.n(o_);function l_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c_=ic()(i_());class d_ extends vl.Component{constructor(...e){super(...e),l_(this,"handleClick",(e=>{const t={mKey:cc.JE.FIX_IMAP_ACCOUNT,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(e)},{accountId:s,provider:a}=this.props,n=window.screen.width-400,r=window.screen.height-300;window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${r}, left=${n}`),this.props.onClose(),this.context.navigateTo({route:(0,gc.Tx)({settingsGroupId:S.u5h.ACCOUNTS,accountId:s,provider:a,openReauth:!0}),i13nModel:t})}))}render(){const{provider:e}=this.props;let t;return t=e===S.zoT.GOOGLE?vl.createElement(Gl.FormattedMessage,{id:"notifications.signintogoogle",defaultMessage:"Sign in to Google"}):vl.createElement(Gl.FormattedMessage,{id:"notifications.gotosettings",defaultMessage:"Go to Settings"}),vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"mailbox.not_sycning",defaultMessage:"This mailbox is not syncing and needs permission to resume."}),"Â ",vl.createElement(tc.Z,{"aria-hidden":!0,kind:sc.F.CHROMELESS,onClick:this.handleClick},vl.createElement("span",{className:c_.actionLink},t)))}}l_(d_,"contextTypes",{navigateTo:yl().func});const __=(0,Fl.connect)()(d_),E_=({conversations:e,abort:t,count:s,itemsToUpdate:a=[]})=>{const n=a.some((e=>Boolean(e.messageQuery)))?"all":s;return t?vl.createElement(Gl.FormattedMessage,{id:"notification.markSpam_aborted",defaultMessage:"Mark spam operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.markSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} other {Conversations were} }} false {{count, plural, =1 {Message was} =all {all messages} other {Messages were} }} } successfully marked as Spam",values:{conversations:e,count:n}})},u_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.markSpam_failure",defaultMessage:"Unable to mark the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } as Spam.",values:{conversations:e,count:a}})},m_=({conversations:e,abort:t,count:s,itemsToUpdate:a=[]})=>{const n=a.some((e=>Boolean(e.messageQuery)))?"all":s;return t?vl.createElement(Gl.FormattedMessage,{id:"notification.notSpam_aborted",defaultMessage:"Not spam operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.notSpam_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation was} =all {all conversations} other {Conversations were} }} false {{count, plural, =1 {Message was} =all {all messages} other {Messages were} }} } moved to Inbox",values:{conversations:e,count:n}})},S_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.notSpam_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to Inbox",values:{conversations:e,count:a}})},p_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.archive_failure",defaultMessage:"Unable to Archive the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} }.",values:{conversations:e,count:a}})},C_=({conversations:e,abort:t,count:s,itemsToUpdate:a=[]})=>{const n=a.some((e=>Boolean(e.messageQuery)))?"all":s;return t?vl.createElement(Gl.FormattedMessage,{id:"notification.restore_inbox_aborted",defaultMessage:"Restore operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.restore_inbox_success",defaultMessage:"{conversations, select, true {{count, plural, =1 {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {Message} =all {all messages} other {# messages} }} } moved to Inbox",values:{conversations:e,count:n}})},A_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.restore_inbox_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to Inbox",values:{conversations:e,count:a}})},T_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.delete_failure",defaultMessage:"Unable to delete the {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, =1 {message} =all {all messages} other {# messages} }} }.",values:{conversations:e,count:a}})},I_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.undo_success",defaultMessage:"Undo succeeded"}),h_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.undo_failed",defaultMessage:"Undo failed"}),g_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.message_access_failure",defaultMessage:"The message you're trying to access is no longer valid"}),O_=({conversations:e,abort:t})=>t?vl.createElement(Gl.FormattedMessage,{id:"notification.delete_from_senders_aborted",defaultMessage:"Delete operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.delete_from_senders_success",defaultMessage:"{conversations, select, true {Conversations} false {Messages} } deleted from selected senders.",values:{conversations:e}}),D_=({conversations:e})=>vl.createElement(Gl.FormattedMessage,{id:"notification.delete_from_senders_failure",defaultMessage:"Failed to delete {conversations, select, true {conversations} false {messages} } from selected senders.",values:{conversations:e}}),R_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.update_items_success",defaultMessage:"Updated {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    =all {all conversations}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    =all {all messages}\n                    other {# messages}\n                }}\n            } successfully",values:{conversations:e,count:a}})},N_=({conversations:e,count:t,itemsToUpdate:s=[]})=>{const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.update_items_failure",defaultMessage:"Failed to update {conversations, select,\n                true {{count, plural,\n                    one {conversation}\n                    =all {all conversations}\n                    other {# conversations}\n                }}\n                false {{count, plural,\n                    one {message}\n                    =all {all messages}\n                    other {# messages}\n                }}\n            }",values:{conversations:e,count:a}})};class L_ extends vl.Component{render(){const{destinationFolderId:e,abort:t,conversations:s}=this.props;return t?vl.createElement(Gl.FormattedMessage,{id:"notification.move_messages_aborted_v2",defaultMessage:"Move operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"folder.move_query_success",defaultMessage:"All {conversations, select, true {conversations} false {messages} } moved to {destinationFolderName}.",values:{destinationFolderName:vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e})),conversations:s}})}}function f_(){return vl.createElement(Gl.FormattedMessage,{id:"folder.move_query_failure",defaultMessage:"Failed moving all items "})}function M_(){return vl.createElement(Gl.FormattedMessage,{id:"folder.mark_query_success",defaultMessage:"Items were updated"})}function P_(){return vl.createElement(Gl.FormattedMessage,{id:"folder.mark_query_failure",defaultMessage:"Failed updating all items "})}var b_=s(82723),y_=s.n(b_),v_=s(62631);const F_=ic()(y_());function U_(){return vl.createElement("div",{className:F_.leftAlign},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_information_deleted_1",defaultMessage:"Your information will be deleted."}),vl.createElement("br",null),vl.createElement(Gl.FormattedMessage,{id:"notification.settings_information_deleted_2",defaultMessage:"Changes may take up to 24 hours."}))}function k_({showSettingsMessageFiltersLink:e,onClose:t},{navigateTo:s,getUrlFromRoute:a}){if(e){const e=(0,gc.Tx)({settingsGroupId:S.u5h.FILTERS}),n=a=>{a.preventDefault(),s({route:e}),t()};return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_filter_added",defaultMessage:"Filter added. {link}",values:{link:vl.createElement("a",{href:a(e),className:F_.link,onClick:n},vl.createElement(Gl.FormattedMessage,{id:"notifications.settings_manage_filters",defaultMessage:"Manage filters"}))}})}return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_filter_saved",defaultMessage:"Message filter has been saved successfully"})}k_.contextTypes={navigateTo:yl().func,getUrlFromRoute:yl().func};const w_=(0,Fl.connect)(((e,t)=>({showSettingsMessageFiltersLink:(0,h.u9)(t,"i13nModel.mKey",null)===cc.JE.TOOLBAR_FILTER_MESSAGES_LIKE_THIS})))(k_);function G_(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_filter_failed_to_save",defaultMessage:"Message filter has failed to save"})}function H_(){return vl.createElement(Gl.FormattedMessage,{id:"notification.user_preference_failed_to_load",defaultMessage:"Your preferences failed to load at this time due to a temporary error."})}function B_({delta:e}){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_blocked_senders_added",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} added",values:{count:e}})}function x_({delta:e}){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_blocked_senders_deleted",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} deleted",values:{count:-e}})}function V_({delta:e}){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_add",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to add",values:{count:e}})}function Z_({delta:e}){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_blocked_senders_failed_to_delete",defaultMessage:"Blocked {count, plural, =1 {sender} other {senders}} failed to delete",values:{count:-e}})}function W_(){return vl.createElement(Gl.FormattedMessage,{id:"notification.user_preference_failed_to_save",defaultMessage:"Your preferences failed to save at this time due to a temporary error."})}function K_(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_vacation_response_saved",defaultMessage:"Vacation response has been saved."})}function z_(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_vacation_response_deleted",defaultMessage:"Vacation response has been removed."})}function Y_({error:e,provider:t,email:s},{yahooBrandNameString:a}){switch(e){case 412:return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_cancel_permission",defaultMessage:"Account connection cancelled."});case 403:return vl.createElement("div",{className:F_.errorWrapper},vl.createElement("div",{className:F_.errorHeader},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_different_id_header",defaultMessage:"{email} could not be added",values:{email:s}})),vl.createElement("div",{className:F_.errorBody},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:(0,v_.zJ)(t),nextLine:vl.createElement("br",null),sign_out:vl.createElement("a",{className:F_.link,target:"_blank",href:S.wxL[t].providerUrl,rel:"noopener"},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_sign_out",defaultMessage:"sign out"}))}})));case 503:return vl.createElement(Gl.FormattedMessage,{id:"notification.provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please try to connect your account later.",values:{yahooBrandNameString:a,provider:(0,v_.zJ)(t)}});case 409:return vl.createElement(Gl.FormattedMessage,{id:"notification.account_conflict",defaultMessage:"This account is already connected"});default:return vl.createElement(Gl.FormattedMessage,{id:"notification.account_general_error",defaultMessage:"Unable to add mailbox. Please try again later."})}}Y_.contextTypes={yahooBrandNameString:yl().string};const j_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.reply_reminders_shown",defaultMessage:"Reply reminders are enabled"}),q_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.reply_reminders_hidden",defaultMessage:"Reply reminders are hidden"}),X_=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.enabled",defaultMessage:"Notifications enabled"});var Q_=s(4887);s(44499);var J_=s(66588),$_=s(79483);const eE=ic()(i_());class tE extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleClick",(e=>{e.preventDefault(),this.props.onClose(),this.props.connectAccountRequested({url:"",provider:S.kGi.LinkedIn,i13nModel:{mKey:cc.JE.IMPORT_LINKEDIN_CONTACTS,sec:cc.nJ.NOTIFICATION_ACTION}})}))}componentDidMount(){setImmediate((()=>{$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.LINKEDIN_AUTH_EXPIRED,sec:cc.nJ.NOTIFICATION_ACTION}})}))}render(){const{mailBrandNameString:e}=this.context,t=vl.createElement(tc.Z,{"aria-hidden":!0,kind:sc.F.CHROMELESS,onClick:this.handleClick,"data-test-id":"reconnect-button"},vl.createElement("span",{className:eE.actionLink,"data-test-id":"reconnect-link"},vl.createElement(Gl.FormattedMessage,{id:"notification.linkedin_auth_reconnect",defaultMessage:"Reconnect"})));return vl.createElement(Gl.FormattedMessage,{id:"notification.reconnect_to_linkedin",defaultMessage:"{Reconnect} to LinkedIn to see photos and job titles of your {mailBrandNameString} contacts.",values:{Reconnect:t,mailBrandNameString:e}})}}tE.contextTypes={mailBrandNameString:yl().string};const sE=(0,Fl.connect)(null,(e=>({connectAccountRequested:t=>e((0,J_.S9)(t))})))(tE);var aE=s(48003),nE=s.n(aE);const rE=ic()(nE());class oE extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"viewDeals",(()=>{const{accountId:e,defaultStorefrontBrandId:t,isStorefrontEnabled:s,onClose:a}=this.props,n=s?(0,gc.jK)(S.K8C.STOREFRONT,{accountIds:e,brandId:t}):(0,gc.jK)(S.K8C.COUPONS,{accountIds:e});$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.DEALS_VIEW_NAV_FROM_NOTIFICATION,interactionType:cc.Rb.click,sec:cc.nJ.MSG_BODY}}),this.context.navigateTo({route:n}),a()}))}render(){return vl.createElement(Gl.FormattedMessage,{id:"toast.saved_deals",defaultMessage:"Added to 'Saved deals'. {viewLink}",values:{viewLink:vl.createElement("a",{className:rE.link,onClick:this.viewDeals},vl.createElement(Gl.FormattedMessage,{id:"toast.view",defaultMessage:"View"}))}})}}oE.contextTypes={navigateTo:yl().func,getUrlFromRoute:yl().func};const iE=(0,Fl.connect)((e=>{var t;const{getSelectedAccountId:s,getStorefrontBrandsSelectors:a,isFeatureEnabled:n}=(0,Oc.selectors)(e),{getAllStorefrontBrands:r}=a(),o=(null===(t=r()[0])||void 0===t?void 0:t.brandId)||"";return{accountId:s(),defaultStorefrontBrandId:o,isStorefrontEnabled:n(S.ANe.STOREFRONT)}}))(oE);var lE=s(8389),cE=s.n(lE);const dE=ic()(cE());class _E extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleSplunkSearch",(()=>{window.open(this.props.splunkUrl,"_blank")}))}render(){return vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"notification.exception_occurred",defaultMessage:"Javascript exception occurred."}),"Â ",vl.createElement(tc.Z,{kind:sc.F.CHROMELESS,"data-test-id":"search-btn",onClick:this.handleSplunkSearch},vl.createElement("span",{className:dE.button},vl.createElement(Gl.FormattedMessage,{id:"notification.exception_run_diagnostics",defaultMessage:"Run diagnostics"}))))}}var EE=s(14369),uE=s.n(EE);const mE=(0,Fl.connect)(void 0,((e,t)=>({onClick:s=>e({...t.undoAction,i13nModel:{mKey:cc.JE.UNDO_MOVE_ACTION,sec:cc.nJ.MSG_LIST_NOTIFICATION,interactionType:(0,Pa.getInteractionFromEvent)(s),...t.undoAction.i13nModel||{}}})})))((function(e){const t=(0,Hc.Z)(uE());return vl.createElement(tc.Z,{"aria-hidden":!0,"data-test-id":"undo-button",kind:sc.F.CHROMELESS,onClick:t=>{e.onClose(),e.onClick(t)}},vl.createElement("span",{className:t.undo},vl.createElement(Gl.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}));class SE extends vl.Component{render(){const{conversations:e,count:t,isAsync:s,undoAction:a,permanent:n,onClose:r,itemsToUpdate:o=[],abort:i}=this.props,l=o.some((e=>Boolean(e.messageQuery)))?"all":t;return i?vl.createElement(Gl.FormattedMessage,{id:"notification.delete_aborted",defaultMessage:"Delete operation aborted."}):vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"notification.delete_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {Message} =all {all conversations} other {# messages} }} } deleted.",values:{conversations:e,count:l}}),"Â ",!n&&!s&&a&&vl.createElement(mE,{undoAction:a,onClose:r}))}}class pE extends vl.Component{render(){const{conversations:e,abort:t,count:s,isAsync:a,undoAction:n,onClose:r,itemsToUpdate:o=[]}=this.props,i=o.some((e=>Boolean(e.messageQuery)))?"all":s;return t?vl.createElement(Gl.FormattedMessage,{id:"notification.archive_aborted",defaultMessage:"Archive operation aborted."}):vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"notification.archive_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {Message} =all {all messages} other {# messages} }} } moved to Archive.",values:{conversations:e,count:i}}),"Â ",!a&&vl.createElement(mE,{undoAction:n,onClose:r}))}}var CE=s(88225),AE=s.n(CE);const TE=(0,Fl.connect)(void 0,(e=>({openPersonalInboxSettings:()=>e((0,zl.Ch)({route:(0,gc.Tx)({settingsGroupId:S.u5h.PERSONALIZE_INBOX})}))})))((e=>{const t=ic()(AE());return vl.createElement(Gl.FormattedMessage,{id:"notification.disable.breaking.news",defaultMessage:"Don't want Breaking News in Yahoo Mail? Disable in {settingsLink}",values:{settingsLink:vl.createElement("a",{className:t.link,onClick:e.openPersonalInboxSettings,"data-test-id":"settings-link"},vl.createElement(Gl.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}));function IE(){return vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_link.fetch_failed",defaultMessage:"Unable to fetch shareable link"})}function hE(){return vl.createElement(Gl.FormattedHTMLMessage,{id:"cloud_storage_account_not_verified",defaultMessage:"To share a file, please verify this email address on <a target={target} style={link} href={url}>dropbox.com</a>.",values:{url:"https://www.dropbox.com",link:"color:#188fff;",target:"_blank"}})}const gE=({folderName:e})=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_created",defaultMessage:"Event added to {folder} calendar",values:{folder:vl.createElement("b",null,e)}}),OE=({folderName:e})=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_create_failed",defaultMessage:"Fail to add event to {folder} calendar",values:{folder:vl.createElement("b",null,e)}}),DE=({folderName:e})=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_deleted",defaultMessage:"Event removed from {folder} calendar",values:{folder:vl.createElement("b",null,e)}}),RE=({folderName:e})=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_delete_failed",defaultMessage:"Fail to remove event from {folder} calendar",values:{folder:vl.createElement("b",null,e)}}),NE=()=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_edited",defaultMessage:"Event has been saved"}),LE=()=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_edit_failed",defaultMessage:"Event has not been saved. Please try again."}),fE=()=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_replied",defaultMessage:"Your response has been saved."}),ME=()=>vl.createElement(Gl.FormattedMessage,{id:"epoch.toast.calendar_event_reply_failed",defaultMessage:"Your response has not been saved. Please try again."});var PE=s(84210),bE=s.n(PE),yE=s(68085);const{MAILPRO_SIGNUP_THNAKYOU_TOAST:vE,POST_SIGNUP_THANKYOU_TOAST:FE,FREE_TRIAL_ENDING_NOTICATION_1:UE}=S.$AH,kE=(0,yE._)((e=>{const t=ic()(bE()),{daysLeftInTrial:s,upsellId:a,handleLinkClick:n}=e,r=vl.createElement(Gl.FormattedMessage,{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"});switch(a){case vE:return vl.createElement(Gl.FormattedMessage,{id:"mailpro_free_trial_upgrade_success_notification",defaultMessage:"Thanks for activating {YahooMailProBrand}!",values:{YahooMailProBrand:r}});case FE:return vl.createElement(Gl.FormattedMessage,{id:"mailpro_free_trial_success_notification",defaultMessage:"Yay! Now enjoy free {YahooMailProBrand} for {daysDuration} days without any obligation.",values:{YahooMailProBrand:r,daysDuration:S.OIv}});case UE:return vl.createElement(Gl.FormattedMessage,{id:"mailpro_free_trial_upgrade_notification",defaultMessage:"Your {YahooMailProBrand} preview ends in {daysLeftInTrial} days.  {upgradeLink} to keep ad-free mail.",values:{YahooMailProBrand:r,daysLeftInTrial:s,upgradeLink:vl.createElement("a",{className:t.link,onClick:n,"data-test-id":"mailpro-free-trial-upgrade-link"},vl.createElement(Gl.FormattedMessage,{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"}))}})}}));var wE=s(64059),GE=s(336);class HE extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"handleLinkClick",(()=>{const{daysLeftInTrial:e,upsellId:t,toastClickURL:s}=this.props;$_.ZP.sendI13nModel({i13nModel:{mKey:`toast_${S.ANe.MAILPRO_FREE_TRIAL_UPSELLS}_upgrade_${t}`,sec:cc.nJ.MAIL_PREMIUM_FREE_TRIAL,actionData:{daysLeftInTrial:e},interactionType:cc.Rb.click}}),(0,wE.x)(s)}))}componentDidMount(){const{toastImpressionURL:e,upsellId:t}=this.props;t===S.$AH.FREE_TRIAL_ENDING_NOTICATION_1&&(0,GE.Z)(e,!1)}render(){const{daysLeftInTrial:e,upsellId:t,toastImpressionURL:s}=this.props,a={upsellId:t};return vl.createElement(kE,{"data-test-id":"mailpro-free-trial-toast-notification",daysLeftInTrial:e,cueName:S.ANe.MAILPRO_FREE_TRIAL_UPSELLS,handleLinkClick:this.handleLinkClick,computeUserResponse:()=>t,computeActionData:()=>a,upsellId:t,toastImpressionURL:s})}}const BE=(0,Fl.connect)((e=>{const{getMailPremiumFreeTrialSelectors:t,getSetting:s}=(0,Oc.selectors)(e),{getDaysLeftInTrial:a,getUpsellId:n}=t(),r=a(),o=n(),{toastImpressionURL:i,toastClickURL:l}=s(S.Zrf.MAILPRO_UPSELL_INSTRUMENTATION_URL);return{daysLeftInTrial:r,upsellId:o,toastImpressionURL:i,toastClickURL:l}}))(HE);var xE=s(33055),VE=s.n(xE);const ZE=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.deals_summaries_shown",defaultMessage:"Deal summaries shown"}),WE=()=>vl.createElement(Gl.FormattedMessage,{id:"notification.deals_summaries_hidden",defaultMessage:"Deal summaries hidden"}),KE=(0,Fl.connect)((e=>{const{isMobileRoute:t}=(0,Oc.selectors)(e);return{isMobileRoute:t()}}),(e=>({navigateToRoute:t=>e((0,zl.Ch)(t))})))((e=>{const{isMobileRoute:t,navigateToRoute:s}=e,a=ic()(VE(),{isMobileRoute:t}),n=vl.createElement("button",{className:a.button,onClick:e=>{const a={mKey:cc.JE.SHOW_MAIL_PLUS_TAB,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(e)};s({route:(0,gc.Tx)(t?{}:{settingsGroupId:S.u5h.MAIL_PLUS}),i13nModel:a})}},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_link_mail_plus",defaultMessage:"Settings"}));return t?vl.createElement("div",{className:a.container},vl.createElement(WE,null),n):vl.createElement(Gl.FormattedMessage,{id:"notification.deals_summaries_shown_settings_link",defaultMessage:"Deal summaries hidden. To bring this feature back, go to {link}",values:{link:n}})})),zE=ic()(i_()),YE=(0,Fl.connect)((e=>{const{isMobileRoute:t}=(0,Oc.selectors)(e);return{isMobileRoute:t()}}),(e=>({onSettingsLinkClick:t=>e((0,zl.Ch)(t))})))((({isMobileRoute:e,onSettingsLinkClick:t})=>vl.createElement("a",{className:zE.actionLink,onClick:s=>{const a={mKey:cc.JE.SHOW_SETTINGS_PRIVACY_TAB,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(s)};t({route:e?(0,gc.zo)():(0,gc.Tx)({settingsGroupId:S.u5h.SECURITY_AND_PRIVACY}),i13nModel:a})}},vl.createElement(Gl.FormattedMessage,{id:"notification.settings_link_blocked_domains",defaultMessage:"Manage in Settings"})))),jE=(0,Fl.connect)(((e,t)=>{const{brandId:s}=t,{getStorefrontBrandsSelectors:a}=(0,Oc.selectors)(e),{getBrandInfoFromBrandId:n}=a();return{brandName:n(s).name}}))((({brandName:e})=>vl.createElement(Gl.FormattedMessage,{id:"toast.favorite_brands",defaultMessage:"Updates from {brandName} will be shown first.",values:{brandName:e}})));var qE=s(52065),XE=s(34970);const QE=ic()(i_()),JE=(0,Fl.connect)((e=>{var t,s;const{getCurrentFolderDetails:a,getAllItemsCountForListId:n,getFoldersSelectors:r,getRoute:o,getAllAccounts:i,isInboxStyleNewOldMail:l}=(0,Oc.selectors)(e),{getFormattedFolderName:c,listId:d}=a(),_=(0,Rc.Fh)(d),E=n(d),u=o().name===S.n8z.SEARCH,m=(0,Rc.yE)(d),p=_?r().getFolderDisplayTypeByFolderId(_):"",C=i();let A=!0;const T=(0,Rc.Ie)(d);(null==C?void 0:C.length)>1&&1!==(null==T||null===(t=T.accountIds)||void 0===t?void 0:t.length)&&0===(null==T||null===(s=T.folders)||void 0===s?void 0:s.length)&&(A=!1);return{allItemsCount:E,getFormattedFolderName:c,isSearchRoute:u,smartViewSearch:m,folderDisplayType:p,canShowOnSearch:A,isAolUserWithNewOldEnabled:l()}}),((e,{streamId:t,onClose:s})=>({onClick:a=>{return a.preventDefault(),s(),$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.TOOLBAR_BULK_SELECT_ALL_MESSAGE,sec:cc.nJ.MSG_LIST_BULK_ACTION,interactionType:cc.Rb.click}}),e((n={streamId:t},{...n,type:$c.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION,selectionType:S.ie0.BULK}));var n}})))((0,Gl.injectIntl)((({countOfMessageIdsInMemory:e,intl:t,isSearchRoute:s,smartViewSearch:a,countOfMessageGroupIdsInMemory:n,onClose:r,selectedItemsTotal:o,allItemsCount:i,getFormattedFolderName:l,onClick:c,canShowOnSearch:d,isAolUserWithNewOldEnabled:_})=>{const{formatMessage:E}=t,u=l(E),m=(0,vl.createRef)();return(0,vl.useEffect)((()=>{m.current&&m.current.focus(),0===o&&r()})),null===i||e>=i||n>0&&i<40||o<n||u&&S.PmI.includes(u.toUpperCase())||_?null:s&&!a?d?vl.createElement("a",{href:"#",className:QE.link,onClick:c,ref:m},vl.createElement(Gl.FormattedMessage,{id:"toast.confirmSelectAllAfterSearch",defaultMessage:"Select all {allItemsCount, number} messages matching this search.",values:{allItemsCount:i}})):null:""===u?vl.createElement("a",{href:"#",className:QE.link,onClick:c,ref:m},vl.createElement(Gl.FormattedMessage,{id:"toast.confirmSelectAllNoFolder",defaultMessage:"Select all {allItemsCount, number} messages.",values:{allItemsCount:i}})):vl.createElement("a",{href:"#",className:QE.link,onClick:c,ref:m},vl.createElement(Gl.FormattedMessage,{id:"toast.confirmSelectAll",defaultMessage:"Select all {allItemsCount, number} messages in {localizedFolderName}.",values:{allItemsCount:i,localizedFolderName:u}}))})));var $E=s(78263);const eu=(0,Fl.connect)((e=>{const{getCurrentListId:t,getNumberOfSelectedItemsInList:s,getMessageIdsFromMessageGroupId:a,getListsSelectors:n,getSetting:r,isFeatureEnabled:o}=(0,Oc.selectors)(e),i=t(),l=(0,$E.BA)([i]),c=n().getItemIdsSelectors(i).getItemIds();let d=0;if(r(S.ANe.CONVERSATIONS))for(let _=0;_<c.length;_++)d+=a(c[_]).length;else d=c.length;return{areConversationsEnabled:o(S.ANe.CONVERSATIONS),selectedItemsTotal:s(i),countOfMessageIdsInMemory:d,countOfMessageGroupIdsInMemory:c.length,streamId:l}}))((({areConversationsEnabled:e,selectedItemsTotal:t,streamId:s,countOfMessageIdsInMemory:a,onClose:n,countOfMessageGroupIdsInMemory:r})=>{const o=t<S.DTB?t:S.DTB;return vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"toast.selectAllConfirmation",defaultMessage:"{areConversationsEnabled, select, true {{displayedTotal, plural, one {Conversation} other {# conversations} }} false {{displayedTotal, plural, one {Message} other {# messages} }} } selected.",values:{displayedTotal:o,areConversationsEnabled:e}}),"Â ",t<S.DTB?vl.createElement(JE,{streamId:s,onClose:n,selectedItemsTotal:o,countOfMessageGroupIdsInMemory:r,countOfMessageIdsInMemory:a}):null)}));function tu(){return vl.createElement(Gl.FormattedMessage,{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."})}const su=(0,Fl.connect)(void 0,(e=>({onUndo:t=>e(t.undoAction)})))((e=>{const{onUndo:t,undoAction:s,numberOfCards:a}=e,n=(0,Hc.Z)(uE());return vl.createElement(vl.Fragment,null,vl.createElement("div",{className:n.paddingRight},vl.createElement(Gl.FormattedMessage,{id:"top_of_inbox.notifications.remove_card",defaultMessage:"{numberOfCards, plural, =1 {Card} other {Cards}} hidden",values:{numberOfCards:a}})),vl.createElement(tc.Z,{"aria-hidden":!0,"data-test-id":"undo-button",kind:sc.F.CHROMELESS,onClick:()=>t({undoAction:s})},vl.createElement("span",{className:n.undo},vl.createElement(Gl.FormattedMessage,{id:"top_of_inbox.notifications.undo",defaultMessage:"Undo"}))))}));var au=s(1974);function nu(e){const{isRead:t,abort:s,destinationFolderId:a,conversations:n,isAsync:r,undoAction:o,onClose:i,itemsToUpdate:l=[]}=e,c=l.some((e=>Boolean(e.messageQuery)))?"all":e.count;let d;return d=a?vl.createElement(vd.Z,{folderId:a}):vl.createElement(au.Z,{type:t?S.K8C.NEWMAIL:S.K8C.OLDMAIL,shouldShowCount:!1}),s?vl.createElement(Gl.FormattedMessage,{id:"notification.move_messages_aborted_v2",defaultMessage:"Move operation aborted."}):vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"notification.move_message_success_v2",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {All conversations} other {# conversations} }} false {{count, plural, one {Message} =all {All messages} other {# messages} }} } moved to {destinationFolderName}.",values:{destinationFolderName:d,conversations:n,count:c}}),"Â ",!r&&vl.createElement(mE,{undoAction:o,onClose:i}))}function ru({conversations:e,count:t,itemsToUpdate:s=[]}){const a=s.some((e=>Boolean(e.messageQuery)))?"all":t;return vl.createElement(Gl.FormattedMessage,{id:"notification.move_message_failure",defaultMessage:"Unable to move {conversations, select, true {{count, plural, =1 {conversation} =all {all conversations} other {conversations} }} false {{count, plural, =1 {message} =all {all messages} other {messages} }} } to the selected folder.",values:{conversations:e,count:a}})}const ou=(0,Fl.connect)((e=>({newOldInboxStyle:(0,Oc.selectors)(e).isInboxStyleNewOldMail()})))((function(e){const{newOldInboxStyle:t,abort:s,isRead:a,conversations:n,itemsToUpdate:r=[]}=e,o=r.some((e=>Boolean(e.messageQuery)))?"all":e.count;return a?t?s?vl.createElement(Gl.FormattedMessage,{id:"notification.keep_as_new_aborted",defaultMessage:"Keep as new mail operation aborted."}):vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"notification.keep_as_new_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {All conversations} other {# conversations} }} false {{count, plural, one {Message} =all {All messages} other {# messages} }} } kept as new mail.",values:{conversations:n,count:o}}),"Â ",function(e){return e&&"undoAction"in e&&"newOldInboxStyle"in e}(e)&&e.undoAction&&!e.isAsync&&vl.createElement(mE,{undoAction:e.undoAction,onClose:e.onClose})):s?vl.createElement(Gl.FormattedMessage,{id:"notification.unread_aborted",defaultMessage:"Mark as unread operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.unread_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {All conversations} other {# conversations} }} false {{count, plural, one {Message} =all {All messages} other {# messages} }} } marked as unread.",values:{conversations:n,count:o}}):s?vl.createElement(Gl.FormattedMessage,{id:"notification.read_message_aborted",defaultMessage:"Mark as read operation aborted."}):vl.createElement(Gl.FormattedMessage,{id:"notification.read_message_success",defaultMessage:"{conversations, select, true {{count, plural, one {Conversation} =all {All conversations} other {# conversations} }} false {{count, plural, one {Message} =all {All messages} other {# messages} }} } marked as read.",values:{conversations:n,count:o}})}));const iu=(0,Fl.connect)((e=>({newOldInboxStyle:(0,Oc.selectors)(e).isInboxStyleNewOldMail()})))((function(e){const{newOldInboxStyle:t,isRead:s,conversations:a,itemsToUpdate:n=[]}=e,r=n.some((e=>Boolean(e.messageQuery)))?"all":e.count;return s?t?vl.createElement(Gl.FormattedMessage,{id:"notification.keep_as_new_failure",defaultMessage:"Unable to keep {conversations, select, true {{count, plural, one {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {message} =all {all messages} other {# messages} }} } as new mail.",values:{conversations:a,count:r}}):vl.createElement(Gl.FormattedMessage,{id:"notification.unread_message_failure",defaultMessage:"Unable to mark {conversations, select, true {{count, plural, one {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {message} =all {all messages} other {# messages} }} } as unread.",values:{conversations:a,count:r}}):vl.createElement(Gl.FormattedMessage,{id:"notification.read_message_failure",defaultMessage:"Unable to mark {conversations, select, true {{count, plural, one {conversation} =all {all conversations} other {# conversations} }} false {{count, plural, one {message} =all {all messages} other {# messages} }} } as read.",values:{conversations:a,count:r}})}));var lu=s(48845),cu=s.n(lu);const du=(0,Fl.connect)(void 0,((e,t)=>({onClick:s=>e({type:$c.DELETE_TODO_CANCEL_REQUESTED,todoUid:t.todoUid,i13nModel:{mKey:cc.JE.UNDO_DELETE_TODO_CLICK,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(s)}}),onExit:()=>e({type:$c.DELETE_TODO_NOW_REQUESTED,todoUid:t.todoUid})})))((e=>{const{onClose:t,onClick:s,onExit:a}=e,n=(0,Hc.Z)(cu()),r=(0,vl.useRef)(!1);return(0,vl.useEffect)((()=>()=>{r.current||a()}),[a]),vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"todo.delete_with_undo",defaultMessage:"Deleting to-do. "}),vl.createElement("button",{className:n.undo_btn,onClick:e=>{r.current=!0,t(),s(e)}},vl.createElement(Gl.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}));var _u=s(8794),Eu=s.n(_u);const uu=(0,Fl.connect)(void 0,((e,t)=>({onClick:s=>e({type:$c.DELETE_NOTE_CANCEL_REQUESTED,journalUid:t.journalUid,i13nModel:{mKey:cc.JE.UNDO_DELETE_NOTE_CLICK,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(s)}}),onDelete:()=>e({type:$c.DELETE_NOTE_NOW_REQUESTED,journalUid:t.journalUid})})))((e=>{const{onClose:t,onClick:s,onDelete:a}=e,n=(0,Hc.Z)(Eu()),r=(0,vl.useRef)(!1);return(0,vl.useEffect)((()=>()=>{r.current||a()}),[a]),vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"note.delete_with_undo",defaultMessage:"Deleting note. "}),vl.createElement("button",{className:n.undo_btn,onClick:e=>{r.current=!0,t(),s(e)}},vl.createElement(Gl.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))})),mu=(0,Fl.connect)(void 0,((e,t)=>({onClick:s=>e({type:$c.DELETE_JOURNAL_FOLDER_CANCEL_REQUESTED,folderId:t.folderId,i13nModel:{mKey:cc.JE.UNDO_DELETE_JOURNAL_FOLDER_CLICK,sec:cc.nJ.NOTIFICATION_ACTION,interactionType:(0,Pa.getInteractionFromEvent)(s)}}),onDelete:()=>e({type:$c.DELETE_JOURNAL_FOLDER_NOW_REQUESTED,folderId:t.folderId})})))((e=>{const{onClose:t,onClick:s,onDelete:a}=e,n=(0,Hc.Z)(Eu()),r=(0,vl.useRef)(!1);return(0,vl.useEffect)((()=>()=>{r.current||a()}),[a]),vl.createElement(vl.Fragment,null,vl.createElement(Gl.FormattedMessage,{id:"journal_folder.delete_with_undo",defaultMessage:"Deleting folder. "}),vl.createElement("button",{className:n.undo_btn,onClick:e=>{r.current=!0,t(),s(e)}},vl.createElement(Gl.FormattedMessage,{id:"notifications.undo",defaultMessage:"Undo"})))}));function Su(){return vl.createElement(Gl.FormattedMessage,{id:"notification.pin_email.succeeded",defaultMessage:"Email pinned successfully"})}function pu(){return vl.createElement(Gl.FormattedMessage,{id:"notification.pin_email.fail",defaultMessage:"Email pinning failed"})}function Cu(){return vl.createElement(Gl.FormattedMessage,{id:"notification.unpin_email.succeeded",defaultMessage:"Email unpinned successfully"})}function Au(){return vl.createElement(Gl.FormattedMessage,{id:"notification.unpin_email.fail",defaultMessage:"Email unpinning failed"})}const Tu={[$c.ALL_STREAM_ITEMS_SELECTED]:({isSelectAllFeatureEnabled:e})=>e?{message:eu,type:S.j_x.NORMAL}:null,[$c.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:{message:({isFromSubscriptionsView:e})=>e?vl.createElement(Gl.FormattedMessage,{id:"notification.subhub_blocked_domain_add_success",defaultMessage:"Domain(s) blocked. {link}",values:{link:vl.createElement(YE,null)}}):vl.createElement(Gl.FormattedMessage,{id:"notification.blocked_domain_add_success",defaultMessage:"Blocked domain added"}),type:S.j_x.NORMAL},[$c.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.blocked_domain_add_failed",defaultMessage:"Adding blocked domain failed"}),type:S.j_x.WARNING},[$c.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.blocked_domain_delete_success",defaultMessage:"Blocked domain deleted"}),type:S.j_x.NORMAL},[$c.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.blocked_domain_delete_failed",defaultMessage:"Deleting blocked domain failed"}),type:S.j_x.WARNING},[$c.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_group_create_new_success",defaultMessage:"Contact list created"}),type:S.j_x.NORMAL},[$c.CONTACTS_PANE_CREATE_GROUP_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_group_create_new",defaultMessage:"Creating contact list"}),type:S.j_x.PENDING},[$c.CONTACTS_PANE_SAVE_GROUP_REQUESTED]:({doUpdatesExist:e})=>e?{message:Bd,type:S.j_x.PENDING}:{message:Hd,type:S.j_x.NORMAL},[$c.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED]:{message:Hd,type:S.j_x.NORMAL},[$c.CONTACTS_PANE_SAVE_GROUP_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_group_edit_failed",defaultMessage:"Unable to update contact list"}),type:S.j_x.WARNING},[$c.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contacts_csv_import_api_succeeded",defaultMessage:"Contacts importing initiated."}),type:S.j_x.NORMAL},[$c.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED]:(e,t)=>{const{getContactListSelectors:s}=(0,Oc.selectors)(t),{status:a,importCompleteInThisSession:n}=s().getCsvContactImportStatus();if(n)switch(a){case S.woE.DONE:return{message:Vd,type:S.j_x.NORMAL};case S.woE.FAIL:return{message:xd,type:S.j_x.WARNING}}return null},[$c.CONTACTS_CSV_IMPORT_FAILED]:{message:xd,type:S.j_x.WARNING},[$c.CONTACTS_CSV_IMPORT_SIZE_FAILED]:{message:()=>{const e=vl.createElement(Gl.FormattedMessage,{id:"notification.contacts_csv_import_size_failed_try_again",defaultMessage:"try again"}),t=vl.createElement(Gd.V,{i13nModel:{mKey:cc.JE.IMPORT_CSV_CONTACTS_CLICKED,sec:cc.nJ.NOTIFICATION_ACTION},overrideTryAgainText:e});return vl.createElement(Gl.FormattedMessage,{id:"notification.contacts_csv_import_size_failed",defaultMessage:"Maximum file size exceeded. Please {tryAgainLink} with a file under 5MB.",values:{tryAgainLink:t}})},type:S.j_x.WARNING},[$c.EXPORT_ALL_CONTACTS_REQUESTED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"contacts_export_notifications.export_to_csv",defaultMessage:"Your export will start shortly"})},type:S.j_x.PENDING},[$c.FETCH_ALL_CONTACTS_FAILED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"contacts_export_notifications.print_all_contacts_failed",defaultMessage:"Unable to Print Contacts"})},type:S.j_x.WARNING},[$c.SOCIAL_ACCOUNTS_CONNECT_FAILED]:{message:function({provider:e}){let t;const s=(0,h.u9)(Q_.F,`${e}.displayName`);return t=s?vl.createElement(Gl.FormattedMessage,s):e,vl.createElement(Gl.FormattedMessage,{id:"social_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[$c.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t;const s=(0,h.u9)(Q_.F,`${e}.displayName`);return t=s?vl.createElement(Gl.FormattedMessage,s):e,vl.createElement(Gl.FormattedMessage,{id:"social_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[$c.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t;const s=(0,h.u9)(Q_.F,`${e}.displayName`);return t=s?vl.createElement(Gl.FormattedMessage,s):e,vl.createElement(Gl.FormattedMessage,{id:"social_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[$c.SOCIAL_ACCOUNTS_STATUS_RECEIVED]:({response:e},t)=>{const s=(0,h.u9)(e,S.Nq8.LinkedIn,{});if((0,I.jU)()&&s.status===S.UcZ.EXPIRED){const{getSetting:e}=(0,Oc.selectors)(t),a=e(S.Zrf.LINKEDIN_EXPIRY_NOTIFY_DAYS);if(Math.round(window.AppBootstrapData.launchTime/1e3)-s.expiredTimestamp<86400*a)return{message:sE,type:S.j_x.WARNING}}return null},[$c.RENAME_FOLDER_SUCCEEDED]:{message:function({newFolderName:e,originalFolderName:t}){return vl.createElement(Gl.FormattedMessage,{id:"folder.rename_success",defaultMessage:"Folder {originalFolderName} renamed to {newFolderName}",values:{newFolderName:vl.createElement("strong",null,e),originalFolderName:vl.createElement("strong",null,t)}})},type:S.j_x.NORMAL},[$c.RENAME_FOLDER_FAILED]:{message:function({newFolderName:e,originalFolderName:t}){return vl.createElement(Gl.FormattedMessage,{id:"folder.rename_failure",defaultMessage:"Failed renaming folder {originalFolderName} to {newFolderName}",values:{newFolderName:vl.createElement("strong",null,e),originalFolderName:vl.createElement("strong",null,t)}})},type:S.j_x.WARNING},[$c.MOVE_FOLDER_SUCCEEDED]:{message:function({originalFolderName:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.move_success",defaultMessage:"Folder {originalFolderName} moved successfully",values:{originalFolderName:vl.createElement("strong",null,e)}})},type:S.j_x.NORMAL},[$c.MOVE_FOLDER_FAILED]:{message:function(e){const{originalFolderName:t,error:{data:s={}}}=e;return!!Object.keys(s).find((e=>(0,h.u9)(s[e],"response.error.validationErrors",[]).indexOf("NAME")>-1))?vl.createElement(Gl.FormattedMessage,{id:"folder.move_failure_on_name_length",defaultMessage:"Folder could not be moved because the new path is more than 240 characters"}):vl.createElement(Gl.FormattedMessage,{id:"folder.move_failure",defaultMessage:"Failed moving folder {originalFolderName}",values:{originalFolderName:vl.createElement("strong",null,t)}})},type:S.j_x.WARNING},[$c.CREATE_FOLDER_SUCCEEDED]:({alertFromModalDialog:e=!1})=>({message:qd,type:S.j_x.NORMAL,alertFromModalDialog:e}),[$c.CONTACTS_GROUP_DELETE_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.list_delete_in_progress",defaultMessage:"Deleting Contacts List"}),type:S.j_x.PENDING},[$c.CONTACTS_GROUP_DELETE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.list_delete_succeeded",defaultMessage:"Contacts List Deleted"}),type:S.j_x.NORMAL},[$c.CONTACTS_GROUP_DELETE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.list_delete_failed",defaultMessage:"Unable to delete Contacts List"}),type:S.j_x.WARNING},[$c.DELETE_CONTACT_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_delete_in_progress",defaultMessage:"Deleting contact"}),type:S.j_x.PENDING},[$c.DELETE_CONTACT_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_delete_failed",defaultMessage:"Unable to delete contact"}),type:S.j_x.WARNING},[$c.DELETE_CONTACT_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_delete_succeeded",defaultMessage:"Contact deleted"}),type:S.j_x.NORMAL},[$c.CONTACT_SAVE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_save_success",defaultMessage:"Contact updated"}),type:S.j_x.NORMAL},[$c.CONTACT_SAVE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_save_failure",defaultMessage:"Unable to save"}),type:S.j_x.WARNING},[$c.CONTACT_SAVE_REQUESTED]:{message:({oldContact:e={}})=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_save_in_progress",defaultMessage:" {option, select, true {Saving contact} false {Creating contact} }",values:{option:!!e.id}}),type:S.j_x.PENDING},[$c.CREATE_CONTACT_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_create_success",defaultMessage:"Contact created"}),type:S.j_x.NORMAL},[$c.CREATE_CONTACT_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_create_failure",defaultMessage:"Unable to create contact"}),type:S.j_x.WARNING},[$c.CONTACT_PHOTO_UPLOAD_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_upload_photo_success",defaultMessage:"Contact photo uploaded"}),type:S.j_x.NORMAL},[$c.CONTACT_PHOTO_UPLOAD_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.contact_upload_photo_failure",defaultMessage:"Unable to upload photo"}),type:S.j_x.WARNING},[$c.CREATE_FOLDER_FAILED]:({alertFromModalDialog:e=!1})=>({message:Xd,type:S.j_x.WARNING,alertFromModalDialog:e}),[$c.DELETE_FOLDER_SUCCEEDED]:{message:function({folderName:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.delete_success",defaultMessage:"{folderName} folder deleted",values:{folderName:vl.createElement("strong",null,e)}})},type:S.j_x.NORMAL},[$c.DELETE_FOLDER_FAILED]:{message:function({folderName:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.delete_failure",defaultMessage:"Failed deleting {folderName} folder",values:{folderName:vl.createElement("strong",null,e)}})},type:S.j_x.WARNING},[$c.DELETE_NON_EMPTY_FOLDER_REQUESTED]:{message:function({folderId:e}){return vl.createElement(Gl.FormattedMessage,{id:"folder.delete_nonempty",defaultMessage:"Only empty folders can be deleted. Please delete all contents of the {folderName} folder first.",values:{folderName:vl.createElement("strong",null,vl.createElement(vd.Z,{folderId:e}))}})},type:S.j_x.WARNING},[$c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED]:{message:Ad,type:S.j_x.WARNING,requireInteraction:!0},[$c.COMPOSE_NO_ADDRESS_DETECTED]:{message:wd.$6,type:S.j_x.WARNING},[$c.SHOW_INVALID_REPLY_TO_ADDRESS_ALERT]:{message:wd.rW,type:S.j_x.WARNING},[$c.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:{message:wd.s7,type:S.j_x.WARNING},[$c.COMPOSE_ADDRESSING_FAILED]:{message:wd.$i,type:S.j_x.WARNING},[$c.SEND]:{message:wd.vw,type:S.j_x.NORMAL,requireInteraction:!0},[$c.V3_MESSAGE_SEND_REQUESTED]:{message:wd.vw,type:S.j_x.PENDING,sticky:!0,requireInteraction:!0},[$c.SEND_FAILURE]:{message:md,type:S.j_x.WARNING},[$c.V3_MESSAGE_SEND_FAILED]:{message:md,type:S.j_x.WARNING},[$c.MESSAGE_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Cd,type:S.j_x.WARNING}:{message:wd.GX,type:S.j_x.WARNING,priority:S.l9v.MEDIUM},[$c.V3_MESSAGE_SAVE_FAILED]:({error:e,showNotification:t=!0})=>e&&"ES-2001"===e.errorCode?{message:Cd,type:S.j_x.WARNING}:t?{message:wd.GX,type:S.j_x.WARNING,priority:S.l9v.MEDIUM}:null,[$c.MESSAGE_AUTO_SAVE_FAILED]:({error:e})=>e&&"ES-2001"===e.errorCode?{message:Cd,type:S.j_x.WARNING}:null,[$c.SPONSORED_SAVE_TO_INBOX_SUCCEEDED]:{message:wd.FP,type:S.j_x.NORMAL},[$c.SPONSORED_SAVE_TO_INBOX_FAILED]:{message:wd.jG,type:S.j_x.WARNING},[$c.DELETE_DRAFT_SUCCEEDED]:{message:wd.SP,type:S.j_x.NORMAL},[$c.DELETE_DRAFT_FAILED]:{message:wd.Gs,type:S.j_x.WARNING},[$c.UNDO_MOVE_SUCCEEDED]:{message:I_,type:S.j_x.NORMAL},[$c.UNDO_MOVE_FAILED]:{message:h_,type:S.j_x.WARNING},[$c.GEMINI_SPONSORED_ASSET_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.geminiSponsoredAssetFailed",defaultMessage:"Ad asset load failed"}),type:S.j_x.WARNING},[$c.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED]:{message:U_,type:S.j_x.NORMAL},[$c.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED]:({enabled:e})=>e?null:{message:U_,type:S.j_x.NORMAL},[$c.CONFIRM_EMAIL_RESEND_SUCCEEDED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_resend_confirm_succeed",defaultMessage:"Confirmation email sent."})},type:S.j_x.NORMAL},[$c.CONFIRM_EMAIL_RESEND_FAILED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_resend_confirm_failed",defaultMessage:"Confirmation email sent failed."})},type:S.j_x.WARNING},[$c.ACCOUNT_REAUTH_SUCCEEDED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.settings_account_reauth_succeed",defaultMessage:"Mailbox reauthorized. Sync will begin soon."})},type:S.j_x.NORMAL},[$c.ACCOUNT_REAUTH_FAILED]:{message:Y_,type:S.j_x.WARNING},[$c.SETTINGS_CHANGE_SUCCEEDED]:(e,t)=>{switch(e.name){case S.Zrf.DESKTOP_NOTIFICATION:return e.isFeatureCue?{message:X_,type:S.j_x.NORMAL}:null;case S.Zrf.DISABLED_MESSAGE_READ_CARDS:{const{isFeatureEnabled:e,getRoute:s}=(0,Oc.selectors)(t),a=e(S.ANe.HIDE_DEALS_ENABLED),n=s().name===S.n8z.SETTINGS?WE:KE;return{message:a?n:ZE,type:S.j_x.NORMAL}}case S.Zrf.NUDGE_TO_REPLY_SETTING:{const{isFeatureEnabled:e}=(0,Oc.selectors)(t);return{message:e(S.Zrf.NUDGE_TO_REPLY_SETTING)?j_:q_,type:S.j_x.NORMAL}}case S.Zrf.MESSAGE_FILTERS:return{message:w_,type:S.j_x.NORMAL};case S.Zrf.DELIVERY_BLOCKED_SENDERS:return e.delta<0?{message:x_,type:S.j_x.NORMAL}:{message:B_,type:S.j_x.NORMAL};case S.Zrf.COMPOSE_FORMAT:return{message:wd.u3,type:S.j_x.NORMAL};case S.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS:switch(e.sourceAction){case $c.PINNED_EMAIL_PIN_REQUESTED:return{message:Su,type:S.j_x.NORMAL};case $c.PINNED_EMAIL_UNPIN_REQUESTED:return{message:Cu,type:S.j_x.NORMAL}}}return null},[$c.PINNED_EMAIL_LIMIT_REACHED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.pin_email_limit_reached.fail",defaultMessage:"You've already pinned the maximum of {PINNED_EMAIL_MAXIMUM} messages. Unpin one and try again.",values:{PINNED_EMAIL_MAXIMUM:S.nQQ}})},type:S.j_x.WARNING},[$c.SETTINGS_CHANGE_FAILED]:({name:e,delta:t,sourceAction:s})=>{switch(e){case S.Zrf.MESSAGE_FILTERS:return{message:G_,type:S.j_x.WARNING};case S.Zrf.DELIVERY_BLOCKED_SENDERS:return t<0?{message:Z_,type:S.j_x.WARNING}:{message:V_,type:S.j_x.WARNING};case S.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS:switch(s){case $c.PINNED_EMAIL_PIN_REQUESTED:return{message:pu,type:S.j_x.WARNING};case $c.PINNED_EMAIL_UNPIN_REQUESTED:return{message:Au,type:S.j_x.WARNING}}}return{message:W_,type:S.j_x.WARNING}},[$c.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED]:{message:function({baseName:e}){return vl.createElement(Gl.FormattedMessage,{id:"dea_basename_unavailable_text",defaultMessage:"{baseName} is not available. Please use another nickname.",values:{baseName:e}})},type:S.j_x.WARNING},[$c.EXCEPTION_OCCURRED]:{message:_E,type:S.j_x.WARNING,modal:!0},[$c.DOWNLOAD_FAILED]:{message:function(e){const{fileCount:t=1,filename:s,error:a={}}=e,{code:n="",validationErrors:r=[]}=a;return"EC-4001"===n&&r.join("").indexOf("virus")>-1?vl.createElement(Gl.FormattedMessage,{id:"notification.download_virus_error",defaultMessage:"Virus scan failed. Unable to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}}):vl.createElement(Gl.FormattedMessage,{id:"notification.download_error",defaultMessage:"Failed to download {fileCount, plural, one {{filename}} other {{fileCount} files} }.",values:{fileCount:t,filename:s}})},type:S.j_x.WARNING},[$c.V3_MESSAGE_SAVE_SUCCEEDED]:e=>null!=e&&e.isDialogAction?{message:wd.fG,type:S.j_x.NORMAL}:null,[$c.LAUNCH_COMPLETED]:(e,t)=>{const{getLaunchError:s}=(0,Oc.selectors)(t);switch(s()){case S.Rtf.FOLDER_ACCESS_FAILED:return{message:a_,type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION};case S.Rtf.MESSAGE_ACCESS_FAILED:return{message:g_,type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION};case S.Rtf.COMPOSE_ACCESS_FAILED:return{message:wd.hp,type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION};case S.Rtf.SETTINGS_FAILED_TO_LOAD:return{message:H_,type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION}}return null},[$c.POST_LAUNCH_SYNC_SUCCEEDED]:(e,t)=>{const{getRoute:s,getMailboxesSelectors:a,doesFolderIdExist:n,getAccountIdByFolderId:r}=(0,Oc.selectors)(t),o=s(),i=(0,Rc.LY)(o),l=(0,Rc.Fh)(i);if(l&&n(l)){const e=a(),t=r(l);if(e.isAccountExpired(t))return{message:__,type:S.j_x.WARNING}}return null},[$c.MAILBOX_NOT_SYNCING]:{message:d_,type:S.j_x.WARNING},[$c.TIMEZONE_CHANGE_DETECTED]:{message:id,type:S.j_x.ADVISORY,icon:xl.Kinds.CLOCK,sticky:!1,requireInteraction:!0},[$c.SEND_SUCCESS]:{message:pd,type:S.j_x.NORMAL},[$c.V3_MESSAGE_SEND_SUCCEEDED]:{message:pd,type:S.j_x.NORMAL},[$c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED]:{message:pd,type:S.j_x.NORMAL},[$c.ONLINE_STATUS_CHANGED]:({online:e})=>e?null:{message:r_,type:S.j_x.WARNING,requireInteraction:!0,icon:xl.Kinds.NO_INTERNET,sticky:!0,priority:S.l9v.HIGH},[$c.FEATURE_CLOSED]:({name:e,i13nModel:t={}})=>e===S.ANe.THEMES_CUE_V3?{message:jd,type:S.j_x.NORMAL}:e!==S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE||(null==t?void 0:t.mKey)!==`cue_${S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE}_submit`&&(null==t?void 0:t.mKey)!==`cue_${S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE}_like`?null:{message:tu,type:S.j_x.NORMAL},[$c.READ_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:kd,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[$c.STAR_CHANGE_REQUESTED]:({isAsync:e})=>e?{message:kd,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[$c.DELETE_ITEMS_REQUESTED]:({isAsync:e})=>e?{message:kd,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[$c.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:({isAsync:e})=>e?{message:kd,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0}:null,[$c.BULK_PROGRESS_INITIATED]:{message:kd,type:S.j_x.ADVISORY,requireInteraction:!0,sticky:!0,modal:!0},[$c.BULK_CANCEL_FAILED]:{message:kd,type:S.j_x.ADVISORY,requireInteraction:!1,sticky:!1,modal:!0},[$c.SETTINGS_SAVE_FILTERS_SUCCEEDED]:{message:w_,type:S.j_x.NORMAL},[$c.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED]:({actionType:e})=>{switch(e){case ld.aI.SAVE:return{message:K_,type:S.j_x.NORMAL};case ld.aI.DELETE:return{message:z_,type:S.j_x.NORMAL};case ld.aI.SWITCH_ON:case ld.aI.SWITCH_OFF:default:return null}},[$c.ATTACHMENT_PREVIEW_FAILED]:{message:function({downloadUrl:e}){const t={color:Fe.nGq};return vl.createElement(Gl.FormattedMessage,{id:"attachment_tray.unsupported_files",defaultMessage:"Please {download} to view this file",values:{download:vl.createElement("a",{style:t,href:e,rel:"noopener"},vl.createElement(Gl.FormattedMessage,{id:"attachment_tray.unsupported_file_download_link",defaultMessage:"download"}))}})},type:S.j_x.WARNING},[$c.DELETE_ITEMS_SUCCEEDED]:{message:SE,type:S.j_x.NORMAL},[$c.COUPONS_ADD_TAG_DECO_SUCCEEDED]:(e,t)=>{const{getRoute:s,isStorefrontRoute:a}=(0,Oc.selectors)(t),n=s(),r=(0,Rc.LY)(n);if((0,Rc.WN)(r)!==S.F6k.COUPON_CARDS&&!a())return{message:iE,type:S.j_x.NORMAL}},[$c.PHISHING_REMOVE_BDM_DECO_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.phishingRemoveDeco_success",defaultMessage:"{conversations, select, true {Conversation} false {Message} } was successfully marked as safe",values:{conversations:!1}}),type:S.j_x.NORMAL},[$c.PHISHING_REMOVE_BDM_DECO_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.phishingRemoveDeco_failure",defaultMessage:"{conversations, select, true {Conversation} false {Message} } could not be marked as safe",values:{conversations:!1}}),type:S.j_x.WARNING},[$c.DELETE_ITEMS_FAILED]:{message:T_,type:S.j_x.WARNING},[$c.UPDATE_ITEMS_SUCCEEDED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1}=e,n=t.length>0?t[t.length-1]:{},{updateTypes:r=[]}=n,o=r.length>0?r[r.length-1]:"";switch(s){case S.Ewo.ARCHIVE_FOLDER_ITEMS:return{message:$d,type:S.j_x.NORMAL};case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:return{message:L_,type:S.j_x.NORMAL};case S.Ewo.DELETE_FOLDER_ITEMS:case S.Ewo.DELETE_ALL_ITEMS:return{message:t_,type:S.j_x.NORMAL};case S.Ewo.READ_CHANGE_FOLDER_ITEMS:case S.Ewo.READ_CHANGE_ALL_ITEMS:return{message:Qd,type:S.j_x.NORMAL};case S.Ewo.STAR_CHANGE_ALL_ITEMS:return{message:M_,type:S.j_x.NORMAL};case S.Ewo.ARCHIVE_SELECTED_ITEMS:return{message:pE,type:S.j_x.NORMAL};case S.Ewo.RESTORE_SELECTED_ITEMS:return{message:C_,type:S.j_x.NORMAL};case S.Ewo.SPAM_SELECTED_ITEMS:return{message:E_,type:S.j_x.NORMAL};case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return{message:m_,type:S.j_x.NORMAL};case S.Ewo.MOVE_SELECTED_ITEMS:return{message:nu,type:S.j_x.NORMAL};case S.Ewo.READ_CHANGE_SELECTED_ITEMS:return{message:ou,type:S.j_x.NORMAL};case S.Ewo.DELETE_SELECTED_ITEMS:return{message:SE,type:S.j_x.NORMAL};case S.Ewo.DELETE_ALL_FROM_SENDERS:return{message:O_,type:S.j_x.NORMAL};case S.Ewo.UNDO_MOVE:return{message:I_,type:S.j_x.NORMAL};case S.Ewo.DELETE_DRAFT:return{message:wd.SP,type:S.j_x.NORMAL}}switch(o){case S.oc$.READ:case S.oc$.STAR:case S.oc$.SPAM:case S.oc$.HAM:case S.oc$.ANSWER:case S.oc$.FORWARD:case S.oc$.DECO:return a?{message:R_,type:S.j_x.NORMAL}:null}},[$c.UPDATE_ITEMS_FAILED]:e=>{const{messageItemsToSync:t=[],triageActionType:s,isAsync:a=!1,deletedMessages:n=[]}=e,r=t.length>0?t[t.length-1]:{},{updateTypes:o=[]}=r,i=o.length>0?o[o.length-1]:"";if(n.length===t.length)return{message:g_,type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION};switch(s){case S.Ewo.ARCHIVE_FOLDER_ITEMS:return{message:e_,type:S.j_x.WARNING};case S.Ewo.ARCHIVE_ALL_ITEMS:case S.Ewo.RESTORE_ALL_ITEMS:case S.Ewo.SPAM_ALL_ITEMS:case S.Ewo.NOT_SPAM_ALL_ITEMS:case S.Ewo.MOVE_ALL_ITEMS:return{message:f_,type:S.j_x.WARNING};case S.Ewo.DELETE_FOLDER_ITEMS:case S.Ewo.DELETE_ALL_ITEMS:return{message:s_,type:S.j_x.WARNING};case S.Ewo.READ_CHANGE_FOLDER_ITEMS:case S.Ewo.READ_CHANGE_ALL_ITEMS:return{message:Jd,type:S.j_x.WARNING};case S.Ewo.STAR_CHANGE_ALL_ITEMS:return{message:P_,type:S.j_x.WARNING};case S.Ewo.ARCHIVE_SELECTED_ITEMS:return{message:p_,type:S.j_x.WARNING};case S.Ewo.RESTORE_SELECTED_ITEMS:return{message:A_,type:S.j_x.WARNING};case S.Ewo.SPAM_SELECTED_ITEMS:return{message:u_,type:S.j_x.WARNING};case S.Ewo.NOT_SPAM_SELECTED_ITEMS:return{message:S_,type:S.j_x.WARNING};case S.Ewo.READ_CHANGE_SELECTED_ITEMS:return{message:iu,type:S.j_x.WARNING};case S.Ewo.MOVE_SELECTED_ITEMS:return{message:ru,type:S.j_x.WARNING};case S.Ewo.DELETE_SELECTED_ITEMS:return{message:T_,type:S.j_x.WARNING};case S.Ewo.DELETE_ALL_FROM_SENDERS:return{message:D_,type:S.j_x.WARNING};case S.Ewo.UNDO_MOVE:return{message:h_,type:S.j_x.WARNING};case S.Ewo.DELETE_DRAFT:return{message:wd.Gs,type:S.j_x.WARNING}}switch(i){case S.oc$.READ:case S.oc$.STAR:case S.oc$.SPAM:case S.oc$.HAM:case S.oc$.ANSWER:case S.oc$.FORWARD:case S.oc$.DECO:return a?{message:N_,type:S.j_x.WARNING}:null}},[$c.ACCOUNT_DETAILS_CHANGE_FAILED]:{message:Y_,type:S.j_x.WARNING},[$c.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.unsub_request_succeeded",defaultMessage:"Unsubscribe request sent."})},type:S.j_x.NORMAL},[$c.UNSUBSCRIBE_BY_EMAIL_FAILED]:{message:function(){return vl.createElement(Gl.FormattedMessage,{id:"notification.unsub_request_failed",defaultMessage:"Unsubscribe failed. Try Again."})},type:S.j_x.WARNING},[$c.BREAKING_NEWS_DISMISSED]:{message:TE,type:S.j_x.NORMAL},[$c.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS]:(e,t)=>{const{POST_SIGNUP_THANKYOU_TOAST:s,FREE_TRIAL_ENDING_NOTICATION_1:a,MAILPRO_SIGNUP_THNAKYOU_TOAST:n}=S.$AH,{getMailPremiumFreeTrialSelectors:r,isFeatureEnabled:o}=(0,Oc.selectors)(t),i=r().getUpsellId();if(o(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS))switch(i){case s:case n:return{message:BE,type:S.j_x.NORMAL,priority:S.l9v.MEDIUM};case a:return{message:BE,type:S.j_x.ADVISORY,icon:xl.Kinds.INFO,priority:S.l9v.MEDIUM};default:return null}return null},[$c.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED]:{message:function({provider:e}){let t=e;const s=(0,h.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_notifications.auth_url_fetch_failed",defaultMessage:"Unable to redirect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[$c.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=(0,h.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_notifications.auth_failed",defaultMessage:"Unable to connect to {provider}",values:{provider:t}})},type:S.j_x.WARNING},[$c.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=(0,h.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_notifications.auth_successful",defaultMessage:"Successfully connected to {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[$c.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED]:{message:function({provider:e}){let t=e;const s=(0,h.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_failed",defaultMessage:"Unable to disconnect from {provider}",values:{provider:t}})},type:S.j_x.WARNING},[$c.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED]:{message:function({provider:e}){let t=e;const s=(0,h.u9)(S.P$E,`${e}.displayName`);return s&&(t=s),vl.createElement(Gl.FormattedMessage,{id:"cloud_storage_account_notifications.disconnect_successful",defaultMessage:"Successfully disconnected from {provider}",values:{provider:t}})},type:S.j_x.NORMAL},[$c.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED]:e=>{const{error:t,provider:s}=e,a=null==t?void 0:t.statusCode;return{message:s===S.hKF.DROPBOX&&409===a?hE:IE,type:S.j_x.WARNING}},[$c.SCROLL_TO_SEARCH_PAGE_SCROLLED]:(e,t)=>{const{pageMarkerScrollPosition:s}=(0,Oc.selectors)(t);return s()===XE.Ij.FIRST_PAGE_MARKER?{message:qE.p,type:S.j_x.NORMAL,icon:xl.Kinds.SEARCH,bottomAlert:!0,requireInteraction:!0}:null},[ed.Z.CREATE_SINGLE_NEW_EVENT_SUCCEEDED]:{message:gE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.CREATE_RECURR_NEW_EVENTS_SUCCEEDED]:{message:gE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.EDIT_RECURR_EVENTS_SUCCEEDED]:{message:NE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.EDIT_SINGLE_EVENT_SUCCEEDED]:{message:NE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.DELETE_SINGLE_EVENT_SUCCEEDED]:{message:DE,type:S.j_x.WARNING,icon:xl.Kinds.FOLDER},[ed.Z.DELETE_RECURR_EVENTS_SUCCEDDED]:{message:DE,type:S.j_x.WARNING,icon:xl.Kinds.FOLDER},[ed.Z.RSVP_REPLY_SINGLE_EVENT_SUCCEEDED]:{message:fE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.RSVP_REPLY_RECURR_EVENT_SUCCEEDED]:{message:fE,type:S.j_x.NORMAL,icon:xl.Kinds.FOLDER},[ed.Z.CREATE_SINGLE_NEW_EVENT_FAILED]:{message:OE,type:S.j_x.WARNING},[ed.Z.CREATE_RECURR_NEW_EVENTS_FAILED]:{message:OE,type:S.j_x.WARNING},[ed.Z.EDIT_SINGLE_EVENT_FAILED]:{message:LE,type:S.j_x.WARNING},[ed.Z.EDIT_RECURR_EVENTS_FAILED]:{message:LE,type:S.j_x.WARNING},[ed.Z.RSVP_REPLY_RECURR_EVENT_FAILED]:{message:ME,type:S.j_x.WARNING},[ed.Z.RSVP_REPLY_SINGLE_EVENT_FAILED]:{message:ME,type:S.j_x.WARNING},[ed.Z.DELETE_SINGLE_EVENT_FAILED]:{message:RE,type:S.j_x.WARNING},[ed.Z.DELETE_RECURR_EVENTS_FAILED]:{message:RE,type:S.j_x.WARNING},[$c.STOREFRONT_BRAND_FOLLOW_SUCCEEDED]:{message:jE,type:S.j_x.NORMAL},[$c.PROMO_CODE_COPY_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"promo_code.copy_success",defaultMessage:"Coupon copied to your clipboard. You will be redirected to a new tab in 2s..."}),type:S.j_x.NORMAL,icon:xl.Kinds.SCISSORS},[$c.PROMO_CODE_COPY_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"promo_code.copy_failed",defaultMessage:"Coupon not copied. Your browser does not support this action. Opening a new tab in 2s..."}),type:S.j_x.WARNING,icon:xl.Kinds.SCISSORS},[$c.TOP_OF_INBOX_CARD_REMOVE]:{message:su,type:S.j_x.NORMAL,icon:xl.Kinds.CHECKMARK},[$c.TOP_OF_INBOX_CARD_REMOVE_ALL]:{message:su,type:S.j_x.NORMAL,icon:xl.Kinds.CHECKMARK},[$c.TOP_OF_INBOX_CARD_REMOVE_UNDO]:{message:I_,type:S.j_x.NORMAL},[$c.TOP_OF_INBOX_CARD_REMOVE_ALL_UNDO]:{message:I_,type:S.j_x.NORMAL},[$c.CREATE_TODO_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.create_success",defaultMessage:"To-do created"}),type:S.j_x.NORMAL},[$c.CREATE_TODO_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.create_failed",defaultMessage:"To-do not created"}),type:S.j_x.WARNING},[$c.UPDATE_TODO_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.update_success",defaultMessage:"To-do updated"}),type:S.j_x.NORMAL},[$c.UPDATE_TODO_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.update_failed",defaultMessage:"To-do not updated"}),type:S.j_x.WARNING},[$c.DELETE_TODO_DEFERRED_REQUESTED]:{message:du,type:S.j_x.PENDING},[$c.DELETE_TODO_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.delete_success",defaultMessage:"To-do deleted"}),type:S.j_x.NORMAL},[$c.DELETE_TODO_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"todo.delete_failed",defaultMessage:"To-do not deleted"}),type:S.j_x.WARNING},[$c.AD_REPORTER_CLICKED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.ad_reporter",defaultMessage:"Ad info reported"}),type:S.j_x.NORMAL},[$c.MESSAGE_GROUP_WITH_BODIES_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.message_may_have_been_deleted_access_failure",defaultMessage:"The message you're trying to access could not be retrieved. It may have been deleted."}),type:S.j_x.ADVISORY,icon:xl.Kinds.ATTENTION},[$c.WALLET_FEEDBACK_YES]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.wallet_feedback_yes",defaultMessage:"Thanks for letting us know"}),type:S.j_x.NORMAL},[$c.WALLET_FEEDBACK_ALREADY_ADDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.wallet_feedback_already_added",defaultMessage:"Thanks for helping us improve this experience."}),type:S.j_x.NORMAL},[$c.CREATE_NOTE_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.create_requested",defaultMessage:"Creating note"}),type:S.j_x.PENDING},[$c.CREATE_NOTE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.create_success",defaultMessage:"Note created"}),type:S.j_x.NORMAL},[$c.CREATE_NOTE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.create_failed",defaultMessage:"Note not created"}),type:S.j_x.WARNING},[$c.UPDATE_NOTE_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.update_requested",defaultMessage:"Updating note"}),type:S.j_x.PENDING},[$c.UPDATE_NOTE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.update_success",defaultMessage:"Note updated"}),type:S.j_x.NORMAL},[$c.UPDATE_NOTE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.update_failed",defaultMessage:"Note not updated"}),type:S.j_x.WARNING},[$c.DELETE_NOTE_DEFERRED_REQUESTED]:{message:uu,type:S.j_x.PENDING},[$c.DELETE_NOTE_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.delete_success",defaultMessage:"Note deleted"}),type:S.j_x.NORMAL},[$c.DELETE_NOTE_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note.delete_failed",defaultMessage:"Note not deleted"}),type:S.j_x.WARNING},[$c.CREATE_JOURNAL_FOLDER_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.create_requested",defaultMessage:"Creating folder"}),type:S.j_x.PENDING},[$c.CREATE_JOURNAL_FOLDER_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.create_success",defaultMessage:"Folder created"}),type:S.j_x.NORMAL},[$c.CREATE_JOURNAL_FOLDER_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.create_failed",defaultMessage:"Folder not created"}),type:S.j_x.WARNING},[$c.UPDATE_JOURNAL_FOLDER_REQUESTED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.update_requested",defaultMessage:"Updating folder"}),type:S.j_x.PENDING},[$c.UPDATE_JOURNAL_FOLDER_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.update_success",defaultMessage:"Folder updated"}),type:S.j_x.NORMAL},[$c.UPDATE_JOURNAL_FOLDER_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.update_failed",defaultMessage:"Folder not updated"}),type:S.j_x.WARNING},[$c.DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED]:{message:mu,type:S.j_x.PENDING},[$c.DELETE_JOURNAL_FOLDER_SUCCEEDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.delete_success",defaultMessage:"Folder deleted"}),type:S.j_x.NORMAL},[$c.DELETE_JOURNAL_FOLDER_FAILED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"note_folder.delete_failed",defaultMessage:"Folder not deleted"}),type:S.j_x.WARNING},[$c.YAI_SEARCH_ANSWER_FEEDBACK_ADDED]:{message:()=>vl.createElement(Gl.FormattedMessage,{id:"notification.yai_search_answer_feedback_added",defaultMessage:"Thanks for letting us know."}),type:S.j_x.NORMAL}};var Iu=s(95464),hu=s(34656);function gu(){return(gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ou=(0,Fl.connect)((e=>{const{isEnabled:t}=(0,Oc.selectors)(e).getFeaturesSelectors();return{multiTask:t(S.Zrf.MAIL_TABS),conversations:t(S.ANe.CONVERSATIONS),ybarFuji2:t(S.ANe.YBAR_FUJI2_THEME)}}),(e=>({rejectTimezone:()=>e({type:$c.PREFERRED_TIMEZONE_CHANGE_REJECTED})})))((0,hu.z)((({toast:e,role:t,onClose:s,onPause:a,onResume:n,multiTask:r,conversations:o,ybarFuji2:i,rejectTimezone:l})=>{const c=(0,vl.useRef)(),d=(0,vl.useRef)(),_=(0,vl.useRef)(),[E,u]=(0,vl.useState)(),m=(0,vl.useCallback)((()=>{e.message===id&&l(),s()}),[l,s,null==e?void 0:e.message]);(0,vl.useEffect)((()=>{const e=document.getElementById("app"),t=t=>{const s=S._tT[t],a=S.av1[t],n=document.createElement("div");return n.setAttribute("role",s),n.setAttribute("aria-live",a),e.appendChild(n),n};c.current=t("ALERT_DIALOG"),d.current=t("STATUS"),_.current=t("ALERT"),u(!0)}),[]);const{message:p,data:C,type:A=S.j_x.WARNING,sticky:T=!1,modal:I=!1,icon:h,bottomAlert:g=!1,alertFromModalDialog:O=!1}=e||{},D=(0,Hc.Z)(uE(),{bottomAlert:g,alertFromModalDialog:O,multiTask:r&&!g,ybarFuji2:i&&!g,ybarFuji2MultiTask:r&&i&&!g});if(!E||!_.current||!e)return null;let R,N=vl.createElement("div",{className:D.alert,onMouseOver:a,onMouseLeave:n,"data-test-id":"notifications"},vl.createElement(Iu.Z,{icon:h,sticky:T,type:A,onClose:m},vl.createElement(p,gu({conversations:o},C,{onClose:m,onPause:a}))));switch(I&&(N=vl.createElement("div",{className:D.modal,"data-test-id":"modal",role:"presentation"},N)),t){case S._tT.ALERT_DIALOG:R=c.current;break;case S._tT.STATUS:R=d.current;break;case S._tT.ALERT:R=_.current}return(0,wl.createPortal)(N,R)})));var Du=s(54400);function Ru(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Nu=(0,Gl.defineMessages)({htmlTitle:{id:"html_title",defaultMessage:"{numUnread, plural, =0 {(No new emails) - } one {(# unread) - } other {(# unread) - }}{emailAddress} - {yahooBrand}"},htmlTitleNewMessages:{id:"html_title_new_messages",defaultMessage:"{newItemCount, plural, =1 {# New Message} other {# New Messages}}"}});class Lu extends vl.Component{constructor(...e){super(...e),Ru(this,"updateTitle",(()=>{const{defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}=this.props,a=this.getStandardTitle(e,t);if(s){const e=this.getNotificationTitle(s);this.flashTitle(e,a,4)}else document.title=a})),Ru(this,"getStandardTitle",((e,t)=>{const{formatMessage:s}=this.context.intl,a=this.context.mailBrandNameString||s(Du.Z.mailBrandName);if(!(e<0))return s(Nu.htmlTitle,{numUnread:e,emailAddress:t,yahooBrand:a})})),Ru(this,"getNotificationTitle",(e=>{const{formatMessage:t}=this.context.intl;return t(Nu.htmlTitleNewMessages,{newItemCount:e})})),Ru(this,"flashTitle",((e,t,s)=>{if(0===s)return;const{documentTitleNotificationDuration:a,documentTitleStandardDuration:n}=this.props,r=s%2==0;document.title=r?e:t,this.flashTitleTimeout=setTimeout((()=>{this.flashTitle(e,t,s-1)}),r?a:n)}))}componentDidMount(){this.updateTitle()}componentWillUnmount(){clearTimeout(this.flashTitleTimeout)}componentDidUpdate(){clearTimeout(this.flashTitleTimeout),this.updateTitle()}render(){return null}}Ru(Lu,"contextTypes",{config:yl().object,intl:Gl.intlShape,mailBrandNameString:yl().string});const fu=(0,Fl.connect)((e=>{const{getFeaturesSelectors:t}=(0,Oc.selectors)(e),s=t();return{documentTitleNotificationDuration:s.getSetting("documentTitleNotificationDuration"),documentTitleStandardDuration:s.getSetting("documentTitleStandardDuration")}}))(Lu);class Mu extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"updateFavicon",(()=>{const{newItemCount:e}=this.props;try{this.faviconElem.href=0===e?this.faviconDefaultImageUri:this.faviconAlertImageUri,document.head.removeChild(this.faviconElem),document.head.appendChild(this.faviconElem)}catch(t){}}))}componentDidMount(){this.faviconElem=document.getElementById("favicon"),this.faviconDefaultImageUri=this.faviconElem.href,this.faviconAlertImageUri=document.getElementById("favicon_alert")&&document.getElementById("favicon_alert").href}shouldComponentUpdate(e){return!(0===e.newItemCount&&this.faviconElem.href===this.faviconDefaultImageUri||e.newItemCount>0&&this.faviconElem.href===this.faviconAlertImageUri)}componentDidUpdate(){this.updateFavicon()}render(){return null}}const Pu=Mu;class bu extends vl.Component{shouldComponentUpdate({defaultFolderUnreadCount:e,activeEmailAddress:t,newItemCount:s}){const{defaultFolderUnreadCount:a,activeEmailAddress:n,newItemCount:r}=this.props;return e!==a||t!==n||s!==r}render(){return vl.createElement("div",null,vl.createElement(fu,this.props),vl.createElement(Pu,this.props))}}const yu=(0,Fl.connect)((e=>{const{isAppVisible:t,getActionTimeStamp:s,getCurrentListId:a,getFoldersSelectors:n,getDefaultFolderIdForSelectedAccount:r,getEmailOfSelectedAccount:o,getApplicationLastVisibleTimeStamp:i,getMessageListItemsSinceTimestamp:l,doesListExist:c}=(0,Oc.selectors)(e),{getFolderUnreadCount:d}=n(),_=d(r()),E=o(),u=a(),m=t()?s():i();return{defaultFolderUnreadCount:_,activeEmailAddress:E,newItemCount:(c(u)?l(u,m):[]).length}}))(bu);function vu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Fu=s(13488),Uu=s(51572),ku=s.n(Uu),wu=s(90521),Gu=s(50985);function Hu(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Bu="windowIds";var xu=s(8881),Vu=s(89963),Zu=s(60919),Wu=s.n(Zu);function Ku(){return(Ku=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const zu=ic()(Wu());class Yu extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"focus",(()=>{this.refs.input.focus()}))}render(){const e=this.props;return vl.createElement("div",{className:zu.searchContainer},vl.createElement("input",Ku({},e,{ref:"input",className:zu.input,type:"text"})),vl.createElement("span",{className:zu.magnifying},vl.createElement(Bl.Z,{kind:xl.Kinds.SEARCH,size:xl.Sizes.XXS})))}}const ju=Yu;var qu=s(3115),Xu=s(70808),Qu=s.n(Xu),Ju=s(97845),$u=s.n(Ju);const em=ic()($u()),tm={"SHIFT+/":"?"},sm={META:"â Command",SHIFT:"â§ Shift",BACKSPACE:"â« Backspace",SPACE:"âµ Space",DEL:"â¦ Del",ENTER:"â Enter",UP:"â Up",DOWN:"â Down",LEFT:"â Left",RIGHT:"â Right",PERIOD:".",COMMA:","},am=(0,Gl.defineMessages)({or:{id:"shortcut.or",defaultMessage:"or"}});function nm({shortcutString:e},t){const{formatMessage:s}=t.intl,a={},n=t.os;return e.split(xu.ng).forEach((e=>{const t=e.trim();if(tm[t])return void(a[tm[t]]=[]);if(n===S.Msg.MAC&&-1!==t.toLowerCase().indexOf("ctrl")||n!==S.Msg.MAC&&-1!==t.toLowerCase().indexOf("meta"))return;const s=t.split(xu.$S),r=(1===s.length?s:s.slice(0,-1)).map((e=>sm[e]||e.toLowerCase())).join(` ${xu.$S} `);a[r]||(a[r]=[]),s.length>1&&s.slice(-1).forEach((e=>{a[r].push(sm[e]||e.toLowerCase())}))})),vl.createElement("span",{className:em.keyGroups,"data-test-id":"cheat-key"},Object.keys(a).map(((e,t)=>{const n=a[e];return vl.createElement("span",{key:t,className:em.keyGroup},t>0&&vl.createElement("span",{className:em.delimit},s(am.or)),vl.createElement("span",{className:em.key},e),n.length>0&&vl.createElement("span",{className:em.delimit},xu.$S),n.length>0&&vl.createElement("span",{className:em.vertical},n.map(((e,s)=>{const a=[em.key,s>0?em.marginTop:""].join(" ");return vl.createElement("span",{key:`${t}-${s}`,className:a},e)}))))})))}nm.contextTypes={intl:Gl.intlShape,os:yl().string.isRequired};var rm=s(96464),om=s.n(rm);const im=ic()(om());function lm({shortcutKey:e,setSearchableText:t},s){const{id:a,description:n,key:r}=e,{formatMessage:o}=s.intl;let i=n;if(n.type===Gl.FormattedMessage)i=vl.cloneElement(n,null,(function(){const e=Array.prototype.slice.call(arguments).map(cm.bind(null,o)).join("");return t(e,a),vl.createElement("span",null,...arguments)}));else if(vl.isValidElement(n)){const e=cm(o,n);t(e,a)}else{const e=o(n);i=e,t(e,a)}return vl.createElement("li",{className:im.keyRow},vl.createElement("span",{className:im.description},i),vl.createElement(nm,{shortcutString:r}))}function cm(e,t){return vl.isValidElement(t)?t.type!==Gl.FormattedMessage?vl.Children.map(t.props.children,(t=>cm(e,t))).join(""):((0,m.Z)(0===Object.keys(t.props.values).length,"Cheatsheet translation extraction\n            does not support deeply nested rich text translation.\n            Please make it only two levels deep at maximum."),e(t.props)):"object"==typeof t?e(t):t}function dm(e,t,s){return 0===s.length?null:vl.createElement("li",{className:e.column,"data-test-id":"shortcut-group-column"},vl.createElement("ul",{className:e.listView},s.map((e=>vl.createElement(lm,{key:e.id,shortcutKey:e,setSearchableText:t})))))}function _m({keyGroup:{group:e,keys:t},searching:s,setSearchableText:a},n){const r=ic()(Qu(),{searching:s}),{formatMessage:o}=n.intl,i=Math.ceil(t.length/2);return vl.createElement("div",{key:e.id,className:r.sectionContainer},vl.createElement("div",{className:r.sectionHeading},o(e.description)),vl.createElement("ul",{className:r.twoColumnList},dm(r,a,t.slice(0,i)),dm(r,a,t.slice(i))))}lm.contextTypes={intl:Gl.intlShape,os:yl().string.isRequired},_m.contextTypes={intl:Gl.intlShape,os:yl().string.isRequired};class Em{constructor(e){this.key=e,this.value=null,this.descendantCount=0,this.children={}}insert(e,t){if(!arguments.length)throw new Error("Invalid number of arguments, requires key and value");this._insert(e,t)}_insert(e,t,s){var a=arguments.length;if(s===e.length)return void(null===this.value&&(this.value=t));a<3&&(s=0),this.descendantCount=this.descendantCount+1;const n=e[s];void 0===this.children[n]&&(this.children[n]=new Em(n)),this.children[n]._insert(e,t,s+1)}find(e){return!e||e&&0===e.length?[]:this._find(e)}_find(e,t){void 0===t&&(t=0);const s=this.children[e[t]];return s?t===e.length-1?s._getChildrenValues(e):s._find(e,t+1):[]}_getChildrenValues(e){var t,s=[];e||(e=""),this.value&&s.push(this.value);for(const a in this.children)this.children.hasOwnProperty(a)&&(t=this.children[a],s=s.concat(t._getChildrenValues(e+a)));return s}}var um=s(88950),mm=s.n(um);function Sm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const pm=["shift+/"],Cm=(0,Gl.defineMessages)({filterPlaceholder:{id:"shortcut.filter",defaultMessage:"Search shortcuts, e.g. open an email"}});class Am extends vl.Component{constructor(...e){super(...e),Sm(this,"state",{shown:!1,filterQuery:"",coldStart:!0}),Sm(this,"handleShortcuts",(e=>{e.preventDefault(),e.stopPropagation(),this.isHelpShortCutTriggered(e)&&this.toggleCheatsheet(e)})),Sm(this,"toggleCheatsheet",(e=>{e.preventDefault(),e.stopPropagation(),this.setState({shown:!this.state.shown,filterQuery:""},(()=>{this.state.shown&&this.refs.search.focus()}))})),Sm(this,"handleDismiss",(()=>{this.setState({shown:!1,filterQuery:""})})),Sm(this,"handleModalKeyDown",(e=>{this.isHelpShortCutTriggered(e)&&this.handleDismiss()})),Sm(this,"setDictionary",((e,t)=>{this.state.coldStart&&this.descriptionDb.insert(e.toLowerCase(),t)})),Sm(this,"handleFilterChange",(e=>{const t=e.target.value.trim();t!==this.state.filterQuery&&this.setState({filterQuery:t})}))}componentDidUpdate(e,t){const{shown:s,coldStart:a}=this.state;t.shown===s||a||this.setState({coldStart:!1})}componentDidMount(){this.descriptionDb=new Em,this.context.bindShortcut(pm,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(pm)}isHelpShortCutTriggered(e){return 191===(e.which||e.keyCode||-1)&&e.shiftKey}render(){const{formatMessage:e}=this.context.intl,{allKeys:t}=this.props,{shown:s,filterQuery:a}=this.state,n=ic()(mm());let r=[];if(a){const e=this.descriptionDb.find(a.toLowerCase());r=(0,h.VO)(t).map((({group:t,keys:s})=>({group:t,keys:s.filter((({id:t})=>e.indexOf(t)>=0))}))).filter((({keys:e})=>e.length))}else r=(0,h.VO)(t);return r=r.sort((({group:e},{group:t})=>e.priority-t.priority)),s?vl.createElement(Vu.Z,{onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown},vl.createElement("div",{className:n.container},vl.createElement("div",{className:n.header},vl.createElement(qu.Z,{onClose:this.handleDismiss})),vl.createElement("section",{className:n.cheatContent},vl.createElement("div",{className:n.filterSection},vl.createElement(ju,{ref:"search",onChange:this.handleFilterChange,placeholder:e(Cm.filterPlaceholder)})),vl.createElement("div",{className:n.keysetContainer},r.map((e=>vl.createElement(_m,{key:e.group.id,keyGroup:e,searching:!!a,setSearchableText:this.setDictionary}))))))):null}}Sm(Am,"contextTypes",{intl:Gl.intlShape,os:yl().string.isRequired,bindShortcut:yl().func,unbindShortcut:yl().func});const Tm=Am;(0,Tc.m)({group:Ic.aU,keys:Object.assign({unread:{key:"K",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.unread",defaultMessage:"Mark as {unread}",values:{unread:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.unread_strong",defaultMessage:"Unread"}))}})},read:{key:"SHIFT+K",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.read",defaultMessage:"Mark as {read}",values:{read:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.read_strong",defaultMessage:"Read"}))}})},starred:{key:"L",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.starred",defaultMessage:"Star"}))},unstarred:{key:"SHIFT+L",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.unstarred",defaultMessage:"Unstar"}))},delete:{key:"BACKSPACE, DEL, #",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))},archiveMessageGroup:{key:"E",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.message_group_archive",defaultMessage:"Archive"}))},restoreMessageGroup:{key:"SHIFT+E",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.message_group_restore",defaultMessage:"Restore to inbox"}))},openMoveMenu:{key:"D",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},openFilterEnabledMoveMenu:{key:"SHIFT+D",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_move_menu",defaultMessage:"Open Move Menu"}))},previous:{key:"LEFT",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.previous",defaultMessage:"Go to {previous} message or conversation",values:{previous:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.previous_bold",defaultMessage:"previous"}))}})},next:{key:"RIGHT",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.next",defaultMessage:"Go to {next} message or conversation",values:{next:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.next_bold",defaultMessage:"next"}))}})},closeDropdown:{key:"ESC",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.closeDropdown",defaultMessage:"Close dropdown"}))}},xu.vL)}),(0,Tc.m)({group:Ic._o,keys:{openPreview:{key:"SHIFT+P",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.previewr_open",defaultMessage:"Open Preview"})}}});class Im extends vl.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"allShortcuts",(0,Tc.t)())}render(){return vl.createElement(Tm,{allKeys:this.allShortcuts})}}const hm=Im;var gm=s(18352),Om=s(91742);var Dm=s(82789),Rm=s.n(Dm);function Nm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Lm extends vl.Component{constructor(e){super(e),Nm(this,"onClick",(e=>{const{toggleCalendarPane:t,closePreviewOpenPane:s,closePreviewRoute:a,isCalendarPaneRendered:n,isCueEnabled:r,closeFeatureCue:o}=this.props,i=r&&!n;a?s({uiContext:{mKey:cc.JE.CALENDAR_ICON},route:a}):t(),i&&o({userAction:"close",i13nModel:{mKey:`cue_${S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE}_try_it`,sec:cc.nJ.FEATURE_CUE,interactionType:(0,Pa.getInteractionFromEvent)(e)}})})),Nm(this,"updateContent",(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()})),Nm(this,"navigateToCalendar",(e=>{const{handleHeaderNavigation:t,property:s}=this.props,{mKey:a}=s;e.stopPropagation(),t({i13nModel:{mKey:a,sec:cc.nJ.HEADER_NAV,interactionType:(0,Pa.getInteractionFromEvent)(e)}})})),Nm(this,"renderCalendarIcon",((e,t)=>{const{nowObj:s}=this.state;return vl.createElement(vl.Fragment,null,vl.createElement(Bl.Z,{kind:xl.Kinds.CALENDAR_EMPTY,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED,ref:this.iconRef}),vl.createElement("div",{className:e.calendarDateText,"data-test-id":"calendar-day-text","aria-labelledby":"calendar-day-month"},s.getDate(),vl.createElement("span",{id:"calendar-day-month",className:e.calendarDayMonth},t,",",s.toLocaleString(this.context.intl.locale,{month:"long"}),s.getDate())))})),this.iconRef=vl.createRef(),this.popoverRef=vl.createRef(),this.state={mounted:!1,nowObj:new Date}}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{verticalLayout:e,property:t,toggleCalendarPane:a,isCueEnabled:n,isCalendarPaneRendered:r,offscreenCalendarDateText:o,calendarRightRailPaneEnabled:i}=this.props,l=this.context.getCss(Rm(),{verticalLayout:e}),c=e?ec.Ji.END:ec.Ji.UP,{href:d,text:_,dataTestId:E}=t,u=r?l.selectedProperty:l.property;return i?vl.createElement("div",{className:u,"data-test-id":E},vl.createElement("button",{className:l.calendarIconButton,onClick:this.onClick,"data-test-id":"calendar-right-rail-clickable-btn",title:o,"data-iskeynav":!0,tabIndex:-1},this.renderCalendarIcon(l,o)),n&&!r&&this.state.mounted&&vl.createElement(Ql.yk,{triggerOn:ec.K2.MOUNT,zAltitude:Fe.LSY.POPOVER.HIGH,popoverAnchor:this.iconRef.current,persistent:!0,ref:this.popoverRef,align:ec.xM.END,permittedArrowDirections:[c]},vl.createElement(pc.cr,{import:"../../calendar_pane_cue",bundleName:"epochCalendar",cueName:S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE,onShow:this.updateContent,launchCalendarPane:a,_moduleLoader:function(){return Promise.all([s.e(567),s.e(309),s.e(13)]).then(s.bind(s,50533))},_moduleResolver:function(){return 50533}}))):vl.createElement("a",{key:_.id,onClick:this.navigateToCalendar,href:d,className:l.property,"aria-label":o,title:o,"data-test-id":E,"data-iskeynav":!0,target:"_blank",rel:"noopener",tabIndex:-1},vl.createElement("div",{className:l.calendarIcon},this.renderCalendarIcon(l,o)))}}Nm(Lm,"contextTypes",{getCss:yl().func.isRequired,intl:Gl.intlShape.isRequired});const fm=(0,Fl.connect)((e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:a,getActionableRightRailPane:n}=(0,Oc.selectors)(e),{isEnabled:r}=t(),o=s(),i=n()===S._Ab.CalendarPane;let l;if(o&&o.params&&o.query){l=o.params.attachmentId&&"1"!==o.query.fullscreen?a((0,gc.m9)((0,Rc.LY)(o),o.params.groupId)):null}return{isCalendarPaneRendered:i,closePreviewRoute:l,calendarRightRailPaneEnabled:r(S.ANe.CALENDAR_RIGHT_RAIL_PANE),isCueEnabled:r(S.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE)}}),(e=>({handleHeaderNavigation:t=>e((0,zl.KE)(t)),toggleCalendarPane:()=>{return e({...t,type:$c.RIGHT_RAIL_COMMS_ICON_CLICKED,name:S.Qk$.CALENDAR_PANE});var t},closePreviewOpenPane:t=>e((e=>({...e,name:S.Qk$.CALENDAR_PANE}))((0,zl.Ch)(t))),closeFeatureCue:t=>e((0,Cc.hN)(t))})),null,{areStatePropsEqual:Xc()})(Lm);function Mm(){return(Mm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Pm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class bm extends vl.Component{constructor(e){super(e),Pm(this,"state",{mounted:!1}),Pm(this,"onClick",(e=>{const{closePreviewOpenPane:t,openContactsPane:s,closePreviewRoute:a,isContactsPaneRendered:n,isCueEnabled:r,closeFeatureCue:o}=this.props,i={mKey:n?cc.JE.CONTACTS_PANE_ICON_OFF:cc.JE.CONTACTS_PANE_ICON_ON,sec:cc.nJ.CONTACTS_PANE,interactionType:(0,Pa.getInteractionFromEvent)(e)},l=r&&!n;a?t({i13nModel:i,uiContext:{mKey:cc.JE.CONTACTS_PANE_ICON_ON},route:a}):s({i13nModel:i}),l&&o({userAction:"close",i13nModel:{mKey:`cue_${S.ANe.CONTACTS_PANE_CUE}_try_it`,sec:cc.nJ.FEATURE_CUE,interactionType:(0,Pa.getInteractionFromEvent)(e)}})})),Pm(this,"updateContent",(()=>{this.popoverRef&&this.popoverRef.current.updatePosition()})),this.iconRef=vl.createRef(),this.popoverRef=vl.createRef()}componentDidMount(){this.state.mounted||this.setState({mounted:!0})}componentWillUnmount(){this.state.mounted&&this.setState({mounted:!1})}render(){const{kind:e,formattedText:t,verticalLayout:a,isContactsPaneRendered:n,isCueEnabled:r,openContactsPane:o}=this.props,i=this.context.getCss(Rm(),{verticalLayout:a});return vl.createElement("button",Mm({onClick:this.onClick,className:n?i.selectedProperty:i.property,"aria-label":t,title:t,"data-iskeynav":!0,"data-test-id":"contacts-pane-icon"},a?{tabIndex:-1}:{}),vl.createElement(Bl.Z,{kind:e,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED,ref:this.iconRef}),r&&!n&&this.state.mounted&&vl.createElement(Ql.yk,{triggerOn:ec.K2.MOUNT,zAltitude:Fe.LSY.POPOVER.HIGH,popoverAnchor:this.iconRef.current,align:ec.xM.CENTER,persistent:!0,ref:this.popoverRef,permittedArrowDirections:[ec.Ji.END,ec.Ji.UP]},vl.createElement(pc.cr,{import:"../../contacts_pane_cue",bundleName:"contacts",cueName:S.ANe.CONTACTS_PANE_CUE,onShow:this.updateContent,launchContactsPane:o,_moduleLoader:function(){return s.e(421).then(s.bind(s,45893))},_moduleResolver:function(){return 45893}})))}}Pm(bm,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func.isRequired});const ym=(0,Fl.connect)((e=>{const{getFeaturesSelectors:t,getRoute:s,normalizeRoute:a,getActionableRightRailPane:n}=(0,Oc.selectors)(e),{isEnabled:r}=t(),o=s(),i=n()===S._Ab.ContactsPane;let l;if(o&&o.params&&o.query){l=o.params.attachmentId&&"1"!==o.query.fullscreen?a((0,gc.m9)((0,Rc.LY)(o),o.params.groupId)):null}return{isContactsPaneRendered:i,closePreviewRoute:l,isCueEnabled:r(S.ANe.CONTACTS_PANE_CUE)}}),(e=>({openContactsPane:t=>e((0,Om.$9)(t)),closePreviewOpenPane:t=>e((0,Om.yf)((0,zl.Ch)(t))),closeFeatureCue:t=>e((0,Cc.hN)(t))})))(bm);var vm=s(50621),Fm=s(7426),Um=s(94070),km=s(36632),wm=s(65127),Gm=s(81732);const Hm=(0,Fl.connect)((e=>{const{getActionableRightRailPane:t,normalizeRoute:s,getRoute:a,isFeatureEnabled:n,getTodoSelectors:r}=(0,Oc.selectors)(e),{getLoadingStatus:o}=r(),i=a();let l;if(null!=i&&i.params&&null!=i&&i.query){l=i.params.attachmentId&&"1"!==i.query.fullscreen?s((0,gc.m9)((0,Rc.LY)(i),i.params.groupId)):null}return{isTodoPaneOpen:t()===S._Ab.TodosPane,todoLoadingStatus:o(),closePreviewRoute:l,showOnboardingCue:n(S.ANe.TODO_ONBOARDING_CUE_PART1)}}))((e=>{const{formattedText:t,verticalLayout:a,isTodoPaneOpen:n,todoLoadingStatus:r,closePreviewRoute:o,showOnboardingCue:i}=e,l=(0,Gm.I0)(),c=(0,Hc.Z)(Rm(),{verticalLayout:a}),d=(0,vl.useRef)(null),_=(0,vl.useRef)(null),[E,u]=(0,vl.useState)(!1),m=i&&!n;(0,vl.useEffect)((()=>{u(!0)}),[]),(0,vl.useEffect)((()=>{const e=()=>{var e;null===(e=_.current)||void 0===e||e.updatePosition()};return m&&window.addEventListener("resize",e,!0),()=>window.removeEventListener("resize",e,!0)}),[m]);return vl.createElement(vl.Fragment,null,vl.createElement(Hl.default,{ref:d,title:t,kind:xl.Kinds.CAL_ACCEPT,size:xl.Sizes.XS,onClick:e=>{const t={mKey:n?cc.JE.TODOS_ICON_CLICKED_CLOSED:cc.JE.TODOS_ICON_CLICKED_OPEN,sec:cc.nJ.RIGHT_RAIL,interactionType:(0,Pa.getInteractionFromEvent)(e)};o?l((0,wm.jR)({i13nModel:t,uiContext:{mKey:t.mKey},route:o})):(n||r!==S.DAQ.ERROR||l((0,km.bz)({i13nModel:{mKey:cc.JE.FETCH_TODOS_RETRY_REQUESTED,sec:cc.nJ.RIGHT_RAIL}})),l((0,wm.id)({i13nModel:t}))),m&&l((0,Cc.hN)({userAction:"close",name:S.ANe.TODO_ONBOARDING_CUE_PART1,i13nModel:{mKey:`cue_${S.ANe.TODO_ONBOARDING_CUE_PART1}_direct_clk`,sec:cc.nJ.FEATURE_CUE,interactionType:(0,Pa.getInteractionFromEvent)(e)}}))},colorState:xl.ColorStates.INHERITED,className:n?c.selectedProperty:c.property,"data-test-id":"right-rail-todos-icon","data-iskeynav":!0}),m&&E&&vl.createElement(Ql.yk,{ref:_,popoverAnchor:d,triggerOn:ec.K2.MOUNT,align:ec.xM.END,permittedArrowDirections:[ec.Ji.UP],zAltitude:Fe.LSY.POPOVER.HIGH,persistent:!0},vl.createElement(pc.cr,{import:"../../../atoms/todos/onboarding_cue_part1",bundleName:"todos",cueName:S.ANe.TODO_ONBOARDING_CUE_PART1,onShow:()=>{var e;null===(e=_.current)||void 0===e||e.updatePosition()},_moduleLoader:function(){return s.e(700).then(s.bind(s,14208))},_moduleResolver:function(){return 14208}})))}));var Bm=s(74745),xm=s(73722);const Vm=e=>{const{formattedText:t,verticalLayout:s}=e,a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getNotesSelectors().areNotebooksAndNotesLoaded())),n=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getNotesSelectors().getLoadingStatus())),r=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getActionableRightRailPane()===S._Ab.NotesPane)),o=(0,Hc.Z)(Rm(),{verticalLayout:s}),i=(0,Gm.I0)();return vl.createElement(Hl.default,{title:t,kind:xl.Kinds.NOTEPAD,size:xl.Sizes.XS,onClick:e=>{const t={mKey:r?cc.JE.NOTES_ICON_CLICKED_CLOSED:cc.JE.NOTES_ICON_CLICKED_OPEN,sec:cc.nJ.RIGHT_RAIL,interactionType:(0,Pa.getInteractionFromEvent)(e)};i((0,Bm.Fe)({i13nModel:t})),a||r||i((0,xm.h3)({i13nModel:{mKey:n===S.DAQ.ERROR?cc.JE.FETCH_NOTEBOOKS_AND_NOTES_RETRY_REQUESTED:cc.JE.NOTEBOOKS_AND_NOTES_FETCHED_AT_ICON_CLICK_OPEN,sec:cc.nJ.RIGHT_RAIL,interactionType:(0,Pa.getInteractionFromEvent)(e)}}))},colorState:xl.ColorStates.INHERITED,className:r?o.selectedProperty:o.property,"data-test-id":"right-rail-notepad-pane-icon","data-iskeynav":!0})};function Zm(){return(Zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Wm=(0,Gl.defineMessages)({mail_icon:{id:"properties.mail_icon",defaultMessage:"Mail"},contacts_icon:{id:"properties.contacts_icon",defaultMessage:"Contacts"},calendar_icon:{id:"properties.calendar_icon",defaultMessage:"Calendar"},notepad_icon:{id:"properties.notepad_icon",defaultMessage:"Notepad"},todo_icon:{id:"properties.todo_icon",defaultMessage:"Todos"},help_icon:{id:"properties.help_icon",defaultMessage:"Help"},help_web_text:{id:"properties.help_web_text",defaultMessage:"Go to Help for {mailBrandNameString}"},help_customer_support:{id:"properties.help_customer_support",defaultMessage:'Call premium customer support<br/> <a href="tel:{phoneNumber}">{phoneNumber}</a>'},subproperties_nav:{id:"landmark.subproperties_nav",defaultMessage:"Navigate to other {yahooBrandNameString} properties like Calendar, Contacts, and Notepad"}}),Km=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,getSetting:s,isNarrowScreen:a}=(0,Oc.selectors)(e),n=t(S.ANe.NOTEPAD_TAB),r=s(S.Zrf.CALENDAR_URL),o=s(S.Zrf.NOTEPAD_URL),i=s(S.Zrf.HELP_URL),l=!a(),c=t(S.ANe.RIGHT_RAIL_NOTEPAD_PANE);return{notepadTabEnabled:n,calendarURL:r,notePadURL:o,helpURL:i,supportNumber:s(S.Zrf.SUPPORT_PHONE_NUMBER),contactsPaneEnabled:t(S.ANe.CONTACTS_PANE_FEATURE),isShowMktgSupportNumberEnabled:t(S.ANe.SHOW_MKTG_SUPPORT_NUMBER),todosPaneEnabled:t(S.ANe.MAIL_TODO),isWideScreenMode:l,rightRailNotepadPaneEnabled:c}}))((e=>{const{verticalLayout:t,notepadTabEnabled:s,calendarURL:a,notePadURL:n,helpURL:r,isShowMktgSupportNumberEnabled:o,isWideScreenMode:i,contactsPaneEnabled:l,todosPaneEnabled:c,onPropertyClick:d,supportNumber:_,rightRailNotepadPaneEnabled:E}=e,u=(0,Hc.Z)(Rm(),{verticalLayout:t}),{mailBrandNameString:m,yahooBrandNameString:S}=(0,Um.B)(),{formatMessage:p}=(0,Fm.Y)(),C=[{kind:xl.Kinds.CONTACT_CARD,text:Wm.contacts_icon,hidden:!l},{href:a,kind:xl.Kinds.CALENDAR_EMPTY,text:Wm.calendar_icon,mKey:cc.JE.CALENDAR_ICON,hidden:!1,dataTestId:"right-rail-calendar-icon"},{href:n,kind:xl.Kinds.NOTEPAD,text:Wm.notepad_icon,mKey:cc.JE.NOTEPAD_ICON,hidden:!s||E,dataTestId:"right-rail-notepad-icon"},{kind:xl.Kinds.NOTEPAD,text:Wm.notepad_icon,hidden:!E},{kind:xl.Kinds.CHECKBOX_ON,text:Wm.todo_icon,hidden:!c}],A=(e,t)=>{const s=(0,Pa.getInteractionFromEvent)(e);e.stopPropagation(),d(s,t)},T=e=>{A(e,{mKey:cc.JE.HELP_GO_WEB})},I=e=>{A(e,{mKey:cc.JE.HELP_GO_PHONE})},h=t||i||C.filter((({hidden:e})=>!e)).length<4;return h&&!o&&C.push({href:r,kind:xl.Kinds.CAL_MAYBE,text:Wm.help_icon,mKey:cc.JE.HELP_ICON,dataTestId:"right-rail-help-icon"}),vl.createElement("div",{"data-test-id":"comms-properties",role:"navigation","aria-label":p(Wm.subproperties_nav,{yahooBrandNameString:S}),className:u.properties},C.map((e=>!e.hidden&&(e=>{const{href:s,kind:a,text:n,propertyClassNames:r="",dataTestId:o}=e,i=p(n);switch(a){case xl.Kinds.CONTACT_CARD:return vl.createElement(ym,{kind:a,formattedText:p(n),verticalLayout:t,key:n.id});case xl.Kinds.CALENDAR_EMPTY:return vl.createElement(fm,{verticalLayout:t,key:n.id,property:e,offscreenCalendarDateText:i});case xl.Kinds.NOTEPAD:if(E)return vl.createElement(Vm,{verticalLayout:t,key:n.id,formattedText:i});break;case xl.Kinds.CHECKBOX_ON:return vl.createElement(Hm,{verticalLayout:t,key:n.id,formattedText:i})}return vl.createElement("a",{key:n.id,onClick:t=>A(t,e),href:s,className:u.property+" "+r,"aria-label":i,title:i,"data-test-id":o,"data-iskeynav":!0,target:"_blank",rel:"noopener",tabIndex:-1},vl.createElement(Bl.Z,{kind:a,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}))})(e))),h&&o?vl.createElement(vm.ZP,{triggerOn:vm.XU.CLICK,triggerOff:vm.Es.CLICK,align:ec.xM.ANY,permittedArrowDirections:t?[ec.Ji.END]:[ec.Ji.UP],isArrowVisible:!0},vl.createElement("button",{"data-test-id":"right-rail-help-icon","data-iskeynav":!0,className:u.property},vl.createElement(Bl.Z,{kind:xl.Kinds.CAL_MAYBE,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED,title:p(Wm.help_icon)})),vl.createElement("ul",{className:u.helpMenuContainer,"data-test-id":"right-rail-help-menu"},vl.createElement("li",{className:u.helpMenuItem},vl.createElement("a",{href:r,className:u.helpMenuLink,onClick:T,"data-test-id":"right-rail-help-menu-web",target:"_blank","data-iskeynav":!0,tabIndex:-1,rel:"noopener"},vl.createElement(Bl.Z,{kind:xl.Kinds.SEARCH_WEB,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}),vl.createElement("div",{className:u.helpMenuText+" "+u.helpMenuLinkText},p(Wm.help_web_text,{mailBrandNameString:m})))),vl.createElement("li",{className:u.separator}),vl.createElement("li",{className:u.helpMenuItem},vl.createElement(Bl.Z,{kind:xl.Kinds.PHONE,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}),vl.createElement("div",{className:u.helpMenuText+" "+u.helpMenuPhoneText,onClick:I},vl.createElement(Gl.FormattedHTMLMessage,Zm({},Wm.help_customer_support,{values:{phoneNumber:_}})))))):null)}));var zm=s(26),Ym=s(16204),jm=s.n(Ym),qm=s(78662);function Xm(){return(Xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Qm(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Jm=(0,Gl.defineMessages)({settingsMenu:{id:"settings_menu_aria_label",defaultMessage:"Settings Menu"}});class $m extends vl.Component{constructor(...e){super(...e),Qm(this,"state",{showUserInformation:!1,stickyMenu:!1}),Qm(this,"setStickyMenu",(e=>{this.setState({stickyMenu:e})})),Qm(this,"handleDismiss",(()=>{this.setState({showUserInformation:!1})})),Qm(this,"handleModalKeyDown",(e=>{this.handleOutsideModalClick(e)&&this.handleDismiss()})),Qm(this,"handleGearIconClick",(e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):(this.props.showSettingsCue&&this.props.featureCueClosed({name:S.ANe.SETTINGS_CUE}),this.props.showSettings({i13nModel:{mKey:cc.JE.SETTINGS_GEAR_ICON,sec:cc.nJ.HEADER_NAV}}))})),Qm(this,"handleSettingsLabelClick",(e=>{e.preventDefault(),e.metaKey||e.ctrlKey?(this.setState({showUserInformation:!0}),e.stopPropagation()):this.props.showSettings({i13nModel:{mKey:cc.JE.SETTINGS_LABEL,sec:cc.nJ.HEADER_NAV}})})),Qm(this,"cueTryNowHandler",(()=>{this._container.hide(ec.K2.MOUNT),this._container.show(ec.K2.CLICK)})),Qm(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),Qm(this,"renderRMSettingsCue",(()=>this.props.showRMSettingsCue?vl.createElement(Ql.yk,{triggerOn:ec.K2.MOUNT,zAltitude:Fe.LSY.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[ec.Ji.END]},vl.createElement(pc.cr,{import:"../../atoms/readability_mode_text_size_settings_cue",cueName:S.ANe.RM_SETTINGS_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,20999))},_moduleResolver:function(){return 20999}})):null)),Qm(this,"renderCue",(()=>this.props.showSettingsCue?vl.createElement(Ql.yk,{triggerOn:ec.K2.MOUNT,onClose:this.cueClosed,zAltitude:Fe.LSY.POPOVER.HIGH,isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},persistent:!0,permittedArrowDirections:[ec.Ji.END]},vl.createElement(pc.cr,{import:"../../atoms/settings_personalize_cue",cueName:S.ANe.SETTINGS_CUE,onTryNow:this.cueTryNowHandler,onShow:this.updateContent,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4441))},_moduleResolver:function(){return 4441}})):null)),Qm(this,"onHide",(()=>{this.props.newThemes&&this.props.updateRenderAllThemes({haveAllThemesRendered:!1})}))}handleOutsideModalClick(e){return-1===(e.which||e.keyCode||-1)}componentDidMount(){window.showSettingsPopover&&(this._container.show(ec.K2.CLICK),window.showSettingsPopover=void 0),this.props.autoOpenSettingsPopover&&!window.autoOpenSettingsPopover&&(this._container.show(ec.K2.CLICK),window.autoOpenSettingsPopover=!0);const e=window.document.getElementsByClassName("ybar-icon-sprite")||[];this.homeIconRef=e[e.length-1]}UNSAFE_componentWillReceiveProps(e){!this.props.autoOpenSettingsPopover&&e.autoOpenSettingsPopover&&(this._container.show(ec.K2.CLICK),this.props.toggleAutoOpenSettingsPopover({status:!1}))}render(){const{formatMessage:e}=this.context.intl,{verticalLayout:t,previewPaneSetting:a,hasContactCard:n,windowDimensions:r,commsPropertiesSectionHeight:o,isRTL:i,showContactsPane:l}=this.props,c=t?qm.F5:o||qm.ot,d=a===S.EsZ.RIGHT&&!l,_=t?ec.xM.START:ec.xM.END,E=t?ec.Ji.END:ec.Ji.UP,u=(r?r.contentAndRightRailHeight:0)-c-qm.oc,m=this.context.getCss(jm(),{verticalLayout:t,verticalPreviewPane:d,hasContactCard:n}),p=e=>vl.createElement(pc.cr,{import:"./settings_menu",availableHeightBelowCommsProps:u,onUpdateCompleted:e,setStickyMenu:this.setStickyMenu,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,61945))},_moduleResolver:function(){return 61945}},vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{className:m.menuContainerLazy},vl.createElement(zm.Z,null))));return vl.createElement("div",{className:m.settingsButtonContainer},vl.createElement(Jl.Z,{ref:e=>this._container=e},vl.createElement($l.Z,null,vl.createElement("button",Xm({className:m.settingsButton,"data-iskeynav":!0,"data-test-id":"settings-popover-anchor","aria-label":e(Jm.settingsMenu)},t?{}:{tabIndex:-1}),t?null:vl.createElement("span",{className:m.label,onClick:this.handleSettingsLabelClick,"data-test-id":"settings-link-label"},vl.createElement(Gl.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"})),vl.createElement("span",{onClick:this.handleGearIconClick,className:m.inlineWrapper,"data-test-id":"settings-gear"},vl.createElement(Bl.Z,{colorState:xl.ColorStates.INHERITED,size:xl.Sizes.XS,kind:xl.Kinds.SETTINGS,title:e(Jm.settingsMenu)})))),vl.createElement(Ql.yk,{offset:8,align:_,arrowSize:ec.Jk.M,triggerOn:ec.K2.CLICK,overflowScroll:!1,permittedArrowDirections:[E],bg:ec.Ic.LIGHTGRAY,isRTL:i,zAltitude:Fe.LSY.POPOVER.HIGH,persistent:this.state.stickyMenu,onHide:this.onHide},p),this.renderCue(),this.renderRMSettingsCue()),this.state.showUserInformation?vl.createElement(pc.cr,{import:"../../../../molecules/user_information",onClose:this.handleDismiss,onKeyDown:this.handleModalKeyDown,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,54317))},_moduleResolver:function(){return 54317}}):null)}}Qm($m,"contextTypes",{intl:Gl.intlShape.isRequired,executeAction:yl().func,getCss:yl().func,getThemeMode:yl().func});const eS=(0,Fl.connect)((e=>{const{getEnvironmentSelectors:t,getActionableRightRailPane:s,isFeatureEnabled:a}=(0,Oc.selectors)(e),n=t(),r=s()===S._Ab.ContactsPane;return{isRTL:"rtl"===n.getPageDirection(),showRMSettingsCue:a(S.ANe.RM_SETTINGS_CUE),showContactsPane:r,newThemes:a(S.ANe.NEW_THEMES)}}),(e=>({featureCueClosed:t=>e((0,Cc.hN)(t)),showSettings:t=>e((0,Kd.RP)(t)),toggleAutoOpenSettingsPopover:t=>e((0,Kd.Wx)(t)),updateRenderAllThemes:t=>e((0,Kd.pK)(t))})))($m);var tS=s(48626),sS=s.n(tS),aS=s(68003),nS=s(20561);function rS(){return(rS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function oS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const iS=(0,Gl.defineMessages)({mailPlusIconTxt:{id:"mailplus.icon_shortcut.hover_text",defaultMessage:"Mail Plus benefits"}});class lS extends vl.Component{constructor(...e){super(...e),oS(this,"state",{commsPropertiesSectionHeight:null}),oS(this,"componentDidMount",(()=>{this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})})),oS(this,"componentDidUpdate",(()=>{this.state.commsPropertiesSectionHeight!==this.commsPropertiesSection.clientHeight&&this.setState({commsPropertiesSectionHeight:this.commsPropertiesSection.clientHeight})})),oS(this,"onPropertyClick",((e,t)=>{this.props.handleHeaderNavigation({i13nModel:{mKey:t.mKey,sec:cc.nJ.HEADER_NAV,interactionType:e}})})),oS(this,"renderMailPlusIconShortcut",(e=>{const{formatMessage:t}=this.context.intl;return vl.createElement(nS.Z,{title:t(iS.mailPlusIconTxt),route:(0,gc.Tx)({settingsGroupId:S.u5h.MAIL_PLUS}),className:e.mailPlusIcon,i13nModel:{mKey:cc.JE.MAIL_PLUS_ICON_SHORTCUT_CLICK,sec:cc.nJ.RIGHT_RAIL},"data-iskeynav":!0},vl.createElement(Bl.Z,{kind:xl.Kinds.YAHOO_PLUS_BADGE_ALT,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}))}))}render(){const{verticalLayout:e,showMailPlusIconShortcut:t,areInboxTabsShowing:s}=this.props,a=this.context.getCss(sS(),{verticalLayout:e,shorterHorizontalLayout:s&&!e});return vl.createElement("div",{ref:e=>this.commsPropertiesSection=e,className:a.container},vl.createElement(aS.Z,{axis:e?aS.U.VERTICAL:aS.U.HORIZONTAL,"data-test-id":"comms-properties-bar",groupTabIndex:Fe.iUz.COMMS_PROPERTIES_BAR,className:a.properties},e&&vl.createElement("div",{className:a.settingsMenu},t&&this.renderMailPlusIconShortcut(a),vl.createElement(eS,rS({},this.props,{commsPropertiesSectionHeight:this.state.commsPropertiesSectionHeight}))),vl.createElement(Km,rS({},this.props,{onPropertyClick:this.onPropertyClick})),!e&&vl.createElement("div",{className:a.settingsMenu},vl.createElement(eS,rS({},this.props,{commsPropertiesSectionHeight:this.state.commsPropertiesSectionHeight})),t&&this.renderMailPlusIconShortcut(a))))}}oS(lS,"contextTypes",{executeAction:yl().func,getCss:yl().func,config:yl().object,getTheme:yl().func,intl:Gl.intlShape});const cS=lS,dS=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,getSetting:s,getQueryParams:a,showInboxTabs:n}=(0,Oc.selectors)(e),r=s(S.Zrf.PREVIEW_PANE),o="1"===a().openSettingsPopover||t("autoOpenSettingsPopover"),i=t(S.ANe.MAIL_PLUS_ICON_SHORTCUT);return{previewPaneSetting:r,autoOpenSettingsPopover:o,showSettingsCue:t(S.ANe.SETTINGS_CUE),showMailPlusIconShortcut:i,areInboxTabsShowing:n()}}),(e=>({handleHeaderNavigation:t=>e((0,zl.KE)(t))})))(cS);var _S=s(38700),ES=s(42357),uS=s.n(ES),mS=s(68113);class SS extends vl.Component{componentDidMount(){this.context.registerAdPosition({jacPos:this.props.id})}componentWillUnmount(){this.context.removeAdPosition({jacPos:this.props.id})}shouldComponentUpdate(e){return this.props.className!==e.className}render(){const{yaftName:e,jac:t}=mS.xL[this.props.id],{clean:s,dest:a}=t;return vl.createElement("div",{id:s,"data-yaft-module":e,className:this.props.className},vl.createElement("div",{id:a}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(SS,"contextTypes",{registerAdPosition:yl().func,removeAdPosition:yl().func,executeAction:yl().func});const pS=SS;class CS extends vl.Component{render(){return vl.createElement(pS,{id:"MON"})}}class AS extends vl.Component{render(){return vl.createElement(pS,{id:"SKY"})}}class TS extends vl.Component{render(){return vl.createElement(pS,{id:"LREC"})}}class IS extends vl.Component{render(){return vl.createElement(pS,{id:"UBASKY",className:this.props.className})}}class hS extends vl.Component{render(){return vl.createElement(pS,{id:"UBAMON",className:this.props.className})}}class gS extends vl.Component{render(){return vl.createElement(pS,{id:"UBALREC",className:this.props.className})}}class OS extends vl.Component{render(){return vl.createElement("div",{"data-test-id":"stackedLRECs"},vl.createElement(pS,{id:"LREC",className:this.props.lrecClassName}),vl.createElement(pS,{id:"LREC4"}))}}class DS extends vl.Component{render(){return vl.createElement(pS,{id:"FULLPANE"})}}var RS=s(75002),NS=s.n(RS),LS=s(72813),fS=s(45481);function MS(){return(MS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const PS=(0,Gl.defineMessages)({title:{id:"right_rail_card_group.title",defaultMessage:"Product & deals"},title_deals_only:{id:"right_rail_card_group.title_deals_only",defaultMessage:"Deals"},title_products_only:{id:"right_rail_card_group.title_products_only",defaultMessage:"Products"},description:{id:"right_rail_card_group.description",defaultMessage:"Collected from your emails and inbox."}}),bS=(0,Fl.connect)((e=>{const{getSetting:t,getFalconRelatedCardSelectors:s,isNarrowScreen:a,isFeatureEnabled:n,getRoute:r,getAffiliateCrumb:o,getRightRailCommerceCards:i}=(0,Oc.selectors)(e),{getCommerceIntentBrands:l}=s(),c=t(S.Zrf.THEME_MODE)===Kl.zg.DARK||t(S.Zrf.THEME_MODE)===Kl.zg.MEDIUM;return{dealCards:i(),isDarkTheme:c,isRRCompactSize:a(),isAffiliatePartnerEnabled:n(S.ANe.AFFILIATE_PARTNER),route:r(),affiliateCrumb:o(),commerceIntentBrands:l(),isRRDealsEnabled:n(S.ANe.RIGHT_RAIL_DEALS),isRRProductsEnabled:n(S.ANe.RIGHT_RAIL_PRODUCTS)}}))((e=>{const{dealCards:t,isRRCompactSize:s,isDarkTheme:a,isAffiliatePartnerEnabled:n,route:r,rightRailCommerceHaveDeals:o,affiliateCrumb:i,commerceIntentBrands:l,isRRDealsEnabled:c,isRRProductsEnabled:d}=e,_=(0,Hc.Z)(NS(),{isRRCompactSize:s,isDarkTheme:a}),E=(0,vl.useRef)([]),u=(0,Um.B)(),m=r.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||r.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||r.name===S.n8z.MESSAGE_FROM_LIST,p=m?cc.KJ.MESSAGE_READ:cc.KJ.MESSAGE_LIST,C=(0,vl.useCallback)(((e,t)=>d&&e===S.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL?S.pdX.RR_PRODUCT_EXTRACTION:c&&t===S.WSI.COUPON?S.pdX.RR_DEAL_EXTRACTION:e===S.WSI.INBOX_DEAL?S.pdX.RR_SENDER_EXTRACTION:S.pdX.RR_SENDER_PRODUCT_EXTRACTION),[d,c]);if(!E.current.length&&t.length&&(t.map((e=>{var t,s;let a="";(null===(t=e.brandName)||void 0===t?void 0:t.toLowerCase())in l?a="commerce_brand_intent":"all"in l&&(a="commerce_intent");const{affiliatePartnerName:o,affiliatePartnerUrl:_}=n?(0,fS.sx)({affiliateLink:e.dealLink||e.brandUrl,locale:null==u||null===(s=u.locale)||void 0===s?void 0:s.name,region:null==u?void 0:u.region,partner:null==u?void 0:u.partner,appId:null==u?void 0:u.appId,clickRef:(E=e.dealType,C=e.type,c&&C===S.WSI.COUPON?m?S.yU$.RR_MESSAGE_READ_DEALS:S.yU$.RR_MESSAGE_LIST_DEALS:d&&E===S.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL?m?S.yU$.RR_MESSAGE_READ_PRODUCTS:S.yU$.RR_MESSAGE_LIST_PRODUCTS:E===S.WSI.INBOX_DEAL?S.pdX.RR_SENDER_EXTRACTION:S.pdX.RR_SENDER_PRODUCT_EXTRACTION),route:r,annotation:"",affiliateCrumb:i,pageId:a,slot:p}):{affiliatePartnerName:"",affiliatePartnerUrl:e.dealLink||e.brandUrl};var E,C;e.affiliatePartnerName=o,e.affiliatePartnerUrl=_})),E.current=t),(0,vl.useEffect)((()=>{const e={mKey:cc.JE.CARD_VIEW,sec:cc.nJ.RIGHT_RAIL};E.current.length?e.actionData={xpname:C(E.current[0].dealType,E.current[0].type),ccid:E.current.map((e=>e.cardConversationId||"")),position:[...Array(E.current.length).keys()],sndr:E.current.map((e=>e.email||"")),brandurl:E.current.map((e=>e.brandUrl||"")),slot:p,featurefamily:S.lMo.IC}:e.actionData={xpname:S.pdX.RR_MISSED,featurefamily:S.lMo.IC},$_.ZP.sendI13nModel({i13nModel:e})}),[C,p]),!o)return null;const A=!!E.current.length&&vl.createElement(vl.Fragment,null,E.current.slice(0,c||d?6:E.current.length).map(((e,t)=>vl.createElement(LS.Z,MS({},e,{url:e.affiliatePartnerUrl,key:e.cardId+"-"+t,position:t,isRRCompactSize:s,isDarkTheme:a,contextOfUse:"rightRailDeals",name:e.brandName,ccId:e.cardConversationId,fromEmail:e.email,brandUrl:e.brandUrl,isAffiliatePartnerEnabled:n,xpname:C(e.dealType,e.type),rrSlot:p})))));return vl.createElement("div",{className:_.container},c?vl.createElement("div",{className:_.title},vl.createElement(Gl.FormattedMessage,PS.title_deals_only)):d?vl.createElement("div",{className:_.title},vl.createElement(Gl.FormattedMessage,PS.title_products_only)):vl.createElement("div",{className:_.title},vl.createElement(Gl.FormattedMessage,PS.title)),vl.createElement("div",{className:_.description},vl.createElement(Gl.FormattedMessage,PS.description)),vl.createElement("div",{className:_.cardsContainer},A))}));var yS=s(87972),vS=s.n(yS),FS=s(51487);const US=({adUnitPath:e,adPositions:t=[],pageUrl:s,headerBidderEnabled:a=!1,npa:n=!1,limitedAds:r=!1,PPId:o=""})=>({adUnitPath:e,size:t.map((e=>FS.zw[e])),div:FS.kh,pageUrl:s,headerBidder:a,npa:n,limited:r,PPId:o});const kS=e=>{const t={};let s;for(s in e){var a,n;if("number"==typeof e[s])e[s]=null===(a=e[s])||void 0===a||null===(n=a.toString)||void 0===n?void 0:n.call(a);e[s]&&"string"==typeof e[s]&&(t[s]=e[s])}return t},wS=({spaceId:e,buckets:t,limited:s=!1,cobrand:a="none",isAolUser:n,region:r,lang:o,headerBidderSite:i})=>({host:n?"mail.aol.com":"mail.yahoo.com",pblob:(e=>{const t={lu:1};return`${Object.keys(t).map((e=>`${e}:${t[e]}`)).join(";")}||${e}||`})(e),buckets:t,limited:s,cobrand:a,site:i,region:r,lang:o}),GS=(e="")=>{const t=new RegExp(`${FS.QT}=([^;]+)`),s=e.match(t),a=(s?s[1]:"").split("&").reduce(((e,t)=>{const[s,a]=t.split("=");return e[s]=a,e}),{})[FS.vE]||"";if(a)return a;const n=new RegExp(`${FS.TJ}=([^;]+)`),r=e.match(n);return r?r[1]:""},HS=(e="")=>("string"==typeof e?Array.from(e).map((e=>e.charCodeAt(0).toString(16))).join(""):"").substring(0,FS.xG),BS=_e().create("norrin/gam");function xS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const VS=/^(https:\/\/([a-z0-9-]+[.])*(mail|login)\.(aol|yahoo)\.com)$/,ZS=/^(https:\/\/(?:norrin\.)?(alpha-|canary-)?(gpt|gam)\.mail\.(aol|yahoo|yahoosandbox)\.net)$/;const WS=class{constructor({mode:e,appName:t,targetOrigin:s,iframeRef:a}){xS(this,"messageId",0),xS(this,"listener",null),e&&Object.keys(FS.IK).map((e=>FS.IK[e])).includes(e)||(0,m.Z)(!1,"Valid 'mode' needs to be specified"),s||(0,m.Z)(!1,"Valid 'targetOrigin' needs to be specified"),e!==FS.IK.APP||a||(0,m.Z)(!1,"Valid 'iframeRef' needs to be specified"),this.mode=e,this.targetOrigin=s,this.iframeRef=a,this.appName=t||"MAIL_APP"}sendMessage(e){var t,s;if(e.requestId=++this.messageId,this.mode===FS.IK.APP)null===(t=this.iframeRef)||void 0===t||null===(s=t.contentWindow)||void 0===s||s.postMessage(e,this.targetOrigin);else if(this.mode===FS.IK.IFRAME){var a;null===(a=window.parent)||void 0===a||a.postMessage(e,this.targetOrigin)}}sendRequestMessage(e,t={}){this.sendMessage({app:this.appName,type:FS.C7.REQ,name:e,data:t})}isReceivedMessageValid(e){var t;const s=this.mode;return!!Object.keys(FS.IK).map((e=>FS.IK[e])).includes(s)&&(!!(s!==FS.IK.APP||ZS.test(e.origin)&&e.source===(null===(t=this.iframeRef)||void 0===t?void 0:t.contentWindow))&&!!(s!==FS.IK.IFRAME||VS.test(e.origin)&&e.source===window.parent))}attachListener(e){const t=t=>{this.isReceivedMessageValid(t)&&e(t)};this.listener&&(window.removeEventListener("message",this.listener),this.listener=null),window.addEventListener("message",t),this.listener=t}detachListener(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=null)}};var KS=s(19793),zS=s(28509),YS=s(91745),jS=s(31950);function qS(){return(qS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const XS=({adLocation:e})=>{const t=(0,vl.useRef)(null),s=(0,YS.Z)(S.Zrf.GPT_HOST),a=(0,YS.Z)(S.Zrf.GPT_IFRAME_VERSION),n=(0,YS.Z)(S.alR[e]),r=(0,YS.Z)(S.Zrf.HEADER_BIDDER_SITE),o=(0,Gm.v9)((t=>(0,Oc.selectors)(t).getDisplayAdPositions(e))),i=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getCurrentSpaceId())),l=((e,t)=>{const s=e===S.BQZ.MOBILE_APP||e===S.BQZ.BASIC_MOBILE_APP,a=s&&2===t;return e===S.BQZ.MAIL_APP||e===S.BQZ.BASIC_MAIL_APP?"desktop":a?"tablet":s?"smartphone":""})((0,Gm.v9)((e=>(0,Oc.selectors)(e).getAppName())),(0,Gm.v9)((e=>(0,Oc.selectors)(e).getPrescribedNumberOfColumns()))),c=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getRoute())),d=(0,Rc.I7)(c),_=(0,jS.Z)(S.ANe.GAM_HEADER_BIDDER),u=(0,jS.Z)(S.ANe.GAM_HUMAN_AD_QUALITY),m=(0,jS.Z)(S.ANe.GPT_IFRAME_CACHE),p=(0,jS.Z)(S.ANe.GAM_AUTO_RELOAD_ON_APP_VISIBLE),C=(0,jS.Z)(S.ANe.GAM_REQUEST_TRACKING),A=(0,YS.Z)(S.Zrf.GPT_IFRAME_REMOUNT_INTERVAL),T=(0,YS.Z)(S.Zrf.GAM_TEST_ID),{locale:I=""}=(0,Fm.Y)(),{partner:h="",guidHash:O,region:D}=(0,Um.B)(),R=(0,Gm.I0)(),N=new g.Z(O,KS.N7,KS.Q_),L=(0,vl.useRef)(N),f=(0,vl.useRef)(null),M=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().shouldRemountGPTIframe())),P=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isNarrowScreen())),b=(0,vl.useRef)(o),y=(0,vl.useRef)(i),v=(0,Hc.Z)(vS(),{isRRCompactSize:P&&e===FS.Ej.RIGHT_RAIL,fullPaneAd:e===FS.Ej.SEND_CONFIRMATION||e===FS.Ej.EMPTY_FOLDER}),F=(0,vl.useRef)(0),[U,k]=(0,zS.Z)(!1),w=(0,vl.useRef)(null),G=(0,jS.Z)(S.ANe.ABP_STATIC_ADS),H=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().isABPDetected())),B=(0,vl.useRef)(H),x=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().adblockerDetectionStatus()))===S.vc$.DETECTED,V=(0,vl.useRef)(x),Z=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().doesGPTIrameHasUBAClassname())),W=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isAppVisible())),K=(0,vl.useRef)(W),z=(0,vl.useRef)(null);(0,vl.useEffect)((()=>{var o,i,c,p,A;const g=null==t?void 0:t.current,O=window.location.origin,N=(null===(o=window.AppBootstrapData)||void 0===o?void 0:o.buckets)||[],M=(null===(i=window.AppBootstrapData)||void 0===i?void 0:i.gamData)||{},P=(null===(c=window.AppBootstrapData)||void 0===c?void 0:c.colo)||"",{showLimitedAds:v=!1,showNonPersonalizedAds:U=!1,age:G=FS.q1,gender:H=FS.LW}=M,x=GS(null===(p=document)||void 0===p?void 0:p.cookie),Z=US({adUnitPath:n,adPositions:b.current,pageUrl:O,headerBidderEnabled:_,limitedAds:v,npa:U,PPId:HS(x)}),W=kS({colo:P,lu:"1",site:h===S.Ql2.AOL?"aol":"mail",device:l,region:D,pageOrigin:O,ncid:d,lang:I,partner:h,bucket:N.join(","),spaceId:null==y?void 0:y.current,adLocation:e,AXId:x,age:G.toString(),gender:H.toString(),...T?{gamTestId:T}:null,...(null==B?void 0:B.current)&&{adBlocker:FS.sU}||(null==V?void 0:V.current)&&{adBlocker:FS.Oc}}),K=wS({spaceId:null==y?void 0:y.current,buckets:N,limited:v,cobrand:h,isAolUser:h===S.Ql2.AOL,region:D,lang:I,headerBidderSite:r}),Y=C?null===(A=L.current)||void 0===A?void 0:A.generate():"",j=e=>"string"==typeof e&&36===e.length,q=(({client:e=FS.x9.MAIL,gptHost:t,version:s,ymreqid:a,humanAdQualityEnabled:n,iframeCacheEnabled:r,config:o,targetingConfig:i,headerBidderConfig:l})=>{const c=E.stringify({[FS._H.CLIENT]:e,[FS._H.VERSION]:s,[FS._H.LIMITED]:o.limited?1:0,[FS._H.HEADER_BIDDER]:o.headerBidder?1:0,...a?{[FS._H.YMREQID]:a}:null,...n?{[FS._H.HAQ]:1}:null,...r?{[FS._H.CACHE]:1}:null}),d=o.headerBidder?{...o,targetingConfig:i,headerBidderConfig:l}:{...o,targetingConfig:i},_=E.stringify({[FS.u3.CONFIG]:JSON.stringify(d)});let u=t+"/sandbox";return u+=c?`?${c}`:"",u+=_?`#${_}`:"",u})({client:h===S.Ql2.AOL?FS.x9.AOL_MAIL:FS.x9.MAIL,gptHost:s,version:a,config:Z,targetingConfig:W,headerBidderConfig:K,ymreqid:Y,humanAdQualityEnabled:u,iframeCacheEnabled:m}),X=e=>{BS.feature("gpt_init",e).logFailure()},Q=e=>{BS.feature("gpt_init",e).logLatency()};if(g)return f.current||(f.current=new WS({mode:FS.IK.APP,targetOrigin:O,iframeRef:g}),f.current.attachListener((e=>{var t,s;if((null===(t=e.data)||void 0===t?void 0:t.name)===FS.dt.LOADED){w.current&&(F.current=0,clearTimeout(w.current),w.current=null),R((0,gm.vf)());const{data:t={}}=e.data,{ymreqid:s}=t;Q({message:"Iframe init success",ymreqid:j(s)?s:""})}else if((null===(s=e.data)||void 0===s?void 0:s.name)===FS.dt.INIT_ERROR){const{data:t={}}=e.data,{error:s,ymreqid:a}=t;X({message:s,ymreqid:j(a)?a:""})}}))),g.src=q,null==g||g.addEventListener("load",(()=>{Q({message:"Iframe loaded",...Y?{ymreqid:Y}:null}),z.current&&(z.current.logLatency(),z.current=null)})),!w.current&&F.current<FS.oi&&(w.current=window.setTimeout((()=>{F.current=F.current+1,k(),X({message:"Iframe not load within time limit"})}),FS.WZ)),Q({message:"Iframe set",...Y?{ymreqid:Y}:null,frameSrc:q}),z.current=BS.feature("gpt_iframe_mount"),()=>{var e;null===(e=f.current)||void 0===e||e.detachListener(),f.current=null,w.current&&(clearTimeout(w.current),w.current=null),R((0,gm.XR)())};X({message:"Iframe undefined"})}),[R,s,T,a,n,D,I,h,C,_,U,k,e,l,d,r,u,m]),(0,vl.useEffect)((()=>{y.current=i,b.current=o,B.current=H,V.current=x,K.current=W}),[i,o,H,x,W]),(0,vl.useEffect)((()=>{const e=setInterval((()=>{!K.current&&p||(F.current=0,k(),BS.feature("gpt_remount_auto").logLatency())}),A);return()=>clearInterval(e)}),[A,k,p]),(0,vl.useEffect)((()=>{M&&(F.current=0,k(),R((0,gm.jJ)()),BS.feature("gpt_remount").logLatency())}),[R,M,k]);const Y=Z?v.iframe.concat(" ","uba-container"):v.iframe,j=m?{key:`${o.join("-")}-${U}`}:{};return vl.createElement("div",{"aria-hidden":!0,className:v.mainAd,"data-test-id":"gam-iframe"},G&&(H||x)?vl.createElement("div",{className:v.adText},vl.createElement(Gl.FormattedMessage,{id:"ad.text",defaultMessage:"AD"})):null,vl.createElement("iframe",qS({},j,{className:Y,id:"gpt-iframe",ref:t,"data-test-id":"gpt-iframe",allow:FS.Ly.join("; "),sandbox:FS.Ar.join(" "),scrolling:"no"})))},QS=vl.memo(XS);function JS(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class $S extends vl.Component{constructor(e){super(e),JS(this,"renderAds",(e=>{const{disabledPositions:t={},lrecMonAdArbitration:s,ubaLrecMonAdArbitration:a,isRRCompactSize:n,ABPStaticAds:r,jacAdsEnabled:o,isAolUser:i,showRightRailCommerce:l}=this.props,c=[];let d=null,_=null;if(r){const e=o?"uba-container":void 0;n&&!t.UBASKY?c.push(vl.createElement(IS,{key:"uba_sky_ad",className:e})):i?c.push(vl.createElement(hS,{key:"uba_mon_ad",className:e})):(c.push(vl.createElement(gS,{key:"uba_lrec_ad",className:e})),a&&c.push(vl.createElement(hS,{key:"uba_mon_ad",className:e})))}else!s||t.LREC||t.LREC4?t.LREC4&&!t.LREC?d=vl.createElement(TS,{key:"lrec_ad"}):t.LREC4||t.LREC||(d=vl.createElement(OS,{key:"stacked_lrec",lrecClassName:e.lrec})):(_=t.MON?null:vl.createElement(CS,{key:"mon_ads"}),d=vl.createElement(OS,{key:"stacked_lrec",lrecClassName:e.lrec})),n&&!t.SKY?c.push(vl.createElement(AS,{key:"sky_ad"})):(c.push(_),c.push(d));return vl.createElement(vl.Fragment,null,vl.createElement("div",{"aria-hidden":!0,className:e.mainAd,"data-test-id":"right-rail-ad"},r?vl.createElement("div",{className:e.adText},vl.createElement(Gl.FormattedMessage,{id:"ad.text",defaultMessage:"AD"})):null,vl.createElement("div",null,c)),l?vl.createElement(bS,{rightRailCommerceHaveDeals:!1}):null)})),this.state={isShown:!1}}componentDidMount(){this.props.delayAdsRendering&&(this.delayAdsRenderingTimeout=setTimeout((()=>{this.setState({isShown:!0})}),500))}componentWillUnmount(){clearTimeout(this.delayAdsRenderingTimeout)}render(){const{isRRCompactSize:e,isWideRightRailPaneWithAds:t,showRightRailCommerce:s,rightRailCommerceHaveDeals:a,gamEnabled:n,delayAdsRendering:r}=this.props,o=ic()(uS(),{isRRCompactSize:e&&!t});return n?vl.createElement(QS,{adLocation:FS.Ej.RIGHT_RAIL}):a&&s?vl.createElement(bS,{rightRailCommerceHaveDeals:!0}):!r||this.state.isShown?this.renderAds(o):null}}JS($S,"contextTypes",{config:yl().object,executeAction:yl().func,locale:yl().object,cspToken:yl().string});const ep=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,isNarrowScreen:s,getRightRailPanes:a,getSettingsSelectors:n,getRightRailCommerceCards:r}=(0,Oc.selectors)(e),o=a(),i=S.YKE.some((e=>o.includes(e))),l=i?{SKY:"SKY",UBASKY:"UBASKY"}:{},c=t(S.ANe.JAC_ADS),{isRightRailCommerceResponseLoaded:d}=n();let _=!1,E=!1;return(t(S.ANe.RIGHT_RAIL_DEALS)||t(S.ANe.RIGHT_RAIL_PRODUCTS))&&d()?(_=!0,E=!!r().length):_=!1,{lrecMonAdArbitration:t(S.ANe.LREC_MON_AD_ARBITRATION),ubaLrecMonAdArbitration:t(S.ANe.UBA_LREC_MON_AD_ARBITRATION),isAolUser:t(S.ANe.AOL_USER),isRRCompactSize:s(),ABPStaticAds:t(S.ANe.ABP_STATIC_ADS),showRightRailCommerce:_,rightRailCommerceHaveDeals:E,disabledPositions:l,isWideRightRailPaneWithAds:i,jacAdsEnabled:c,gamEnabled:t(S.ANe.GAM),delayAdsRendering:t(S.ANe.RIGHT_RAIL_DEALS)||t(S.ANe.RIGHT_RAIL_PRODUCTS)}}))($S);var tp=s(83381),sp=s.n(tp),ap=s(41874),np=s(26756),rp=s(91335);function op(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ip=(0,Gl.defineMessages)({hide_advertisement:{id:"hide_advertisement",defaultMessage:"Hide Advertisement"}});class lp extends vl.Component{constructor(...e){super(...e),op(this,"state",{chevronHover:!1}),op(this,"handleChevronHover",(e=>{this.setState({chevronHover:e})})),op(this,"collapseRightRail",(()=>{this.setState({chevronHover:!1}),this.props.hideAdsTemporarily({i13nModel:{mKey:cc.JE.HIDE_RIGHT_RAIL_AD,sec:cc.nJ.RIGHT_RAIL,interactionType:cc.Rb.click}})})),op(this,"renderPane",(e=>{switch(e){case S._Ab.AttachmentUi:return vl.createElement(pc.cr,{import:"./attachment_ui",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,59738))},_moduleResolver:function(){return 59738}});case S._Ab.ContactsPane:return vl.createElement(pc.cr,{import:"../../../molecules/contacts_pane",key:e,bundleName:"contacts",_moduleLoader:function(){return s.e(421).then(s.bind(s,67588))},_moduleResolver:function(){return 67588}},vl.createElement(pc.nA,{loading:!0},vl.createElement(_S.Z,{includeHeaders:!0})));case S._Ab.CalendarPane:return vl.createElement(pc.cr,{bundleName:"epochCalendar",key:e,import:"../../../molecules/calendar_pane",_moduleLoader:function(){return Promise.all([s.e(567),s.e(309),s.e(13)]).then(s.bind(s,27479))},_moduleResolver:function(){return 27479}},vl.createElement(pc.nA,{loading:!0},vl.createElement(ap.default,{includeHeaders:!0})));case S._Ab.NotesPane:return vl.createElement(pc.cr,{bundleName:"notes",key:e,import:"../../../molecules/notes_pane",_moduleLoader:function(){return s.e(497).then(s.bind(s,48300))},_moduleResolver:function(){return 48300}},vl.createElement(pc.nA,{loading:!0},vl.createElement(rp.Z,{includeHeaders:!0})));case S._Ab.TodosPane:return vl.createElement(pc.cr,{bundleName:"todos",key:e,import:"../../../molecules/todos_pane",_moduleLoader:function(){return s.e(700).then(s.bind(s,50888))},_moduleResolver:function(){return 50888}},vl.createElement(pc.nA,{loading:!0},vl.createElement(np.Z,{includeHeaders:!0})));case S._Ab.ContactCard:return vl.createElement(pc.cr,{import:"../../../molecules/contact_card/right_rail_contact_card",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,84812))},_moduleResolver:function(){return 84812}});case S._Ab.SubscriptionCard:return vl.createElement(pc.cr,{import:"../../../molecules/subscription_list/right_rail_subscription_card",key:e,bundleName:"subscriptions",_moduleLoader:function(){return Promise.all([s.e(567),s.e(841)]).then(s.bind(s,3949))},_moduleResolver:function(){return 3949}});case S._Ab.MessageBrief:return vl.createElement(pc.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.PhotoBrief:return vl.createElement(pc.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.IMAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.DocumentBrief:return vl.createElement(pc.cr,{import:"../../../molecules/list/simple_list",key:e,listContentType:S.F6k.DOCUMENTS,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23520))},_moduleResolver:function(){return 23520}});case S._Ab.RightRailNativeAd:return vl.createElement(pc.cr,{import:"../../../molecules/ads/right_rail_native_ad",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,62664))},_moduleResolver:function(){return 62664}});case S._Ab.RelatedSearchesCard:return vl.createElement(pc.cr,{import:"../../../molecules/related_searches_card",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,32243))},_moduleResolver:function(){return 32243}});case S._Ab.TravelCardsGroup:return vl.createElement(pc.cr,{import:"../../../molecules/right_rail_travel_card/travel_cards_group",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,43401))},_moduleResolver:function(){return 43401}});case S._Ab.PlaAds:return vl.createElement(pc.cr,{import:"../../../molecules/pla_ads",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,21641))},_moduleResolver:function(){return 21641}});case S._Ab.RightPaneAds:return vl.createElement(ep,{key:e});case S._Ab.RetailerFilter:return vl.createElement(pc.cr,{import:"../../../molecules/deals/retailer_filter",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,66534))},_moduleResolver:function(){return 66534}});case S._Ab.SavedDeals:return vl.createElement(pc.cr,{import:"../../../molecules/right_rail_saved_deals",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,91247))},_moduleResolver:function(){return 91247}});case S._Ab.SubhubRecommendations:return vl.createElement(pc.cr,{import:"../../../molecules/subhub_recommendations",key:e,bundleName:"subscriptions",_moduleLoader:function(){return Promise.all([s.e(567),s.e(841)]).then(s.bind(s,45315))},_moduleResolver:function(){return 45315}},vl.createElement(pc.nA,{loading:!0}));case S._Ab.DealsRecommendControl:return vl.createElement(pc.cr,{import:"../../../molecules/deals_recommend_control/index",key:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,37816))},_moduleResolver:function(){return 37816}});default:return null}}))}checkForFullPaneContacts(){const{isRouteFullPaneContacts:e,closeContactsFullPaneGotoInbox:t,panes:s}=this.props;if(e&&-1!==s.indexOf(S._Ab.ContactsPane)){const e={mKey:cc.JE.CONTACTS_FULL_PANE_CLOSE_VIA_RR};t({i13nModel:{mKey:e,sec:cc.nJ.RIGHT_RAIL,interactionType:cc.Rb.click},uiContext:e})}}componentDidUpdate(){this.checkForFullPaneContacts()}componentDidMount(){this.checkForFullPaneContacts()}render(){const{hasAttachmentPreview:e,panes:t,showCommsProperties:s,windowDimensions:a}=this.props,{getCss:n,intl:r}=this.context,o=t.length&&t[0],i=o===S._Ab.SubhubRecommendations,l=n(sp(),{firstPaneName:o,hasAttachmentPreview:e}),{formatMessage:c}=r,d=t.map(this.renderPane),_=e||!d.length,E=-1===t.indexOf(S._Ab.RightPaneAds)||o===S._Ab.TravelCardsGroup,u=i?"panesContainerWithBgColor":"panesContainer";return vl.createElement("div",{"data-test-id":"mail-right-rail",className:l.rightRailContainer},E?null:vl.createElement("div",{className:this.state.chevronHover?l.activeHideAdsChevronWrapper:l.hideAdsChevronWrapper},vl.createElement("div",{onMouseEnter:()=>this.handleChevronHover(!0),onMouseLeave:()=>this.handleChevronHover(!1),title:c(ip.hide_advertisement),onClick:this.collapseRightRail,className:l.hideAdsChevron,"data-test-id":"right-rail-hidead-btn"},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,colorState:xl.ColorStates.INHERITED,size:xl.Sizes.XS,rotate:xl.Rotate.D90}))),vl.createElement("div",{className:l.rightRail},s?vl.createElement(dS,{key:"CommsProperties",verticalLayout:_,windowDimensions:a}):null,d.length?vl.createElement("div",{className:l[u]},d):null))}}op(lp,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func});const cp=(0,Fl.connect)((e=>{const{getRightRailPanes:t,isFeatureEnabled:s,getRoute:a}=(0,Oc.selectors)(e),n=a();return{panes:t(),isRouteFullPaneContacts:S.n8z.CONTACTS===n.name,showCommsProperties:s(S.ANe.SHOW_COMMS_PROPERTIES)}}),(e=>({hideAdsTemporarily:t=>e((0,gm.P0)(t)),closeContactsFullPaneGotoInbox:t=>e((0,Om.RT)(t))})))(lp);var dp=s(13556),_p=s(30982),Ep=s(18380),up=s(59629),mp=s.n(up),Sp=s(51507),pp=s.n(Sp);function Cp(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ap extends vl.Component{constructor(...e){super(...e),Cp(this,"getClassName",(()=>{const{isActive:e,highlight:t,whiteBackground:s,contextOfUse:a,viewsUnderInboxEnabled:n}=this.props,r=this.context.getTheme(),o=this.context.getThemeMode(),i=o===Kl.zg.MEDIUM||o===Kl.zg.DARK,l=this.context.getCss(pp(),{whiteBackground:s&&!t,highlightThemeCombo:`${t}_${r}`,highlightDarkPartnerThemeCombo:`${t&&("MEDIUM"===o||"DARK"===o)}_${r}`,contextOfUse:a,contextOfUse_isActive_themeMode:`${a}_${e}_${o}`,viewsUnderInbox:n,viewsUnderInboxDark:n&&i});return e?l.activeContainer:l.container}))}render(){const{value:e}=this.props,t=this.getClassName();return vl.createElement("span",{className:t,"data-test-id":this.props["data-test-id"]},e)}}Cp(Ap,"contextTypes",{getCss:yl().func,getTheme:yl().func,getThemeMode:yl().func}),Cp(Ap,"defaultProps",{whiteBackground:!1});const Tp=Ap;var Ip=s(94482),hp=s(69511),gp=s(44874);function Op(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Dp=(0,Gl.defineMessages)({accountSettingsMenu:{id:"accounts_settings_menu_aria_label",defaultMessage:"Account settings"},syncingMsg:{id:"syncing_indicator_icon_aria_label",defaultMessage:"Syncing"},notSyncingMsg:{id:"not_syncing_indicator_icon_aria_label",defaultMessage:"Not syncing"},notVerifiedMsg:{id:"account_item_verify_error",defaultMessage:"Not verified"},unreadCountTitle:{id:"unread_count_msg_title",defaultMessage:"{label} ({numUnread, plural, =0 {no unread messages} =1 {# unread message} other {# unread messages}})"}});class Rp extends vl.Component{constructor(...e){super(...e),Op(this,"state",{hoveredAccountId:null}),Op(this,"handleClick",((e,t)=>{this.props.onClick(t,e,{mKey:cc.JE.ACCOUNT_SWITCH,sec:cc.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Pa.getInteractionFromEvent)(t)})})),Op(this,"handleMouseOver",(e=>{this.setState({hoveredAccountId:e})})),Op(this,"handleMouseLeave",(()=>{this.setState({hoveredAccountId:null})})),Op(this,"handleGearIconClick",((e,t)=>{this.navigateToSettingsTab(e,t,{mKey:cc.JE.EDIT_IMAP_ACCOUNT,sec:cc.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Pa.getInteractionFromEvent)(t)})})),Op(this,"handleExpiredIconClick",((e,t)=>{let s=!1;const{id:a}=e;(0,v_.Cs)(e)&&(e.authType!==S.nxP.PLAIN&&(window.oAuthWindow=window.open("","authorizeWindow",`width=800, height=600, top=${screen.height-300}, left=${screen.width-400}`)),s=!0),this.navigateToSettingsTab(a,t,{mKey:cc.JE.FIX_IMAP_ACCOUNT,sec:cc.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Pa.getInteractionFromEvent)(t)},s)})),Op(this,"navigateToSettingsTab",((e,t,s,a=!1)=>{t.preventDefault(),t.stopPropagation(),this.context.navigateTo({route:(0,gc.Tx)({settingsGroupId:S.u5h.ACCOUNTS,accountId:e,openReauth:a}),i13nModel:s})})),Op(this,"updateContent",(e=>{e&&e.updatePosition()})),Op(this,"renderOffice365Cue",(()=>this.accountListRef?vl.createElement(Ql.yk,{popoverAnchor:this.accountListRef,isRTL:this.props.isRTL,align:ec.xM.CENTER,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],zAltitude:Fe.LSY.POPOVER.HIGH,ref:e=>{this.imapInPopover=e},borderRadius:ec.cM.LOW},vl.createElement(pc.cr,{import:"../molecules/office365_cue/index",onShow:()=>this.updateContent(this.imapInPopover),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,43600))},_moduleResolver:function(){return 43600}})):null))}render(){const{switchableAccounts:e,activeAccountId:t,toggleAccountsList:s,expiredAccounts:a,showOffice365Cue:n,localeBasedNumberFormatting:r}=this.props,o=this.context.getCss(mp()),{formatMessage:i,locale:l}=this.context.intl,c=this.context.getTheme(),d=e.map((e=>{const{status:n,type:o,createTime:d,accountVerified:_}=e,E=e.id===t,u=this.context.getCss(mp(),{[`theme-${S.b39.SPRING}`]:c===S.b39.SPRING}),m=e.defaultFolder,p=m.unread,C=r?(0,ds.F2)(l,p):(0,ds.gm)(p),A=e.description||e.email,T=("ltr"===(0,hp.getTextDirection)(A)?u.rtlIgnoreDirLTR:u.rtlIgnoreDirRTL)+" "+(E?u.activeText:u.text),I=(0,v_.hE)({status:n,type:o,createTime:d}),h=this.state.hoveredAccountId===e.id,g=a.find((t=>t.id===e.id));let O;return s||E?(O=g||!_?vl.createElement("span",{className:u.expiredIcon},vl.createElement(Hl.default,{kind:xl.Kinds.EXCLAMATION_ALT,size:xl.Sizes.XS,colorState:xl.ColorStates.WARNING_GRAD_RED,onClick:this.handleExpiredIconClick.bind(this,e),title:i(_?Dp.notSyncingMsg:Dp.notVerifiedMsg)})):I?vl.createElement("div",{className:u.statusIcon},vl.createElement(gp.ZP,{size:xl.Sizes.XS,title:i(Dp.syncingMsg)})):h?vl.createElement("span",{className:u.settingGear},vl.createElement(Hl.default,{onClick:this.handleGearIconClick.bind(this,e.id),"data-iskeynav":!0,paddingLess:!0,size:xl.Sizes.XXS,kind:xl.Kinds.SETTINGS,title:i(Dp.accountSettingsMenu),"aria-label":i(Dp.accountSettingsMenu),colorState:xl.ColorStates.INHERITED})):vl.createElement("span",{className:u.unreadCount},p>0?vl.createElement(Tp,{contextOfUse:"AccountSwitcher",value:C,"data-test-id":"displayed-count",isActive:E,whiteBackground:this.context.getThemeMode()!==Kl.zg.LIGHT}):null),vl.createElement(Ip.Z,{key:e.email,onMouseOver:this.handleMouseOver.bind(this,e.id),onMouseLeave:this.handleMouseLeave.bind(this,e.id)},vl.createElement("a",{"data-iskeynav":!0,"data-test-id":"account-list-item","data-test-account-email":e.email,"data-test-is-active":E,"data-test-unread-count":p,"data-test-is-expired":!!g,className:u.listItem,href:this.context.getUrlFromRoute({name:S.n8z.FOLDER,params:{fid:m.id}}),onClick:this.handleClick.bind(this,m.id),tabIndex:"-1",rel:"noopener"},vl.createElement("span",{className:T,title:((e,t)=>i(Dp.unreadCountTitle,{label:e,numUnread:t}))(A,p)},A),O))):null}));return vl.createElement("div",{"data-test-id":"account-list",ref:e=>{this.accountListRef=e}},n&&this.renderOffice365Cue(),vl.createElement("ul",{className:o.accountList},d))}}Op(Rp,"contextTypes",{executeAction:yl().func,navigateTo:yl().func,getUrlFromRoute:yl().func.isRequired,getCss:yl().func,getThemeMode:yl().func,intl:Gl.intlShape.isRequired,getTheme:yl().func});const Np=Rp;var Lp=s(93234),fp=s.n(Lp),Mp=s(39477),Pp=s(91033),bp=s.n(Pp),yp=s(82520),vp=s(37207),Fp=s(83588),Up=s(78333),kp=s.n(Up),wp=s(97843),Gp=s.n(wp);const Hp="close-button",Bp="header",xp=(0,Gl.defineMessages)({close_button:{id:"modal_bottom_buttons.close_button",defaultMessage:"Close button"}}),Vp=e=>{const{headerString:t,onCloseButtonClick:s}=e,a=(0,Hc.Z)(Gp()),{formatMessage:n}=(0,Fm.Y)();return vl.createElement("div",{className:a.headerContainer},vl.createElement("div",{className:a.closeButton,onClick:s,"data-test-id":Hp,tabIndex:0,role:"button",onKeyDown:e=>{switch(e.key){case S.R8U.ENTER:e.preventDefault(),e.stopPropagation(),s()}},"aria-label":n(xp.close_button)},vl.createElement(Bl.Z,{kind:xl.Kinds.CLOSE,size:xl.Sizes.XS,colorState:xl.ColorStates.BATCAVE_GRAY})),vl.createElement("div",{className:a.header,"data-test-id":Bp,tabIndex:0},vl.createElement(Gl.FormattedMessage,t)))};var Zp=s(32665),Wp=s(88944),Kp=s.n(Wp),zp=s(26766);const Yp=(0,Gl.defineMessages)({save:{id:"modal_bottom_buttons.save",defaultMessage:"Save"},cancel:{id:"modal_bottom_buttons.cancel",defaultMessage:"Cancel"},save_button:{id:"modal_bottom_buttons.save_button",defaultMessage:"Save button"},cancel_button:{id:"modal_bottom_buttons.cancel_button",defaultMessage:"Cancel button"}}),jp="save-button",qp="cancel-button",Xp=e=>{const{onSaveButtonClick:t,onCancelButtonClick:s,saveButtonDisabled:a,enableShadowBox:n=!0,saveButtonI13nModel:r={}}=e,o=(0,Hc.Z)(Kp(),{enableShadowBox:n}),{formatMessage:i}=(0,Fm.Y)();return vl.createElement("div",{className:o.container},vl.createElement(zp.ZP,{kind:zp.Fd.PRIMARY,onClick:()=>{t(),r&&$_.ZP.sendI13nModel({i13nModel:r})},overridingClass:o.saveButton,disabled:a,"data-test-id":jp,"aria-label":i(Yp.save_button)},vl.createElement(Gl.FormattedMessage,Yp.save)),vl.createElement(zp.ZP,{kind:zp.Fd.SECONDARY,onClick:s,overridingClass:o.cancelButton,"data-test-id":qp,"aria-label":i(Yp.cancel_button)},vl.createElement(Gl.FormattedMessage,Yp.cancel)))};var Qp=s(7837),Jp=s(30454),$p=s(15038),eC=s(45370),tC=s(56148);const sC="phone",aC="email",nC=(0,Gl.defineMessages)({new_contact:{id:"add_contact.new_contact",defaultMessage:"New contact"},first_name:{id:"add_contact.first_name",defaultMessage:"First name"},last_name:{id:"add_contact.last_name",defaultMessage:"Last name"},[`add_${aC}`]:{id:"add_contact.add_email",defaultMessage:"Add email"},[`add_${sC}`]:{id:"add_contact.add_phone",defaultMessage:"Add phone"},required_name_error:{id:"add_contact.required_name_error",defaultMessage:"At least one name is required"},[`${aC}_invalid_error`]:{id:"add_contact.email_invalid_error",defaultMessage:"Invalid email"},[`${sC}_invalid_error`]:{id:"add_contact.phone_invalid_error",defaultMessage:"Invalid phone number"},contact_input_section:{id:"modal_bottom_buttons.contact_input_section",defaultMessage:"Contact input section"},first_name_form_field:{id:"modal_bottom_buttons.first_name_form_field",defaultMessage:"First name form field"},last_name_form_field:{id:"modal_bottom_buttons.last_name_form_field",defaultMessage:"Last name form field"},[`type_of_${aC}_dropdown_menu`]:{id:"modal_bottom_buttons.type_of_email_dropdown_menu",defaultMessage:"Type of email dropdown menu"},[`type_of_${sC}_dropdown_menu`]:{id:"modal_bottom_buttons.type_of_phone_dropdown_menu",defaultMessage:"Type of phone number dropdown menu"},[`${aC}_form_field`]:{id:"modal_bottom_buttons.email_address_form_field",defaultMessage:"Email address form field"},[`${sC}_form_field`]:{id:"modal_bottom_buttons.phone_number_form_field",defaultMessage:"Phone number form field"},[`add_another_${aC}_button`]:{id:"modal_bottom_buttons.add_another_email_address_button",defaultMessage:"Add another email address button"},[`add_another_${sC}_button`]:{id:"modal_bottom_buttons.add_another_phone_number_button",defaultMessage:"Add another phone number button"}}),rC="header",oC="first-name-input",iC="last-name-input",lC="email-input",cC="add-email",dC="remove-email",_C="phone-input",EC="add-phone",uC="remove-phone",mC=e=>{const t=(0,Gm.I0)(),{onClose:s}=e,a=(0,Hc.Z)(kp()),{formatMessage:n}=(0,Fm.Y)(),[r,o]=(0,vl.useState)(""),[i,l]=(0,vl.useState)(""),[c,d]=(0,vl.useState)([{value:"",type:"email"}]),[_,E]=(0,vl.useState)([{value:"",type:"phone"}]),[u,m]=(0,vl.useState)(!1),[p,C]=(0,vl.useState)(!0),[A,T]=(0,vl.useState)(!0),[I,h]=(0,vl.useState)(!1);(0,vl.useMemo)((()=>{m(!!r||!!i)}),[r,i]),(0,vl.useMemo)((()=>{C(!c.length||c.filter((({value:e})=>!!e)).every((e=>(0,Pa.isValidEmail)(e.value))))}),[c]),(0,vl.useMemo)((()=>{T(!_.length||_.filter((({value:e})=>!!e)).every((e=>(0,eC.yf)(e.value))))}),[_]);const g=(e,t)=>{c[e]=t,d([...c])},O=()=>{d([...c,{value:"",type:"email"}])},D=e=>{c.splice(e,1),d([...c])},R=(e,t)=>{_[e]=t,E([..._])},N=()=>{E([..._,{value:"",type:"phone"}])},L=e=>{_.splice(e,1),E([..._])},f=e=>vl.createElement("div",{className:a.errorMessageText},vl.createElement(Gl.FormattedMessage,e)),M=I&&!u,P=!u||!p||!A,b={mKey:cc.JE.CONTACT_CREATE_SAVE,sec:cc.nJ.COMPOSE_MODAL};return vl.createElement("div",{className:a.container},vl.createElement(Vp,{headerString:nC.new_contact,onCloseButtonClick:s,"data-test-id":rC}),vl.createElement("div",{className:a.formContainer,"aria-label":n(nC.contact_input_section)},vl.createElement("div",{className:a.firstNameInputContainer,tabIndex:0,"aria-label":n(nC.first_name_form_field)},vl.createElement("div",{className:a.firstNameInputLabel},vl.createElement(Gl.FormattedMessage,nC.first_name)),vl.createElement(Zp.Z,{value:r,tabIndex:0,onChange:e=>{o(e)},"data-test-id":oC,focusOnMount:!0,onBlur:()=>{h(!0)}})),M&&f(nC.required_name_error),vl.createElement("div",{className:a.lastNameInputContainer,tabIndex:0,"aria-label":n(nC.last_name_form_field)},vl.createElement("div",{className:a.lastNameInputLabel},vl.createElement(Gl.FormattedMessage,nC.last_name)),vl.createElement(Zp.Z,{value:i,tabIndex:0,onChange:e=>{l(e)},"data-test-id":iC})),(()=>{const e=(e,t,s,r,o,i,l,c,d,_)=>vl.createElement(vl.Fragment,null,e.map(((o,c)=>{const{value:E,type:u}=o,m=!!E&&!t(E),S=e.length>1;return vl.createElement("div",{key:c,className:a.emailInputContainer},S&&vl.createElement("div",{className:a.removeButton},vl.createElement(tC.Z,{paddingLess:!0,onClick:()=>{s(c)},size:xl.Sizes.XS,kind:xl.Kinds.DELETE,colorStates:{normal:xl.ColorStates.INHERITED,hovered:xl.ColorStates.WARNING},tabIndex:0,"data-test-id":l})),vl.createElement(Jp.Z,{inline:!0,onChange:e=>{r(c,{value:E,type:e})},selected:u,tabIndex:0,"aria-label":n(nC[`type_of_${_}_dropdown_menu`])},Object.keys(i).map((e=>vl.createElement($p.Z,{key:e,value:e.toLocaleLowerCase()},i[e].ariaLabel.defaultMessage)))),vl.createElement(Zp.Z,{value:E,tabIndex:0,onChange:e=>{r(c,{value:e,type:u})},"data-test-id":d,"aria-label":n(nC[`${_}_form_field`])}),m&&f(nC[`${_}_invalid_error`]))})),vl.createElement("div",{className:a.addEmail,onClick:o,"data-test-id":c,tabIndex:0,role:"button",onKeyDown:e=>{switch(e.key){case S.R8U.ENTER:e.preventDefault(),e.stopPropagation(),o()}},"aria-label":n(nC[`add_another_${_}_button`])},vl.createElement(Bl.Z,{size:xl.Sizes.XS,kind:xl.Kinds.ADD,colorState:xl.ColorStates.NORMAL}),vl.createElement("div",{className:a.addEmailText},vl.createElement(Gl.FormattedMessage,nC[`add_${_}`]))));return vl.createElement(vl.Fragment,null,e(c,Pa.isValidEmail,D,g,O,Qp.qL,dC,cC,lC,aC),e(_,eC.yf,L,R,N,Qp.PR,uC,EC,_C,sC))})()),vl.createElement(Xp,{onSaveButtonClick:()=>{t((0,Om.gK)({oldContact:{},newContact:{firstName:r,lastName:i,emailsWithType:c.filter((({value:e})=>!!e)),phonesWithType:_.filter((({value:e})=>!!e)).map((({value:e,type:t})=>({number:e,type:t})))},openContactViewOnSuccess:!0})),s()},onCancelButtonClick:s,saveButtonDisabled:P,enableShadowBox:!0,saveButtonI13nModel:b}))};var SC=s(83655),pC=s.n(SC),CC=s(49124),AC=s(89506);const TC=(0,Gl.defineMessages)({add_note_title:{id:"compose_dropdown.add_note_title",defaultMessage:"New note"},add_note_save_button:{id:"compose_dropdown.add_note_save_button",defaultMessage:"Save"},add_note_cancel_button:{id:"compose_dropdown.add_note_cancel_button",defaultMessage:"Cancel"},new_note_summary:{id:"new_note_summary",defaultMessage:"New Note"},note_input_hint:{id:"note_input_hint",defaultMessage:"Note input form field"}}),IC="header",hC="text-area",gC=e=>{const t=(0,Hc.Z)(pC()),{onClose:s}=e,[a,n]=(0,vl.useState)(""),[r,o]=(0,vl.useState)(!1),i=(0,Gm.I0)(),{formatMessage:l}=(0,Fm.Y)();(0,vl.useEffect)((()=>{o(!a)}),[a]);const c={mKey:cc.JE.NOTE_CREATE,sec:cc.nJ.COMPOSE_MODAL};return vl.createElement("div",{className:t.container},vl.createElement(Vp,{headerString:TC.add_note_title,onCloseButtonClick:s,"data-test-id":IC}),vl.createElement("div",null,vl.createElement("textarea",{className:t.textarea,id:"todo_form.description",tabIndex:0,value:a,onChange:e=>{n(null==e?void 0:e.target.value)},autoComplete:"off","data-test-id":hC,"aria-label":l(TC.note_input_hint)})),vl.createElement(Xp,{onSaveButtonClick:()=>{var e;i((0,xm.Od)({journal:{summary:l(TC.new_note_summary),description:a,previewText:null===(e=(0,CC.Vx)(a))||void 0===e?void 0:e.substring(0,100),folderId:AC.ly},isRichTextMode:!0,i13nModel:{mKey:cc.JE.NOTE_CREATE,sec:cc.nJ.NOTES_PANE,interactionType:(0,Pa.getInteractionFromEvent)(event)},openNoteViewOnSuccess:!1})),s()},onCancelButtonClick:s,saveButtonDisabled:r,enableShadowBox:!1,saveButtonI13nModel:c}))};var OC=s(68584),DC=s.n(OC),RC=s(54754),NC=s(74427),LC=s(90844),fC=s(55636);const MC=(0,Gl.defineMessages)({title_label:{id:"title_label",defaultMessage:"Title"},accountDescription:{id:"account_description_placeholder",defaultMessage:"Description"},due_date:{id:"due_date",defaultMessage:"Due date"},add_due_date:{id:"add_due_date",defaultMessage:"Add a due date"},required_title_prompt:{id:"required_title_prompt",defaultMessage:"A title is required"},notification_label:{id:"notification_label",defaultMessage:"Notification"},add_todo_title:{id:"compose_dropdown.add_todo_title",defaultMessage:"New to-do"},title_hint:{id:"compose_dropdown.add_todo_title_hint",defaultMessage:"Add the title of your to-do here"},description_hint:{id:"compose_dropdown.add_todo_description_hint",defaultMessage:"Add any details for your to-do here"},due_date_hint:{id:"add_due_date",defaultMessage:"Add a due date"}}),PC=e=>{const t=new Date;return t.getHours()>=18?new Date(t.getFullYear(),t.getMonth(),(e=>{const t=new Date;return new Date(t.setDate(e.getDate()+1))})(t).getDate(),parseInt(e.substring(0,2),10),parseInt(e.substring(3),10)):new Date(t.getFullYear(),t.getMonth(),t.getDate(),parseInt(e.substring(0,2),10),parseInt(e.substring(3),10))},bC="header",yC="date-add-button",vC="date-picker",FC="title",UC="description",kC="due-date",wC="form",GC="reminder",HC=e=>{const{onClose:t}=e,s=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getEnvironmentSelectors().getTimeZoneName())),a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.MAIL_TODO_NOTIFICATIONS))),{formatMessage:n}=(0,Fm.Y)(),r=(0,Gm.I0)(),o=(0,Hc.Z)(DC()),i=(0,NC.Yj)(new Date),l=PC(i),[c,d]=(0,vl.useState)(""),[_,E]=(0,vl.useState)(""),[u,m]=(0,vl.useState)(!1),[p,C]=(0,vl.useState)(l),[A,T]=(0,vl.useState)(!1),[I,h]=(0,vl.useState)(!1),[g,O]=(0,vl.useState)(!1),[D,R]=(0,vl.useState)({showAlert:!0,offset:"-PT5M"}),N=(0,vl.useCallback)((e=>{e&&(null==e||e.focus())}),[]),L=(0,vl.useRef)(null);(0,vl.useMemo)((()=>{O(c.length>150||_.length>150||u&&p<new Date||(0,fC.Wq)(c))}),[_,p,u,c]),(0,vl.useMemo)((()=>{var e;null===(e=L.current)||void 0===e||e.focus()}),[]);const f=()=>vl.createElement("div",null,u?vl.createElement("div",null,vl.createElement("div",{className:o.due_date_label},n(MC.due_date)),vl.createElement("div",null,vl.createElement("div",{className:o.date_field,"data-test-id":vC},vl.createElement(Bl.Z,{kind:xl.Kinds.ATTACH_CAL,size:xl.Sizes.S,colorState:xl.ColorStates.FIRST_LEVEL_GRAY}),vl.createElement("label",{hidden:!0,htmlFor:"todo_form.due_date_picker"},n(MC.add_due_date)),vl.createElement("div",{className:o.date_range_picker_container,"data-test-id":GC},vl.createElement(RC.Z,{zAltitude:Fe.LSY.CURSOR,classNames:{datepickerInput:o.date_field_day_picker},onStartEdit:Pa.NOOP,onDoneEdit:Pa.NOOP,onChange:e=>{const t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),p.getHours(),p.getMinutes());C(t)},onInvalidDateEntered:Pa.NOOP,onKeyPress:Pa.NOOP,value:p,showIcon:!1,useISODateFormat:!0}),vl.createElement(NC.ZP,{date:p,defaultTime:(0,NC.V8)(p),onChange:e=>{C(e)},classNames:{selectLabel:o.date_field_time_picker,optionsContainer:o.optionsContainer}}),vl.createElement("span",{className:o.delete_icon,onClick:()=>{m(!u),h(!1)},onKeyDown:e=>{e.key===S.R8U.ENTER&&(m(!u),h(!1))},tabIndex:0},vl.createElement(Bl.Z,{kind:xl.Kinds.DELETE,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED})))),I&&a?vl.createElement("div",{className:o.reminder_label},n(MC.notification_label)):a?vl.createElement("div",{"data-test-id":GC,className:o.reminder_add,onClick:()=>h(!0),onKeyDown:e=>{e.key===S.R8U.ENTER&&h(!0)},tabIndex:0,ref:L},vl.createElement(Bl.Z,{kind:xl.Kinds.ADD,size:xl.Sizes.S,colorState:xl.ColorStates.INHERITED}),vl.createElement("span",{className:o.toggle_label},n(MC.notification_label))):null,I&&(a?vl.createElement("div",{className:o.reminder_select,id:"todo_form.reminder_picker"},vl.createElement(Bl.Z,{kind:xl.Kinds.BELL_OUTLINE,size:xl.Sizes.XS,colorState:xl.ColorStates.FIRST_LEVEL_GRAY}),vl.createElement(LC.Z,{reminder:D,onChange:e=>{R(e)},classNames:{selectLabel:o.reminder_picker}}),vl.createElement("span",{id:"todo_form.reminder_delete",className:o.delete_icon,onClick:()=>{h(!1)},onKeyDown:e=>{e.key===S.R8U.ENTER&&h(!1)},tabIndex:0},vl.createElement(Bl.Z,{kind:xl.Kinds.DELETE,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}))):null))):vl.createElement("div",{"data-test-id":kC,className:o.due_date_container,onClick:()=>m(!0),title:n(MC.add_due_date),onKeyDown:e=>{e.key===S.R8U.ENTER&&m(!0)},tabIndex:0,ref:N,"aria-label":n(MC.due_date_hint),role:"button"},vl.createElement(Bl.Z,{id:"todo_form.due_date_add_button",kind:xl.Kinds.ADD,size:xl.Sizes.S,colorState:xl.ColorStates.INHERITED,"data-test-id":yC}),vl.createElement("span",{className:o.toggle_label},n(MC.due_date)))),M={mKey:cc.JE.TODO_CREATE,sec:cc.nJ.COMPOSE_MODAL,actionData:{entryPoint:"compose_modal",hasDueDate:u,hasReminder:I,hasDesc:!!_}};return vl.createElement("div",{className:o.container},vl.createElement(Vp,{headerString:MC.add_todo_title,onCloseButtonClick:t,"data-test-id":bC}),vl.createElement("form",{"data-test-id":wC,className:o.formContainer,onSubmit:e=>e.preventDefault()},vl.createElement("div",{"data-test-id":FC},vl.createElement("label",{className:o.title_label,htmlFor:"todo_form.title"},n(MC.title_label)),vl.createElement(Zp.Z,{className:o.title_field_input,id:"todo_form.title",type:"text",tabIndex:0,value:c,onChange:e=>{d(e)},autoComplete:"off",onBlur:()=>{A||T(!0)},maxLength:150,focusOnMount:!0,"aria-label":n(MC.title_hint)}),A&&0===c.trim().length?vl.createElement("div",{className:o.required_title_prompt,id:"todo_form.empty_title_prompt"},n(MC.required_title_prompt)):null),vl.createElement("div",{"data-test-id":UC},vl.createElement("label",{className:o.description_label},n(MC.accountDescription)),vl.createElement("textarea",{className:o.description_field_textarea,id:"todo_form.description",tabIndex:0,value:_,onChange:e=>{E(null==e?void 0:e.target.value)},autoComplete:"off",maxLength:150,"aria-label":n(MC.description_hint)})),f()),vl.createElement(Xp,{onSaveButtonClick:()=>{r((0,km.wS)({todo:{folderId:"131",priority:"0",status:pt.wq.NEEDS_ACTION,summary:c,description:_,tzId:s,...u&&{dueOn:p},...I&&{reminders:{reminder:[D]}}},i13nModel:{mKey:cc.JE.TODO_CREATE,sec:cc.nJ.TODOS_PANE,actionData:{entryPoint:"",hasDueDate:u,hasReminder:I,hasDesc:!!_,...u&&{hasUserSetDueDate:p.getTime()!==l.getTime()}},interactionType:cc.Rb.click},openTodoViewOnSuccess:!0})),t()},onCancelButtonClick:t,saveButtonDisabled:g,enableShadowBox:!0,saveButtonI13nModel:M}))};var BC=s(34402),xC=s.n(BC);const VC=(0,Gl.defineMessages)({new_event:{id:"add_event.new_event",defaultMessage:"New event"}}),ZC="header",WC=e=>{const{onClose:t,onSave:a}=e,n=(0,Hc.Z)(xC());return vl.createElement("div",{className:n.container},vl.createElement(Vp,{headerString:VC.new_event,onCloseButtonClick:t,"data-test-id":ZC}),vl.createElement(pc.cr,{bundleName:"epochCalendar",import:"../../molecules/calendar_pane",isAddEventModal:!0,onModalCancelClick:t,onModalSaveClick:a,_moduleLoader:function(){return Promise.all([s.e(567),s.e(309),s.e(13)]).then(s.bind(s,27479))},_moduleResolver:function(){return 27479}}))},KC=(0,Gl.defineMessages)({add_todo:{id:"compose_dropdown.add_todo",defaultMessage:"Add to-do"},add_contact:{id:"compose_dropdown.add_contact",defaultMessage:"Add contact"},add_event:{id:"compose_dropdown.add_event",defaultMessage:"Add event"},add_note:{id:"compose_dropdown.add_note",defaultMessage:"Add note"}});var zC;!function(e){e.CLOSED="CLOSED",e.ADD_CONTACT="ADD_CONTACT",e.ADD_NOTE="ADD_NOTE",e.ADD_TODO="ADD_TODO",e.ADD_EVENT="ADD_EVENT"}(zC||(zC={}));const YC=function(e){const t=(0,Hc.Z)(bp()),s=(0,Gm.I0)(),[a,n]=(0,vl.useState)(!1),[r,o]=(0,vl.useState)(!1),[i,l]=(0,vl.useState)(!1),[c,d]=(0,vl.useState)(!1),[_,E]=(0,vl.useState)(zC.CLOSED),{changeToFocusColor:u}=e,m=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getNotesSelectors().getNoteNewTabStatus())),p=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getSetting(S.Zrf.NOTEPAD_URL))),C=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getLeftNavWidth())),A=C?C-31:160;(0,vl.useEffect)((()=>{m===AC.LJ.OPEN&&((0,wE.x)(p),s((0,xm.hI)({})))}));const T=()=>{E(zC.CLOSED)},I=e=>{$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.COMPOSE_BUTTON_MULTI,sec:cc.nJ.LEFTRAIL_COMPOSE_DROPDOWN,actionData:{action:e}}})};return vl.createElement(vl.Fragment,null,vl.createElement(yp.OI,null,vl.createElement(yp.tW,null,vl.createElement("div",{className:t.iconWrapper,"data-test-id":"dropdownButton"},vl.createElement(Hl.default,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XS,rotate:xl.Rotate.D180,colorState:xl.ColorStates.WHITE,"data-iskeynav":!0,paddingLess:!0,title:"Compose Dropdown",tabIndex:0}))),vl.createElement(yp.yk,{triggerOn:ec.K2.CLICK,align:ec.xM.END,zAltitude:Fe.LSY.POPOVER.LOW,isArrowVisible:!1,onShow:()=>{u(!0),$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.COMPOSE_BUTTON_MULTI,sec:cc.nJ.LEFTRAIL_COMPOSE_DROPDOWN}})},onHide:()=>(n(!1),o(!1),l(!1),d(!1),void u(!1))},vl.createElement("div",{className:t.popoverListWrapper,"data-test-id":"popoverListWrapper",style:{width:`${A}px`}},vl.createElement(ac.Z,{focusOnMount:!0},[{option:"add_event",iconType:xl.Kinds.CALENDAR,onMouseMoveFunc:n,isHovered:a,onClick:()=>{E(zC.ADD_EVENT)}},{option:"add_todo",iconType:xl.Kinds.CAL_ACCEPT,onMouseMoveFunc:o,isHovered:r,onClick:()=>{E(zC.ADD_TODO),I("add_todo")}},{option:"add_contact",iconType:xl.Kinds.CONTACT_CARD,onMouseMoveFunc:l,isHovered:i,onClick:()=>{E(zC.ADD_CONTACT),I("add_contact")}},{option:"add_note",iconType:xl.Kinds.NOTEPAD,onMouseMoveFunc:d,isHovered:c,onClick:()=>{E(zC.ADD_NOTE),I("add_note")}}].map((e=>vl.createElement(Ip.Z,{key:e.option},vl.createElement(tc.Z,{kind:sc.F.MENUITEM,onMouseEnter:()=>e.onMouseMoveFunc(!0),onMouseLeave:()=>e.onMouseMoveFunc(!1),onClick:e.onClick,tabIndex:0},vl.createElement("span",{className:t.icon},vl.createElement(Bl.Z,{size:xl.Sizes.XS,kind:e.iconType,colorState:e.isHovered?xl.ColorStates.INHERITED:xl.ColorStates.FIRST_LEVEL_GRAY})),vl.createElement(Gl.FormattedMessage,KC[e.option]))))))))),_===zC.CLOSED?null:vl.createElement(vp.Z,{onClose:T,onOuterClick:T,kind:Fp.F.DARK,"data-test-id":"dynamic-compose-modal"},_===zC.ADD_CONTACT&&vl.createElement(mC,{onClose:T}),_===zC.ADD_NOTE&&vl.createElement(gC,{onClose:T}),_===zC.ADD_TODO&&vl.createElement(HC,{onClose:T}),_===zC.ADD_EVENT&&vl.createElement(WC,{onClose:T,onSave:()=>{var e;T(),s({...e,type:$c.OPEN_CALENDAR_PANE_REQUESTED})}})))},jC=(0,Gl.defineMessages)({compose:{id:"compose_button.compose",defaultMessage:"Compose"}}),qC=["n"],XC=(0,Fl.connect)((e=>{const{canOpenNewComposeSession:t,isFeatureEnabled:s}=(0,Oc.selectors)(e);return{canOpenNewComposeSession:t,isDisabled:s(S.ANe.COMPOSE_FORMAT_CUE),isComposeDropdownEnabled:s(S.ANe.COMPOSE_DROPDOWN)}}),(e=>({onNavigateToCompose:t=>e((0,zl.Hg)(t))})))((({appRootPath:e="/d",isDisabled:t,onNavigateToCompose:s,canOpenNewComposeSession:a,isComposeDropdownEnabled:n})=>{const r=(0,vl.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),t||!a())return!1;const n={mKey:cc.JE.COMPOSE_BUTTON,sec:cc.nJ.LEFTRAIL_COMPOSE,mKeyGroup:cc.rO.composeMsg,interaction_type:(0,Pa.getInteractionFromEvent)(e)};s({i13nModel:n})}),[t,a,s]),o=e=>{e.preventDefault();const t=e.dataTransfer;Array.from(t&&t.types||[]).some((e=>"Files"===e))&&s({files:Array.from(t.files)})},i=e=>{e.preventDefault()};(0,Mp.z)(qC,r);const{formatMessage:l}=(0,Fm.Y)(),c=l(jC.compose),d=(0,Hc.Z)(fp(),{disabledButton:t}),[_,E]=(0,vl.useState)(!1);return n?vl.createElement("div",{className:d.composeGroup},vl.createElement("div",{className:d.composeButton},vl.createElement("a",{"data-iskeynav":!0,role:"button",rel:"noopener","aria-label":c,onDrop:o,onClick:r,onDragOver:i,onDragEnter:i,className:d.linkWithDropdown,"aria-disabled":!!t,"data-test-id":"compose-button",href:`${e}/compose/`},c)),vl.createElement("div",{className:_?d.composeDropdownFocused:d.composeDropdown,"data-test-id":"compose-dropdown"},vl.createElement(YC,{changeToFocusColor:E}))):vl.createElement("a",{"data-iskeynav":!0,role:"button",rel:"noopener","aria-label":c,onDrop:o,onClick:r,onDragOver:i,onDragEnter:i,className:d.link,"aria-disabled":!!t,"data-test-id":"compose-button",href:`${e}/compose/`},c)}));var QC=s(91869),JC=s(13035),$C=s.n(JC);function eA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const tA=(0,Gl.defineMessages)({switcherDividerTitle:{id:"switcher_divider.title",defaultMessage:"Expand or collapse the account list"}});class sA extends vl.Component{render(){const e=this.context.getCss($C()),{formatMessage:t}=this.context.intl;return vl.createElement("div",{className:e.divider,onClick:this.props.onClick,title:t(tA.switcherDividerTitle),"aria-label":t(tA.switcherDividerTitle)},vl.createElement("button",{className:e.moreButton,"data-iskeynav":!0,tabIndex:"-1"}),vl.createElement(Bl.Z,{kind:xl.Kinds.MORE,colorState:xl.ColorStates.INHERITED,className:e.moreIcon}))}}eA(sA,"defaultProps",{onClick:()=>{}}),eA(sA,"contextTypes",{getCss:yl().func,intl:Gl.intlShape.isRequired});const aA=sA;var nA=s(78137),rA=s(3176),oA=s(68537),iA=s.n(oA),lA=s(53373);function cA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const dA=(0,Gl.defineMessages)({folders_label:{id:"folders_label",defaultMessage:"Folders"},click_to_show_folders_title:{id:"folder_list.click_to_show_folders_title",defaultMessage:"Click here to Show the Folders"},click_to_hide_folders_title:{id:"folder_list.click_to_hide_folders_title",defaultMessage:"Click here to Hide the Folders"}});class _A extends vl.Component{constructor(...e){super(...e),cA(this,"state",{expanded:this.props.showCustomFolders}),cA(this,"expand",(()=>{this.state.expanded||this.toggle()})),cA(this,"collapse",(()=>{this.state.expanded&&this.toggle()})),cA(this,"toggle",(()=>{const e=this.state.expanded;this.props.onToggleCustomFolders(!e),this.setState({expanded:!e})})),cA(this,"handleClick",(e=>{e.stopPropagation(),e.preventDefault(),this.toggle()})),cA(this,"handleKeyDown",(e=>{switch(e.preventDefault(),e.key){case" ":case"Enter":this.toggle();break;case"ArrowLeft":this.collapse();break;case"ArrowRight":this.expand();break;default:return}})),cA(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.expanded?e(dA.click_to_hide_folders_title):e(dA.click_to_show_folders_title)})),cA(this,"renderFolderCollapseDisplay",(()=>{const{viewsUnderInboxEnabled:e}=this.props,{getThemeMode:t}=this.context,s=t()===Kl.zg.DARK||t()===Kl.zg.MEDIUM,a=this.context.getCss(iA(),{indentation:lA.Vc,...(0,Kl.OW)(this.context,!0),viewsUnderInboxEnabled:e,viewsUnderInboxDark:e&&s}),n=this.state.expanded?vl.createElement(Gl.FormattedMessage,{id:"hide_label",defaultMessage:"Hide"}):vl.createElement(Gl.FormattedMessage,{id:"show_label",defaultMessage:"Show"}),r=this.state.expanded?vl.createElement("span",{className:a.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XMS,colorState:xl.ColorStates.INHERITED})):vl.createElement("span",{className:a.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XMS,rotate:xl.Rotate.D180,colorState:xl.ColorStates.INHERITED}));return e?r:n}))}render(){const{intl:{formatMessage:e},getThemeMode:t}=this.context,{viewsUnderInboxEnabled:s}=this.props,a=t()===Kl.zg.DARK||t()===Kl.zg.MEDIUM,n=this.context.getCss(iA(),{indentation:lA.Vc,...(0,Kl.OW)(this.context,!0),viewsUnderInboxEnabled:s,viewsUnderInboxDark:s&&a});return vl.createElement("div",null,vl.createElement("div",{"data-test-id":"toggle-folder-tree","data-iskeynav":!0,onKeyDown:this.handleKeyDown,className:n.folderContainer,onClick:this.handleClick},vl.createElement("span",{className:n.toggleFolderTreeHeading,"data-test-id":"toggle-folder-tree-heading"},e(dA.folders_label)),vl.createElement("span",{"data-test-id":"toggle-folder-tree-label",className:n.toggleFolderTree,title:this.getTitleText(),"aria-label":this.getTitleText()},this.renderFolderCollapseDisplay())),this.props.children&&this.state.expanded?vl.createElement("ul",{className:n.folderTree,"data-test-id":"custom-folder-list"},vl.createElement("li",{className:s?n.folderTreeViewsUnderInbox:""},this.props.children)):null)}}cA(_A,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func,getThemeMode:yl().func,getTheme:yl().func});const EA=_A;var uA=s(58073),mA=s.n(uA),SA=s(78603),pA=s(26208),CA=s(40918),AA=s(42981),TA=s.n(AA);function IA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const hA=ic()(TA()),gA={maxWidth:"230px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},OA=(0,Gl.defineMessages)({mark_folder_read:{id:"mark_folder_read",defaultMessage:"Mark emails as read"},archive_inbox_messages:{id:"archive_inbox_messages",defaultMessage:"Clean your Inbox"},archive_folder_messages:{id:"archive_folder_messages",defaultMessage:"Archive all emails"},delete_folder_messages:{id:"delete_folder_messages",defaultMessage:"Delete all emails"},rename_folder:{id:"rename_folder",defaultMessage:"Rename folder"},move_folder:{id:"move_folder",defaultMessage:"Move folder"},delete_folder:{id:"delete_folder",defaultMessage:"Delete folder"},create_subfolder:{id:"create_subfolder",defaultMessage:"Create subfolder"}});class DA extends vl.Component{constructor(...e){super(...e),IA(this,"handleDeleteClick",(e=>{e.preventDefault();const t={interactionType:(0,Pa.getInteractionFromEvent)(e),actionData:{depth:this.props.depth}};this.props.onDelete({folder:this.props.folder,i13nModel:t,hasSubFolder:this.props.hasChildren})})),IA(this,"handleRenameClick",(e=>{e.preventDefault(),this.props.onRename()})),IA(this,"handleMoveClick",(e=>{e.preventDefault(),this.props.onMove()})),IA(this,"handleSubfolderClick",(e=>{e.preventDefault(),this.props.onSubfolderCreate()})),IA(this,"handleMarkReadClick",(e=>{e.preventDefault();const t={interactionType:(0,Pa.getInteractionFromEvent)(e),actionData:{numMsg:this.props.folder.unread}};this.props.onMarkRead({folder:this.props.folder,i13nModel:t})})),IA(this,"handleArchiveClick",(e=>{e.preventDefault(),this.props.onArchive(this.props.folder)})),IA(this,"handleClearClick",(e=>{e.preventDefault(),this.props.onClear(this.props.folder)})),IA(this,"getMarkAsReadMenuItem",(e=>{const t=0===this.props.folder.total||0===this.props.folder.unread,{formatMessage:s}=this.context.intl;return vl.createElement(pA.Z,{key:e,name:"mark_folder_read",disabled:t,onClick:this.handleMarkReadClick},vl.createElement("div",{style:gA,title:s(OA.mark_folder_read)},s(OA.mark_folder_read)))})),IA(this,"getArchiveMenuItem",(e=>{const t=this.props.folder.type,s=0===this.props.folder.total,{formatMessage:a}=this.context.intl;return vl.createElement(pA.Z,{key:e,name:"archive_folder_messages",disabled:s,onClick:this.handleArchiveClick},t===S.Sck.INBOX?vl.createElement("div",{style:gA,title:a(OA.archive_inbox_messages)},a(OA.archive_inbox_messages)):vl.createElement("div",{style:gA,title:a(OA.archive_folder_messages)},a(OA.archive_folder_messages)))})),IA(this,"getDeleteMenuItem",(e=>{const t=0===this.props.folder.total,{formatMessage:s}=this.context.intl,a=s(OA.delete_folder_messages);return vl.createElement(pA.Z,{key:e,name:"delete_folder_messages",disabled:t,onClick:this.handleClearClick},vl.createElement("div",{style:gA,title:a},a))})),IA(this,"getRenameFolderMenuItem",(e=>{const t=this.props.hasChildren,{formatMessage:s}=this.context.intl;return vl.createElement(pA.Z,{key:e,name:"rename_folder",disabled:t,onClick:this.handleRenameClick},vl.createElement("div",{style:gA,title:s(OA.rename_folder)},s(OA.rename_folder)))})),IA(this,"getMoveFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl,s=this.props.hasChildren;return vl.createElement(pA.Z,{key:e,name:"move_folder",disabled:s,onClick:this.handleMoveClick},vl.createElement("div",{style:gA,title:t(OA.move_folder)},t(OA.move_folder)))})),IA(this,"getDeleteFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl;return vl.createElement(pA.Z,{key:e,name:"delete_folder",onClick:this.handleDeleteClick},vl.createElement("div",{style:gA,title:t(OA.delete_folder)},t(OA.delete_folder)))})),IA(this,"getCreateFolderMenuItem",(e=>{const{formatMessage:t}=this.context.intl;return vl.createElement(pA.Z,{key:e,name:"create_subfolder",onClick:this.handleSubfolderClick,"data-test-id":"create-subfolder"},vl.createElement("div",{style:gA,title:t(OA.create_subfolder)},t(OA.create_subfolder)))})),IA(this,"getSeparatorItem",(e=>vl.createElement(Ip.Z,{key:e,className:hA.separator}))),IA(this,"renderMenuItems",(()=>{const{menuItems:e}=this.props,t=[];return e.map(((e,s)=>{switch(e){case S.lsH.MARK_READ:t.push(this.getMarkAsReadMenuItem(s));break;case S.lsH.ARCHIVE:t.push(this.getArchiveMenuItem(s));break;case S.lsH.DELETE:t.push(this.getDeleteMenuItem(s));break;case S.lsH.RENAME_FOLDER:t.push(this.getRenameFolderMenuItem(s));break;case S.lsH.MOVE_FOLDER:this.props.isMoveFolderFeatureEnabled&&t.push(this.getMoveFolderMenuItem(s));break;case S.lsH.DELETE_FOLDER:t.push(this.getDeleteFolderMenuItem(s));break;case S.lsH.CREATE_FOLDER:t.push(this.getCreateFolderMenuItem(s));break;case S.lsH.SEPARATOR:t.push(this.getSeparatorItem(s))}})),t}))}render(){return vl.createElement("div",{className:hA.container},vl.createElement(ac.Z,{kind:CA.F.MENU,focusOnMount:!0,onShow:this.props.onShow,onEscape:this.props.onEscape},this.renderMenuItems()))}}IA(DA,"contextTypes",{intl:Gl.intlShape.isRequired}),IA(DA,"defaultProps",{onEscape:function(){}});const RA=(0,Fl.connect)(((e,{folder:t})=>{const{getMenuItemsForFolderById:s}=(0,Oc.selectors)(e);return{menuItems:s(t.id)}}))(DA);var NA=s(46669),LA=s(33954),fA=s(28978),MA=s(29911);const PA=(0,Fl.connect)(((e,{folderId:t})=>{const{getAction:s,getCurrentListId:a,getDefaultFolderIdForSelectedAccount:n,getFolderHighestModSeq:r,getFoldersSelectors:o,getListsSelectors:i,isFeatureEnabled:l,isListRefreshing:c}=(0,Oc.selectors)(e),{getFolderTotal:d,getFolderUidNext:_,getFolderUnreadCount:E,getPrimaryFolderTypeByFolderId:u}=o(),{doesListExist:m,getListIdsByFolderId:p}=i(),C=a();t||(t=n());const A=u(t);let T=S.DAQ.DOES_NOT_EXIST;return T=s().type===$c.SYNC_DATA&&(0,Rc.Fh)(C)===t||p(t).filter(m).some(c)?S.DAQ.LOADING:S.DAQ.LOADED,{highestModSeq:r(t),uidNext:_(t),recordState:T,isActive:(0,Rc.Fh)(C)===t,folderType:A,localeBasedNumberFormatting:l(S.ANe.SHOW_FORMATTED_UNREAD_COUNT),count:A===S.Sck.DRAFT?d(t):E(t)}}))((function(e){const{children:t,localeBasedNumberFormatting:s,recordState:a,folderType:n,count:r,isActive:o,uidNext:i,highestModSeq:l,viewsUnderInboxEnabled:c}=e,d=(0,Hc.Z)(mA(),{isActive:o}),{locale:_}=(0,Fm.Y)(),{themeMode:E}=(0,vl.useContext)(MA.Z),u=(0,fA.Z)(a),p=(0,fA.Z)(i),C=(0,fA.Z)(l),A=void 0!==p&&void 0!==C&&(p!==i||C!==l);if((0,m.Z)(![S.Sck.ARCHIVE,S.Sck.SENT,S.Sck.BULK,S.Sck.TRASH].includes(n),`FolderCountBluePill does not support the ${n} folder type. Counts are never displayed for this folder type.`),r<1)return null;let T="unreadWrapper";return[S.Sck.DRAFT].includes(n)||(a===S.DAQ.LOADING?T="unreadFadeOut":A&&a===S.DAQ.LOADED&&u===S.DAQ.LOADING&&(T="unreadFadeIn")),vl.createElement("span",{className:d[T],"data-name":T,"data-test-id":"displayed-count-wrapper"},vl.createElement(Tp,{value:s?(0,ds.F2)(_,r):(0,ds.gm)(r),"data-test-id":"displayed-count",isActive:o,highlight:A,whiteBackground:E!==S.zgU.LIGHT,contextOfUse:"Folder",viewsUnderInboxEnabled:c},t))}));var bA=s(99647);function yA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const vA=()=>{},FA=(0,Gl.defineMessages)({folder_tooltip:{id:"folder_tooltip",defaultMessage:"{folderName}{isSelected} - {totalNum, plural, =0 {{folderType, select, DRAFT {no drafts} other {no emails}}} =1 {{folderType, select, DRAFT {{totalNum, number} draft} other {{totalNum, number} email}}} =-1 {{folderType, select, DRAFT {} other {}}} other {{folderType, select, DRAFT {{totalNum, number} drafts} other {{totalNum, number} emails}}}} {unreadTooltip} {folderStateTooltip}"},unread_tooltip:{id:"unread_tooltip",defaultMessage:"{numUnreads, plural, other {(# unread)}}"},folder_is_open:{id:"folder_is_open",defaultMessage:"Folder is expanded. Collapse its contents using left arrow."},selected_folder:{id:"selected_folder",defaultMessage:", selected"},folder_is_closed:{id:"folder_is_closed",defaultMessage:"Folder is collapsed. Expand its contents using right arrow."},show_folders:{id:"show_folders",defaultMessage:"Click to show folders"},hide_folders:{id:"hide_folders",defaultMessage:"Click to hide folders"},rename_folder_input_aria_label:{id:"rename_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to rename folder]"},rename_folder_dismiss_input:{id:"rename_folder_dismiss_input",defaultMessage:"Dismiss input"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},empty_trash_tooltip:{id:"empty_trash_tooltip",defaultMessage:"Empty Trash folder"},empty_spam_tooltip:{id:"empty_spam_tooltip",defaultMessage:"Empty Spam folder"}});class UA extends vl.Component{constructor(...e){super(...e),yA(this,"state",{dragover:!1,showDropDownMenu:!1,showContextMenu:!1}),yA(this,"_getChevronTitle",(()=>{const{formatMessage:e}=this.context.intl;switch(this.props.chevron){case S.Tt3.LEFT:return e(FA.show_folders);case S.Tt3.DOWN:return e(FA.hide_folders);default:return""}})),yA(this,"getTitleText",(()=>{const{folder:e,isActive:t,formatFolderName:s}=this.props,{formatMessage:a}=this.context.intl;let n="",r="";const o=t?a(FA.selected_folder):null;switch(this.props.chevron){case S.Tt3.LEFT:r=a(FA.folder_is_closed);break;case S.Tt3.DOWN:r=a(FA.folder_is_open);break;default:r=""}switch(e.type){case S.Sck.DRAFT:case S.Sck.SENT:case S.Sck.BULK:case S.Sck.TRASH:case S.Sck.ARCHIVE:break;default:n=a(FA.unread_tooltip,{numUnreads:(0,ds.PC)(e)})}return a(FA.folder_tooltip,{folderName:s(e.id)(a),folderType:e.type,totalNum:e.total,unreadTooltip:n,folderStateTooltip:r,isSelected:o})})),yA(this,"_getI13nModel",(()=>{const{folder:e}=this.props;return{mKey:cc.JE[`${e.type}_FOLDER`],sec:S.tlB[e.type]?cc.nJ.LEFTRAIL_SYSFOLDER:cc.nJ.LEFTRAIL_USERFOLDER,actionData:{depth:this.props.depth},mKeyGroup:cc.rO.listing}})),yA(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.handleNavClick(e);break;case"ArrowLeft":case"ArrowRight":e.stopPropagation(),this.props.onToggleExpansion(e);break;default:return}})),yA(this,"handleNavClick",(e=>{if(e.preventDefault(),this.folderMenu&&(e.target===this.folderMenu||this.folderMenu.contains(e.target)))return;if((0,I.jU)()){new bA.t2({window}).setRefreshCountWithinSeconds(300)}const t=this._getI13nModel();t.interactionType=cc.Rb.view,this.props.onClick(e,this.props.folder.id,t)})),yA(this,"handleDoubleClick",(e=>{const{folder:t}=this.props;e.stopPropagation(),S.tlB[t.type]||this.props.hasChildren||this.props.onRenameStart()})),yA(this,"handleRenameStart",(()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},(()=>{this.props.onRenameStart(),this.props.handleMenuVisibility(!1)}))})),yA(this,"handleRename",(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:this.props.depth}},t),this.props.onRenameSubmit({originalFolderName:this.props.folder.name,newFolderName:e,folderId:this.props.folder.id,i13nModel:t})})),yA(this,"renderInput",(()=>{const{formatMessage:e}=this.context.intl,t=this.props.folder.parentFolderId||"";return vl.createElement(SA.ZP,{onInputSubmit:this.handleRename,onDismiss:this.props.onRenameCancel,initialFolderName:this.props.folder.name,ariaLabel:e(FA.rename_folder_input_aria_label),cancelTitle:e(FA.rename_folder_dismiss_input),activeAccountId:this.props.activeAccountId,parentFolderId:t})})),yA(this,"getIconColor",(()=>{const{viewsUnderInboxEnabled:e}=this.props,t=this.getThemeMode()===Kl.zg.LIGHT;return e&&t?this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.FIRST_LEVEL_GRAY:e&&!t?this.props.isActive?xl.ColorStates.INVERTED:xl.ColorStates.SMARTVIEW_DARK:this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.DISABLED})),yA(this,"getFujiIconKind",(e=>{var t;return null!==(t={INBOX:xl.Kinds.INBOX,BULK:xl.Kinds.SPAM,ARCHIVE:xl.Kinds.ARCHIVE,DRAFT:xl.Kinds.DRAFTS,TRASH:xl.Kinds.DELETE,SENT:xl.Kinds.SENT}[e])&&void 0!==t?t:""})),yA(this,"getIcon",((e,t,s,a,n,r)=>t?vl.createElement("span",{className:e.folderViewIcon},vl.createElement(Bl.Z,{kind:s,size:a,title:n,colorState:r})):null)),yA(this,"renderLabel",(e=>{const{folder:t,formatFolderName:s,chevron:a,viewsUnderInboxEnabled:n}=this.props,{intl:{formatMessage:r}}=this.context,o=this.props.chevron!==S.Tt3.NONE,i=n&&this.getThemeMode()===Kl.zg.LIGHT,l=n?xl.Sizes.XMS:xl.Sizes.XS;return vl.createElement("span",{className:e.labelContainer,title:this.getTitleText()},o?vl.createElement(tc.Z,{title:this._getChevronTitle(),onClick:this.props.onToggleExpansion,className:e.chevron,"data-test-id":"folder-expand-btn"},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,colorState:i?xl.ColorStates.FIRST_LEVEL_GRAY:xl.ColorStates.INHERITED,size:l,rotate:a===S.Tt3.DOWN?xl.Rotate.D180:xl.Rotate.D90})):null,vl.createElement("span",{"data-test-id":"folder-label",className:e.label},s(t.id)(r)))})),yA(this,"shouldHandleDrag",(()=>{const{folder:e,isSelectAll:t}=this.props;return!(-1!==[S.Sck.SENT,S.Sck.DRAFT].indexOf(e.type)||t&&e.type===S.Sck.BULK)})),yA(this,"handleDrop",(e=>{if(e.preventDefault(),!this.shouldHandleDrag())return;const t=e.dataTransfer.getData("text/list");let s;try{s=JSON.parse(t)}catch(l){return}const{listId:a,allItemsCount:n,doSelectAll:r}=s;if(!a)return;const o=this.props.folder.id,i=(r?NA.R:NA.Z)[LA.ZP.LIST].move;this.props.onFolderDrop(i,{destinationFolderId:o,listId:a,allItemsCount:n,i13nModel:{interactionType:(0,Pa.getInteractionFromEvent)(e),mKey:cc.JE.DRAG_DROP_MOVE,sec:cc.nJ.MSG_LIST,mKeyGroup:cc.rO.moveMsg}}),this.targets=[],this.setState({dragover:!1})})),yA(this,"handleDragEnter",(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.targets||(this.targets=[]),this.targets.push(e.currentTarget),1===this.targets.length&&this.setState({dragover:!0}))})),yA(this,"handleDragLeave",(e=>{e.preventDefault(),this.shouldHandleDrag()&&this.targets&&(this.targets.pop(),0===this.targets.length&&this.setState({dragover:!1}))})),yA(this,"handleDragOver",(e=>{e.preventDefault(),this.shouldHandleDrag()&&(this.state.dragover||this.setState({dragover:!0}))})),yA(this,"handleContextMenu",(e=>{if(e.preventDefault(),!this.folderRef)return;const t=this.folderRef.getBoundingClientRect();this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})})),yA(this,"shouldRenderTrashCanIcon",(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||!t||!e||-1===[S.Sck.TRASH,S.Sck.BULK].indexOf(a.type))})),yA(this,"handleEmptyFolder",(e=>{e.preventDefault(),this.props.folder.total>0&&this.props.onClear(this.props.folder)})),yA(this,"shouldRenderUnreadCount",(()=>{const{isHovered:e,showFolderMenu:t,isRefreshing:s,folder:a}=this.props;return!(s||[S.Sck.ARCHIVE,S.Sck.SENT,S.Sck.BULK,S.Sck.TRASH].includes(a.type)||(e||t)&&S.Sck.DRAFT!==a.type)})),yA(this,"handleMenuAnchorClick",(()=>{this.setState({showDropDownMenu:!this.state.showDropDownMenu})})),yA(this,"renderViewMoreDetailsIcon",(()=>{const{viewsUnderInboxEnabled:e}=this.props,{intl:{formatMessage:t}}=this.context,s=this.getThemeMode()===Kl.zg.LIGHT,a=vl.createElement(Hl.default,{onClick:this.handleMenuAnchorClick,kind:xl.Kinds.MORE,size:xl.Sizes.XMS,colorState:e&&s?xl.ColorStates.FIRST_LEVEL_GRAY:xl.ColorStates.INHERITED,title:t(FA.show_folder_menu),ariaLabel:t(FA.show_folder_menu),paddingLess:!0}),n=vl.createElement(Hl.default,{onClick:this.handleMenuAnchorClick,kind:xl.Kinds.INPUT_ARROW_DOWN,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED,title:t(FA.show_folder_menu),ariaLabel:t(FA.show_folder_menu),paddingLess:!0});return e?a:n})),yA(this,"renderFolderStateIcon",(e=>{const{isRefreshing:t,folder:s,isHovered:a,viewsUnderInboxEnabled:n}=this.props,{intl:{formatMessage:r}}=this.context;if(t)return vl.createElement("span",{className:e.loader},vl.createElement(zm.Z,{size:zm.u.S,"data-test-id":"folder-loading-indicator"}));if(this.shouldRenderUnreadCount())return vl.createElement(PA,{folderId:this.props.folder.id,viewsUnderInboxEnabled:n},this.state.showContextMenu&&this.contextMenuAnchor&&this.renderMenu());if(this.shouldRenderTrashCanIcon()){const t=s.type===S.Sck.TRASH?r(FA.empty_trash_tooltip):r(FA.empty_spam_tooltip);return vl.createElement("span",{className:e.trashIconWrapper,title:t},vl.createElement(Hl.default,{"data-test-id":"trashcan-icon",kind:xl.Kinds.DELETE,size:n?xl.Sizes.XMS:xl.Sizes.XXS,colorState:xl.ColorStates.INHERITED,onClick:this.handleEmptyFolder,title:t,ariaLabel:t}))}if(S.Sck.SENT===s.type)return null;const o=this.state.showDropDownMenu&&this.dropDownMenuAnchor||this.state.showContextMenu&&this.contextMenuAnchor;return a||o?vl.createElement("span",{className:e.folderMenu,ref:e=>this.folderMenu=e},vl.createElement("div",{className:e.folderMenuIcon,"data-test-id":"folder-menu-hook",ref:e=>{this.dropDownMenuAnchor=e}},!this.state.showContextMenu&&this.renderViewMoreDetailsIcon(),o&&this.renderMenu())):null})),yA(this,"handleMenuHide",(()=>{this.setState({showDropDownMenu:!1,showContextMenu:!1,contextMenuPosition:{x:0,y:0}},(()=>this.props.handleMenuVisibility(!1)))})),yA(this,"handleMenuShow",(()=>{this.props.handleMenuVisibility(!0)})),yA(this,"renderMenu",(()=>{const{showDropDownMenu:e}=this.state,t=e?ec.xM.CENTER:ec.xM.START,s=e?4*Fe.mg$:0,a=e?this.dropDownMenuAnchor:this.contextMenuAnchor;return vl.createElement(Ql.ZP,{permittedArrowDirections:[ec.Ji.UP,ec.Ji.DOWN],triggerOn:ec.K2.MOUNT,arrowSize:ec.Jk.XS,offset:s,align:t,overflowScroll:!1,onShow:this.handleMenuShow,onHide:this.handleMenuHide,popoverAnchor:a,isArrowVisible:e},vl.createElement(RA,{"data-test-id":"folder-menu",folder:this.props.folder,onDelete:this.props.onDelete,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,onMarkRead:this.props.onMarkRead,onArchive:this.props.onArchive,onClear:this.props.onClear,onShow:this.props.onFolderMenuShow,onRename:this.handleRenameStart,onMove:this.props.onMove,hasChildren:this.props.hasChildren,depth:this.props.depth,onEscape:this.handleMenuHide,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled}))})),yA(this,"getContainerClassName",(e=>{const{isActive:t}=this.props;return this.state.dragover?t?e.activeDragoverContainer:e.dragoverContainer:t?e.activeContainer:e.container})),yA(this,"handleMouseEnter",(()=>{this.props.handleHover(!0)})),yA(this,"handleMouseLeave",(()=>{this.props.handleHover(!1)})),yA(this,"getThemeMode",(()=>{const{getThemeMode:e}=this.context;return e()}))}componentWillUnmount(){this.targets=null}render(){const{folder:e,depth:t,isActive:s,showFolderMenu:a,sortOrder:n,viewsUnderInboxEnabled:r}=this.props,o=this.props.chevron!==S.Tt3.NONE,i=this.getFujiIconKind(null==e?void 0:e.type),{contextMenuPosition:l}=this.state;let c;const d=this.getIconColor(),_=!!i&&r;e.isSystem||(c=0===t?o?lA.yr:lA.p_:o?lA.Fn:lA.$n);const E=this.context.getCss(mA(),{indentation:c,indentationViewsUnderInbox:c&&r,showFolderMenu:a,isActive:s,viewsUnderInboxEnabled:r,viewsUnderInboxDark:r&&this.getThemeMode()!==Kl.zg.LIGHT});return this.props.renamingFolder?this.renderInput():vl.createElement("div",{className:this.getContainerClassName(E),"data-test-folder-container":e.name,"data-test-id":"folder-item-container",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onContextMenu:this.handleContextMenu,onClick:this.handleNavClick,onKeyDown:this.handleKeyDown,"data-iskeynav":!0,tabIndex:-1,ref:e=>{this.folderRef=e}},vl.createElement("span",{style:{position:"absolute",top:l?l.y+"px":0,left:l?l.x+"px":0},ref:e=>{this.contextMenuAnchor=e}}),vl.createElement("a",{href:this.context.getUrlFromRoute({name:S.n8z.FOLDER,params:{fid:(0,Rc.Rm)((0,Rc.Kw)(e.id,n))}}),className:s?E.activeNavContainer:E.navContainer,"data-test-folder-name":e.name,"data-test-id":"folder-list-item",onFocus:this.props.onFocus,onDoubleClick:this.handleDoubleClick,"aria-label":this.getTitleText(),"data-test-is-active":s,tabIndex:-1,rel:"noopener"},this.getIcon(E,_,i,xl.Sizes.XMS,this.getTitleText(),d,null==e?void 0:e.type),this.renderLabel(E),this.renderFolderStateIcon(E)))}}yA(UA,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func,getThemeMode:yl().func,getUrlFromRoute:yl().func.isRequired}),yA(UA,"defaultProps",{onClick:vA,onRenameStart:vA,onRenameSubmit:vA,onRenameCancel:vA,renamingFolder:!1,isActive:!1,showFolderMenu:!1,depth:0,hasChildren:!1});const kA=UA;var wA=s(41546),GA=s(63523),HA=s(67350),BA=s.n(HA);function xA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class VA extends vl.Component{constructor(...e){super(...e),xA(this,"state",{playAnimation:!1,playAnimationForDeals:!1}),xA(this,"getTitleText",(()=>{const{intl:{formatMessage:e}}=this.context,{isActive:t,type:s,total:a,unread:n,userNamespace:r}=this.props,o=s===S.K8C.NEWMAIL?n:a-n;return r===S.Tzw.AOL?s!==S.K8C.NEWMAIL&&s!==S.K8C.OLDMAIL||!t?e(Lc.Z[s],{count:o}):e(Lc.Z[`smart_view_selected_${s}`],{count:o}):e(t?Lc.Z[`smart_view_selected_${s}`]:Lc.Z[s])})),xA(this,"getFujiIconKind",(e=>{const{viewsUnderInboxEnabled:t}=this.props;switch(e){case"DOCUMENTS":return xl.Kinds.DOCUMENTS_S;case"PHOTOS":return xl.Kinds.TAB_IMAGES;case"TUTORIAL":return xl.Kinds.CAL_MAYBE;case"COUPONS":case"COUPON_EMAILS":return xl.Kinds.SCISSORS;case"STOREFRONT":return xl.Kinds.SHOPPING;case"RECEIPTS":return xl.Kinds.RECEIPTS;case"WALLET":return xl.Kinds.CARD;case"TRAVEL":return xl.Kinds.TRAVEL;case"SUBSCRIPTIONS":return xl.Kinds.SUBSCRIPTIONS;case"ATTACHMENTS":return xl.Kinds.ATTACHMENT;case"EMAILS_TO_MYSELF":return xl.Kinds.PERSON_ARROW_UTURN_LEFT;case"CONTACTS_FULL_PANE":return t?xl.Kinds.CONTACTS:xl.Kinds.CONTACT_CARD;case"STARRED":return t?xl.Kinds.BIG_STAR:"";case"UNREAD":return t?xl.Kinds.SOLID_CIRCLE:"";default:return""}})),xA(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),this.props.onClick(e,this.props.type);break;default:return}})),xA(this,"handleNavClick",((e=!1,t)=>{e&&this.handleEmailsToMyselfUpsellClose(),this.props.onClick(t,this.props.type)})),xA(this,"handleContextMenu",(e=>{e.preventDefault()})),xA(this,"handleHover",(e=>{this.props.handleHover(e)})),xA(this,"renderGuidedStarAnimation",((e,t)=>{const s=this.context.getThemeMode(),{STARRED:a,STARRED_DARK:n}=xl.ColorStates,{gifUrlLight:r,gifUrlDark:o}=t;return t.name===S.fi6.SLIDEUP?vl.createElement("div",{className:e.starAnimation},vl.createElement(Bl.Z,{kind:xl.Kinds.BIG_STAR,size:xl.Sizes.XXS,colorState:s===S.zgU.LIGHT?a:n})):t.name===S.fi6.GUIDEDSTAR?vl.createElement("img",{className:e.sparkleGuidedStarAnimation,src:(0,wA.A)(s===S.zgU.LIGHT?r:o),"data-test-id":s===S.zgU.LIGHT?"guided-stars-light":"guided-stars-dark"}):null})),xA(this,"renderLabel",(e=>{const{type:t}=this.props,s=this.context.intl.formatMessage(Lc.Z["smart_view_"+t]),a=vl.createElement("span",null,s);return vl.createElement("div",{className:e.labelContainer,title:this.getTitleText()},vl.createElement("span",{className:e.label},a))})),xA(this,"renderEmailsToMyselfLeftCue",(()=>vl.createElement(yp.yk,{popoverAnchor:this.anchorRef,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],zAltitude:Fe.LSY.POPOVER.HIGH,align:ec.xM.CENTER},vl.createElement(pc.cr,{cueName:S.ANe.EMAILS_TO_MYSELF_LEFT_CUE,import:"./emails_to_myself_left_cue",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,47911))},_moduleResolver:function(){return 47911}})))),xA(this,"handleEmailsToMyselfUpsellClose",(()=>{const{supressedUpsells:e,onUpsellClose:t}=this.props;t([...e,S.ANe.EMAILS_TO_MYSELF_UPSELL])})),xA(this,"getListId",(()=>{const{type:e,activeAccount:t,defaultFolderId:s}=this.props,a=e===S.K8C.OLDMAIL||e===S.K8C.NEWMAIL,n={accountIds:[t.id]};a&&(n.folders=[s]);const r=(0,GA.qt)(e,n);return(0,Rc.tr)((0,Rc.Ez)(r))})),xA(this,"getIconColor",(()=>{let e;const{viewsUnderInboxEnabled:t}=this.props,s=this.context.getThemeMode();return e=s!==S.zgU.LIGHT||t?s===S.zgU.LIGHT&&t?this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.FIRST_LEVEL_GRAY:this.props.isActive?xl.ColorStates.INVERTED:xl.ColorStates.SMARTVIEW_DARK:this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.DISABLED,e})),xA(this,"getIcon",((e,t,s,a,n,r)=>t?vl.createElement("span",{className:e.smartViewIcon+" "+e.rtlRawScaleX},vl.createElement(Bl.Z,{kind:s,size:a,title:n,colorState:r})):null))}UNSAFE_componentWillReceiveProps(e){"STARRED"===e.type&&e.guidedStarAnimation&&e.hasGuidedStarAnimation&&!this.state.playAnimation&&this.setState({playAnimation:!0},(()=>setTimeout((()=>{this.setState({playAnimation:!1})}),e.guidedStarAnimation.duration))),"COUPONS"===e.type&&e.guidedStarAnimation&&e.hasDealsStarAnimated&&!this.state.playAnimationForDeals&&this.setState({playAnimationForDeals:!0},(()=>setTimeout((()=>{this.setState({playAnimationForDeals:!1})}),e.guidedStarAnimation.duration)))}render(){const{type:e,isActive:t,guidedStarAnimation:s={},emailsToMyselfUpsellEnabled:a,emailsToMyselfLeftCueEnabled:n,emailsToMyselfMailPlusUpsellEnabled:r,viewsUnderInboxEnabled:o}=this.props,{name:i=""}=s,l=this.getFujiIconKind(e),c=this.getIconColor(),d=!!l,_=!d&&t,E=this.getListId(),{getThemeMode:u,intl:{formatMessage:m}}=this.context,p=o?xl.Sizes.XMS:xl.Sizes.XS,C=u()===S.zgU.DARK||u()===S.zgU.MEDIUM;let A,T={query:E},I=!1,h=!1;switch(e){case S.K8C.TUTORIAL:A=S.n8z.TUTORIAL;break;case S.K8C.SUBSCRIPTIONS:A=S.n8z.SUBSCRIPTION_LIST;break;case S.K8C.STOREFRONT:A=S.n8z.STOREFRONT;break;case S.K8C.WALLET:A=S.n8z.WALLET;break;case S.K8C.CONTACTS_FULL_PANE:A=S.n8z.CONTACTS;break;case S.K8C.RECEIPTS:case S.K8C.COUPONS:case S.K8C.COUPON_EMAILS:case S.K8C.TRAVEL:case S.K8C.NEWMAIL:case S.K8C.OLDMAIL:A=S.n8z.LIST,T={serializedListId:E};break;case S.K8C.EMAILS_TO_MYSELF:r?(A=S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL,T={}):(A=S.n8z.SEARCH,I=a,h=n);break;default:A=S.n8z.SEARCH}const g=this.context.getCss(BA(),{isActive:t,isActiveAndNoIcon:_,hasIcon:d,animation:i,showEmailsToMyselfUpsell:I,isActiveDefaultViews:!o&&t,viewsUnderInbox:o,isActiveviewsUnderInbox:o&&t,viewsUnderInboxDark:o&&C});return vl.createElement("a",{href:this.context.getUrlFromRoute({name:A,params:T}),ref:e=>this.anchorRef=e,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),className:g.container,"data-test-smartview-type":e,"data-test-id":"smartview-list-item",onClick:this.handleNavClick.bind(this,I),onContextMenu:this.handleContextMenu,onKeyDown:this.handleKeyDown,"aria-label":this.getTitleText(),"data-test-is-active":t,"data-iskeynav":!0,tabIndex:-1,rel:"noopener"},this.getIcon(g,d,l,p,this.getTitleText(),c,e),this.renderLabel(g),I&&vl.createElement("div",{className:g.cueLabelContainer,"data-test-id":"emails-to-myself-upsell"},vl.createElement("span",{className:g.cueLabel},m(Lc.Z.emails_to_myself_upsell_label))),h&&this.renderEmailsToMyselfLeftCue(),this.state.playAnimation?this.renderGuidedStarAnimation(g,s):null,this.state.playAnimationForDeals?this.renderGuidedStarAnimation(g,s):null,e===S.K8C.NEWMAIL&&vl.createElement(PA,null))}}xA(VA,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func,getThemeMode:yl().func,getUrlFromRoute:yl().func.isRequired}),xA(VA,"defaultProps",{onClick:()=>{},isActive:!1});const ZA=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,getSetting:s,getDefaultFolderIdForSelectedAccount:a,getFoldersSelectors:n,getEnvironmentSelectors:r}=(0,Oc.selectors)(e),{getFolderUnreadCount:o,getFolderTotal:i}=n(),l=a();return{hasDealsStarAnimated:t(S.Zrf.HAS_DEALS_STAR_ANIMATION),hasGuidedStarAnimation:t(S.Zrf.HAS_GUIDED_STAR_ANIMATION),guidedStarAnimation:s(S.Zrf.GUIDED_STAR_ANIMATION),emailsToMyselfUpsellEnabled:t(S.ANe.EMAILS_TO_MYSELF_UPSELL),emailsToMyselfLeftCueEnabled:t(S.ANe.EMAILS_TO_MYSELF_LEFT_CUE),emailsToMyselfMailPlusUpsellEnabled:t(S.ANe.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL),supressedUpsells:s(S.Zrf.SUPPRESSED_UPSELLS),defaultFolderId:l,total:i(l),unread:o(l),userNamespace:r().getUserNamespace()}}),(e=>({onUpsellClose:t=>e((0,_p.Dy)({name:S.Zrf.SUPPRESSED_UPSELLS,value:t,i13nModel:{mKey:cc.JE.EMAILS_TO_MYSELF_SMARTVIEW,sec:cc.nJ.LEFTRAIL_FOLDER}}))})))(VA);class WA extends vl.Component{render(){return vl.createElement(ZA,this.props)}}const KA=(0,Fl.connect)((function(e){const{getSelectedAccountId:t,getAccountById:s}=(0,Oc.selectors)(e);return{activeAccount:s(t())}}))(WA);var zA=s(23224),YA=s(38569),jA=s.n(YA);function qA(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const XA=(0,Gl.defineMessages)({search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},placeAtTopLevel:{id:"moveFolderDialog.place_at_top_level",defaultMessage:"Place at top level"}});class QA extends vl.Component{constructor(e,t){super(e),qA(this,"handleMenuShow",(()=>{this.selectedFolderId=null,this.setState({isFilterFocused:!0,isOpen:!0},(()=>{this.props.handleMenuVisibility(!0),setTimeout((()=>{this.focusSearch()}),0)}))})),qA(this,"handleMenuHide",(e=>{const t={filterString:"",isFilterActive:!1,isOpen:!1};e&&(this.selectedFolderId=e,t.selectedFolderId=e),this.setState(t,(()=>{this.state.selectedFolderId&&this.props.onClick(this.state.selectedFolderId),this.props.handleMenuVisibility(!1),this.focusSelect()}))})),qA(this,"focusSelect",(()=>{this.selectInput&&this.selectInput.focus()})),qA(this,"focusSearch",(()=>{this.searchInput&&this.searchInput.focus()})),qA(this,"handleMenuItemClick",((e,t)=>{t.preventDefault(),t.stopPropagation(),this.handleMenuHide(e)})),qA(this,"handleSearchKeyDown",(e=>{this.state.isFilterActive&&e.key===S.R8U.ENTER&&this.selectedFolderId&&this.handleMenuItemClick(this.selectedFolderId,e)})),qA(this,"handleSearchClear",(()=>{this.resetSelectedItem(),this.focusSearch()})),qA(this,"handleSearchChange",(e=>{this.resetSelectedItem(e.target.value)})),qA(this,"handleSearchFocus",(()=>{this.setState({isFilterActive:!0})})),qA(this,"handleSearchBlur",(e=>{(0,wl.findDOMNode)(this.foldersList).contains(e.relatedTarget)||this.handleMenuHide()})),qA(this,"handleKeyDown",(e=>{if(this.menuContainer.contains(e.target)||e.target.contains(this.menuContainer))return e.target===this.searchInput.bidiInput&&this.handleSearchKeyDown(e),e.key===S.R8U.ARROW_DOWN?(e.preventDefault(),e.stopPropagation(),this.focusSearch()):void 0})),qA(this,"selectItem",(e=>{if(this.foldersContainer){const t=(0,wl.findDOMNode)(e),s=this.foldersContainer.getBoundingClientRect(),a=t.getBoundingClientRect();(a.top<s.top||a.bottom>s.bottom)&&t.scrollIntoView()}this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})})),qA(this,"resetSelectedItem",((e="")=>{this.selectedFolderId=null,this.setState({selectedFolderId:null,filterString:e}),this.props.onClick(null),this.foldersList&&this.foldersList.resetCursorIndex()})),qA(this,"renderSearchInput",(()=>{const{classNames:e}=this,{filterString:t}=this.state,{formatMessage:s}=this.context.intl;return vl.createElement(Ip.Z,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},vl.createElement("div",{className:e.searchInputContainer,onClick:e=>e.stopPropagation()},vl.createElement(Bl.Z,{kind:xl.Kinds.SEARCH_MINI,size:xl.Sizes.XS,colorState:xl.ColorStates.DISABLED}),vl.createElement(zA.Z,{ref:e=>this.searchInput=e,className:e.searchInput,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:t,onClear:this.handleSearchClear,onChange:this.handleSearchChange,onFocus:this.handleSearchFocus,onBlur:this.handleSearchBlur,onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:s(XA.search_placeholder),autoComplete:"off","data-iskeynav":!0})))})),qA(this,"_getListStyle",(e=>{let t=4*Fe.mg$,s=2*Fe.mg$*(e+2)+Fe.mg$;return this.props.isRTL&&(t=2*Fe.mg$*(e+2)+Fe.mg$,s=4*Fe.mg$),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:98.5*Fe.mg$+"px"}})),qA(this,"renderEmptyResult",(()=>{const{formatMessage:e}=this.context.intl;return vl.createElement(Ip.Z,null,vl.createElement("div",{className:this.classNames.noResultContainer,style:this._getListStyle(0)},e(XA.no_result_label)))})),qA(this,"renderMenuItems",(e=>{const{classNames:t}=this,s=[],{formatMessage:a}=this.context.intl,{formatFolderName:n}=this.props;return e.forEach((({id:e,level:r,disabled:o})=>{const i=this.selectedFolderId===e,l=n(e)(a);s.push(vl.createElement(Ip.Z,{key:e,name:"item-move-folder-id-"+e},vl.createElement(tc.Z,{id:e,"data-test-id":"item-move-folder-id-"+e,kind:sc.F.MENUITEM,onClick:this.handleMenuItemClick.bind(this,e),style:this._getListStyle(r),disabled:o,title:l,overridingClass:i&&!o?t.highlightedListItem:t.listItem,"data-iskeynav":!0},vl.createElement("span",{className:t.fullLabel},vl.createElement("span",{className:t.itemLabel},l)))))})),s})),qA(this,"renderPlaceAtTopLevelOption",(()=>{const{classNames:e}=this,t=this.selectedFolderId===lA.cE,{formatMessage:s}=this.context.intl;return vl.createElement(Ip.Z,{key:lA.cE,className:e.placeAtTopLevel},vl.createElement(tc.Z,{id:lA.cE,"data-test-id":"item-move-place-top-level",kind:sc.F.MENUITEM,onClick:this.handleMenuItemClick.bind(this,lA.cE),style:this._getListStyle(0),title:s(XA.placeAtTopLevel),overridingClass:t?e.highlightedListItem:e.listItem,"data-iskeynav":!0},vl.createElement("span",{className:e.fullLabel},vl.createElement("span",{className:e.itemLabel}," ",s(XA.placeAtTopLevel)))))})),qA(this,"handleSelectKeyDown",(e=>{const{isOpen:t}=this.state;switch(e.key){case S.R8U.ENTER:e.preventDefault(),e.stopPropagation();break;case S.R8U.ARROW_DOWN:t||this.handleMenuShow()}})),qA(this,"handleSelectClick",(()=>{const{isOpen:e}=this.state;e?this.handleMenuHide():this.handleMenuShow()})),qA(this,"renderSelectLabel",(()=>{const{formatMessage:e}=this.context.intl,{classNames:t}=this,{isOpen:s,selectedFolderId:a}=this.state,n=s?xl.ColorStates.SELECTED:xl.ColorStates.SECOND_LEVEL_GRAY;let r,o;return a===lA.cE?o=e(XA.placeAtTopLevel):(r=this.props.customFolders.find((e=>e.id===a)),o=r?r.name:""),vl.createElement("div",{onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,"data-test-id":"selectbox-input",className:t.selectBox},vl.createElement("input",{readOnly:!0,type:"text",ref:e=>this.selectInput=e,value:o,onKeyDown:this.handleSelectKeyDown,onClick:this.handleSelectClick,className:t.selectInput}),vl.createElement("div",{className:t.selectLabel},a?vl.createElement("div",{className:t.inputWrapper},vl.createElement("span",{title:o,className:t.selectedValue},o)):vl.createElement("span",{className:t.selectPlaceholder,title:o},e(XA.selectFolderPlaceholder)),vl.createElement("span",{className:t.arrowDown},vl.createElement(Bl.Z,{size:xl.Sizes.XS,kind:xl.Kinds.INPUT_ARROW_DOWN,colorState:n}))))})),qA(this,"renderDropdownMenu",(()=>{const{filterString:e="",isOpen:t}=this.state;if(!t)return;const{classNames:s}=this,{customFolders:a,enablePlaceAtTopLevelOption:n}=this.props,r=a.filter((({name:t})=>-1!==t.toLowerCase().indexOf(e.toLowerCase()))),o=r.length;return vl.createElement("div",{className:s.menuContainer},vl.createElement("div",{"data-test-id":"folder-menu",onKeyDown:this.handleKeyDown,tabIndex:Fe.iUz.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.menuContainer=e},vl.createElement("ul",{className:s.searchContainer},this.renderSearchInput()),vl.createElement(ac.Z,{ref:e=>this.foldersList=e,tabIndex:Fe.iUz.FOLDER_SELECTION_MENU,onShow:this.handleMenuShow,selectItemInsteadOfFocus:this.selectItem,onHide:this.handleMenuHide,onEscape:this.handleMenuHide,listNavigationOnInputEnabled:!0},0===o&&vl.createElement("ul",{className:s.emptyMessageContainer},this.renderEmptyResult()),vl.createElement("div",null,o>0&&vl.createElement("ul",{ref:e=>this.foldersContainer=e,className:s.folderContainer},n&&this.renderPlaceAtTopLevelOption(),this.renderMenuItems(r))))))})),this.classNames=t.getCss(jA()),this.state={filterString:"",isOpen:!1,isFilterActive:!1,selectedFolderId:null}}componentDidMount(){setTimeout((()=>{this.focusSelect()}),0)}render(){return vl.createElement("div",null,this.renderSelectLabel(),this.renderDropdownMenu())}}QA.contextTypes={getCss:yl().func,getThemeMode:yl().func,intl:Gl.intlShape.isRequired};const JA=(0,Fl.connect)(((e,{currentFolder:t})=>{const{formatFolderName:s,getCustomFolderListForDisplaying:a,getFoldersSelectors:n,getAccountIdByFolderId:r,getEnvironmentSelectors:o,getFolderIdsByFolderTypeForAccount:i,isSavedMailFolder:l}=(0,Oc.selectors)(e),{getPartner:c,getPageDirection:d}=o(),{getParentFolderId:_}=n(),E=r(t.id),u=[t.id],m=_(t.id);if(c(S.Ql2.AOL)){const[e]=i(S.Sck.ARCHIVE,E);u.push(e)}m&&u.push(m);const p=a(E).filter((e=>u.indexOf(e.id)<0&&!l(e.id)));return{formatFolderName:s,enablePlaceAtTopLevelOption:t&&t.level>0,customFolders:p,isRTL:"rtl"===d()}}),null,null,{withRef:!0})(QA);function $A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const eT=(0,Gl.defineMessages)({heading:{id:"moveFolderDialog.heading",defaultMessage:"Select a new parent folder"}});class tT extends vl.Component{constructor(e){super(e),$A(this,"state",{selectedFolderId:"",isMenuVisible:!1}),$A(this,"handleConfirm",(e=>{if(e.stopPropagation(),!this.state.selectedFolderId)return;const t=this.state.selectedFolderId===lA.cE;this.props.onSubmit({destFolderId:t?"":this.state.selectedFolderId,placeFolderAtTopLevel:t})})),$A(this,"handleClose",(e=>{e.stopPropagation(),this.state.isMenuVisible&&this.menuRef?this.menuRef.current.getWrappedInstance().handleMenuHide():this.props.onClose()})),$A(this,"handleFolderSelect",(e=>{this.setState({selectedFolderId:e})})),$A(this,"handleMenuVisibility",(e=>{this.setState({isMenuVisible:e})})),this.menuRef=vl.createRef()}render(){const{formatMessage:e}=this.context.intl,{currentFolder:t}=this.props,s=!this.state.selectedFolderId;return vl.createElement(QC.Z,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(eT.heading),onOuterClick:this.handleClose,disablePrimaryButton:s,acceptLabel:eT.acceptLabel},vl.createElement(JA,{onClick:this.handleFolderSelect,currentFolder:t,ref:this.menuRef,handleMenuVisibility:this.handleMenuVisibility}))}}$A(tT,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func}),$A(tT,"defaultProps",{});const sT=tT,aT=[S.K8C.STARRED,S.K8C.UNREAD],nT=(e="")=>{const t=Object.values(S.Qj).find((t=>e.includes(t)));return t?(0,fC.$j)(t,":"):""},rT=e=>e.map((e=>{const t={kind:S.F6k.FOLDER,folderId:e.id,name:e.name,searchSyntax:""};switch(e.type){case S.Sck.BULK:t.searchSyntax="in:spam ";break;case S.Sck.DRAFT:t.searchSyntax="in:drafts ";break;default:t.searchSyntax=`in:${e.name.toLowerCase().replace(/ /g,S.R8U.DASH)} `}return t}));function oT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const iT=(0,Gl.defineMessages)({create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class lT extends vl.Component{constructor(...e){super(...e),oT(this,"state",{creatingSubfolder:!1,movingFolder:!1,renamingFolder:!1,isMenuVisible:!1,isHovered:!1}),oT(this,"handleToggle",(e=>{const t=this.props.folder.id;e.stopPropagation(),e.preventDefault(),e.key?"ArrowRight"!==e.key||this.props.expanded?"ArrowLeft"===e.key&&this.props.expanded&&this.props.toggleExpansion(t,!1):this.props.toggleExpansion(t,!0):this.props.toggleExpansion(t,!this.props.expanded)})),oT(this,"handleCreateSubfolderStart",(()=>{this.setState({creatingSubfolder:!0})})),oT(this,"handleMoveFolderStart",(()=>{this.setState({movingFolder:!0})})),oT(this,"handleMoveFolderCancel",(()=>{this.setState({movingFolder:!1})})),oT(this,"handleRenameFolderStart",(()=>{this.setState({renamingFolder:!0})})),oT(this,"handleRenameFolderSubmit",(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{e!==t&&this.props.onRename({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a}),this.setState({renamingFolder:!1})})),oT(this,"handleMoveFolderSubmit",(({destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s={}})=>{this.props.onMove({folderName:this.props.folder.name,folderId:this.props.folder.id,destFolderId:e,placeFolderAtTopLevel:t,i13nModel:s}),this.setState({movingFolder:!1})})),oT(this,"handleRenameFolderCancel",(()=>{this.setState({renamingFolder:!1})})),oT(this,"handleCreateSubfolderDone",(({folderName:e,i13nModel:t})=>{this.setState({creatingSubfolder:!1}),t=Object.assign({actionData:{depth:this.props.depth+1}},t),this.props.onSubfolderCreate({folderId:this.props.folder.id,subfolderName:e,i13nModel:t})})),oT(this,"handleCreateSubfolderDismiss",(()=>{this.setState({creatingSubfolder:!1})})),oT(this,"handleMenuVisibility",(e=>{this.setState({isMenuVisible:e})})),oT(this,"handleHover",(e=>{this.setState({isHovered:e})})),oT(this,"handleFolderOpen",((e,t,s)=>{this.props.onOpen(e,t,s)})),oT(this,"getChevronState",(()=>{const e=this.props.hasChildren&&!this.props.folder.isSystem;let t=S.Tt3.NONE;return e&&(t=this.props.expanded?S.Tt3.DOWN:S.Tt3.LEFT),t}))}render(){const{formatMessage:e}=this.context.intl,{folder:t,unread:s,total:a,hasChildren:n,parentFolderId:r,formatFolderName:o,smartViewInSearch:i,viewsUnderInboxEnabled:l}=this.props,c=t.isRTL?{padding:`0 ${8*this.props.depth}px 0 0`}:{padding:`0 0 0 ${8*this.props.depth}px`};return vl.createElement("li",{style:c},"smartview"===t.kind?vl.createElement(KA,{onClick:this.props.onSmartViewOpen,type:t.type,total:a,isActive:this.props.highlightFolderId===t.id||i.includes(t.id),handleHover:this.handleHover}):vl.createElement(kA,{isSelectAll:this.props.isSelectAll,folder:{...t,unread:s,total:a,hasChildren:n,parentFolderId:r},sortOrder:this.props.sortOrder,depth:this.props.depth,onClick:this.handleFolderOpen,onRenameStart:this.handleRenameFolderStart,onRenameSubmit:this.handleRenameFolderSubmit,onRenameCancel:this.handleRenameFolderCancel,renamingFolder:this.state.renamingFolder,isActive:this.props.highlightFolderId===t.id,isRefreshing:this.props.highlightFolderId===t.id&&this.props.folderRefreshing,chevron:this.getChevronState(),onToggleExpansion:this.handleToggle,handleMenuVisibility:this.handleMenuVisibility,handleHover:this.handleHover,showFolderMenu:this.state.isHovered||this.state.isMenuVisible,onDelete:this.props.onDelete,onSubfolderCreate:this.handleCreateSubfolderStart,onMove:this.handleMoveFolderStart,onMarkRead:this.props.onMarkRead,onFolderMenuShow:this.props.onFolderMenuShow,onArchive:this.props.onArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onClear,isHovered:this.state.isHovered,activeAccountId:this.props.activeAccountId,hasChildren:n,isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled,formatFolderName:o,viewsUnderInboxEnabled:l}),this.state.creatingSubfolder?vl.createElement(SA.ZP,{onInputSubmit:this.handleCreateSubfolderDone,onDismiss:this.handleCreateSubfolderDismiss,ariaLabel:e(iT.create_folder_input_aria_label),indentation:lA.gG,activeAccountId:this.props.activeAccountId,parentFolderId:t.id}):null,this.state.movingFolder?vl.createElement(sT,{onClose:this.handleMoveFolderCancel,onSubmit:this.handleMoveFolderSubmit,currentFolder:this.props.folder}):null)}}oT(lT,"contextTypes",{intl:Gl.intlShape.isRequired});const cT=(0,Fl.connect)(((e,{folder:t})=>{const s=t.id,{getFoldersSelectors:a,getStreamSelectionType:n,formatFolderName:r,getCurrentFolderDetails:o,getRouteParams:i,getRoute:l}=(0,Oc.selectors)(e),{getFolderUnreadCount:c,getFolderTotal:d,hasChildren:_,getParentFolderId:E}=a(),{folderId:u}=o(),{query:m}=i(),p=decodeURIComponent(m)||"",C=(0,Rc.LY)(l()),A=n((0,$E.BA)([C]))===S.ie0.BULK;return"folder"===t.kind?{formatFolderName:r,unread:c(s),total:d(s),hasChildren:_(s),parentFolderId:E(s),currFolderId:u,isSelectAll:A}:"smartview"===t.kind?{unread:0,total:0,smartViewInSearch:u?"":nT(p).toUpperCase(),isSelectAll:A}:{unread:0,total:0,isSelectAll:A}}),void 0,void 0,{areOwnPropsEqual:h.PJ})(lT);var dT=s(63234),_T=s.n(dT);function ET(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const uT=(0,Gl.defineMessages)({views_label:{id:"views_label",defaultMessage:"Views"},click_to_hide_views_title:{id:"click_to_hide_views_title",defaultMessage:"Click here to Hide the Views"},click_to_show_views_title:{id:"click_to_show_views_title",defaultMessage:"Click here to Show the Views"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class mT extends vl.Component{constructor(...e){super(...e),ET(this,"state",{expanded:this.props.showSmartViews,isHovered:!1,showLimitedList:!0}),ET(this,"expand",(()=>{this.state.expanded||this.toggleExpand()})),ET(this,"collapse",(()=>{this.state.expanded&&this.toggleExpand()})),ET(this,"toggleExpand",(()=>{const e=this.state.expanded;this.props.onToggleSmartViews(!e),this.setState({expanded:!this.state.expanded})})),ET(this,"handleClick",(e=>{e.stopPropagation(),e.preventDefault(),this.toggleExpand()})),ET(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.stopPropagation(),e.preventDefault(),this.toggleExpand();break;case"Arrowleft":e.stopPropagation(),e.preventDefault(),this.collapse();break;case"ArrowRight":e.stopPropagation(),e.preventDefault(),this.expand();break;default:return}})),ET(this,"handleHover",(e=>{this.setState({isHoverd:e})})),ET(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.expanded?e(uT.click_to_hide_views_title):e(uT.click_to_show_views_title)})),ET(this,"renderLabel",(e=>{const{viewsUnderInboxEnabled:t}=this.props;let s;const{intl:{formatMessage:a},getThemeMode:n}=this.context,r=a(uT.views_label),o=vl.createElement("span",null,r),{expanded:i}=this.state,l=!t,c=n();c===Kl.zg.LIGHT&&t&&(s=this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.FIRST_LEVEL_GRAY),c!==Kl.zg.LIGHT&&t&&(s=this.props.isActive?xl.ColorStates.INVERTED:xl.ColorStates.SMARTVIEW_DARK),s=this.props.isActive?xl.ColorStates.NORMAL:xl.ColorStates.DISABLED;const d=i?vl.createElement(Gl.FormattedMessage,{id:"hide_views_label",defaultMessage:"Hide"}):vl.createElement(Gl.FormattedMessage,{id:"show_views_label",defaultMessage:"Show"}),_=i?vl.createElement("span",{className:e.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XMS,rotate:xl.Rotate.D180,colorState:s}),vl.createElement("span",{"data-test-id":"folder-list-expand",className:e.moreLesslabel},a(uT.more_label))):vl.createElement("span",{className:e.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XMS,colorState:s}),vl.createElement("span",{"data-test-id":"folder-list-collapse",className:e.moreLesslabel},a(uT.less_label)));return vl.createElement("div",{"data-test-id":"toggle-smartview-list",className:e.labelContainer,title:this.getTitleText(),onClick:this.handleClick,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1)},l&&vl.createElement("span",{className:e.label},o),vl.createElement("span",{"data-test-id":"toggle-smartview-list-label",className:e.toggleSmartViews,title:this.getTitleText(),"aria-label":this.getTitleText()},l&&d,!l&&_))})),ET(this,"sortSmartViews",(e=>{const t=["UNREAD","STARRED","DOCUMENTS","PHOTOS","WALLET","SUBSCRIPTIONS","STOREFRONT","RECEIPTS","TRAVEL","COUPONS","ATTACHMENTS","EMAILS_TO_MYSELF","CONTACTS_FULL_PANE"];return e.sort((function(e,s){var a,n;return t.indexOf(null==e||null===(a=e.folder)||void 0===a?void 0:a.id)-t.indexOf(null==s||null===(n=s.folder)||void 0===n?void 0:n.id)}))})),ET(this,"showLimitedViews",(e=>{const{viewsUnderInboxEnabled:t}=this.props,{expanded:s}=this.state;return t&&s&&e<5||!s||!t})),ET(this,"renderSmartviews",(()=>{const{smartViews:e,onSmartViewOpen:t,highlightSmartView:s,viewsUnderInboxEnabled:a}=this.props;return(a?this.sortSmartViews(e):e).map(((e,n)=>{const{folder:r}=e;return vl.createElement(vl.Fragment,{key:`smartviewList-${r.id}`},this.showLimitedViews(n)&&vl.createElement("li",{key:r.id},vl.createElement(KA,{onClick:t,type:(0,GA.BO)(r),isActive:s===r.id,handleHover:this.handleHover,total:r.total,ref:`${r.name.toLowerCase()}Button`,viewsUnderInboxEnabled:a}),r.name===S.K8C.STARRED?this.renderStarredCue():null,r.name===S.K8C.PHOTOS?this.renderPhotosCue():null,r.name===S.K8C.COUPONS?this.renderCouponsViewCue():null,r.name===S.K8C.COUPON_EMAILS?this.renderCouponsViewCue():null,r.name===S.K8C.SUBSCRIPTIONS?this.renderSubscriptionsViewCue():null))}))})),ET(this,"updateContent",(e=>{e&&e.updatePosition()})),ET(this,"renderPhotosCue",(()=>this.props.showPhotosCue&&this.refs.photosButton?vl.createElement(Ql.yk,{popoverAnchor:this.refs.photosButton,isRTL:this.props.isRTL,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],ref:e=>{this.popoverContent=e},zAltitude:Fe.LSY.POPOVER.HIGH},vl.createElement(pc.cr,{import:"../../photos_cue",cueName:S.ANe.PHOTOS_CUE,onShow:()=>this.updateContent(this.popoverContent),close:this.refs.photosButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,9575))},_moduleResolver:function(){return 9575}})):null)),ET(this,"renderCouponsViewCue",(()=>{const{showCouponsViewCue:e,showDealsViewCue:t,accountId:a,isRTL:n}=this.props;return(e||t)&&this.refs.couponsButton?vl.createElement(Ql.yk,{popoverAnchor:this.refs.couponsButton,isRTL:n,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Fe.LSY.POPOVER.HIGH,bg:ec.Ic.GRADIENT,borderRadius:ec.cM.MEDIUM},vl.createElement("div",{style:e?{display:"block",minHeight:54*Fe.mg$+"px"}:{display:"flex",alignItems:"center"}},e?vl.createElement(pc.cr,{import:"../../coupons_view_cue",cueName:S.ANe.COUPONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,89713))},_moduleResolver:function(){return 89713}}):vl.createElement(pc.cr,{import:"../../deals/left_rail_cue",route:(0,gc.jK)(S.K8C.COUPONS,{accountIds:a}),cueName:S.ANe.DEALS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,88029))},_moduleResolver:function(){return 88029}}))):null})),ET(this,"renderStarredCue",(()=>{const{starredButton:e}=this.refs;return this.props.showStarredCue&&e?vl.createElement(Ql.yk,{popoverAnchor:e,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Fe.LSY.POPOVER.HIGH},vl.createElement(pc.cr,{import:"../../starred_cue",cueName:S.ANe.STARRED_CUE,onShow:this.updateContent(this.popoverContent),close:e.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,49111))},_moduleResolver:function(){return 49111}})):null}))}renderSubscriptionsViewCue(){const{showSubscriptionsViewCue:e,accountId:t,isRTL:a}=this.props;return e&&this.refs.subscriptionsButton?vl.createElement(Ql.yk,{popoverAnchor:this.refs.subscriptionsButton,isRTL:a,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],ref:e=>{this.couponPopoverContent=e},zAltitude:Fe.LSY.POPOVER.HIGH,bg:ec.Ic.GRADIENT,borderRadius:ec.cM.MEDIUM},vl.createElement("div",{style:{display:"flex",alignItems:"center"}},vl.createElement(pc.cr,{import:"../../deals/left_rail_cue",route:(0,gc.lB)(t),cueName:S.ANe.SUBSCRIPTIONS_VIEW_CUE,onShow:()=>this.updateContent(this.couponPopoverContent),close:this.refs.subscriptionsButton.props.isActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,88029))},_moduleResolver:function(){return 88029}}))):null}componentDidMount(){this.refs&&Object.keys(this.refs).length>0&&this.forceUpdate()}render(){const{viewsUnderInboxEnabled:e}=this.props,{getThemeMode:t}=this.context,s=t()===Kl.zg.DARK||t()===Kl.zg.MEDIUM,a=this.context.getCss(_T(),{indentation:lA.Vc,...(0,Kl.OW)(this.context,!0),viewsUnderInbox:e,viewsUnderInboxDark:e&&s});return vl.createElement("div",null,!e&&vl.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:a.smartviewContainer},this.renderLabel(a)),this.state.expanded&&!e?vl.createElement("ul",{className:a.smartviewList},this.renderSmartviews()):null,e?vl.createElement("ul",{className:a.smartviewList},this.renderSmartviews()):null,e&&vl.createElement("div",{"data-iskeynav":!0,"data-test-id":"keyboard-toggle-smartview-list",onKeyDown:this.handleKeyDown,className:a.smartviewContainer},this.renderLabel(a)))}}ET(mT,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func,getThemeMode:yl().func,getTheme:yl().func});const ST=(0,Fl.connect)((e=>{const{getEnvironmentSelectors:t,isFeatureEnabled:s,getSelectedAccountId:a}=(0,Oc.selectors)(e),{getPageDirection:n}=t();return{brandImage:"",isRTL:"rtl"===n(),accountId:a(),showSubscriptionsViewCue:s(S.ANe.SUBSCRIPTIONS_VIEW_CUE)}}))(mT);function pT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const CT=(0,Gl.defineMessages)({click_to_show_more_title:{id:"folder_list.click_to_show_more_title",defaultMessage:"Click here to Show Folders"},click_to_show_less_title:{id:"folder_list.click_to_show_less_title",defaultMessage:"Click here to Hide Folders"},less_label:{id:"folder_list.less_label",defaultMessage:"Less"},more_label:{id:"folder_list.more_label",defaultMessage:"More"}});class AT extends vl.Component{constructor(e){super(e),pT(this,"toggleExpansion",((e,t)=>{const{expandedFolders:s}=this.state;let a;a=t?(0,nA.R3)(s,e):(0,nA.Od)(s,s.indexOf(e),1),this.setState({expandedFolders:a}),this.props.onFolderExpandToggle(e,t)})),pT(this,"toggleShowAll",(()=>{const e=!this.state.showAllSystemFolders;this.setState({showAllSystemFolders:e}),this.props.handleToggleSystemFolders(e)})),pT(this,"handleKeyDown",(e=>{switch(e.key){case" ":case"Enter":this.toggleShowAll();break;case"Left":case"ArrowLeft":this.setState({showAllSystemFolders:!1});break;case"Right":case"ArrowRight":this.setState({showAllSystemFolders:!0});break;default:return}})),pT(this,"getFolderTreeNodes",(({onOpen:e,onRename:t,onMove:s,onDelete:a,onMarkRead:n,onArchive:r,onFolderDrop:o,onClear:i,onSubfolderCreate:l,onFolderMenuShow:c,highlightFolderId:d,folderRefreshing:_,onSmartViewOpen:E})=>this.filterNonExpandedFoldersChildren(this.props.folderNodes,this.state.expandedFolders).map(((u,m)=>vl.createElement(cT,{activeAccountId:this.props.activeAccountId,key:u.id,folder:u,onOpen:e,onRename:t,onMove:s,onDelete:a,onMarkRead:n,onArchive:r,onFolderDrop:o,onClear:i,onSubfolderCreate:l,highlightFolderId:d,sortOrder:this.props.sortOrder,folderRefreshing:_,index:m,onSmartViewOpen:E,onFolderMenuShow:c,depth:u.level,toggleExpansion:this.toggleExpansion,expanded:-1!==this.state.expandedFolders.indexOf(u.id),showStarredCue:this.props.showStarredCue,ref:e=>{this.myRef[`${u.name.toLowerCase()}Button`]=e},isMoveFolderFeatureEnabled:this.props.isMoveFolderFeatureEnabled,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled}))))),pT(this,"filterNonExpandedFoldersChildren",((e,t)=>{const s=[];let a=0;for(let n=0;n<e.length;n++){const r=e[n];if(r.level<a&&(a=r.level),r.level===a){s.push(r);-1!==t.indexOf(r.id)&&(a=r.level+1)}}return s})),pT(this,"onSubfolderCreate",(({folderId:e,subfolderName:t,i13nModel:s})=>{this.toggleExpansion(e,!0),this.props.onSubfolderCreate({folderId:e,subfolderName:t,i13nModel:s})})),pT(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),pT(this,"renderStarredCue",(()=>{const{starredButton:e}=this.myRef;return this.props.showStarredCue&&e?vl.createElement(Ql.yk,{popoverAnchor:e,triggerOn:ec.K2.MOUNT,permittedArrowDirections:[ec.Ji.START],isRTL:this.props.isRTL,ref:e=>{this.popoverContent=e},zAltitude:Fe.LSY.POPOVER.HIGH},vl.createElement(pc.cr,{import:"../../starred_cue",cueName:S.ANe.STARRED_CUE,onShow:this.updateContent,close:e.props.folder.id===this.props.highlightFolderId,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,49111))},_moduleResolver:function(){return 49111}})):null})),pT(this,"getTitleText",(()=>{const{formatMessage:e}=this.context.intl;return this.state.showAllSystemFolders?e(CT.click_to_show_less_title):e(CT.click_to_show_more_title)}));const t=(0,nA.R3)(e.expandedFolders),{showAllSystemFolders:a}=e;this.state={expandedFolders:t,showAllSystemFolders:!!a},this.myRef={}}componentDidMount(){this.myRef&&Object.keys(this.myRef).length>0&&this.forceUpdate()}render(){const{indentation:e,folderNodes:t,onOpen:s,onRename:a,onMove:n,onDelete:r,onMarkRead:o,onArchive:i,onFolderDrop:l,onClear:c,highlightFolderId:d,folderRefreshing:_,onFolderMenuShow:E,onSmartViewOpen:u,collapsible:m,getSmartViews:S,viewsUnderInboxEnabled:p,customFolder:C}=this.props,{intl:{formatMessage:A},getThemeMode:T}=this.context,I=T()===Kl.zg.DARK||T()===Kl.zg.MEDIUM,h=this.context.getCss(iA(),{indentation:e,...(0,Kl.OW)(this.context,!0),viewsUnderInboxEnabled:p,viewsUnderInboxDark:p&&I}),g=this.getFolderTreeNodes({onOpen:s,onRename:a,onMove:n,onDelete:r,onMarkRead:o,onArchive:i,onFolderDrop:l,onClear:c,onSubfolderCreate:this.onSubfolderCreate,highlightFolderId:d,folderRefreshing:_,onFolderMenuShow:E,onSmartViewOpen:u}),{showAllSystemFolders:O}=this.state;let D;if(!t.length)return null;if(0!==g.length&&p&&!C){var R,N,L,f,M,P,b,y;const e=S(),t=(0,wA.A)("/img/under_line.png"),s=vl.createElement("div",{key:`folder-${p}`,className:h.viewsUnderLine},vl.createElement("div",{className:h.listSpacer}),vl.createElement(ST,{smartViews:e,showSmartViews:null===(R=this.props)||void 0===R?void 0:R.showSmartViews,onSmartViewOpen:null===(N=this.props)||void 0===N?void 0:N.onSmartViewOpen,highlightSmartView:null===(L=this.props)||void 0===L?void 0:L.highlightFolderId,showPhotosCue:null===(f=this.props)||void 0===f?void 0:f.showPhotosCue,showStarredCue:null===(M=this.props)||void 0===M?void 0:M.showStarredCue,showCouponsViewCue:null===(P=this.props)||void 0===P?void 0:P.showCouponsView,showDealsViewCue:null===(b=this.props)||void 0===b?void 0:b.showDealsViewCue,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled,onToggleSmartViews:null===(y=this.props)||void 0===y?void 0:y.onToggleSmartViews}),vl.createElement("div",{className:h.lineviews},vl.createElement("img",{className:h.lineviewsImage,src:t})));g.splice(1,0,s)}return D=m&&!p?O?g:g.slice(0,5):g,vl.createElement("ul",{className:h.folderTree},D,this.renderStarredCue(),m&&g.length>5&&!p?vl.createElement("li",{onClick:this.toggleShowAll,onKeyDown:this.handleKeyDown,className:h.collapseFolders,"data-test-id":O?"folder-list-collapse":"folder-list-expand",title:this.getTitleText(),"aria-label":this.getTitleText(),"data-iskeynav":!0,tabIndex:-1},O?vl.createElement("span",{className:h.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XS,colorState:xl.ColorStates.INHERITED}),A(CT.less_label)):vl.createElement("span",{className:h.toggle},vl.createElement(Bl.Z,{kind:xl.Kinds.CHEVRON_UP,size:xl.Sizes.XS,rotate:xl.Rotate.D180,colorState:xl.ColorStates.INHERITED}),A(CT.more_label))):null)}}pT(AT,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func,getThemeMode:yl().func,getTheme:yl().func});const TT=(0,Fl.connect)((e=>{const{getEnvironmentSelectors:t,isFeatureEnabled:s}=(0,Oc.selectors)(e);return{isRTL:"rtl"===t().getPageDirection(),isMoveFolderFeatureEnabled:s(S.ANe.MOVE_FOLDER)}}),void 0,void 0,{areOwnPropsEqual:h.PJ})(AT);var IT=s(20529),hT=s.n(IT),gT=s(49999),OT=s.n(gT);const DT=(0,Fl.connect)((e=>{const{getRoute:t,getSetting:s,isFeatureEnabled:a,normalizeRoute:n}=(0,Oc.selectors)(e),r=n((0,gc.bI)()).url;return{href:r,isActive:n(t()).url===r,isEnabled:a(S.ANe.SHOW_TODAYPAGE)&&s(S.Zrf.TODAYPAGE_URL)}}),(e=>({onClick:t=>{t.preventDefault(),e((0,zl.Ch)({route:(0,gc.bI)(),uiContext:{mKey:cc.JE.TODAY_ON_AOL_PAGE_OPENED},i13nModel:{mKey:cc.JE.TODAY_ON_AOL_PAGE_OPENED,sec:cc.nJ.TODAY_PAGE,interaction:cc.Rb.click}}))}})))((function(e){const{isActive:t,isAolSubBrand:s}=e,a=(0,Hc.Z)(BA(),{hasIcon:!0,isActive:t}),{smartviewList:n}=(0,Hc.Z)(_T()),{container:r}=(0,Hc.Z)(OT()),{partner:o,yahooBrandNameString:i}=(0,Um.B)(),{themeMode:l}=(0,vl.useContext)(MA.Z),c=o===S.Ql2.AOL;if(!e.isEnabled)return null;let d;return d=l===S.zgU.LIGHT?t?xl.ColorStates.NORMAL:xl.ColorStates.DISABLED:t?xl.ColorStates.INVERTED:xl.ColorStates.SMARTVIEW_DARK,vl.createElement("ul",{className:`${n} ${r}`},vl.createElement("li",null,vl.createElement("a",{href:e.href,className:t?a.activeContainer:a.container,onClick:e.onClick},vl.createElement("span",{className:`${a.smartViewIcon} ${a.rtlRawScaleX}`},vl.createElement(Bl.Z,{kind:c?xl.Kinds.AOL_OFFICIAL:xl.Kinds.YBANG,colorState:d,size:xl.Sizes.XS})),vl.createElement("span",{className:a.labelContainer},vl.createElement("span",{className:a.label},s?vl.createElement(Gl.FormattedMessage,{id:"tab.title.today.subbrands",defaultMessage:"Today's Features"}):vl.createElement(Gl.FormattedMessage,{id:"tab.title.today",defaultMessage:"Today on {yahooBrandNameString}",values:{yahooBrandNameString:i}}))))))}));function RT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class NT extends vl.Component{constructor(...e){super(...e),RT(this,"getSmartViews",(()=>{const{showCouponsView:e,showCouponEmailsView:t,showReceiptsView:s,showWalletView:a,travelView:n,showSubscriptionsView:r,showAttachmentsView:o,showStorefrontView:i,showEmailsToMyselfView:l,contactsFullPane:c,tutorial:d,viewsUnderInboxEnabled:_}=this.props,E=_?(0,ds.xr)():(0,ds.vJ)(),u={[S.K8C.PHOTOS]:!o,[S.K8C.DOCUMENTS]:!o,[S.K8C.ATTACHMENTS]:o,[S.K8C.SUBSCRIPTIONS]:r,[S.K8C.STOREFRONT]:i,[S.K8C.TUTORIAL]:d,[S.K8C.COUPONS]:e,[S.K8C.COUPON_EMAILS]:t,[S.K8C.RECEIPTS]:s,[S.K8C.WALLET]:a,[S.K8C.TRAVEL]:n,[S.K8C.EMAILS_TO_MYSELF]:l,[S.K8C.CONTACTS_FULL_PANE]:c,[S.K8C.STARRED]:_,[S.K8C.UNREAD]:_};return E.filter((e=>{var t;return u[null===(t=e.folder)||void 0===t?void 0:t.id]}))}))}render(){const{customFolderList:e,systemFolderListWithSmartView:t,showMailproFreeTrialUpsell:s,enableSmartviews:a,viewsUnderInboxEnabled:n,isAolSubBrand:r}=this.props,o=["STARRED","UNREAD"],i=this.getSmartViews(),l=ic()(hT(),{showMailproFreeTrialUpsell:s}),c=a&&!n,d=n?t.filter((e=>!o.includes(null==e?void 0:e.type))):t;return vl.createElement("div",{className:"folder-list "+l.scrollOuter,"data-test-id":"folder-list"},vl.createElement(DT,{isAolSubBrand:r}),vl.createElement(TT,{activeAccountId:this.props.activeAccountId,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:d.map((e=>({...e,isSystem:!0}))),onOpen:this.props.onFolderOpen,onSmartViewOpen:this.props.onSmartViewOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:lA.Vc,showStarredCue:this.props.showStarredCue,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,collapsible:!0,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.props.handleToggleSystemFolders,showSmartViews:this.props.showSmartViews,onToggleSmartViews:this.props.onToggleSmartViews,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showCouponsViewCue:this.props.showCouponsViewCue,showDealsViewCue:this.props.showDealsViewCue,getSmartViews:this.getSmartViews,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled}),c&&vl.createElement("div",null,vl.createElement("div",{className:l.listSpacer}),vl.createElement(ST,{smartViews:i,showSmartViews:this.props.showSmartViews,onToggleSmartViews:this.props.onToggleSmartViews,onSmartViewOpen:this.props.onSmartViewOpen,highlightSmartView:this.props.highlightFolderId,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,showDealsViewCue:this.props.showDealsViewCue,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled})),vl.createElement("div",{className:l.listSpacer}),vl.createElement(EA,{showCustomFolders:this.props.showCustomFolders,onToggleCustomFolders:this.props.onToggleCustomFolders,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled},vl.createElement(rA.Z,{onCreate:this.props.onFolderCreate,indentation:lA.Vc,activeAccountId:this.props.activeAccountId,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled}),e.length>0?vl.createElement(TT,{activeAccountId:this.props.activeAccountId,expandedFolders:this.props.expandedFolders,onFolderExpandToggle:this.props.onFolderExpandToggle,highlightFolderId:this.props.highlightFolderId,sortOrder:this.props.sortOrder,folderRefreshing:this.props.folderRefreshing,folderNodes:e,onOpen:this.props.onFolderOpen,onRename:this.props.onFolderRename,onMove:this.props.onFolderMove,onDelete:this.props.onFolderDelete,onMarkRead:this.props.onFolderMarkRead,onArchive:this.props.onFolderArchive,onFolderDrop:this.props.onFolderDrop,onClear:this.props.onFolderClear,onSubfolderCreate:this.props.onSubfolderCreate,onFolderMenuShow:this.props.onFolderMenuShow,indentation:lA.gG,collapsible:!1,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled,customFolder:!0}):null))}}RT(NT,"contextTypes",{executeAction:yl().func,config:yl().object});const LT=NT;var fT=s(7e4),MT=s.n(fT);function PT(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const bT=(0,Gl.defineMessages)({confirm_folder_delete_all_title:{id:"confirm.folder_delete_all_title",defaultMessage:"Delete all emails"},confirm_folder_archive_all_title:{id:"confirm.folder_archive_all_title",defaultMessage:"Archive all emails"},confirm_inbox_archive_all_personalized_title:{id:"confirm.confirm_inbox_archive_all_personalized_title",defaultMessage:"{sendingName}, let's clean your Inbox"},confirm_inbox_archive_all_title:{id:"confirm.inbox_archive_all_title",defaultMessage:"Let's clean your Inbox"},archive_emails_button_label:{id:"confirm.archive_emails_button_label",defaultMessage:"Archive emails"}}),yT=["m",";"],vT="wallet";(0,Tc.m)({group:Ic.LQ,keys:{openCompose:{key:"N",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_compose",defaultMessage:"Start a {newConvo}",values:{newConvo:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_compose_strong",defaultMessage:"New Email Conversation"}))}})},openInbox:{key:"M",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_inbox",defaultMessage:"Go to {inbox}",values:{inbox:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_box_strong",defaultMessage:"Inbox"}))}})},openSettings:{key:";",description:vl.createElement(Gl.FormattedMessage,{id:"shortcut.open_settings",defaultMessage:"Go to {settings}",values:{settings:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"settings_link_label",defaultMessage:"Settings"}))}})}}});class FT extends vl.Component{constructor(...e){super(...e),PT(this,"state",{scrollingUnder:!1,confirmRequested:!1,toggleAccountsList:!0}),PT(this,"handleShortcuts",(e=>{const t=String.fromCharCode(e.which).toLowerCase();switch(e.preventDefault(),e.stopPropagation(),t){case"m":this.navigateToInbox(e);break;case";":this.navigateToSettings(e)}})),PT(this,"navigateToFolder",((e,t,{i13nModel:s={},refresh:a=!1}={})=>{const{route:n,isSenderRollupEnabled:r,conversations:o,defaultFolderId:i,defaultFolderRoute:l,rootAccounts:c}=this.props,d=c.map((e=>e.defaultFolder)).concat(i),_=n.name===S.n8z.FOLDER,E=(0,Rc.LY)(n),u=(0,Rc.Fh)(E);if(_&&u===t)return void this.context.executeAction(Ac.PV,{forceSync:!0,userInitiated:!0,i13nModel:{mKey:cc.JE.NAVIGATE_TO_FOLDER,sec:cc.nJ.LEFTRAIL_FOLDER}});const{getSortOrderForFolderRoute:m}=(0,Oc.selectors)(this.context.store.getState()),p=m(),C=-1===d.indexOf(t)?(0,gc.i5)(t,p):l,A=r&&o&&p===S.Asd.SENDER?(0,gc.kO)(t,p):C;this.context.navigateTo({route:A,i13nModel:s,refresh:a})})),PT(this,"navigateToSettings",(e=>{const{activeSettingsGroupId:t}=this.props,s={mKey:cc.JE.NAVIGATE_TO_SETTINGS,sec:cc.nJ.HEADER_NAV,interaction_type:(0,Pa.getInteractionFromEvent)(e)};this.context.navigateTo({route:(0,gc.Tx)({settingsGroupId:t||S.u5h.PERSONALIZE_INBOX}),i13nModel:s})})),PT(this,"handleDragScroll",(e=>{if(e.preventDefault(),e&&e.clientY){const t=this.folderList,{scrollTop:s,scrollHeight:a}=t,n=((e,t,s,a,n=!0)=>{const{top:r,bottom:o,height:i}=t,l=i/8;let c=0;return e<=r+l?(c=n?r/e*10:10,(s-=c)<0&&(s=0)):e>=o-l&&(c=n?e/o*10:10,s+i!==a&&(s+=c)),Math.floor(s)})(e.clientY,t.getBoundingClientRect(),s,a);s!==n&&(t.scrollTop=n)}})),PT(this,"handleFolderClick",((e,t,s)=>{e.preventDefault(),-1===[S.RfP.DRAFT,S.RfP.SENT,S.RfP.SPAM,S.RfP.TRASH].indexOf(t)&&t===this.props.activeFolderId&&"folder"===this.props.route.name?this.navigateToFolder(e,t,{i13nModel:s,refresh:!0}):this.navigateToFolder(e,t,{i13nModel:s,refresh:!1})})),PT(this,"handleSmartViewClick",((e,t)=>{const{activeAccount:s,defaultFolderId:a,defaultStorefrontBrandId:n,emailsToMyselfMailPlusUpsellEnabled:r,allValidSendEmailsForEmailsToMyself:o,email:i}=this.props;let l;const c=t;e.preventDefault();const d={NEWMAIL:cc.JE.NEWMAIL,OLDMAIL:cc.JE.OLDMAIL,UNREAD:cc.JE.UNREAD_SMARTVIEW,STARRED:cc.JE.STARRED_SMARTVIEW,PHOTOS:cc.JE.PHOTO_SMARTVIEW,DOCUMENTS:cc.JE.DOCUMENT_SMARTVIEW,TUTORIAL:cc.JE.TUTORIAL_SMARTVIEW,COUPONS:cc.JE.COUPONS_SMARTVIEW,STOREFRONT:cc.JE.STOREFRONT_SMARTVIEW,RECEIPTS:cc.JE.RECEIPTS_SMARTVIEW,TRAVEL:cc.JE.TRAVEL_SMARTVIEW,SUBSCRIPTIONS:cc.JE.SUBSCRIPTIONS_SMARTVIEW,ATTACHMENTS:cc.JE.ATTACHMENTS_SMARTVIEW,EMAILS_TO_MYSELF:cc.JE.EMAILS_TO_MYSELF_SMARTVIEW,CONTACTS_FULL_PANE:cc.JE.CONTACTS_FULL_PANE_SMARTVIEW,WALLET:cc.JE.WALLET_SMARTVIEW}[c];d&&(l={mKey:d,sec:cc.nJ.LEFTRAIL_SMARTVIEW,interactionType:(0,Pa.getInteractionFromEvent)(e)}),d===cc.JE.WALLET_SMARTVIEW&&(l={mKey:cc.JE.NAVIGATION_INTERACT,sec:cc.nJ.LEFTRAIL_SMARTVIEW,actionData:{featurefamily:S.lMo.IC,xpname:S.pdX.SHOPPING_TAB_NAVIGATION,interactionType:cc.Rb.click,interactedItem:vT}});const _={accountIds:s.id,folders:[a]};c===S.K8C.STOREFRONT&&(_.brandId=n),c===S.K8C.EMAILS_TO_MYSELF&&(_.keyword="from:"+o.join(" from:")+` to:${i}`);let E=(0,gc.jK)(c,_);c===S.K8C.EMAILS_TO_MYSELF&&r&&(E={name:S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL},l.mKey=cc.JE.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL),this.context.navigateTo({route:E,forceSync:c===S.K8C.NEWMAIL,i13nModel:l})})),PT(this,"handleFolderDelete",(({folder:e,i13nModel:t,hasSubFolder:s})=>{s||e.total>0?this.context.executeAction(dp.p2,{folderId:e.id,i13nModel:t}):this.deleteFolder({folderId:e.id,folderName:e.name,i13nModel:t})})),PT(this,"deleteFolder",(({folderId:e,folderName:t,i13nModel:s})=>{s=Object.assign({mKey:cc.JE.FOLDER_CONTEXTMENU_DELETE,sec:cc.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:cc.rO.deleteFldr},s),e===this.props.activeFolderId&&this.navigateToFolder({},this.props.defaultFolderId),this.props.onDeleteFolder({folderId:e,folderName:t,i13nModel:s})})),PT(this,"handleFolderMenuShow",(()=>{const e={mKey:cc.JE.FOLDER_CONTEXTMENU,sec:cc.nJ.LEFTRAIL_CONTEXTMENU};this.context.executeAction(dp.zA,{i13nModel:e})})),PT(this,"handleFolderCreate",(({folderName:e,i13nModel:t})=>{const{activeAccount:s}=this.props;t=Object.assign({mKey:cc.JE.ADD_FOLDER,sec:cc.nJ.LEFTRAIL_USERFOLDER,mKeyGroup:cc.rO.createFldr},t),this.context.executeAction(dp.L6,{folderName:(0,ds.R_)(e,s),accountId:s.id,i13nModel:t})})),PT(this,"handleSubfolderCreate",(({folderId:e,subfolderName:t,i13nModel:s})=>{const{activeAccount:a,getFolderFullName:n}=this.props,r=n(e);s=Object.assign({mKey:cc.JE.ADD_FOLDER,sec:cc.nJ.LEFTRAIL_USERFOLDER,mKeyGroup:cc.rO.createFldr},s),this.context.executeAction(dp.L6,{folderName:(0,ds.R_)(t,a,r),accountId:a.id,i13nModel:s})})),PT(this,"handleFolderRename",(({originalFolderName:e,newFolderName:t,folderId:s,i13nModel:a})=>{const{activeAccount:n,getFolderFullName:r}=this.props,o=r(s),i=o.substr(0,o.lastIndexOf(e)-1)||"";a=Object.assign({mKey:cc.JE.FOLDER_CONTEXTMENU_RENAME,sec:cc.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:cc.rO.renameFldr},a),this.props.onRenameFolder({folderName:(0,ds.R_)(t,n,i),folderId:s,i13nModel:a})})),PT(this,"handleFolderMove",(({folderName:e,folderId:t,destFolderId:s,placeFolderAtTopLevel:a,i13nModel:n})=>{const{activeAccount:r,getFolderFullName:o}=this.props,i=a?"":o(s);n=Object.assign({mKey:cc.JE.FOLDER_CONTEXTMENU_MOVE,sec:cc.nJ.LEFTRAIL_CONTEXTMENU},n),this.props.onMoveFolder({folderName:(0,ds.R_)(e,r,i),folderId:t,i13nModel:n})})),PT(this,"handleFolderMarkRead",(({folder:e,i13nModel:t})=>{const{streamId:s}=this.props;t=Object.assign({mKey:cc.JE.FOLDER_CONTEXTMENU_ALL_READ,sec:cc.nJ.LEFTRAIL_CONTEXTMENU,mKeyGroup:cc.rO.markRead},t),this.context.executeAction(dp.UA,{streamId:s,listId:this.props.listId,folderId:e.id,unreadCount:e.unread,i13nModel:t})})),PT(this,"handleFolderArchive",(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:cc.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE,sec:cc.nJ.LEFTRAIL_CONTEXTMENU,interactionType:(0,Pa.getInteractionFromEvent)(e),mKeyGroup:cc.rO.archiveMsg,actionData:{numMsg:s.total}};this.context.executeAction(dp.tk,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()})),PT(this,"handleFolderDrop",((e,t)=>{const{streamId:s,isSelectAll:a}=this.props,{doesStreamExist:n,getFoldersSelectors:r,getSelectedStreamItems:o}=(0,Oc.selectors)(this.context.store.getState()),i=(n(s)?o(s):[]).map((({id:e})=>e)),{isSpamFolder:l}=r();a&&l(null==t?void 0:t.destinationFolderId)||i&&i.length>0&&this.context.executeAction(e,{streamId:s,...t,messageGroupIds:i,...1===i.length?{streamItem:{id:i[0],listId:t.listId}}:{}})})),PT(this,"handleExpandFolderToggle",((e,t)=>{const{expandedFolders:s}=this.props,{getFoldersSelectors:a}=(0,Oc.selectors)(this.context.store.getState()),{getFolderLevelByFolderId:n}=a();if(!(0===n(e)))return;const r=s.indexOf(e),o=-1!==r;let i;if(t&&!o)i=(0,nA.R3)(s,e);else{if(t||!o)return;i=(0,nA.Od)(s,r,1)}this.props.changeSettings({name:S.Zrf.EXPANDED_FOLDERS,value:i})})),PT(this,"handleToggleSmartViews",(e=>{this.props.changeSettings({name:S.Zrf.SHOW_SMART_VIEWS,value:e})})),PT(this,"handleToggleCustomFolders",(e=>{this.props.changeSettings({name:S.Zrf.SHOW_CUSTOM_FOLDERS,value:e})})),PT(this,"handleToggleAccountsLinkClick",(e=>{e.preventDefault();const t={mKey:this.state.toggleAccountsList?cc.JE.COLLAPSE_ACCOUNT_SWITCHER:cc.JE.EXPAND_ACCOUNT_SWITCHER,sec:cc.nJ.LEFTRAIL_ACCOUNTS,interactionType:(0,Pa.getInteractionFromEvent)(e)};this.context.executeAction(dp.WD,{i13nModel:t}),this.setState({toggleAccountsList:!this.state.toggleAccountsList})})),PT(this,"showConfirmDialog",((e,t)=>{this.setState({confirmRequested:!0,confirmType:e,selectedFolder:t})})),PT(this,"hideConfirm",(()=>{this.setState({confirmRequested:!1,confirmType:null,selectedFolder:null})})),PT(this,"handleFolderClear",(e=>{const{streamId:t}=this.props,{selectedFolder:s}=this.state,a={mKey:-1!==[S.Sck.BULK,S.Sck.TRASH].indexOf(s.type)?cc.JE.FOLDER_CONTEXTMENU_EMPTY:cc.JE.FOLDER_CONTEXTMENU_ALL_DELETE,sec:cc.nJ.LEFTRAIL_CONTEXTMENU,interactionType:(0,Pa.getInteractionFromEvent)(e),mKeyGroup:cc.rO.deleteMsg,actionData:{numMsg:s.total}};this.context.executeAction(dp.HE,{streamId:t,folderId:s.id,total:s.total,i13nModel:a}),this.hideConfirm()})),PT(this,"navigateToInbox",(e=>{this.handleFolderClick(e,this.props.defaultFolderId,{mKey:cc.JE.INBOX_FOLDER,sec:cc.nJ.LEFTRAIL_SYSFOLDER,interactionType:(0,Pa.getInteractionFromEvent)(e)}),this.folderList&&(this.folderList.scrollTop=0)})),PT(this,"handleScroll",(()=>{const e=this.folderList.scrollTop;this.state.scrollingUnder&&e<1?this.setState({scrollingUnder:!1}):!this.state.scrollingUnder&&e>0&&this.setState({scrollingUnder:!0})})),PT(this,"handleToggleSystemFolders",(e=>{const t={mKey:!0===e?cc.JE.SETTINGS_EXPAND_SYSTEM_FOLDERS:cc.JE.SETTINGS_COLLAPSE_SYSTEM_FOLDERS,sec:cc.nJ.LEFTRAIL_SYSFOLDER,interactionType:cc.Rb.click};this.props.changeSettings({name:S.Zrf.SHOW_ALL_SYSTEM_FOLDERS,value:e,i13nModel:t})})),PT(this,"renderConfirmDialog",(()=>{const{formatMessage:e}=this.context.intl,{selectedFolder:t,confirmType:s}=this.state,{conversations:a}=this.props,n=vl.createElement("strong",null,'"',vl.createElement(vd.Z,{folderId:t.id}),'"'),r=this.props.isPermDeleteFolderType(t.id);switch(s){case S.wi4.CLEAR_FOLDER:return vl.createElement(QC.Z,{title:e(bT.confirm_folder_delete_all_title),onConfirm:this.handleFolderClear,onAbort:this.hideConfirm},r?vl.createElement(Gl.FormattedMessage,{id:"confirm.folder_delete_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                      } from {folderName}?",values:{emailsNum:t.total,folderName:n,conversations:a}}):vl.createElement(Gl.FormattedMessage,{id:"confirm.folder_delete_move_all_message",defaultMessage:"Are you sure you want to delete {emailsNum, plural, one {the} other {all}}\n                                      {conversations, select,\n                                        true {{emailsNum, plural,\n                                            one {conversation}\n                                            other {# conversations}\n                                        }}\n                                        false {{emailsNum, plural,\n                                            one {message}\n                                            other {# messages}\n                                        }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to the Trash?",values:{emailsNum:t.total,folderName:n,conversations:a}}));case S.wi4.ARCHIVE_FOLDER:{const s=t.type===S.Sck.INBOX,{confirm_inbox_archive_all_title:r,confirm_inbox_archive_all_personalized_title:o,confirm_folder_archive_all_title:i,archive_emails_button_label:l}=bT,c=this.props.activeAccount.sendingName;let d;return d=s?c?o:r:i,vl.createElement(QC.Z,{title:e(d,{sendingName:c}),onConfirm:this.handleFolderArchive,onAbort:this.hideConfirm,hideIcon:!0,acceptLabel:l},s?vl.createElement(Gl.FormattedMessage,{id:"confirm.inbox_archive_all_message",defaultMessage:"You can start with a clean inbox by archiving {emailsNum, plural, one {the} other {all}}\n                                        {conversations, select,\n                                            true {{emailsNum, plural,\n                                                one {conversation}\n                                                other {# conversations}\n                                            }}\n                                            false {{emailsNum, plural,\n                                                one {message}\n                                                other {# messages}\n                                            }}\n                                        } (instead of deleting).\n                                        Don't worry, to find {emailsNum, plural, one {it} other {them}} later, simply go to the Archive folder.",values:{emailsNum:t.total,folderName:n,conversations:a}}):vl.createElement(Gl.FormattedMessage,{id:"confirm.folder_archive_all_message",defaultMessage:"Are you sure you want to archive {emailsNum, plural, one {the} other {all}}\n                                    {conversations, select,\n                                      true {{emailsNum, plural,\n                                          one {conversation}\n                                          other {# conversations}\n                                      }}\n                                      false {{emailsNum, plural,\n                                          one {message}\n                                          other {# messages}\n                                      }}\n                                    }, moving {emailsNum, plural, one {it} other {them}} from {folderName} to your Archive folder?",values:{emailsNum:t.total,folderName:n,conversations:a}}))}default:return null}}))}componentDidMount(){this.context.bindShortcut(yT,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(yT)}render(){const{appRootPath:e,tutorial:t,activeAccount:a,isRTL:n,isPrimaryAccountDisabled:r,showStorefrontView:o,switchableAccounts:i}=this.props,l=this.context.getCss(MT(),{scrollingUnder:this.state.scrollingUnder,isRTL:n}),c=i.length;return vl.createElement(aS.Z,{"data-test-id":"navigation",className:l.container+" navigation",circularNavigation:!1,groupTabIndex:Fe.iUz.FOLDER_LIST},vl.createElement("div",{ref:e=>{this.composeBtn=e}},vl.createElement(XC,{appRootPath:e})),vl.createElement("div",{className:l.shadow}),vl.createElement("div",{className:l.folderList,onScroll:this.handleScroll,"data-test-id":"left-rail-scrolling-container",ref:e=>this.folderList=e,onDragOver:this.handleDragScroll,onDrop:e=>e.preventDefault()},c>1||r?vl.createElement(Np,{activeAccountId:this.props.activeAccount.id,switchableAccounts:i,toggleAccountsList:this.state.toggleAccountsList,expiredAccounts:this.props.expiredAccounts,onClick:this.handleFolderClick,showOffice365Cue:this.props.showOffice365Cue,isRTL:this.props.isRTL,localeBasedNumberFormatting:this.props.localeBasedNumberFormatting}):null,c>1||r?vl.createElement(aA,{onClick:this.handleToggleAccountsLinkClick}):null,vl.createElement(LT,{tutorial:t,travelView:this.props.travelView,activeAccountId:this.props.activeAccount.id,customFolderList:this.props.customFolderList,systemFolderListWithSmartView:this.props.systemFolderListWithSmartView,sortOrder:this.props.folderListSortOrder,highlightFolderId:this.props.activeFolderId,folderRefreshing:this.props.folderRefreshing,onFolderOpen:this.handleFolderClick,onFolderDelete:this.handleFolderDelete,onFolderCreate:this.handleFolderCreate,onFolderMarkRead:this.handleFolderMarkRead,onFolderArchive:this.showConfirmDialog.bind(this,S.wi4.ARCHIVE_FOLDER),onFolderDrop:this.handleFolderDrop,onFolderClear:this.showConfirmDialog.bind(this,S.wi4.CLEAR_FOLDER),onSubfolderCreate:this.handleSubfolderCreate,onFolderMenuShow:this.handleFolderMenuShow,onFolderRename:this.handleFolderRename,onFolderMove:this.handleFolderMove,onSmartViewOpen:this.handleSmartViewClick,onToggleSmartViews:this.handleToggleSmartViews,showSmartViews:this.props.showSmartViews,onFolderExpandToggle:this.handleExpandFolderToggle,onToggleCustomFolders:this.handleToggleCustomFolders,showPhotosCue:this.props.showPhotosCue,showStarredCue:this.props.showStarredCue,showCouponsViewCue:this.props.showCouponsViewCue,expandedFolders:this.props.expandedFolders,showCustomFolders:this.props.showCustomFolders,showAllSystemFolders:this.props.showAllSystemFolders,handleToggleSystemFolders:this.handleToggleSystemFolders,showCouponsView:this.props.showCouponsView,showCouponEmailsView:this.props.showCouponEmailsView,showReceiptsView:this.props.showReceiptsView,showWalletView:this.props.showWalletView,showDealsViewCue:this.props.showDealsViewCue,showSubscriptionsView:this.props.showSubscriptionsView,showStorefrontView:o,showAttachmentsView:this.props.showAttachmentsView,showMailproFreeTrialUpsell:this.props.showMailproFreeTrialUpsell,enableSmartviews:this.props.enableSmartviews,showEmailsToMyselfView:this.props.showEmailsToMyselfView,contactsFullPane:this.props.contactsFullPane,viewsUnderInboxEnabled:this.props.viewsUnderInboxEnabled,isAolSubBrand:this.props.isAolSubBrand}),this.state.confirmRequested?this.renderConfirmDialog():null,vl.createElement("div",null,vl.createElement(pc.cr,{defer:!0,import:"../../molecules/panel_stack/index",accountId:a.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,73794))},_moduleResolver:function(){return 73794}}))))}}PT(FT,"contextTypes",{executeAction:yl().func,navigateTo:yl().func.isRequired,getCss:yl().func,intl:Gl.intlShape.isRequired,config:yl().object,bindShortcut:yl().func,unbindShortcut:yl().func,store:yl().object.isRequired});const UT=(0,Fl.connect)(((e,{listId:t})=>{var s;const{getRoute:a,getSelectedAccountIdByRoute:n,getAccountById:r,isListStale:o,isListRefreshing:i,getRootAccountsWithDefaultFolder:l,getExpiredAccounts:c,getDefaultFolderIdForSelectedAccount:d,isPermDeleteFolderType:_,getMainStreamListIds:E,getCustomFolderListForDisplaying:u,getSystemFolderListWithSmartView:m,getSmartViewTypeFromListId:p,isFeatureEnabled:C,getSetting:A,getSettingsPageRoute:T,getEnvironmentSelectors:I,getAccountSelectors:h,getFolderFullName:g,getDefaultFolderRoute:O,getMailPremiumFreeTrialSelectors:D,getStorefrontBrandsSelectors:R,getSwitchableAccounts:N,doesStreamExist:L,getStreamSelectionType:f,getAllValidSendEmailsForEmailsToMyself:M,getEmailOfSelectedAccount:P}=(0,Oc.selectors)(e),b=a(),y=l(),v=r(n(b)),F=o(t)&&i(t),U=(0,Rc.Fh)(t),k=A("appRootPath"),w=C(S.ANe.CONVERSATIONS),G=C(S.ANe.IS_AOL_SUB_BRAND),{getAllStorefrontBrands:H}=R(),B=N(),x=(null===(s=H()[0])||void 0===s?void 0:s.brandId)||"";let V,Z;b.name===S.n8z.FOLDER||b.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||(0,Rc.Qe)(t)?V=U:b.name===S.n8z.TUTORIAL?V=S.K8C.TUTORIAL:b.name===S.n8z.CONTACTS?V=S.K8C.CONTACTS_FULL_PANE:b.name===S.n8z.SUBSCRIPTION_LIST?V=S.K8C.SUBSCRIPTIONS:b.name===S.n8z.STOREFRONT?V=S.K8C.STOREFRONT:b.name===S.n8z.WALLET?V=S.K8C.WALLET:(0,Rc.aY)(t)===S.qd8.FOCUSED_INBOX?V=d():(0,Rc.GG)(t)&&(V=p(t));const W=T();W&&(Z=W.params.settingsGroupId);const K=(0,$E.BA)(E(a())),z=D().getUpsellId(),{PRE_SIGNUP_LEFT_PANEL_1:Y,PRE_SIGNUP_LEFT_PANEL_2:j,PRE_SIGNUP_LEFT_PANEL_3:q}=S.$AH,X=[Y,j,q].indexOf(z)>-1,Q=C(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&X,J=M();return{isSelectAll:!!L(K)&&f(K)===S.ie0.BULK,route:b,rootAccounts:y,switchableAccounts:B,conversations:w,isPrimaryAccountDisabled:h().isPrimaryAccountDisabled(),activeAccount:v,expandedFolders:A(S.Zrf.EXPANDED_FOLDERS),showCustomFolders:C(S.Zrf.SHOW_CUSTOM_FOLDERS),showSmartViews:C(S.Zrf.SHOW_SMART_VIEWS),folderRefreshing:F,activeFolderId:V,activeSettingsGroupId:Z,expiredAccounts:c(),showAllSystemFolders:C("showAllSystemFolders"),appRootPath:k,tutorial:C(S.ANe.TUTORIAL),travelView:C(S.ANe.TRAVEL_VIEW),showCouponsView:!1,showCouponEmailsView:!1,showReceiptsView:C(S.ANe.RECEIPTS),showWalletView:C(S.ANe.WALLET),showSubscriptionsView:C(S.ANe.SUBSCRIPTION_LIST),showStorefrontView:C(S.ANe.STOREFRONT),showAttachmentsView:C(S.ANe.SMARTVIEW_ATTACHMNENTS),showPhotosCue:C(S.ANe.PHOTOS_CUE),showStarredCue:C(S.ANe.STARRED_CUE),showCouponsViewCue:C(S.ANe.COUPONS_VIEW_CUE),showCategoryFollowingCue:C(S.ANe.CATEGORY_FOLLOWING_CUE),showPkgTrackingCue:C(S.ANe.PKG_TRACKING_CUE),defaultFolderId:d(),defaultFolderRoute:O(d()),streamId:K,isPermDeleteFolderType:_,customFolderList:u(v.id),systemFolderListWithSmartView:m(v.id),isRTL:"rtl"===I().getPageDirection(),showDealsViewCue:C(S.ANe.DEALS_VIEW_CUE),showOffice365Cue:C(S.ANe.OFFICE365_CUE),isSenderRollupEnabled:C(S.ANe.SENDER_ROLLUP),getFolderFullName:e=>g(e),defaultStorefrontBrandId:x,showMailproFreeTrialUpsell:Q,enableSmartviews:C(S.ANe.SMARTVIEWS),showEmailsToMyselfView:C(S.ANe.EMAILS_TO_MYSELF),emailsToMyselfMailPlusUpsellEnabled:C(S.ANe.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL),contactsFullPane:C(S.ANe.CONTACTS_FULL_PANE),localeBasedNumberFormatting:C(S.ANe.SHOW_FORMATTED_UNREAD_COUNT),viewsUnderInboxEnabled:C(S.ANe.VIEWS_UNDER_INBOX),allValidSendEmailsForEmailsToMyself:J,email:P(),isAolSubBrand:G}}),(e=>({onMoveFolder:t=>e((0,Ep.J1)(t)),onRenameFolder:t=>e((0,Ep.p0)(t)),onDeleteFolder:t=>e((0,Ep.Go)(t)),changeSettings:t=>e((0,_p.Dy)(t))})),void 0,{areOwnPropsEqual:h.PJ,areStatePropsEqual:h.PJ})(FT);var kT=s(71799),wT=s.n(kT);const GT=e=>{const{themeMode:t}=(0,vl.useContext)(MA.Z),s=(0,Hc.Z)(wT(),{higherOpacity:e.viewsUnderInboxEnabled||e.isPriorityInboxEnabled&&t===S.zgU.LIGHT,viewsUnderInboxDarkStyles:e.viewsUnderInboxEnabled&&e.isDarkTheme}),a={capture:!0},n=(0,vl.useRef)(),r=(0,vl.useRef)();r.current=void 0;const o=(t,s=!1)=>{const{clientX:a}=t;var n;e.setLeftRailWidth((n=a,Math.min(Math.max(n,Fe.nNF),Fe.GxM)),s)},i=()=>{r.current&&n.current&&(r.current.removeEventListener("mouseup",n.current.onMouseUpRef,a),r.current.removeEventListener("mousemove",n.current.onMouseMoveRef,a),r.current.removeEventListener("mouseleave",n.current.onMouseLeaveRef,a),document.body.removeChild(r.current))},l=e=>{o(e),e.stopPropagation()},c=e=>{i(),e.stopPropagation()},d=e=>{i(),o(e,!0),e.stopPropagation()};return vl.createElement("span",{className:s.navResizer,"data-test-id":"nav-resizer",onMouseDown:e=>{const t=document.createElement("div");r.current=t,t.className=s.dragShield,t.setAttribute("data-test-id","div-shield"),document.body.appendChild(t),n.current={onMouseUpRef:d,onMouseMoveRef:l,onMouseLeaveRef:c},t.addEventListener("mouseup",n.current.onMouseUpRef,a),t.addEventListener("mousemove",n.current.onMouseMoveRef,a),t.addEventListener("mouseleave",n.current.onMouseLeaveRef,a),e.stopPropagation(),e.preventDefault()}})};var HT=s(71995),BT=s(78546),xT=s.n(BT);const VT=ic()(xT());function ZT({children:e}){return vl.createElement("div",{className:VT.compose,"data-test-id":"compose-styler"},e)}function WT(){return(WT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const KT=e=>vl.createElement(ZT,null,vl.createElement(HT.ZP,WT({initialShowSubject:!0},e,{isCompactCompose:!1})));var zT=s(77746),YT=s(88641),jT=s.n(YT),qT=s(23222),XT=s(35960),QT=s(78414),JT=s.n(QT);const $T=(0,Fl.connect)((e=>{const{getCurrentFolderDetails:t,getSetting:s}=(0,Oc.selectors)(e),{isAccountSyncing:a,getFormattedFolderName:n}=t(),r=s(S.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA);return{isAccountSyncing:a,themeMode:s(S.Zrf.THEME_MODE),getFormattedFolderName:n,...r}}),null)((e=>{const{ctaText:t,impressionTracker:s,isAccountSyncing:a,themeMode:n,offerImg:r,offerImgAlt:o,redirectUrl:i,getFormattedFolderName:l}=e,{formatMessage:c}=(0,Fm.Y)(),d=n===S.zgU.DARK,_=(0,Hc.Z)(JT(),{isAccountSyncing:a}),E=!(0,h.xb)(r)&&i,u=l(c),m={width:"100%",height:"100%",backgroundColor:d?Fe.FsO:Fe.Cjz,zIndex:1,display:"block",overflowY:"auto"};(0,vl.useEffect)((()=>{s&&(0,GE.Z)(s,!1)}),[s]);return E?vl.createElement(XT.Z,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:m},vl.createElement("div",{"data-test-id":"smu-header",className:_.header},a?vl.createElement("div",null,vl.createElement("div",null,vl.createElement("img",{"data-test-id":"empty-img",src:(0,wA.A)("/img/sync_message_1x.png"),srcSet:(0,wA.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:_.syncImage})),vl.createElement("div",{className:_.syncMessage},vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."})),vl.createElement("div",{className:_.syncWaitMessage},vl.createElement(Gl.FormattedMessage,{id:"sync_folder_wait_message",defaultMessage:"Check back soon to see your messages."})))):vl.createElement(Gl.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:vl.createElement("span",{"data-test-id":"efv-folder-name",className:_.folderName},u)}})),!a&&vl.createElement("div",{"data-test-id":"smu-container",className:_.container},vl.createElement("div",{className:_.contentContainer,"aria-label":o||t},vl.createElement("a",{href:i,rel:"noreferrer noopener",target:"_blank",tabIndex:-1,onClick:e=>{$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.EMPTY_FOLDER_STATIC_MAIL_PLUS_UPSELL_CLICK,sec:cc.nJ.MAIL_PLUS_UPSELL,interactionType:(0,Pa.getInteractionFromEvent)(e)}})},"aria-hidden":!0},vl.createElement("img",{"data-test-id":"empty-img",src:r.oneX,srcSet:(r.twoX||r.oneX)+" 2x",alt:o||t,className:_.offerImg}))))):null})),eI=_e().create("norrin/empty_folder_video");var tI=s(67373),sI=s(26482),aI=s.n(sI),nI=s(34866);function rI(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const oI=(0,Gl.defineMessages)({hide:{id:"efv_hide",defaultMessage:"Hide"},featured:{id:"efv_featured_channel",defaultMessage:"Featured"},news:{id:"efv_news_channel",defaultMessage:"News"},finance:{id:"efv_finance_channel",defaultMessage:"Finance"},sports:{id:"efv_sports_channel",defaultMessage:"Sports"},lifestyles:{id:"efv_lifestyles_channel",defaultMessage:"Lifestyles"},entertainment:{id:"efv_entertainment_channel",defaultMessage:"Entertainment"}});class iI extends vl.Component{constructor(...e){super(...e),rI(this,"closePlayer",(e=>{e.preventDefault(),this.props.handleCloseVideoPlayer()})),rI(this,"changeChannel",((e,t)=>{t.preventDefault(),this.props.changeChannel(e)})),rI(this,"renderChannels",(()=>{const{currentChannel:e,channels:t,channelData:s}=this.props;return Object.keys(t).map((t=>{const a=t===e,n=ic()(aI(),{active:a}),r=s[t]?s[t].channelName:"";return vl.createElement(Ip.Z,{key:t,name:t},vl.createElement(tc.Z,{kind:sc.F.MENUITEM,onClick:this.changeChannel.bind(this,t),title:r,"aria-label":r},a?vl.createElement("span",{className:n.checkMark},vl.createElement(Bl.Z,{kind:xl.Kinds.CHECKMARK,size:xl.Sizes.XS,colorState:xl.ColorStates.NORMAL})):null,vl.createElement("span",{className:n.channelTab},r)))}))}))}render(){const{formatMessage:e}=this.context.intl,{currentChannel:t,channelData:s,isDarkTheme:a}=this.props,n=ic()(aI(),{isDarkTheme:a}),r=s[t]?s[t].channelName:"";return vl.createElement("div",{"data-test-id":"efv-toolbar",className:n.container},!this.props.aolVideoPlayer&&vl.createElement(Jl.Z,null,vl.createElement($l.Z,null,vl.createElement("div",{"data-test-id":"efv-channel-list",className:n.categoryFilterContainer},r&&vl.createElement("p",{className:n.categoryFilterHeader},r),vl.createElement(Hl.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:xl.Kinds.CHEVRON_UP,colorState:xl.ColorStates.INHERITED,size:xl.Sizes.S,rotate:xl.Rotate.D180}))),vl.createElement(Ql.ZP,{triggerOn:ec.K2.CLICK,isArrowVisible:!1,offset:12},vl.createElement("div",null,vl.createElement(ac.Z,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},this.renderChannels())))),vl.createElement(nI.Z,null),vl.createElement("span",{className:n.closeWrapper},vl.createElement(tC.Z,{"data-test-id":"efv-toolbar-close",kind:xl.Kinds.CLOSE,size:xl.Sizes.XS,onClick:this.closePlayer,title:e(oI.hide),colorStates:{normal:a?xl.ColorStates.WHITE:xl.ColorStates.NORMAL,hovered:xl.ColorStates.SELECTED}})))}}rI(iI,"contextTypes",{intl:Gl.intlShape});const lI=iI;var cI=s(94697),dI=s.n(cI),_I=s(57438);const EI="640px",uI="360px",mI={mute:!0,playlistUI:{show:!0,position:"bottom"},YVAP:{accountId:"1097",timeout:20,vpaidTimeout:20},site:"Mail",html5:!1,expName:"mailemptyfolderHTML5"};var SI=s(25869);class pI extends vl.Component{constructor(){super(),this.handleIframeLoaded=this.handleIframeLoaded.bind(this)}UNSAFE_componentWillReceiveProps(e){this.playerApi&&this.props.play!==e.play&&(e.play?this.playerApi.play():this.playerApi.pause())}handleIframeLoaded(e){this.playerApi||SI.Z.loadScript(this.props.videoPlayerUrl).then((()=>{window.oath&&window.oath.player&&window.oath.player.loadIframeApi(e,(e=>{this.playerApi=e,this.props.play||this.playerApi.pause()}))}))}render(){const{width:e,height:t,videoPlayerIframeSrc:s}=this.props;return vl.createElement("iframe",{"data-test-id":"aol-video-player",ref:this.handleIframeLoaded,src:s,sandbox:"allow-same-origin allow-scripts",allow:"autoplay",allowFullScreen:!0,width:e,height:t,frameBorder:"0"})}}const CI=(0,Fl.connect)((e=>{const{getSetting:t}=(0,Oc.selectors)(e);return{videoPlayerUrl:t(S.Zrf.AOL_VIDEO_PLAYER_URL),videoPlayerIframeSrc:t(S.Zrf.AOL_VIDEO_PLAYER_IFRAME_SRC)}}))(pI);var AI=s(47954),TI=s.n(AI);const II=()=>{const e=ic()(TI());return vl.createElement(vl.Fragment,null,vl.createElement("div",null,vl.createElement("img",{"data-test-id":"empty-img",src:(0,wA.A)("/img/sync_message_1x.png"),srcSet:(0,wA.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:e.syncImage})),vl.createElement("div",{className:e.syncMessage},vl.createElement("div",null,vl.createElement(Gl.FormattedMessage,{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."})),vl.createElement("div",{className:e.syncWaitMessage},vl.createElement(Gl.FormattedMessage,{id:"sync_folder_wait_message",defaultMessage:"Check back soon to see your messages."}))))};var hI=s(45794);function gI(){return(gI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function OI(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const DI=(0,Gl.defineMessages)({sub_header:{id:"efv_sub_header",defaultMessage:"Catch up on the most popular videos on {yahooBrandNameString}"}});class RI extends vl.Component{constructor(...e){super(...e),OI(this,"_playerConfig",this.props.playerConfig||this._playerConfig),OI(this,"logPlayerEvent",((e={},t)=>{let s=e;if("object"==typeof e){const{adBreakId:t,videoId:a,adBreakItemId:n}=e;s={adBreakId:t,videoId:a,adBreakItemId:n}}eI.info("Empty folder video "+t,{payload:s})})),OI(this,"videoPlayerCallbacks",["onAdPlaybackEnd","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce(((e,t)=>(e[t]=e=>this.logPlayerEvent(e,t),e)),{})),OI(this,"constructPlayerConfig",(()=>{const{channelData:e,currentChannel:t,spaceId:s,channels:a,autoplay:n,videoPlayerSapiCobrand:r,appContext:{getThemeMode:o,mail:i}}=this.props,{region:l}=i,c=o()===Kl.zg.DARK;let d={};for(const m in e)if(m===t){d=e[m];break}if(!(0,h.u9)(d,"channelVideos.length",null))return null;const _={mediaItems:[{id:d.channelVideos[0].playlistId}],id:a[t.toLowerCase()]},E=r?{pluginConfigs:{"source-metadata-plugin":{"media/sapi":{qs:{"ad.cobrand":r}}}}}:{},u=Object.assign({pageSpaceId:s,region:l,playlist:_,autoplay:n,...E},mI);return c&&(u.playlistUI.theme="dark"),u})),OI(this,"openPlayer",(e=>{e.preventDefault(),this.props.handleOpenVideoPlayer()})),OI(this,"onUIInteract",(e=>{const{srcElement:t}=e,{handleVideoPlay:s,handleVideoPause:a}=this.props;switch(t){case"ctrl-play-btn":return s();case"ctrl-pause-btn":return a();case"ui_pl_thmb_clk":eI.info("Playlist UI clicked")}})),OI(this,"handleMuteToggled",(e=>{this.mute=e})),OI(this,"renderHeader",(()=>{const{showVideoPlayer:e,isAccountSyncing:t,getFormattedFolderName:s,appContext:{intl:a,getThemeMode:n,mail:r}}=this.props,{yahooBrandNameString:o}=r,i=n()===Kl.zg.DARK,l=ic()(dI(),{videoHidden:t||!e||!this._playerConfig,isDarkTheme:i});return t?vl.createElement("div",{"data-test-id":"efv-header",className:l.header},vl.createElement(II,null),";"):vl.createElement("div",{"data-test-id":"efv-header",className:l.header},vl.createElement(Gl.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:vl.createElement("span",{"data-test-id":"efv-folder-name",className:l.folderName},s(a.formatMessage))}}),this._playerConfig?vl.createElement("div",{"data-test-id":"efv-subheader",className:l.subHeader,onClick:e?null:this.openPlayer},vl.createElement(Gl.FormattedMessage,gI({},DI.sub_header,{values:{yahooBrandNameString:o}}))):null)})),OI(this,"onPlaybackStart",((e,t)=>{this.logPlayerEvent(e,t),this.props.showEmptyFolderVideo&&this.props.isAppVisible||this.forceUpdate()})),OI(this,"renderVideoPlayerContent",(()=>{const{isPaused:e,currentChannel:t,showEmptyFolderVideo:s,aolVideoPlayer:a,isAppVisible:n,appContext:{getThemeMode:r}}=this.props,o=r()===Kl.zg.DARK,i=ic()(dI(),{aolVideoPlayer:a,isDarkTheme:o});return vl.createElement("div",{"data-test-id":s?"efv-container-visible":"efv-container-hidden",className:i.container},vl.createElement(lI,gI({},this.props,{isDarkTheme:o})),vl.createElement("div",{className:i.contentContainer},this.renderHeader(),vl.createElement("div",{"data-test-id":"video-container",className:i.videoContainer},a?vl.createElement(CI,{play:s,width:EI,height:uI}):vl.createElement(tI.Z,gI({playerConfig:this._playerConfig,width:"100%",height:"100%",play:s&&!e&&n,mute:this.mute,showVideoCoverInitially:!s},this.videoPlayerCallbacks,{onUIInteract:this.onUIInteract,onPlaybackStart:e=>this.onPlaybackStart(e,"onPlaybackStart"),onAdPlaybackStart:e=>this.onPlaybackStart(e,"onAdPlaybackStart"),onMute:this.handleMuteToggled,key:t})))))}))}render(){const{getFormattedFolderName:e,showVideoPlayer:t,showEmptyFolderVideo:s,aolVideoPlayer:a,appContext:{intl:n,getThemeMode:r}}=this.props,o=r()===Kl.zg.DARK,i=!!e(n.formatMessage),l={width:"100%",height:"100%",backgroundColor:o?Fe.FsO:Fe.Cjz,zIndex:1};return l.display=s?"block":"none",this._playerConfig=a?this._playerConfig||s:this.constructPlayerConfig(),i?vl.createElement(XT.Z,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:l},t&&this._playerConfig?this.renderVideoPlayerContent():this.renderHeader()):null}}const NI=(0,Fl.connect)((e=>{const{getVideoPlayerSelectors:t,getVideoChannelsMetaData:s,getFeaturesSelectors:a,getCurrentSpaceId:n,getCurrentFolderDetails:r,isAppVisible:o}=(0,Oc.selectors)(e),{getSetting:i,isEnabled:l}=a(),{listId:c,getFormattedFolderName:d,isAccountSyncing:_,isEmptyFolderUpsellEligible:E}=r(),{getCurrentChannel:u,getShowVideoPlayer:m,getIsPaused:p}=t(),C=u(),A=s(),T=p(),I=i(S.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS),h=l(S.ANe.AUTOPLAY_EMPTY_FOLDER_VIDEO),g=l(S.ANe.AOL_VIDEO_PLAYER),O=n();return{currentChannel:C,showVideoPlayer:m()&&!_,channelData:A,isPaused:T,showEmptyFolderVideo:E,channels:I,autoplay:h,listId:c,spaceId:O,isAccountSyncing:_,aolVideoPlayer:g,videoPlayerSapiCobrand:i(S.Zrf.VIDEO_PLAYER_SAPI_COBRAND),getFormattedFolderName:d,isAppVisible:o()}}),(e=>({handleOpenVideoPlayer(){e((0,_I.Re)())},handleCloseVideoPlayer(){e((0,_I.wq)())},changeChannel(t){e((0,_I.u3)({channelAlias:t}))},handleVideoPlay(){e((0,_I.Fn)())},handleVideoPause(){e((0,_I.Fd)())}})))((0,hI.N)(RI));var LI=s(93568);function fI(){return(fI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const MI={_data:{},get(e){return this._data[e]||{lastPageScrollTop:0}},set(e,t){this._data[e]=t}};const PI=(0,Fl.connect)(((e,t)=>{const{getSetting:s,isFeatureEnabled:a}=(0,Oc.selectors)(e);return{listId:t.listId,itemListPageThreshold:s(S.Zrf.ITEM_LIST_PAGE_THRESHOLD),isScrollToSearchEnabled:a(S.ANe.SCROLL_TO_SEARCH)}}),(e=>({scrollToSearchPageScroll:t=>e((0,LI.W)(t))})))(function(e){const t=e.displayName,s=t=>{const{listId:s,scrollToSearchPageScroll:a,isScrollToSearchEnabled:n,itemListPageThreshold:r}=t,o=(0,vl.useRef)(MI.get(s).lastPageScrollTop);(0,vl.useEffect)((()=>(o.current=MI.get(s).lastPageScrollTop,()=>{MI.set(s,{lastPageScrollTop:o.current})})),[s]);const i=(0,vl.useCallback)((({newScrollTop:e})=>{n&&Math.abs(e-o.current)>r&&(a({}),o.current=e)}),[n,r,a]),l=_()(t,["itemListPageThreshold","isScrollToSearchEnabled","scrollToSearchPageScroll"]);return vl.createElement(e,fI({handleScrollToBottom:i},l))};return s.displayName=`withScrollNotify(${t})`,s}(qT.Z));var bI=s(51799),yI=s(52463),vI=s.n(yI);const FI=(0,Fl.connect)((e=>{const{getCurrentFolderDetails:t,isFeatureEnabled:s}=(0,Oc.selectors)(e),{isSystemFolder:a,getFormattedFolderName:n,isAccountSyncing:r}=t();return{getFormattedFolderName:n,isSystemFolder:a,isAccountSyncing:r,gamEnabled:s(S.ANe.GAM)}}),void 0)((e=>{const{isAccountSyncing:t,gamEnabled:s}=e,{formatMessage:a}=(0,Fm.Y)(),n=(0,Hc.Z)(vI());return t?vl.createElement("div",{className:n.header},vl.createElement(II,null)):vl.createElement("div",{className:n.container},(()=>{const{getFormattedFolderName:t}=e,s=t(a);return vl.createElement("div",{className:n.header},vl.createElement(Gl.FormattedMessage,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:vl.createElement("span",{className:n.folderName},s)}}))})(),vl.createElement("div",{className:n.adContainer},s?vl.createElement(QS,{adLocation:FS.Ej.EMPTY_FOLDER}):vl.createElement(DS,null)))}));var UI=s(70593),kI=s.n(UI);const wI=()=>{const[e,t]=(0,vl.useState)(!1),s=(0,vl.useRef)(null),a=(0,Hc.Z)(kI());if((0,vl.useEffect)((()=>{const e=document.getElementById("app"),n=document.createElement("div");n.setAttribute("aria-hidden","true"),n.className=a.container,e&&(e.appendChild(n),s.current=n,t(!0))}),[a]),!e)return null;const n=vl.createElement("iframe",{sandbox:"","data-test-id":"opaque-origin-iframe"});return(0,wl.createPortal)(n,s.current)};const GI=(0,Gl.defineMessages)({message_list:{id:"landmark.message_list",defaultMessage:"{previewpane, plural, =0 {Message list.} one {Message list. Currently in right preview mode. Use Shift + V to switch to another preview mode.} other {Message list. Currently in bottom preview mode. Use Shift + V to switch to another preview mode.}}"}});class HI extends vl.Component{render(){const{previewpane:e,listId:t,haveScrollToTop:s,isInboxFolder:a,showEmptyFolderStaticMailplusUpsell:n,showEmptyFolderVideo:r,showEmptyFolderDisplayAd:o,showInlinePrompt:i,couldShowEmptyFolderVideo:l,emptyFolderAlterEnabled:c,emptyFolderAlterUpsellType:d}=this.props,{formatMessage:_}=this.context.intl,E=this.context.getCss(jT());if(i)return vl.createElement(bI.Z,null);if(o)return vl.createElement(FI,null);if(l){if(c)return d===S.GyM.EMPTY_FOLDER_VIDEO?vl.createElement(NI,null):vl.createElement($T,null);if(r)return vl.createElement(NI,null);if(n)return vl.createElement($T,null)}const u=a?PI:qT.Z;return vl.createElement("div",{className:E.container,"data-test-id":"mail-reader-container",role:"main","aria-label":_(GI.message_list,{previewpane:e})},vl.createElement(u,{listId:t,haveScrollToTop:s}),(c||r)&&vl.createElement(wI,null))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(HI,"contextTypes",{intl:Gl.intlShape.isRequired,getCss:yl().func});const BI=(0,Fl.connect)((e=>{const{getFoldersSelectors:t,getFeaturesSelectors:s,getCurrentListId:a,getRoute:n,isFeatureEnabled:r,couldShowEmptyFolderVideo:o,emptyFolderDisplayAdEligible:i,getAdsSelectors:l}=(0,Oc.selectors)(e),c=a(),d=n(),_=s(),E=l().getEmptyFolderAlterUpsellType(),u=function(e){const t=(0,Rc.WN)(e);return t===S.F6k.MESSAGES||t===S.F6k.IMAGES||t===S.F6k.DOCUMENTS}(c),m=t().isInboxFolder((0,Rc.Fh)(c)),p=i(),C=r(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&(0,Rc.cn)(d)&&!(0,Rc.ju)(d),A=r(S.ANe.EMPTY_FOLDER_ALTER);return{previewpane:_.getSetting(S.Zrf.PREVIEW_PANE),listId:c,haveScrollToTop:u,isInboxFolder:m,showEmptyFolderDisplayAd:p,showEmptyFolderVideo:r(S.ANe.EMPTY_FOLDER_VIDEO)&&!r(S.ANe.THEMES_CUE_V3),showEmptyFolderStaticMailplusUpsell:r(S.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER),route:d,showInlinePrompt:C,couldShowEmptyFolderVideo:o(),emptyFolderAlterEnabled:A,emptyFolderAlterUpsellType:E}}),(e=>({changeSettings:t=>e((0,_p.Dy)(t))})))(HI);function xI(){return(xI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const VI={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};class ZI extends vl.Component{render(){return vl.createElement(pc.cr,xI({import:"../../../../molecules/settings/settings"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,9678))},_moduleResolver:function(){return 9678}}),vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{style:VI},vl.createElement(zm.Z,null))))}}const WI=ZI;var KI=s(1449);function zI(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class YI extends vl.Component{constructor(...e){super(...e),zI(this,"navigateToNewSponsoredCompose",(()=>{const e=(0,Pa.generateUID)();this.context.navigateTo({route:(0,gc.Rl)(e),forwardCreativeId:this.props.creativeId})})),zI(this,"saveSponsoredMessage",(()=>{this.props.saveSponsoredMessage({subject:this.props.subject,asset:this.props.asset}),this.context.navigateTo({route:(0,gc.KI)(this.props.listId)})})),zI(this,"onClose",(({i13nModel:e={}}={})=>{this.props.onClose({listId:this.props.listId,i13nModel:e})})),zI(this,"getVideoConfig",(()=>{const{videoAd:e,pageSpaceId:t,geminiVideoAdId:s,site:a,expName:n,expType:r,landingUrl:o}=this.props,{region:i}=this.context,{videoMediaAssets:l,thumbnail:c,clickUrl:d,rules:_,actionUrls:E}=e;return{site:a,expName:n,expType:r,autoplay:!0,html5:!0,mute:!0,pageSpaceId:t,playlist:{mediaItems:[{id:s,images:{thumbnail:c}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:l,clickUrl:d,landingUrl:o},rules:_,beacons:E}},replayonlyendscreen:!0,ccOnMute:!0,region:i}}))}shouldComponentUpdate(e){const t=(0,h.u9)(e,"videoAd.clickUrl"),s=(0,h.u9)(this.props,"videoAd.clickUrl");return!!e.asset&&e.asset!==this.props.asset||!!t&&t!==s}render(){const{conversations:e}=this.props;return this.props.isLoadingGeminiAsset?null:vl.createElement(pc.cr,{import:"../../../molecules/ads/sponsored_message_read",asset:this.props.asset,listId:this.props.listId,subject:this.props.subject,actionUrls:this.props.actionUrls,forwardCreative:this.props.videoAd?null:this.navigateToNewSponsoredCompose,saveSponsoredMessage:this.props.videoAd?null:this.saveSponsoredMessage,onClose:this.onClose,videoConfig:this.props.videoAd&&this.getVideoConfig(),source:this.props.source,description:this.props.description,action:(0,h.u9)(this.props,"videoAd.callToAction"),emailAddress:this.props.emailAddress,accountName:this.props.accountName,embeddedLandingUrls:this.props.embeddedLandingUrls,conversations:e,isMailPlusUpsellAd:this.props.isMailPlusUpsellAd,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56064))},_moduleResolver:function(){return 56064}})}}zI(YI,"displayName","SponsoredMessage"),zI(YI,"contextType",KI.Z);const jI=(0,Fl.connect)((e=>{const{getFeaturesSelectors:t,getAdsSelectors:s,getRoute:a,getAccountSelectors:n,getCurrentSpaceId:r,isLoadingGeminiAsset:o,getSelectedAccountId:i}=(0,Oc.selectors)(e),l=t(),c=a(),d=(0,h.u9)(c,"params.creativeId"),_=r(),E=(0,Rc.LY)(c),u=s(),m=l.isEnabled(S.ANe.CONVERSATIONS),{getSponsoredAd:p}=u,C=l.getSetting(S.Zrf.GEMINI_VIDEO_AD_ID),A=l.getSetting(S.Zrf.GEMINI_VIDEO_AD_SITE),T=l.getSetting(S.Zrf.GEMINI_VIDEO_AD_EXP_NAME),I=l.getSetting(S.Zrf.GEMINI_VIDEO_AD_EXP_TYPE),{nativeAd:g={},pencilAd:O={},videoAd:D}=p(d)||{},R=(0,h.u9)(g,"actionUrls",{}),{getAccountNameByAccountId:N,getAccountEmailByAccountId:L}=n(),f=i(),M=N(f),P=L(f),b=u.isNativeMailPlusUpsellAd();return{videoAd:D,pageSpaceId:_,geminiVideoAdId:C,site:A,expName:T,expType:I,creativeId:d,listId:E,asset:g.geminiSponsoredAsset,subject:O.adHeadline,actionUrls:R,source:O.adSource,description:O.adSummary,accountName:M,emailAddress:P,embeddedLandingUrls:g.embeddedLandingUrls,isLoadingGeminiAsset:o(),landingUrl:O.landingUrl,conversations:m,isMailPlusUpsellAd:b}}),(e=>({saveSponsoredMessage:t=>e((0,gm.a5)(t)),onClose:t=>e((0,zl.I3)(t))})))(YI);var qI=s(70426),XI=s.n(qI);const QI=ic()(XI());class JI extends vl.Component{render(){return vl.createElement(pc.cr,{import:"../../../../molecules/tutorial/index",newMailVideoId:this.props.newMailVideoId,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,95188))},_moduleResolver:function(){return 95188}},vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{className:QI.container},vl.createElement(zm.Z,null))))}}const $I=(0,Fl.connect)((e=>{const{getFeaturesSelectors:t}=(0,Oc.selectors)(e);return{newMailVideoId:t().getSetting("newMailVideoId")}}))(JI);var eh=s(36014),th=s(72884),sh=s.n(th),ah=s(73683);const nh=(0,Gl.defineMessages)({weatherHighTemperature:{id:"weather_high_temperature",defaultMessage:"High"},weatherLowTemperature:{id:"weather_low_temperature",defaultMessage:"Low"},weatherTempNotationToggle:{id:"weather_temp_notation_toggle",defaultMessage:"Toggle Fahrenheit/Celsius"},weatherLocationInputPlaceholder:{id:"weather_location_input_placeholder",defaultMessage:"Enter city or ZIP code"},weatherEditLink:{id:"weather_edit_link",defaultMessage:"Edit"},weatherEditLinkHover:{id:"weather_edit_linkHover",defaultMessage:"Change weather location"},weatherCancelLink:{id:"weather_cancel_link",defaultMessage:"Cancel"},weatherCancelLinkHover:{id:"weather_cancel_linkhover",defaultMessage:"Cancel weather location change"},weatherOpenLinkHover:{id:"weather_open_link_hover",defaultMessage:"Click to open weather page"}}),rh=["602","601","611","603","603","60e","60e","60e","60e","604","60e","60c","60c","608","60a","608","60a","614","60e","60b","60b","60b","60b","600","600","609","605","616","615","616","615","607","607","607","607","610","612","603","60d","60c","60c","60a","60a","608","60f","60c","60a","60d"],oh="https://www.aol.com/weather",ih="Â°";const lh=(0,Fl.connect)((e=>{const{getWeatherSelectors:t,isFeatureEnabled:s}=(0,Oc.selectors)(e),a=s(S.ANe.IS_CELSIUS_DEFAULT_WEATHER_UNIT),n=s(S.ANe.SHOW_WEATHER);return{...t().getWeatherData(),isCelsiusDefaultWeatherUnit:a,showWeather:n}}),(e=>({getWeather:()=>{e((0,ah.p)())},requestWeatherLocationSuggestions:t=>{e((0,ah.w1)({query:t}))}})))((function(e){const{showWeather:t,city:s,governorate:a,conditionDescription:n,conditionCode:r,isCelsiusDefaultWeatherUnit:o,tempsF:i,tempsC:l,query:c,suggestions:d,getWeather:_,requestWeatherLocationSuggestions:E}=e,u=(0,Hc.Z)(sh()),{formatMessage:m}=(0,Fm.Y)(),[S,p]=(0,vl.useState)(!1),[C,A]=(0,vl.useState)(o),T=(0,vl.useRef)("");if(!t)return null;const I=null==T?void 0:T.current;S&&c&&I&&I!==c&&(setTimeout((()=>E(I)),100),T.current="");const h=(0,wA.A)((e=>{let t="60f";return Number.isInteger(e)&&e>=0&&e<rh.length&&(t=rh[e]),"/img/weather_cond_"+t+".svg"})(r));function g(){E(""),p(!1)}function O(e){E(e),T.current=e}function D(e){const t=function(e){const t=String(e.centroid_latitude.toFixed(2)),s=String(e.centroid_longitude.toFixed(2)),a=e.display_name,n=(e.full_display_name.split(",")[1]||"").trim()||e.admin1_name,r=e.country_name;if(t&&s&&a&&n&&r)return{lat:t,lon:s,city:a,state:n,country:r,zip:"0",woeid:String(e.woeid)}}(e);t&&function(e,t={window}){const s=new Cl.p(t,_l,{TTL:31536e3,path:"/",domain:El,plainText:!0}),a=['"',[e.lat,e.lon,e.city,e.state,e.country,e.zip,e.woeid].join("|"),'"'].join("");s.set(a)}(t),g(),_()}return S?vl.createElement("div",{className:`${u.colorized} ${u.container}`},vl.createElement("span",{className:u.editBox},vl.createElement(eh.Z,{placeholder:m(nh.weatherLocationInputPlaceholder),suggestions:d,onInputChange:O,onValueChange:D,getHint:e=>e.full_display_name,hideCompletionOnMismatch:!0,classNames:u})),vl.createElement("span",{onClick:()=>{g()},className:u.editLink,title:m(nh.weatherCancelLinkHover)},m(nh.weatherCancelLink))):function(){const e=C?l:i;return void 0===s?null:vl.createElement("div",{className:`${u.colorized} ${u.container}`},vl.createElement("a",{href:oh,className:`${u.colorized} ${u.anchorLink}`,title:m(nh.weatherOpenLinkHover),target:"_blank"},vl.createElement("span",{className:u.currentTemp},(null==e?void 0:e.current)||"")),vl.createElement("span",{onClick:()=>{A(!C)},className:u.tempNotation,title:m(nh.weatherTempNotationToggle)},C?"Â°C":"Â°F"),vl.createElement("a",{href:oh,className:`${u.colorized} ${u.anchorLink}`,title:m(nh.weatherOpenLinkHover),target:"_blank"},vl.createElement("img",{src:h,className:u.skyIcon,title:n}),vl.createElement("span",null,vl.createElement("span",{className:u.divider}),(null==e?void 0:e.high)+ih+" "+m(nh.weatherHighTemperature),vl.createElement("span",{className:u.divider}),(null==e?void 0:e.low)+ih+" "+m(nh.weatherLowTemperature),vl.createElement("span",{className:u.divider})),vl.createElement("span",null,s,", ",a)),vl.createElement("span",{onClick:()=>{p(!0)},className:u.editLink,title:m(nh.weatherEditLinkHover)},m(nh.weatherEditLink)))}()}));var ch=s(24893),dh=s(91397),_h=s.n(dh);const Eh=(0,Fl.connect)((e=>{const{normalizeRoute:t,isInboxStyleNewOldMail:s,getFoldersSelectors:a,getAccountIdByFolderId:n,getDefaultFolderIdForSelectedAccount:r}=(0,Oc.selectors)(e),o=s(),i=r(),l=o?(0,gc.jK)(S.K8C.NEWMAIL,{accountIds:[n(i)],folders:[i]}):(0,gc.i5)(i);return(0,ch.c)(l,"panic: no inbox route in TodaySummary"),{inboxRoute:t(l),defaultFolderUnreadCount:a().getFolderUnreadCount((0,Rc.Fh)((0,Rc.LY)(l)))}}),(e=>({onMessagesClick:(t,s)=>{t.preventDefault(),e((0,zl.Ch)({route:s}))}})))((function(e){const t=(0,Hc.Z)(_h()),{inboxRoute:s,defaultFolderUnreadCount:a}=e,n=t=>e.onMessagesClick(t,s);return vl.createElement("div",{className:t.container,"data-test-id":"today-summary"},vl.createElement("a",{className:`${t.colorized} ${t.icon}`,href:s.url,onClick:n},vl.createElement(Bl.Z,{kind:xl.Kinds.INBOX,colorState:xl.ColorStates.INHERITED})),vl.createElement("p",{className:t.messages},vl.createElement("a",{className:t.colorized,href:s.url,onClick:n},vl.createElement(Gl.FormattedMessage,{id:"today_summary_message_count",defaultMessage:"{defaultFolderUnreadCount, plural, =1 {# unread message} other {# unread messages} }",values:{defaultFolderUnreadCount:a}}))),vl.createElement(lh,null))}));function uh(e){return e===S.Bs7.AOL?`${e}_DEFAULT`:e}function mh(e){return e in S.Bs7}function Sh(e){return e in Kl.Kz}var ph=s(82673);const Ch=(0,Fl.connect)((e=>({themeMode:(0,Oc.selectors)(e).getSetting(S.Zrf.THEME_MODE),isRTL:"rtl"===(0,Oc.selectors)(e).getEnvironmentSelectors().getPageDirection()})))((e=>{const t=(0,Um.B)();return vl.createElement(ph.Z,{appName:t.appId,type:S.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR,themeMode:e.themeMode,isRTL:e.isRTL,mailBrandNameString:t.mailBrandNameString})}));var Ah=s(30285),Th=s.n(Ah);var Ih;!function(e){e.ACCENT="lac",e.HOVER="hc",e.BACKGROUND="bgc"}(Ih||(Ih={}));const hh=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,getSetting:s}=(0,Oc.selectors)(e);return{isABP:t(S.ANe.ABP_STATIC_ADS),isAdvertisingEnabled:t(S.ANe.ADS),isEnabled:t(S.ANe.SHOW_TODAYPAGE),src:s(S.Zrf.TODAYPAGE_URL)}}))((function(e){var t;const s=(0,Hc.Z)(Th()),a=(0,Um.B)(),{theme:n,themeMode:r}=(0,vl.useContext)(MA.Z);if(!e.isEnabled||!e.src)return vl.createElement(Ch,null);const o=function(e,t){const s=t.toUpperCase();if(mh(s)&&"DEFAULT"===e){const t=uh(s);Sh(t)&&(e=t)}return Kl.Kz[e]}(Sh(n)?n:"DEFAULT",a.partner),i=new URL(e.src),l=[];return r===S.zgU.DARK?(l.push([Ih.BACKGROUND,o.READER_BACKGROUND_COLOR_DARK||""]),l.push([Ih.ACCENT,Fe.eob]),l.push([Ih.HOVER,Fe.S9T])):(l.push([Ih.ACCENT,Fe.OU2]),l.push([Ih.HOVER,Fe.CHL])),null!==(t=i.searchParams)&&void 0!==t&&t.append&&(l.map((e=>[e[0],e[1].replace(/^#/,"")])).filter((e=>{return t=e[1],/^[a-f\d]{6}$/i.test(t);var t})).forEach((e=>i.searchParams.append(e[0],e[1]))),e.isAdvertisingEnabled||i.searchParams.append("paid","true"),e.isABP&&i.searchParams.append("abp","true")),vl.createElement("div",{className:s.container},!e.disableSummary&&vl.createElement(Eh,null),vl.createElement("iframe",{className:s.iframe,src:i.toString(),sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"}))}));var gh=s(8061),Oh=s(23689),Dh=s.n(Oh);const Rh=(0,Gl.defineMessages)({close:{id:"close",defaultMessage:"Close"},messageSent:{id:"message_sent",defaultMessage:"Your message has been sent!"}}),Nh=(0,Fl.connect)(null,(e=>({onNavigateBack:t=>e((0,zl.n)(t))})))((({onNavigateBack:e})=>{const t=(0,Hc.Z)(Dh()),{themeMode:s}=(0,vl.useContext)(MA.Z),{formatMessage:a}=(0,Fm.Y)(),n=s===S.zgU.DARK;return vl.createElement(aS.Z,{className:t.header,circularNavigation:!1,groupTabIndex:Fe.iUz.MESSAGE_LIST_TOOLBAR},vl.createElement("span",{className:t.buttonWrapper},vl.createElement(gh.Z,{onClick:()=>{e({i13nModel:{mKey:cc.JE.SEND_CONFIRM_BACK,sec:cc.nJ.SEND_CONFIRM}})}})),vl.createElement("span",{className:t.buttonWrapper},vl.createElement(Hl.default,{"data-iskeynav":!0,kind:xl.Kinds.CLOSE,size:xl.Sizes.XS,onClick:()=>{e({i13nModel:{mKey:cc.JE.SEND_CONFIRM_CLOSE,sec:cc.nJ.SEND_CONFIRM}})},title:a(Rh.close),"aria-label":a(Rh.close),colorState:xl.ColorStates.INHERITED,isOnDarkBackground:n})))})),Lh=()=>{const e=(0,jS.Z)(S.ANe.SEND_CONFIRMATION_AD),t=(0,jS.Z)(S.ANe.GAM),s=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getSendConfirmFallbackStatus())),a=(0,Hc.Z)(Dh(),{renderTodayPage:s});return vl.createElement("div",{className:a.container},vl.createElement(Nh,null),e?s?vl.createElement(hh,{disableSummary:!0}):vl.createElement("div",{className:a.adContainer},t?vl.createElement(QS,{adLocation:FS.Ej.SEND_CONFIRMATION}):vl.createElement(DS,null)):null)},fh=(0,Fl.connect)((e=>{const{isSendConfirmationEnabled:t}=(0,Oc.selectors)(e);return{sendConfirmationEnabled:t()}}))((({sendConfirmationEnabled:e})=>e?vl.createElement(Lh,null):null));var Mh=s(78136),Ph=s(64341),bh=s.n(Ph),yh=s(16488),vh=s(69954),Fh=s(72484);const Uh=(0,Gl.defineMessages)({title:{id:"emails_to_myself_title",defaultMessage:"Emails to myself"},description:{id:"empty_emails_to_myself_des",defaultMessage:"When you send emails to yourself, maybe as a reminder or to bump something up on your to-do list, you can find them all here."},content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"},trialButtonText:{id:"mail_plus_settings_tab.trial_it_free",defaultMessage:"Try it free"},subscribe_text:{id:"mail_plus_subscribe",defaultMessage:"Subscribe now"},upgradeButtonText:{id:"mail_plus_settings_tab.upgrade_button_text",defaultMessage:"Upgrade now"}}),kh=(0,Fl.connect)((e=>{const{getDefaultFolderIdForSelectedAccount:t,isMailPlusTrialEligible:s,getSetting:a}=(0,Oc.selectors)(e),n=t(),r=(0,Rc.Kw)(n),o=(0,$E.BA)([r]),i=a(S.Zrf.MAIL_PLUS_IMPRESSION_URL),l=a(S.Zrf.MAIL_PLUS_CLICK_URL);return{listId:r,streamId:o,isMailPlusTrialEligible:s(),isDarkTheme:a(S.Zrf.THEME_MODE)===Kl.zg.DARK,mailPlusImpressionUrl:i[S.RaK.emailsToMyselfMailPlusUpsell],mailPlusClickUrl:l[S.RaK.emailsToMyselfMailPlusUpsell]}}))((({listId:e,streamId:t,isMailPlusTrialEligible:s,isDarkTheme:a,mailPlusClickUrl:n,mailPlusImpressionUrl:r})=>{const o=(0,Hc.Z)(bh()),{formatMessage:i}=(0,Fm.Y)(),{region:l}=(0,Um.B)(),[c,d]=(0,vl.useState)(0);let _=i("us"===l?Uh.trialButtonText:Uh.subscribe_text);_+="*",_=s?_:i(Uh.upgradeButtonText),(0,vl.useEffect)((()=>{r&&(0,GE.Z)(r),$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL_RENDER,sec:cc.nJ.MSG_LIST,interactionType:cc.Rb.view}})}),[r]);const E=(0,vl.useCallback)((()=>{$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL_CLICK,sec:cc.nJ.MSG_LIST,interactionType:cc.Rb.click}})}),[]);return vl.createElement("div",{className:o.container,"data-test-id":"message-list-empty"},vl.createElement("div",{className:o.topbarContainer},vl.createElement("span",{className:o.topbarText},i(Uh.title)," "),vl.createElement(Fh.ZP,{yPlusBadgeKinds:a?Fh.ix.INVERTED_ROUNDED:Fh.ix.PURPLE_ROUNDED,className:o.badge})),vl.createElement("div",{className:o.segmentContainer},vl.createElement(yh.Z,null,vl.createElement(vh.Z,{isSelected:0===c,onClick:()=>d(0),title:i(Uh.content_filter_messages)}),vl.createElement(vh.Z,{isSelected:1===c,onClick:()=>d(1),title:i(Uh.content_filter_images)}),vl.createElement(vh.Z,{isSelected:2===c,onClick:()=>d(2),title:i(Uh.content_filter_documents)}))),vl.createElement(Mh.ZP,{listId:e,streamId:t,kind:LA.ZP.MESSAGE_VIEW,hasAttachmentPreview:!0}),vl.createElement("div",{className:o.contentContainer},vl.createElement("img",{className:o.logo,src:(0,wA.A)(a?"/img/yahoo_mail_plus_horizontal_white_1x.png":"/img/yahoo_mail_plus_horizontal_color_1x.png"),srcSet:(0,wA.A)(a?"/img/yahoo_mail_plus_horizontal_white_2x.png":"/img/yahoo_mail_plus_horizontal_color_2x.png")}),vl.createElement("span",{className:o.title},i(Uh.title)),vl.createElement("span",{className:o.description}," ",i(Uh.description)),vl.createElement("a",{href:n,onClick:E,className:o.linkStyle,target:"_blank",rel:"noopener noreferrer"},_)))})),wh=(0,Fl.connect)((e=>{const{isFeatureEnabled:t}=(0,Oc.selectors)(e);return{emailToMyselfMailPlusUpsellEnabled:t(S.ANe.EMAILS_TO_MYSELF)&&t(S.ANe.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL)}}))((({emailToMyselfMailPlusUpsellEnabled:e})=>e?vl.createElement(kh,null):null));var Gh=s(68e3),Hh=s.n(Gh);const Bh=()=>{const e=(0,Hc.Z)(Hh());return vl.createElement(pc.cr,{bundleName:"onboardingRoute",import:"./full_page_onboarding",_moduleLoader:function(){return s.e(396).then(s.bind(s,66122))},_moduleResolver:function(){return 66122}},vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{className:e.whenLazyContainer},vl.createElement(zm.Z,null))))};function xh(){return(xh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Vh={[S.c7l.COMPOSE]:KT,[S.c7l.MESSAGE]:zT.ZP,[S.c7l.MAIL_READER]:BI,[S.c7l.ONBOARDING]:Bh,[S.c7l.SETTINGS]:WI,[S.c7l.SPONSORED_MESSAGE]:jI,[S.c7l.TUTORIAL]:$I,[S.c7l.TODAYPAGE]:hh,[S.c7l.SEND_CONFIRMATION]:fh,[S.c7l.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL]:wh,[S.c7l.SUBSCRIPTION_LIST]:function(e){return vl.createElement(pc.cr,xh({import:"./subscription_list",bundleName:"subscriptions"},e,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(841)]).then(s.bind(s,42270))},_moduleResolver:function(){return 42270}}),vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{style:{height:"100%"}},vl.createElement(zm.Z,{flex:!0}))))},[S.c7l.STOREFRONT]:function(e){return vl.createElement(pc.cr,xh({import:"./storefront_viewer"},e,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4655))},_moduleResolver:function(){return 4655}}),vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{style:{height:"100%"}},vl.createElement(zm.Z,{flex:!0}))))},[S.c7l.CONTACTS_FULL_PANE]:function(e){return vl.createElement(pc.cr,xh({import:"./contacts_full_view"},e,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,46134))},_moduleResolver:function(){return 46134}}),vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{style:{height:"100%"}},vl.createElement(zm.Z,{flex:!0}))))},[S.c7l.WALLET]:function(e){return vl.createElement(pc.cr,xh({import:"./wallet_view"},e,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,29897))},_moduleResolver:function(){return 29897}}),vl.createElement(pc.nA,{loading:!0},vl.createElement("div",{style:{height:"100%"}},vl.createElement(zm.Z,{flex:!0}))))}},Zh={[S.n8z.LIST]:Vh[S.c7l.MAIL_READER],[S.n8z.BASE]:Vh[S.c7l.MAIL_READER],[S.n8z.FOLDER]:Vh[S.c7l.MAIL_READER],[S.n8z.SEARCH]:Vh[S.c7l.MAIL_READER],[S.n8z.MESSAGE_FROM_LIST]:Vh[S.c7l.MESSAGE],[S.n8z.MESSAGE_FROM_SEARCH_LIST]:Vh[S.c7l.MESSAGE],[S.n8z.MESSAGE_FROM_FOLDER_LIST]:Vh[S.c7l.MESSAGE],[S.n8z.NEW_DRAFT]:Vh[S.c7l.COMPOSE],[S.n8z.EDIT_DRAFT]:Vh[S.c7l.COMPOSE],[S.n8z.SPONSORED_MESSAGE]:Vh[S.c7l.SPONSORED_MESSAGE],[S.n8z.SETTINGS]:Vh[S.c7l.SETTINGS],[S.n8z.TUTORIAL]:Vh[S.c7l.TUTORIAL],[S.n8z.SUBSCRIPTION_LIST]:Vh[S.c7l.SUBSCRIPTION_LIST],[S.n8z.STOREFRONT]:Vh[S.c7l.STOREFRONT],[S.n8z.TODAYPAGE]:Vh[S.c7l.TODAYPAGE],[S.n8z.SEND_CONFIRMATION]:Vh[S.c7l.SEND_CONFIRMATION],[S.n8z.FOCUSED_INBOX]:Vh[S.c7l.MAIL_READER],[S.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL]:Vh[S.c7l.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL],[S.n8z.CONTACTS]:Vh[S.c7l.CONTACTS_FULL_PANE],[S.n8z.ONBOARDING]:Vh[S.c7l.ONBOARDING],[S.n8z.WALLET]:Vh[S.c7l.WALLET]};class Wh extends vl.Component{render(){const e=Zh[this.props.route.name];return vl.createElement(e,this.props)}}const Kh=(0,Fl.connect)((e=>{const{getRoute:t}=(0,Oc.selectors)(e);return{route:t()}}),(e=>({changeSettings:t=>e((0,_p.Dy)(t))})))(Wh);function zh(e,t){e.dispatch($c.WINDOW_RESIZING,t)}function Yh(e){e.dispatch($c.WINDOW_RESIZED)}var jh=s(56773),qh=s.n(jh),Xh=s(88760),Qh=s.n(Xh),Jh=s(32440),$h=s(98852);const eg=(0,Gl.defineMessages)({new_subject:{id:"compose_mode.new_subject",defaultMessage:"New Message"},minimize:{id:"compose_mode.minimize",defaultMessage:"Minimize"},maximize:{id:"compose_mode.maximize",defaultMessage:"Maximize"},full_screen:{id:"compose_mode.full_screen",defaultMessage:"Full screen"},save_and_close:{id:"compose_mode.save_and_close",defaultMessage:"Save & close"}}),tg=Fe.lao-Fe.BOt,sg=(0,Fl.connect)(((e,{csid:t})=>{const{getRoute:s,getDraftMessageId:a,getMessageSubject:n,getReplyingToMessageId:r,doesComposeSessionExist:o,findUnsyncedDataByCsid:i,getWindowDimensions:l,isFeatureEnabled:c,getSetting:d,getLastEditedTimestampForCompose:_,isComposeSessionDirty:E}=(0,Oc.selectors)(e);let u="";if(o(t)){const e=(0,Rc.LY)(s()),o=a(t)||r(t);u=o?n(o,e):""}u||(u=(i(t)||{}).subject);const{ybarHeight:m}=l(),p=c(S.ANe.SHOW_TABS),C=c(S.ANe.SHOW_CONFIRMATION_ON_DRAFT_CLOSE);return{csid:t,subject:u,unavailableHeight:m+Fe.k5G+Fe.BOt+(p?Fe.w_K:0),theme:d(S.Zrf.THEME),showConfirmationOnDraftClose:C,isComposeSessionDirty:E,getLastEditedTimestampForCompose:_}}),(e=>({onMaximize:t=>e((0,zl.Ch)(t)),onClose:t=>e((0,Jh.bU)(t)),onMinimize:t=>e((0,Jh.Lg)(t))})))((({csid:e,subject:t,isMinimized:s,forcedMinimized:a,onClose:n,onToggle:r,onMaximize:o,unavailableHeight:i,onMinimize:l,theme:c,showConfirmationOnDraftClose:d,isComposeSessionDirty:_,getLastEditedTimestampForCompose:E})=>{const[u,m]=(0,vl.useState)(tg),S=(0,fA.Z)(s),p=(0,Hc.Z)(Qh(),{[`isMinimized_${c}`]:s}),{formatMessage:C}=(0,Fm.Y)(),A=t||C(eg.new_subject),T=(0,Um.B)(),I=(0,vl.useCallback)((()=>{const t=_({csid:e,lastEditedTimeStamp:E(e)});return(0,$h.v)({csid:e,showConfirmationOnDraftClose:d,isComposeDirty:t,originalOnCloseHandler:()=>{n({csids:[e],i13nModel:{mKey:cc.JE.COMPACT_COMPOSE_WINDOW_CLOSE,sec:cc.nJ.COMPOSE_MSG,interactionType:cc.Rb.click}})},context:T})}),[e,n,d,_,E,T]),h=(0,vl.useCallback)((t=>{o({route:(0,gc.Rl)(e),i13nModel:{mKey:cc.JE.COMPOSE_FULL_SCREEN,sec:cc.nJ.COMPOSE_TOPBAR,interactionType:(0,Pa.getInteractionFromEvent)(t)}})}),[e,o]),g=(0,vl.useCallback)((()=>{r(e,!s),l({csid:e})}),[e,s,r,l]);(0,vl.useLayoutEffect)((()=>{function e(){m(Math.min(tg,window.innerHeight-i))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[i]);let O={height:s?0:`${u}px`},D={};return S===s||a||(O={...O,transition:"width 300ms ease-in-out, height 300ms ease-in-out"},D={transition:"width 300ms ease-in-out"}),vl.createElement("div",{className:p.container,"data-test-id":"compact-compose-item"},vl.createElement("div",{className:p.subContainer},vl.createElement("div",{className:p.topBar,style:D},vl.createElement("div",{role:"button",title:A,onClick:g,className:p.subjectContainer},vl.createElement("p",{className:p.subjectStyle},A)),vl.createElement("div",{className:p.buttonsStyle},vl.createElement(Hl.default,{size:xl.Sizes.XS,onClick:g,colorState:xl.ColorStates.INVERTED,kind:s?xl.Kinds.WINDOW_BOX:xl.Kinds.UNDERSCORE,title:C(s?eg.maximize:eg.minimize),tabIndex:0}),vl.createElement(Hl.default,{size:xl.Sizes.XS,kind:xl.Kinds.EXPAND,onClick:h,colorState:xl.ColorStates.INVERTED,title:C(eg.full_screen),tabIndex:0}),vl.createElement(Hl.default,{size:xl.Sizes.XS,kind:xl.Kinds.CLOSE,onClick:I,colorState:xl.ColorStates.INVERTED,title:C(eg.save_and_close),tabIndex:0}))),vl.createElement("div",{style:O,className:p.content},vl.createElement("div",{className:p.composeStyler},vl.createElement(HT.ZP,{csid:e,isCompactCompose:!0,showCloseButton:!1,isMinimized:s})))))})),ag=(e,t,s)=>{const a=t-s-Fe.GZk,n=[];let r=0;for(let o=0;o<e.length;o++){const t=e[o],{isMinimized:s}=t;if(r+=s?Fe.uNm:Fe.Zbf,r+=Fe.mg$,r<a||0===o)n.push({...t});else{if(!s){const e=r+Fe.mg$+Fe.uNm-Fe.Zbf;if(e<=a){n.push({...t,isMinimized:!0,forcedMinimized:!0}),r=e;continue}}n.push({...t})}}return n},ng=(0,Fl.connect)((e=>{const{getCompactComposeSessions:t,getRightRailWidth:s,getEnvironmentSelectors:a,isFeatureEnabled:n}=(0,Oc.selectors)(e),{getWindowDimensions:r}=a();return{composePanels:t(),rightRailWidth:s(),innerWidth:r().innerWidth,multiTaskEnabled:n(S.Zrf.MAIL_TABS)}}),null)((({composePanels:e=[],rightRailWidth:t,innerWidth:s,setShowComposeTray:a,multiTaskEnabled:n})=>{const r=ic()(xT(),{multiTaskEnabled:n}),[o,i]=(0,vl.useState)(e);(0,vl.useEffect)((()=>{if(o.length!==e.length||!o.every((({csid:t})=>e.find((e=>e.csid===t)))))if(o.length>e.length)i(o.filter((({csid:t})=>e.find((e=>e.csid===t)))));else{const t=[];e.forEach((e=>{o.find((({csid:t})=>t===e.csid))||t.push(e)})),i([...t,...o])}}),[e,o]),(0,vl.useLayoutEffect)((()=>{const e=ag(o,s,t),n=o.some((e=>e.isMinimized));Xc()(e,o)||i(e),a(n)}),[s,t,o,a]);const l=(e,a)=>{$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.COMPACT_COMPOSE_WINDOW_TOGGLE,sec:cc.nJ.COMPOSE_MSG,interactionType:cc.Rb.click}});let n=o.map((t=>(t.csid===e&&(t.isMinimized=!t.isMinimized,t.forcedMinimized=!1),t)));if(!a){n=ag(n,s,t);const a=n.find((t=>t.csid===e));if(a.isMinimized){const t=n.filter((t=>t.csid!==e));a.isMinimized=!1,n=[a,...t]}}i(n)};return vl.createElement("div",{className:r.stackPanelWrapper,"data-test-id":"compact-compose-container",style:{right:`${t}px`}},o.map((({csid:e,isMinimized:t,forcedMinimized:s=!1})=>vl.createElement(sg,{csid:e,isMinimized:t,forcedMinimized:s,onToggle:l,status,key:e}))))})),rg=e=>{const[t,s]=(0,vl.useState)(!1);return(0,vl.useEffect)((()=>{s(!0)}),[]),t?vl.createElement(ng,e):null};var og=s(2357),ig=s(39374),lg=s.n(ig);const cg=(0,Gl.defineMessages)({priority:{id:"mail_categories.priority",defaultMessage:"Priority"},updates:{id:"category.updates_header",defaultMessage:"Updates"},offers:{id:"mail_categories.offers",defaultMessage:"Offers"},social:{id:"category.social_header",defaultMessage:"Social"},newsletters:{id:"category.newsletters_header",defaultMessage:"Newsletters"},all:{id:"category.all_header",defaultMessage:"All"}});var dg=s(72489),_g=s.n(dg);const Eg=({tabCategory:e})=>{const t=(0,Gm.I0)(),{formatMessage:s}=(0,Fm.Y)(),{theme:a,themeMode:n}=(0,vl.useContext)(MA.Z),r=n===S.zgU.DARK&&(0,Kl.L_)(a),o=n===S.zgU.DARK&&a===S.b39.HIGH_CONTRAST,i=(0,Hc.Z)(_g(),{...!o&&{themeMode:n},...o&&{highContrastThemeDark:!0},...r&&{[`photoTheme_${a}_${n}`]:!0}}),{isActive:l,tabRoute:c}=(0,Gm.v9)((t=>{const{getRoute:s,normalizeRoute:a,getSelectedAccountId:n,getInboxFolderIdByAccountId:r}=(0,Oc.selectors)(t),o=r(n()),i=s(),l=a((0,gc.Ye)(e,o,{})),c=(0,Rc.LY)(i);return{isActive:i.name===l.name&&(0,Rc.C4)(c)===S.x5k[e],tabRoute:l}}),h.wU),d=()=>{l||t((0,zl.Ch)({route:c}))};return vl.createElement(Ip.Z,{className:l?i.activeTabWrapper:i.tabWrapper},vl.createElement("button",{role:"tab",title:s(cg[e]),"aria-selected":l,"data-iskeynav":!0,className:i.tab,onKeyDown:e=>{e.key===S.R8U.ENTER&&d()},onClick:()=>d()},s(cg[e])))},ug=()=>{const{themeMode:e}=(0,vl.useContext)(MA.Z),t=(0,Hc.Z)(lg(),{themeMode:e}),s=(0,YS.Z)(S.Zrf.PRIORITY_INBOX_TABS);return vl.createElement(aS.Z,{axis:aS.U.HORIZONTAL,circularNavigation:!1,className:t.nav,groupTabIndex:Fe.iUz.PRIORITY_INBOX_TABS,role:"tablist"},vl.createElement("ul",{className:t.container},s.map((e=>vl.createElement(Eg,{key:e,tabCategory:e})))))};var mg=s(61395),Sg=s.n(mg);function pg(){return(pg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Cg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ag="norrin-wide",Tg="bold-focus",Ig="readability-mode",{PRE_SIGNUP_LIGHTBOX:hg,FREE_TRIAL_ENDING_NOTICATION_2:gg,FREE_TRIAL_LAST_DAY_NOTIFICATION:Og,FREE_TRIAL_EXPIRED_NOTIFICATION:Dg}=S.$AH,Rg=(0,Gl.defineMessages)({main_nav:{id:"landmark.folders_nav",defaultMessage:"Folder"}});class Ng extends vl.Component{constructor(e){super(e),Cg(this,"setShowComposeTray",(e=>{this.setState({showComposeTray:e})})),Cg(this,"_renderMainNav",(e=>{const{formatMessage:t}=this.context.intl;return vl.createElement("nav",{className:e.mainNavigation,role:"navigation","aria-label":t(Rg.main_nav),"data-yaft-module":"norrin_navigation"},vl.createElement(UT,this.props))})),Cg(this,"_renderLeftRail",(e=>{const{leftNavWidth:t}=this.props,s=t>0?{flexBasis:t+"px",flexShrink:0,maxWidth:Fe.GxM+"px",minWidth:Fe.nNF+"px"}:{};return vl.createElement("div",{ref:e=>this.leftRail=e,className:this.props.hasWideLogo?e.leftRailWide:e.leftRail,style:s,"data-test-id":"mail-left-rail"},this._renderMainNav(e))})),Cg(this,"setLeftRailWidth",((e,t)=>{const{setLeftNavResizeWidth:s}=this.props;if(this.leftRail.style.flexBasis=e+"px",this.leftRail.style.flexShrink="0",this.leftRail.style.maxWidth=Fe.GxM+"px",this.leftRail.style.minWidth=Fe.nNF+"px",t){const{LEFT_NAV_WIDTH:t}=bA.uj;new bA.t2({window}).setClientParam(t,e),s({width:e})}})),Cg(this,"_renderNavResizer",(()=>{const{viewsUnderInboxEnabled:e,isDarkTheme:t,isPriorityInboxEnabled:s}=this.props;return vl.createElement(GT,{setLeftRailWidth:this.setLeftRailWidth,viewsUnderInboxEnabled:e,isPriorityInboxEnabled:s,isDarkTheme:t})})),Cg(this,"_renderRightRail",(()=>{const{hasAttachmentPreview:e,windowDimensions:t}=this.props;return vl.createElement(cp,{hasAttachmentPreview:e,windowDimensions:t})})),Cg(this,"_renderCue",(e=>{switch(e){case S.ANe.ADBLOCK_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../adblock_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,7378))},_moduleResolver:function(){return 7378}});case S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../right_rail_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,5659))},_moduleResolver:function(){return 5659}});case S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE:return vl.createElement(pc.cr,{import:"../emails_to_myself_feedback_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,10197))},_moduleResolver:function(){return 10197}});case S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE:return vl.createElement(pc.cr,{import:"../adblock_to_nodin_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,74610))},_moduleResolver:function(){return 74610}});case S.ANe.AUTO_FORWARD_CUE:return vl.createElement(pc.cr,{import:"../auto_forward/auto_forward_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56388))},_moduleResolver:function(){return 56388}});case S.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2:return vl.createElement(pc.cr,{import:"../adblock_delay_dismiss_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,5827))},_moduleResolver:function(){return 5827}});case S.ANe.GDPR_WARNING_CUE:return vl.createElement(pc.cr,{import:"../gdpr_warning_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,68855))},_moduleResolver:function(){return 68855}});case S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL:return vl.createElement(pc.cr,{import:"../mailpro_to_mailplus_upsell",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,72132))},_moduleResolver:function(){return 72132}});case S.ANe.READABILITY_MODE_CUE:return vl.createElement(pc.cr,{import:"../readability_mode_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,69828))},_moduleResolver:function(){return 69828}});case S.ANe.MAIL_PLUS_ONBOARDING_CUE:return vl.createElement(pc.cr,{import:"../mail_plus_onboarding_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,22948))},_moduleResolver:function(){return 22948}});case S.ANe.NOTIFICATIONS_COMPOSE_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../notifications_compose_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,62673))},_moduleResolver:function(){return 62673}});case S.ANe.NOTIFICATIONS_STICKY_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../notifications_sticky_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,32206))},_moduleResolver:function(){return 32206}});case S.ANe.NOTIFICATIONS_REFRESH_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../notifications_refresh_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,15977))},_moduleResolver:function(){return 15977}});case S.ANe.NOTIFICATIONS_READ_UPSELL_CUE:return vl.createElement(pc.cr,{import:"../notifications_read_upsell_cue",cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,57336))},_moduleResolver:function(){return 57336}});case S.ANe.NEW_USER_ONBOARDING_CUE_V2:return vl.createElement(pc.cr,{import:"../new_user_onboarding_cue_v2",variant:og.$e.INSIDE_INBOX,cueName:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,37498))},_moduleResolver:function(){return 37498}});case S.ANe.YAI_ONBOARDING_CUE:return vl.createElement(pc.cr,{import:"../yai_onboarding_cue",cueName:e,hasConsentForThirdPartyAIAndIndexed:this.props.hasConsentForThirdPartyAIAndIndexed,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,46215))},_moduleResolver:function(){return 46215}});default:return}})),Cg(this,"_renderThemesCueV3",(()=>vl.createElement(pc.cr,{import:"../themes_cue_v3",cueName:S.ANe.THEMES_CUE_V3,userDisplayName:this.props.userDisplayName,photoThemes:this.props.photoThemes,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77990))},_moduleResolver:function(){return 77990}}))),Cg(this,"_renderNpsSurveyCue",(()=>vl.createElement(pc.cr,{import:"../nps_survey_cue",cueName:S.ANe.NPS_SURVEY_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77050))},_moduleResolver:function(){return 77050}}))),Cg(this,"_renderPartnerReconsentBanner",(()=>vl.createElement(pc.cr,{import:"../reconsent_cue",cueName:S.ANe.PARTNER_RECONSENT_BANNER,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,14689))},_moduleResolver:function(){return 14689}}))),Cg(this,"_renderLastPassFreeTrialUpsell",(()=>vl.createElement(pc.cr,{import:"../lastpass_freetrial",cueName:S.ANe.LASTPASS_FREETRIAL_UPSELL,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,40054))},_moduleResolver:function(){return 40054}}))),Cg(this,"_renderAmazonPrimeDayUpsell",(()=>vl.createElement(pc.cr,{import:"../amazon_prime_day_cue",cueName:S.ANe.AMAZON_PRIME_DAY_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,75505))},_moduleResolver:function(){return 75505}}))),Cg(this,"_renderNotificationCategoriesCustomizeCue",(()=>vl.createElement(pc.cr,{import:"../notifications_customize_upsell_cue",cueName:S.ANe.NOTIFICATIONS_CUSTOMIZE_UPSELL_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,17356))},_moduleResolver:function(){return 17356}}))),Cg(this,"_renderBrandMenuFeedbackUpsell",(()=>vl.createElement(pc.cr,{import:"../storefront_view/atoms/brand_shortcuts_feedback",cueName:S.ANe.BRAND_MENU_FEEDBACK_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,3880))},_moduleResolver:function(){return 3880}}))),Cg(this,"_renderYMobilePromoUpsells",(()=>vl.createElement(pc.cr,{import:"../ymobile_promo_upsells/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,1387))},_moduleResolver:function(){return 1387}}))),Cg(this,"_renderYpmpPromoUpsells",(()=>vl.createElement(pc.cr,{import:"../ymobile_promo_upsells/ypmp_upsell.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,23761))},_moduleResolver:function(){return 23761}}))),Cg(this,"_renderYptGamerUpsells",(()=>vl.createElement(pc.cr,{import:"../ymobile_promo_upsells/ypt_gamer_upsell.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,58616))},_moduleResolver:function(){return 58616}}))),Cg(this,"_renderDispatcherUpsell",(()=>{const{showDispatcherUpsell:e,showTouchpointUpsell:t}=this.props;return e?vl.createElement(pc.cr,{import:"../dispatcher_upsells/index",cueName:S.ANe.DISPATCHER_UPSELLS,settingName:S.Zrf.DISPATCHER_UPSELL_DATA,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34279))},_moduleResolver:function(){return 34279}}):t?vl.createElement(pc.cr,{import:"../dispatcher_upsells/index",cueName:S.ANe.TOUCHPOINT_UPSELL,settingName:S.Zrf.TOUCHPOINT_UPSELL_DATA,showUnsubscribeButton:!1,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34279))},_moduleResolver:function(){return 34279}}):null})),Cg(this,"_renderFreeTrialLightboxNotification",(()=>{const e={upsellId:this.props.upsellId};return vl.createElement(pc.cr,{import:"../../atoms/mailpro_free_trial/lightbox_notification",cueName:S.ANe.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,97502))},_moduleResolver:function(){return 97502}})})),Cg(this,"_executeWindowResizingAction",(()=>{this._innerContainer&&this.context.executeAction(zh,{screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,contentAndRightRailWidth:this._innerContainer.clientWidth,contentAndRightRailHeight:this._innerContainer.clientHeight,ybarHeight:this.ybarHeight})})),Cg(this,"_updateAppMinWidth",(e=>{e.isOnboardingRoute||(e.hasAttachmentPreview||e.previewPaneSetting===S.EsZ.RIGHT?document.body.classList.add(Ag):document.body.classList.remove(Ag))})),Cg(this,"_flagForBoldFocusFeature",(e=>{e.useBoldFocus?document.body.classList.add(Tg):document.body.classList.remove(Tg)})),Cg(this,"addOrRemoveReadabilityMode",(e=>{e.readabilityModeSetting?document.body.classList.add(Ig):document.body.classList.remove(Ig)})),this.state={showComposeTray:!1}}UNSAFE_componentWillReceiveProps(e){this.props.hasAttachmentPreview===e.hasAttachmentPreview&&this.props.previewPaneSetting===e.previewPaneSetting||this._updateAppMinWidth(e)}componentDidMount(){const e=document.querySelectorAll("#ybar");this.ybarHeight=e&&e.length&&e[0].clientHeight||0,this._updateAppMinWidth(this.props),this._flagForBoldFocusFeature(this.props),this._executeWindowResizingAction(),window.addEventListener("resize",this._executeWindowResizingAction)}componentDidUpdate(){const{isWindowResizingDone:e,windowDimensions:t,enableReadabilityMode:s,jacServerPrefetchCookieEnabled:a}=this.props,{innerWidth:n}=t;e&&(this.context.executeAction(Yh),a&&n&&new bA.t2({window}).setClientParam(bA.uj.WINDOW_WIDTH,n)),s&&this.addOrRemoveReadabilityMode(this.props)}componentWillUnmount(){this._innerContainer=null,window.removeEventListener("resize",this._executeWindowResizingAction)}render(){const{previewPaneSetting:e,isSettings:t,isCompactComposeEnabled:a,isDarkTheme:n,leftNavResizing:r,viewsUnderInboxEnabled:o,isOnboardingRoute:i,showInboxTabs:l}=this.props,c=e===S.EsZ.RIGHT,d=this.state.showComposeTray&&!t,_=this.context.getThemeMode(),E=!t&&!i,u=this.context.getCss(qh(),{verticalPreviewPane:c,...(0,Kl.OW)(this.context),composeTray:d,composeTrayInDarkTheme:d&&n,viewsUnderInbox:o&&_===S.zgU.LIGHT,onboardingRoute:i});return vl.createElement(vl.Fragment,null,vl.createElement("div",{className:u.shadedContainer,"data-test-id":"content-area"},vl.createElement("div",{className:u.container,"data-test-id":"content-below-tabs"},E&&this._renderLeftRail(u),r&&E?this._renderNavResizer(u):null,this.props.showAccountAuthWindow&&vl.createElement(pc.cr,{import:"../../molecules/account_auth_window",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,44499))},_moduleResolver:function(){return 44499}}),this.props.showThemesCueV3&&this._renderThemesCueV3(),this.props.showGDPRWarningCue&&this._renderCue(S.ANe.GDPR_WARNING_CUE),this.props.showNpsSurveyCue&&this._renderNpsSurveyCue(),this.props.showAdBlockUpsellCue&&this._renderCue(S.ANe.ADBLOCK_UPSELL_CUE),this.props.showAdBlockToNodinCue&&this._renderCue(S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),this.props.showAdBlockDelayDismissCue&&this._renderCue(S.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2),this.props.showRightRailAdFreeUpsellCue&&this._renderCue(S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE),this.props.readabilityModeCue&&this._renderCue(S.ANe.READABILITY_MODE_CUE),this.props.showPartnerReconsentBanner&&this._renderPartnerReconsentBanner(),this._renderDispatcherUpsell(),this.props.showMailPlusFeaturesUpsell&&vl.createElement(pc.cr,{import:"../mail_plus_features_upsell/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,53232))},_moduleResolver:function(){return 53232}}),this.props.showYMobilePromoUpsells&&this._renderYMobilePromoUpsells(),this.props.showYpmpPromoUpsells&&this._renderYpmpPromoUpsells(),this.props.showYptGamerUpsells&&this._renderYptGamerUpsells(),this.props.showLastPassFreeTrialUpsell&&this._renderLastPassFreeTrialUpsell(),this.props.showAmazonPrimeDayUpsell&&this._renderAmazonPrimeDayUpsell(),this.props.isNotfsCategoryCustomizeCueEnabled&&this._renderNotificationCategoriesCustomizeCue(),this.props.showLightboxNotification&&this._renderFreeTrialLightboxNotification(),this.props.showAutoForwardCue&&this._renderCue(S.ANe.AUTO_FORWARD_CUE),this.props.showBrandMenuFeedbackUpsell&&this._renderBrandMenuFeedbackUpsell(),this.props.showMailProToMailPlusupsell&&this._renderCue(S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL),this.props.showEmailsToMyselfFeedbackCue&&this._renderCue(S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE),this.props.showMailPlusOnboardingCue&&this._renderCue(S.ANe.MAIL_PLUS_ONBOARDING_CUE),this.props.showNotificationsComposeUpsellCue&&this._renderCue(S.ANe.NOTIFICATIONS_COMPOSE_UPSELL_CUE),this.props.showNotificationsRefreshUpsellCue&&this._renderCue(S.ANe.NOTIFICATIONS_REFRESH_UPSELL_CUE),this.props.showNotificationsReadUpsellCue&&this._renderCue(S.ANe.NOTIFICATIONS_READ_UPSELL_CUE),this.props.showNewUserOnboardingCue&&this._renderCue(S.ANe.NEW_USER_ONBOARDING_CUE_V2),this.props.showYaiOnboardingCue&&this._renderCue(S.ANe.YAI_ONBOARDING_CUE),vl.createElement("div",{className:u.widthRestrictor,ref:e=>{this._innerContainer=e},id:"mail-app-component-container"},vl.createElement("div",{className:u.mainContent,"data-yaft-module":"norrin_main","data-test-id":"mail-app-component",id:"mail-app-component"},l&&vl.createElement(ug,null),vl.createElement("div",{"data-test-id":"mail-app-main-content",className:Sg()(u.routeHandler,u.mainContentBgOverlay)},vl.createElement(Kh,pg({},this.props,{showComposeTray:this.state.showComposeTray}))),a&&vl.createElement(rg,{setShowComposeTray:this.setShowComposeTray})),E&&this._renderRightRail()))),this.props.showNotificationsUpsellCue&&this._renderCue(S.ANe.NOTIFICATIONS_STICKY_UPSELL_CUE))}}Cg(Ng,"contextTypes",{executeAction:yl().func,intl:Gl.intlShape.isRequired,getCss:yl().func,config:yl().object,getThemeMode:yl().func,getTheme:yl().func});const Lg=(0,Fl.connect)((e=>{var t;const{isFeatureEnabled:s,getSetting:a,getWindowDimensions:n,isWindowResizingDone:r,getRoute:o,getRouteParams:i,getLaunchError:l,getSortOrderForFolderRoute:c,getSelectedAccountId:d,getAccountNameByAccountId:_,getSocialAccountSelectors:E,getEnvironmentSelectors:u,getMailPremiumFreeTrialSelectors:m,isStorefrontRoute:p,getLeftNavWidth:C,getContentProviders:A,showInboxTabs:T}=(0,Oc.selectors)(e),I=a(S.Zrf.PREVIEW_PANE),g=l(),O=o(),D=i(),R=(0,Rc.LY)(O),N=s(S.Zrf.HIDE_AD),L=s("photoThemes"),f=a(S.Zrf.PARTNER_BRAND),M=D.attachmentId&&"1"!==O.query.fullscreen,P=_(d()),b=(null===(t=u().getUserSegmentData().WEB_DESKTOP)||void 0===t?void 0:t.segment_id)||"",y=s(S.ANe.COMPACT_COMPOSE),v=s(S.ANe.VIEWS_UNDER_INBOX),F=m().getUpsellId(),U=[hg,gg,Og,Dg].indexOf(F)>-1,k=s(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&U,w=s(S.ANe.DISPATCHER_UPSELLS)&&!(0,h.xb)(a(S.Zrf.DISPATCHER_UPSELL_DATA)),G=s(S.ANe.TOUCHPOINT_UPSELL),H=a(S.ANe.MAIL_PLUS_FEATURES_UPSELL),B=!(!H||!H.plusFeatureRequested),x=s(S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL),V=a(S.Zrf.THEME_MODE)===S.zgU.DARK,{hasConsentForThirdPartyAI:Z,hasConsentForThirdPartyAIAndIndexed:W}=A();return{listId:R,previewPaneSetting:I,windowDimensions:n(),isWindowResizingDone:r(),folderListSortOrder:c(),isSettings:O.name===S.n8z.SETTINGS,isOnboardingRoute:O.name===S.n8z.ONBOARDING,hideAdUpsellSetting:N,hasAttachmentPreview:M,photoThemes:L,partnerBrand:f,viewsUnderInboxEnabled:v,useBoldFocus:s(S.ANe.BOLD_FOCUS),readabilityModeSetting:a(S.Zrf.READABILITY_MODE),enableReadabilityMode:s(S.ANe.ENABLE_READABILITY_MODE),userDisplayName:P,launchError:g,jacServerPrefetchCookieEnabled:s(S.ANe.JAC_SERVER_PREFETCH_COOKIE),showNpsSurveyCue:s(S.ANe.NPS_SURVEY_CUE),showThemesCueV3:s(S.ANe.THEMES_CUE_V3),showUpdateWiderMailCue:s(S.ANe.UPDATE_WIDER_MAIL_CUE),showAdBlockUpsellCue:s(S.ANe.ADBLOCK_UPSELL_CUE),showAdBlockToNodinCue:s(S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE),readabilityModeCue:s(S.ANe.READABILITY_MODE_CUE),showAdBlockDelayDismissCue:s(S.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2),showRightRailAdFreeUpsellCue:s(S.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE),showPartnerReconsentBanner:s(S.ANe.PARTNER_RECONSENT_BANNER),showAutoForwardCue:s(S.ANe.AUTO_FORWARD_CUE),showLastPassFreeTrialUpsell:s(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&s(S.ANe.LASTPASS_FREETRIAL_UPSELL),showYMobilePromoUpsells:s(S.ANe.YMOBILE_PROMO_UPSELLS),showYpmpPromoUpsells:s(S.ANe.YPMP_PROMO_UPSELLS),showYptGamerUpsells:s(S.ANe.YPT_GAMER_UPSELLS),hasAds:s(S.ANe.ADS),hasWideLogo:s(S.Zrf.HAS_WIDE_LOGO),showAccountAuthWindow:E().showAuthWindow(),showAmazonPrimeDayUpsell:s(S.ANe.AMAZON_PRIME_DAY_CUE),isNotfsCategoryCustomizeCueEnabled:s(S.ANe.NOTIFICATIONS_CUSTOMIZE_UPSELL_CUE),showBrandMenuFeedbackUpsell:s(S.ANe.BRAND_MENU_FEEDBACK_CUE)&&p(),userSegmentId:b,showLightboxNotification:k,upsellId:F,showDispatcherUpsell:w,showTouchpointUpsell:G,showMailPlusFeaturesUpsell:B,showGDPRWarningCue:s(S.ANe.GDPR_WARNING_CUE),isCompactComposeEnabled:y,showMailProToMailPlusupsell:x,isDarkTheme:V,showEmailsToMyselfFeedbackCue:s(S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE),leftNavResizing:s(S.ANe.LEFT_NAV_RESIZING),leftNavWidth:C(),showMailPlusOnboardingCue:s(S.ANe.MAIL_PLUS_ONBOARDING_CUE),showNotificationsComposeUpsellCue:s(S.ANe.NOTIFICATIONS_COMPOSE_UPSELL_CUE),showNotificationsUpsellCue:s(S.ANe.NOTIFICATIONS_STICKY_UPSELL_CUE),showNotificationsRefreshUpsellCue:s(S.ANe.NOTIFICATIONS_REFRESH_UPSELL_CUE),showNotificationsReadUpsellCue:s(S.ANe.NOTIFICATIONS_READ_UPSELL_CUE),showNewUserOnboardingCue:s(S.ANe.NEW_USER_ONBOARDING_CUE_V2),showYaiOnboardingCue:s(S.ANe.YAI_ONBOARDING_CUE)&&Z(),hasConsentForThirdPartyAIAndIndexed:W(),isPriorityInboxEnabled:s(S.ANe.PRIORITY_INBOX_ENABLED),showInboxTabs:T()}}),(e=>({setLeftNavResizeWidth:t=>e((e=>({type:$c.LEFT_NAV_RESIZED,...e}))(t))})))(Ng);function fg(e,{listId:t}){e.dispatch($c.BROWSER_NOTIFICATIONS_DISPLAYED,{listId:t})}var Mg=s(40561);function Pg(e){return{timestamp:1e3*e.headers.date,id:e.id,folderId:e.folder.id}}function bg(e){return{titleFormatOptions:function(e){return{newMessageCount:e.length}}(e),bodyFormatOptions:function(e){const t=function(e){return ra()(e.map(yg))}(e),s={senderCount:t.length};t.length>=1&&(s.senderOne=t[0]);t.length>=2&&(s.senderTwo=t[1]);t.length>=3&&(s.senderThree=t[2]);t.length>3&&(s.remainingSenderCount=t.length-3);return s}(e)}}function yg(e){const t=e.headers.from[0]||{};return t.name||t.email||""}function vg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Fg extends vl.Component{constructor(...e){super(...e),vg(this,"_displayNotification",(({title:e,options:t,onClick:s})=>{const a=new window.Notification(e,t);s&&a.addEventListener("click",s)}))}componentDidMount(){const{notification:{title:e,options:t,onClick:s}}=this.props;this._displayNotification({title:e,options:t,onClick:s})}render(){return null}}vg(Fg,"contextTypes",{config:yl().object});const Ug=Fg;function kg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const wg=(0,wA.A)("/img/desktop_notification_icon_1x.png"),Gg=(0,Gl.defineMessages)({summaryNotificationTitle:{id:"summary_notification_title",defaultMessage:"You have {newMessageCount, number} new messages"},summaryNotificationBody:{id:"summary_notification_body",defaultMessage:"From {senderCount, plural, =1 {{senderOne}} =2 {{senderOne} and {senderTwo}} =3 {{senderOne}, {senderTwo}, and {senderThree}} other {{senderOne}, {senderTwo}, {senderThree}, and {remainingSenderCount} more}}"},singleNotificationMissingSubject:{id:"single_notification_missing_subject",defaultMessage:"No Subject"}});class Hg extends vl.Component{constructor(...e){super(...e),kg(this,"_transformMessageGroupsToNotifications",(e=>{const t=this._filterSystemFolders(e),s=this._filterMessageGroups(t);return 0===s.length?[]:s.length>1?[this._generateSummaryNotification(s)]:this._generateSingleNotifications(s)})),kg(this,"_filterMessageGroups",(e=>this.props.peopleNotifications?e.filter((e=>function(e){return"P"===e.classification}(e.messages[e.messages.length-1]))):e)),kg(this,"_filterSystemFolders",(e=>e.filter((e=>{const t=e.messages[e.messages.length-1];return!t.folder.isSystem||(0,ds.IZ)(t.folder)===S.Sck.INBOX})))),kg(this,"_generateSummaryNotification",(e=>{const{formatMessage:t}=this.context.intl,s=e.map((e=>e.messages[e.messages.length-1])),{titleFormatOptions:a,bodyFormatOptions:n}=bg(s),r=t(Gg.summaryNotificationTitle,a),o=t(Gg.summaryNotificationBody,n),i=this._getSummaryNotificationIcon(),{timestamp:l,id:c,folderId:d}=Pg(s[0]);return this._transformNotification({title:r,body:o,icon:i,timestamp:l,id:c,folderId:d})})),kg(this,"_generateSingleNotifications",(e=>{const{formatMessage:t}=this.context.intl;return e.map((e=>{const s=e.messages[e.messages.length-1],a=function(e){return yg(e)}(s),n=function(e){return e.headers.subject}(s)||t(Gg.singleNotificationMissingSubject),r=this._getSingleNotificationIcon(s),{timestamp:o,id:i,folderId:l}=Pg(s),c=e.id;return this._transformNotification({title:a,body:n,icon:r,timestamp:o,id:i,folderId:l,groupId:c})}))})),kg(this,"_transformNotification",(({title:e,body:t,icon:s,timestamp:a,id:n,folderId:r,groupId:o})=>({title:e,options:{body:t,icon:s,lang:this.context.intl.locale,timestamp:a,tag:n},onClick:this._getClickHandler({folderId:r,groupId:o})}))),kg(this,"_getSummaryNotificationIcon",(()=>wg)),kg(this,"_getSingleNotificationIcon",(e=>{const t={email:e.headers.from.length?e.headers.from[0].email:""};return(0,Mg.z)(t,"160",wg)})),kg(this,"_getClickHandler",(({folderId:e,groupId:t})=>s=>{s.preventDefault(),s.target.close(),window.focus(),this.context.navigateTo({route:t?(0,gc.m9)((0,Rc.Kw)(e),t):(0,gc.i5)(e)})}))}componentDidMount(){const{listId:e}=this.props;this.context.executeAction(fg,{listId:e})}render(){const{messageGroups:e}=this.props,t=this._transformMessageGroupsToNotifications(e);return vl.createElement("div",null,t.map((e=>vl.createElement(Ug,{key:e.options.tag,notification:e}))))}}kg(Hg,"contextTypes",{intl:Gl.intlShape,config:yl().object,executeAction:yl().func,navigateTo:yl().func});const Bg=Hg,xg=(e,t)=>e.filter((e=>{var s;return(0,M.vC)(t,null===(s=e.reminders)||void 0===s?void 0:s.reminder[0].dateTime)}))||[],Vg=(0,Fl.connect)((e=>{const{getActionableRightRailPane:t,getTodoSelectors:s}=(0,Oc.selectors)(e),{getTodosWithReminders:a}=s();return{isTodoPaneOpen:t()===S._Ab.TodosPane,todoItems:a()}}))((e=>{const{todoItems:t,isTodoPaneOpen:s}=e,a=(0,Gm.I0)(),[n,r]=(0,vl.useState)(xg(t,new Date)||[]),[o,i]=(0,vl.useState)(n.length>0);(0,vl.useEffect)((()=>{const e=setInterval((()=>{const e=new Date,s=xg(t,e);s.length&&(i(!0),r(s))}),6e4);return()=>clearInterval(e)}));const l=e=>e.map((e=>{var t,n;return(({title:e,body:t,lang:n,timestamp:r,id:o})=>({title:e,options:{body:t,lang:n,icon:"",timestamp:r,tag:o},onClick:e=>{e.preventDefault();const t=e.target,n={mKey:cc.JE.TODO_NOTIFICATION_CLICK,sec:cc.nJ.RIGHT_RAIL,interactionType:(0,Pa.getInteractionFromEvent)(e)};t.close(),window.focus(),s||a((0,wm.id)({i13nModel:n}))}}))({title:e.summary,body:e.description||"",lang:e.lang,timestamp:(null===(t=e.reminders)||void 0===t||null===(n=t.reminder[0].dateTime)||void 0===n?void 0:n.getTime())||(new Date).getTime(),id:e.uid})})),c=(e=>e.length?l(e):[])(n);return vl.createElement("div",null,o?c.map((e=>vl.createElement(Ug,{key:e.options.tag,notification:e}))):null)}));function Zg(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Wg extends vl.Component{constructor(...e){super(...e),Zg(this,"state",{hasPermission:!1}),Zg(this,"requestPersmission",(()=>{window.Notification.requestPermission((e=>{"granted"===e&&this.setState({hasPermission:!0})}))}))}componentDidMount(){this._allItemsNotSeen=[],window.Notification&&this.requestPersmission()}componentDidUpdate(){this.props.isAppVisible&&(this._allItemsNotSeen=[])}render(){const{items:e,listContentType:t,isAppVisible:s,listId:a,peopleNotifications:n,remindersEnabled:r,hasTodosWithReminders:o}=this.props,i=[];return(e.length||o)&&this.state.hasPermission&&!s&&this.context.isLatestWindow()?(t===S.F6k.MESSAGES&&(this._allItemsNotSeen=[...this._allItemsNotSeen,...e],i.push(vl.createElement(Bg,{peopleNotifications:n,messageGroups:this._allItemsNotSeen,listId:a,key:"newMsg"}))),r&&o&&i.push(vl.createElement(Vg,{key:"todo"})),vl.createElement("div",null,i.length>0?i.map((e=>vl.createElement("div",{key:e.key},e))):null)):null}}Zg(Wg,"contextTypes",{config:yl().object,isLatestWindow:yl().func.isRequired}),Zg(Wg,"defaultProps",{items:[]});const Kg=(0,Fl.connect)(((e,{tapHookEnabled:t})=>{const{getActionTimeStamp:s,getApplicationLastVisibleTimeStamp:a,getCurrentListId:n,isAppVisible:r,doesListExist:o,getMessageListItemsSinceTimestamp:i,__patchV2MessageGroupItem__:l,isFeatureEnabled:c,getTodoSelectors:d}=(0,Oc.selectors)(e),_=n(),E=(0,Rc.WN)(_),u=c("peopleNotifications");let m=[];if(!t){const e=r()?s():a();m=o(_)?i(_,e):[]}const p=m.map((e=>l(e,_))),{hasTodosWithReminders:C}=d();return{...p.length?{items:p}:{},listContentType:E,listId:_,isAppVisible:r(),peopleNotifications:u,hasTodosWithReminders:C(),remindersEnabled:c(S.ANe.MAIL_TODO_NOTIFICATIONS)}}))(Wg);var zg,Yg,jg=s(38320),qg=s(95861);function Xg(){const[e,t]=(0,vl.useState)(zg.UNKNOWN),[s,a]=(0,vl.useState)((0,jg.MR)()===jg.Jj.GRANTED?Yg.PERMISSION_ALREADY_GRANTED:Yg.NONE),n=(0,YS.Z)(S.Zrf.NOTIFICATION),r=(0,Gm.v9)((e=>{const t=(0,Oc.selectors)(e).getAction(),s=t.type===$c.SETTINGS_CHANGE_REQUESTED&&[S.Zrf.DESKTOP_NOTIFICATION,S.Zrf.MOBILE_NOTIFICATION].includes(t.name),a=t.type===$c.FEATURE_ENABLED&&t.name===S.ANe.SHOULD_SW_SUBSCRIBE;return s||a}));(0,vl.useEffect)((()=>{r&&a(Yg.EXPLICIT_USER_ACTION),t(n?zg.SUBSCRIBE:zg.UNSUBSCRIBE)}),[r,n]);const o=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAccountSelectors().getAccountSubscriptionIds())),i=(0,YS.Z)(S.Zrf.PUSH_SUBSCRIPTION_VALIDITY),l=(0,YS.Z)(S.Zrf.ASSOCIATION_SUBSCRIPTION_VALIDITY),{guidHash:c,appId:d,userNamespace:_}=(0,Um.B)(),E=(0,Gm.I0)(),u=JSON.stringify({tags:o.map((e=>`mail/new_mail_v4|notify|${e}|deco:FTI`))});return(0,vl.useEffect)((()=>{const t=e=>E({type:$c.FEATURE_DISABLED,name:S.ANe.PUSH_NOTIFICATIONS,...e}),n=()=>E({type:$c.PUSH_NOTIFICATIONS_REQUEST_GRANTED,i13nModel:{mKey:cc.JE.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:cc.nJ.NOTIFICATION_ACTION}});if(e===zg.UNKNOWN||s===Yg.NONE)return;const r=()=>a(Yg.NONE);e===zg.SUBSCRIBE?(0,qg.Z)({service:"tap",attributes:JSON.parse(u),isPreviousActionNotificationsEnabled:s===Yg.EXPLICIT_USER_ACTION,disablePushNotifications:t,onGrantedPermissions:n,registrationValidityPeriod:i,associationValidityPeriod:l,guidHash:c,appId:d}).finally(r):(0,jg.r1)({guidHash:c,appId:d,userNamespace:_}).catch((e=>se.Z.error("user_disabled_notifications",{error:e}))).finally(r)}),[s,e,u,i,l,c,d,_,E]),null}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UNSUBSCRIBE=1]="UNSUBSCRIBE",e[e.SUBSCRIBE=2]="SUBSCRIBE"}(zg||(zg={})),function(e){e[e.NONE=0]="NONE",e[e.PERMISSION_ALREADY_GRANTED=1]="PERMISSION_ALREADY_GRANTED",e[e.EXPLICIT_USER_ACTION=2]="EXPLICIT_USER_ACTION"}(Yg||(Yg={}));var Qg=s(81666),Jg=s(63752);function $g(){const e=(0,jS.Z)(S.ANe.BROWSER_NOTIFICATIONS),t=(0,jS.Z)(S.Zrf.NOTIFICATION),s=(0,YS.Z)(S.Zrf.SERVICE_WORKER_URL),a=(0,jS.Z)(S.ANe.PUSH_NOTIFICATIONS)&&(0,Qg.Z)()&&s,n=(0,jS.Z)(S.ANe.LEGACY_PUSH_NOTIFICATION_CONTROLLER_VIEW),r=(0,Jg.nL)();return vl.createElement(vl.Fragment,null,a&&n&&!r.enabled&&vl.createElement(Xg,null),t&&e&&vl.createElement(Kg,{tapHookEnabled:r.enabled}))}const eO=(0,wA.A)("/html/status.html");const tO={STATUS_PAGE_URL:eO,ping:function(){return new N.Z("HEAD",eO,{timeout:9e3}).send()}};function sO(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class aO extends vl.Component{constructor(...e){super(...e),sO(this,"checking",!1),sO(this,"handleOfflineEvent",(()=>{this.checking&&this.stopChecking(),this.setOffline()})),sO(this,"handleOnlineEvent",(()=>{this.checking?this.check():this.startChecking()})),sO(this,"handleNetworkRequestFailure",(e=>{e.url!==tO.STATUS_PAGE_URL&&this.startChecking()})),sO(this,"handleNetworkRequestSuccess",(()=>{this.checking&&(this.stopChecking(),this.setOnline())})),sO(this,"check",(()=>{navigator&&void 0!==navigator.onLine&&!1===navigator.onLine||tO.ping().then((()=>{this.stopChecking(),this.setOnline()}),(()=>{this.checking&&(this.setOffline(),setTimeout(this.check,1e4))}))})),sO(this,"startChecking",(()=>{this.checking||(this.checking=!0,this.check())})),sO(this,"stopChecking",(()=>{this.checking=!1})),sO(this,"setOnline",(()=>{this.props.onChange({online:!0})})),sO(this,"setOffline",(()=>{this.props.onChange({online:!1})}))}shouldComponentUpdate(){return!1}componentDidMount(){this.props.isEnabled&&(window.addEventListener("offline",this.handleOfflineEvent),window.addEventListener("online",this.handleOnlineEvent),N.Z.on("error",this.handleNetworkRequestFailure),N.Z.on("success",this.handleNetworkRequestSuccess))}componentWillUnmount(){window.removeEventListener("offline",this.handleOfflineEvent),window.removeEventListener("online",this.handleOnlineEvent),N.Z.off("error",this.handleNetworkRequestFailure),N.Z.off("success",this.handleNetworkRequestSuccess)}render(){return null}}const nO=(0,Fl.connect)((e=>({isEnabled:(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.OFFLINE_CHECKING)})),(e=>({onChange:t=>e((({online:e})=>(t,s)=>{const{isOnline:a,isFeatureEnabled:n}=(0,Oc.selectors)(s());a()!==e&&t({type:$c.ONLINE_STATUS_CHANGED,online:e,rotateAdsOnline:n(S.ANe.ROTATE_ADS_ONLINE)})})(t))})))(aO),rO={[S.JfS]:"YahooMailDesktop",[S.m$L]:"YahooMailBasic",[S.nac]:"AOLNorrinWebmail",[S.n4w]:"AOLNodinWebmail"},oO={service:{adServer:{},debug:!1,site:{name:rO[S.JfS]},positions:{LREC:{sizes:["300x250"]},LREC4:{sizes:["300x250"]},MON:{sizes:["300x600"]},SKY:{sizes:["160x620"]},UBASKY:{sizes:["160x620"]},UBAMON:{sizes:["300x600"]},UBALREC:{sizes:["300x250"]}}},client:{positions:{DEFAULT:{nonFriendlyIframe:{enabled:!0},rotation:{enabled:!1},render:{auto:!1},fetch:{auto:!1,minInterval:500}},LREC:{targetElement:"slot_LREC"},LREC4:{targetElement:"slot_LREC4"},MON:{targetElement:"slot_MON"},SKY:{targetElement:"tgtSKY"},UBASKY:{targetElement:"tgtUBASKY"},UBAMON:{targetElement:"slot_UBAMON"},UBALREC:{targetElement:"slot_UBALREC"},FULLPANE:{targetElement:"slot_FULLPANE"}}}},iO={FULLPANE:"FULLPANE",LREC4:"LREC4",LREC:"LREC",MON:"MON",SKY:"SKY",UBAMON:"UBAMON",UBASKY:"UBASKY"},lO="COMPOSE",cO="DEFAULT",dO="EMPTY_FOLDER",_O="MESSAGE_READ_POPOUT",EO="SEND_CONFIRM",uO={[iO.SKY]:{[cO]:"skyDefault",[lO]:"skyCompose",[_O]:"skyMessageReadPopout"},[iO.UBASKY]:{[cO]:"ubaskyDefault",[lO]:"ubaskyCompose",[_O]:"ubaskyMessageReadPopout"},[iO.MON]:{[cO]:"monDefault"},[iO.UBAMON]:{[cO]:"ubamonDefault"},[iO.LREC]:{[cO]:"lrecDefault"},[iO.LREC4]:{[cO]:"lrec4Default"},[iO.FULLPANE]:{[cO]:"fullpaneDefault",[EO]:"fullpaneSendConfirm",[dO]:"fullpaneEmptyFolder"}},mO="US",SO="EMEA",pO={ca:mO,de:SO,fr:SO,jp:"APAC",uk:SO,us:mO},CO={[iO.SKY]:"160x600",[iO.UBASKY]:"160x600",[iO.MON]:"300x600,300x250",[iO.UBAMON]:"300x600,300x250",[iO.LREC]:"300x250",[iO.LREC4]:"300x250",[iO.FULLPANE]:"1200x800,300x600"};var AO=s(50361),TO=s.n(AO);const IO=({features:e={},buckets:t=[]})=>{const{darlaGeminiArbitration:s=!1}=e;return{...s?{geminifed:1}:null,...t.length?{"y-bucket":t.join(",")}:null,rs:`"${["lu:1"].join(";")}"`}},hO=e=>{const t=TO()(oO),{spaceId:s,appId:a,locale:n="en-US",region:r="us",aolAdPositionConfig:o={},features:{debugJAC:i=!1,isAolUser:l=!1,serviceHost:c="",doubleBuffering:d=!1,connectId:_=!1},excludeUBAPositions:E=!1,userEmail:u="",requestedPositions:m=[],referrerUrl:p}=e,C=((e,t)=>e===S.nac||e===S.n4w?`${rO[e]}_${t.toLowerCase()}_aol`:rO[e])(a,n)||rO[S.JfS];return _&&u&&(t.client.idProviders={yahoo:{email:u}}),c&&(t.service.host=c),d&&(t.client.positions.DEFAULT.render.doubleBuffering=d),E&&["UBASKY","UBAMON","UBALREC"].forEach((e=>{delete t.service.positions[e],delete t.client.positions[e]})),m.length&&["LREC","LREC4","MON","SKY","UBASKY","UBAMON","UBALREC","FULLPANE"].forEach((e=>{m.indexOf(e)<0&&(delete t.service.positions[e],delete t.client.positions[e])})),t.service.site.name=C,t.service.debug=i,t.service.site.spaceId=s,t.service.site.url=p,l?(t.service.adServer["1AS"]={region:pO[r]||mO},Object.keys(iO).forEach((e=>{!o[e]||m.length&&!m.includes(e)||(t.service.positions[e]={alias:o[e].magicNumber+"",sizes:(o[e].sizes||"").split(",")})}))):t.service.adServer.PG={siteAttributes:IO(e)},t};const gO=e=>{const t=/DspId:([a-zA-Z0-9_-]*),/,s=/SeatId:([a-zA-Z0-9_-\s]*),/,a=/DspCrId:([a-zA-Z0-9_-]*),/,n=/CrsCrId:([a-zA-Z0-9_-]*) /,r=(/<!-- Yahoo Inc SSP BannerAd(.*)-->/.exec(e)||[])[1];if(r){return{dspId:(t.exec(r)||[])[1]||"",seatId:(s.exec(r)||[])[1]||"",dspCrId:(a.exec(r)||[])[1]||"",crsCrId:(n.exec(r)||[])[1]||""}}return{dspId:"",seatId:"",dspCrId:"",crsCrId:""}},OO=_e().create("norrin/jac");var DO=s(59413);var RO=s(59678);const NO=e=>{const{abpDetected:t,noAbpDetected:s,noAdblockDetected:a,geminiError:n,hasGeminiBeenBlocked:r,isOnline:o,adblockDetected:i,userAdBlockerData:l,browserName:c,athenaSignalDetected:d,jacEnabled:_,gamEnabled:E}=e,u=(0,vl.useRef)(!1),m=(0,vl.useRef)(e.delayDismissCueShownCount),S=(0,vl.useRef)(),p=(0,vl.useCallback)((()=>{const e=["OUTBOUND"];if(o)if(_&&!window.JAC&&r)i({mKey:cc.JE.ADBLOCK_DETECTED,sec:cc.nJ.RIGHT_RAIL});else{if(_&&!window.JAC||E)return new N.Z("GET","https://s.yimg.com/av/curveball/ads/pr/RESIZE/82x82/e0c798d5985f074be65e92bcccdb8456.jpeg").send().then((e=>{a({mKey:cc.JE.NO_ADBLOCK_DETECTED,sec:cc.nJ.RIGHT_RAIL})})).catch((t=>{if(t.errorCode&&-1!==e.indexOf(t.errorCode))return i({mKey:cc.JE.ADBLOCK_DETECTED,sec:cc.nJ.RIGHT_RAIL,actionData:{err:t.errorCode||""}})}));a({mKey:cc.JE.NO_ADBLOCK_DETECTED,sec:cc.nJ.RIGHT_RAIL})}}),[i,a,o,r,_,E]);return(0,vl.useEffect)((()=>{u.current||(u.current=!0,new Promise((e=>{let t=null,s=null;const a=new Image,n=new Image;a.onload=()=>{t=!0,null!==s&&!1===s&&e(!0)},a.onerror=()=>e(!1),n.onload=()=>e(!1),n.onerror=()=>{s=!1,null!==t&&!0===t&&e(!0)},a.src="https://mail.yahoo.com/px.gif?ch=1",n.src="https://mail.yahoo.com/px.gif?ch=2"})).then((e=>{e?t({mKey:cc.JE.ABP_DETECTED,sec:cc.nJ.RIGHT_RAIL,actionData:{hasGeminiBeenBlocked:r,geminiError:n,delayDismissCueShownCount:m.current}}):(s({mKey:cc.JE.NO_ABP_DETECTED,sec:cc.nJ.RIGHT_RAIL,actionData:{delayDismissCueShownCount:m.current}}),S.current=setTimeout(p,1e4))})))}),[t,s,n,r,i,o,p,l,c,d]),(0,vl.useEffect)((()=>()=>{S.current||clearTimeout(S)}),[]),(0,vl.useEffect)((()=>{if(!(0,h.xb)(l)){(l[c]||[]).includes("athenaDetected")&&d({mKey:cc.JE.ATHENA_ADBLOCKER_SIGNAL_DETECTED,actionData:{browserName:c,userAdBlockerData:l},sec:cc.nJ.RIGHT_RAIL})}}),[l,d,c]),null};NO.propTypes={abpDetected:yl().func.isRequired,noAbpDetected:yl().func.isRequired,noAdblockDetected:yl().func.isRequired,geminiError:yl().object,hasGeminiBeenBlocked:yl().bool,delayDismissCueShownCount:yl().number,isOnline:yl().bool,adblockDetected:yl().func.isRequired,userAdBlockerData:yl().object,browserName:yl().string,jacEnabled:yl().bool,gamEnabled:yl().bool};const LO=(0,Fl.connect)((e=>{const{getAdsSelectors:t,getSetting:s,isOnline:a,getEnvironmentSelectors:n,isFeatureEnabled:r}=(0,Oc.selectors)(e),{getAllGeminiError:o,hasGeminiBeenBlocked:i}=t(),{getUserAdBlockerData:l,getBrowser:c}=n(),d=(0,RO.JV)(s(S.Zrf.SCOUT_ONBOARDING),S.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2)||0,{browserName:_}=c();return{geminiError:o(),hasGeminiBeenBlocked:i(),delayDismissCueShownCount:d,isOnline:a(),userAdBlockerData:l(),browserName:_,jacEnabled:r(S.ANe.JAC_ADS),gamEnabled:r(S.ANe.GAM)}}),(e=>({abpDetected:t=>e((0,DO.yu)({i13nModel:t})),noAbpDetected:t=>e((0,DO.tQ)({i13nModel:t})),noAdblockDetected:t=>e((0,DO.oh)({i13nModel:t})),adblockDetected:t=>e((0,DO.VK)({i13nModel:t})),athenaSignalDetected:t=>e((0,DO.Nq)({i13nModel:t}))})))(NO);var fO=s(58989),MO=s.n(fO);const PO=(0,Gl.defineMessages)({button_txt:{id:"ad_reporter_btn",defaultMessage:"Capture ad data"},tooltip:{id:"ad_reporter_tooltip",defaultMessage:"Internal tool only"}}),bO=(0,Fl.connect)(null,(e=>({openComposeView:t=>e((0,zl.Hg)(t))})))((({openComposeView:e,handleLog:t,route:s})=>{const a=(0,Hc.Z)(MO()),{formatMessage:n}=(0,Fm.Y)(),{timezone:r,locale:o}=(0,Um.B)();(0,vl.useEffect)((()=>{var e;const t=(null===(e=window)||void 0===e?void 0:e._YMJacReporterSubmitting)||!1;s.name!==S.n8z.NEW_DRAFT&&t&&(window._YMJacReporterSubmitting=!1)}),[s]);const i=e=>{let t="<h4>Thanks for your feedback. Please add a screenshot below and share more information as needed</h4>";t+='<p>Comment:</p><br style="line-height: 200px">';return t+="<hr/><h4>Current ads info:</h4>",t+="<table>",t+="<tbody>",t+=(e=>Object.keys(e).map((t=>{const s=e[t];return`\n                <tr>\n                <td>Position: ${t}</td>\n                </tr>\n                <tr>\n                <td>AdId: ${s.adId}</td>\n                </tr>\n                <tr>\n                <td>CreativeId: ${s.creativeId}</td>\n                </tr>\n                <tr>\n                <td>DspId: ${s.dspId}</td>\n                </tr>\n                <tr>\n                <td>SeatId: ${s.seatId}</td>\n                </tr>\n                <tr>\n                <td>DspCrId: ${s.dspCrId}</td>\n                </tr>\n                <tr>\n                <td>CrsCrId: ${s.crsCrId}</td>\n                </tr>\n                <tr>\n                <td><hr/></td>\n                </tr>\n                `})))(e).join(""),t+="</tbody></table>",t};return vl.createElement("button",{className:a.adReporter,title:n(PO.tooltip),"data-test-id":"ad-reporter",onClick:()=>{var s;const a=(null===(s=window)||void 0===s?void 0:s._YMJacRenderPayload)||{};if((0,h.xb)(a))return;const n=[{email:"yahoomailadsreview@yahooinc.com"},{email:"badads@yahooinc.com"}],l=`Yahoo Mail Display Ad Feedback - Ad Details - ${(0,M.p6)(new Date,o,{timezone:r})}`,c=i(a);window._YMJacReporterSubmitting=!0,t(),e({composeParams:{to:n,subject:l,body:c}})},type:"button","aria-hidden":!0,tabIndex:-1},n(PO.button_txt))})),yO=(e,{getAdPositions:t,region:s,locale:a})=>{const{actionType:n,adRotationId:r,appId:o,clientSidePrefetchEnabled:i,connectIdEnabled:l,aolAdPositionConfig:c,darlaGeminiArbitration:d,debugJAC:_,displayAdsRotationOptimizationEnabled:E,doubleBuffering:u,enforceAdRotationInterval:m,isAolUser:p,isABPDetected:C,isAdBlockDetectionEnabled:A,isEmptyFolderDisplayAdEligible:T,isGeminiAdFeedbackInProgress:I,isMessageReadComposeActive:h,isRRCompactSize:g,isRightRailAdArbitrationEnabled:O,jacServiceHost:D,setMessageReadAdRotationTimeStamp:R,messageReadAdRotationIdleInterval:N,messageReadAdRotationInterval:L,messageReadAdRotationEnabled:f,messageReadAdRotationTimestamp:M,route:P,rootSpaceId:b,spaceId:y,timeToWaitSinceLastAdCall:v,userEmail:F,adReporterClick:U,adReporterEnabled:k,jacAdRendered:w}=e,G=(0,fA.Z)(g),H=(0,fA.Z)(h),B=(0,fA.Z)(M),x=(0,fA.Z)(r),V=(0,fA.Z)(y),Z=(0,fA.Z)(C),W=(0,fA.Z)(T),K=(0,fA.Z)(c),z=(0,vl.useRef)(null),Y=(0,vl.useRef)(null),j=(0,vl.useRef)(null),q=(0,vl.useRef)(!1),X=(0,vl.useRef)(null),Q=(0,vl.useRef)(0),J=(0,vl.useRef)([]),$=(0,vl.useRef)(n),ee=(0,vl.useRef)(null==P?void 0:P.name),te=(0,vl.useRef)(!1),ae=(0,vl.useRef)(!0),ne=(0,vl.useRef)(0),re=(0,vl.useRef)(0),oe=(0,vl.useRef)(null),ie=(0,vl.useCallback)((()=>{var e,t;U({adInfo:(null===(e=window)||void 0===e?void 0:e._YMJacRenderPayload)||{}}),OO.feature("jac_ad_reported",{...(null===(t=window)||void 0===t?void 0:t._YMJacRenderPayload)||{}}).logLatency()}),[U]);return(0,vl.useEffect)((()=>{const e=()=>{clearTimeout(X.current),X.current=null},t=()=>{e(),X.current=setTimeout((()=>{Date.now()<=M+N&&(R(),t())}),L)};f&&(B&&!M?e():B!==M&&t())}),[f,N,L,M,B,R]),(0,vl.useEffect)((()=>()=>{clearTimeout(null==X?void 0:X.current),clearTimeout(null==oe?void 0:oe.current)}),[]),(0,vl.useEffect)((()=>{var e;let A=t().jac;if(!window.JAC||!A.length)return;p&&A.includes("MON")&&(A=Q.current>=3?["LREC","LREC4"]:["MON"]),$.current=n,ee.current=null==P?void 0:P.name;const R=({isPrefetch:e=!1}={})=>{var t,n,r,i;const E=e?b:y;window.JAC.setConfig(hO({spaceId:E,aolAdPositionConfig:c,appId:o,features:{darlaGeminiArbitration:d,debugJAC:_,isAolUser:p,serviceHost:D,doubleBuffering:u,connectId:l},buckets:(null===(t=window)||void 0===t||null===(n=t.AppBootstrapData)||void 0===n?void 0:n.buckets)||[],userEmail:F,locale:null==a?void 0:a.name,region:s,referrerUrl:(0,fS.fF)(null===(r=window)||void 0===r||null===(i=r.location)||void 0===i?void 0:i.hostname,P)}))},N=(e=[])=>{e.forEach((e=>window.JAC.destroyPosition(e)))},L=(e=[])=>{if(p&&(e.includes("LREC")?N(["MON"]):e.includes("MON")&&N(["LREC","LREC4"])),k){var t;if((null===(t=window)||void 0===t?void 0:t._YMJacReporterSubmitting)||!1)return}try{window.JAC.render(e)}catch(s){se.Z.error("jac_render_error",{error:s&&s.stack})}},f=(e=[],t)=>{q.current=t;const a=e.filter((e=>window.JAC.isPositionPending(e)));a.length&&(window.JAC.abort(a),OO.feature("jac_abort",{adPositions:a.join(","),rotationActionType:null==$?void 0:$.current,route:null==ee?void 0:ee.current,isPrefetchCall:t,intl:s}).logLatency()),clearTimeout(null==oe?void 0:oe.current);const n=Date.now();!!(ne.current&&n-ne.current<500)?oe.current=setTimeout((()=>window.JAC.fetch(e)),500):window.JAC.fetch(e)},M=()=>{ne.current=Date.now()},U=G!==g,B=Z!==C,W=!p&&V&&V!==y,X=H!==h,ie=x&&r!==x&&r-x>v,le=x&&re.current&&r!==x&&r-re.current>v,ce=E?le:ie,de=(null===(e=J.current)||void 0===e?void 0:e.length)&&((e=[],t=[])=>(null==e?void 0:e.length)!==(null==t?void 0:t.length)||e.some((e=>!t.includes(e))))(J.current,A),_e=p&&((e={},t={},s=[])=>!(!s.length||!s.find((s=>{var a,n,r,o;return(null===(a=e[s])||void 0===a?void 0:a.magicNumber)&&(null===(n=t[s])||void 0===n?void 0:n.magicNumber)&&(null===(r=e[s])||void 0===r?void 0:r.magicNumber)!==(null===(o=t[s])||void 0===o?void 0:o.magicNumber)}))))(K,c,A),Ee=m?ce||B:ce||U||W||B||X&&!h,ue=void 0!==window.JAC.getConfig();if((T||P.name===S.n8z.SEND_CONFIRMATION||!A.length||!A.includes("FULLPANE"))&&((!ue||W||de||_e)&&R(),null!=te&&te.current||(te.current=!0,window.JAC.on("FETCH_START",(e=>{var t;const a=(null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[];let n=[];if(p){var r,o;const e=(null===(r=window.JAC)||void 0===r?void 0:r.getConfig())||{},t=(null==e||null===(o=e.service)||void 0===o?void 0:o.positions)||{};n=a.map((e=>{var s;return null===(s=t[e])||void 0===s?void 0:s.alias}))}const i={adPositions:null==a?void 0:a.sort().join(","),mn:n.join(","),rotationActionType:null==$?void 0:$.current,route:null==ee?void 0:ee.current,intl:s};z.current=OO.feature(q.current?"jac_prefetch_call":"jac_fetch_call",i)})),window.JAC.on("FETCH_COMPLETE",(e=>{var t,a,n,r,o,i,l;M(),null!=z&&z.current&&(z.current.logLatency(),z.current=null);const c=(null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[],d=(null==e||null===(a=e.meta)||void 0===a||null===(n=a.response)||void 0===n?void 0:n.positions)||{},_=O?((null==e||null===(r=e.meta)||void 0===r||null===(o=r.response)||void 0===o||null===(i=o.adServer)||void 0===i||null===(l=i.exclusionStatus)||void 0===l?void 0:l.replaced)||"").split(","):[];c.forEach((e=>{var t,a,n,r,o,i,l;const c=null===(t=d[e])||void 0===t?void 0:t.status,E=(null===(a=d[e])||void 0===a||null===(n=a.content)||void 0===n?void 0:n.adId)||-1,u=(null===(r=d[e])||void 0===r||null===(o=r.content)||void 0===o?void 0:o.crId)||-1,m=1!==c;if(m&&O&&_.indexOf(e)>-1)return;const S=OO.feature("jac_pos_returned",{adPosition:e,adId:E,creativeId:u,intl:s,serveType:(null===(i=d[e])||void 0===i||null===(l=i.meta)||void 0===l?void 0:l.serveType)||-1,status:c});m?S.logFailure():S.logLatency()})),k&&(window._YMJacPrefetchPayload=null==e?void 0:e.meta),c.length&&!1===q.current&&L(c)})),window.JAC.on("FETCH_ERROR",(()=>{M(),null!=z&&z.current&&(z.current.logFailure(),z.current=null)})),window.JAC.on("FETCH_TIMEOUT",(()=>{M(),null!=z&&z.current&&(z.current.logFailure(),z.current=null)})),window.JAC.on("RENDER_START",(e=>{var t;const a={adPositions:((null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[]).join(","),intl:s,route:null==ee?void 0:ee.current,rotationActionType:null==$?void 0:$.current};Y.current=OO.feature("jac_all_pos_render",a)})),window.JAC.on("RENDER_COMPLETE",(e=>{var t;null!=Y&&Y.current&&Y.current.logLatency();let s=(null==e||null===(t=e.meta)||void 0===t?void 0:t.positionNames)||[];if(p&&(Q.current=s.includes("MON")?++Q.current:0,J.current=s,s=Q.current>=3?["LREC","LREC4"]:["MON"]),k){var a,n,r,o,l;const e=(null===(a=window)||void 0===a?void 0:a._YMJacPrefetchPayload)||{},t={},i=e.positionNames||[],c=(null===(n=e.response)||void 0===n?void 0:n.positions)||{},d=O?((null==e||null===(r=e.response)||void 0===r||null===(o=r.adServer)||void 0===o||null===(l=o.exclusionStatus)||void 0===l?void 0:l.replaced)||"").split(","):[];i.forEach((e=>{var s,a,n,r,o,i;const l=(null===(s=c[e])||void 0===s||null===(a=s.content)||void 0===a?void 0:a.adId)||-1,_=(null===(n=c[e])||void 0===n||null===(r=n.content)||void 0===r?void 0:r.crId)||-1,E=(null===(o=c[e])||void 0===o||null===(i=o.content)||void 0===i?void 0:i.markup)||"";-1===d.indexOf(e)&&(t[e]={adId:l,creativeId:_,...gO(E)})})),Object.keys(t).filter((e=>!s.includes(e))).forEach((e=>null==t||delete t[e])),window._YMJacRenderPayload=t,w({adInfo:t})}i&&s.length&&(R({isPrefetch:!0}),f(s,!0))})),window.JAC.on("POSITION_RENDER_START",(e=>{var t;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&(j.current={...j.current||{},[a]:OO.feature("jac_pos_render",{adPosition:a,intl:s})})})),window.JAC.on("POSITION_RENDER_COMPLETE",(e=>{var t,s;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&null!=j&&null!==(s=j.current)&&void 0!==s&&s[a]&&j.current[a].logLatency()})),window.JAC.on("POSITION_RENDER_FAILED",(e=>{var t,s;const a=null==e||null===(t=e.meta)||void 0===t?void 0:t.positionName;a&&null!=j&&null!==(s=j.current)&&void 0!==s&&s[a]&&j.current[a].logFailure()}))),window.JAC&&A.length&&!I&&(Ee||ae.current))){var me;const e=null===(me=window.JAC.getFetched()||[])||void 0===me?void 0:me.sort(),t=(null==e?void 0:e.length)>0;t&&A.every((t=>e.indexOf(t)>-1))?L(A):f(A,!1);const s=t&&e.filter((e=>!A.includes(e)));!p&&null!=s&&s.length&&(ae.current||U)&&OO.feature("jac_fallout",{adPositions:A.join(","),falloutPositions:s.join(","),initialRender:ae.current,prefetchedAdPositions:e.join(","),rotationActionType:null==$?void 0:$.current,rightRailWidthChanged:U&&!ae.current}).logLatency(),re.current=Date.now(),ae.current=!1}}),[n,r,o,i,l,c,d,_,E,u,m,t,C,p,T,I,h,q,g,O,D,a,x,Z,K,W,H,G,V,s,b,P,y,v,F,U,w,k]),vl.createElement(vl.Fragment,null,A&&vl.createElement(LO,null),k&&P.name!==S.n8z.SETTINGS&&vl.createElement(bO,{route:P,handleLog:ie}))};yO.contextTypes={getAdPositions:yl().func,locale:yl().object,region:yl().string};const vO=(0,Fl.connect)((e=>{var t;const{isFeatureEnabled:s,isNarrowScreen:a,getSetting:n,getCurrentSpaceId:r,getAdsSelectors:o,getAccountSelectors:i,getAction:l,getRoute:c,getEnvironmentSelectors:d,emptyFolderDisplayAdEligible:_}=(0,Oc.selectors)(e),E=d().getAppId(),u=r(),{getAdRotationId:m,getFeedbackStartedSectionIds:p,getMessageReadAdRotationTimestamp:C,getMessageReadAdRotationActive:A,isABPDetected:T}=o(),I=m(),h=n(S.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),g=a(),O=s(S.ANe.DARLA_GEMINI_ARBITRATION),D=s(S.ANe.DEBUG_JAC),R=s(S.ANe.JAC_DOUBLE_BUFFERING),N=s(S.ANe.JAC_CONNECT_ID),L=s(S.ANe.LREC_MON_AD_ARBITRATION),f=n(S.Zrf.JAC_SERVICE_HOST),M=s(S.ANe.JAC_CLIENT_PREFETCH),P=s(S.ANe.JAC_ENFORCE_AD_ROTATION_INTERVAL),b=l().type,y=s(S.ANe.JAC_AD_BLOCK_DETECTION),v=s(S.ANe.MESSAGE_READ_AD_ROTATION),F=s(S.ANe.DISPLAY_ADS_ROTATION_OPTIMIZATION),U=C(),k=n(S.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL),w=n(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),G=n(S.Zrf.SPACE_IDS).root,H=c(),B=!A()&&(H.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||H.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||H.name===S.n8z.MESSAGE_FROM_LIST),x=s(S.ANe.AOL_USER),V=_(),Z=x?function({routeName:e,magicNumberConfig:t={},multiSizesConfig:s={},isEmptyFolderDisplayAdEligible:a=!1}){const n=e===S.n8z.NEW_DRAFT||e===S.n8z.EDIT_DRAFT,r={};return Object.keys(iO).forEach((o=>{if(!uO[o])return;let i;n&&uO[o][lO]?i=uO[o][lO]:a&&uO[o][dO]?i=uO[o][dO]:e===S.n8z.SEND_CONFIRMATION&&uO[o][EO]&&(i=uO[o][EO]);const l=i||uO[o][cO],c=t[l];c&&(r[o]={magicNumber:c,sizes:s[i]||CO[o]})})),r}({routeName:null==H?void 0:H.name,magicNumberConfig:n(S.Zrf.MAGIC_NUMBERS),multiSizesConfig:n(S.Zrf.AOL_AD_POSITION_MULTI_SIZES),isEmptyFolderDisplayAdEligible:V}):{},W=(p()||[]).length>0,K=(null===(t=i().getPrimaryAccount())||void 0===t?void 0:t.email)||"",z=s(S.ANe.DISPLAY_AD_REPORTER);return{actionType:b,adRotationId:I,appId:E,clientSidePrefetchEnabled:M,connectIdEnabled:N,aolAdPositionConfig:Z,darlaGeminiArbitration:O,debugJAC:D,displayAdsRotationOptimizationEnabled:F,doubleBuffering:R,enforceAdRotationInterval:P,isABPDetected:T(),isAdBlockDetectionEnabled:y,isAolUser:x,isEmptyFolderDisplayAdEligible:V,isGeminiAdFeedbackInProgress:W,isMessageReadComposeActive:B,isRRCompactSize:g,isRightRailAdArbitrationEnabled:L,jacServiceHost:f,messageReadAdRotationEnabled:v,messageReadAdRotationIdleInterval:w,messageReadAdRotationInterval:k,messageReadAdRotationTimestamp:U,rootSpaceId:G,route:H,spaceId:u,timeToWaitSinceLastAdCall:h,userEmail:K,adReporterEnabled:z}}),(e=>({setMessageReadAdRotationTimeStamp:()=>e((0,gm.I5)()),adReporterClick:t=>e((0,gm.J)(t)),jacAdRendered:t=>e((0,gm.Q8)(t))})))(yO);var FO=s(58359);const UO=()=>((0,vl.useEffect)((()=>{const e=FO.Z.feature("service_worker_ready");if(navigator.serviceWorker)navigator.serviceWorker.ready.then((()=>e.logSuccess()),(t=>e.logFailure(t)));else{const{loggerParams:e={}}=window&&window.AppBootstrapData||{};FO.Z.error("navigator.serviceWorker is undefined",{...e})}}),[]),null),kO=(0,Fl.connect)((e=>{const{getRoute:t,getSelectedAccountIdByRoute:s,getFoldersSelectors:a}=(0,Oc.selectors)(e),{getFolderIdsFromFolderType:n}=a(),r=s(t());return{inboxFolderId:n(S.Sck.INBOX,r)[0]}}),(e=>({navigateToInbox:t=>e((0,zl.YD)(t))})))((({navigateToInbox:e,inboxFolderId:t})=>((0,vl.useEffect)((()=>{const s=s=>{s.detail&&"mail"===s.detail.id&&e({inboxFolderId:t})};return window.addEventListener("ybar.topnav-link-click",s),()=>{window.removeEventListener("ybar.topnav-link-click",s)}}),[e,t]),null)));var wO=s(12782),GO=s(87790);const HO=e=>{const{playNewMailSound:t,playSoundMode:s,playYouHaveGotMailSound:a,uidValidity:n,uidNext:r}=e,{locale:o}=(0,Fm.Y)(),i="en-US"===o,l=(0,fA.Z)(n),c=(0,fA.Z)(r);return(0,vl.useEffect)((()=>{t&&void 0!==l&&l===n&&void 0!==c&&r>c&&(0,GO.S)((0,qm.ms)(o))}),[t,o,l,n,c,r]),(0,vl.useEffect)((()=>{a&&(i?(0,GO.S)((0,qm.S_)(s,o)):(0,GO.S)((0,qm.x8)(o)))}),[a,i,s,o]),null};HO.propTypes={playSoundMode:yl().number.isRequired,playYouHaveGotMailSound:yl().bool.isRequired,playNewMailSound:yl().bool.isRequired,uidValidity:yl().number.isRequired,uidNext:yl().number.isRequired};const BO=(0,Fl.connect)((e=>{const{getSetting:t,canPlayNewMailNotifcationSound:s,canPlayYGMNotifcationSound:a,getDefaultFolderIdForSelectedAccount:n,getFoldersSelectors:r}=(0,Oc.selectors)(e),o=n();return{playNewMailSound:s(),playSoundMode:t(S.Zrf.PLAY_SOUND_MODE),playYouHaveGotMailSound:a(),uidValidity:r().getFolderUidValidity(o),uidNext:r().getFolderUidNext(o)}}))(HO);var xO=s(23493),VO=s.n(xO);const ZO=e=>{const t=(0,Gm.I0)(),s=(0,jS.Z)(S.ANe.GAM_MESSAGE_READ_AUTO_ROTATION),a=(0,jS.Z)(S.ANe.GAM_MOUSE_MOVE_ROTATION_ON_ALL_ROUTES),n=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getRoute())),r=n.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||n.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||n.name===S.n8z.MESSAGE_FROM_LIST,o=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getRightRailPanes())),i=n.name!==S.n8z.SETTINGS&&!!o.length,l=!(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getMessageReadAdRotationActive()))&&r,c=(0,YS.Z)(S.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL),d=((e,t)=>{const s=(0,vl.useRef)(e);s.current=e;const a=(0,vl.useRef)(VO()((()=>{s.current()}),t));return(0,vl.useEffect)((()=>{const e=a.current;return()=>e.cancel()}),[]),a.current})((()=>{e&&Date.now()-e>c&&t((0,gm.ke)())}),2e3);(0,vl.useEffect)((()=>{if(!s){if(!l&&i)return r||a?document.addEventListener("mousemove",d):document.removeEventListener("mousemove",d),()=>{document.removeEventListener("mousemove",d)};document.removeEventListener("mousemove",d)}}),[i,r,l,s,d,a])},WO=()=>{const e=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isGPTIframeLoaded())),t=(0,vl.useRef)(null),s=(0,Gm.I0)(),a=(0,YS.Z)(S.Zrf.GPT_HOST),n=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getDisplayAdLocation())),r=(0,YS.Z)(S.alR[n]),o=(0,YS.Z)(S.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),i=(0,YS.Z)(S.Zrf.GAM_TIME_TO_WAIT_SINCE_NON_REFRESH_ROTATION),l=(0,jS.Z)(S.ANe.GAM_CUSTOM_WAIT_INTERVAL_AFTER_NON_REFRESH_ROTATION),c=(0,jS.Z)(S.ANe.GAM_NUKE_AD_ON_INACTIVE),d=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getRoute())),_=null==d?void 0:d.name,E=(0,vl.useRef)(_),u=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getCurrentSpaceId())),m=(0,fA.Z)(u),p=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isNarrowScreen())),C=(0,fA.Z)(p),A=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getDisplayAdPositions(n))),T=(0,vl.useRef)(A),h=(0,jS.Z)(S.ANe.GAM_AD_BLOCK_DETECTION),g=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAction())).type,O=(0,vl.useRef)(g),D=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isAppVisible())),R=(0,fA.Z)(D),N=(0,vl.useRef)(""),L=(0,vl.useRef)(""),f=(0,vl.useRef)(null),M=(0,vl.useRef)(null),P=(0,vl.useRef)(null),b=(0,vl.useRef)([]),y=(0,jS.Z)(S.ANe.SEND_CONFIRM_FALLBACK_FOR_GAM),v=(0,vl.useRef)(void 0),F=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getMessageReadAdRotationActive())),U=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().isABPDetected())),k=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().adblockerDetectionStatus()))===S.vc$.DETECTED,w=(0,vl.useRef)(!1),G=d.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||d.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||d.name===S.n8z.MESSAGE_FROM_LIST,H=!F&&G,B=((0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getFeedbackStartedSectionIds()))||[]).length>0,x=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getAdRotationId())),V=(0,fA.Z)(x),Z=(0,vl.useRef)(0),W=(0,vl.useRef)(0);var K;(0,I.jU)()&&void 0===v.current&&(v.current=GS(null===(K=document)||void 0===K?void 0:K.cookie));return(()=>{const e=(0,Gm.I0)(),t=(0,jS.Z)(S.ANe.GAM_MESSAGE_READ_AUTO_ROTATION),s=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAdsSelectors().getMessageReadAdRotationTimestamp())),a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getRoute())),n=a.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||a.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||a.name===S.n8z.MESSAGE_FROM_LIST,r=(0,YS.Z)(S.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL),o=(0,YS.Z)(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),i=(0,fA.Z)(s),l=(0,vl.useRef)(null),c=()=>{l.current&&clearTimeout(l.current)},d=()=>{c(),l.current=setTimeout((()=>{Date.now()<=s+o&&(e((0,gm.I5)()),d())}),r)};if((0,vl.useEffect)((()=>()=>{c()}),[]),t&&n)i&&!s?c():i!==s&&d()})(),ZO(Z.current),(0,vl.useEffect)((()=>{var d,S,I;if(!e&&t.current)return null===(I=t.current)||void 0===I||I.detachListener(),t.current=null,L.current="",N.current="",Z.current=0,void(W.current=0);O.current=g,E.current=_,T.current=A;const h=(null===(d=window.AppBootstrapData)||void 0===d?void 0:d.gamData)||{},{showLimitedAds:F=!1}=h,G=GS(null===(S=document)||void 0===S?void 0:S.cookie),K=!!G,z=()=>({adPositions:null==T?void 0:T.current.join(","),hasAXId:K,limitedAds:F,rotationActionType:null==L?void 0:L.current,rotationReason:null==N?void 0:N.current,route:null==E?void 0:E.current,renderCount:null==W?void 0:W.current});if(e&&!t.current){const e=document.getElementById("gpt-iframe");t.current=new WS({mode:FS.IK.APP,targetOrigin:a,iframeRef:e}),t.current.attachListener((t=>{var a;switch(null===(a=t.data)||void 0===a?void 0:a.name){case FS.xP.SLOT_RENDER_ENDED:{const{data:a={}}=t.data,{size:r,isEmpty:o}=a;if(null!=M&&M.current&&(o?M.current.logFailure():M.current.logLatency(),M.current=null),r&&Array.isArray(r)){const[t,s]=r;e.style.width=`${t}px`,e.style.height=`${s}px`}const i=function(e){if(!Array.isArray(e)||!e)return null;if(0===e[0]&&0===e[1])return FS.S_.FLUID;return Object.keys(FS.zw).find((t=>{const s=FS.zw[t];return s[0]===e[0]&&s[1]===e[1]}))||null}(r),l=BS.feature("gam_pos_returned",{...z(),adPositionsReturned:i});n===FS.Ej.SEND_CONFIRMATION&&y&&o&&s((0,gm.__)());const c=!(null==P||!P.current);if(c?P.current=null:W.current>0&&BS.feature("gam_not_viewable",z()).logLatency(),b.current&&b.current.length){const e=b.current.join(",");e&&(BS.feature("gam_view_percentage",{...z(),hasAdBeenViewble:c,viewPercentage:e}).logLatency(),b.current=[])}o?l.logFailure():(W.current++,l.logLatency());break}case FS.xP.SLOT_REQUESTED:f.current=BS.feature("gam_fetch_call",z()),Z.current||(Z.current=Date.now());break;case FS.xP.SLOT_RESPONSE_RECEIVED:null!=f&&f.current&&(f.current.logLatency(),f.current=null),M.current=BS.feature("gam_render",z());break;case FS.xP.IMPRESSION_VIEWABLE:P.current=BS.feature("gam_viewable",z()),P.current.logLatency();break;case FS.xP.SLOT_VISIBILITY_CHANGED:{const{data:e={}}=t.data,{viewPercentage:s}=e;b.current&&b.current.push(s);break}}}))}if(t.current){if(B||H)return;const e=void 0!==C&&C!==p,a=m&&m!==u,n=void 0!==R&&R!==D,d=c&&n&&D,_=1===W.current,E=l&&_?i:o,S=V&&Z.current&&x!==V&&x-Z.current>E,T=d,I=a,h=c&&n&&!D;if(l&&_?e||S||d:e||a||S||d){const n=!v.current&&K;n&&(v.current=G);const o=U||k,i=!w.current&&o;i&&s((0,gm.Ah)()),o&&(w.current=!0);const l={rrWidthChanged:e,spaceIdChanged:a,isRotationAction:S,appRegainVisibility:d};var Y;if(N.current=Object.keys(l).filter((e=>l[e])).join(","),L.current=null==O?void 0:O.current,d||e||n||i)s((0,gm.Qe)());else null===(Y=t.current)||void 0===Y||Y.sendRequestMessage(FS.dt.REFRESH,{config:US({adUnitPath:r,adPositions:A,pageUrl:window.location.origin}),redefineSlot:T,redefineTargeting:I,targetingConfig:kS({spaceId:u,...U&&{adBlocker:FS.sU}||k&&{adBlocker:FS.Oc}})});Z.current=Date.now(),BS.feature("gam_refresh",z()).logLatency()}else if(h){var j;null===(j=t.current)||void 0===j||j.sendRequestMessage(FS.dt.NUKE),BS.feature("gam_nuke",z()).logLatency()}}}),[g,A,r,s,e,B,H,a,p,C,u,m,x,V,_,o,l,i,D,R,c,U,k,n,y]),h?vl.createElement(LO,null):null};function KO(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const zO=(0,Gl.defineMessages)({tabs_nav:{id:"landmark.tabs",defaultMessage:"Tabs"},heading_cheatsheet:{id:"keyboardShortcut.heading_cheatsheet",defaultMessage:"Press question mark key to invoke the keyboard shortcuts cheatsheet"}});class YO extends vl.Component{constructor(...e){super(...e),KO(this,"_handleVisibilityChange",(e=>{let t;if("blur"===e.type){const{activeElement:e}=document;if(e&&"iframe"===e.tagName.toLowerCase())return;t=!1}else t="focus"===e.type||"visible"===document.visibilityState;this.context.executeAction(Ac.kL,{isVisible:t})})),KO(this,"getStateFromStores",(()=>{const{getFeaturesSelectors:e,getEnvironmentSelectors:t,getAccountById:s,getSelectedAccountId:a,getAccountSelectors:n,getRouteName:r}=(0,Oc.selectors)(this.context.store.getState()),o=e(),i=o.isEnabled("focusBasedVisibilityDetection"),l=o.isEnabled(S.ANe.YBAR_FUJI2_THEME),c=o.isEnabled(S.ANe.YBAR_FUJI2_THEME_SUPPRESS_TOP_NAV),d=o.isEnabled("offlineChecking"),_=o.isEnabled(S.ANe.TIMEZONE_CHECK),E=o.isEnabled(S.ANe.SMARTVIEW_CATEGORIES_ENABLED),u=o.isEnabled(S.ANe.JAC_ADS),m=o.isEnabled(S.ANe.GAM),p=o.isEnabled(S.ANe.EXTRACTIONS_FEEDBACK),C=!!n().getVerifiedAutoForwardAccount()&&o.isEnabled(S.ANe.AUTO_FORWARD_NOTIFICATION)&&!o.isEnabled(S.ANe.MAIL_PRO),A=o.getSetting("logoUrl"),T=o.getSetting("logoSrcSet"),I="rtl"===t().getPageDirection(),h=s(a()),g=(0,v_.hE)(h);return{focusBasedVisibilityDetection:i,offlineChecking:d,timezoneCheck:_,smartViewCategoriesEnabled:E,isExtractionsFeedbackEnabled:p,logoUrl:A,logoSrcSet:T,isRTL:I,ybarFuji2Enabled:l,ybarFuji2NoTopNav:c,showAutoForwardNotification:C,jacAds:u&&!g,theme:o.getSetting(S.Zrf.THEME),themeMode:o.getSetting(S.Zrf.THEME_MODE),gam:m&&!g,routeName:r()}}))}componentDidMount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.addEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.addEventListener("blur",this._handleVisibilityChange),window.addEventListener("focus",this._handleVisibilityChange)),this.context.executeAction(Ac.Q5),window.addEventListener("load",(()=>{Promise.resolve(this.context.executeAction(Ac.dS))}))}componentWillUnmount(){const{focusBasedVisibilityDetection:e}=this.getStateFromStores();window.removeEventListener("visibilitychange",this._handleVisibilityChange),e&&(window.removeEventListener("blur",this._handleVisibilityChange),window.removeEventListener("focus",this._handleVisibilityChange))}render(){const{props:e}=this,t=!!e.multiTaskModeSetting,{formatMessage:a}=this.context.intl,{offlineChecking:n,timezoneCheck:r,smartViewCategoriesEnabled:o,jacAds:i,gam:l,isExtractionsFeedbackEnabled:c,logoUrl:d,logoSrcSet:_,isRTL:E,ybarFuji2Enabled:u,ybarFuji2NoTopNav:m,showAutoForwardNotification:p,themeMode:C,theme:A,routeName:T}=this.getStateFromStores(),I=(0,Kl.L_)(A),h=C===S.zgU.LIGHT&&!I,g=C===S.zgU.LIGHT&&Kl.O3.has(A),O=T===S.n8z.ONBOARDING,D=this.context.getCss(ku(),{tabs:t,ads:i,isIdentityYbar:O,ybarFuji2Enabled:u,ybarFuji2NoTopNav:m,lightModeNonPhotoTheme:h,isYbarLightModeTheme:g});return vl.createElement(Fu.Z,{logoUrl:d,logoSrcSet:_,isRTL:E,className:D.errorContainer},vl.createElement(wO.Z,{className:D.inputModeWrapper},vl.createElement("div",{className:D.bgContainer},vl.createElement("div",{id:"app","data-test-id":"mail-app",className:D.container,tabIndex:-1},vl.createElement(pc.cr,{defer:!0,import:"../../molecules/timezone_check",timezoneCheck:r,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,91525))},_moduleResolver:function(){return 91525}}),vl.createElement("section",{className:D.appHeader,role:"banner","data-yaft-module":"norrin_header"},O?null:vl.createElement("div",{className:D.ybar}),!O&&(t||o)&&vl.createElement("div",{className:D.tabWrapper,role:"navigation","aria-label":a(zO.tabs_nav)},vl.createElement(Vc,null),vl.createElement("div",{className:D.tab},vl.createElement(Gc,null)))),p&&vl.createElement(pc.cr,{defer:!0,import:"../../molecules/auto_forward/auto_forward_notification_controller.jsx",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,1073))},_moduleResolver:function(){return 1073}}),vl.createElement(Jc,{toastMap:Tu}),vl.createElement(hm,null),vl.createElement(Zc.Z,null),vl.createElement(yu,null),vl.createElement($g,null),vl.createElement(BO,null),n&&vl.createElement(nO,null),vl.createElement(Lg,e),i&&vl.createElement(vO,null),l&&vl.createElement(WO,null),vl.createElement(pc.cr,{defer:!0,import:"./controller_views/print",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,15924))},_moduleResolver:function(){return 15924}}),vl.createElement(pc.cr,{defer:!0,import:"./controller_views/heartbeat",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,60527))},_moduleResolver:function(){return 60527}}),vl.createElement(pc.cr,{defer:!0,import:"../../molecules/downloader/index",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,51913))},_moduleResolver:function(){return 51913}}),c&&vl.createElement(pc.cr,{defer:!0,bundleName:"feedback",import:"../../molecules/feedback",_moduleLoader:function(){return Promise.all([s.e(120),s.e(656)]).then(s.bind(s,97890))},_moduleResolver:function(){return 97890}}),u&&vl.createElement(kO,null),vl.createElement(UO,null))),vl.createElement("div",{className:D.accessible,role:"heading","aria-label":a(zO.heading_cheatsheet),"aria-level":"3"})))}}KO(YO,"contextTypes",{executeAction:yl().func,config:yl().object,store:yl().object,intl:Gl.intlShape.isRequired,getCss:yl().func});const jO=(e=>function(e){var t,s;return s=t=class extends vl.Component{constructor(...e){super(...e),Hu(this,"_isLatestWindow",(()=>{const e=(0,Gu.zP)(Bu);let t=!0;return e&&this._windowId!==parseInt(e.split(",").pop(),10)&&(t=!1),t})),Hu(this,"_getWindowId",(()=>this._windowId)),Hu(this,"_addNewWindow",(()=>{if(this._windowId)return;let e=(0,Gu.zP)(Bu);this._windowId=Math.floor(Date.now()/1e3),e?e+=`,${this._windowId}`:e=this._windowId,(0,Gu.rl)(Bu,e)})),Hu(this,"_removeWindow",(()=>{let e=(0,Gu.zP)(Bu);if(!e)return;const t=e.split(",");e=t.filter((e=>this._windowId.toString()!==e)).join(","),(0,Gu.rl)(Bu,e)}))}getChildContext(){return{getWindowId:this._getWindowId,isLatestWindow:this._isLatestWindow}}componentDidMount(){this._addNewWindow(),window.addEventListener("beforeunload",this._removeWindow)}componentWillUnmount(){this._removeWindow()}render(){return vl.createElement(e,this.props)}},Hu(t,"displayName","WindowManager"),Hu(t,"childContextTypes",{getWindowId:yl().func,isLatestWindow:yl().func}),s}(e))(wu.JJ(((e,{toastWrapper:t})=>{class s extends vl.Component{constructor(e,t){super(e);const{getFeaturesSelectors:s}=(0,Oc.selectors)(t.store.getState()),a=s();this.showToast=this.showToast.bind(this),this.closeToast=this.closeToast.bind(this),this.clearToastTimeoutHandler=this.clearToastTimeoutHandler.bind(this),this.resumeToast=this.resumeToast.bind(this),this.getRole=this.getRole.bind(this),this.notificationTTL=a.getSetting("notificationTTL")||5e3,this.toastTimeoutHandler=null}getChildContext(){return{toast:this.showToast}}getRole(e){return e.requireInteraction?S._tT.ALERT_DIALOG:e.type===S.j_x.NORMAL?S._tT.STATUS:S._tT.ALERT}renderToastWrapperSubtree({toast:e,role:s}){wl.unstable_renderSubtreeIntoContainer(this,vl.createElement(jc,{store:this.context.store},vl.createElement(t,{toast:e,role:s,onClose:this.closeToast,onPause:this.clearToastTimeoutHandler,onResume:this.resumeToast})),this.toastContainerNode)}showToast(e){(0,I.jU)()&&(this.lastToast&&(0,h.u9)(e,"priority",S.l9v.LOW)<(0,h.u9)(this.lastToast,"priority",S.l9v.LOW)||(this.clearToastTimeoutHandler(),this.lastToast=e,this.renderToastWrapperSubtree({toast:e,role:this.getRole(e)}),e.requireInteraction||(this.toastTimeoutHandler=setTimeout(this.closeToast,this.notificationTTL))))}closeToast(){this.lastToast&&(this.renderToastWrapperSubtree({toast:null,role:this.getRole(this.lastToast)}),delete this.lastToast),this.clearToastTimeoutHandler()}clearToastTimeoutHandler(){this.toastTimeoutHandler&&clearTimeout(this.toastTimeoutHandler)}resumeToast(){this.lastToast&&!this.lastToast.requireInteraction&&(this.toastTimeoutHandler=setTimeout((()=>this.closeToast()),this.notificationTTL))}componentDidMount(){this.toastContainerNode=document.createElement("div");const e=document.getElementById("app");e&&(e.appendChild(this.toastContainerNode),this.renderToastWrapperSubtree({toast:null,role:S._tT.STATUS}))}componentWillUnmount(){this.closeToast()}render(){return vl.createElement(e,this.props)}}return s.contextTypes={store:yl().object},s.childContextTypes={toast:yl().func},s})((qO=(0,Ul.w)((0,hu.z)(YO)),QO=XO=class extends vl.Component{constructor(...e){super(...e),vu(this,"adPositions",{jac:[],pencil:[]})}getChildContext(){return{registerAdPosition:({jacPos:e,pencilPos:t})=>{e&&(this.adPositions.jac=ra()(this.adPositions.jac.concat(e))),t&&(this.adPositions.pencil=ra()(this.adPositions.pencil.concat(t)))},removeAdPosition:({jacPos:e,pencilPos:t})=>{e&&(this.adPositions.jac=this.adPositions.jac.filter((t=>t!==e))),t&&(this.adPositions.pencil=this.adPositions.pencil.filter((e=>e!==t)))},getAdPositions:()=>this.adPositions}}render(){return vl.createElement(qO,this.props)}},vu(XO,"childContextTypes",{registerAdPosition:yl().func,removeAdPosition:yl().func,getAdPositions:yl().func}),QO),{appName:S.BQZ.MAIL_APP,toastWrapper:Ou})));var qO,XO,QO;wu.JJ(YO);var JO=s(12913),$O=s(20879),eD=s.n($O),tD=s(33861),sD=s(76796),aD=s.n(sD),nD=s(7351);function rD(){return(rD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const oD=(0,wA.A)("/img/festive_graphic.png"),iD=ic()(aD()),lD=[S.zoT.GOOGLE,S.zoT.OUTLOOK,S.zoT.AOL],cD={padding:0,height:9*Fe.mg$+"px",width:37*Fe.mg$+"px",margin:2*Fe.mg$+"px 0 0 0"},dD=(0,Gl.defineMessages)({header_message:{id:"external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"external_users_switch_account",defaultMessage:"Switch account"}}),_D=({accountType:e,userName:t,onNext:s,onProviderSelect:a},n)=>{const{intl:{locale:r,formatMessage:o},region:i}=n,l=(0,v_.tO)(t);-1!==[S.zoT.VERIZON_MEDIA,S.zoT.YAHOO_INC].indexOf(l)&&-1===lD.indexOf(l)&&lD.push(l);const c=e=>{a(e),s&&s()},d=vl.createElement("b",{className:iD.userName},t);return vl.createElement("div",{className:iD.upsellPage},vl.createElement("img",{className:iD.image,alt:o(dD.header_message),src:oD}),vl.createElement("h1",{className:iD.header},vl.createElement(Gl.FormattedMessage,rD({},dD.header_message,{values:{mailBrandNameString:n.mailBrandNameString}}))),vl.createElement("div",{className:iD.body},vl.createElement("div",{className:iD.description},e===S.tO8.PHONE?vl.createElement(Gl.FormattedMessage,{id:"external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}):vl.createElement(Gl.FormattedMessage,{id:"external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}}),"Â ",vl.createElement("a",{className:iD.switchAccount,href:(0,S.Iu_)(i,r),title:o(dD.switch_account)},vl.createElement(Gl.FormattedMessage,dD.switch_account))),vl.createElement("div",{className:iD.description},l?vl.createElement(Gl.FormattedMessage,{id:"external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from Yahoo Mail.",values:{name:(0,v_.zJ)(l)}}):vl.createElement(Gl.FormattedMessage,{id:"external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within Yahoo Mail."})),vl.createElement("div",{className:iD.providersOption},vl.createElement("ol",{className:iD.accountList},lD.filter((e=>!l||l===e)).map((e=>vl.createElement("li",{key:e,className:iD.listItem,"data-test-id":"supported-imap-providers"},vl.createElement(nD.Z,{provider:e}),vl.createElement(tc.Z,{style:cD,kind:sc.F.PRIMARY,"data-test-id":`add-account-${e}-btn`,onClick:c.bind(null,e)},l?vl.createElement(Gl.FormattedMessage,{id:"user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:(0,v_.zJ)(l)}}):vl.createElement(Gl.FormattedMessage,{id:"user_registration_add_account",defaultMessage:"Add account"})))))))),vl.createElement("div",{className:iD.footer},!l&&vl.createElement(Gl.FormattedMessage,{id:"external_supported_providers",defaultMessage:"We only support these providers as of now"})))};_D.contextTypes={intl:Gl.intlShape,region:yl().string,mailBrandNameString:yl().string};const ED=_D;var uD=s(9577),mD=s.n(uD);const SD=ic()(mD()),pD=({provider:e})=>vl.createElement("div",{className:SD.leftRailItemsContainer},vl.createElement("button",{className:SD.link,disabled:!0},vl.createElement(Gl.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&vl.createElement("div",{className:SD.accountslist,"data-test-id":"known-imap-provider"},vl.createElement("span",{className:SD.accountsListItem,"data-test-id":"imap-provider-name"},(0,v_.zJ)(e)),vl.createElement("div",{className:SD.moreIcon},vl.createElement("span",{className:SD.iconContainer},vl.createElement(Bl.Z,{kind:xl.Kinds.MORE,size:xl.Sizes.XXXS,colorState:xl.ColorStates.SECOND_LEVEL_GRAY})))),vl.createElement("ul",{className:SD.folderList},(0,nA.w6)(9).map((e=>{const t=e%3*10+28+"px";return vl.createElement("li",{key:e,className:SD.listItem},vl.createElement("div",{className:SD.folderName,style:{width:t}}))}))),vl.createElement("div",{className:SD.header},vl.createElement("div",{className:SD.folderName,style:{width:"41px"}}),vl.createElement("div",{className:SD.folderName,style:{width:"25px"}})),vl.createElement("ul",{className:SD.list},[xl.Kinds.TAB_IMAGES,xl.Kinds.DOCUMENTS_S,xl.Kinds.CAL_MAYBE].map(((e,t)=>{const s=t%3*10+28+"px";return vl.createElement("li",{key:e,className:SD.listItem},vl.createElement(Bl.Z,{kind:e,size:xl.Sizes.XS,colorState:xl.ColorStates.SECOND_LEVEL_GRAY}),vl.createElement("div",{className:SD.folderName,style:{width:s}}))}))));var CD=s(1558),AD=s(38346),TD=s(10312),ID=s(31025),hD=s(24325);function gD(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const OD=()=>{},DD=ic()(eD()),RD=(0,Gl.defineMessages)({back_button_title:{id:"external_users_back_btn_title",defaultMessage:"Back"},sign_in_button_title:{id:"external_users_sign_in_btn_title",defaultMessage:"Sign in"},cancel_button_title:{id:"external_users_cancel_btn_title",defaultMessage:"Cancel"},relaunch_button_title:{id:"external_users_oauth_relaunch_button_title",defaultMessage:"Relaunch window"}});class ND extends vl.Component{constructor(...e){super(...e),gD(this,"state",{email:"",selectedProvider:""}),gD(this,"handleChange",((e,t)=>{const s=this.state[e],{onEmailProviderSelected:a}=this.props;s!==t&&("provider"===e?this.setState({email:"",selectedProvider:t},(()=>{const e={interactionType:cc.Rb.nav,mKey:cc.JE.USERNAME_PHONE_REG_ADD_PROVIDER,sec:cc.nJ.USERNAME_PHONE_REG,actionData:{selectedProvider:t}};t&&a({i13nModel:e})})):this.setState({[e]:t}))})),gD(this,"handleCancelAuthorize",(({status:e,provider:t,email:s})=>{this.props.onAuthorizationCanceled({i13nModel:{interactionType:cc.Rb.click,mKey:cc.JE.USERNAME_PHONE_REG_CANCEL_AUTHORIZE,sec:cc.nJ.USERNAME_PHONE_REG,actionData:{status:e,provider:t,email:s}}})})),gD(this,"handleCreateAccount",(e=>{const{email:t}=e,{onAddNewAccount:s}=this.props,a={interactionType:cc.Rb.nav,mKey:cc.JE.USERNAME_PHONE_REG_ADD_ACCOUNT,sec:cc.nJ.USERNAME_PHONE_REG,actionData:{email:t}};s({...(0,v_._K)(e),i13nModel:a})})),gD(this,"_renderSignInComponentTitle",(()=>vl.createElement("h5",{className:DD.titleLabel},vl.createElement(Gl.FormattedMessage,{id:"external_users_add_mailbox_header",defaultMessage:"You are almost done!"})))),gD(this,"_resetProvider",((e=OD)=>{this.setState({selectedProvider:""},e)})),gD(this,"_renderSignInComponentNav",(({onPrevious:e,onNext:t,isStepValid:s})=>{const{formatMessage:a}=this.context.intl;return vl.createElement("div",{className:DD.navWrapper},vl.createElement(tc.Z,{kind:sc.F.SECONDARY,title:a(RD.back_button_title),"data-test-id":"username-phone-reg-back-btn",onClick:this._resetProvider.bind(this,e)},vl.createElement(Gl.FormattedMessage,RD.back_button_title)),vl.createElement(tc.Z,{onClick:t,disabled:!s(),kind:sc.F.PRIMARY,"data-test-id":"username-phone-reg-signin-btn",title:a(RD.sign_in_button_title)},vl.createElement(Gl.FormattedMessage,RD.sign_in_button_title)))})),gD(this,"_renderOAuthComponentNav",(({onPrevious:e,onNext:t})=>{const{formatMessage:s}=this.context.intl;return vl.createElement("div",{className:DD.navWrapper},vl.createElement(tc.Z,{kind:sc.F.SECONDARY,title:s(RD.back_button_title),onClick:e},vl.createElement(Gl.FormattedMessage,RD.back_button_title)),vl.createElement(tc.Z,{onClick:t,kind:sc.F.PRIMARY,"data-test-id":"username-phone-reg-relaunch-btn",title:s(RD.relaunch_button_title)},vl.createElement(Gl.FormattedMessage,RD.relaunch_button_title)))})),gD(this,"_renderOAuthComponentTitle",(()=>vl.createElement("h5",{className:DD.titleLabel},vl.createElement(Gl.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))))}_doesEmailAlreadyExist(e){return!!this.props.accounts.find((t=>t.email===e))}_getSteps(){const{email:e,selectedProvider:t}=this.state,{userName:s,accountType:a,appRootPath:n,accounts:r}=this.props,o=(0,v_.tO)(s),i=[vl.createElement(ED,{key:"upsell",userName:s,accountType:a,onProviderSelect:this.handleChange.bind(this,"provider")})];if(this._doesEmailAlreadyExist(s)&&o){const e=()=>this._getError();return i.push(vl.createElement(e,{key:"external-accounts-error"})),i}return o||i.push(vl.createElement(ID.ZP,{key:"address",email:e,accounts:r,onAuthorizeAccount:OD,provider:t,onChange:this.handleChange,renderNavComponent:this._renderSignInComponentNav,renderTitleComponent:this._renderSignInComponentTitle})),i.push(vl.createElement(TD.Z,{key:"signin",hideCancelButton:!0,handleAddSuccess:OD,onAuthorizeAccount:OD,appRootPath:n,onAuthorize:this.handleCreateAccount,onCancelAuthorize:this.handleCancelAuthorize,email:o?s:e,provider:o||t,renderNavComponent:this._renderOAuthComponentNav,renderTitleComponent:this._renderOAuthComponentTitle})),i.push(vl.createElement(hD.Z,{key:"add-confirm",isSyncing:!0})),i}_getError(){const{userName:e}=this.props;return vl.createElement("div",{className:DD.errorContainer,"data-test-id":"external-accounts-error"},this._renderOAuthComponentTitle(),vl.createElement("div",{className:DD.errorWrapper},vl.createElement("div",{className:DD.errorIcon},vl.createElement(Bl.Z,{size:xl.Sizes.XS,kind:xl.Kinds.EXCLAMATION_ALT,colorState:xl.ColorStates.WARNING_GRAD_RED})),vl.createElement(Gl.FormattedMessage,{id:"unr_error_account_add_failed",defaultMessage:"Your email {email} already exists.\n                        If you deleted the mailbox recently, please wait for a few minutes\n                        until the process is complete and try again",values:{email:vl.createElement("strong",null,e)}})),vl.createElement("div",{className:DD.navWrapper},vl.createElement(tc.Z,{kind:sc.F.SECONDARY,onClick:()=>window.location.reload(),title:this.context.intl.formatMessage(RD.back_button_title)},vl.createElement(Gl.FormattedMessage,RD.back_button_title))))}componentDidMount(){const e={interactionType:cc.Rb.nav,mKey:cc.JE.USERNAME_PHONE_REG_ONBOARDING,sec:cc.nJ.USERNAME_PHONE_REG};this.props.onLoadComplete({i13nModel:e})}render(){const{userName:e,ybarFuji2Enabled:t}=this.props,{selectedProvider:s}=this.state,a=(0,v_.tO)(e),n=ic()(eD(),{ybarFuji2Enabled:t});return vl.createElement("div",{id:"app",className:n.wrapper},vl.createElement("div",{className:n.shadedContainer},vl.createElement("div",{className:n.container,"data-test-id":"username-phone-reg-upsell"},vl.createElement("nav",{className:n.leftRail},vl.createElement(pD,{provider:a||s})),vl.createElement("main",{className:n.widthRestricter},vl.createElement("section",{className:n.mainContent},vl.createElement(tD.Z,null,this._getSteps())),vl.createElement("aside",{className:n.rightRail})))))}}gD(ND,"contextTypes",{intl:Gl.intlShape.isRequired});const LD=(0,Fl.connect)((function(e){const{getAccountSelectors:t,getFeaturesSelectors:s,getAllAccounts:a}=(0,Oc.selectors)(e),{isEnabled:n,getSetting:r}=s(),o=r("appRootPath"),{type:i}=t().getPrimaryAccount()||{},l=n(S.ANe.YBAR_FUJI2_THEME);return{accountType:i,appRootPath:o,accounts:a(),ybarFuji2Enabled:l}}),(function(e){return{onLoadComplete:t=>e({type:$c.USER_NAME_PHONE_REG_UPSELL_LOADED,...t}),onAuthorizationCanceled:t=>e({type:$c.USER_NAME_PHONE_REG_CANCEL_AUTH,...t}),onAddNewAccount:t=>e((0,AD.j)(t)),onEmailProviderSelected:t=>e((0,CD.hN)(t))}}))(ND);var fD=s(41451);function MD(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const PD="mobile-dialog";var bD=s(51892);const yD=({onDismiss:e,description:t,dismissLabel:s,title:a})=>vl.createElement(bD.Z,{onClose:e,onAccept:e,title:a,message:t,acceptText:s,hideClose:!0}),vD=({title:e,description:t,onDismiss:s,onConfirm:a,dismissLabel:n,confirmLabel:r,overridingClass:o},{intl:i})=>vl.createElement(QC.Z,{hideIcon:!0,title:e,message:t,onConfirm:a,onAbort:s,acceptLabel:r||i.formatMessage({id:"confirm.accept",description:"Accept button label on confirm dialog",defaultMessage:"OK"}),cancelLabel:n||i.formatMessage({id:"confirm.cancel",description:"Cancel button label on confirm dialog",defaultMessage:"Cancel"}),overridingClass:o});vD.contextTypes={intl:Gl.intlShape};const FD=vD;let UD=(0,Fl.connect)((function(e){const{getFeaturesSelectors:t,getAccountSelectors:s}=(0,Oc.selectors)(e),a=s().userHasRegisteredAccount(),n=t().isEnabled(S.Zrf.MAIL_TABS);return{userName:t().getSetting(S.Zrf.LOGIN_NAME),multiTaskModeSetting:n,userHasRegisteredAccount:a}}))((function({userHasRegisteredAccount:e,multiTaskModeSetting:t,userName:s,context:a}){return e?vl.createElement(jO,{multiTaskModeSetting:t,context:a}):vl.createElement(LD,{userName:s})}));UD=((e,{alert:t,confirm:s,prompt:a})=>{class n extends vl.Component{constructor(...e){super(...e),MD(this,"showAlert",(e=>{if(!t)throw new TypeError("Missing Alert component");if(!(0,I.jU)())return;this.renderDialogSubtree(S.w3P.ALERT,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.ALERT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this)})})),MD(this,"showConfirm",(e=>{if(!s)throw new TypeError("Missing Confirm component");if(!(0,I.jU)())return;this.renderDialogSubtree(S.w3P.CONFIRM,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.CONFIRM,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(()=>{this.renderDialogSubtree(S.w3P.CONFIRM,{},!1),e.onConfirm()}).bind(this)})})),MD(this,"showPrompt",(e=>{if(!a)throw new TypeError("Missing Prompt component");if(!(0,I.jU)())return;this.renderDialogSubtree(S.w3P.PROMPT,{...e,onDismiss:(()=>{this.renderDialogSubtree(S.w3P.PROMPT,{},!1),e.onDismiss&&e.onDismiss()}).bind(this),onConfirm:(t=>{this.renderDialogSubtree(S.w3P.PROMPT,{},!1),e.onConfirm(t)}).bind(this)})}))}getChildContext(){return{alert:this.showAlert,confirm:this.showConfirm,prompt:this.showPrompt}}componentDidMount(){this.dialogContainerNode=document.createElement("div"),this.dialogContainerNode.id=PD;document.body.appendChild(this.dialogContainerNode)}renderDialogSubtree(e,n,r=!0){const o={...n,layerRootId:PD};e===S.w3P.ALERT?wl.unstable_renderSubtreeIntoContainer(this,r?vl.createElement(t,o):vl.createElement("span",null),this.dialogContainerNode):e===S.w3P.CONFIRM?wl.unstable_renderSubtreeIntoContainer(this,r?vl.createElement(s,o):vl.createElement("span",null),this.dialogContainerNode):e===S.w3P.PROMPT&&wl.unstable_renderSubtreeIntoContainer(this,r?vl.createElement(a,o):vl.createElement("span",null),this.dialogContainerNode)}render(){return vl.createElement(e,this.props)}}return n.childContextTypes={alert:yl().func,confirm:yl().func,prompt:yl().func},n})(UD,{alert:yD,confirm:FD}),UD=(0,fD.Z)(UD),UD=(0,JO.provideContext)(UD,{config:yl().object,store:yl().object,loader:Ed.LoaderType,timezone:Ed.TimezoneType,region:yl().string,locale:Ed.LocaleShape,os:yl().string,rapidParams:yl().object,usmLogString:yl().string,credstoreClient:Ed.CredstoreClientType,cloudStorageClient:Ed.CloudStorageClientType,cspToken:yl().string,linkEnhancerClient:Ed.LinkEnhancerClientType,partner:yl().string,mailBrandNameString:yl().string,yahooBrandNameString:yl().string,yahooMailPlusBrandName:yl().string,appId:yl().string,guidHash:yl().string});const kD=UD;function wD(e,{bundleMapURL:t}={}){return t?(s=t,new N.Z("GET",s).setHeader("Accept","application/json").send().then((e=>JSON.parse(e.text)))).then((t=>(window.__lazyBundles=t,GD(e,t)))):new Promise((t=>t(GD(e,window.__lazyBundles))));var s}function GD(e,t){const s=t.urls[t.urlIndexForEntry[e]];if(!s)throw new Error(`Unknown bundle URL for module ${e}`);return s}class HD{constructor({disabled:e}={}){this._cache={},this._disabled=e}locate(e,{bundleMapURL:t}){return wD(e,{bundleMapURL:t})}fetch(e,{cache:t}){if(!t)return SI.Z.loadScript(e);const s=this._cache;return s[e]||(s[e]=SI.Z.loadScript(e)),s[e]}loadModule(e,{cache:t=!0,bundleMapURL:s}={}){if(this._disabled)return Promise.reject(new Error("Lazy loading disabled"));const a={cache:t,bundleMapURL:s};return this.locate(e,a).then((e=>this.fetch(e,a)))}}const BD={name:"MailFluxibleContextPlugin",plugContext(e){let{config:t,guidHash:s,mailWssid:a,mailboxAttributes:n,crumb:r,signoutCrumb:o,guid:i,csid:l,timezone:c,environment:d,region:_,os:E,browserName:u,farm:m,partner:S,usmLogString:p,locale:C,localeData:A,cspToken:T,__initializeFeatures__:h,queryStringOverrides:g,buildNumber:O,launchTime:D,loggerParams:R,encryptedQueryParams:N,mailBrandNameString:L,userNamespace:f,yahooBrandNameString:M,yahooMailPlusBrandName:P,appId:b}=e;return{plugComponentContext(e,n){const{store:i,apiClients:l={}}=n;e.crumb=r,e.signoutCrumb=o,e.config=t,e.loader=new HD,e.timezone=c,e.region=_,e.usmLogString=p,e.os=E,e.browserName=u,e.locale=Object.assign({name:C},A),e.cspToken=T,e.store=i,e.mailAPIClient=l.mailAPIClient,e.mailWssid=a,e.credstoreClient=l.credstoreClient,e.linkEnhancerClient=l.linkEnhancerClient,e.cloudStorageClient=l.cloudStorageClient,e.partner=S,e.mailBrandNameString=L,e.yahooBrandNameString=M,e.yahooMailPlusBrandName=P,e.appId=b,e.guidHash=s,e.userNamespace=f},plugActionContext(e,s){const a=s.store;e.encryptedQueryParams=N,e.config=t,e.store=a,e.mailboxAttributes=n,e.timezone=c,e.dispatch=(e,t)=>a.dispatch({...t,type:e}),Object.assign(e,{...s.apiClients,csid:l})},plugStoreContext(){},dehydrate:()=>({buildNumber:O,config:t,launchTime:D,guidHash:s,mailWssid:a,guid:i,crumb:r,signoutCrumb:o,mailboxAttributes:n,csid:l,locale:C,localeData:A,timezone:c,region:_,usmLogString:p,cspToken:T,os:E,browserName:u,farm:m,partner:S,environment:d,__initializeFeatures__:h,queryStringOverrides:g,loggerParams:(0,I.jU)()?{}:R,encryptedQueryParams:N,mailBrandNameString:L,userNamespace:f,yahooBrandNameString:M,yahooMailPlusBrandName:P,appId:b}),rehydrate(e){O=e.buildNumber,t=e.config,s=e.guidHash,a=e.mailWssid,r=e.crumb,o=e.signoutCrumb,i=e.guid,l=e.csid,D=e.launchTime,C=e.locale,A=e.localeData,c=e.timezone,_=e.region,p=e.usmLogString,E=e.os,u=e.browserName,m=e.farm,S=e.partner,d=e.environment,h=e.__initializeFeatures__,g=e.queryStringOverrides,R=e.loggerParams,T=e.cspToken,N=e.encryptedQueryParams,n=e.mailboxAttributes,L=e.mailBrandNameString,f=e.userNamespace,M=e.yahooBrandNameString,P=e.yahooMailPlusBrandName,b=e.appId}}}};var xD=s(549),VD=s(11310),ZD=s(30155);const WD=(0,Gl.defineMessages)({hasUnsavedMessage:{id:"warning.has_unsaved_message",defaultMessage:"You are about to leave with unsaved data. Continue?"},confirmRouteChangeModalTitle:{id:"warning.confirm_route_change_modal_title",defaultMessage:"Do you want to leave this page?"},confirmRouteChangeModalBody:{id:"warning.confirm_route_change_modal_body",defaultMessage:"Changes you made may not be saved."},confirmRouteChangeModalLeaveButton:{id:"warning.confirm_route_change_modal_leave_button_text",defaultMessage:"Leave"},confirmRouteChangeModalCancelButton:{id:"warning.confirm_route_change_modal_cancel_button_text",defaultMessage:"Cancel"}});var KD=s(45578),zD=s.n(KD);const YD=(0,h.gP)(["mrdparam","search_keyword","to_list","mailboxId"]);(0,h.gP)(["sky.mail.yahoo.com","rogers.mail.yahoo.com"]),S.CbW.DESKTOP_MAIL_VERSION,S.sUv.NORRIN,S.CbW.HAS_ADS;function jD(e,t){if(!t)return[];const{getMaxTabCounts:s,isDraftGroup:a,doesGroupHasStaleMessageId:n}=(0,Oc.selectors)(e),r=s(),o=[...e.pages,t];if(o&&o.length<=r)return[];const i=o.reduce(((e,t)=>Nc(t)?e.concat(t):e),[]),l=i.reduce(((e,t)=>Nc(t)&&!a(t.params.groupId)?e.concat(t):e),[]);if(l.length<=r)return[];const c=l.length-r,d=l.sort(((e,t)=>(e.timestamp||0)-(t.timestamp||0))).slice(0,c);return[...i.reduce(((e,t)=>n(t)?e.concat(t):e),[]),...d]}const qD=(e,t)=>{const{normalizeRoute:s,getRoute:a,getPreviousRoute:n,getSetting:r,isSingleDraftGroup:o,findUnsyncedDataByCsid:i,getLastSaveTimeStampForDraft:l,getPages:c,doesRouteContainFailure:d,getSmartViewPageByType:_,getQueryParams:E,getStreamsSelectors:u,getSelectedAccountId:m,getDraftFolderIdByAccountId:p,getSmartViewTypeFromRoute:C,getSmartViewPosition:A,getSettingsPageRoute:T,isMobileRoute:I,createPageForRoute:g,getCurrentHistoryState:O,isFeatureEnabled:D,isInboxStyleNewOldMail:R}=(0,Oc.selectors)(e),{type:N,route:L,actionTimestamp:f}=t;switch(N){case $c.INITIAL_STATE:{const e=a(),n=(0,Rc.LY)(e),o=(0,Rc.Fh)(n),i=R(),{folderId:l,launchError:c,encryptedQueryParams:d={},folders:_}=t,u=E(),m="1"===u.openGIFPicker,p="1"===u.openStationery;let C;if(e.timestamp=f,d[YD.mrdparam]&&(0,h.VO)(d[YD.mrdparam]).some(Boolean)&&(C=d[YD.mrdparam]),m&&(C={...C||{},showGIFPicker:m}),p&&(C={...C||{},showStationeryPicker:p}),t={...t,route:e,mrdParams:C},!l&&!(0,Rc.kC)(e))return t;const A=l||o;let T=s((0,gc.i5)(A));const I=_.find((e=>{if(e.folder.types.includes(S.Sck.INBOX)&&e.folder.id===A)return e}));let g=!1;if(I)if(!i||e.name!==S.n8z.FOLDER&&e.name!==S.n8z.BASE)i||!(0,Rc.kC)(e)&&e.name!==S.n8z.BASE||(T=s((0,gc.i5)(A)),g=!0);else{const e=I.folder.accountId;T=s((0,gc.jK)(S.K8C.NEWMAIL,{accountIds:[e],folders:[A]})),g=!0}const O=D(S.ANe.SHOW_TODAY_AT_SIGNIN)&&D(S.ANe.SHOW_TODAYPAGE)&&r(S.Zrf.TODAYPAGE_URL);return e.name===S.n8z.BASE&&O&&(T=s((0,gc.Vp)())),(e.name===S.n8z.BASE||c&&T&&T.name||g)&&(t={...t,route:T,listId:(0,Rc.LY)(T)}),t}case $c.OPEN_PAGE_REQUESTED:{const n=a();switch(L.name){case S.n8z.NEW_DRAFT:{const{params:e={}}=L,{params:a={}}=n,r=n.name===L.name&&(l(a.csid)||Boolean(i(a.csid)));return{...t,route:{...s(L),timestamp:f},previousRoute:n,forceNewPage:r,csid:e.csid}}case S.n8z.SEARCH:{const e=(0,Rc.LY)(L),a=(0,Rc.zu)(L)?C(L):null,r=a?_(a):null,o=a?!!r:n&&n.name===S.n8z.SEARCH&&!(0,Rc.yE)((0,Rc.LY)(n));return{...t,route:{...s(L),timestamp:f},previousRoute:r||n,forceNewPage:!r&&(0,Rc.yE)(e),replaceRoute:o}}case S.n8z.LIST:{const e=(0,Rc.zu)(L)?C(L):null,a=e?_(e):null;return{...t,route:{...s(L),timestamp:f},previousRoute:a||n,replaceRoute:!!a}}case S.n8z.SETTINGS:{const e=T()||null;return{...t,route:{...s(L),timestamp:f},previousRoute:e||n,replaceRoute:!!e}}default:{const a=L&&{route:{...s(L),timestamp:f}};return{...t,...a,previousRoute:n,tabsToRemove:jD(e,a.route)}}}}case $c.CLOSE_ALL_PAGES_REQUESTED:{const e=c().filter((e=>{if(e.name===S.n8z.FOLDER)return!1;const t=(0,Rc.zu)(e)?C(e):null;return!(t&&A(t)===S.sDs.TAB_BAR)}));return{...t,pagesToClose:e}}case $c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const e=t.previousRoute||n();if(I(e)){const a=O(),n=(0,gc.fq)(t.listId,t.csid),r=g(n,1,a);return{...t,previousRoute:e,route:{...s(n),timestamp:f},nextPage:r}}const o=D(S.ANe.MESSAGE_LIST_CONTEXT_MENU)&&t.triggeredFromContextMenu,i=t.triggeredFromMessageToolbar;return D(S.ANe.INLINE_REPLY_COMPOSE)?i||o?{...t,previousRoute:e,route:{...s((0,gc.Rl)(t.csid,{},e)),timestamp:f}}:{...t,route:L&&{...s(t.route),timestamp:f}||a(),previousRoute:e}:r(S.ANe.CONVERSATIONS)?o?{...t,route:s((0,gc.m9)(t.listId,t.groupId,e.query)),previousRoute:e}:{...t,route:L&&{...s(t.route),timestamp:f}||a(),previousRoute:e}:{...t,previousRoute:e,route:{...s((0,gc.Rl)(t.csid,{},e)),timestamp:f}}}case $c.SETTINGS_CHANGE_REQUESTED:{const e=a(),n=c(),r=()=>n.some((e=>e.name===S.n8z.SETTINGS));return e.timestamp=f,t.name===S.Zrf.MAIL_TABS&&t.value&&e.name!==S.n8z.SETTINGS&&!r()?{...t,previousRoute:e,route:e,pages:[...n,s((0,gc.Tx)({settingsGroupId:S.u5h.PERSONALIZE_INBOX}))]}:{...t,previousRoute:e,route:e}}case $c.SYNC_DATA:{const e=t.previousRoute||n(),r=L&&s(t.route)||a();return r.timestamp=f,{...t,route:r,previousRoute:e,pages:c()}}case $c.V3_MESSAGE_SEND_FAILED:{let e;const r=c(),i=a(),{csid:l,groupId:_,previousRoute:E,listId:C}=t,A=E||n();i.timestamp=f,r.length||r.push(i);const T=(0,Rc.LY)(i),I=D(S.ANe.CONVERSATIONS),h=(0,$E.BA)([T]),{doesStreamExist:g,getCursorSelectors:O}=u(),{id:R,listId:N}=g(h)&&O(h).getCursorItem()||{};if(_)if(o(_)||!I){const t=p(m()),s=(0,Rc.Kw)(t);e=(0,gc.fq)(s,l,i.query)}else e=(0,gc.m9)(C,_,i.query);else e=(0,gc.Rl)(l,i.query);const[L,M]=ea()(r.slice(1),(e=>e.params&&_&&e.params.groupId===_||d(e)));return _&&_===R&&N===C?{...t,route:i,previousRoute:A,sendFailureRoute:e,pages:zD()([r[0],...L,...M],"url")}:{...t,route:i,previousRoute:A,pages:zD()([r[0],s(e),...L,...M],"url"),sendFailureRoute:e}}case $c.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{var M;const e=t.previousRoute||n(),s=D(S.ANe.CONVERSATIONS),r=L||a(),{id:o}=t.messageGroup||{};return r.timestamp=f,s&&r.name===S.n8z.MESSAGE_FROM_SEARCH_LIST&&null!==(M=r.params)&&void 0!==M&&M.groupId&&!/^[0-9]+$/.test(r.params.groupId)&&o?{...t,route:{...r,params:{...r.params,groupId:o}},previousRoute:e}:{...t,route:r,previousRoute:e}}default:{const e=t.previousRoute||n(),s=L||a();return s.timestamp=f,{...t,route:s,previousRoute:e}}}},XD=(e,t)=>{const{getMainStreamItems:s,getRoute:a}=(0,Oc.selectors)(e),{type:n,streamItems:r}=t;let o=t.streamId;switch(n){case $c.CLOSE_PAGE_REQUESTED:{const{route:e}=t,s=(0,Rc.LY)(e);return o||(o=(0,$E.k3)(s,e.params.groupId)),{...t,streamId:o}}case $c.STREAM_CURSOR_MOVED:case $c.STREAM_SELECT_CURSOR_MOVED:case $c.STREAM_ITEMS_RANGE_SELECTED:case $c.STREAM_CONTEXT_MENU:case $c.STREAM_ITEM_TOGGLED:case $c.STREAM_ITEMS_SELECTION_CLEARED:case $c.STREAM_ITEMS_SELECTION_CHANGED:case $c.ALL_STREAM_ITEMS_SELECTED:case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case $c.V3_MESSAGE_SEND_SUCCEEDED:case $c.CHECK_MAIL_RECEIVED_WITH_UPDATES:case $c.CHANGE_FOLDER_SUCCEEDED:case $c.SEARCH_LIST_ITEMS_RECEIVED:case $c.UNDO_MOVE_SUCCEEDED:case $c.MORE_MESSAGES_REQUEST_SUCCESS:case $c.MORE_SEARCH_LIST_ITEMS_RECEIVED:case $c.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case $c.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case $c.GIF_FETCH_SUCCEEDED:case $c.MORE_COUPONS_SUCCESS:case $c.MORE_RECEIPTS_SUCCESS:case $c.RECEIPTS_LIST_SUCCEEDED:case $c.WALLET_LIST_SUCCEEDED:case $c.PINNED_EMAIL_LIST_SUCCEEDED:case $c.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case $c.COUPONS_LIST_SUCCEEDED:case $c.EXTRACT_COUPON_SUCCEEDED:case $c.TRAVEL_LIST_SUCCEEDED:case $c.COUPONS_ADD_TAG_DECO_REQUESTED:case $c.MORE_TRAVEL_ITEMS_SUCCEEDED:case $c.ITEMS_DRAG_STARTED:case $c.MOVE_ITEMS_REQUESTED:case $c.MOVE_AND_READ_CHANGE_REQUESTED:case $c.DELETE_ITEMS_REQUESTED:case $c.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case $c.READ_CHANGE_REQUESTED:case $c.STAR_CHANGE_REQUESTED:case $c.RECENT_AND_READ_CHANGE_REQUESTED:case $c.PREVIEW_MESSAGE_REQUESTED:return{...t,streamItems:r||s(a())};case $c.OPEN_PAGE_REQUESTED:if(t.streamItem)return{...t,streamItems:r||s(a())};break;case $c.UPDATE_ITEMS_FAILED:if(t.deletedMessages&&t.deletedMessages.length>0)return{...t,streamItems:r||s(a())}}return t},QD=(e,t,s,a,n,r,o,i,l,c)=>{const d=(0,Rc.WN)(e);let _;if(void 0!==r&&(_=r),_||void 0===s||(_=Boolean(s)),_||void 0===a||(_=Boolean(a)),void 0!==l&&(l===$c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED||l===$c.V3_MESSAGE_SEND_SUCCEEDED))return{};switch(d){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return{[e]:{itemIds:(c&&(0,Rc.aY)(e)===S.v6P[S.K8C.COUPON_EMAILS]?t.filter((e=>e.messages.some((e=>(0,Hs.m3)(e.decos,S.Jd6.CPN))))):t).map((e=>e.id)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return{[e]:{itemIds:t.map((({attachment:e})=>e.id)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.GIFS:return{[e]:{itemIds:t.map((e=>e.id)),nextItemsUrl:s,offset:a,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.CLOUD_STORAGE_ITEMS:return{[e]:{itemIds:t.map((e=>e.id)),nextItemsUrl:s,offset:a,hasMoreItems:_}};case S.F6k.SENDERS:return{[e]:{itemIds:t.map((e=>e.id)),hasMoreItems:_,offset:a}};case S.F6k.PEOPLE:return{[e]:{itemIds:t.map((({contactDetails:e})=>e.xobniId)),nextItemsUrl:s,offset:a,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.CONTACTS:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.SUBSCRIPTIONS:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:_,lmv3Query:o,suggestedWords:i}};case S.F6k.SUBHUB_RECOMMENDATION_LIST:return{[e]:{itemIds:t.map((({id:e})=>e)),nextItemsUrl:s,offset:a,totalHits:n,hasMoreItems:_,lmv3Query:o,suggestedWords:i}}}return{}},JD=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.GIFS:return t.reduce(((e,t)=>({...e,[t.id]:t})),{})}return{}},$D=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.CLOUD_STORAGE_ITEMS:return t.reduce(((e,t)=>({...e,[t.id]:t})),{})}return{}},eR=(e,t,s)=>{switch((0,Rc.WN)(t)){case S.F6k.COUPON_CARDS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return s.reduce(((e,t)=>{const s=e[t.id]||[];return{...e,[t.id]:s.concat(t.messages.map((e=>e.id)))}}),{});case S.F6k.PINNED_EMAILS:case S.F6k.MESSAGES:{const{getMessageGroupFolderType:a}=e.getFoldersSelectors(),n=a((0,Rc.Fh)(t)||"");return s.reduce(((e,t)=>{const s=e[t.id]||{};return{...e,[t.id]:{[n]:(s[n]||[]).concat(t.messages.map((e=>e.id)))}}}),{})}}return{}},tR=(e,t,s)=>{const a=(0,Rc.WN)(t),{doesMessageIdExist:n,getMessageCsid:r}=e;switch(a){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.SENDERS:case S.F6k.RECEIPT_CARDS:return s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>{let s=null;return s=!s&&n(t.id)?r(t.id):t.csid?t.csid:(0,Pa.generateUID)(),{...e,[t.id]:{..._()(t,["snippet","attachments","headers","schemaCards"]),headers:_()(t.headers,["subject"]),...s?{csid:s}:{}}}}),{})})),{})}return{}},sR=(e,t,s)=>{const a=(0,Rc.WN)(t),{getContentIdByAttachmentId:n,doesAttachmentExistById:r}=e.getAttachmentsSelectors();switch(a){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:return s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.attachments||[]).reduce(((e,s)=>{const a=r(s.id)&&n(s.id)?n(s.id):(0,Sr.Rq)();return{...e,[s.id]:{...s,conversationId:s.conversationId||t.conversationId,contentId:a,dataId:a}}}),{})})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return s.reduce(((e,{attachment:t})=>{const s=r(t.id)?n(t.id):(0,Sr.Rq)();return{...e,[t.id]:{...t,contentId:s,dataId:s}}}),{});case S.F6k.CLOUD_STORAGE_ITEMS:return s.reduce(((e,t)=>{const{mid:s,partId:a,name:o,mimeType:i,thumbnail:l,downloadLink:c}=t,d=`${s}:${a}`,{type:_,subtype:E}=(0,Sr.yo)(i),u=r(d)?n(d):(0,Sr.Rq)();return{...e,[d]:{...t,contentId:u,dataId:u,filename:o,id:d,virus:"N",thumbnailUrl:l||"",downloadUrl:c,type:_,subtype:E}}}),{})}return{}},aR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.PINNED_EMAILS:case S.F6k.MESSAGES:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,[t.id]:(t.attachments||[]).map((e=>e.id))})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return t.reduce(((e,{attachment:t,message:s})=>({...e,[s.id]:[...e[s.id]||[],t.id]})),{});case S.F6k.CLOUD_STORAGE_ITEMS:return t.reduce(((e,t)=>({...e,[t.mid]:[...e[t.mid]||[],`${t.mid}:${t.partId}`]})),{})}return{}},nR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,[t.id]:(t.schemaCards||[]).map((({id:e,type:t})=>({id:e,type:t})))})),{})})),{})}return{}},rR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.SENDERS:case S.F6k.RECEIPT_CARDS:return t.reduce(((t,s)=>({...t,...s.messages.reduce(((t,{id:s,headers:a={}})=>({...t,[s]:{[e]:a.subject}})),{})})),{});case S.F6k.DOCUMENTS:case S.F6k.IMAGES:return t.reduce(((t,s)=>({...t,[s.message.id]:{[e]:s.message.subject}})),{})}return{}},oR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:return t.reduce(((t,s)=>({...t,...s.messages.reduce(((t,s)=>({...t,[s.id]:{[e]:(0,fC.u6)(s.snippet)}})),{})})),{})}return{}},iR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.PEOPLE:return t.reduce(((e,t)=>({...e,[t.contactDetails.xobniId]:t.contactDetails})),{})}return{}},lR=(e,t)=>{switch((0,Rc.WN)(e)){case S.F6k.MESSAGES:case S.F6k.PINNED_EMAILS:case S.F6k.TRAVEL_CARDS:case S.F6k.WALLET_CARDS:case S.F6k.COUPON_CARDS:case S.F6k.REFUND_CARDS:case S.F6k.RECEIPT_CARDS:return t.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>({...e,[t.id]:{...t}})),{})})),{})})),{})}return{}},cR=(e,t,s={})=>{switch((0,Rc.WN)(e)){case S.F6k.COUPON_CARDS:return[].concat(Object.keys(s).map((e=>({id:e,messages:[s[e]]}))));default:return t.concat(Object.keys(s).map((e=>({id:e,messages:[s[e]]}))))}},dR=(e,t,s,a,n,r,o,i={},l,c,d=[],_)=>{const{doesFolderIdExist:E,isFeatureEnabled:u}=e,m=u(S.ANe.DEALS_VIEW_FOR_INTLS),p=(0,Rc.WN)(t),C={};let A=s;return d.forEach((e=>{C[e.folder.id]=!0})),p===S.F6k.MESSAGES&&(A=s.filter((e=>{const t=e.messages.filter((e=>E(e.folder.id)||C[e.folder.id]));return e.messages=t,e.messages.length>0}))),{lists:QD(t,A,a,n,r,o,l,c,_,m),groupIdToMessageIdsMap:eR(e,t,A),messages:tR(e,t,cR(t,A,i)),attachments:sR(e,t,A),attachmentIdToMessageIdMap:aR(t,A),subjects:rR(t,A),snippets:oR(t,A),gifItems:JD(t,A),schemaCards:lR(t,A),messageIdToSchemaIdsMap:nR(t,A),people:iR(t,A),cloudStorageItems:$D(t,A)}},_R=(e={},t,s="",a=[])=>{const n=[];return Object.keys(S.F6k).forEach((r=>{Object.keys(e[r]||{}).forEach((o=>{const i=(0,Rc.tE)(s,{listContentType:r,listFilter:o}),l=e[r][o];l&&n.push(dR(t,i,l.items,l.nextItemsUrl,l.offset,l.totalHits,l.hasMoreItems,void 0,l.lmv3Query,l.suggestedWords,a))}))})),n},ER=(e,t)=>{const{getContentIdByAttachmentId:s,doesAttachmentExistById:a}=e,n=Object.keys(t.messageMetadataMap);return{attachments:n.reduce(((e,n)=>{const{attachments:r=[]}=t.messageMetadataMap[n];return{...e,...r.reduce(((e,t)=>{const n=a(t.id)?s(t.id):(0,Sr.Rq)();return{...e,[t.id]:{...t,contentId:n,dataId:n}}}),{})}}),{}),attachmentIdToMessageIdMap:n.reduce(((e,s)=>{const{attachments:a=[]}=t.messageMetadataMap[s];return{...e,[s]:a.map((({id:e})=>e))}}),{})}},uR=(e,t,s)=>{const{getMessageCsid:a,getMessageIdsFromMessageGroupId:n,isFeatureEnabled:r}=s,o=e.reduce(((e,t)=>Object.keys(t).reduce(((e,s)=>{return"attachmentIdToMessageIdMap"===s?{...e,[s]:{...e[s],...(a=t[s],Object.keys(a).reduce(((e,t)=>({...e,...a[t].length?Object.assign.apply({},a[t].map((e=>({[e]:t})))):{}})),{}))}}:{...e,[s]:{...e[s],...t[s]}};var a}),e)),{});if(r(S.ANe.CONVERSATIONS))switch(t.type){case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case $c.V3_MESSAGE_SAVE_SUCCEEDED:{const{getMessageGroupFolderType:e}=s.getFoldersSelectors(),r=e((0,Rc.Fh)(t.listId)||"");o.groupIdToMessageIdsMap=Object.keys(o.groupIdToMessageIdsMap||{}).reduce(((e,s)=>{const o=(n(s)||[]).filter((e=>a(e)!==t.csid)).concat(t.message.id);return{...e,[s]:{[r]:o}}}),{})}}if(t.type===$c.CHECK_MAIL_RECEIVED_WITH_UPDATES&&o.lists){const e=t.listId,{doesListExist:a,getListItemIds:r,getMessagesSelectors:i,getMessageFolderId:l}=s,{getTimeStamp:c}=i(),d=a(e)?r(e):[];if((0,Rc.kw)(e)===S.K8C.NEWMAIL){const t=(0,Rc.WW)(e),s=(0,Rc.Fh)(e);(0,m.Z)([S.Asd.DATE_DESC,S.Asd.DATE_ASC].includes(t),"panic: New Mail only supports date asc or desc sort orders");const a=t===S.Asd.DATE_DESC?(e,t)=>t.timestamp-e.timestamp:(e,t)=>e.timestamp-t.timestamp,r=o.lists[e],i=e=>{var t;const a=o.groupIdToMessageIdsMap[e];if(!a)return 0;const n=[...[].concat(...Object.values(a))].reverse().find((e=>{var t;return(null===(t=o.messages[e].folder)||void 0===t?void 0:t.id)===s}));return n?1e3*(null===(t=o.messages[n].headers)||void 0===t?void 0:t.date):0},_=t=>{const a=[...n(t,e)].reverse().find((e=>l(e)===s));return a?1e3*c(a):0};o.lists[e].itemIds=ra()(r.itemIds.concat(d)).map((e=>{let t=i(e);return t||(t=_(e)),{id:e,timestamp:t}})).sort(a).map((e=>e.id))}else o.lists[e].itemIds=(0,Rc.fG)(d,o,e)}return o},mR=({listId:e,itemsToAdd:t,itemsToRemove:s})=>{const a={listId:e};return e?(null!=t&&t.length&&(a.itemsToAdd=t),null!=s&&s.length&&(a.itemsToRemove=s),a.itemsToAdd||a.itemsToRemove?a:null):null},SR=(e,t,s)=>{if((null==t?void 0:t.name)===S.n8z.MESSAGE_FROM_LIST)return;if(!(-1!==[S.n8z.FOLDER,S.n8z.SEARCH,S.n8z.CONTACTS,S.n8z.SUBSCRIPTION_LIST,S.n8z.NEW_DRAFT,S.n8z.SETTINGS].indexOf((null==t?void 0:t.name)||"")||(0,Rc.ft)(s)))return;const{getListsSelectors:a,getMessageGroupsSelectors:n,getMessageFlags:r,getSelectedAccountIdByRoute:o,getAccountSelectors:i}=e,{getItemIds:l,getListIdsByListFilter:c,doesListExist:d}=a(),{doesMessageGroupIdExist:_,getAllMessageIdsFromMessageGroupId:E}=n(),{getAccountById:u,getSelectedAccountId:m}=i(),p=o(t),C=u(p)?p:m(),A=c(S.ukn.NEWMAIL),T=c(S.ukn.OLDMAIL),I=(null==A?void 0:A.length)&&A[0],h=(null==T?void 0:T.length)&&T[0],g=(0,Rc.Ez)((0,GA.qt)(S.K8C.UNREAD,{accountIds:[C]})),O=d(g)&&g,D=I||O||null;let R=[];D&&(R=l(D).filter((e=>_(e)&&E(e).every((e=>r(e).read)))));const N=[mR({listId:D,itemsToRemove:R}),mR({listId:h,itemsToAdd:R})].filter((e=>Boolean(e)));return N.length?{listsToUpdate:N}:void 0},pR=(e,t)=>{const s=(0,Oc.selectors)(e),a=[];switch(t.type){case $c.OPEN_PAGE_REQUESTED:{const e=(0,Rc.LY)(t.route),{attachments:a=[]}=t;if(a.length){const n=a[0],{doesAttachmentExistById:r,getContentIdByAttachmentId:o}=s.getAttachmentsSelectors(),{contentId:i=(r(n.id)?o(n.id):(0,Sr.Rq)())}=n;return{...t,listId:e,listData:{attachments:{[n.id]:{...n,contentId:i,dataId:i}}}}}return{...t,...SR(s,t.route,e),listId:e}}case $c.MESSAGE_AUTO_SAVE_SUCCEEDED:case $c.MESSAGE_SAVE_SUCCEEDED:{const{groupId:e,message:n,listId:r}=t;e&&n&&r&&a.push(dR(s,t.listId,[{id:e,messages:[n]}]));break}case $c.MESSAGE_BODIES_RECEIVED:case $c.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:if(!Object.keys(t.messageMetadataMap).length)return t;a.push({messageMetadataMap:t.messageMetadataMap,...ER(s.getAttachmentsSelectors(),t)}),a.push(..._R(t.response,s,t.listId));break;case $c.COMBINE_DEALS_SUCCEEDED:{var n,r;const{getPrimaryAccountId:e}=s,o=[...(null===(n=t.response)||void 0===n||null===(r=n.allInboxDeals)||void 0===r?void 0:r.recommendedAndStaticDeals)||[]];if(o.length){const t=(0,Rc.H7)({referrer:S.v6P.COUPONS,accountIds:[e()]});a.push(dR(s,t,o))}break}case $c.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{const{getCurrentListId:e}=s;t.categories.forEach((({gifs:t,queryString:n})=>{const r=(0,Rc.tE)(e(),{listContentType:S.F6k.GIFS,keyword:n.toLowerCase(),listFilter:S.ukn.GIFS});a.push(dR(s,r,t.items,t.nextItemsUrl,t.offset,t.totalHits,t.hasMoreItems))}));break}case $c.GIF_FETCH_REQUESTED:{const{getCurrentListId:e}=s,a=(0,Rc.tE)(e(),{listContentType:S.F6k.GIFS,keyword:t.query,listFilter:S.ukn.GIFS});return{...t,listId:a}}case $c.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const{getCurrentListId:e,getSelectedAccountId:a}=s,n=a(),r=(0,Rc.tE)(e(),{listContentType:S.F6k.CLOUD_STORAGE_ITEMS,keyword:t.query,name:t.source,folders:[t.path],listFilter:S.ukn.CLOUD_STORAGE_ITEMS,accountIds:[n]});return{...t,listId:r}}case $c.V3_MESSAGE_SAVE_SUCCEEDED:case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const{getMessageIdsFromMessageGroupId:e,doesMessageGroupIdExist:n,getFoldersSelectors:r,getAttachmentIdsByMessageId:o,getAttachmentById:i,getMessageSubject:l,getMessageSnippet:c,__getMessageWithFlagsAndFolderId:d}=s,{__get__:_}=r(),{conversationsMode:E,message:u,listId:m}=t,p=E?u.conversationId:u.id,C={id:p};if(n(p)){const t=e(p),s=[];t.forEach((e=>{const t=d(e),a=o(e).map(i).filter(Boolean);s.push({...t,id:e,attachments:a,attachmentCount:a.length,folder:_(t.folderId||t.folderOfDelivery),snippet:c(e,m),headers:{...t.headers,subject:l(e,m)}})})),s.push(u),C.messages=s}else C.messages=[u];a.push(dR(s,(0,Rc.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),[C],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,void 0,void 0,void 0,t.type));break}case $c.INITIAL_STATE:case $c.UNDO_MOVE_SUCCEEDED:case $c.CHECK_MAIL_RECEIVED_WITH_UPDATES:case $c.CHANGE_FOLDER_SUCCEEDED:case $c.MORE_MESSAGES_REQUEST_SUCCESS:case $c.PARENT_MESSAGE_METADATA_SUCCEEDED:case $c.MESSAGE_GROUP_WITH_BODIES_RECEIVED:if(t.messageGroupList&&a.push(dR(s,t.listId,t.messageGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders,"")),t.messageGroup&&a.push(dR(s,(0,Rc.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),[t.messageGroup],t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.messageGroups&&a.push(dR(s,(0,Rc.tE)(t.listId,{listContentType:S.F6k.MESSAGES}),t.messageGroups,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.draftMessage&&a.push(dR(s,t.listId,t.draftMessage,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders)),t.response&&a.push(..._R(t.response,s,t.listId,t.folders)),t.message&&t.type===$c.INITIAL_STATE){const{messageMetadataMap:e,message:n}=t,{csid:r}=n;if(!Object.keys(e).length)return t;a.push({...ER(s.getAttachmentsSelectors(),t),messages:{[n.id]:{..._()(n,["snippet","attachments","headers","schemaCards"]),headers:_()(n.headers,["subject"]),...r?{csid:r}:{}}},subjects:{[n.id]:{[t.listId]:n.headers.subject}},snippets:{[n.id]:{[t.listId]:n.snippet}}}),t.draftMessageId||(t.draftMessageId=t.message.id)}break;case $c.POST_LAUNCH_SYNC_SUCCEEDED:t.cardGroupList&&a.push(dR(s,(0,Rc.tE)("{}",{listContentType:S.F6k.COUPON_CARDS,listFilter:S.ukn.SAVED_COUPON_CARDS,referrer:S.qd8[S.K8C.COUPONS]}),t.cardGroupList.filter((e=>e&&e.messages.some((e=>e.decos&&e.decos.some((e=>e&&"CPN"===e.id))))))));break;case $c.COUPONS_LIST_SUCCEEDED:case $c.MORE_COUPONS_SUCCESS:a.push(dR(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems));break;case $c.PINNED_EMAIL_LIST_SUCCEEDED:a.push(dR(s,t.listId,t.pinnedEmailsList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,void 0,"",void 0,t.folders,""));break;case $c.EXTRACT_COUPON_SUCCEEDED:case $c.RECEIPTS_LIST_SUCCEEDED:case $c.MORE_RECEIPTS_SUCCESS:case $c.TRAVEL_LIST_SUCCEEDED:case $c.MORE_TRAVEL_ITEMS_SUCCEEDED:case $c.WALLET_LIST_SUCCEEDED:a.push(dR(s,t.listId,t.cardGroupList,t.nextItemsUrl,t.offset,t.count,t.hasMoreItems,t.parentMessagesMap));break;case $c.MORE_SEARCH_LIST_ITEMS_RECEIVED:{const{listId:e,listContentBlock:n={}}=t;e&&n&&a.push(dR(s,e,n.items,n.offset?n.nextItemsUrl:"",n.offset,n.totalHits,n.hasMoreItems&&!!n.offset));break}case $c.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case $c.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case $c.SETTINGS_BLOCKED_DOMAINS_FETCHED:{const e=(0,Rc._o)(),{items:s}=t;return{...t,listData:{lists:{[e]:{itemIds:s,totalHits:s.length}}}}}case $c.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{listId:e,contacts:s}=t,a=s.reduce(((e,t)=>{const{id:s,xobniId:a}=t;return e.contactEmailToId[s]=a,void 0!==e.idToContact[t.xobniId]?(e.idToContact[t.xobniId].emails=ra()([...e.idToContact[t.xobniId].emails,...t.emails]),e):(e.contacts=[...e.contacts,t],e.idToContact[a]=t,e)}),{contacts:[],idToContact:{},contactEmailToId:{}}),n=s.map((({id:e})=>e));return{...t,listData:{lists:{[e]:{itemIds:n,totalHits:n.length}}},contacts:a.contacts,contactEmailToId:a.contactEmailToId}}case $c.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{contacts:e}=t,{getContactListSelectors:a,getListsSelectors:n}=s,{getItemIdsSelectors:r}=n(),{getContactById:o}=a(),i={...t},l=[],c=(0,Rc.uh)(S.ukn.GROUPS),d=r(c).getItemIds();return i.tempGroupId="temp:"+(0,Pa.generateUID)(),i.tempListId=(0,Rc.uh)(S.ukn.GROUPS,i.tempGroupId),d.push(i.tempGroupId),i.endpoints=[],e.forEach((({itemType:e})=>{l.push(e),i.endpoints.push({...e,name:o(e.id).name})})),i.listData={},i.listData.lists={[i.tempListId]:{itemIds:l,totalHits:l.length},[c]:{itemIds:d,totalHits:d.length}},i}case $c.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{groupId:e,newGroup:a,oldGroup:n}=t,{getContactListSelectors:r}=s,{getContactById:o}=r(),i={...t},{contacts:l=[]}=n,{contacts:c=[]}=a,d=[],_={},E=l.reduce(((e,t)=>(e[t.id]=!0,e)),{});return a.name!==n.name&&(i.newName=a.name),i.listId=(0,Rc.uh)(S.ukn.GROUPS,e),i.addedEndpoints=[],c.forEach((({itemType:e,id:t})=>{d.push(e),_[t]=!0,E[t]||i.addedEndpoints.push({...e,name:o(e.id).name})})),i.removedEndpoints=l.reduce(((e,{itemType:t,id:s})=>_[s]?e:e.concat(t)),[]),i.doUpdatesExist=!!(i.newName||i.addedEndpoints.length||i.removedEndpoints.length),i.listData={},(i.addedEndpoints.length||i.removedEndpoints.length)&&(i.listData.lists={[i.listId]:{itemIds:d,totalHits:d.length}}),i}case $c.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{listId:e,contacts:s=[]}=t,a=s.map((({name:e,...t})=>t));return{...t,listData:{lists:{[e]:{itemIds:a,totalHits:a.length}}}}}case $c.CONTACTS_LIST_FETCH_SUCCEEDED:{const{contacts:e,characters:s=[],groupIds:a,selectedGroup:n}=t,r=s.length>0,o={};let i={};const l=n?(0,Rc.tE)(t.listId,{keyword:n}):t.listId;if(e&&(i=e.reduce(((e,{category:t,contacts:s,remainingCount:a})=>{const n=(0,Rc.tE)(l,{name:t});return{...e,...QD(n,s,"",0,s.length+a,a>0)}}),{})),a){o[(0,Rc.uh)(S.ukn.GROUPS)]={itemIds:a,totalHits:a.length,nextItemsUrl:"",offset:0,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}}return r||!e?{...t,listData:{lists:{...i,...o}}}:{...t,listId:l,listData:{lists:{...i,...o,[l]:{itemIds:Object.keys(i),nextItemsUrl:"",offset:0,totalHits:e.length,hasMoreItems:!1,lmv3Query:void 0,suggestedWords:void 0}}}}}case $c.FETCH_ALL_CONTACTS_SUCCESS:{const{listId:e,contacts:s=[]}=t,a=[];return s.forEach((e=>{a.push(e.id)})),{...t,listId:e,listData:{lists:{[e]:{itemIds:a,totalHits:a.length}}}}}case $c.CONTACTS_GROUP_DELETE_REQUESTED:{const{groupId:e}=t,{getCustomContactGroups:a}=s,n=(0,Rc.uh)(S.ukn.GROUPS),r=a().filter((t=>t!==e));return{...t,listId:n,newGroupId:r[0]?r[0]:null,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}}}case $c.CONTACTS_GROUP_DELETE_FAILED:{const{groupId:e}=t,{getCustomContactGroups:a}=s,n=(0,Rc.uh)(S.ukn.GROUPS),r=a().concat(e);return{...t,listId:n,listData:{lists:{[n]:{itemIds:r,totalHits:r.length}}}}}case $c.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case $c.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case $c.SEARCH_LIST_ITEMS_RECEIVED:case $c.GIF_FETCH_SUCCEEDED:case $c.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:a.push(..._R(t.response,s,t.listId));break;case $c.COUPONS_REMOVE_TAG_DECO_REQUESTED:case $c.COUPONS_ADD_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e,schemaCard:n,listId:r}=t,o=e.map((({messageId:e})=>({id:e,messages:[{id:e,schemaCards:[n]}]})));a.push(dR(s,r,o));break}case $c.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const{response:e,sortOrder:n,accountId:r}=t,{brand:o=[]}=e.subscription.email||{},i=o.map((e=>({...e,id:`${e.name}:${r}`,subscriptions:e.subscriptions.filter((e=>"true"===e.isUsb))}))),l=(0,Rc.Bq)(n,r);t.brand=i,a.push(dR(s,l,i));break}case $c.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:{const{response:e,sortOrder:n,accountId:r}=t,{brand:o=[]}=e.subscription.email||{},i=o.map((e=>({...e,id:`${e.name}:${r}`}))),l=(0,Rc.iB)(n);t.brand=i,a.push(dR(s,l,i));break}case $c.SENDER_ROLLUP_SUCCEEDED:case $c.MORE_SENDER_ROLLUP_SUCCEEDED:{const{senderRollup:e,listId:n,hasMoreItems:r,offset:o}=t;a.push(dR(s,n,e,void 0,o,void 0,r));break}default:return t}return{...t,listData:uR(a,t,s)}},CR=(e,t)=>{const{type:s,folders:a=[]}=t;switch(s){case $c.RENAME_FOLDER_REQUESTED:case $c.MOVE_FOLDER_REQUESTED:{const{folderId:s,folderName:a}=t,{getFoldersSelectors:n,getAccountIdByFolderId:r}=(0,Oc.selectors)(e),o=r(s),{getFolderIdsByAccountId:i,getFolderPath:l}=n(),c=i(o),d=l(s)+"/",_=a+"/",E=c.filter((e=>-1!==l(e).indexOf(d)&&e!==s)).map((e=>({folderId:e,folderName:l(e).replace(d,_)})));return{...t,subfolders:E}}case $c.INITIAL_STATE:case $c.UNDO_MOVE_SUCCEEDED:case $c.CHECK_MAIL_RECEIVED_WITH_UPDATES:case $c.CHANGE_FOLDER_SUCCEEDED:case $c.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case $c.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case $c.SEARCH_LIST_ITEMS_RECEIVED:return a.length?{...t,folderMap:(0,ds.YY)(a)}:t;case $c.CREATE_FOLDER_SUCCEEDED:case $c.RENAME_FOLDER_SUCCEEDED:case $c.MOVE_FOLDER_SUCCEEDED:{const{folder:e,subfolders:s=[]}=t;return{...t,folderMap:{[e.id]:e,...s.reduce(((e,t)=>({...e,[t.id]:t})),{})}}}default:return t}},AR=(e,t)=>{const{streamId:s}=t,{doesStreamExist:a,getSelectedStreamItems:n,getCursor:r}=(0,Oc.selectors)(e);if(!s)return t;switch(t.type){case $c.STREAM_ITEM_TOGGLED:case $c.STREAM_CONTEXT_MENU:case $c.ITEMS_DRAG_STARTED:return{...t,selectionPayload:{oldSelectedItems:a(s)?n(s):[]}};case $c.V3_MESSAGE_SAVE_SUCCEEDED:case $c.MESSAGE_SAVE_SUCCEEDED:case $c.MESSAGE_AUTO_SAVE_SUCCEEDED:case $c.STREAM_CURSOR_MOVED:case $c.STREAM_SELECT_CURSOR_MOVED:case $c.STREAM_ITEMS_RANGE_SELECTED:case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case $c.V3_MESSAGE_SEND_SUCCEEDED:case $c.CHECK_MAIL_RECEIVED_WITH_UPDATES:case $c.CHANGE_FOLDER_SUCCEEDED:case $c.SEARCH_LIST_ITEMS_RECEIVED:case $c.UNDO_MOVE_SUCCEEDED:case $c.MORE_MESSAGES_REQUEST_SUCCESS:case $c.MORE_SEARCH_LIST_ITEMS_RECEIVED:case $c.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case $c.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case $c.GIF_FETCH_SUCCEEDED:case $c.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case $c.MORE_COUPONS_SUCCESS:case $c.MORE_RECEIPTS_SUCCESS:case $c.RECEIPTS_LIST_SUCCEEDED:case $c.WALLET_LIST_SUCCEEDED:case $c.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case $c.COUPONS_LIST_SUCCEEDED:case $c.EXTRACT_COUPON_SUCCEEDED:case $c.TRAVEL_LIST_SUCCEEDED:case $c.COUPONS_ADD_TAG_DECO_REQUESTED:case $c.MORE_TRAVEL_ITEMS_SUCCEEDED:return{...t,selectionPayload:{oldCursor:a(s)?r(s):void 0,oldSelectedItems:a(s)?n(s):[]}};case $c.DELETE_ITEMS_REQUESTED:case $c.MOVE_ITEMS_REQUESTED:case $c.MOVE_AND_READ_CHANGE_REQUESTED:if(void 0!==t.route&&t.route.params.fid===S.RfP.SPAM&&(t.triageActionType===S.Ewo.NOT_SPAM_SELECTED_ITEMS||t.triageActionType===S.Ewo.DELETE_SELECTED_ITEMS))return{...t,streamItems:void 0}}return t};var TR=s(47292),IR=s(86056),hR=s.n(IR);const gR=({state:e,featureName:t,featureCueTimestamps:s})=>{const{isEnabled:a,getSetting:n}=(0,Oc.selectors)(e).getFeaturesSelectors(),r=a(S.ANe.PUSH_NOTIFICATIONS),o=!!n(S.Zrf.NOTIFICATION),i=a("browserNotifications"),l=n(S.Zrf.PUSH_NOTIFICATIONS_EXPERIMENT),c=s[S.ANe.MOBILE_ONBOARDING_CUE]||0;return!!((0,Oc.selectors)(e).isMobileRoute()&&o&&r&&i&&c&&hR()(new Date,1e3*c)>=7&&((e,t)=>-1!=={[S.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:[S.PP5.DEFAULT,S.PP5.LAUNCHV01],[S.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:[S.PP5.PTRV01,S.PP5.PTRV02],[S.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:[S.PP5.COMPOSEV01]}[e].indexOf(t))(t,l)&&(0,jg.MR)()===jg.Jj.DEFAULT)};var OR=s(85671),DR=s(33471);const RR=({state:e,action:t,featureCueTimestamps:s})=>{switch(t.type){case $c.DEAL_CARD_GROUP_SHOWN:{const{getSetting:t,isFeatureEnabled:a,getPrescribedNumberOfColumns:n}=(0,Oc.selectors)(e),r=2===n();if(t(S.Zrf.PREVIEW_PANE)===S.EsZ.BOTTOM||r)return!1;const o=t(S.Zrf.SCOUT_ONBOARDING),i=(0,RO.JV)(o,S.ANe.DEALS_RECOMMEND_CONTROL_CUE),l=a(S.ANe.MAIL_PLUS)||a(S.ANe.MAIL_PLUS_FREE_TRIAL);if(l&&i>0)return!1;if(!l&&i>2){const e=s[S.ANe.DEALS_RECOMMEND_CONTROL_CUE]||0;return(0,TR.differenceInDays)(new Date,1e3*e)>=60}return!0}default:return!1}},NR=({action:e,featureCueUserResponse:t})=>{switch(e.type){case $c.OPEN_PAGE_REQUESTED:{const s=e.listId,a=(0,Rc.aY)(s)===S.v6P.EMAILS_TO_MYSELF,n=!!parseInt(t[S.ANe.EMAILS_TO_MYSELF_LEFT_CUE],10)||!(null!=e&&e.seenEmailToMyselfFirstTime),r=parseInt(t[S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE],10)||0,o=parseInt(t[S.ANe.EMAILS_TO_MYSELF_MOBILE_FEEDBACK_CUE],10)||0,i=r===S.Led.SUBMITTED||o===S.Led.SUBMITTED;return a&&n&&!i}default:return!1}},LR=({action:e,state:t,featureCueUserResponse:s})=>{const{type:a}=e,{getSetting:n}=(0,Oc.selectors)(t),{name:r,maxTimes:o}=n(S.Zrf.APP_INSTALL_CUE_VARIATION)||{};(0,m.Z)(!!r,"Eligible variation not found during app install cue predicate");const i=parseInt(s[r],10)||0;switch(a){case $c.LAUNCH_COMPLETED:return i>=o;case $c.FEATURE_CLOSED:return e.name===r&&i+1===o}return!1};var fR=s(78601);let MR=0;const PR={[S.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:gR,[S.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:gR,[S.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:gR,[S.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:({state:e})=>{const{isAdblockerDetected:t,isABPDetected:s}=(0,Oc.selectors)(e).getAdsSelectors();return t()||s()},[S.ANe.ADBLOCK_UPSELL_CUE]:({state:e,featureCueTimestamps:t})=>{const{isEnabled:s,getSetting:a}=(0,Oc.selectors)(e).getFeaturesSelectors(),n=a(S.Zrf.ADBLOCK_UPSELL_CUE_INTERVAL),r=Date.now()-1e3*t[S.ANe.ADBLOCK_UPSELL_CUE];return s(S.ANe.MAIL_PRO)?!t[S.ANe.ADBLOCK_UPSELL_CUE]:r>n},[S.ANe.AUTO_FORWARD_CUE]:({action:e,state:t})=>{var s,a;const{isFeatureEnabled:n,getAccountSelectors:r}=(0,Oc.selectors)(t),o=(null==e||null===(s=e.mailboxAttributes)||void 0===s||null===(a=s[S.CbW.AUTO_FORWARD_ALLOWED])||void 0===a?void 0:a.value)||null;return!(!n(S.ANe.MAIL_PRO)&&!o)&&!!r().getVerifiedAutoForwardAccount()},[S.ANe.BLOCK_SENDER_CUE]:({state:e,action:t})=>{const{canDisplayBlockSenderMenuItemForMessageId:s,doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:n}=(0,Oc.selectors)(e),r=(0,h.u9)(t,"route.params.groupId");if(!r)return!1;if(!a(r))return!1;const o=n(r);return 1===o.length&&s(o[0])},[S.ANe.AOL_ONBOARDING_CUE_ML]:({action:e})=>{const{route:t={}}=e;return!(t.name!==S.n8z.BASE&&t.name!==S.n8z.FOLDER&&!(0,Rc.kC)(t)&&!(0,Rc.rB)(t)&&t.name!==S.n8z.SUBSCRIPTION_LIST&&t.name!==S.n8z.CONTACTS)},[S.ANe.AOL_ONBOARDING_CUE_MR]:({action:e})=>{const{route:t={}}=e;return t.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||t.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||t.name===S.n8z.MESSAGE_FROM_LIST},[S.ANe.AOL_ONBOARDING_CUE_CP]:({action:e})=>{const{route:t={}}=e;return t.name===S.n8z.NEW_DRAFT||t.name===S.n8z.EDIT_DRAFT},[S.ANe.FOCUSED_INBOX_CUE]:({action:e})=>{var t;return(null===(t=e.route)||void 0===t?void 0:t.name)===S.n8z.FOCUSED_INBOX},[S.ANe.PARTNER_RECONSENT_BANNER]:({state:e})=>{const{isComposeRoute:t,isDraftRoute:s}=(0,Oc.selectors)(e);return!(t()||s()||!(0,I.jU)())&&(window.OathReConsent&&window.OathReConsent.hasInlineBanner)},[S.ANe.NPS_SURVEY_CUE]:({state:e,action:t})=>{const{getSetting:s,getPrescribedNumberOfColumns:a,getWindowDimensions:n}=(0,Oc.selectors)(e),r=s(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO,o=2===a(),{route:i,previousRoute:l={}}=t;if(n().innerHeight<625)return!1;switch(t.type){case $c.OPEN_PAGE_REQUESTED:if(i.name===S.n8z.FOLDER&&l.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0;if(o&&i.name===S.n8z.MESSAGE_FROM_FOLDER_LIST&&(MR++,MR>1))return!0;break;case $c.PREVIEW_MESSAGE_REQUESTED:case $c.STREAM_CURSOR_MOVED:if(r&&i.name===S.n8z.FOLDER&&(MR++,MR>1))return!0;break;case $c.CLOSE_PAGE_REQUESTED:{const{route:e}=t;if(e.name===S.n8z.MESSAGE_FROM_FOLDER_LIST)return!0;break}case $c.UPDATE_ITEMS_SUCCEEDED:{const{route:e}=t;if(e.name===S.n8z.FOLDER&&l.name!==S.n8z.FOLDER)return!0;break}}return!1},[S.ANe.CONVERSATIONS_CUE]:({state:e})=>!!(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.CONVERSATIONS),[S.ANe.LASTPASS_FREETRIAL_UPSELL]:({state:e})=>{const{isFeatureEnabled:t,getWindowDimensions:s}=(0,Oc.selectors)(e);return s().innerHeight>625&&t(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)},[S.ANe.MOBILE_PAC_NOTIFICATION_CUE]:({state:e,action:t})=>{const{getFeatureCueSelectors:s,isFeatureEnabled:a}=(0,Oc.selectors)(e),{isShown:n}=s(),{route:r={}}=t;return(r.name===S.n8z.MESSAGE_FROM_SEARCH_LIST||r.name===S.n8z.MESSAGE_FROM_FOLDER_LIST||r.name===S.n8z.MESSAGE_FROM_LIST)&&(!n(S.ANe.MOBILE_ONBOARDING_CUE)&&!a(S.Zrf.SHOW_IMAGES))},[S.ANe.OFFICE365_CUE]:({state:e})=>{const{getRootAccountsWithDefaultFolder:t,getAccountSelectors:s,getMailboxesSelectors:a}=(0,Oc.selectors)(e),n=t(),r=s().isPrimaryAccountDisabled(),o=a().getAllMailboxes().length>1;return n.filter((e=>e.status===S.dpb.ENABLED&&(!o||e.defaultFolder&&e.defaultFolder.id))).length>1||r},[S.ANe.THEMES_CUE_V3]:({state:e})=>{const{getSetting:t}=(0,Oc.selectors)(e),s=t(S.Zrf.SCOUT_ONBOARDING);return!((0,RO.JV)(s,S.ANe.NEW_USER_TASKS_CUE)>0)},[S.ANe.COUPON_LANDSHARK_CUE]:({state:e,action:t,featureCueTimestamps:s})=>{const{getFeatureCueSelectors:a,doesMessageGroupIdExist:n,getMessagesSelectors:r,getMessageIdsFromMessageGroupId:o}=(0,Oc.selectors)(e),{getDecos:i}=r(),{isShown:l}=a(),c=s[S.ANe.MOBILE_ONBOARDING_CUE]||0,d=new Date,_=(0,h.u9)(t,"route.params.groupId");if(!_)return!1;if(!n(_))return!1;const E=o(_),u=i(E[0]),m=(0,Hs.m3)(u,[S.Jd6.CPN]);return 1===E.length&&m&&!l(S.ANe.MOBILE_ONBOARDING_CUE)&&(0,TR.differenceInDays)(d,1e3*c)>1},[S.ANe.PKG_TRACKING_CUE]:({state:e,action:t})=>{var s,a;const{doesMessageGroupIdExist:n,getMessagesSelectors:r,getMessageIdsFromMessageGroupId:o}=(0,Oc.selectors)(e),{getDecos:i}=r(),l=null==t||null===(s=t.route)||void 0===s||null===(a=s.params)||void 0===a?void 0:a.groupId;if(!l)return!1;if(!n(l))return!1;const c=i(o(l)[0]);return(0,Hs.m3)(c,[S.Jd6.PKG])},[S.ANe.YMOBILE_PROMO_UPSELLS]:({state:e})=>{const{getRoute:t,getSetting:s,getFoldersSelectors:a}=(0,Oc.selectors)(e),n=t();if(n.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:r}=a(),o=(0,Rc.LY)(n),i=r((0,Rc.Fh)(o));if(i!==S.Sck.SPAM&&i!==S.Sck.TRASH){if(s(S.Zrf.YMOBILE_UPSELL_VERSION))return!0}return!1},[S.ANe.YPMP_PROMO_UPSELLS]:({state:e})=>{const{getRoute:t,getFoldersSelectors:s}=(0,Oc.selectors)(e),a=t();if(a.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:n}=s(),r=(0,Rc.LY)(a),o=n((0,Rc.Fh)(r));return o!==S.Sck.SPAM&&o!==S.Sck.TRASH&&(0,DR.gA)((0,Oc.selectors)(e))},[S.ANe.YPT_GAMER_UPSELLS]:({state:e})=>{const{getRoute:t,getFoldersSelectors:s}=(0,Oc.selectors)(e),a=t();if(a.name!==S.n8z.FOLDER)return!1;const{getPrimaryFolderTypeByFolderId:n}=s(),r=(0,Rc.LY)(a),o=n((0,Rc.Fh)(r));return o!==S.Sck.SPAM&&o!==S.Sck.TRASH&&(0,DR.lV)((0,Oc.selectors)(e))},[S.ANe.DISPATCHER_UPSELLS]:OR.F,[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS]:({state:e,action:t,featureCueTimestamps:s,featureCueUserResponse:a})=>{const{INVALID:n,PRE_SIGNUP_LIGHTBOX:r,PRE_SIGNUP_LEFT_PANEL_3:o,POST_SIGNUP_THANKYOU_TOAST:i,FREE_TRIAL_ENDING_NOTICATION_1:l,FREE_TRIAL_ENDING_NOTICATION_2:c,FREE_TRIAL_LAST_DAY_NOTIFICATION:d,FREE_TRIAL_EXPIRED_NOTIFICATION:_,MAILPRO_SIGNUP_THNAKYOU_TOAST:E}=S.$AH,{isFeatureEnabled:u,getEnvironmentSelectors:m,getSetting:p}=(0,Oc.selectors)(e),C=u(S.ANe.ADS),A=s[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS]||0;let T=S.Zd2;const I=p(S.Zrf.MOCKED_RECURRING_INTERVAL),h=p(S.Zrf.DAYS_IN_TRIAL_TEST_PARAM),g=p(S.Zrf.FTWCC_ELIGIBLE_UPSELLS);I>0&&(T=1e3*I);const O=parseInt(a[S.ANe.MAILPRO_FREE_TRIAL_UPSELLS],10)||0;switch(t.type){case $c.LAUNCH_COMPLETED:return C&&(O===n||-1===h)&&g.includes(r);case $c.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:{const{hasFreeTrialInSubList:e,inFreeTrial:s,trialStartDate:a,trialEndDate:n,hasUpgradedToMailpro:u}=t.data||{};if(C&&!e&&O>=r&&O<o){return Date.now()-1e3*A>T&&g.includes(O+1)}if(!C&&u)return g.includes(E);if(!C&&s){const e=(0,TR.differenceInDays)((new Date).getTime(),a)+1;if(O<i&&e>0&&e<7)return g.includes(i);if(O<l&&e>=7&&e<=11){return Date.now()-1e3*A>T&&g.includes(l)}if(O<c&&e>=12&&e<=13){var D;const e=(null===(D=m().getUserSegmentData().WEB_DESKTOP)||void 0===D?void 0:D.segment_id)||"";if(["4","5"].indexOf(e)>-1)return!1;return Date.now()-1e3*A>T&&g.includes(c)}if(O<d&&14===e)return g.includes(d)}return!!(C&&n&&(0,TR.isAfter)((new Date).getTime(),n)&&(0,TR.isBefore)(1e3*A,n))&&g.includes(_)}default:return!1}},[S.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL]:({action:e})=>{switch(e.type){case $c.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var t;return!!((null==e||null===(t=e.data)||void 0===t?void 0:t.offerIds)||[]).find((e=>-1!==S.Waq.indexOf(e.toString())))}return!1},[S.ANe.DEALS_RECOMMEND_CONTROL_CUE]:RR,[S.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE]:RR,[S.ANe.COMPOSE_FORMAT_CUE]:({state:e,action:t})=>{const{getSetting:s}=(0,Oc.selectors)(e),a=s(S.Zrf.COMPOSE_FORMAT);switch(t.type){case $c.OPEN_PAGE_REQUESTED:return!!t.csid&&a===S.tTi.FULL_SIZED;default:return!1}},[S.ANe.EMAILS_TO_MYSELF_LEFT_CUE]:({action:e})=>{switch(e.type){case $c.OPEN_PAGE_REQUESTED:{const t=e.listId;return(0,Rc.aY)(t)===S.v6P.EMAILS_TO_MYSELF}default:return!1}},[S.ANe.EMAILS_TO_MYSELF_TOOLTIP]:({state:e,action:t})=>{switch(t.type){case $c.OPEN_PAGE_REQUESTED:{const{getAllValidSendEmailsForEmailsToMyself:s}=(0,Oc.selectors)(e),a=t.listId,n=(0,Rc.aY)(a)===S.v6P.EMAILS_TO_MYSELF,r=s();return n&&r.length>=2}case $c.FEATURE_CLOSED:{if(t.name!==S.ANe.EMAILS_TO_MYSELF_LEFT_CUE)return!1;const{getAllValidSendEmailsForEmailsToMyself:s,getRoute:a}=(0,Oc.selectors)(e),n=s(),r=a();return(0,Rc.ju)(r)&&n.length>=2}default:return!1}},[S.ANe.TOUCHPOINT_UPSELL]:({action:e})=>{switch(e.type){case $c.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:return!!e.mailoverlay;default:return!1}},[S.ANe.READABILITY_MODE_CUE]:({action:e})=>{switch(e.type){case $c.LAUNCH_COMPLETED:return!0;case $c.FEATURE_CLOSED:return e.name===S.ANe.THEMES_CUE_V3;default:return!1}},[S.ANe.RM_SETTINGS_CUE]:({action:e})=>e.name===S.ANe.READABILITY_MODE_CUE,[S.ANe.TODO_ONBOARDING_CUE_PART1]:({state:e})=>{const{getRoute:t,getFoldersSelectors:s}=(0,Oc.selectors)(e),{isInboxFolder:a}=s(),n=t(),r=(0,Rc.LY)(n),o=(0,Rc.Fh)(r);return!(n.name!==S.n8z.FOLDER||!a(o))},[S.ANe.TODO_ONBOARDING_CUE_PART2]:({action:e})=>{const{name:t,type:s,i13nModel:a}=e;return s===$c.FEATURE_CLOSED&&t===S.ANe.TODO_ONBOARDING_CUE_PART1&&((null==a?void 0:a.mKey)===`cue_${S.ANe.TODO_ONBOARDING_CUE_PART1}_next_sequence`||(null==a?void 0:a.mKey)===`cue_${S.ANe.TODO_ONBOARDING_CUE_PART1}_direct_clk`)},[S.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE]:NR,[S.ANe.EMAILS_TO_MYSELF_MOBILE_FEEDBACK_CUE]:NR,[S.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2]:({state:e,action:t})=>{switch(t.type){case $c.POST_LAUNCH_SYNC_SUCCEEDED:{const{getEnvironmentSelectors:t}=(0,Oc.selectors)(e),{getBrowser:s,getUserAdBlockerData:a}=t(),n=a(),{browserName:r}=s(),o=n[r]||[];return o.includes("athenaDetected")||o.includes("adblockDetected")}default:return!1}},[S.ANe.APP_INSTALL_CUE_V3_MINI]:LR,[S.ANe.APP_UPSELL_PILL]:LR,[S.ANe.MAIL_PLUS_ONBOARDING_CUE]:({state:e,action:t})=>{switch(t.type){case $c.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:{const{subscriptionStartDate:s}=t.data||{},{getSetting:a}=(0,Oc.selectors)(e),n=a(S.Zrf.MAIL_PLUS_ONBOARDING_CUE_PERIOD),r=(0,M.hM)(s,Date.now());return!isNaN(r)&&r<=n}}return!1},[S.ANe.NOTIFICATIONS_COMPOSE_UPSELL_CUE]:({state:e,action:t})=>{var s,a,n,r,o,i,l,c,d;const{getSetting:_}=(0,Oc.selectors)(e),E=_(S.Zrf.NOTIFICATION),u=null==t||null===(s=t.message)||void 0===s||null===(a=s.headers)||void 0===a?void 0:a.from,m=null==t||null===(n=t.message)||void 0===n||null===(r=n.headers)||void 0===r?void 0:r.to,p=null==t||null===(o=t.message)||void 0===o||null===(i=o.headers)||void 0===i?void 0:i.cc,C=null==t||null===(l=t.message)||void 0===l||null===(c=l.headers)||void 0===c?void 0:c.bcc,A=null==u||null===(d=u[0])||void 0===d?void 0:d.email;return![...m,...p,...C].map((({email:e})=>e)).includes(A)&&!E},[S.ANe.NOTIFICATIONS_STICKY_UPSELL_CUE]:({state:e})=>{const{getSetting:t}=(0,Oc.selectors)(e);return!t(S.Zrf.NOTIFICATION)},[S.ANe.NOTIFICATIONS_READ_UPSELL_CUE]:({state:e,action:t})=>{const{getSetting:s,getMessagesSelectors:a,getMessageIdsFromMessageGroupId:n}=(0,Oc.selectors)(e),{getSchemaOrg:r}=a(),o=s(S.Zrf.NOTIFICATION);if(t.type===$c.OPEN_PAGE_REQUESTED){var i,l,c;const{route:e,previousRoute:s}=t;if("message_from_folder_list"!==(null==s?void 0:s.name)||"folder"!==(null==e?void 0:e.name))return!1;const a=null===(c=r(null===(i=n(null==s||null===(l=s.params)||void 0===l?void 0:l.groupId))||void 0===i?void 0:i[0]))||void 0===c?void 0:c[0];if(!(0,fR.B)(null==a?void 0:a.schema))return!1}return!o},[S.ANe.NOTIFICATIONS_REFRESH_UPSELL_CUE]:({state:e})=>{const{getSetting:t}=(0,Oc.selectors)(e),s=t(S.Zrf.NOTIFICATION);if(!(0,I.jU)())return!1;const a=new bA.t2({window}).getClientParam(bA.uj.REFRESH_COUNT);return!s&&a>=3}},bR=({isMobileRoute:e,namespace:t,mailboxAttributes:s={}})=>{const a=(e,t="value")=>null===t?s[e]:(s[e]||{})[t],n=s[S.CbW.BLOCK_IMAGES]?!s[S.CbW.BLOCK_IMAGES].value:void 0;return Object.keys(s).length?{[S.ANe.SHOW_TODAY_AT_SIGNIN]:a(S.CbW.SHOW_TODAY_AT_SIGNIN),[S.Zrf.SHOW_SEND_CONFIRMATION_PAGE]:a(S.CbW.SHOW_SEND_CONFIRMATION_PAGE),[S.Zrf.SPELL_CHECK_BEFORE_SEND]:a(S.CbW.SPELL_CHECK_BEFORE_SEND),[S.Zrf.THEME]:a(e?S.CbW.MOBILE_THEME:S.CbW.THEME),[S.Zrf.THEME_MODE]:a(e?S.CbW.MOBILE_THEME_MODE:S.CbW.THEME_MODE),[S.Zrf.MSG_LIST_DENSITY]:a(t===S.Tzw.AOL?S.CbW.AOL_MSG_LIST_DENSITY:S.CbW.MSG_LIST_DENSITY),[S.Zrf.PREVIEW_PANE]:a(S.CbW.PREVIEW_PANE),[S.Zrf.SNIPPETS]:a(e?S.CbW.MOBILE_SNIPPETS:S.CbW.SNIPPETS),[S.Zrf.COMPOSE_FONT_FAMILY]:a(S.CbW.COMPOSE_FONT_FAMILY),[S.Zrf.COMPOSE_FONT_SIZE]:a(S.CbW.COMPOSE_FONT_SIZE),[S.Zrf.DESKTOP_NOTIFICATION]:a(S.CbW.DESKTOP_NOTIFICATION),[S.Zrf.MOBILE_NOTIFICATION]:a(S.CbW.MOBILE_NOTIFICATION),[S.Zrf.MARK_AS_READ_INTERVAL]:a(S.CbW.MARK_AS_READ_INTERVAL),[S.Zrf.DELIVERY_BLOCKED_SENDERS]:a(S.CbW.DELIVERY_BLOCKED_SENDERS,"senders"),[S.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS]:a(S.CbW.PINNED_EMAILS_IDS_AND_TIMESTAMPS),[S.Zrf.SHOW_IMAGES]:e?a(S.CbW.MOBILE_SHOW_IMAGES):n,[S.Zrf.LINK_ENHANCR]:a(S.CbW.LINK_ENHANCER),[S.Zrf.COMPOSE_FORMAT]:a(S.CbW.COMPOSE_FORMAT),[S.Zrf.CONSENT_EVENTS]:a(S.CbW.CONSENT_EVENTS),[S.Zrf.VACATION_PREFERENCES]:a(S.CbW.VACATION_PREFERENCES,null),[S.Zrf.DEA_BASE_NAME]:a(S.CbW.DEA_BASE_NAME,null),[S.Zrf.MAILBOX_SIZE]:a(S.CbW.MAILBOX_SIZE,null),[S.Zrf.MESSAGE_FILTERS]:a(S.CbW.MESSAGE_FILTERS,"filters"),[S.Zrf.ACTION_AFTER_MSG_MOVE]:a(S.CbW.ACTION_AFTER_MSG_MOVE),[S.Zrf.SHOW_CUSTOM_FOLDERS]:a(S.CbW.SHOW_CUSTOM_FOLDERS),[S.Zrf.SHOW_SMART_VIEWS]:a(S.CbW.EXPAND_SMART_VIEWS),[S.Zrf.MAIL_TABS]:a(S.CbW.MAIL_TABS),[S.Zrf.HIDE_AD]:a(S.CbW.HIDE_AD),[S.Zrf.EXPANDED_FOLDERS]:a(S.CbW.EXPANDED_FOLDERS),[S.Zrf.STATIONERY_DEFAULT_THEME]:a(S.CbW.STATIONERY_DEFAULT_THEME),[S.Zrf.RECENTLY_USED_EMOJIS]:a(S.CbW.RECENTLY_USED_EMOJIS),[S.Zrf.SYSTEM_TABS]:a(S.CbW.SYSTEM_TABS),[S.Zrf.SCOUT_ONBOARDING]:a(S.CbW.SCOUT_ONBOARDING),[S.Zrf.AD_BLOCK_FEATURE_CUE_ID]:a(S.CbW.AD_BLOCK_FEATURE_CUE_ID),[S.Zrf.USE_RICH_TEXT]:a(S.CbW.USE_RICH_TEXT),[S.Zrf.HIDE_FORMAT_TOOLBAR]:a(S.CbW.HIDE_FORMAT_TOOLBAR),[S.Zrf.BREAKING_NEWS_SETTINGS]:a(S.CbW.BREAKING_NEWS),[S.Zrf.PACKAGE_TRACKING_SETTINGS]:a(S.CbW.PACKAGE_TRACKING),[S.Zrf.DEALS_STORIES_SETTINGS]:a(S.CbW.DEALS_STORIES),[S.Zrf.AMP_EMAIL]:a(S.CbW.AMP_EMAIL,"ampEmail"),[S.Zrf.AUTO_OPEN_FIRST_MESSAGE]:a(S.CbW.AUTO_OPEN_FIRST_MESSAGE,S.CbW.AUTO_OPEN_FIRST_MESSAGE),[S.Zrf.INBOX_STYLE]:a(S.CbW.INBOX_STYLE,S.CbW.INBOX_STYLE),[S.ANe.IS_REINDEXABLE]:a(S.CbW.IS_REINDEXABLE,S.CbW.IS_REINDEXABLE),[S.Zrf.SUPPRESSED_UPSELLS]:a(S.CbW.SUPPRESSED_UPSELLS,S.CbW.SUPPRESSED_UPSELLS),[S.Zrf.MIGRATION_STATUS]:a(S.CbW.MIGRATION_STATUS,S.CbW.MIGRATION_STATUS),[S.ANe.AUTO_FORWARD_ALLOWED]:a(S.CbW.AUTO_FORWARD_ALLOWED),[S.ANe.PREMIUM_DEA_ALLOWED]:a(S.CbW.PREMIUM_DEA_ALLOWED),[S.Zrf.DISABLED_MESSAGE_READ_CARDS]:a(S.CbW.DISABLED_MESSAGE_READ_CARDS,S.CbW.DISABLED_MESSAGE_READ_CARDS),[S.Zrf.NUDGE_TO_REPLY_SETTING]:a(S.CbW.NUDGE_TO_REPLY,"web.nudgeToReply"),[S.Zrf.PLAY_SOUND]:a(S.CbW.PLAY_SOUND),[S.Zrf.PLAY_SOUND_MODE]:a(S.CbW.PLAY_SOUND_MODE),[S.Zrf.READABILITY_MODE]:a(S.CbW.READABILITY_MODE),[S.Zrf.EXPERIMENTAL_FEATURES]:a(S.CbW.EXPERIMENTAL_FEATURES),[S.Zrf.DESKTOP_MAIL_VERSION]:a(S.CbW.DESKTOP_MAIL_VERSION)}:{}},yR=({__initializeFeatures__:e,featureSequence:t={},featureCueTimestamps:s={},featureCueUserResponse:a={},config:n={},queryStringOverrides:r={}})=>(o,i)=>{const{type:l,name:c,mailboxAttributes:d,..._}=i,E=t[l]||[],u=(({state:e={},action:t={},initializedFeatures:s={},featureCueTimestamps:a={},featureCueUserResponse:n={}})=>r=>{const o=s[r]||{},{isEnabled:i}=(0,Oc.selectors)(e).getFeaturesSelectors(),l=i(S.ANe.SCOUT_PREDICATE);if(i(S.ANe.SCOUT_RECURRING)&&o.isFeatureCue&&o.recurringInterval&&a[r]&&!o.reShowInSession){const e=Math.floor(Date.now()/1e3)-parseInt(a[r],10);if(e>0&&e<o.recurringInterval)return!1}return!l||"function"!=typeof PR[r]||PR[r]({state:e,action:t,featureName:r,featureCueTimestamps:a,featureCueUserResponse:n})})({state:o,action:i,initializedFeatures:e,featureCueTimestamps:s,featureCueUserResponse:a});switch(l){case $c.LAUNCH_PAGE_REQUESTED:return{...i,features:{...n}};case $c.INITIAL_STATE:{const[t]=E.filter(u),{responses:s}=d||{},{isMobileRoute:l,getEnvironmentSelectors:c}=(0,Oc.selectors)(o),m=c().getUserNamespace(),p=bR({isMobileRoute:l(),namespace:m,mailboxAttributes:s});Object.assign(p,r);const C=Object.keys(e).reduce(((s,a)=>(s[a]=(a===t||!!e[a].enabled)&&u(a),s)),{}),A=Object.keys(n).filter((e=>"boolean"!=typeof n[e]&&!(e in p))).reduce(((e,t)=>(e[t]=n[t],e)),p);return{...i,features:Object.assign({},C,A,_.optedOutMarketingProducts?{[S.Zrf.MARKETING_PREFERENCES_SETTING]:_.optedOutMarketingProducts}:null),nextFeature:t||"",featureCues:Object.keys(e).filter((t=>e[t].isFeatureCue)).reduce(((t,s)=>({...t,[s]:{isShown:!1,isKeySaved:!1,isPersistent:!!e[s].isPersistent,subkey:e[s].subkey,userResponse:a[s]||"0",action:e[s].action||[],nextFeatureCues:e[s].nextFeatureCues||{},recurringInterval:e[s].recurringInterval||0,reShowInSession:e[s].reShowInSession||!1,isFeatureCue:!0}})),{})}}case $c.SETTINGS_BLOCKED_SENDERS_RECEIVED:case $c.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case $c.COMPOSE_ATTRIBUTES_RECEIVED:case $c.POST_LAUNCH_SYNC_SUCCEEDED:case $c.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{mailboxAttributes:e}=i,{isMobileRoute:t,getEnvironmentSelectors:s}=(0,Oc.selectors)(o),a=s().getUserNamespace(),n=bR({isMobileRoute:t(),namespace:a,mailboxAttributes:e}),[r]=E.filter(u);return{...i,features:n,...r?{nextFeature:r}:{}}}case $c.FEATURE_TRY_NOW_REQUESTED:case $c.FEATURE_DISABLED:case $c.FEATURE_CLOSED:case $c.FEATURE_CUE_NOTIFICATION_CLOSED:{if(!c)return i;const{nextFeatureCues:t={}}=e[c]||{},s=t[l],a=s&&u(s);return{..._,name:c,type:l,nextFeature:a?s:null}}default:{const e=(0,Oc.selectors)(o),t=e.isInboxStyleNewOldMail(),[s]=e.getFeatureCueSelectors().shownFeatures().filter((0,Oc.selectors)(o).getFeaturesSelectors().isEnabled),[a]=s?[]:E.filter((e=>!(0,Oc.selectors)(o).getFeatureCueSelectors().isShown(e))).filter(u);return a?{...i,nextFeature:a,newOldMailInboxStyle:t}:{...i,newOldMailInboxStyle:t}}}},vR="KEYWORD";function FR(e,t,s){const{isMessageRoute:a,getRoute:n}=s,r=t.folder,o=t.destinationFolder,i=(0,ds.IZ)(o),l=(0,ds.IZ)(r),c=n();let d=function(e){const t=100,s={[S.Sck.INBOX]:1,[S.Sck.USER]:1,[S.Sck.ARCHIVE]:1,[S.Sck.BULK]:2,[S.Sck.TRASH]:2,[S.Sck.SENT]:3,[S.Sck.DRAFT]:4};return e.reduce(((e,a)=>{const n=s[e]||t;return n<(s[a]||t)?n:a}),"")}(e);if(d||(d=vR),!function(e,t){return e.accountId===t.accountId}(r,o))return!1;if(r.id===o.id&&i!==S.Sck.TRASH)return!1;switch(d){case S.Sck.INBOX:case S.Sck.USER:case S.Sck.ARCHIVE:if(a()&&!t.isExplicitlySelected)return l!==S.Sck.DRAFT;if(kR(l))return t.isExplicitlySelected;if(UR(l)){const{isExplicitlySelected:e}=t,s=c.name===S.n8z.Search||c.name===S.n8z.MESSAGE_FROM_SEARCH_LIST;return e||s}return!wR(l)&&!wR(i);case S.Sck.SENT:if(a()&&!t.isExplicitlySelected)return l!==S.Sck.DRAFT;if(kR(l))return t.isExplicitlySelected;if(!UR(l)){const{isExplicitlySelected:e}=t,s=c.name===S.n8z.Search||c.name===S.n8z.MESSAGE_FROM_SEARCH_LIST;return e||s}return!wR(i);case S.Sck.DRAFT:return a()&&!t.isExplicitlySelected?l!==S.Sck.DRAFT:l===S.Sck.DRAFT&&(i===S.Sck.TRASH||i===S.Sck.SENT);case S.Sck.TRASH:case S.Sck.BULK:return!wR(i);case vR:return kR(l)?i===S.Sck.TRASH:UR(l)?i!==S.Sck.DRAFT&&i!==S.Sck.BULK:!wR(i);default:return!1}}function UR(e){return e===S.Sck.SENT}function kR(e){return e===S.Sck.DRAFT}function wR(e){return e===S.Sck.DRAFT||e===S.Sck.SENT}const GR={isReadMessage:e=>e.flags.read,isUnreadMessage:e=>!e.flags.read,isStarredMessage:e=>e.flags.flagged,isUnstarredMessage:e=>!e.flags.flagged,isRecentlySentMessage:e=>t=>e.isSendRequested(t.csid),isMoveableMessage:(e,t)=>s=>FR(e,s,t),isFromSenders:e=>t=>function(e,t){if(t.fromAddresses&&t.fromAddresses.some((t=>-1!==e.indexOf(t.email))))return!0;return!1}(e,t),isRecentOrUnreadMessage:e=>e.flags.recent||!e.flags.read,isMoveableOrReadMessage:(e,t)=>s=>FR(e,s,t)||s.flags.read,isMoveableOrUnreadMessage:(e,t)=>s=>FR(e,s,t)||!s.flags.read,default:()=>!1};var HR=s(73498);const{TRASH:BR,BULK:xR,DRAFT:VR}=S.Sck,ZR=e=>1===e.length&&/[a-z]/i.test(e),WR=e=>-1!==[S.Ewo.READ_CHANGE_FOLDER_ITEMS,S.Ewo.ARCHIVE_FOLDER_ITEMS,S.Ewo.DELETE_FOLDER_ITEMS,S.Ewo.DELETE_ALL_FROM_SENDERS].indexOf(e),KR=({listId:e,acctId:t,folderId:s,senderEmailIds:a,filterUnread:n=!1,emailsCount:r=0,isSmartView:o})=>{var i;const l=(0,Rc.Q7)(e);if((0,m.Z)(r<=1e4,"emailsCount exceeds Jedy limit of 10k messages"),a.length>0)return s?`folderId:${s} count:${r}`+a.reduce(((e,t)=>e+` fromEmail:${t}`),""):`acctId:${t} count:${r}`+a.reduce(((e,t)=>e+` fromEmail:${t}`),"");let c="";s?c+=`folderId:${s} `:o&&(c+=`acctId:${t} `),l&&(c+=`keyword:(${l}) `);let d="";const _=(0,Rc.C4)(e);var E;if(null!==(i=[S.ukn.FROM,S.ukn.TO,S.ukn.ALL])&&void 0!==i&&i.includes(_))switch(d=null!==(E=(0,Rc.Ob)(e))&&void 0!==E?E:"",_){case S.ukn.FROM:c+=d.reduce(((e,t)=>e+`fromEmail:${t} `),"");break;case S.ukn.TO:c+=d.reduce(((e,t)=>e+`toEmail:${t} `),"");break;case S.ukn.ALL:c+=d.reduce(((e,t)=>e+`fromEmail:${t} OR toEmail:${t} `),"")}return c+=`count:${r} `,n&&(c+="is:unread "),c=c.trim(),c};function zR(e={},t,s){const{folder:a,destinationFolder:n}=e;if(!a)return!1;if([$c.READ_CHANGE_REQUESTED,$c.STAR_CHANGE_REQUESTED,$c.RECENT_AND_READ_CHANGE_REQUESTED,$c.MOVE_AND_READ_CHANGE_REQUESTED].includes(s))return!1;const r=t(a.id),o=n?t(n.id):void 0;return!((0,Rc.WN)(e.listId)!==S.F6k.MESSAGES||!e.isAffected)&&((!o||r!==xR||o===BR)&&((s!==$c.MOVE_ITEMS_REQUESTED||-1===[BR,xR].indexOf(r))&&-1!==[BR,xR,VR].indexOf(r)))}const YR=e=>-1!==[S.F6k.PINNED_EMAILS,S.F6k.MESSAGES,S.F6k.IMAGES,S.F6k.DOCUMENTS,S.F6k.COUPON_CARDS,S.F6k.TRAVEL_CARDS,S.F6k.REFUND_CARDS].indexOf((0,Rc.WN)(e)),jR=(e,t)=>s=>{const{destinationFolderType:a,checkForDuplicates:n}=t,{getFoldersSelectors:r,doesMessageGroupIdExist:o,getMessagesSelectors:i,getFeaturesSelectors:l,getAttachmentIdsByMessageId:c,getMessageCsid:d,getMessageFolderId:_,getMessageIdsFromMessageGroupId:E,getAccountById:u,getMessageModSeq:m}=(0,Oc.selectors)(e),{getAccountIdByFolderId:p,getFolderIdsFromFolderType:C,getFolderTotal:A,getPrimaryFolderTypeByFolderId:T}=r(),{getConversationId:I,getFromAddresses:h}=i(),{isEnabled:g}=l(),O=((e,t)=>s=>{const{type:a}=t,{getMessageFlags:n}=(0,Oc.selectors)(e),r=n(s)||{};switch(a){case $c.V3_MESSAGE_SEND_SUCCEEDED:case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const{message:{inReplyTo:e={}}={}}=t,{messageReference:{id:a}={},replied:n,forwarded:o}=e;if(a===s)return{...r,...n?{answered:!0}:null,...o?{forwarded:!0}:null}}}return r})(e,t),D=g(S.ANe.CONVERSATIONS);return s.filter((e=>YR(e.listId)&&o(e.id))).map((e=>{const r=E(e.id);return r.map((o=>{const i=_(o),l=A(i),E=p(i),g=u(E),R=a?C(a,E)[0]:t.destinationFolderId,N=R?XR(R,T(R),p(R)):void 0,L=D?I(o):o,f=(e.messageIds||[]).indexOf(o)>=0||1===r.length,M=!e.messageIds&&r.indexOf(o)>=0,P=h(o),b=(({count:e,checkForDuplicates:t=!1,account:s,destinationFolder:a,conversations:n})=>(t||e<=S.xRm)&&!!a&&(-1!==a.types.indexOf(S.Sck.TRASH)||-1!==a.types.indexOf(S.Sck.BULK))&&n&&"IMAPIN"===s.type&&-1!==S.nht.indexOf(s.serverUri))({count:s.length,checkForDuplicates:n,account:g,destinationFolder:N,conversations:D});return{...e,messageId:o,csid:d(o),modSeq:m(o),isExplicitlySelected:f,isImplicitlySelected:M,groupId:L,folder:XR(i,T(i),E,l),destinationFolder:N,flags:O(o),attachmentIds:c(o),fromAddresses:P,deleteDuplicates:b}}))})).reduce(((e,t)=>e.concat(t)),[])},qR=(e,t)=>{const{streamId:s,streamItem:a}=t,{doesStreamExist:n,getSelectedStreamItems:r,getCursorItem:o}=(0,Oc.selectors)(e),i=n(s)?o(s):void 0,l=n(s)?r(s):[];let c=[];a?c=[a]:t.batchRemoveItems&&t.batchDelete?c=t.batchRemoveItems:t.allSelected?c=t.streamItems.map((({id:e,listId:t})=>({id:e,listId:t}))):l.length?c=l:i&&(c=[i]);return((e,t)=>s=>{const a=jR(e,t);return[...s.filter((e=>-1===[S.F6k.MESSAGES,S.F6k.PINNED_EMAILS,S.F6k.COUPON_CARDS].indexOf((0,Rc.WN)(e.listId)))),...a(s)]})(e,t)(c)};function XR(e,t,s,a){return{id:e,types:[t],accountId:s,total:a}}const QR=(e,t)=>{const{doesListExist:s,getListsSelectors:a,getContactListSelectors:n}=(0,Oc.selectors)(e),{getContactById:r}=n(),{getListIdsByListFilter:o,getItemIds:i,getListIdsByContentType:l}=a(),c=(0,Rc.uh)(S.ukn.USER_CREATED_CONTACTS,""),d=(0,Rc.uh)(S.ukn.GROUPS,S.c8t),_=o(S.ukn.IMPORTANT_CONTACTS),E=o(S.ukn.GROUPS),u=(0,Rc.uh)(S.ukn.PRINT_CONTACTS),m=[c];switch(s(d)&&m.push(d),t.type){case $c.CONTACTS_SORT_ORDER_CHANGED:case $c.CREATE_CONTACT_SUCCEEDED:return s(u)&&m.push(u),m;case $c.CONTACT_SAVE_SUCCEEDED:{var p;const{id:e,deletedContactId:s}=t.contact,a=s||e,n=(null===(p=r(a))||void 0===p?void 0:p.emails)||[];return _.forEach((e=>{i(e).some((e=>n.some((t=>t===e))))&&m.push(e)})),l(S.ukn.PEOPLE).filter((e=>(0,Rc.C4)(e)===S.ukn.WITH_KEYWORD)).forEach((e=>{i(e).some((e=>e===a))&&m.push(e)})),E.forEach((e=>{i(e).some((e=>"object"==typeof e?a===e.id:a===e))&&m.push(e)})),m}default:return m}},JR=(e,t,s=[])=>{const{getFoldersSelectors:a,getListsSelectors:n}=(0,Oc.selectors)(e),{getFolderIdsByName:r,doesFolderIdExist:o}=a(),{getListIdsByContentType:i,getItemIds:l}=n();switch(t.type){case $c.CONTACTS_SORT_ORDER_CHANGED:return QR(e,t).map((e=>({listId:e})));case $c.COUPONS_REMOVE_TAG_DECO_REQUESTED:return i(S.F6k.COUPON_CARDS).map((e=>({listId:e})));case $c.CREATE_CONTACT_SUCCEEDED:{const{listId:s}=t.streamItem;return[{listId:s},...QR(e,t).map((e=>({listId:e})))]}case $c.CONTACT_SAVE_SUCCEEDED:{const{listId:s,oldListId:a}=t.streamItem;return[{listId:s},{listId:a},...QR(e,t).map((e=>({listId:e})))]}case $c.DELETE_CONTACT_REQUESTED:{const{getContactListSelectors:s}=(0,Oc.selectors)(e),{getContactById:a}=s(),n=t.streamItems.reduce(((e,{id:t})=>e.concat(a(t).emails)),[]);return i(S.F6k.CONTACTS).concat(i(S.F6k.PEOPLE).filter((e=>(0,Rc.aY)(e)===S.qd8.CONTACT_DETAILS||(0,Rc.C4)(e)===S.ukn.WITH_KEYWORD))).reduce(((e,s)=>{const a=l(s);let r=!1;const o=(0,Rc.C4)(s);return o===S.ukn.PRINT_CONTACTS?e.concat({listId:s,markAsDirty:!1}):o===S.ukn.IMPORTANT_CONTACTS||o===S.ukn.GROUPS?(r=a.some((e=>n.some((t=>"object"==typeof e?e.type===HR.df.EMAIL&&t===e.value:t===e)))),r?e.concat({listId:s,itemsToUpdate:n}):e):(r=a.some((e=>t.streamItems.some((t=>e===t.id)))),r?e.concat({listId:s}):e)}),[])}}return i(S.F6k.MESSAGES).map((e=>{const{folderIds:t=[],folderNames:s=[]}=(0,Rc.Mz)(e);return{listId:e,folderIds:s.reduce(((e,t)=>e.concat(r(t))),[]).concat(t).filter(o)}})).concat(i(S.F6k.IMAGES).map((e=>({listId:e})))).concat(i(S.F6k.DOCUMENTS).map((e=>({listId:e})))).concat(i(S.F6k.PINNED_EMAILS).map((e=>({listId:e})))).filter((({listId:e})=>-1===s.indexOf(e)))};function $R(e,t){const{type:s,itemToUpdate:a}=t,n=(0,Oc.selectors)(e),{getFoldersSelectors:r}=n,{doesFolderIdExist:o,getPrimaryFolderTypeByFolderId:i,getFolderIdsByName:l}=r();switch(s){case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case $c.V3_MESSAGE_SEND_SUCCEEDED:return GR.isRecentlySentMessage(n);case $c.UNDO_MOVE_REQUESTED:case $c.MOVE_ITEMS_REQUESTED:case $c.DELETE_ITEMS_REQUESTED:{const{folderIds:e=[],folderNames:t=[]}=(0,Rc.Mz)(a.listId),s=t.reduce(((e,t)=>e.concat(l(t))),[]).concat(e).filter(o).map(i);return GR.isMoveableMessage(s,n)}case $c.MOVE_AND_READ_CHANGE_REQUESTED:{(0,m.Z)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`);const{folderIds:e=[],folderNames:r=[]}=(0,Rc.Mz)(a.listId),c=r.reduce(((e,t)=>e.concat(l(t))),[]).concat(e).filter(o).map(i),d=t.destinationListId&&(0,Rc.kw)(t.destinationListId);return t.isRead?e=>d===S.K8C.NEWMAIL||GR.isMoveableOrReadMessage(c,n)(e):e=>d===S.K8C.OLDMAIL||GR.isMoveableOrUnreadMessage(c,n)(e)}case $c.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{deleteItemsFromSenders:e=[]}=t;return GR.isFromSenders(e)}case $c.READ_CHANGE_REQUESTED:return(0,m.Z)("boolean"==typeof t.isRead,`Action ${s} does not have isRead prop.`),t.isRead?GR.isReadMessage:GR.isUnreadMessage;case $c.RECENT_AND_READ_CHANGE_REQUESTED:return GR.isRecentOrUnreadMessage;case $c.STAR_CHANGE_REQUESTED:return(0,m.Z)("boolean"==typeof t.isStarred,`Action ${s} does not have isStarred prop.`),t.isStarred?GR.isStarredMessage:GR.isUnstarredMessage;default:(0,m.Z)(!1,`Action ${s} does not have an associated rule with it.`)}}const eN=(e,t)=>{const{type:s,streamId:a,streamItem:n,staleFolderIds:r=[]}=t;let o;const{doesStreamExist:i,getStreamSelectionType:l}=(0,Oc.selectors)(e),c=i(a)&&l(a)?l(a):null;if(s===$c.CHECK_MAIL_RECEIVED_WITH_UPDATES&&r.length)return{...t,listsToUpdate:JR(e,t)};if(s===$c.OPEN_PAGE_REQUESTED){const{doesListExist:s,getListStatus:a}=(0,Oc.selectors)(e),{forceSync:n=!1,listId:r,i13nModel:o={}}=t,i=o.mKey===cc.JE.SEARCH_BUTTON;if(s(r)&&a(r)===S.DAQ.ERROR&&(n||i))return{...t,listsToUpdate:[{listId:r}],forceSync:!0}}if(s===$c.UPDATE_ITEMS_SUCCEEDED&&WR(t.triageActionType)){return{...t,listsToUpdate:JR(e,t),forceSync:!0}}if([$c.PINNED_EMAIL_PIN_REQUESTED,$c.PINNED_EMAIL_UNPIN_REQUESTED].includes(null==t?void 0:t.type))return{...t,itemsToUpdate:qR(e,t),listsToUpdate:JR(e,t)};if(s===$c.UPDATE_ITEMS_FAILED){const{deletedMessages:s=[]}=t;if(0===s.length)return t;const{getFoldersSelectors:a,getGroupIdContainingMessageId:n,getMessageFolderId:r,getMessageIdsFromMessageGroupId:o,getAccountIdByFolderId:i,getPrimaryFolderTypeByFolderId:l,getMessageFlags:c,getRoute:d,getAttachmentIdsByMessageId:_}=(0,Oc.selectors)(e),E=d(),u=(0,Rc.LY)(E),m=[];return s.forEach((e=>{const t=n(e.id),s=r(e.id),d=(0,Rc.Kw)(s),E=o(t,d),u=i(s),S=l(s),p=a().getFolderTotal(s);E.forEach((a=>{m.push({id:t,groupId:t,messageId:a,listId:d,isAffected:a===e.id,folder:XR(s,S,u,p),flags:c(a),attachmentIds:_(a),permanentDelete:!0})}))})),m.length>0?{...t,itemsToDelete:m,listsToUpdate:[{listId:u}],listsToRemove:JR(e,t,[u]).map((({listId:e})=>e))}:t}if(s===$c.CONTACTS_SORT_ORDER_CHANGED)return{...t,listsToUpdate:JR(e,t)};if(!a&&s!==$c.DELETE_CONTACT_REQUESTED&&s!==$c.CONTACT_SAVE_SUCCEEDED&&s!==$c.CREATE_CONTACT_SUCCEEDED)return t;switch(s){case $c.UNDO_MOVE_AND_READ_REQUESTED:case $c.UNDO_MOVE_REQUESTED:o=t.itemsToUpdate;break;case $c.V3_MESSAGE_SAVE_SUCCEEDED:if(!n)break;o=[n];break;case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case $c.V3_MESSAGE_SEND_SUCCEEDED:case $c.MOVE_ITEMS_REQUESTED:case $c.MOVE_AND_READ_CHANGE_REQUESTED:case $c.DELETE_ITEMS_REQUESTED:case $c.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case $c.READ_CHANGE_REQUESTED:case $c.RECENT_AND_READ_CHANGE_REQUESTED:case $c.STAR_CHANGE_REQUESTED:{const{getFoldersSelectors:n,getStreamSelectionType:r,getRoute:i,doesStreamExist:l,getFeaturesSelectors:c,getNumberOfSelectedItemsInList:d}=(0,Oc.selectors)(e),_=l(a)&&r(a)?r(a):S.ie0.NONE,E=c().getSetting(S.Zrf.BULK_ACTION_DIALOG_THRESHOLD),u=(t.listId?d(t.listId):0)<=E,m=!t.streamItem&&(_===S.ie0.BULK||_===S.ie0.ALL&&!u),{getPrimaryFolderTypeByFolderId:p}=n();if(WR(t.triageActionType)||m){const{folderId:a,flags:n,destinationFolderId:r,destinationFolderType:l,listId:c,permanent:d=!1}=t,_=c||(0,Rc.LY)(i()),E=a||(0,Rc.Fh)(_),u=n||(e=>{switch(e.type){case $c.READ_CHANGE_REQUESTED:return{read:!e.isRead};case $c.STAR_CHANGE_REQUESTED:return{flagged:!e.isStarred}}return{}})(t),C=((e,t)=>({acctId:s,folderId:a,flags:n={},destinationFolderId:r,destinationFolderType:o,permanentDelete:i,listId:l,senderEmailIds:c=[]})=>{var d;const{getFoldersSelectors:_,getNumberOfSelectedItemsInList:E,getSmartViewTypeFromListId:u}=(0,Oc.selectors)(e),{getAccountIdByFolderId:m,getPrimaryFolderTypeByFolderId:p,getFolderIdsFromFolderType:C,getFolderTotal:A}=_(),T=a?m(a):s;r||(r=o?C(o,T)[0]:void 0);const I=r?XR(r,p(r),m(r)):void 0,h=t.allSelected?null!==(d=t.count)&&void 0!==d?d:S.DTB:E(l),g=h>=S.DTB?Math.trunc(h/S.DTB):0,O=h%S.DTB,D=[];let R=a?A(a):0;for(let e=0;e<g;e++){const r=KR({listId:l,acctId:s,folderId:a,senderEmailIds:c,filterUnread:t.triageActionType===S.Ewo.READ_CHANGE_FOLDER_ITEMS,emailsCount:S.DTB,isSmartView:void 0!==u(l)});D.push({folder:a?XR(a,p(a),T,R):void 0,listId:l,messageQueryId:`${r} ${e}`,messageQuery:r,isBatch:!0,isAffected:!0,permanentDelete:i,flags:n,destinationFolder:I,isQueryBased:!0}),R-=S.DTB}if(O>0){const e=KR({listId:l,acctId:s,folderId:a,senderEmailIds:c,filterUnread:t.triageActionType===S.Ewo.READ_CHANGE_FOLDER_ITEMS,emailsCount:O,isSmartView:void 0!==u(l)});D.push({folder:a?XR(a,p(a),T,R-O):void 0,listId:l,messageQuery:e,messageQueryId:e,isBatch:!0,isAffected:!0,permanentDelete:i,flags:n,destinationFolder:I,isQueryBased:!0})}return D})(e,t),{getSelectedAccountId:A}=(0,Oc.selectors)(e),T=!(!E||-1===[S.Sck.BULK,S.Sck.TRASH].indexOf(p(E)));if(s===$c.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const{deleteItemsFromSenders:a=[]}=t;o=[...C({acctId:A(),folderId:T?E:void 0,flags:{},destinationFolderId:r,destinationFolderType:l,permanentDelete:d,listId:_,senderEmailIds:a})],o=o.concat(qR(e,t).filter((s=>$R(e,{...t,itemToUpdate:s})(s))).map((e=>{let t=Object.assign({},e,{isAffected:!0});return zR(t,p,s)&&(t.permanentDelete=!0,t=(0,h.oF)(t,["destinationFolder"])),t})))}else{o=[...C({acctId:A(),folderId:E,flags:u,destinationFolderId:r,destinationFolderType:l,permanentDelete:d,listId:_})]}if(!m)break}else o=[];o=o.concat(qR(e,t).map((a=>{const{isAffected:n=!1,isHamMove:r=!1}=t,o=$R(e,{...t,itemToUpdate:a});let i={...a,isAffected:(a.isExplicitlySelected||a.isImplicitlySelected)&&YR(a.listId)&&(o(a)||n)};!i.destinationFolder&&(s===$c.DELETE_ITEMS_REQUESTED||s===$c.MOVE_ITEMS_REQUESTED)||zR(i,p,s)?(i.permanentDelete=!0,i=(0,h.oF)(i,["destinationFolder"])):i.permanentDelete=!1;const l=(0,h.u9)(a,"destinationFolder.types",[]),c=(0,h.u9)(a,"folder.types",[]);return i.isSpamMove=!1,i.isHamMove=!1,s!==$c.DELETE_ITEMS_REQUESTED&&s!==$c.MOVE_ITEMS_REQUESTED||i.permanentDelete||(-1!==l.indexOf(S.Sck.BULK)?i.isSpamMove=!0:(-1!==c.indexOf(S.Sck.BULK)||r)&&(i.isHamMove=!0)),i})));break}case $c.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const{messageDecosPayloads:e}=t;o=e.map((e=>({id:e.messageId,isAffected:!0})));break}case $c.DELETE_CONTACT_REQUESTED:{const{getContactListSelectors:s,getListsSelectors:a}=(0,Oc.selectors)(e),{getItemIds:n}=a(),{getCurrentPaneListId:r,getContactById:i}=s(),l=r();t.streamId=l,t.streamItems=t.streamItem?[t.streamItem]:t.streamItems,o=t.streamItems.map((e=>{const t=i(e.id);return{...e,listId:n(l).find((t=>n(t).indexOf(e.id)>=0)),editToken:t.editToken,emails:t.emails,isAffected:!0}}));break}case $c.CREATE_CONTACT_SUCCEEDED:{const{getContactListSelectors:s}=(0,Oc.selectors)(e),{getCurrentPaneListId:a}=s(),n=a(),r=t.contact.name.charAt(0);t.streamId=n,t.streamItem={streamId:n,id:t.contact.id,listId:(0,Rc.tE)((0,Rc.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:ZR(r)?r.toUpperCase():"#"})},o=[{...t.streamItem,isAffected:!0}];break}case $c.CONTACT_SAVE_SUCCEEDED:{var d;const{getContactListSelectors:s}=(0,Oc.selectors)(e),{getCurrentPaneListId:a,getContactById:n}=s(),r=a(),{id:i,name:l,emails:c,deletedContactId:_}=t.contact,E=n(_||i),u=E.name,m=ZR(u.charAt(0))?u.charAt(0).toUpperCase():"#",p=null==l?void 0:l.charAt(0),C=(null===(d=E.emails)||void 0===d?void 0:d.filter(((e,t)=>e!==c[t])))||[],A=(0,Rc.tE)((0,Rc.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:ZR(p)?p.toUpperCase():"#"}),T=(0,Rc.tE)((0,Rc.uh)(S.ukn.USER_CREATED_CONTACTS,""),{name:m});t.streamId=r,t.streamItem={streamId:r,id:i,listId:A,oldListId:T,changedEmails:C},o=[{...t.streamItem,isAffected:!0}];break}}let _=[];if(!(t.type!==$c.DELETE_ITEMS_REQUESTED&&t.type!==$c.MOVE_ITEMS_REQUESTED||t.destinationFolderType!==S.Sck.TRASH&&t.destinationFolderType!==S.Sck.BULK)){const{getListsSelectors:t}=(0,Oc.selectors)(e),{getListIdsByContentType:s}=t();_=[].concat(s(S.F6k.COUPON_CARDS)).concat(s(S.F6k.REFUND_CARDS))}return o?{...t,itemsToUpdate:o,listsToUpdate:JR(e,t,_),listsToRemove:_,selectionType:c}:t},tN=(e,t)=>{const{type:s,simpleBody:a,messageIds:n=[],messageBodiesMap:r={},messageMetadataMap:o={},errorMessageIds:i=[]}=t;switch(s){case $c.INITIAL_STATE:case $c.MESSAGE_BODIES_RECEIVED:case $c.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case $c.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:{const e=Object.keys(r);if(!e.length&&!i.length)return t;const s=e.reduce(((e,t)=>{const{csid:s}=o[t]||{};return{...e,[t]:{body:r[t]},...s?{[s]:{body:r[t]}}:{}}}),{}),a=i.reduce(((e,t)=>({...e,[t]:{}})),{});return{...t,v3MessageBodiesMap:{...s,...a}}}case $c.MESSAGE_AUTO_SAVE_SUCCEEDED:case $c.MESSAGE_SAVE_SUCCEEDED:case $c.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case $c.V3_MESSAGE_SAVE_SUCCEEDED:case $c.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return{...t,v3MessageBodiesMap:{[t.message.id]:{body:a},...t.csid?{[t.csid]:{body:a}}:{}}};case $c.MESSAGE_GROUP_OPENED:case $c.MESSAGE_BODIES_FAILED:return n.length?{...t,v3MessageBodiesMap:n.reduce(((e,t)=>({...e,[t]:{}})),{})}:t;case $c.PREVIEW_MESSAGE_REQUESTED:case $c.OPEN_PAGE_REQUESTED:{const{streamItem:s={}}=t,{id:a,listId:n}=s;if(a&&n){const{getMessageIdsFromMessageGroupId:s,getMessageBodyState:r,getMessageBodyRetryCount:o}=(0,Oc.selectors)(e),i=(s(a,n)||[]).reduce(((e,t)=>{const s=r(t),a=o(t);return s===S.DAQ.ERROR&&a<=S.KW1?{...e,[t]:{}}:e}),{});return{...t,v3MessageBodiesMap:i}}return t}default:return t}},sN=S.AGu.Modes,aN=(e,t)=>{switch(t.type){case $c.V3_MESSAGE_SEND_REQUESTED:{const{getRoute:s}=(0,Oc.selectors)(e),a=(0,Rc.LY)(s());return{...t,listId:a}}case $c.DELETE_ITEMS_REQUESTED:{const{csid:s,listId:a,triageActionType:n}=t;if(n!==S.Ewo.DELETE_DRAFT)return t;const{getRoute:r,getDraftMessageId:o,getGroupIdContainingMessageId:i,getMainStreamListIds:l}=(0,Oc.selectors)(e),c=o(s),d=c?[c]:[],_=(0,$E.BA)(l(r())),E=c?i(c):void 0;return{...t,streamId:_,messageIds:d,messageGroupIds:E?[E]:[],streamItem:{listId:a,messageIds:d,id:E}}}case $c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return{...t,inReplyToMessageId:t.composeMode===sN.REPLY?t.message.id:null,inReplyAllToMessageId:t.composeMode===sN.REPLY_ALL?t.message.id:null,inForwardToMessageId:t.composeMode===sN.FORWARD?t.message.id:null};case $c.OPEN_COMPACT_COMPOSE:{const{getRoute:s,getSelectedAccountIdByRoute:a}=(0,Oc.selectors)(e),n=a(s());return{...t,accountId:n}}default:return t}},nN=({internal:e=!1})=>(t,s)=>{const{type:a}=s;switch(a){case $c.INITIAL_STATE:return{...s,internal:e};default:return s}},rN=(e,t)=>{switch(t.type){case $c.DELETE_ITEMS_REQUESTED:case $c.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView){const{getAdsSelectors:s,getSetting:a}=(0,Oc.selectors)(e),n=s(),r=n.getMessageReadAdRotationTimestamp(),o=n.getMessageReadAdRotationActive(),i=a(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL);return{...t,messageReadAdRotationTimestamp:r,messageReadAdRotationActive:o,messageReadAdRotationIdleInterval:i}}break;case $c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case $c.MESSAGE_CARD_EXPANSION_CHANGED:case $c.MESSAGE_CARD_FOCUSED:case $c.APPLICATION_VISIBILITY_DID_CHANGE:case $c.OPEN_PAGE_REQUESTED:{const{getAdsSelectors:s,getSetting:a,getFeaturesSelectors:n}=(0,Oc.selectors)(e),{isEnabled:r}=n(),o=s(),i=o.getMessageReadAdRotationTimestamp(),l=o.getMessageReadAdRotationActive(),c=a(S.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL),d=r(S.ANe.NO_AD_ROTATION_ON_COMPOSE);return{...t,messageReadAdRotationTimestamp:i,messageReadAdRotationActive:l,messageReadAdRotationIdleInterval:c,noAdRotationOnCompose:d}}}return t};var oN=s(87367);const iN=(e,t)=>{switch(t.type){case $c.OPEN_PAGE_REQUESTED:{if(t.route.name===S.n8z.SPONSORED_MESSAGE){const{getAdsSelectors:s}=(0,Oc.selectors)(e),{getGeminiAdDataFromCreativeId:a,getSponsoredAd:n}=s(),{creativeId:r}=(0,h.u9)(t,"route.params",{});return n(r)?t:{...t,sponsoredAd:a(r)}}if(t.route.name!==S.n8z.MESSAGE_FROM_FOLDER_LIST&&t.route.name!==S.n8z.MESSAGE_FROM_SEARCH_LIST)return t;const{getMessageFromAddress:s,doesMessageIdExist:a,getFeaturesSelectors:n,getMessageIdsFromMessageGroupId:r}=(0,Oc.selectors)(e),{isEnabled:o}=n(),i=(0,h.u9)(t,"route.params.groupId",null);if(i&&o(S.ANe.GEMINI_CONTEXTUAL_ADS)){const e=r(i),n=e&&e[0],o=a(n)&&s(n),l=o&&(0,oN.a7)(o);return{...t,geminiCategories:l}}break}}return t};var lN=s(70717),cN=s(85262);const dN=(e,t)=>{const{type:s}=t;switch(s){case $c.STAR_CHANGE_REQUESTED:case $c.READ_CHANGE_REQUESTED:{const{streamItem:s,streamId:a}=t,{doesStreamExist:n,getCursorItem:r,getSetting:o,isMessageRoute:i,getStreamsSelectors:l,getMessageGroupStreamItemsWithExpansionStates:c,getTabPages:d}=(0,Oc.selectors)(e),{getSelectedItemsSelectors:_}=l(),{isItemSelected:E}=n(a)?_(a):{},u=n(a)?r(a):{},m=o(S.Zrf.PREVIEW_PANE);if(s&&!t.isAutomatic&&(m&&Xc()(s,u)&&!E(s)||i())){const e=c(s);return{...t,persistStreamItemExpansionStates:e}}if(t.isAutomatic&&!d().find((e=>{var s;return e.params.groupId&&e.params.groupId===(null===(s=t.streamItem)||void 0===s?void 0:s.id)}))){const{messageIds:e=[],persistStreamItemExpansionStates:s}=t;return{...t,persistStreamItemExpansionStates:s.map(((t,a)=>-1!==e.indexOf(t.messageId)?{...t,expansionState:S.Lvq.TEMPORARY_EXPANSION}:a>0&&-1!==e.indexOf(s[a-1].messageId)?t.expansionState===S.Lvq.COLLAPSED?{...t,expansionState:S.Lvq.TEMPORARY_COLLAPSE}:t:a<s.length-1&&-1!==e.indexOf(s[a+1].messageId)&&t.expansionState===S.Lvq.COLLAPSED?{...t,expansionState:S.Lvq.TEMPORARY_COLLAPSE}:t))}}return t}case $c.OPEN_PAGE_REQUESTED:case $c.PREVIEW_MESSAGE_REQUESTED:case $c.STREAM_ITEM_TOGGLED:case $c.STREAM_CONTEXT_MENU:case $c.STREAM_ITEMS_MULTIPLE_TOGGLE:case $c.STREAM_ITEMS_RANGE_SELECTED:{const{getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:s,getStreamsSelectors:a}=(0,Oc.selectors)(e),{doesExpansionStateExist:n}=a(),{streamItem:r}=t;if(!r)return t;if(!n((0,$E.k3)(r.listId,r.id))){const e=s(r);return{...t,temporaryExpansionState:e}}return t}case $c.STREAM_CURSOR_MOVED:case $c.STREAM_SELECT_CURSOR_MOVED:{const{getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:s,doesStreamExist:a,getCursor:n}=(0,Oc.selectors)(e),{streamId:r,streamItems:o=[],movement:i}=t,l=(0,cN.lw)(o);if(0===l.length)return t;const{streamItem:c}=a(r)?(0,lN.N4)(n(r),i,l):(0,lN.N4)({index:-1},i,l);if(!a((0,$E.k3)(c.listId,c.id))){const e=s(c);return{...t,temporaryExpansionState:e}}return t}case $c.CLOSE_PAGE_REQUESTED:{const{listId:s,streamId:a}=t,{doesStreamExist:n,getCursorItem:r}=(0,Oc.selectors)(e);let o=!1;if(s&&n(s)){const e=r(s)||{};(0,$E.k3)(e.listId,e.id)===a&&(o=!0)}return{...t,shouldPersistStream:o}}case $c.PREVIEW_MESSAGE_CLOSED:{const{streamId:s}=t,{doesStreamExist:a,getCursorItem:n,getTabPages:r}=(0,Oc.selectors)(e),o=[];if(s&&a(s)){const e=n(s)||{},t=(0,$E.k3)(e.listId,e.id);a(t)&&!r().find((t=>t.params.groupId&&t.params.groupId===e.id))&&o.push(t)}return{...t,expansionStatesToRemove:o}}default:return t}};var _N=s(70921);const EN="abcdefghijklmnopqrstuvwxyz0123456789.!#$%&'*+-/=?^_`{|}~".split(""),uN=(e,t)=>{switch(t.type){case $c.CONTACT_SUGGESTIONS_REQUESTED:{const{getComposeSuggestionsFromImportantsByQuery:s}=(0,Oc.selectors)(e),a=s({query:t.query,contextEmail:t.contextFrom});return{...t,contacts:a,nextContacts:a.length?EN.reduce(((e,a)=>{const n=t.query+a;return e[(0,_N.UP)(n)]=s({query:n,contextEmail:t.contextFrom}),e}),{}):{}}}}return t},mN=(e,t)=>{switch(t.type){case $c.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{getFeaturesSelectors:s}=(0,Oc.selectors)(e),{getSetting:a}=s(),n=a(S.Zrf.SCOUT_ONBOARDING),r=(0,RO.JV)(n,S.ANe.WEB_PAC_NOTIFICATION_CUE)+1,o=r>=S.hqH;return{...t,userResponse:r,shownMaxTimes:o}}case $c.FEATURE_CLOSED:case $c.FEATURE_TRY_NOW_REQUESTED:{const{getFeaturesSelectors:s,getFeatureCueSelectors:a}=(0,Oc.selectors)(e),{isPersistent:n}=a(),{getSetting:r}=s(),{name:o,userResponse:i}=t;if(i)return t;const l=r(S.Zrf.SCOUT_ONBOARDING),c=(0,RO.JV)(l,o),d=n(o);return{...t,userResponse:d?c+1:c}}case $c.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const{getFeaturesSelectors:s,getFeatureCueSelectors:a}=(0,Oc.selectors)(e),{isPersistent:n}=a(),{getSetting:r}=s(),{name:o,userResponse:i}=t;if(i)return t;const l=r(S.Zrf.SCOUT_ONBOARDING),c=(0,RO.JV)(l,o),d=n(o);return{...t,userResponse:d?c:c+1}}default:return t}};var SN=s(55426);const pN=(e,t)=>{const{type:s,streamItems:a,selectionType:n}=t;switch(s){case $c.STREAM_ITEMS_SELECTION_CHANGED:case $c.ALL_STREAM_ITEMS_SELECTED:{const s=a.filter((t=>(0,SN.VR)(t,n,(0,Oc.selectors)(e))));return{...t,selectedItems:s}}default:return t}},CN=(e,t)=>{switch(t.type){case $c.RIGHT_RAIL_COMMS_ICON_CLICKED:{const{getActionableRightRailPane:s}=(0,Oc.selectors)(e),a=s();return{...t,isPaneVisible:!!a}}default:return t}},AN=(e,t)=>{const s=(0,Oc.selectors)(e);switch(t.type){case $c.CHECK_MAIL_RECEIVED_WITH_UPDATES:case $c.MESSAGE_BODIES_RECEIVED:case $c.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{var a;const e=null===(a=t.listData)||void 0===a?void 0:a.messages,{getUnsyncedDataToSync:n}=s;return n().filter((e=>e.type===S.sKi.MESSAGE_ITEM_TO_UPDATE)).forEach((t=>{var s;((null===(s=t.userInputtedValues)||void 0===s?void 0:s.messageItemsToSync)||[]).forEach((t=>{const{messageId:s,flags:a,updateTypes:n}=t,r=n.some((e=>-1!==[S.oc$.READ,S.oc$.STAR,S.oc$.HAM,S.oc$.SPAM].indexOf(e)));e&&e[s]&&r&&(e[s].flags={...e[s].flags,...a})}))})),t}default:return t}};var TN=s(95357);const IN=(e,t)=>{const s=(0,Oc.selectors)(e),{getDraftMessageId:a}=s;if(t.type===$c.LAUNCH_COMPLETED)return[];if(t.v3MessageBodiesMap){const{v3MessageBodiesMap:e}=t;return Object.keys(e)}const{groupIds:n=[],messageIds:r=[],csid:o}=(0,TN.Z)(s);return n.length>0?((e,t)=>{const{getMessageIdsFromMessageGroupId:s,doesMessageGroupIdExist:a,doesMessageBodyExist:n}=e;return t.reduce(((e,t)=>{if(!a(t))return e;const r=s(t).filter((e=>n(e)));return[...e,...r]}),[])})(s,n):r.length>0?r:o&&a(o)?[a(o)]:[]};var hN=s(42490);const gN=(e,t)=>{const s=[];switch(t.type){case $c.LAUNCH_COMPLETED:case $c.OPEN_PAGE_REQUESTED:case $c.DOCUMENT_FETCH_REQUESTED:{const t=(0,Oc.selectors)(e),a=(0,hN.Z)(t);a&&s.push(a);break}case $c.DOCUMENT_FETCH_SUCCEEDED:case $c.DOCUMENT_FETCH_FAILED:t.documentId&&s.push(t.documentId)}return s},ON=(e,t)=>{const s=(0,Oc.selectors)(e),{getSetting:a,getRecentlyUsedStateSelectors:n}=s,r=IN(e,t),o=gN(e,t),i={messageBodies:[],documents:[]},l={messageBodiesToRemove:[],documentsToRemove:[]},c=a(S.Zrf.MAX_NUMBER_OF_MESSAGE_BODIES),d=a(S.Zrf.MAX_NUMBER_OF_DOCUMENTS);if(r.length>0){const e=n().getRecentlyUsedMessageBodiesIds(),t=Math.max(c,r.length),s=ra()(r.concat(e));i.messageBodies=s.slice(0,t),l.messageBodiesToRemove=s.slice(t)}if(o.length>0){const e=n().getRecentlyUsedDocumentsIds(),t=ra()(o.concat(e));i.documents=t.slice(0,d),l.documentsToRemove=t.slice(d)}return{...t,recentlyUsedState:i,statesToRemove:l}},DN=(e,t)=>{const{isFeatureEnabled:s,getFeatureCueSelectors:a,getSetting:n}=(0,Oc.selectors)(e),r=n(S.Zrf.DAYS_IN_TRIAL_TEST_PARAM),o=s(S.ANe.ADS),{NOT_SUBSCRIBED:i,SUBSCRIBED:l,EXPIRED:c,UPGRADED_TO_MAILPRO:d}=S.cZM,{INVALID:_,PRE_SIGNUP_LIGHTBOX:E,PRE_SIGNUP_PENCIL_BANNER:u,PRE_SIGNUP_LEFT_PANEL_1:m,PRE_SIGNUP_LEFT_PANEL_2:p,PRE_SIGNUP_LEFT_PANEL_3:C,POST_SIGNUP_THANKYOU_TOAST:A,FREE_TRIAL_ENDING_NOTICATION_1:T,FREE_TRIAL_ENDING_NOTICATION_2:I,FREE_TRIAL_LAST_DAY_NOTIFICATION:h,FREE_TRIAL_EXPIRED_NOTIFICATION:g,MAILPRO_SIGNUP_THNAKYOU_TOAST:O}=S.$AH;if(!s(S.ANe.MAILPRO_FREE_TRIAL))return t;const D=a().getUserResponse(S.ANe.MAILPRO_FREE_TRIAL_UPSELLS),R=parseInt(D,10)||0;switch(t.type){case $c.LAUNCH_COMPLETED:if(o&&(R===_||-1===r)){const e=E,s=i;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}if(o&&R===C){const e=i;return{...t,subscriptionStatus:e}}if(o&&R===g){const e=c;return{...t,subscriptionStatus:e}}if(!o&&R===O){const e=d;return{...t,subscriptionStatus:e}}return t;case $c.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:{const{trialEndDate:e,hasUpgradedToMailpro:s,inFreeTrial:a,trialStartDate:n,hasFreeTrialInSubList:r}=t.data||{};if(o&&!r&&R>=E&&R<C){const e=i;let s=0;switch(R){case E:s=u;break;case u:s=m;break;case m:s=p;break;case p:s=C}return{...t,mailproFreeTrialUpsellId:s,subscriptionStatus:e}}if(!o&&s){const e=O,s=d;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}if(!o&&a){const e=(0,TR.differenceInDays)((new Date).getTime(),n)+1,s=l;let a=_;return R<A&&e>0&&e<7?a=A:R<T&&e>=7&&e<=11?a=T:R<I&&e>=12&&e<=13?a=I:R<h&&14===e&&(a=h),{...t,mailproFreeTrialUpsellId:a,subscriptionStatus:s}}if(o&&e&&(0,TR.isAfter)(new Date,e)){const e=g,s=c;return{...t,mailproFreeTrialUpsellId:e,subscriptionStatus:s}}return t}}return t},RN=(e,t)=>{const{type:s}=t,{getPartner:a}=(0,Oc.selectors)(e).getEnvironmentSelectors();if(a().toUpperCase()!==S.Bs7.AOL)return t;switch(s){case $c.INITIAL_STATE:{const{accounts:e=[]}=t,s=e.filter((e=>e.isPrimary))[0];return{...t,primaryAccountSendingName:(null==s?void 0:s.sendingName)||""}}case $c.ALIAS_EMAIL_CREATE_SUCCEEDED:case $c.ACCOUNT_ADD_SUCCEEDED:{const{getPrimaryAccountSendingName:s}=(0,Oc.selectors)(e).getAccountSelectors();return{...t,primaryAccountSendingName:s()}}default:return t}};function NN(e){return e.name===S.n8z.FOLDER||(0,Rc.rB)(e)}const LN=(e,t)=>{switch(t.type){case $c.CHANGE_FOLDER_SUCCEEDED:{const{route:s}=t,{isFeatureEnabled:a}=(0,Oc.selectors)(e);if(!a(S.ANe.EMPTY_FOLDER_DISPLAY_AD)||!NN(s))break;return{...t,emptyFolderAdEligibleRoute:!0}}case $c.OPEN_PAGE_REQUESTED:{const{route:s}=t,{isFeatureEnabled:a,doesListExist:n,getListStatus:r}=(0,Oc.selectors)(e);if(!a(S.ANe.EMPTY_FOLDER_DISPLAY_AD)||!NN(s))break;const o=(0,Rc.LY)(s),i=n(o)&&r(o)===S.DAQ.LOADED;return{...t,isListLoaded:i,emptyFolderAdEligibleRoute:!0}}}return t},fN=(e,t)=>{const{couldShowEmptyFolderVideo:s,isFeatureEnabled:a}=(0,Oc.selectors)(e);if(!a(S.ANe.EMPTY_FOLDER_ALTER))return t;switch(t.type){case $c.OPEN_PAGE_REQUESTED:{const e=s();return{...t,hasShownEmptyFolderVideo:e}}}return t},MN=e=>[nN(e),qD,RN,XD,pR,AR,CR,aN,eN,yR(e),tN,AN,ON,rN,iN,dN,pN,CN,uN,mN,DN,LN,fN];var PN=s(42056),bN=s(14256),yN=s(68878),vN=s(59098),FN=s(70006),UN=s(14394),kN=s(6273),wN=s(7747),GN=s.n(wN),HN=s(39239),BN=s(79149),xN=s.n(BN),VN=s(46023),ZN=s.n(VN);const WN=(0,Gl.defineMessages)({mail:{id:"properties.mail_icon",defaultMessage:"Mail"},web:{id:"search_box_search_web",defaultMessage:"Web"}});let KN;function zN(e){const t=(0,Hc.Z)(ZN()),{formatMessage:s}=(0,Fm.Y)(),{scope:a,onChange:n}=e;return vl.createElement("div",{className:t.option},vl.createElement("div",{className:t.searchIn},vl.createElement("span",{id:"search-box-search-in"},vl.createElement(Gl.FormattedMessage,{id:"search_box_search_in",defaultMessage:"Search in"})),vl.createElement("div",{className:t.button},vl.createElement(Hl.default,{className:`${t.buttonContent} ${[KN.MAIL,KN.ALL].includes(a)?t.buttonSelected:""}`,kind:xl.Kinds.SEARCH_MAIL,size:xl.Sizes.XXS,id:"search-scope-mail","aria-labelledby":"search-box-search-in search-scope-mail","aria-pressed":[KN.MAIL,KN.ALL].includes(a),colorState:xl.ColorStates.INHERITED,title:s(WN.mail),onClick:()=>n(KN.MAIL)},vl.createElement(Gl.FormattedMessage,WN.mail)),vl.createElement(Hl.default,{className:`${t.buttonContent} ${[KN.WEB,KN.ALL].includes(a)?t.buttonSelected:""}`,kind:xl.Kinds.SEARCH_WEB,size:xl.Sizes.XXS,id:"search-scope-web","aria-labelledby":"search-box-search-in search-scope-web","aria-pressed":[KN.WEB,KN.ALL].includes(a),colorState:xl.ColorStates.INHERITED,title:s(WN.web),onClick:()=>n(KN.WEB)},vl.createElement(Gl.FormattedMessage,WN.web)))),vl.createElement("div",null,e.children))}!function(e){e[e.ALL=0]="ALL",e[e.MAIL=1]="MAIL",e[e.WEB=2]="WEB"}(KN||(KN={}));var YN=s(12647),jN=s.n(YN);const qN=(0,Gl.defineMessages)({chevron_title:{id:"advanced_search.chevron_title",defaultMessage:"Toggle advanced search pane"}});function XN(e){const t=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.ADVANCED_SEARCH_BUTTON_HAS_LABEL))),s=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.ALTERNATE_SEARCH_BOX))),a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isAdvancedSearchPaneOpen())),n=s&&!a?xl.ColorStates.LESS_IMPORTANT:xl.ColorStates.INHERITED,r=e.disabled?xl.ColorStates.DISABLED:n,o=(0,Hc.Z)(jN(),{colorState:r,alternate:s}),{formatMessage:i}=(0,Fm.Y)(),l=e.disabled?()=>{}:t=>{e.onClick({i13nModel:{mKey:cc.JE.ADVANCED_SEARCH,interactionType:(0,Pa.getInteractionFromEvent)(t)}})};return vl.createElement("div",{"data-test-id":"advanced-search-button",className:o.advancedSearchButton,onClick:l},t&&vl.createElement(Gl.FormattedMessage,{"data-test-id":"advanced-search-label",id:"search.advanced_search_label",defaultMessage:"Advanced"}),vl.createElement("div",{className:o.buttonContainer},vl.createElement(Hl.default,{disabled:e.disabled,tabIndex:Fe.iUz.APP_HEADER_SEARCHBOX,kind:xl.Kinds.CHEVRON_UP,colorState:xl.ColorStates.INHERITED,size:s?xl.Sizes.XS:xl.Sizes.S,rotate:a?void 0:xl.Rotate.D180,title:i(qN.chevron_title),"aria-label":i(qN.chevron_title),paddingLess:!0})))}const QN=(0,Gl.defineMessages)({search_aria_label:{id:"search.search_aria_label",defaultMessage:"Search box. Find messages, documents, photos or people"},search_placeholder:{id:"search.search_box_placeholder",defaultMessage:"Find messages, documents, photos or people"},search_alternative_placeholder:{id:"search.search_box_alternative_placeholder",defaultMessage:"Search your mail or the web"},search_keyword_placeholder:{id:"search.keyword_placeholder",defaultMessage:"Add keywords"},search_coupons_placeholder:{id:"search.search_coupons_placeholder",defaultMessage:"Search deals in your inbox"},search_placeholder_with_active_folder_pill:{id:"search.search_placeholder_with_active_folder_pill",defaultMessage:"Search in {folderName}..."}}),JN=(0,vl.forwardRef)((function(e,t){const{selected:s}=e,a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.ALTERNATE_SEARCH_BOX))),n=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.FOLDER_SEARCH_DISCOVERY))),r=(0,Gm.v9)((e=>{const{isFeatureEnabled:t,getRoute:s,getSmartViewTypeFromRoute:a}=(0,Oc.selectors)(e);return t(S.ANe.DEALS)&&!t(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&a(s())===S.K8C.COUPONS})),o=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isAdvancedSearchPaneOpen())),i=(0,Hc.Z)(xN()),l=(0,Hc.Z)(GN()),{formatMessage:c}=(0,Fm.Y)(),d=n&&e.hasPillFolder,_=d?s[0]:void 0,{setSearchAlignToRef:E,onScopeChange:u,onScopeClick:m}=e,p=(0,vl.useRef)(null);(0,vl.useEffect)((()=>{E(a?p:null)}),[a,E]);let C=QN.search_placeholder;e.hasPillContact&&!d?C=QN.search_keyword_placeholder:r?C=QN.search_coupons_placeholder:a?C=QN.search_alternative_placeholder:d&&(C=QN.search_placeholder_with_active_folder_pill);const[A,T]=(0,vl.useState)(a?KN.MAIL:KN.ALL);(0,vl.useEffect)((()=>u(A)),[u,A]);const I=r&&e.hasPillCoupon?null:vl.createElement(XN,{disabled:A===KN.WEB,onClick:e.onAdvancedSearchButtonClick}),[h,g]=(0,vl.useState)(!1),O=(0,vl.useRef)(null);return(0,vl.useImperativeHandle)(t,(()=>O.current),[]),(0,vl.useEffect)((()=>{const e=e=>{if(!O.current)return;const t=wl.findDOMNode(O.current);null!=t&&t.contains(e.target)?(g(!0),O.current.refs.typeahead&&O.current.refs.typeahead.setState({...O.current.refs.typeahead.state,hasFocus:!1,dropdownVisible:!1})):g(!1)};return document.addEventListener("mousedown",e,!0),()=>document.removeEventListener("mousedown",e,!0)}),[O]),vl.createElement(vl.Fragment,null,vl.createElement(bN.Pills,{ref:O,"data-test-id":"search-box-input",multiple:!1,dropdownVisible:a&&(o||h),initialActiveIndex:-1,className:Sg()(i.pills,l.pills),containerClassName:Sg()(i.pillsContainer,l.pillsContainer),containerChildClassName:i.pillsContainerChild,pillClassName:i.pillOuter,ariaLabel:c(QN.search_aria_label),placeholder:d?c(C,{folderName:null==_?void 0:_.label.toLowerCase()}):c(C),typeaheadInputClassName:l.searchInput,typeaheadInputContainerClassName:l.typeaheadInputContainer,typeaheadInputHintClassName:l.searchHint,typeaheadDropDownClassName:l.suggestionDropdown,inputValue:e.inputValue,onFocus:e.onFocus,onBlur:e.onBlur,onInputKeyDown:e.onInputKeyDown,onInputChange:e.onInputChange,selected:e.selected,onSelect:e.onSelect,inputTabIndex:Fe.iUz.APP_HEADER_SEARCHBOX,hintValue:A===KN.WEB?null:e.hintValue,onActiveIndexChange:e.onActiveIndexChange,renderPill:e.renderPill,messageForIncomingOptions:e.messageForIncomingOptions,typeaheadAriaStatusClassName:l.typeaheadAriaStatus,inputMaxLength:2e3},a?vl.createElement(bN.Option,{ref:p,value:S.sWL.META,mousePassthrough:!0},vl.createElement(zN,{scope:A,onChange:e=>{T(e),m(e)}},I)):null,o||A!==KN.WEB?e.suggestions:null,o||A!==KN.MAIL?e.webSearchSuggestions:null),a?null:I,e.advancedSearchPane)}));var $N=s(2136),eL=s(59427);function tL(e){const t=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getAccountsForSearch())),a=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getSelectedAccountId())),n=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getContactListSelectors().getContactByEmail)),r=(0,Gm.v9)((e=>{const{isFeatureEnabled:t,getSmartViewTypeFromRoute:s,getRoute:a}=(0,Oc.selectors)(e);return t(S.ANe.DEALS)&&!t(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&s(a())===S.K8C.COUPONS})),o=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.YBAR_FUJI2_THEME))),i=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isAdvancedSearchPaneOpen())),l=(0,Gm.v9)((e=>(0,Oc.selectors)(e).getSearchSuggestions)),c=(0,Gm.v9)((e=>(0,Oc.selectors)(e).isFeatureEnabled(S.ANe.ALTERNATE_SEARCH_BOX)));if(!i)return null;const{accountId:d,folderId:_}=e.pillFolder,{inputValue:E,searchBoxWidth:u}=e,m=(0,kN.wP)((0,kN.vf)(l(e.suggestionsQuery))),p={inputValue:E,accountIds:d?[d]:[],folders:_?[_]:[]},C={width:`${u}px`};c&&(C.borderTop="0",C.borderTopLeftRadius="0",C.borderTopRightRadius="0",C.boxShadow=`1px 1px 1px #${Fe.E6z.vzm_dirty_seagull}`,C.width=u-1+"px");const A=t=>{e.onSearchSubmit({i13nModel:{mKey:cc.JE.ADVANCED_SEARCH_BUTTON,interactionType:(0,Pa.getInteractionFromEvent)(t)}})},T=vl.createElement(wO.Z,null,e.pillCoupon?vl.createElement(pc.cr,{import:"../../search_popup",containerStyle:C,smartViewSearch:r,inputValue:E,onSearchSubmit:e.onSearchSubmit,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,4135))},_moduleResolver:function(){return 4135}}):vl.createElement(pc.cr,{import:"../../advanced_search_pane/atoms/advanced_search_pane",style:C,accountList:t,searchInput:p,suggestions:m,activeAccountId:a,getContactByEmail:n,onReset:e.onReset,onSearchChange:e.onSearchChange,onSearchSubmit:A,ybarFujiTheme:o,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,45968))},_moduleResolver:function(){return 45968}}));return vl.createElement(eL.Z,{key:"advanced-search-pane",alignTo:e.getAlignToNode(),alignmentPoints:[$N.K.TopLeft,$N.K.BottomLeft],useShim:!0,onClick:t=>{if(!t.overlayClicked){if(c){const t=e.getSearchFieldNode(),a=wl.findDOMNode(t);if(null!==(s=a)&&!("wholeText"in s)){const e=a.querySelector("input");null==e||e.focus()}}e.toggleAdvancedSearchPane()}var s},onKeyDown:t=>{switch(t.key){case"Escape":e.toggleAdvancedSearchPane();break;case"Enter":(e.inputValue||d||_)&&A(t);break;case"Tab":t.preventDefault()}}},T)}function sL(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const aL=(0,Gl.defineMessages)({search_button_title:{id:"search.search_button_title",defaultMessage:"Search"},suggestions_available:{id:"search.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"}}),nL=cc.nJ.HEADER_SEARCH,rL={[S.sWL.PERSON]:"P",[S.sWL.KEYWORD]:"K",[S.sWL.WEB_SEARCH]:"W",[S.sWL.HEADER]:"H",[S.sWL.RECENT]:"R",[S.sWL.EMAIL]:"E",[S.sWL.YAISUGGESTION]:"Y"},oL=(0,h.gP)(["CONTACT","FOLDER","COUPON_INDICATOR"]);class iL extends vl.Component{constructor(e){super(e),sL(this,"handleWebSearch",(e=>{const t=encodeURIComponent(e),{webSearchURL:s}=this.props;openWindow(s.replace("%QUERY%",t))})),sL(this,"getDefaultPillState",(e=>{const{folderSearchDiscoveryEnabled:t,isDefaultInbox:s,isUnreadOrStarredView:a,searchQuery:n,smartViewInSearch:r,smartViewSearch:o,smartViewType:i}=this.props,{accountIds:l=[],folders:c=[]}=n;let d="",[_=""]=c,E=o,{name:u="",emailAddresses:m=[]}=n,S=1===(null==l?void 0:l.length)&&l[0]||"";if(t){const e=!!c[0];_=this.props.folderId,d=_?"":r||i,d=a||r?d:"",_=s&&!e?"":_}return e===KN.WEB&&(E="",u="",m=[],S="",_="",d=""),{pillCoupon:E,pillContact:{name:u,emailAddresses:m,type:oL.CONTACT},pillFolder:{accountId:S,folderId:_,smartViewName:d,type:oL.FOLDER}}})),sL(this,"componentDidUpdate",(e=>{const{folderSearchDiscoveryEnabled:t,folderId:s,smartViewType:a}=this.props;if(this.props.isWindowResizingDone&&!e.isWindowResizingDone){const{isAdvancedSearchPaneOpen:e,toggleAdvancedSearchPane:t}=this.props;e&&t(),this.setState({searchBoxDimensions:wl.findDOMNode(this.refs.searchField).getBoundingClientRect()})}t&&(s===e.folderId&&a===e.smartViewType||(this.setState({inputValue:""}),this.handleLeftNavClick()))})),sL(this,"handleSearchFocus",(e=>{const{onSearchBarFocus:t}=this.props;t({i13nModel:{mKey:cc.JE.SEARCH_BAR,sec:nL,interactionType:(0,Pa.getInteractionFromEvent)(e)}})})),sL(this,"handleSearchBlur",(e=>{const{onSearchBarBlur:t}=this.props;t({i13nModel:{mKey:cc.JE.SEARCH_BAR_FOCUS_BLURRED,sec:nL,interactionType:(0,Pa.getInteractionFromEvent)(e)}})})),sL(this,"handleBasicSearchSubmit",((e,t={})=>{const s={i13nModel:{mKey:cc.JE.SEARCH_BUTTON,interactionType:(0,Pa.getInteractionFromEvent)(e)},...t};""!==this.state.inputValue&&(this.state.scope===KN.WEB?this.handleWebSearch():this.handleSearchSubmit(s))})),sL(this,"handleScopeChange",(e=>{this.setState({...this.getDefaultPillState(e),scope:e})})),sL(this,"handleScopeClick",(e=>{this.state.scope===e&&this.handleBasicSearchSubmit(event)})),sL(this,"handleSearchSubmit",(e=>{const t="string"==typeof this.state.inputValue?this.state.inputValue.trim():"",{pillCoupon:s,pillContact:a,pillFolder:n}=this.state,r=!1!==e.applyFocus,o={smartViewSearch:s,emailAddresses:a.emailAddresses,name:a.name,keyword:t,...e.query},i=!!n.folderId||!!n.smartViewName,l=(0,Rc.Kw)(n.folderId),c=this.props.listExistsAndIsEmpty(l),d={sec:nL,mKeyGroup:cc.rO.search,...this.props.folderSearchDiscoveryEnabled&&{actionData:{searchedWithFolderPill:i}},...e.i13nModel};this.timer&&(clearTimeout(this.timer),delete this.timer),n.accountId&&Object.assign(o,{accountIds:[n.accountId]}),n.folderId&&!c&&Object.assign(o,{folders:[n.folderId]}),n.smartViewName&&(o.keyword=`is:${n.smartViewName.toLowerCase()} ${t}`);const{isAdvancedSearchPaneOpen:_,toggleAdvancedSearchPane:E}=this.props;_&&E(),this.setState({inputValue:t,showInputHint:!1},(()=>{this.props.onSearchSubmit({query:o,i13nModel:d})})),r&&document.activeElement&&document.activeElement.blur()})),sL(this,"handleReset",(()=>{this.setState({inputValue:"",showInputHint:!0,pillFolder:{accountId:"",folderId:this.props.useInboxAsDefaultForAdvancedSearch?this.props.defaultAdvancedSearchFolderId:"",smartViewName:"",type:oL.FOLDER},pillContact:{name:"",emailAddresses:[],type:oL.CONTACT},pillCoupon:!1},(()=>{this.props.onSearchChange("",{suggestionsKeyword:""},{fetchSuggestions:!1})}))})),sL(this,"handleSearchChange",((e,{suggestionsKeyword:t="",folders:s,accountIds:a}={},n={})=>{const{onSearchChange:r,smartViewSearch:o,isAdvancedSearchPaneOpen:i,toggleAdvancedSearchPane:l,folderSearchDiscoveryEnabled:c}=this.props,{pillCoupon:d,pillFolder:_}=this.state,E=!(o===S.K8C.OFFERS&&d)&&i,u=_.folderId||_.smartViewName,m={inputValue:c&&!u?this.convertSearchSyntaxToPill(e):e,showInputHint:!0};i&&!E&&l(),s&&Object.assign(m,{pillFolder:{accountId:"",folderId:s[0]||"",smartViewName:"",type:oL.FOLDER}}),a&&Object.assign(m,{pillFolder:{accountId:a[0]||"",folderId:"",smartViewName:"",type:oL.FOLDER}}),this.setState(m,(()=>{r(e,{suggestionsKeyword:t},n)}))})),sL(this,"handleInputChange",(e=>{this.handleSearchChange(e,{},{fetchEmailSuggestions:!0})})),sL(this,"handleWebSearch",(()=>{var e=this.state.inputValue;this.props.onWebSearchSubmit(e)})),sL(this,"handleSearchSuggestionSelect",(e=>{const{pillCoupon:t,pillFolder:s,inputValue:a}=this.state,n=this.getSuggestions(),{folderSearchDiscoveryEnabled:r}=this.props;if(e===S.sWL.META)return;if(e===S.sWL.WEB_SEARCH)return void this.handleWebSearch();const o=n[e-1],i=n.map((e=>rL[e.type])),l=n.map((e=>{switch(e.type){case S.sWL.PERSON:{const{name:t}=this.suggestionValue(e);return t}case S.sWL.HEADER:return"HEADER";case S.sWL.KEYWORD:case S.sWL.RECENT:case S.sWL.EMAIL:case S.sWL.YAISUGGESTION:return e.name;default:(0,m.Z)(!1,"All suggestion type must be handled here.")}}));let c;const d=""===a;switch(o.type){case S.sWL.PERSON:c=d?cc.JE.SEARCH_EMPTY_PEOPLE_SUGGEST:cc.JE.SEARCH_PEOPLE_SUGGEST;break;case S.sWL.KEYWORD:c=d?cc.JE.SEARCH_EMPTY_KWRD_SUGGEST:cc.JE.SEARCH_KWRD_SUGGEST;break;case S.sWL.EMAIL:c=d?cc.JE.SEARCH_EMPTY_EMAIL_SUGGEST:cc.JE.SEARCH_EMAIL_SUGGEST;break;case S.sWL.YAISUGGESTION:c=d?cc.JE.YAI_EMPTY_SEARCH_SUGGESTION_CLICK:cc.JE.YAI_SEARCH_SUGGESTION_CLICK;break;default:c=d?cc.JE.SEARCH_EMPTY_RECENT_SUGGEST:cc.JE.SEARCH_RECENT_SUGGEST}const _={mKey:c,sec:nL,mKeyGroup:cc.rO.search,actionData:{suggPos:e,prefix:a,suggType:i,suggVal:l}};let E={};switch(s.accountId&&(E={...E,accountIds:[s.accountId]}),s.folderId&&(E={...E,folders:[s.folderId]}),o.type){case S.sWL.PERSON:{const{emailAddresses:e,name:a,contactId:n}=this.suggestionValue(o);if(r){const t=!!s.smartViewName;E={...E,emailAddresses:e,name:a,contactIds:[n],keyword:t?`is:${s.smartViewName.toLowerCase()}`:""}}else E={...E,emailAddresses:e,name:a,contactIds:[n]};this.props.onSearchSubmit({query:E,smartViewSearch:t,i13nModel:_}),this.setState({pillContact:{name:a,emailAddresses:e,type:oL.CONTACT},activeSuggestion:null,inputValue:""});break}case S.sWL.RECENT:case S.sWL.KEYWORD:case S.sWL.YAISUGGESTION:{const e=o.name;E={...E,keyword:e},this.props.onSearchSubmit({query:E,yaiSuggestion:o.payload,smartViewSearch:t,i13nModel:_}),this.setState({activeSuggestion:null,inputValue:e});break}case S.sWL.HEADER:break;case S.sWL.EMAIL:{const{conversations:e}=this.props,{messageId:t,conversationId:s}=o,a=e?s:t,n=(0,Rc.Ez)({keyword:o.name});this.context.navigateTo({route:(0,gc.os)({groupId:a,listId:n}),i13nModel:_});break}default:(0,m.Z)(!1,"All suggestion type must be handled here.")}})),sL(this,"deleteRecent",(e=>{e&&e.name&&this.props.deleteRecentSearch({query:e.name})})),sL(this,"isCursorEndOfInput",(e=>{const t=e.target.selectionEnd,{inputValue:s}=this.state;return!s||t===s.length})),sL(this,"handleKeydown",(e=>{let t;const{smartViewSearch:s}=this.props,a=this.getSuggestions(),n=(0,yN.getEventKey)(e);switch(n){case"Enter":this.handleBasicSearchSubmit(e);break;case"ArrowUp":case"ArrowDown":break;case"ArrowRight":this.isCursorEndOfInput(e)&&a&&this.autoFillSearchbox(a,n,(()=>{}));break;case"Tab":!this.hasPillContact()&&a&&this.state.inputValue&&(this.autoFillSearchbox(a,n,(e=>this.handleSearchSuggestionSelect(e+1))),e.preventDefault());break;case"Escape":this.setState({activeSuggestion:null});break;case"Backspace":{const e=this.getPills();if(t={inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null},""===this.state.inputValue&&e.length){switch(e[e.length-1].type){case oL.COUPON_INDICATOR:-1===[S.K8C.COUPONS].indexOf(s)&&(t.pillCoupon=!1);break;case oL.FOLDER:t.pillFolder={};break;case oL.CONTACT:t.pillContact={};break;default:(0,m.Z)(!1,"all pill types should be handled here")}}this.setState(t);break}default:this.setState({inputValue:this.getTypeaheadDisplayText(),activeSuggestion:null})}})),sL(this,"renderSuggestionHeader",((e,t)=>{const s=ic()(GN(),{firstEntry:e.firstEntry});let a;switch(e.headerType){case S.OzC.KEYWORD:a=vl.createElement(Gl.FormattedMessage,{id:"search.header_search_suggestion",defaultMessage:"Suggested searches"});break;case S.OzC.YAISUGGESTION:a=vl.createElement(Gl.FormattedMessage,{id:"search.header_yai_search_suggestion",defaultMessage:"Questions you could ask"});break;case S.OzC.RECENT:a=vl.createElement(Gl.FormattedMessage,{id:"search.header_recent_searches",defaultMessage:"Recent searches"});break;case S.OzC.PERSON:a=vl.createElement(Gl.FormattedMessage,{id:"search.header_people_suggestions",defaultMessage:"Top contacts"});break;case S.OzC.EMAIL:a=vl.createElement(Gl.FormattedMessage,{id:"search.header_email_suggestions",defaultMessage:"Messages"})}return vl.createElement(bN.Option,{key:`header-${e.headerType}`,value:t+1,test:1,disabled:!0},vl.createElement("div",{className:s.headerLabel},a))})),sL(this,"renderSuggestion",((e,t)=>{const{inputValue:s}=this.state;let a=null;return a=e.type&&e.type===S.sWL.HEADER?this.renderSuggestionHeader(e,t):vl.createElement(bN.Option,{key:t,value:t+1},vl.createElement(UN.Z,{suggestion:e,inputValue:s,deleteRecent:this.deleteRecent})),a})),sL(this,"getSuggestions",(()=>{const{importantContacts:e,recentSearches:t,suggestionsQuery:s}=this.props,{inputValue:a}=this.state,n=this.props.getSearchSuggestions(s),r=Array.isArray(n)?t:[];return(0,kN.$o)(n,e,r,a,this.context.partner)})),sL(this,"renderContactPill",((e,t,s,a)=>{const n=e.emailAddresses&&e.emailAddresses[0],r=e.name||n,o=r;if(n)return vl.createElement(FN.default,{value:r,title:n?`${r} <${n}>`:o,useEllipsis:!0,maxWidth:Fe.hMM.L,contactEmail:n,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearContactPill})})),sL(this,"renderPill",((e,t,s,a)=>e.type===oL.COUPON_INDICATOR?this.renderCouponIndicator():e.type===oL.FOLDER?this.renderFolderPill(e,t,s,a):e.type===oL.CONTACT?this.renderContactPill(e,t,s,a):null)),sL(this,"clearContactPill",(()=>{this.setState({pillContact:{}})})),sL(this,"clearFolderPill",(()=>{this.setState({pillFolder:{}}),this.props.folderSearchDiscoveryEnabled&&$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.FOLDER_PILL_CLOSE_CLICK,sec:cc.nJ.SEARCH_BOX,interactionType:cc.Rb.click}})})),sL(this,"hasPillContact",(()=>{const{name:e,emailAddresses:t=[]}=this.state.pillContact;return!(!e&&!t[0])})),sL(this,"hasPillFolder",(()=>{const{accountList:e,folderSearchDiscoveryEnabled:t,doesFolderIdExist:s}=this.props,{pillFolder:a}=this.state,{accountId:n,folderId:r,smartViewName:o}=a;return!!(n&&1!==e.length||r&&s(r)||t&&o)})),sL(this,"getAccountDescription",(e=>{const{formatMessage:t}=this.context.intl,{description:s}=e,a=(0,v_.VH)(e);if(s)return s;switch(a){case S.zoT.YAHOO:case S.zoT.YAHOO_SB:return t(Dc.Z.yahoo_account_description);case S.zoT.GOOGLE:case S.zoT.GOOGLE_APP:return t(Dc.Z.gmail_account_description);case S.zoT.OUTLOOK:return t(Dc.Z.outlook_account_description);case S.zoT.AOL:return t(Dc.Z.aol_account_description);default:return t(Dc.Z.unknown_account_description)}})),sL(this,"normalizeFolderPill",(()=>{const{pillFolder:e}=this.state,{accountId:t,folderId:s,smartViewName:a}=e,{accountList:n,formatFolderName:r,activeAccountId:o,folderSearchDiscoveryEnabled:i}=this.props,{formatMessage:l}=this.context.intl;let c,d;if(t&&(d=n.find((e=>e.id===t)),c=this.getAccountDescription(d)),s){const e=r(s)(l);d=n.find((e=>e.id===o)),c=1===n.length||i?e.replace(/ /g,S.R8U.DASH):this.getAccountDescription(d)+"/"+e}if(i&&a){d=n.find((e=>e.id===o));c={[S.K8C.UNREAD]:l(Lc.Z.smart_view_UNREAD),[S.K8C.STARRED]:l(Lc.Z.smart_view_STARRED)}[a.toUpperCase()]}return{label:c,email:d.email,type:oL.FOLDER}})),sL(this,"renderFolderPill",((e,t,s,a)=>{const{label:n,email:r}=e;return vl.createElement(FN.default,{value:n,title:n,useEllipsis:!0,maxWidth:Fe.hMM.L,contactEmail:r,isLastElement:t===s.length-1,isSelected:a,onPillRemove:this.clearFolderPill,isFolderPill:!0,isNewFolderPillDesign:this.props.folderSearchDiscoveryEnabled,pillFujiKind:xl.Kinds.FOLDER,pillFujiColorState:xl.ColorStates.SECOND_LEVEL_GRAY,pillFujiSize:xl.Sizes.XXS})})),sL(this,"getPills",(()=>{const{pillCoupon:e}=this.state,t=[];return e&&t.push({type:oL.COUPON_INDICATOR}),this.hasPillFolder()&&t.push(this.normalizeFolderPill(this.state.pillFolder)),this.hasPillContact()&&t.push(this.state.pillContact),t})),sL(this,"renderWebSearchSuggestion",(()=>{const{inputValue:e}=this.state,t=S.sWL.WEB_SEARCH,s=this.getSuggestions(),a=ic()(GN(),{showPeopleSuggestion:s.length>0&&!this.hasPillContact()});return vl.createElement(bN.Option,{value:t},this.props.alternateSearchBox||vl.createElement("div",{className:a.suggestionWebOptionBorder}),vl.createElement("div",{className:a.suggestionWebOption},vl.createElement("span",{className:a.suggestionWebIcon},vl.createElement(Bl.Z,{kind:xl.Kinds.SEARCH_WEB,size:xl.Sizes.S,colorState:xl.ColorStates.NORMAL_LESS_DIM})),vl.createElement("span",{className:a.suggestionWebLabel},vl.createElement(Gl.FormattedMessage,{id:"search.search_web_query",defaultMessage:"Search the web for {formattedWebSearchQuery}",values:{formattedWebSearchQuery:vl.createElement("span",{className:a.suggestionWebQuery},vl.createElement("b",null,vl.createElement("q",null,e)))}}))))})),sL(this,"suggestionValue",(e=>{const{name:t,emailIds:s,serviceId:a}=e;return{name:t,emailAddresses:s,contactId:a}})),sL(this,"getInputHint",(()=>{const{inputValue:e,showInputHint:t,activeSuggestion:s}=this.state,{isAdvancedSearchPaneOpen:a}=this.props,n=this.getSuggestions().filter((e=>e.type!==S.sWL.HEADER));if(!n||!n[0])return"";const{name:r,emailAddresses:o=[]}=this.suggestionValue(n[0]),i=o[0],l=new RegExp("^"+(0,fC.hr)(e),"i");return!e||!t||s||this.hasPillContact()||a?"":r&&l.test(r)?e+r.slice(e.length):i&&l.test(i)?e+i.slice(e.length):""})),sL(this,"updatedSelectedSuggestion",(e=>{const t=this.getSuggestions();this.hasPillContact()||this.setState({activeSuggestion:t[e]})})),sL(this,"getTypeaheadDisplayText",(()=>{const{activeSuggestion:e,inputValue:t}=this.state;return e&&this.suggestionValue(e).name||t})),sL(this,"handleAdvancedSearchButtonClick",(({i13nModel:e})=>{const{inputValue:t}=this.state,{useInboxAsDefaultForAdvancedSearch:s,isAdvancedSearchPaneOpen:a,toggleAdvancedSearchPane:n}=this.props;if(s&&!a&&!t){const{defaultAdvancedSearchFolderId:e}=this.props,{pillFolder:t}=this.state;t.accountId||t.folderId||this.setState({pillFolder:{accountId:"",folderId:e,smartViewName:"",type:oL.FOLDER}})}n(),this.props.onSearchBarFocus({i13nModel:e})})),sL(this,"handleMouseOver",(()=>{this.props.recentSearchesCallStatus===S.DAQ.DOES_NOT_EXIST&&this.props.requestRecentSearches()})),sL(this,"handleLeftNavClick",(()=>{const{folderId:e,smartViewType:t,isDefaultInbox:s,isUnreadOrStarredView:a}=this.props;this.setState({pillFolder:{accountId:"",folderId:s?"":e,smartViewName:a?t:"",type:oL.FOLDER}})})),sL(this,"convertSearchSyntaxToPill",(e=>{const{systemFolderList:t,customFolderList:s}=this.props,a=(n=s,[...rT(t),...rT(n),...(r=aT,r.map((e=>({kind:S.F6k.SMARTVIEW,name:e,searchSyntax:`is:${e.toLowerCase()} `}))))]);var n,r;let o=e;return(o.includes("in:")||o.includes("is:"))&&a.forEach((e=>{const{kind:t,folderId:s,searchSyntax:a,name:n}=e;if(o.includes(a)){switch(o=o.endsWith(a)?o.substring(0,o.length-a.length):"",t){case S.F6k.FOLDER:this.setState({pillFolder:{folderId:s}});break;case S.F6k.SMARTVIEW:this.setState({pillFolder:{smartViewName:n.toLowerCase()}})}$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.FOLDER_SEARCH_SYNTAX_CONVERTED_TO_PILL,sec:cc.nJ.SEARCH_BOX,interactionType:cc.Rb.keydown}})}})),o}));const{folderSearchDiscoveryEnabled:t,searchQuery:s,smartViewInSearch:a,highlightSearchResultsPage:n,keywordFromListId:r=""}=e,{keyword:o=""}=s;let i=n?r:o;this.searchAlignRef=null,t&&(i=a?(0,fC.$j)(i,a).slice(1):i),this.state={inputValue:i,...this.getDefaultPillState(KN.ALL),activeSuggestion:null,showInputHint:!1,searchBoxDimensions:null}}componentDidMount(){const{searchField:e}=this.refs;if(this.props.setRef&&this.props.setRef(this.refs.input),!e)return;const t=wl.findDOMNode(e).getBoundingClientRect();this.setState({searchBoxDimensions:t})}autoFillSearchbox(e,t,s){const a=e.findIndex((e=>e.type!==S.sWL.HEADER));if(-1!==a){const{name:n}=this.suggestionValue(e[a]);s(a),"Tab"===t&&e[a].type===S.sWL.PERSON||this.setState({inputValue:n||this.state.inputValue,activeSuggestion:null})}}renderCouponIndicator(){const e=ic()(GN()),{formatMessage:t}=this.context.intl;return vl.createElement("div",{className:e.couponIndicator},vl.createElement(Bl.Z,{kind:xl.Kinds.SCISSORS,size:xl.Sizes.XS,colorState:xl.ColorStates.SELECTED}),t(Lc.Z.smart_view_COUPONS))}render(){var e;const{ybarFujiTheme:t}=this.props,{formatMessage:s}=this.context.intl,{inputValue:a,pillCoupon:n}=this.state,r=ic()(GN(),{hasPill:this.hasPillContact()||this.hasPillFolder()||n,hasContactPill:this.hasPillContact(),ybarFujiTheme:t}),o=this.getSuggestions(),i=this.context.intl.formatMessage(aL.suggestions_available,{suggestionsNum:o.length}),l=!this.hasPillContact(),c=a,d=vl.createElement(tL,{inputValue:this.state.inputValue,pillFolder:this.state.pillFolder,pillCoupon:!!this.state.pillCoupon,toggleAdvancedSearchPane:this.props.toggleAdvancedSearchPane,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,getAlignToNode:()=>{var e;return null===(e=this.searchAlignRef)||void 0===e?void 0:e.current},getSearchFieldNode:()=>this.refs.input,onReset:this.handleReset,searchBoxWidth:null===(e=this.state.searchBoxDimensions)||void 0===e?void 0:e.width,suggestionsQuery:this.props.suggestionsQuery});return vl.createElement("div",{className:r.container,"data-test-id":"search-box",onMouseOver:this.handleMouseOver},vl.createElement("div",{className:r.searchInputContainer,ref:"searchField"},vl.createElement(JN,{ref:"input",setSearchAlignToRef:e=>{this.searchAlignRef=e||{current:this.refs.input}},hasPillContact:this.hasPillContact(),hasPillCoupon:!!n,inputValue:this.getTypeaheadDisplayText(),onFocus:this.handleSearchFocus,onBlur:this.handleSearchBlur,onInputKeyDown:this.handleKeydown,onInputChange:this.handleInputChange,selected:this.getPills(),onSelect:this.handleSearchSuggestionSelect,hintValue:this.getInputHint(),onActiveIndexChange:this.updatedSelectedSuggestion,renderPill:this.renderPill,messageForIncomingOptions:i,suggestions:l?o.map(this.renderSuggestion):null,webSearchSuggestions:c?this.renderWebSearchSuggestion():null,onAdvancedSearchButtonClick:this.handleAdvancedSearchButtonClick,onScopeChange:this.handleScopeChange,onScopeClick:this.handleScopeClick,advancedSearchPane:d,hasPillFolder:this.hasPillFolder()})),vl.createElement(Hl.default,{className:r.searchButton,"data-test-id":"search-basic-btn",tabIndex:Fe.iUz.APP_HEADER_SEARCHBOX,title:s(aL.search_button_title),"aria-label":s(aL.search_button_title),kind:xl.Kinds.SEARCH,size:xl.Sizes.S,onClick:this.handleBasicSearchSubmit,colorState:xl.ColorStates.INVERTED,"data-iskeynav":!0,paddingLess:!0}))}}sL(iL,"contextTypes",{navigateTo:yl().func.isRequired,intl:Gl.intlShape.isRequired,partner:yl().string}),sL(iL,"defaultProps",{importantContacts:[],suggestionsQuery:"",searchQuery:{},onSearchChange:()=>{},onSearchBarFocus:()=>{}});const lL=(0,Fl.connect)(((e,t)=>{const{formatFolderName:s,getFoldersSelectors:a,getSearchSuggestions:n,isFeatureEnabled:r,getRecentSearchesSelectors:o,getDefaultFolderIdForSelectedAccount:i,isAdvancedSearchPaneOpen:l,getCurrentFolderDetails:c,getRoute:d,getCustomFolderList:_,listExistsAndIsEmpty:E}=(0,Oc.selectors)(e),{getAccountIdByFolderId:u,getSystemFolderList:m,doesFolderIdExist:p}=a(),C=r(S.ANe.CONVERSATIONS),A=r(S.ANe.YBAR_FUJI2_THEME),{getRecentSearchesCallStatus:T}=o(),{folderId:I}=c(),{activeAccountId:h}=t,g=i(),O=d(),D=(0,Rc.LY)(O),R=(0,Rc.Q7)(D);return{getAccountIdByFolderId:u,getSearchSuggestions:n,conversations:C,ybarFujiTheme:A,formatFolderName:s,alternateSearchBox:r(S.ANe.ALTERNATE_SEARCH_BOX),advancedSearchButtonHasLabel:r(S.ANe.ADVANCED_SEARCH_BUTTON_HAS_LABEL),isAdvancedSearchPaneOpen:l(),useInboxAsDefaultForAdvancedSearch:r(S.ANe.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX),defaultAdvancedSearchFolderId:i(),recentSearchesCallStatus:T(),folderId:I,folderSearchDiscoveryEnabled:r(S.ANe.FOLDER_SEARCH_DISCOVERY),isDefaultInbox:I===g,smartViewType:(0,Rc.kw)(D),isUnreadOrStarredView:(0,Rc.rB)(O),smartViewInSearch:nT(R),systemFolderList:m(h),customFolderList:_(h),keywordFromListId:R,highlightSearchResultsPage:r(S.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),doesFolderIdExist:p,listExistsAndIsEmpty:E}}),(e=>({requestRecentSearches:t=>e((0,vN.eO)(t)),toggleAdvancedSearchPane:t=>e((0,HN.p)(t))})),void 0,{areOwnPropsEqual:h.PJ})(iL);var cL=s(90406),dL=s(12602),_L=s(33139),EL=s(92039);function uL(){return(uL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function mL(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}(0,Tc.m)({group:Ic.LQ,keys:{focusOnSearch:{key:"S,/",description:vl.createElement("strong",null,vl.createElement(Gl.FormattedMessage,{id:"shortcut.focus_search",defaultMessage:"Search"}))}}});const SL=cc.nJ.HEADER_SEARCH;class pL extends vl.Component{constructor(e){super(e),mL(this,"handleShortcuts",(e=>{const t=e.which||e.keyCode,s=String.fromCharCode(t).toLowerCase();e.preventDefault(),e.stopPropagation(),"s"!==s&&t!==hc.P.SLASH||this.focusOnSearch(e)})),mL(this,"getSmartViewSearchRoute",(e=>{const{smartViewSearch:t,name:s,keyword:a,emailAddresses:n}=e,r=(0,Rc.Ez)((0,GA.qt)(t,{...e,accountIds:this.props.activeAccountId})),o=(0,Rc.tr)(r);return a||s||n&&n.length?{name:S.n8z.SEARCH,params:{query:o},query:{}}:(0,gc.jK)(S.K8C.COUPONS,{accountIds:this.props.activeAccountId})})),mL(this,"handleSearchSubmit",(({query:e,yaiSuggestion:t,i13nModel:s})=>{const{isYaiSearchEnabled:a}=this.props,{smartViewSearch:n,keyword:r}=e;let o;if(a){let e="";const a=(0,EL.Gi)(r);if(a&&(e=(0,EL.vl)(r)),t||!a&&r.split(" ").length>=S.$eb||e.split(" ").length>=S.$eb){const e=(0,EL.py)(r),a=t||{question:e};this.props.onConsumeYaiSearch({...a,i13nModel:{...s,mKey:cc.JE.YAI_SEARCH_SUBMIT}})}}o=n?this.getSmartViewSearchRoute(e):(0,gc.jq)(e),o||(o=(0,gc.jq)({accountIds:this.props.accountList.map((e=>e.id))})),this.props.onSearchSubmit({route:o,i13nModel:s})})),mL(this,"handleSearchChange",((e,{suggestionsKeyword:t=""}={},{fetchSuggestions:s=!0,fetchEmailSuggestions:a=!1}={})=>{const{onSuggestionsRequest:n,onYaiSuggestionsRequest:r,isYaiSearchEnabled:o}=this.props;this.setState({suggestionsQuery:t||e},(()=>{o?r({query:this.state.suggestionsQuery}):s&&n({query:this.state.suggestionsQuery,fetchEmailSuggestions:a})}))})),mL(this,"handleWebSearch",(e=>{const t=encodeURIComponent(e),{webSearchURL:s}=this.props;(0,wE.x)(s.replace("%QUERY%",t))})),mL(this,"focusOnSearch",(e=>{e.preventDefault(),this.searchBoxInputRef&&this.searchBoxInputRef.focus()})),mL(this,"setRef",(e=>{this.searchBoxInputRef=e}));const{searchQuery:t}=e,{keyword:s=""}=t;this.state={suggestionsQuery:s}}componentDidMount(){this.context.bindShortcut(["s","/"],this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(["s","/"])}UNSAFE_componentWillReceiveProps({searchQuery:e={}}={}){const t=e.keyword||"",{suggestionsQuery:s}=this.state,{searchQuery:a}=this.props;(0,Rc.Ez)(a)!==(0,Rc.Ez)(e)&&s!==t&&this.setState({suggestionsQuery:t})}render(){return vl.createElement(lL,uL({},this.props,{key:this.props.searchBoxKey,suggestionsQuery:this.state.suggestionsQuery,onSearchSubmit:this.handleSearchSubmit,onSearchChange:this.handleSearchChange,onWebSearchSubmit:this.handleWebSearch,setRef:this.setRef}))}}mL(pL,"contextTypes",{getStore:yl().func.isRequired,bindShortcut:yl().func,unbindShortcut:yl().func}),mL(pL,"defaultProps",{searchQuery:{}});const CL=(0,Fl.connect)((e=>{const{isFeatureEnabled:t,getRoute:s,getSelectedAccountId:a,isWindowResizingDone:n,getAccountsForSearch:r,getRecentSearchesSelectors:o,getSmartViewTypeFromRoute:i,getSetting:l}=(0,Oc.selectors)(e),c=a(),d=s(),_=t(S.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT),E=d.name===S.n8z.SEARCH,{getRecentSearches:u}=o(),m=u(),p=r(),C=(0,Rc.LY)(d);let A=C;const T=i(d),I=(0,Rc.Q7)(A)||"",h=(0,Rc.h_)(A)||"",g=t(S.ANe.DEALS)&&T===S.K8C.COUPONS&&!_&&T,O=l(S.Zrf.WEB_SEARCH_URL),D=(0,Rc.Ie)(A);let R=E?D.keyword+D.folders:"";return R+=D.emailAddresses.join(","),!(0,Rc.GG)(A)||g&&E||(A=(0,Rc.Ez)({}),R=""),g&&(R+=T),{...E?{searchQuery:(0,Rc.Ie)(A)}:{},searchBoxKey:R,originalSearchQuery:(0,Rc.Ie)(C),isWindowResizingDone:n(),accountList:p,activeAccountId:a(),recentSearches:m,accountId:c,smartViewSearch:g,name:h,keyword:I,webSearchURL:O,isYaiSearchEnabled:t(S.ANe.YAI_SEARCH)}}),(e=>({onSearchSubmit:t=>e((0,zl.k1)(t)),onSearchBarFocus:({i13nModel:t})=>e((0,cL.tB)({i13nModel:Object.assign({sec:SL},t)})),onSearchBarBlur:({i13nModel:t})=>e((0,cL.nJ)({i13nModel:Object.assign({sec:SL},t)})),onSuggestionsRequest:t=>e((0,dL.KX)(t)),onYaiSuggestionsRequest:t=>e((0,_L.GD)(t)),onConsumeYaiSearch:t=>e((0,_L.IL)(t)),deleteRecentSearch:t=>e((0,vN.Cm)(t))})),void 0,{areStatePropsEqual:h.PJ})(pL);var AL=s(74138),TL=s.n(AL);const IL=ic()(TL()),hL=()=>vl.createElement("div",{className:IL.searchBoxContainer},vl.createElement("div",{className:IL.searchBoxInput},vl.createElement(Gl.FormattedMessage,{id:"user_registration_search_box",defaultMessage:"Find messages, documents, photos or people"})),vl.createElement(Hl.default,{disabled:!0,paddingLess:!0,size:xl.Sizes.S,kind:xl.Kinds.SEARCH,"data-test-id":"search-basic-btn",className:IL.searchButton,colorState:xl.ColorStates.INVERTED}));const gL=(0,Fl.connect)((function(e){const{getAccountSelectors:t}=(0,Oc.selectors)(e);return{userHasRegisteredAccount:t().userHasRegisteredAccount()}}))((({userHasRegisteredAccount:e})=>e?vl.createElement(CL,null):vl.createElement(hL,null))),OL=(0,JO.provideContext)((0,hu.z)(wu.JJ((0,fD.Z)(gL))),{config:yl().object,store:yl().object,loader:yl().object,appId:yl().string,partner:yl().string,timezone:Ed.TimezoneType}),DL=N.W.GET,RL=["version","launchtime","ymreqid","crumb","locale"],NL={Transport:N.Z,request:e=>NL._sendRequest(e),_sendRequest:e=>{const t=new NL.Transport(DL,S.$y3,3e3),s=RL.reduce(((t,s)=>(t[s]=e[s],t)),{});return t.setHeader("Accept","application/json"),t.send(s)}},LL=NL,fL="1.0.0";class ML extends u.Z{constructor({heartBeatCheckInterval:e=36e5,buildNumber:t,launchTime:s,guidHash:a,loggerParams:n,crumb:r,isOnline:o,locale:i,config:l={}}){super({loggerName:S.BrN.HeartbeatAPIClient,loggerParams:n,crumb:r,isOnline:o}),this.locale=i,this.emergencyRefresh=!1,this.serverVersion=fL,this.assetPrecacheEnabled=(0,p._)(l,S.ANe.ASSET_PRECACHE),a&&(this.ymreqidGenerator=new g.Z(a,S.N7x,S.Q_q)),(0,I.jU)()&&setInterval((()=>{this.request({version:t,launchtime:s}).then((e=>{if(this.emergencyRefresh=e.emergencyRefresh,this.serverVersion=e.serverVersion,this.assetPrecacheEnabled){var s,a;!function({currentVersion:e,serverVersion:t,appName:s,dir:a}){var n,r,o;(0,I.jU)()&&null!==(n=window)&&void 0!==n&&null!==(r=n.navigator)&&void 0!==r&&r.serviceWorker&&t!==fL&&e!==fL&&e!==t&&(null===(o=window.navigator.serviceWorker.ready)||void 0===o||o.then((n=>{var r;null==n||null===(r=n.active)||void 0===r||r.postMessage({type:"PRECACHE_ASSETS",payload:{version:t,appName:s,dir:a}}),se.Z.error("assetPrecacheMessage",{currentVersion:e,serverVersion:t,appName:s,dir:a})})))}({currentVersion:t,serverVersion:this.serverVersion,appName:null===(s=window.AppBootstrapData)||void 0===s?void 0:s.appName,dir:null===(a=window.AppBootstrapData)||void 0===a?void 0:a.pageDirection})}}),(()=>{this.emergencyRefresh=!1,this.serverVersion=fL}))}),e)}request(e){const t={apiName:"heartbeat",crumb:this.crumb,ymreqid:this.ymreqidGenerator.generate()},s=Object.assign({},e,t,{locale:this.locale}),a=LL.request(s),n={emergencyRefresh:this.emergencyRefresh,serverVersion:this.serverVersion};return this.logRequest(a,t),a.then((e=>e.body)).catch((()=>n))}}const PL=ML,{paths:bL,container:yL,cssBundles:vL,jsBundles:FL}=Pl[S.BQZ.MAIL_APP],UL={name:S.BQZ.MAIL_APP,component:kD,confirmMiddleware:(e,t)=>s=>{(0,I.jU)()&&window.addEventListener("beforeunload",(e=>{try{const{showUnsyncedDataWarning:a,isFeatureEnabled:n}=(0,Oc.selectors)(s.getState()),r=n("promptToSync")&&(a()||t().some((e=>e.preventRouteChange))),o=window.AppIntl.messages[WD.hasUnsavedMessage.id];if(r)return e.returnValue=o,o}catch(a){se.Z.error("confirm_middleware_redux_store_getstate_error",{...window.AppBootstrapData.loggerParams,name:a.name||"",startTime:Date.now(),message:a.message||"",stack:new ZD.H(a).toString()})}}));let a=!1;return t=>n=>{const{getRoute:r,isFeatureEnabled:o}=(0,Oc.selectors)(s.getState());if(r().name){if(a)return;if(n.route&&n.previousRoute!==n.route&&o("promptToSync")&&n.unsyncedData.some((e=>e.preventRouteChange)))return(0,xD.C)(vl.createElement(VD.Z,{primaryButtonLabel:WD.confirmRouteChangeModalLeaveButton,secondaryButtonLabel:WD.confirmRouteChangeModalCancelButton,customTitle:vl.createElement(Gl.FormattedMessage,WD.confirmRouteChangeModalTitle),showCustomTitle:!0,message:vl.createElement(Gl.FormattedMessage,WD.confirmRouteChangeModalBody),onPrimaryButtonClick:()=>{a=!1,t(n)},onSecondaryButtonClick:()=>{a=!1},onClose:()=>{a=!1}}),e.getComponentContext()),void(a=!0)}return t(n)}},routes:Object.keys(bL).reduce(((e,t)=>({...e,[t]:{method:"GET",path:bL[t]}})),{}),stores:[],plugins:[BD],cssBundles:vL,jsBundles:FL,container:yL,apiClientConstructors:o()(Nl.apiClientConstructors,{heartbeatAPIClient:PL}),batchMethods:o()(Nl.batchMethods,{}),rootReducer:Oc.default,selectors:Oc.selectors,enhancers:MN,actionSyncers:PN.Z,searchComponent:OL};s(62173),s(3758),s(49810),s(12648);var kL=s(38032),wL=s.n(kL);var GL=s(93343),HL=s.n(GL),BL=s(38963),xL=s.n(BL),VL=s(45953),ZL=s(53894);const WL=_e().create("norrin/actions"),KL=_e().create("norrin/action_error"),zL=({crumb:e,loggerParams:t={}})=>()=>s=>a=>{const{error:n,type:r,route:o={},tabRecencyRank:i}=a;if(n)try{let e=null;e="string"==typeof n?{message:n}:Object.assign({},n.data||{},function(e=null){if(!e)return{};const t=new ZD.H(e);return{name:e.name||"",message:(0,fC.N2)(e.message||""),stack:t.toString()}}(n)),KL.fatal(`${r} failed`,{error:e})}catch(E){KL.fatal(`${r} failed`,{message:"actionErrorLogger exception"})}let l=!1;"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(l=window.matchMedia("(prefers-color-scheme: dark)").matches);const c={...t,action:r,prefersDark:l,crumb:e};r===$c.OPEN_PAGE_REQUESTED&&(c.routeName=o.name,c.routeUrl=o.url,void 0!==i&&(c.tabRecencyRank=i)),[$c.MESSAGE_AUTO_SAVE_FAILED,$c.MESSAGE_AUTO_SAVE_REQUESTED,$c.MESSAGE_AUTO_SAVE_SUCCEEDED,$c.MESSAGE_SAVE_FAILED,$c.MESSAGE_SAVE_REQUESTED,$c.MESSAGE_SAVE_SUCCEEDED,$c.SEND_FAILURE,$c.SEND].indexOf(r)>-1&&(c.csid=a.csid),"undefined"!=typeof performance&&performance.now&&(c.elapsedTime=performance.now());const d=WL.feature("flux_action",c);"undefined"!=typeof window&&window.requestAnimationFrame(d.logLatency);const _=s(a);return d.data.sametickTime=Date.now()-d.startTime,"undefined"==typeof window&&d.logLatency(),_},YL=(e,{unsyncedDataManager:t,performance:s={},selectors:a})=>{const n=(e=>(t,s)=>e.reduce(((e,s)=>s(t,e)),s))(e);return e=>r=>o=>{if(o.unsyncedData)throw new Error("RESERVED_ACTION_PAYLOAD_KEY",'"unsyncedData" is reserved key for handling flux work flows in mail. Please use "PreserveDataOnUnmount" component to save data during unmount');const i=Date.now(),l=s.now?s.now():0,c=e.getState(),{getReconciledUnsyncedData:d,getRequestHashForUnsyncedDataItem:_,getCurrentHistoryState:E}=a(c),u=E();return r(n(c,{...o,actionTimestamp:i,elapsedTimeFromSessionStart:l,historyState:u,unsyncedData:[].concat(d()).concat(t.getUnsyncedData()).filter((e=>{if(!e||!e.type)return!1;if(e.isAutoGenerated){const s=_(e);return!t.isUnsyncedDataItemSyncedByRequestHash(s)}return!0})).map((e=>e.timestamp?e:{...e,timestamp:i}))}))}};function jL(e){const t={c1:2,c2:(null==e?void 0:e.toUpperCase())===S.Bs7.AOL?1000009:7241469,ns__t:Date.now(),c8:" ",c9:" "};if((0,I.jU)()){const{origin:e,pathname:s}=window.location,a=encodeURI(`${e}/comscore_beacon${s}/page_view.htm`),{comScore:n}=window.AppBootstrapData||{};n&&-1!==n.LTT&&(t.c14=n.LTT),n&&-1!==n.ageCode&&-1!==n.genderCode&&(t.c15=n.ageCode+"$"+n.genderCode),t.c7=a}return t}var qL=s(77684);const XL=(e,t,{selectors:s},a={})=>{var n,r,o;const{isFeatureEnabled:i,getRoute:l,doesListExist:c,getListItemIds:d,getGroupIdContainingMessageId:_,getMessageIdsFromMessageGroupId:u,getMessageFlags:m}=s(e),p=l(),C=(0,Rc.LY)(p),A=c(C)?d(C):[],T=i(S.ANe.CONVERSATIONS);i(S.ANe.NEWUSER_MKTG_BEACON)&&($_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.NEWUSER_MARKETING_BEACON,sec:cc.nJ.LAUNCH}}),function(){const e={type:"mbrship",cat:"mshipcfm",u1:window.AppBootstrapData.userBeaconHash,u2:"new"};(0,GE.J)(`https://s.yimg.com/jk/gtm/gtm_ns_v2.html?id=GTM-PGXXFKN&${E.stringify(e)}`)}()),p.query&&"ie2edge"===p.query.reason&&$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.IE_TO_EDGE,sec:cc.nJ.LAUNCH}}),i(S.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE)&&$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE,sec:cc.nJ.LASTPASS_FREETRIAL_UPSELL,interactionType:cc.Rb.nav}});const I=[],h=[],g=A?A.filter((e=>{const t=e&&(T?e:_(e)),s=e&&-1===I.indexOf(t);return s&&I.push(t),s})).map(((e,t)=>{const s=T?e:_(e),a=u(s),n=a.some((e=>m(e).flagged)),r=a.every((e=>m(e).read));return h.push(...a),{i:t,grpId:s,cnt:a.length,is_star:n?1:0,is_unrd:r?0:1}})).slice(0,10):[],O=i(S.ANe.COMMERCIAL_ANALYSIS_OF_CONTENT),D=i(S.ANe.SHOW_HUMAN_READABLE_CONSENT_SETTING),R=i(S.ANe.YBAR_MAIL_PLUS_SHORTCUT_PROMPT)&&(null==a||null===(n=a.subscriptionDetails)||void 0===n?void 0:n.renderYbarPrompt)||!1,N=(null==a||null===(r=a.subscriptionDetails)||void 0===r?void 0:r.mailPluSignedUpWithin7Day)||!1,L=(null==a||null===(o=a.subscriptionDetails)||void 0===o?void 0:o.mailPluSignedUpWithin21Day)||!1;$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.LAUNCH,sec:cc.nJ.LAUNCH,mKeyGroup:cc.rO.listing,interactionType:cc.Rb.view,actionData:{pos_info:g,commercialAnalysisOptedIn:O,humanReviewOptedIn:D,canSellPersonalInfo:a.canSellPersonalInfo,msgId:h.slice(0,10).join(","),ybarMailPlusPromptRendered:R,mailPluSignedUpWithin7Day:N,mailPluSignedUpWithin21Day:L}}},e)},QL=(e,{selectors:t})=>{const{getMainStreamListIds:s,getRoute:a,getCursorItem:n,doesStreamExist:r}=t(e),o=a(),i=(0,Rc.LY)(o),l=s(o),c=(0,$E.BA)(l),d=r(c)?n(c):void 0;return d?{route:o,streamItem:d}:{listId:i,route:o}},JL=(0,qL.$p)(),$L=(e,t,{AppBootstrapData:s,selectors:a})=>{var n;if(!(0,I.jU)())return;const{spaceId:r,pageParams:o,activeViewType:i}=JL(e,{browserLoggerParams:window.BrowserLoggerParams});r&&(e=>{(0,I.jU)()&&(0,h.u9)(window,"YAHOO.i13n")&&(window.YAHOO.i13n.SPACEID=e)})(r);const{isFeatureEnabled:l,isOriginSearchRoute:c,getSetting:d}=a(e),_=$_.ZP.getRapidInstance(),E={spaceid:r,test_id:s.usmLogString,keys:o,dwell_on:!0,extendbcookie:!0},u={canSellPersonalInfo:s.canSellPersonalInfo,subscriptionDetails:(null==s?void 0:s.subscriptionDetails)||{}};if(!_){if(t.i13nModel){const{actionData:e={}}=t.i13nModel;t.i13nModel={...t.i13nModel,actionData:{...e,firstLaunch:!0}}}$_.ZP.init({rapid:E}),XL(e,0,{selectors:a},u)}if(t.i13nModel&&(t.i13nModel.isBeaconEvent?$_.ZP.sendBeaconEvent(t,e):$_.ZP.sendI13nModel(t,e,c())),!r)return;(null===(n=t.i13nModel)||void 0===n?void 0:n.mKeyGroup)===cc.rO.deleteMsg&&(i===qL.TU.MESSAGE_READ||i===qL.TU.MESSAGE_LIST&&d(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO)&&$_.ZP.sendI13nModel({...QL(e,{selectors:a}),i13nModel:{mKey:cc.JE.OPEN_MSG,mKeyGroup:cc.rO.openMsg,sec:i===qL.TU.MESSAGE_READ?cc.nJ.MSG_READ_TOOLBAR:cc.nJ.MSG_LIST_TOOLBAR}},e,c()),_&&_.reInit(E),((e,t)=>{_e().set(t),e&&e.beaconPageview()})($_.ZP.getRapidInstance(),o),l(S.ANe.COM_SCORE_BEACONING)&&function(e){const t=jL(e),{c7:s}=t;(0,GE.Z)(s,!1),window.COMSCORE&&window.COMSCORE.beacon&&window.COMSCORE.beacon(t)}(s.partner);const m=function(e,t){let s={};const{getRoute:a,isFeatureEnabled:n,couldShowEmptyFolderVideo:r,getFoldersSelectors:o,getParticipantInFocus:i,getSmartViewTypeFromListId:l,listExistsAndIsEmpty:c,getAdsSelectors:d}=(0,Oc.selectors)(e),{doesFolderIdExist:_,getFolderName:E}=o(),u=n(S.ANe.EMPTY_FOLDER_VIDEO),m=a(),{fid:p}=m.params||{},C=(0,Rc.LY)(m),A=n(S.ANe.RELATED_SEARCHES_CARD),{email:T=""}=i()||{},I=(0,Rc.WN)(C);if(!A||t.type!==$c.OPEN_PAGE_REQUESTED&&t.type!==$c.PREVIEW_MESSAGE_REQUESTED||(s={...s,relatedSearchesCard:A,emailAddress:T}),r()){const e=n(S.ANe.EMPTY_FOLDER_ALTER),t=n(S.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER),a=(0,Rc.yE)(C);let r=_(p)?E(p):"";r=!r&&a?l(C).toLowerCase():"string"==typeof r?r.split("/").pop():r,e&&(s.emptyFolderAlter=e,s.upsellType=d().getEmptyFolderAlterUpsellType()),t&&(s.staticMailPlusUpsellEnabled=t),s={...s,emptyFolderVideo:u,folderName:r}}if(I===S.F6k.TRAVEL_CARDS&&c(C)){const e=(0,Rc.C4)(C)===S.ukn.TRAVEL_VIEW_UPCOMING?cc.pf.TRAVEL_UPCOMING:cc.pf.TRAVEL_PAST;s={...s,eventName:cc.fS.SEARCH_ZERO_RESULTS,etrg:"change",outcome:e}}return Object.keys(s).length?s:null}(e,t);m&&$_.ZP.sendI13nModel({i13nModel:{mKey:cc.JE.FEATURE_VIEWED,sec:cc.nJ.FEATURE_VIEWABILITY,interactionType:cc.Rb.nav,actionData:m}})},ef=(0,I.jU)()&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:()=>e=>e,tf=()=>({hash:S.sKi.POST_LUNCH_TO_SYNC,timestamp:0,type:S.sKi.POST_LUNCH_TO_SYNC,userInputtedValues:{}});const sf="WAITING",af="ISSUED",nf="COMPLETED";function rf(){this.queue=[]}rf.prototype.sync=function(e,t,s=!1,a=!1){if("function"!=typeof e)throw new Error("Mutex.prototype.sync requires a callback function");return new Promise(((n,r)=>{this.queue.push({id:t,issueInParallel:s,isSafeToRejectEarly:a,timer:void 0,status:sf,callback:e,resolve:n,reject:r}),te.Z.debug(`Mutex: ${t} was just added to the queue.`),function(e){const t=`[${e.slice(0,10).map((({id:e})=>e)).join(", ")}]`;te.Z.debug(`Mutex: The first ten elements of the queue are ${t}`)}(this.queue),this.next()}))},rf.prototype.next=function(){if(!this.queue.length)return;let e=!1;this.queue=this.queue.filter((e=>e.status!==nf));for(let s=0;s<this.queue.length;s++){const a=this.queue[s];switch(a.status){case sf:if(!a.issueInParallel&&e)return;a.status=af,e=!0;try{this.execute(a)}catch(t){this.reject(a,t)}if(!a.issueInParallel)return;break;case af:if(e=!0,!a.issueInParallel)return}}},rf.prototype.execute=function(e){const t=this.resolve.bind(this,e),s=this.reject.bind(this,e);e.isSafeToRejectEarly&&(e.timer=setTimeout((()=>{te.Z.debug(`Mutex: clearing ${e.id} from queue because it timed out.`),te.Z.error(`Mutex: clearing ${e.id} from queue because it timed out.`);const t=this.queue.reduce(((e,t)=>e.concat(`${t.id}:${t.status}`)),[]).join(","),a=new C.Z("RequestQueue.Timeout",{errorCode:"REQUEST_QUEUE_TIMEOUT",statusCode:0,qStatus:t});s(a)}),12e4));const a=e.callback(t,s);var n;void 0!==(n=a)&&(n instanceof Promise||n.then&&n.catch)&&a.then(t,s)},rf.prototype.resolve=function(e,t){e.resolve(t),e.status=nf,te.Z.debug(`Mutex: ${e.id} was RESOLVED.`),e.timer&&clearTimeout(e.timer),this.next()},rf.prototype.reject=function(e,t){e.reject(t),e.status=nf,te.Z.debug(`Mutex: ${e.id} was REJECTED.`),e.timer&&clearTimeout(e.timer),this.next()};const of=rf,lf=(0,h.gP)(["launch.skeleton","launch.folder","launch.message","launch.compose","launch.messageGroup","postLaunch.getComposeAttributes","postLaunch.postSync","folderChange.getList","folders.get","folders.delete","folders.create","folders.rename","folderList.delete","folderList.update","mailbox.syncNow","mailbox.getAttributes","mailSearch","messages.saveV3","messages.autoSaveV3","sponsoredMessages.save","messages.saveWithAttachment","messages.send","messages.updateDecos","messages.updateSchemaOrg","messages.getDeletedMessages","messages.UnifiedUpdate","messages.readFlagUpdate","messages.starFlagUpdate","messages.move","messages.delete","messages.getBodies","messages.getCompose","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.getRawMessage","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messages.saveAndSend","messages.saveAndSendWithAttachment","messages.saveRawMessage","messages.trashAndDelete","messages.getExtractions","messageGroups.get","messageGroups.getFallback","messageGroups.getList","messageGroups.getPinnedList","messageCards.getList","couponCards.getParentMessage","consolidatedCoupons.getList","productRecommendation.items","refundCards.getList","undo.list","checkMail","getReceipts","getMoreReceipts","document.fetch","task.status","task.abort","settings.get","settings.getFeatureAttributes","settings.setBaseName","settings.setBaseNameJWS","settings.getDEABaseNameSuggestions","settings.saveMessageFilters","settings.saveBlockedSenders","saveArrayAttributes","settings.saveVacationPreferences","settings.saveWebMailboxAttributes","settings.saveWebMailboxMultiAttributes","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","searchSuggestions","searchSuggestionsStream","recentSearches","searchItems","searchGifs","cloudStorageItems","searchTenorGifs","getContentProviders","linkContentProvider","search","unseenCount.reset","account.getAlerts","account.updateAlerts","cards.create","accounts.get","senders.getList","subscriptionDetail.getList","marketingPreferences.read","marketingPreferences.unsubscribe","marketingPreferences.subscribe","savedSearches.getBlockedDomains","savedSearches.addBlockedDomain","savedSearches.deleteBlockedDomain","savedSearches.getMessageFilters","savedSearches.saveMessageFilters","savedSearches.deleteMessageFilter","savedSearches.updateMessageFilterPriority"]),cf=(0,h.gP)(["mailSearch","messages.saveV3","messages.autoSaveV3","messages.saveAndSend","messages.send","messages.getBodies","messages.getCompose","messages.getDeletedMessages","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messages.prefetchGetBodies","messages.prefetchGetBodiesFull","messages.prefetchGetExtractedBodies","messages.prefetchGetExtractedBodiesFull","messages.getBodiesFallback","messages.getBodiesFullFallback","messages.getExtractedBodiesFallback","messages.getExtractedBodiesFullFallback","messages.prefetchGetBodiesFallback","messages.prefetchGetBodiesFullFallback","messages.prefetchGetExtractedBodiesFallback","messages.prefetchGetExtractedBodiesFullFallback","messageGroups.get","document.fetch","searchGifs","cloudStorageItems","searchTenorGifs","localStores","searchSuggestions","searchSuggestionsStream","recentSearches","settings.get","settings.getFeatureAttributes","settings.saveBlockedSenders","settings.saveVacationPreferences","settings.setBaseName","settings.setBaseNameJWS","settings.addAccount","settings.updateAccount","settings.deleteAccount","settings.getAttributesToMigrate","settings.migrateSettings","settings.resendConfirmEmail","settings.createAlias","task.status","unseenCount.reset","account.getAlerts","account.updateAlerts","postLaunch.postSync","mailbox.syncNow","marketingPreferences.read","marketingPreferences.subscribe","marketingPreferences.unsubscribe","savedSearches.getBlockedDomains","savedSearches.getMessageFilters","savedSearches.saveMessageFilters","savedSearches.deleteMessageFilter","savedSearches.updateMessageFilterPriority"]);function df(){this.checkMailRequestWrappers=[],this.mutex=new of}df.prototype.add=function(e,t){return this._isSafeToRejectEarly(t)||this._rejectAndRemoveCheckMailsFromQueue(),this._canGoInParallel(t)?e():this._addToRequestQueue(e,t)},df.prototype.addStream=function(e,t){return this._canGoInParallel(t)?e():this._addStreamToRequestQueue(e,t)},df.prototype._canGoInParallel=function(e){if(!lf[e])throw new Error(["Unknown API call name: `"+JSON.stringify(e)+"`","Make sure that all the request of the API client are added to","ALL_REQUESTS list. This is done to make sure all new API requests","are aware of the serialization logic and nothing goes out of sync and","potentially breaks application data integrity. @see","https://docs.google.com/document/d/1yOwsTIcXla6CeIn42W9VKfd9JjJ1ajAtfE6CH6PfjeM","for more info."].join("\n"));return!!cf[e]},df.prototype._addToRequestQueue=function(e,t){return this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue(),new Promise(((s,a)=>(this._isCheckMail(t)&&this.checkMailRequestWrappers.push({reject:a}),this._sync(e,t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).then(s,a))))},df.prototype._addStreamToRequestQueue=function(e,t){this._isCheckMail(t)||this._rejectAndRemoveCheckMailsFromQueue();const s=R()();return this.mutex.sync(((t,a)=>{const n=e();n.pipe(s),n.on("end",t),n.on("error",(e=>{s.emit("error",e),a(e)}))}),t,this._isWriteToBackend(t),this._isSafeToRejectEarly(t)).catch((e=>{te.Z.error("addStreamToRequestQueue_error",e)})),s},df.prototype._sync=function(e,t,s,a){return this.mutex.sync((function(){return e()}),t,!s,a)},df.prototype._rejectAndRemoveCheckMailsFromQueue=function(){this.checkMailRequestWrappers.forEach((e=>{e.reject(new C.Z("RequestQueue.Rejected",{errorCode:"REQUEST_QUEUE_REJECTED",statusCode:0}))})),this.checkMailRequestWrappers=[]},df.prototype._isCheckMail=function(e){return"checkMail"===e},df.prototype._isSafeToRejectEarly=function(e){return"messages.saveV3"!==e&&"messages.autoSaveV3"!==e&&"messages.saveWithAttachment"!==e&&"messages.saveAndSend"!==e&&"messages.send"!==e&&"messages.saveAndSendWithAttachment"!==e},df.prototype._isWriteToBackend=function(e){return"messages.update"===e||"settings.saveWebMailboxAttributes"===e||"messages.updateDecos"===e||"messages.updateV3"===e||"messages.UnifiedUpdate"===e||"messages.delete"===e||"messages.trashAndDelete"===e||"cards.create"===e||"settings.saveBlockedSenders"===e||"saveArrayAttributes"===e||"messages.updateSchemaOrg"===e};const _f=df;var Ef=s(61908);class uf{constructor(e,{apiClientConstructors:t,batchMethods:s,isOnline:a}){const n=new _f;Object.keys(t).forEach((r=>{const o=t[r],i=(0,Ef.U8)(e.userNamespace),l=(0,Y.Sf)()?i.PSEARCH_HOST:(0,p.N)(e.config,"bootcampHostURL"),c=e.buckets;this[r]=new o({...e,endpoints:i,wssid:e.mailWssid,bootcampHost:l,isOnline:a,batchMethods:s,requestQueue:n,..."bootcampClient"===r?{buckets:c}:{}})}))}setMailBoxParams(e,t){const s=()=>{const{getAccountSelectors:s,getSelectedMailboxId:a,getSelectedAccountId:n}=t(e.getState()),r=a();if(!r)return{};const{getAccountEmailByAccountId:o,getAccountTypeByAccountId:i}=s(),l=n();return{mailboxid:r,mailboxId:r,mailboxemail:o(l),mailboxtype:i(l)}};Object.keys(this).filter((e=>this[e].setMailboxParams)).forEach((e=>{this[e].setMailboxParams(s)}))}}const mf=(e,t)=>{setTimeout((()=>{e(),mf(e,t)}),t)};class Sf{constructor(){this.listeners=[],this.syncAttempts={}}_getUnsyncedData(){return this.listeners.map((e=>e()))}_registerHandler(e){return this.listeners.push(e),{remove:()=>{this.listeners=this.listeners.filter((t=>t!==e))}}}_isUnsyncedDataItemSyncedByRequestHash(e){return(this.syncAttempts[e]||{}).synced||!1}}function pf({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=(o=!0)=>{const{isOnline:i,getAction:l,getUnsyncedDataToSync:c,getRequestHashForUnsyncedDataItem:d}=s(e.getState());if(!i()||(0,I.jU)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const _=l(),E=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce(((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&E-s.timestamp>s.syncDefer&&E-s.timestamp>s.syncThrottle?e:{...e,[t]:s}}),{});[...c()].sort(((e,t)=>e.timestamp-t.timestamp)).map((e=>{const t=d(e),s=r.syncAttempts[t]||{};return{...e,timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:S.Bwi,requestHash:t}})).filter((e=>{const t=r.syncAttempts[e.requestHash];return!(e.isAutoGenerated&&!o)&&(t?!t.syncing&&(t.synced&&E-t.timestamp>e.syncDefer&&E-t.timestamp>e.syncThrottle):!r.syncAttempts[e.requestHash]&&E-e.timestamp>=e.syncDefer)})).map((o=>{const i=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:a}=s(e.getState()),i=Date.now();if(r.syncAttempts[o.requestHash].synced=!0,r.syncAttempts[o.requestHash].syncing=!1,r.syncAttempts[o.requestHash].timestamp=i,!(0,I.jU)())return;const l=t(o.requestHash,i);o.isAutoGenerated||!l||l.repeat||(r.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:_.type,routeName:a().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:_.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const l=_.type!==$c.SYNC_DATA&&a[o.type]?[].concat(a[o.type]):a[$c.SYNC_DATA].filter((e=>(0,I.jU)()||e.isomorphic)).map((e=>e.syncer)),c=_.type===$c.SYNC_DATA||!a[o.type];((s,a,n=!0)=>Promise.all((s||[]).map((s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r}))).catch((e=>{throw e})))(l,{...o.userInputtedValues,unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:r.syncAttempts[o.requestHash]},c).then(i,i)}))};if((0,I.jU)()){const t=!1;e.subscribe((()=>Promise.resolve(o()))),mf((()=>o(t)),100)}return o}class Cf{constructor(e){this.explicitTimeoutRequested=!1,this.nextTime=e}deferNextUntil(e){this.explicitTimeoutRequested=!0,e<this.nextTime&&(this.nextTime=e)}}class Af{constructor(e){this.task=e,this.reschedule=!1,this.name=e.name||""+(1e4*Math.random()|0),this.lastInvokeTime=0,this.logMessages=[],this.logEnabled=!0}flushLog(){this.logEnabled&&(te.Z.debug(`Scheduler<${this.name}>: ${this.logMessages.join("; ").trim()}`),this.logMessages=[])}log(e){this.logEnabled&&this.logMessages.push(e)}clearTimersIfNecessary(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null,this.log("Canceled callback"))}executeTask(e,t,s){this.lastInvokeTime=Date.now();const a=s.timeRemaining();e?this.log("Executing priority task"):this.log(`Executing idle task; timeSinceScheduled = ${Date.now()-this.lastInvokeTime}ms, timeRemaining = ${a}ms`);const n=Date.now();this.task(e,t,s);const r=Date.now()-n;this.log(`Completed in ${r}ms`),r>a&&this.log(`Warning: Overran idle budget by ${r-a}ms!`),this.flushLog()}invoke(e=null,t=3e4){this.clearTimersIfNecessary();const s=new Cf(t),a={didTimeout:!1,timeRemaining:()=>Number.MAX_VALUE};null!==e&&this.executeTask(e,s,a),this.reschedule&&(this.timeoutHandle=setTimeout((()=>this.invoke(!1)),s.nextTime),this.log(`Scheduling callback in ${s.nextTime}ms`),this.flushLog())}silence(){this.logEnabled=!1}runWhenIdle({timeout:e=-1}={}){this.reschedule=!0,e>0?this.invoke(!1,e):this.invoke()}runImmediately(){this.invoke(!0)}}function Tf({store:e,apiClients:t,selectors:s,actionSyncers:a,logger:n,unsyncedDataManager:r}){const o=new Af(((o,i)=>{const{isOnline:l,getAction:c,getUnsyncedDataToSync:d,getRequestHashForUnsyncedDataItem:_}=s(e.getState());if(!l()||(0,I.jU)()&&navigator&&void 0!==navigator.onLine&&!1===navigator.onLine)return;const E=c(),u=Date.now();r.syncAttempts=Object.keys(r.syncAttempts).reduce(((e,t)=>{const s=r.syncAttempts[t]||{};return o&&s.synced&&u-s.timestamp>s.syncDefer&&u-s.timestamp>s.syncThrottle?e:{...e,[t]:s}}),{});[...d()].sort(((e,t)=>e.timestamp-t.timestamp)).map((e=>{const t=_(e),s=r.syncAttempts[t]||{};return{...e,timestamp:s.synced?s.timestamp:e.timestamp,syncDefer:e.syncDefer||0,syncThrottle:void 0!==e.syncThrottle?e.syncThrottle:S.Bwi,requestHash:t}})).filter((e=>{const t=r.syncAttempts[e.requestHash];if(e.isAutoGenerated&&!o)return!1;const s=u-e.timestamp;if(t){if(t.syncing)return!1;const s=u-t.timestamp;return!!(t.synced&&s>e.syncDefer&&s>e.syncThrottle)||void i.deferNextUntil(Math.max(e.syncDefer-s,e.syncThrottle-s))}if(s>=e.syncDefer)return!0;i.deferNextUntil(e.syncDefer-s)})).map((o=>{const i=()=>{const{getUnsyncedDataToSyncByRequestHash:t,getRoute:a}=s(e.getState()),i=Date.now();if(r.syncAttempts[o.requestHash].synced=!0,r.syncAttempts[o.requestHash].syncing=!1,r.syncAttempts[o.requestHash].timestamp=i,!(0,I.jU)())return;const l=t(o.requestHash,i);o.isAutoGenerated||!l||l.repeat||(r.syncAttempts[o.requestHash].syncing=!0,n.error("unsyncedData_manager_error",{unsyncedDataType:o.type,requestHash:o.requestHash,actionType:E.type,routeName:a().name,errorMessage:"UnsyncedDataItem is already synced. Probably it is not removed in the reconciler step"}))};r.syncAttempts[o.requestHash]={synced:!1,syncing:!0,timestamp:E.actionTimestamp,syncDefer:o.syncDefer,syncThrottle:o.syncThrottle};const l=E.type!==$c.SYNC_DATA&&a[o.type]?[].concat(a[o.type]):a[$c.SYNC_DATA].filter((e=>(0,I.jU)()||e.isomorphic)).map((e=>e.syncer)),c=E.type===$c.SYNC_DATA||!a[o.type];((s,a,n=!0)=>Promise.all((s||[]).map((s=>{const r=s(e,a,t);if(n&&(!r||"function"!=typeof r.then))throw new Error(`${s.name} Syncer function should return promise`);return r}))).catch((e=>{throw e})))(l,{...o.userInputtedValues,unsyncedDataItemRequestHash:o.requestHash,unsyncedDataType:o.type,syncAttempts:r.syncAttempts[o.requestHash]},c).then(i,i)}))}));return(0,I.jU)()&&(e.subscribe((()=>o.runImmediately())),o.runWhenIdle()),o.runImmediately.bind(o)}const If=Object.values($c);const hf=({store:e,selectors:t,navigateToRoute:s,routesInfo:a,getRouteInfo:n})=>{const{getRoute:r,getRouteUrl:o,getSelectedMailboxId:i,getAccountSelectors:l}=t(e.getState()),c=r(),d=(0,gc.w2)(a,n(location.href));i()&&!(0,gc.Vu)(c,d)&&l().userHasRegisteredAccount()&&history.replaceState(0,null,o()),e.subscribe((()=>{const{getAction:s,getCurrentHistoryState:a}=t(e.getState()),{historyState:n,type:r,popstate:o}=s();let i=[];n&&(i=n.historyStack);const{historyStack:l,activePageIndex:c}=a();if(!If.includes(r)||(_=i,(d=l).length===_.length&&d.every(((e,t)=>e.backIdx===_[t].backIdx&&(0,gc.Vu)(e.route,_[t].route))))||!history)return;var d,_;const E=l[c].route.url;switch(r){case $c.INITIAL_STATE:case $c.LAUNCH_COMPLETED:return void history.replaceState(0,null,E);default:return void(void 0===o&&history.pushState(history.state+1,null,E))}})),window.addEventListener("popstate",(r=>{!function(e,t,s,a,n,r){let o,i=(0,gc.w2)(r,t(location.href)),l=e.state,c=!1;const{getCurrentHistoryState:d,getReconciledValidPage:_}=s(a.getState()),{historyStack:E}=d();!l||l<0||l>=E.length?(l=0,c=!0):(0,gc.Vu)(i,E[l].route)||(l=0,c=!0);const u=_(i,!0);u&&(o=u,i=(0,gc.w2)(r,o.route)),a.dispatch(n({route:i,popstate:l,nextPage:o,startOverStack:c}))}(r,n,t,e,s,a)}))};var gf=s(30532);const Of=(e,{apiClientConstructors:t,batchMethods:s,confirmMiddleware:a,routes:n,rootReducer:r,storeSubscribers:o,selectors:i,enhancers:l,actionSyncers:d},u,{isOnline:m}={},p)=>{const C=new uf(e,{apiClientConstructors:t||{},batchMethods:s||{},isOnline:m}),A=function(){const e=new Sf;return e.getUnsyncedData=e._getUnsyncedData.bind(e),e.registerHandler=e._registerHandler.bind(e),e.isUnsyncedDataItemSyncedByRequestHash=e._isUnsyncedDataItemSyncedByRequestHash.bind(e),e}(),T=(0,I.jU)()&&window.performance?window.performance:void 0,h=[zL({crumb:e.crumb,loggerParams:(0,I.jU)()?{}:e.loggerParams}),ZL.Z.withExtraArgument(C),YL(l(e),{unsyncedDataManager:A,performance:T,selectors:i})];a&&c()(a)&&h.push(a(p,A.getUnsyncedData));const g=function(e,t,s){const a=(0,kl.createStore)(e,(0,I.jU)()?{...t,unsyncedData:t&&t.unsyncedData?[...t.unsyncedData,tf()]:[tf()]}:t,(0,kl.compose)((0,kl.applyMiddleware)(...s),ef()));a.injectedReducers={};const n=a.dispatch.bind(a),r=a.getState.bind(a);return a.currentActionType=null,a.getState=()=>{try{return r()}catch(e){throw se.Z.error("redux_store_getState_error_during_dispatch_progress",{action:a.__debuglastAction,startTime:Date.now()}),e}},a.dispatch=e=>{const{type:t}=e;try{return a.currentActionType&&se.Z.error("redux_overlapping_dispatch",{curAction:a.currentActionType,action:t,startTime:Date.now()}),a.currentActionType=t,a.__debuglastAction=t,n(e)}catch(s){throw(0,I.jU)()?(s.name="REDUX_DISPATCH",s.data={action:t}):se.Z.error("redux_server_dispatch_error",{action:t,errorMessage:(0,fC.N2)(s.message||"")}),s}finally{a.currentActionType=null}},a}(r,u,h);g.registerUnsyncedDataHandler=A.registerHandler,C.setMailBoxParams(g,i);const{appRootPath:D}=Pl[e.appName]||{},R=D||S.jQ2,N=Object.keys(n).map((e=>({name:e,path:R+n[e].path}))),L=(0,gc.oS)({appName:e.appName,routesConfig:N}),f={AppBootstrapData:e,store:g,selectors:i,apiClients:C,unsyncedDataManager:A,actionSyncers:d,i13n:$L,logger:te.Z,routesConfig:N,routesInfo:L,getRouteInfo:e=>{const{pathname:t,query:s}=(0,O.parse)(e),a=L.find((e=>e.pattern.match(t)));return a?{name:a.name,params:a.pattern.match(t),query:E.parse(s),url:e}:{}},navigateToRoute:zl.Ch};let M;(0,I.jU)()&&((({store:e,selectors:t,AppBootstrapData:s,apiClients:a,i13n:n})=>{e.subscribe((()=>{const r=e.getState(),{isOnline:o,getAction:i}=t(r),l=i();!o()||(0,I.jU)()&&navigator&&!1===navigator.onLine||setTimeout((function(){n(r,l,{AppBootstrapData:s,apiClients:a,selectors:t})}),0)}))})(f),hf(f)),o&&o.forEach((e=>{e(f)})),M=i(g.getState()).isFeatureEnabled(S.ANe.SYNC_DATA_ONLY_WHEN_NEEDED)?Tf(f):pf(f);const P=(({store:e,selectors:t,getRouteInfo:s,routesInfo:a,AppBootstrapData:n,routesConfig:r},o)=>i=>new Promise(((l,d)=>{e.subscribe((()=>{const{getAction:s}=t(e.getState()),{type:a,error:n}=s();switch(a){case $c.INITIAL_STATE:l();break;case $c.LAUNCH_ERROR:d(n)}}));let E=(0,gc.w2)(a,s(i));E.name===S.n8z.NEW_DRAFT&&!E.params.csid&&n.params&&n.params.csid&&(E=(0,gc.w2)(a,(0,gc.Rl)(n.params.csid),E.query));const u=_()(n,"cookie");e.dispatch((0,gf.Lo)({...u,route:E,routesConfig:r})),c()(o)&&o()})))(f,M);return{store:g,prepareDataForUrl:P,apiClients:C}};var Df=s(36554),Rf=s(76489);function Nf(e,t,s){const a=function(e,t){return(0,Rf.Q)(e)[t]||""}(e,t);if(a){const e=function(e,t){let s="";return e.split("&").forEach((e=>{const[a,n]=e.split("=");a===t&&(s=n)})),s}(a,s);if(e)return e}return""}function Lf(){return Nf(document.cookie,"Y","l").trim()}function ff(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Mf=e=>(t,{selectors:s})=>{class a extends vl.Component{constructor(...e){super(...e),ff(this,"lastVisited",{})}getChildContext(){return{navigateTo:({i13nModel:t,route:a,hashParams:n={},...r})=>{const o=Date.now(),{normalizeRoute:i}=s(e.store.getState()),l=i(a),c={...r,perfHeader:{requestStart:o},cacheControl:{lastVisited:this.lastVisited[l.url]},route:l,hashParams:n};this.lastVisited[l.url]=o,this.props.navigateToRoute({i13nModel:t,...c})},getUrlFromRoute:t=>{const{normalizeRoute:a}=s(e.store.getState());return a(t).url||""}}}render(){return vl.createElement(t,_()(this.props,"store"))}}ff(a,"displayName","RouterProvider"),ff(a,"childContextTypes",{navigateTo:yl().func,getUrlFromRoute:yl().func});return(0,Fl.connect)((e=>{const{getRoute:t}=s(e);return{route:t()}}),(e=>({navigateToRoute:t=>e((0,zl.Ch)(t))})),void 0,{areStatePropsEqual:e=>Boolean(e.route)})(a)};var Pf=s(75472),bf=s.n(Pf);const yf=_e().create("norrin/rum");let vf=!1,Ff={},Uf={};function kf(e,t={}){const s=$_.ZP.getRapidInstance();s&&s.beaconPerformanceData(e);let a={};if(e.perf_commontime&&e.perf_commontime.initialPageLoad){let t={};if(window.performance&&window.performance.timing){const{timing:e}=window.performance,{appServerTimings:s}=window;if(t={firstByte:e.responseStart-e.connectEnd,onLoad:e.loadEventStart-e.navigationStart,serverResp:e.responseEnd-e.requestStart,domInt:e.domInteractive-e.navigationStart},Array.isArray(s))for(let a=0;a<s.length;a++){const[e,n]=s[a];t[e]=n}}a=Object.assign(t,e.perf_commontime.initialPageLoad)}e.perf_usertime&&e.perf_usertime.utm&&Object.assign(a,e.perf_usertime.utm),t.additionalLogData&&"object"==typeof t.additionalLogData&&Object.assign(a,t.additionalLogData),(0,h.xb)(a)||yf.feature("rum_beacon",a).logSuccess()}function wf(){Bf()}function Gf(e,t,s){return"common"===e?(Ff.perf_commontime||(Ff.perf_commontime={}),Ff.perf_commontime.initialPageLoad||(Ff.perf_commontime.initialPageLoad={}),Ff.perf_commontime.initialPageLoad[t]=s,!0):"user"===e&&(Ff.perf_usertime||(Ff.perf_usertime={}),Ff.perf_usertime.utm||(Ff.perf_usertime.utm={}),Ff.perf_usertime.utm[t]=s,!0)}function Hf(e){Uf=Object.assign({},e)}function Bf(){kf({perf_navigationtime:2},{additionalLogData:Uf}),Ff={},Uf={}}function xf(){kf(Ff,{additionalLogData:Uf}),Ff={},Uf={}}function Vf(){const{YAFT:e,performance:t}=window;return!!(t&&vf&&e&&e.AFT2)}function Zf(e){Vf()&&window.YAFT.AFT2.end(function(e){return(t,s)=>{if(Vf()&&!s){const s=Math.round(t.aft),a=Math.round(t.visuallyComplete),n={perf_commontime:{afterPageLoad:{AFT:s,AFT2:s,STR:Math.round(t.startRender),VIC:a}}},r=$_.ZP.getRapidInstance();r&&r.beaconPerformanceData(n,e)}}}(e))}function Wf(e,t,s=!0){const a=window.YAFT,n=window.performance;if(!n||vf)return!1;if(vf=!0,s&&(n&&n.timing&&n.timing.loadEventEnd?Bf():window.addEventListener("load",wf,!1)),a){const s={modules:e.modules,modulesExclude:[],modulesAft2Container:e.aft2container,canShowVisualReport:e.yaftCanShowVisualReport,maxWaitTime:e.maxWaitTime,generateHAR:!0,useNativeStartRender:!0};let r=0;n.getEntriesByName&&n.getEntriesByName("norrinStartRender").length&&(r=n.getEntriesByName("norrinStartRender")[0].startTime,s.customStartRender=function(){return r}),a.init(s,(function(e,s){const a=function(e,t){if(t)return!1;const s=Math.round(e.aft),a=Math.round(e.visuallyComplete),n=Math.round(e.startRender),r=Math.round(e.pageLoadTime);return s&&(Gf("common","AFT",s),Gf("common","AFT1",s)),a&&Gf("common","VIC",a),n&&Gf("common","STR",n),r&&Gf("common","PLT",r),!0}(e,s);t?t():a&&xf()})),r&&a.triggerCustomTiming("norrin_main",r,r)}return!0}const Kf=9e5,zf=3e5,Yf=function(e,t){let s=0,a=0;const n=(performance||Date).now(),r=o=>{if(o-n>=1e3)return s=a,s>0&&function(e,t){var s;const a=Date.now();yf.feature("fps_sample_log",{fps:e,...null===(s=window)||void 0===s?void 0:s.BrowserLoggerParams,launchSince:a-t,logTime:a}).logSuccess()}(s,e),void(t<1e3&&jf({appStartTime:e,sampleCount:t}));a++,requestAnimationFrame(r)};requestAnimationFrame(r)};function jf({appStartTime:e,sampleCount:t=0}){const s=t?Math.min(-Math.log(Math.random())*zf,Kf):0;setTimeout((()=>{Yf(e,++t)}),s)}const qf=(0,qL.$p)(),Xf={MESSAGE_LIST:"message_list",MESSAGE_SEND:"message_send",MAIL_SEARCH:"search_latency",COMPOSE_SHOW:"compose_show",MESSAGE_READ:"message_read",FOLDER_SWITCH:"folder_switch",[S.n8z.FOLDER]:"folder_switch",[S.n8z.LIST]:"search_latency",[S.n8z.SEARCH]:"search_latency",[S.n8z.EDIT_DRAFT]:"compose_show",[S.n8z.NEW_DRAFT]:"compose_show",[S.n8z.MESSAGE_FROM_FOLDER_LIST]:"message_read",[S.n8z.MESSAGE_FROM_SEARCH_LIST]:"message_read",[S.n8z.MESSAGE_FROM_LIST]:"message_read",[S.n8z.SETTINGS]:"settings",[S.n8z.SPONSORED_MESSAGE]:"message_read",[S.n8z.TUTORIAL]:"tutorial"},Qf={COMPOSE_READY:"MTTC",TIME_TO_INTERACTIVE:"MTTI",CLIENT_RENDER_TIME:"app_client_render",CLIENT_HEAD_TO_END:"app_head_end",...Xf},Jf=Object.values(Xf),$f=e=>e.requestedActionType!==$c.LAUNCH_COMPLETED&&Jf.indexOf(e.rumMetricKey)>-1;let eM=!1;const tM=e=>{let t=[];const s=(()=>{let e,t,s={};return(a,n)=>{const r=[],{getAction:o,getRoute:i,getCursorItem:l,doesStreamExist:c,getSetting:d}=a,_=o()||{},{type:E,csid:u}=_,m=i()||{};if(!e&&m.name&&(e=m,t=_.actionTimestamp),E!==$c.LAUNCH_COMPLETED||eM){if(E===$c.V3_MESSAGE_SEND_REQUESTED)r.push({hash:u,rumMetricKey:Qf.MESSAGE_SEND,requestedTime:_.actionTimestamp,csid:u});else if(!(0,gc.Vu)(m,e)&&Qf[m.name]){var p;r.push({hash:m.url,rumMetricKey:Qf[m.name],requestedTime:_.actionTimestamp,route:m,scrnTimeData:{nxtScrn:null==m?void 0:m.name,prvScrn:null===(p=e)||void 0===p?void 0:p.name,scrEng:_.actionTimestamp-t||0}}),t=_.actionTimestamp,e=m}else if(_.streamId&&c(_.streamId)&&d(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO&&(m.name===S.n8z.FOLDER||m.name===S.n8z.SEARCH||m.name===S.n8z.LIST)){const a=l(_.streamId);var C;!a||a.id===s.id&&a.listId===s.listId||(0,Rc.WN)(a.listId)!==S.F6k.MESSAGES||(r.push({hash:`${a.listId}-${a.id}`,rumMetricKey:Qf.MESSAGE_READ,requestedTime:_.actionTimestamp,cursorItem:a,scrnTimeData:{nxtScrn:S.n8z.MESSAGE_PREVIEW,prvScrn:null===(C=e)||void 0===C?void 0:C.name,scrEng:_.actionTimestamp-t||0}}),t=_.actionTimestamp,e=m,s=a)}}else{const e=window.performance,t=Date.now(),s=e.now(),a=e.timing.responseStart-e.timing.navigationStart;let o=s;eM=!0,e.getEntriesByName&&e.getEntriesByName("norrinStartRender").length&&(o=e.getEntriesByName("norrinStartRender")[0].startTime),r.push({hash:Qf.MESSAGE_LIST,rumMetricKey:Qf.MESSAGE_LIST,latency:o},{hash:Qf.COMPOSE_READY,rumMetricKey:Qf.COMPOSE_READY,latency:s},{hash:Qf.TIME_TO_INTERACTIVE,rumMetricKey:Qf.TIME_TO_INTERACTIVE,latency:s},{hash:Qf.CLIENT_RENDER_TIME,rumMetricKey:Qf.CLIENT_RENDER_TIME,latency:t-n},{hash:Qf.CLIENT_HEAD_TO_END,rumMetricKey:Qf.CLIENT_HEAD_TO_END,latency:s-a})}return r.map((e=>({...e,requestedActionType:e.requestedActionType||E})))}})();return a=>{const n=(0,Oc.selectors)(a),{getRouteName:r}=n;t=t.concat(s(n,e)),t.length&&$f(t[0])&&Vf()&&window.YAFT.AFT2.start(),zD()(bf()(t,"requestedTime","desc"),"hash").map((e=>{try{return((e,t)=>{const{getAction:s,doesListExist:a,doesMessageGroupIdExist:n,getMessageIdsFromMessageGroupId:r,doesMessageFullBodyExist:o,doesMessageBodyExist:i,getDraftMessageId:l,getListsSelectors:c,doesComposeSessionExist:d,isSent:_,isMessageRoute:E,getSetting:u,getAttachmentCountByMessageId:m,doesMessageIdExist:p,getMessagesSelectors:C,getMessageBodiesSelectors:A,getPages:T,getDocumentSelectors:I}=t,h=s()||{},{type:g}=h,{getListStatus:O}=c(),{getMessageBodiesCount:D}=A(),{getMessagesCount:R}=C(),{getDocumentsCount:N}=I(),{params:L={}}=e.route||{};switch(e.rumMetricKey){case Qf.COMPOSE_SHOW:{const{csid:t}=L;if(!t||!d(t))return e;const s=l(t);return s?o(s)?{...e,additionalLogData:{isCached:e.requestedActionType===g},requestCompleted:!0}:e:{...e,additionalLogData:{isCached:e.requestedActionType===g},requestCompleted:!0}}case Qf.FOLDER_SWITCH:case Qf.MAIL_SEARCH:{const t=(0,Rc.LY)(e.route);return a(t)&&O(t)===S.DAQ.LOADED?{...e,additionalLogData:{metaDataCount:R(),GSBCount:D(),documents:N(),pageCount:T().length,isCached:e.requestedActionType===g},requestCompleted:!0}:e}case Qf.MESSAGE_READ:{let{groupId:t}=L;const{cursorItem:s}=e,a=!E()&&u(S.Zrf.PREVIEW_PANE)!==S.EsZ.NO;if(!t&&s&&(t=s.id),!n(t))return e;const o=r(t)||[];return o.some((e=>i(e)))?{...e,additionalLogData:{metaDataCount:R(),GSBCount:D(),documents:N(),pageCount:T().length,numberOfMessages:o.length,previewPane:a,isCached:e.requestedActionType===g},requestCompleted:!0}:e}case Qf.MESSAGE_SEND:if(!d(e.csid)||_(e.csid)){const{id:t}=h.message||{},s=p(t)&&m(t)||0;return{...e,additionalLogData:{isCached:e.requestedActionType===g,sendMethod:g,attachmentCount:s},requestCompleted:!0}}return e;case Qf[S.n8z.SETTINGS]:case Qf[S.n8z.TUTORIAL]:return{...e,additionalLogData:{isCached:e.requestedActionType===g},requestCompleted:!0}}return e})(e,n)}catch(t){return(0,VL.Z)("RUM error",t.fileName||location.href,t.lineNumber||"",t.column||"",t),e.errorOccured=!0,e}})).filter((e=>e.requestCompleted||e.latency||e.errorOccured)).map((e=>{t=t.filter((t=>t.rumMetricKey!==e.rumMetricKey));const s=Date.now();window.requestAnimationFrame((()=>{const t=e.additionalLogData||{};if(e.additionalLogData=Object.assign({},t,{renderFrameTime:Math.round(Date.now()-s),actionType:e.requestedActionType,routeName:r()}),$f(e)){const{pageParams:e={}}=qf(a,{browserLoggerParams:window.BrowserLoggerParams});Zf({...e})}(e=>{if(!e)return;let t=0;const{additionalLogData:s={},scrnTimeData:a={}}=e;"undefined"!=typeof performance&&performance.now&&(t=s.elapsedTime=Math.floor(performance.now())),s&&Hf({...s,elapsedTime:t,...a});const n=Math.round(e.latency?e.latency:Date.now()-e.requestedTime);yf.debug(`UserPerf: ${e.rumMetricKey}:  ${n} : ${JSON.stringify(s)}`),Gf("user",e.rumMetricKey,n),xf()})(e)}))}))}},sM=(e,t={})=>{if(!window.performance)return{recordRUM:()=>{}};const s=()=>{let s=["norrin_"],a=["mail-app-component-container"],n=2500;t.appName===S.BQZ.MOBILE_APP&&(s=["base-screen-main-container"],a=["mobile-app-container"],n=1500),Wf({yaftCanShowVisualReport:t.isInternalIP,modules:s,aft2container:a,maxWaitTime:n}),t.enableFPSMetrics&&jf({appStartTime:e,sampleCount:0})};return window.addEventListener?window.addEventListener("DOMContentLoaded",s,!1):window.attachEvent&&window.attachEvent("DOMContentLoaded",s),{recordRUM:tM(e)}};var aM=s(4424);const nM="logger-params",rM=te.Z.feature("logger_storage"),oM=async()=>(oM.db||(oM.db=await(0,aM.X3)("logger-storage",1,{upgrade(e){e.createObjectStore(nM)}})),oM.db),iM=async e=>{try{const t=await oM();await t.put(nM,e,"logger-params")}catch(t){throw rM.logFailure(t),t}};var lM=s(97860);function cM({children:e}){const t=(0,Fm.Y)(),{theme:s,themeMode:a}=(0,vl.useContext)(MA.Z),n=(0,Gm.I0)(),r=(0,Gm.v9)((e=>(0,Oc.selectors)(e).normalizeRoute)),{appId:o,config:i,crumb:l,mailBrandNameString:c,os:d,partner:_,timezone:E,yahooBrandNameString:u,region:m}=(0,vl.useContext)(lM.Z),S=(0,vl.useCallback)((()=>a),[a]),p=(0,vl.useCallback)((()=>s),[s]),C=(0,vl.useCallback)((()=>(e,t)=>ic()(e,{...t,themeMode:a,theme:s})),[s,a]),A=(0,vl.useCallback)((e=>n((0,zl.Ch)({...e,route:r(e.route)}))),[n,r]),T=(0,vl.useCallback)((e=>r(e).url||""),[r]),I=(0,vl.useMemo)((()=>({intl:t,appId:o,config:i,crumb:l,mailBrandNameString:c,os:d,partner:_,timezone:E,yahooBrandNameString:u,region:m,navigateTo:A,getUrlFromRoute:T,getThemeMode:S,getTheme:p,getCss:C})),[t,o,i,l,c,d,_,E,u,m,A,T,S,p,C]);return vl.createElement(KI.Z.Provider,{value:I},e)}var dM=s(85974);class _M extends vl.Component{constructor(e,t){super(e,t)}render(){return vl.createElement(dM.Z.Provider,{value:this.context.intl},this.props.children)}}function EM({children:e,AppIntl:t,mailContext:s}){return vl.createElement(Gl.IntlProvider,t,vl.createElement(JO.FluxibleComponent,{context:s},e))}function uM({children:e,AppIntl:t,store:s,serverState:a,mailContext:n}){return vl.createElement(Gl.IntlProvider,t,vl.createElement(_M,null,vl.createElement(jc,{store:s,serverState:a},vl.createElement(Fl.Provider,{store:s},vl.createElement(lM.Z.Provider,{value:n},vl.createElement(cM,null,vl.createElement(Jg.vj,null,vl.createElement(JO.FluxibleComponent,{context:n},e))))))))}function mM(e){Error.stackTraceLimit&&Error.stackTraceLimit<=10&&(Error.stackTraceLimit=20),window.setImmediate||(window.setImmediate=e=>setTimeout(e,0),window.clearImmediate=e=>clearTimeout(e)),window.onerror=VL.Z,window.YAHOO.i13n.WEBWORKER_FILE=S.tq2,window.initialScrambledLogin=Lf(),window.navigator&&window.navigator.sendBeacon?(window.navigator._sendBeacon=window.navigator.sendBeacon,window.navigator.sendBeacon=function(){try{return window.navigator._sendBeacon.apply(this,arguments)}catch(e){const t=new ZD.H(e);return se.Z.error("navigator.sendBeacon_exception",{url:arguments[0]||"",name:e.name||"",message:(0,fC.N2)(e.message||""),stack:t.toString()}),!1}}):se.Z.error("navigator.sendBeacon_exception",{message:"navigator.sendBeacon is not supported"}),function(){if(window.ResizeObserver){const e=window.ResizeObserver;let t=null;class s extends e{constructor(e){super((s=>{t&&clearTimeout(t),t=setTimeout((()=>{e.apply(this,[s]),t=null}),16)}))}}window.ResizeObserver=s}}();const t=e=>{try{"string"==typeof window[e]&&(window[e]=JSON.parse(window[e]))}catch(t){const{source:s,lineno:a,colno:n}=new ZD.H(t).getFirstStackInfo();(0,VL.Z)(`App error parsing ${e} string data`,s,a,n,t)}};t("AppBootstrapData"),t("AppState"),t("AppIntl");const{AppState:s={},AppBootstrapData:a,ReactIntlLocaleData:n,BrowserLoggerParams:r,LaunchErrorObj:o={}}=window,{reduxState:i={}}=s,{action:l={},featureCues:c={}}=i,{features:d={}}=l,_=Object.keys(d).filter((e=>"boolean"==typeof d[e])).reduce(((e,t)=>({...e,[t]:{...c[t],enabled:d[t]}})),{}),E=c,u={spaceids:{root:a.appName===S.BQZ.MOBILE_APP?959521427:159600001},loggerSettings:{timeout:5e3,interval:3e4,limit:500,timer_limit:13}};a.config={...u,...d,...a.config},a.__initializeFeatures__={..._,...E,...a.__initializeFeatures__};const m=s.reduxState?{context:{plugins:{MailFluxibleContextPlugin:{buildNumber:(p=a).buildNumber,config:p.config,guidHash:p.guidHash,mailWssid:p.mailWssid,crumb:p.crumb,signoutCrumb:p.signoutCrumb,guid:p.guid,csid:p.csid,launchTime:p.launchTime,locale:p.locale,localeData:p.localeData,timezone:p.timezone,region:p.region,userNamespace:p.userNamespace,usmLogString:p.usmLogString,os:p.os,browserName:p.browserName,farm:p.farm,partner:p.partner,environment:p.environment,__initializeFeatures__:p.__initializeFeatures__,queryStringOverrides:p.queryStringOverrides,loggerParams:p.loggerParams,cspToken:p.cspToken,encryptedQueryParams:p.encryptedQueryParams,mailboxAttributes:p.mailboxAttributes,mailBrandNameString:p.mailBrandNameString,yahooBrandNameString:p.yahooBrandNameString,yahooMailPlusBrandName:p.yahooMailPlusBrandName,appId:p.appId,subscriptionDetails:p.subscriptionDetails}}}}:void 0;var p;i&&i.environment&&i.environment.windowDimensions&&(i.environment.windowDimensions={...i.environment.windowDimensions,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,innerWidth:window.innerWidth,innerHeight:window.innerHeight}),window.YAHOO.i13n.SPACEID=a.config.spaceids.root,window.YAHOO.i13n.TEST_ID=a.usmLogString;const T=a&&a.config||m.context.plugins.MailFluxibleContextPlugin.config;let g=location.pathname;const O=location.search,D=new RegExp(`^(${S.slz})/test`),R=D.test(g);R||(function(e){const{timeout:t,interval:s,limit:a,timer_limit:n}=e.loggerSettings;_e().set(r),"debug"===e.logLevel&&_e().read(xL()());_e().read(HL()({endpoint:e.endpoint,interval:s,timeout:t,limit:a,timer_limit:n})),_e().level(e.logLevel||"error")}({...T,endpoint:a.appName===S.BQZ.MOBILE_APP?S.oSR:S.irZ}),function(e){const{mailtoProtocolHandler:t}=e;if(!t)return;const s=()=>{"registerProtocolHandler"in navigator&&navigator.registerProtocolHandler("mailto",`https://${window.location.hostname}/mrd/mail/any/compose?src=mailto&url=%s`,a.mailBrandNameString)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}(T)),T.reportingObserver&&void 0!==window.ReportingObserver&&new window.ReportingObserver(((e,t)=>{for(const s of e){const{type:e,url:t,body:a={}}=s;se.Z.error("reporting_observer_exception",{type:e,url:t,id:a.id,sourceFile:a.sourceFile,message:a.message})}}),{buffered:!0}).observe(),"object"==typeof n&&Object.keys(n).forEach((e=>(0,Gl.addLocaleData)(n[e])));const N=function(e){const t=new(wL());return e.plugins.forEach((e=>{t.plug(e)})),t}(e),L=a.route?"launch_"+a.route.toLowerCase():"unknown",f=te.Z.feature(L,{ssr:!!m}),M=()=>{if(!window.context)return()=>!0;const{getOnlineSelectors:t}=e.selectors(window.context.store.getState()),{isOnline:s}=t();return s()},P=(0,Pa.getAppContainerId)(e);function b(t,s){var n;const{recordRUM:o}=sM(Date.now(),{isInternalIP:a.internal,appName:a.appName,enableFPSMetrics:null==a||null===(n=a.config)||void 0===n?void 0:n.runtimeProfiling});if(!s.store){const t=Of(a,e,i,{isOnline:M},s);s.store=t.store,s.apiClients=t.apiClients}if(t)return void y(s,t);window.context=s;const l={...r,...a.loggerParams};iM(l);const c=Mf(s.getComponentContext()),d=a.config.useReactHydrate?wl.hydrate.bind(wl):wl.render.bind(wl);e.render=t=>{const a=c((t||e).component,e);s.store.subscribe((()=>{const t=s.store.getState(),{getAction:a}=e.selectors(t),n=a();!function(){if(!(0,I.jU)())return;const e=window.initialScrambledLogin,t=Lf();if(e&&t&&e!==t){const s={reason:A.Bl.DIFFERENT_USER,statusCode:401,errorCode:"AUTH",refresh:!0,originalLogin:e,currentLogin:t},a=te.Z.feature("error_handler",s),n=new C.Z(A.tO,s);a.logFailure(n)}}();const r=n.error||n.err||null;if(r)switch(r.name){case A.X$:return(0,I.X2)({partner:s.partner||"",reason:"missing_crumb"});case A.di:return(0,I.X2)({partner:s.partner||"",reason:"invalid_crumb"});case A.tO:if(r.getDataByName("refresh",!1))return(0,I.X2)({partner:s.partner||"",reason:"invalid_cred"})}o(t)}));let n=null,r=null;try{n=document.getElementById(P);const t=vl.createElement(uM,{AppIntl:window.AppIntl,store:s.store,serverState:i,mailContext:s.getComponentContext()},vl.createElement(a,null));if(d(t,n),r=document.getElementById("mail-search"),T.ybar&&r){const t=e.searchComponent?c(e.searchComponent,e):null,a=vl.createElement(uM,{AppIntl:window.AppIntl,store:s.store,serverState:i,mailContext:s.getComponentContext()},t?vl.createElement(t,null):null);d(a,r)}f.logSuccessAndLatency()}catch(l){const{source:e,lineno:t,colno:s}=new ZD.H(l).getFirstStackInfo();l.data={rootContainerExist:n?"1":"0",mailSearchExist:r?"1":"0",containerId:P},(0,VL.Z)("Rendering App error",e,t,s,l)}},window.setTimeout(e.render,10)}function y(e,t=null){t=t||o,window.context=e,wl.render(vl.createElement(EM,{AppIntl:window.AppIntl,mailContext:e.getComponentContext()},vl.createElement(Df.Z,{appName:a.appName,error:t,crumb:a.crumb,isRTL:a.config.rtl,showCTAInErrorPage:a.config.showCTAInErrorPage,mailBrandNameString:a.mailBrandNameString,partner:a.partner,endpoints:a.endpoints})),document.getElementById(P))}const v=N.createContext({appId:a.appId,browserName:a.browserName,config:T,crumb:a.crumb,cspToken:a.cspToken,csid:(0,Pa.generateUID)(),encryptedQueryParams:a.encryptedQueryParams,environment:a.environment,guid:a.guid,guidHash:a.guidHash,localeData:a.localeData,mailboxAttributes:a.mailboxAttributes,mailBrandNameString:a.mailBrandNameString,mailWssid:a.mailWssid,os:a.os,partner:a.partner,queryStringOverrides:a.queryStringOverrides,region:a.region,signoutCrumb:a.signoutCrumb,timezone:a.timezone,userNamespace:a.userNamespace,usmLogString:a.usmLogString,yahooBrandNameString:a.yahooBrandNameString,yahooMailPlusBrandName:a.yahooMailPlusBrandName,subscriptionDetails:a.subscriptionDetails,__initializeFeatures__:a.__initializeFeatures__});if((0,h.xb)(o)){if(m)N.rehydrate(m,b);else if(a){R&&(_e().disable(),g=g.replace(D,((e,t)=>t)),history.replaceState(null,null,g+O));const{prepareDataForUrl:t,store:s,apiClients:n}=Of(a,e,i,{isOnline:M},v);v.store=s,v.apiClients=n,t(g+O).then((()=>b(void 0,v))).catch((e=>y(v,e)))}}else y(v)}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(_M,"contextTypes",{intl:Gl.intlShape});const SM=()=>{const e=new N.Z(N.W.GET,"/d/fetchappbootstrapdata");return e.setHeader("Accept","application/json"),e.send()};var pM=s(31602),CM=s(14779),AM=s.n(CM);const TM={};function IM(e,t){let s,a,n;return t.some((t=>Object.keys(t.paths).some((r=>{const o=t.appRootPath||S.jQ2,i=function(e,t){if(!TM[t]){const e=[];TM[t]={regexp:AM()(t,e),keys:e}}const s=TM[t].regexp.exec(e);return s&&(a=TM[t].keys,n=s,a.reduce((function(e,t,s){return e[t.name]=n[s+1],e}),{}));var a,n}(e.path,o+t.paths[r]);return!!i&&(s=r,a=i,t.ssrUnsupportedRoutes&&(n=-1!==t.ssrUnsupportedRoutes.indexOf(s)),!0)})))),{route:s,ssrUnsupportedRoute:n,params:a}}var hM=s(17563);const gM=async function(){let e=null;try{e=await SM()}catch(_){var t;const e=JSON.parse((null==_||null===(t=_.data)||void 0===t?void 0:t.responseText)||"{}");return void([A.tO,A.di,A.X$].includes(e.name)&&(window.location.href="https://login.yahoo.com/?.src=ym"))}if(!(e&&e.body&&e.body.AppBootstrapData&&e.body.AppIntl))return;window.AppBootstrapData=(({heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:a,throttleAPIList:n,userSegmentData:r,comScore:o,doNotSellLabel:i,doNotSellUrl:l,jurisdiction:c,buckets:d,calendarWssid:_,crumb:E,farm:u,guid:m,guidHash:p,locale:C,localeData:A,loggerParams:T,mailBrandNameString:I,mailWssid:h,mailboxAttributes:g,majorVersion:O,os:D,osMajorVersion:R,osMinorVersion:N,osPatchVersion:L,partner:f,region:M,selectedMailbox:P,usmLogString:b,shardId:y,signoutCrumb:v,timezone:F,userBeaconHash:U,yahooBrandNameString:k,yahooMailPlusBrandName:w,browserName:G,browserVersion:H,canSellPersonalInfo:B,ABPTestAccounts:x,feDev:V,feUser:Z,cspToken:W,encryptedQueryParams:K,environment:z,internal:Y,remoteAddress:j,colo:q,config:X,__initializeFeatures__:Q,featureCueTimestamps:J,featureCueUserResponse:$,featureSequence:ee,subscriptionDetails:te})=>{const{host:se,hostname:ae,protocol:ne,search:re}=window.location,oe=ae.endsWith(".aol.com"),ie="/d",le={name:oe?S.Tzw.AOL:S.Tzw.YAHOO,endpoints:oe?(0,Ef.U8)(S.Tzw.AOL):(0,Ef.U8)(S.Tzw.YAHOO)},{appId:ce,appName:de}=(0,Pa.getAppInfoFromUrl)(ie,le),{route:_e,ssrUnsupportedRoute:Ee,params:ue}=IM({path:ie},fl),me=Date.now(),Se=hM.parse(re);return history.replaceState(null,null,ie+re),{userNamespace:le.name,appId:ce,appName:de,endpoints:le.endpoints,url:ne+"://"+se+ie,launchTime:me,startTime:me,referer:"https://"+se,route:_e,params:ue,ssrUnsupportedRoute:Ee,queryStringOverrides:Se,heartBeatCheckInterval:e,httpRetry:t,isBizMail:s,pageDirection:a,throttleAPIList:n,userSegmentData:r,comScore:o,doNotSellLabel:i,doNotSellUrl:l,jurisdiction:c,buckets:d,calendarWssid:_,crumb:E,farm:u,guid:m,guidHash:p,locale:C,localeData:A,loggerParams:T,mailBrandNameString:I,mailWssid:h,mailboxAttributes:g,majorVersion:O,os:D,osMajorVersion:R,osMinorVersion:N,osPatchVersion:L,partner:f,region:M,selectedMailbox:P,usmLogString:b,shardId:y,signoutCrumb:v,timezone:F,userBeaconHash:U,yahooBrandNameString:k,yahooMailPlusBrandName:w,browserName:G,browserVersion:H,canSellPersonalInfo:B,ABPTestAccounts:x,feDev:V,feUser:Z,cspToken:W,encryptedQueryParams:K,environment:z,internal:Y,remoteAddress:j,colo:q,config:X,__initializeFeatures__:Q,featureCueTimestamps:J,featureCueUserResponse:$,featureSequence:ee,subscriptionDetails:te}})(e.body.AppBootstrapData),window.AppIntl=e.body.AppIntl;const{config:s,partner:a,mailboxAttributes:n}=window.AppBootstrapData,r=document.getElementById("themer"),{hasMappedTheme:o,theme:i,themeMode:l}=s,c=o&&i||n[S.CbW.THEME]&&n[S.CbW.THEME].value,d=o&&l||n[S.CbW.THEME_MODE]&&n[S.CbW.THEME_MODE].value;r.innerHTML=(0,pM.NB)(c,d,a)};!async function(){if(!(0,I.jU)()||window.AppBootstrapData||(await gM(),window.AppBootstrapData))mM(UL)}()},13488:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(36554),r=s(37422);class o extends Error{constructor(e="",t=""){super(e),this.name="ReactBoundary",this.message=e,this.stack=t}}var i=s(45953);class l extends a.Component{constructor(...e){var t,s,a;super(...e),a={hasError:!1},(s="state")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a}componentDidCatch(e){try{const{message:t="ReactBoundary Error",stack:s=""}=e;throw new o(t,s)}catch(t){(0,i.Z)(t.message||"",location.href,0,0,t)}if(this.setState({hasError:!0}),!this.props.errorHandler){const e=document.getElementById("ybar");e&&e.parentNode&&e.parentNode.removeChild(e)}}render(){if(!this.state.hasError)return this.props.children;const{logoUrl:e,logoSrcSet:t,isRTL:s,errorHandler:o,className:i}=this.props,l=o||n.Z;return a.createElement("div",{"data-test-id":"react-error-handler",className:i},a.createElement(l,{appName:window.AppBootstrapData.appName,error:{name:r.ZB9.REACT_ERROR,message:"REACT_ERROR_OCCURED"},logoUrl:e,logoSrcSet:t,crumb:window.AppBootstrapData.crumb,isRTL:s,mailBrandNameString:window.AppBootstrapData.mailBrandNameString,partner:window.AppBootstrapData.partner,endpoints:window.AppBootstrapData.endpoints}))}}const c=l},78107:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F D_F",mailReader:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"W_6D6F ej_fq7 I_ZpQYvz",resizer:"W_6D6F ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ak5iz"},previewpaneInPixels:{leftPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"}},_key:"jvL1S"}},39058:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r,x:()=>n});var a=s(37422);function n(e,t){const s=t.getSetting(a.Zrf.SCOUT_ONBOARDING);let n,r,o,i,l,c;switch(e){case"personalizeInbox":return r=t.getSetting(a.Zrf.THEME),o=t.getSetting(a.Zrf.THEME_MODE),i=t.getSetting(a.Zrf.PREVIEW_PANE),l=t.getSetting(a.Zrf.READABILITY_MODE),c=1===s.filter((e=>e.startsWith(a.ANe.PERSONALIZE_INBOX_SEEN))).length,!(!c&&r===a.b39.DEFAULT&&o===a.zgU.LIGHT&&i===a.EsZ.NO&&!l);case"notifications":return!("undefined"==typeof window||!window||!window.Notification)&&"granted"===window.Notification.permission;case"importContacts":return n=s.filter((e=>e.startsWith(a.ANe.STICKY_ONBOARDING_CONTACTS_IMPORT))),1===n.length;case"addImapAccounts":return t.getMailboxesSelectors().getAccountsSelectors().hasIMAPinAccounts();default:return!1}}function r(e,t){return e.reduce(((e,s)=>e+(n(s,{...t})?1:0)),0)}},72942:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a,n,r,o=s(45697),i=s.n(o),l=s(67294);class c extends l.Component{componentDidMount(){const{getUnsyncedData:e}=this.props;this.context.store&&this.context.store.registerUnsyncedDataHandler&&(this.unsyncedDataHandler=this.context.store.registerUnsyncedDataHandler(e))}componentWillUnmount(){this.unsyncedDataHandler&&this.unsyncedDataHandler.remove()}render(){return this.props.children||null}}a=c,n="contextTypes",r={store:i().object},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const d=c},42357:e=>{"use strict";e.exports={className:{default:{mainAd:"k_w W_3vpWV a_3vpWV iz_A iy_h P_6Fd5",adText:"A_6EqO C_Z1VRqsb"},isRRCompactSize:{mainAd:"a_3o4BO W_3o4BO"}},_key:"Z1QH53V"}},41451:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(45697),n=s.n(a),r=s(67294),o=s(42441),i=s.n(o);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c={bindShortcut:(e,t,s)=>(s?i()(s):i()).bind(e,t),unbindShortcut:(e,t=i())=>{if(!(t===i()||t instanceof i()))throw new TypeError("#context.unbindShortCut takes mousetrap as optional 2nd argument");t.unbind(e)}},d=e=>{var t,s;return s=t=class extends r.Component{getChildContext(){return c}render(){return r.createElement(e,this.props)}},l(t,"displayName","ReactKeyProvider"),l(t,"childContextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),s}},78546:e=>{"use strict";e.exports={className:{default:{compose:"p_R W_6D6F H_6D6F R_0 T_0 L_0 B_0 D_F",stackPanelWrapper:"B_0 Z_d48 p_f L_3o4BO H_ZKS2W1 K_3DpOq D_F cZW7ROP_n eo_HB ek_FB ab_CH",panelContainer:"D_F p_R H_6D6F W_A ab_BZ"},multiTaskEnabled:{stackPanelWrapper:"H_ZKFzmc"}},_key:"1Sgr56"}},51572:e=>{"use strict";e.exports={className:{default:{bgContainer:"D_F ek_BB H_6D6F aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd",container:"D_F ek_BB H_6D6F cZ1RN91d_n s_1HCsWR aw_Z22yhkg I_kt4zd az_DW ba_Z2gmOa3 ay_Z1cYiMT c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",inputModeWrapper:"H_6D6F",appHeader:"en_0 cZ1RN91d_n D_F ek_BB gl_FM",tabWrapper:"I_ZS20W8 M_1EAG48 W_6D6F",tab:"N_3o4BO cZ1YE9As_ZbJh7p e_1GFLLo",errorContainer:"H_6D6F",ybar:"H_7zJd",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},"ads-false":{tab:"N_0"},lightModeNonPhotoTheme:{tabWrapper:"I_ak5iz"},isYbarLightModeTheme:{tabWrapper:"I_ZmeMzp"},ybarFuji2Enabled:{ybar:"H_3n1j3"},ybarFuji2NoTopNav:{ybar:"H_7rdk"},isIdentityYbar:{container:"I_ZnMIOa aw_n cZTwBjO_ZnMIOa"}},_key:"ZifkBh"}},27084:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",container:"D_F ac_FT ab_C gl_C em_N",wrapper:"p_R",svgWrapper:"O_cMs H_3nj85 W_3nj85 aw_1EJSll",countWrapper:"p_a L_0 T_0 H_3nj85 W_3nj85 D_F gl_C ab_C",count:"C_Z281SGl A_74JI i_74JI u_dzD p_R T_36KP4"},"themeMode-DARK":{count:"C_ZkbNhI"}},_key:"2e4gi0"}},83381:e=>{"use strict";e.exports={className:{default:{rightRailContainer:"D_F o_v p_R I_ZnwrMC",rightRail:"D_F ek_BB",panesContainer:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F",panesContainerWithBgColor:"D_F em_N ek_BB iz_A iy_h a_3vpWV H_6D6F I_ZkbNhI",attachmentPreview:"em_N",hideAdsChevronWrapper:"x_Z14vXdP W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",activeHideAdsChevronWrapper:"x_2gzP8k W_6LEV H_6D6F X_eTB D_F ab_C o_h p_a T_0 Q_36SPr L_67SN cZW7ROP_n",hideAdsChevron:"c27KHO0_n I_ZkbNhI O_cMp b_0 D_F cdPFi_Z281SGl r_P s_6NIX H_6NIX j_Z197UJe e_VHH8F ab_C X_dRA cZW7ROP_A O4_N aw4_ZBSKJ8 cdPFi4_ZkbNhI Z_O"},hasAttachmentPreview:{panesContainer:"a_n ek_EZ",rightRail:"ek_FB"},"themeMode-MEDIUM":{hideAdsChevronWrapper:"x_ZYfqDw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_ZS20V7"},"themeMode-DARK":{hideAdsChevronWrapper:"x_ZYfqDw",rightRailContainer:"I_T",panesContainerWithBgColor:"I_ZS20V7",hideAdsChevron:"I_ak5jA O_N cdPFi4_Z281SGl"},"theme-ATT":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-FRONTIER":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-ROGERS":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-BT":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-SKY":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-AOL":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-AOL_HIGH_CONTRAST":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-CLASSIC":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-SIMPLE":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-AIM":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-AOLCOM":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-HIGH_CONTRAST":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-DEFAULT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:""},"theme-SUNRISE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-AQUA_GREEN":{activeHideAdsChevronWrapper:"x_2uOeea",hideAdsChevron:"I4_Z1UHURv aw4_n"},"theme-AQUA_BLUE":{activeHideAdsChevronWrapper:"x_2iwbQA",hideAdsChevron:"I4_Z280Xf5 aw4_n"},"theme-DEEP_PURPLE":{activeHideAdsChevronWrapper:"x_Z1aO4GY",hideAdsChevron:"I4_Zwa5YI aw4_n"},"theme-BLUE_NIGHT":{activeHideAdsChevronWrapper:"x_2oWau5",hideAdsChevron:"I4_Z21zYBA aw4_n"},"theme-DARK_GREY":{activeHideAdsChevronWrapper:"x_ZXPLYY",hideAdsChevron:"I4_ZkbNhI aw4_n"},"theme-NIGHT_LANDSCAPE":{activeHideAdsChevronWrapper:"x_2uRWCH",hideAdsChevron:"I4_Z1UEcsX aw4_n"},"theme-ROADTRIP":{activeHideAdsChevronWrapper:"x_Z15YOdY",hideAdsChevron:"I4_ZrkPvI aw4_n"},"theme-SUNSET_AUSSIE":{activeHideAdsChevronWrapper:"x_Z110WD6",hideAdsChevron:"I4_ZmlXUP aw4_n"},"theme-LIGHTHOUSE":{activeHideAdsChevronWrapper:"x_2tSflE",hideAdsChevron:"I4_Z1VDTK1 aw4_n"},"theme-SPRING":{activeHideAdsChevronWrapper:"x_Z2bnG2P",hideAdsChevron:"I4_Z1wIHkz aw4_n"},"theme-WINTER":{activeHideAdsChevronWrapper:"x_2pYTAG",hideAdsChevron:"I4_Z20xfuY aw4_n"},"theme-SUMMER":{activeHideAdsChevronWrapper:"x_Z26flfj",hideAdsChevron:"I4_Z1rAmx3 aw4_n"},"theme-GALAXY":{activeHideAdsChevronWrapper:"x_2iBrvN",hideAdsChevron:"I4_Z27UHzR aw4_n"},"theme-FALL":{activeHideAdsChevronWrapper:"x_Z29MjgA",hideAdsChevron:"I4_Z1v8kyk aw4_n"},"theme-WESTERN":{activeHideAdsChevronWrapper:"x_2vQW6S",hideAdsChevron:"I4_Z1TFcYM aw4_n"},"theme-SUNSET":{activeHideAdsChevronWrapper:"x_Z26flfj",hideAdsChevron:"I4_Z1rAmx3 aw4_n"},"themeCombo-DARK_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{panesContainerWithBgColor:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{panesContainerWithBgColor:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{panesContainerWithBgColor:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{panesContainerWithBgColor:"I_t5YMW"},"themeCombo-DARK_SPRING":{panesContainerWithBgColor:"I_ZgFtst"},"themeCombo-MEDIUM_SPRING":{panesContainerWithBgColor:"I_ZgFtst"},"themeCombo-DARK_WINTER":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_WINTER":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-DARK_SUMMER":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_SUMMER":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-DARK_GALAXY":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_GALAXY":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-DARK_FALL":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_FALL":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-DARK_WESTERN":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_WESTERN":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-DARK_SUNSET":{panesContainerWithBgColor:"I_ZGiXN8"},"themeCombo-MEDIUM_SUNSET":{panesContainerWithBgColor:"I_ZGiXN8"}},_key:"9YBkv"}},96461:(e,t,s)=>{"use strict";s.d(t,{Z:()=>k});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(53355),l=s.n(i),c=s(63352),d=s(95406),_=s(16376),E=s.n(_),u=s(18685),m=s(85927);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const p=()=>{},C=(0,d.gP)(["OPENING","CLOSING"]),A=(0,d.gP)(["START","END","RIGHT","LEFT","UP","BOTTOM"]);class T extends a.Component{constructor(e){super(e),this.isOpen=!1,this.isTracking=!1,this.trackingDirection=void 0,this.lastStablePosition=0,this.lastNormalizedPosition=void 0,this.flickPanelNode=void 0,this.mainPanelNode=void 0,this.componentDidMount=this.componentDidMount.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this),this.handleSwiping=this.handleSwiping.bind(this),this.handleSwiped=this.handleSwiped.bind(this),this.flickPanelRef=a.createRef(),this.mainPanelRef=a.createRef()}componentDidMount(){var e,t,s,a;switch(this.flickPanelNode=null===(e=this.flickPanelRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.divRef.current,this.mainPanelNode=null===(s=this.mainPanelRef)||void 0===s||null===(a=s.current)||void 0===a?void 0:a.divRef.current,window.addEventListener("resize",this.handleWindowResize),this.props.isOpen&&this.openPanel(),this.props.edge){case A.LEFT:case A.UP:this.lastNormalizedPosition=-1;break;case A.RIGHT:case A.BOTTOM:this.lastNormalizedPosition=999999}}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeTimer&&window.clearTimeout(this.resizeTimer)}componentDidUpdate(e){!this.props.isOpen||e.isOpen||this.isOpen?!this.props.isOpen&&e.isOpen&&this.isOpen&&this.closePanel({useTransition:!0}):this.openPanel({useTransition:!0})}handleWindowResize(){this.animationFrame?(this.openPanel({useTransition:!1}),window.cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.monitorPanelHeightChange()):this.isOpen&&(this.openPanel({useTransition:!1}),window.requestAnimationFrame&&(this.animationFrame=window.requestAnimationFrame(this.handleWindowResize)))}monitorPanelHeightChange(){const e=Date.now()+400,t=()=>{var s;(null!==(s=this.flickPanelRef)&&void 0!==s&&s.current?this.flickPanelNode.offsetHeight:0)!==this.panelRenderedHeight&&this.openPanel({useTransition:!1}),Date.now()<e?this.resizeTimer=setTimeout((()=>t()),80):this.resizeTimer=null};this.resizeTimer&&window.clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((()=>t()),80)}slidePanels(e,{useTransition:t=!1}={},s){var a,n;const{transitionDuration:r,animateMain:o,animateFlickPanel:i,edge:l}=this.props,c=1e3*r;let d="X";if(t&&null!==(a=this.flickPanelRef)&&void 0!==a&&a.current&&null!==(n=this.mainPanelRef)&&void 0!==n&&n.current?(this.flickPanelNode.style.transition=`all ${r}s ease-out`,this.mainPanelNode.style.transition=`all ${r}s ease-out`,s&&setTimeout(s,c)):(this.flickPanelNode.style.transition="",this.mainPanelNode.style.transition="",s&&setImmediate(s)),o){var _;const t="partial"===o?e/2:e;switch(l){case A.LEFT:case A.RIGHT:break;case A.UP:case A.BOTTOM:d="Y"}null!==(_=this.mainPanelRef)&&void 0!==_&&_.current&&(this.mainPanelNode.style.transform=`translate${d}(${t}px)`)}if(i){var E;switch(l){case A.LEFT:case A.RIGHT:d="X";break;case A.UP:case A.BOTTOM:d="Y"}null!==(E=this.flickPanelRef)&&void 0!==E&&E.current&&(this.flickPanelNode.style.transform=`translate${d}(${e}px)`)}}openPanel({useTransition:e=!1}={}){const{edge:t}=this.props,{offsetWidth:s=0}=this.flickPanelNode,{offsetHeight:a=0}=this.flickPanelNode;let n;switch(t){case A.LEFT:n=s;break;case A.RIGHT:n=-1*s;break;case A.UP:n=a;break;case A.BOTTOM:n=-1*a}switch(this.slidePanels(parseInt(n,10),{useTransition:e},this.props.onOpen),this.isOpen=!0,this.isTracking=!1,t){case A.LEFT:this.lastStablePosition=s;break;case A.RIGHT:this.lastStablePosition=-1*s;break;case A.UP:this.lastStablePosition=a;break;case A.BOTTOM:this.lastStablePosition=-1*a}this.panelRenderedHeight=a,document.querySelector("html").classList.add("clipped")}closePanel({useTransition:e=!1}={}){this.slidePanels(0,{useTransition:e},this.props.onClose),this.isOpen=!1,this.isTracking=!1,this.lastStablePosition=0,document.querySelector('[data-flick-panel-is-open="true"]')||document.querySelector("html").classList.remove("clipped")}calculateFlickAngle(e,t){const s=-1*e,a=-1*t;let n;return n=Math.atan2(a,s),n=parseInt(180*n/Math.PI,10),n=Math.abs(n),n}isGestureHorizontal(e){return!(e>185||e<165&&e>15)}isGestureVertical(e){return!(e>275||e<250&&e>105)}track(e,t){var s,a;const{edge:n}=this.props;let r;r=n===A.LEFT||n===A.RIGHT?e.touches?e.touches[0].pageX:e.pageX:e.touches?e.touches[0].pageY:e.pageY;const o=this.lastStablePosition+-1*t,i=null!==(s=this.flickPanelRef)&&void 0!==s&&s.current?this.flickPanelNode.offsetWidth:0,l=null!==(a=this.flickPanelRef)&&void 0!==a&&a.current?this.flickPanelNode.offsetHeight:0;switch(e.preventDefault(),r>this.lastNormalizedPosition&&(n===A.LEFT||n===A.UP)||r<this.lastNormalizedPosition&&(n===A.RIGHT||n===A.BOTTOM)?this.trackingDirection=C.OPENING:this.trackingDirection=C.CLOSING,this.lastNormalizedPosition=r,n){case A.LEFT:if(o<0||o>i)return;break;case A.RIGHT:if(o>0||o<-1*i)return;break;case A.UP:if(o<0||o>l)return;break;case A.BOTTOM:if(o>0||o<-1*l)return}((n===A.LEFT||n===A.UP)&&o>0||(n===A.RIGHT||n===A.BOTTOM)&&o<0)&&(this.isTracking=!0,this.slidePanels(o,{useTransition:!1}))}stopTracking(){const{offsetWidth:e=0,offsetHeight:t=0}=this.flickPanelNode,{edge:s}=this.props,a=s===A.LEFT||s===A.RIGHT?Math.round(e/3):Math.round(t/3),n=s===A.LEFT||s===A.RIGHT?e-22:t-22;let r;this.isTracking=!1,this.flickPanelNode.style.transform?r=/[0-9]+/.exec(this.flickPanelNode.style.transform):this.mainPanelNode.style.transform&&(r=/[0-9]+/.exec(this.mainPanelNode.style.transform));const o=r?r[0]:0;o&&(this.trackingDirection===C.OPENING?o>a?this.openPanel({useTransition:!0}):this.closePanel({useTransition:!0}):o>n?this.openPanel({useTransition:!0}):this.closePanel({useTransition:!0}))}handleSwiping(e,t,s){this.props.preventDefault&&e.preventDefault();const{edge:a}=this.props;let n;n=a===A.LEFT||a===A.RIGHT?e.touches?e.touches[0].pageX:e.pageX:e.touches?e.touches[0].pageY:e.pageY;const{allowEdgeDrag:r,dragHandleThreshold:o}=this.props,i=this.calculateFlickAngle(t,s),l=window.history.length>1,c=r&&!l;(a!==A.LEFT&&a!==A.RIGHT||this.isGestureHorizontal(i))&&(a!==A.UP&&a!==A.BOTTOM||this.isGestureVertical(i))&&(this.isOpen||this.isTracking||c&&n<=o)&&(a===A.LEFT||a===A.RIGHT?this.track(e,t):this.track(e,s))}handleSwiped(){this.stopTracking()}render(){const{children:e,isEnabled:t,isOpen:s,animateMain:n,animateFlickPanel:r,useTransition:o,edge:i,transitionDuration:l,allowFlicksOnMain:d,stopPropagation:_,allowEdgeDrag:u,dragHandleThreshold:m,preventDefault:C,onOpen:A,onClose:T,isRTL:I,dispatch:h,...g}=this.props,O=a.Children.toArray(e);(0,c.Z)(O.length<=2,"FlickPanel and MainPanel must be children of FlickPanelSet.");const D=O.find((e=>"FlickPanel"===e.type.displayName)),R=O.find((e=>"MainPanel"===e.type.displayName));(0,c.Z)(D,"FlickPanel must be a child of FlickPanelSet."),(0,c.Z)(R,"MainPanel must be a child of FlickPanelSet.");const N=a.cloneElement(D,{ref:this.flickPanelRef}),L=a.cloneElement(R,{ref:this.mainPanelRef});return a.createElement(E(),S({onSwiped:t?this.handleSwiped:p,onSwiping:t?this.handleSwiping:p,trackMouse:!1,stopPropagation:this.props.stopPropagation,"data-test-id":"flick-panel-set","data-flick-panel-is-open":s},g),L,N)}}T.defaultProps={isOpen:!1,animateMain:!0,animateFlickPanel:!0,useTransition:!0,edge:A.START,transitionDuration:.25,stopPropagation:!1,preventDefault:!1,allowFlicksOnMain:!0,allowEdgeDrag:!1,dragHandleThreshold:80,isEnabled:!0,onOpen:p,onClose:p,isRTL:!1};const I=(0,u.connect)(((e,t)=>{const s="rtl"===(0,m.selectors)(e).getEnvironmentSelectors().getPageDirection();let{edge:a}=t;return a||(a=A.START),a===A.START&&s||a===A.END&&!s?a=A.RIGHT:(a===A.END&&s||a===A.START&&!s)&&(a=A.LEFT),{edge:a}}))(T);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class g extends a.Component{constructor(e){super(e),this.divRef=a.createRef()}render(){const{children:e,...t}=this.props;return a.createElement("div",h({"data-test-id":"flick-panel",ref:this.divRef},t),e)}}var O,D,R;function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}R="FlickPanel",(D="displayName")in(O=g)?Object.defineProperty(O,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[D]=R;class L extends a.Component{constructor(e){super(e),this.divRef=a.createRef()}render(){const{children:e,...t}=this.props;return a.createElement("div",N({"data-test-id":"main-panel",id:"main-panel",ref:this.divRef},t),e)}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(L,"displayName","MainPanel");var f=s(35960),M=s(17451),P=s(10728);function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class y extends a.Component{constructor(...e){super(...e),b(this,"state",{isOpen:!1,height:0}),b(this,"close",(e=>{e.stopPropagation(),this.state.isOpen&&this.setState({isOpen:!1})})),b(this,"preventClose",(e=>{e.stopPropagation()}))}componentDidMount(){var e,t;const s=null===(e=this.props.sheetRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect().height;this.setState({isOpen:!0,height:s})}render(){const{onOpen:e,onClose:t,sheetRef:s,preventCloseOnOuterClick:n,preventSwiping:r,layerRootId:i,opacityLevel:c}=this.props,{isOpen:d,height:_}=this.state,E={},u=o()(l());return innerHeight&&_?E.top=innerHeight-_+"px":E.bottom=0,a.createElement(f.Z,{rootId:i},a.createElement(I,{isEnabled:!r,"data-test-id":"bottom-sheet-flick-panel-set",tabIndex:-1,isOpen:d,onOpen:e,onClose:t,transitionDuration:(d?P.zhE.enter:P.zhE.leave)/1e3,allowEdgeDrag:!1,allowFlicksOnMain:!1,animateMain:!1,edge:A.BOTTOM,className:u.FlickPanelSet,stopPropagation:!0,preventDefault:d},a.createElement(L,{className:u.mainPanel},a.createElement(M.Z,{isShown:d,opacityLevel:c})),a.createElement(g,{className:u.flickMorePanel,onClick:n?this.preventClose:this.close},a.createElement("div",{ref:s,"data-test-id":"sheet",className:u.sheet,style:E,"data-touch-scroll-enabled":!0,onClick:this.close},this.props.children))))}}y.defaultProps={layerRootId:"app",preventSwiping:!1};const v=y,F=(0,n.defineMessages)({closeMenu:{id:"mobile.submenu.close",defaultMessage:"Close popup"}});class U extends a.Component{constructor(e){super(e),this.sheetRef=a.createRef(),this.handleSheetOpen=this.handleSheetOpen.bind(this)}handleSheetOpen(){this.sheetRef.current&&this.sheetRef.current.querySelector("button").focus()}render(){const{menu:e,onClose:t,layerRootId:s,opacityLevel:n}=this.props,{intl:r}=this.context;return a.createElement(v,{layerRootId:s,sheetRef:this.sheetRef,onOpen:this.handleSheetOpen,onClose:t,opacityLevel:n},e,a.createElement("button",{"data-test-id":"close-button","aria-label":r.formatMessage(F.closeMenu),onClick:this.close,"data-accessible-only":!0}))}}U.defaultProps={onClose:()=>{},layerRootId:"app"},U.contextTypes={intl:n.intlShape};const k=U},53355:e=>{"use strict";e.exports={className:{default:{flickMorePanel:"p_f L_0 B_36IIE Z_7G9R H_6D6F W_3mS5W",flickPanelSet:"p_a T_0 L_0 W_3mS5W H_6D6F",mainPanel:"p_a Z_7Ay0 T_0 L_0 W_3mS5W H_6D6F",sheet:"D_F ek_BB P_1HT1B4 p_a B_0 W_3mS5W K_1BObGP k_w q_ZkbNhI C_Z281SGl e_1osmbG"}},_key:"Z1pmV1y"}},82483:(e,t,s)=>{"use strict";let a,n;s.d(t,{F:()=>a,u:()=>n}),function(e){e.PRIMARY="PRIMARY",e.PRIMARY_INVERTED="PRIMARY_INVERTED",e.SECONDARY="SECONDARY",e.TEXT="TEXT",e.TEXT_NEGATIVE="TEXT_NEGATIVE",e.TEXT_ON_DARK_BACKGROUND="TEXT_ON_DARK_BACKGROUND",e.CHIT="CHIT",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.BLOCK_DOMAINS="BLOCK_DOMAINS"}(a||(a={})),function(e){e.R="regular",e.S="small",e.XS="extrasmall"}(n||(n={}))},26766:(e,t,s)=>{"use strict";s.d(t,{Fd:()=>l.F,ZP:()=>S,u8:()=>l.u});var a=s(67294),n=s(76223),r=s.n(n),o=s(61395),i=s.n(o),l=s(82483),c=s(49615),d=s.n(c),_=s(94070),E=s(29911);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const m=(0,a.forwardRef)((({kind:e=l.F.PRIMARY,size:t=l.u.R,flex:s=!1,dimmed:n=!1,disabled:o=!1,onClick:c,children:m,overridingClass:S="",...p},C)=>{let A=e;n!==o&&(A=e+(o?"-disabled":"-dimmed"));const{partner:T}=(0,_.B)(),{theme:I}=(0,a.useContext)(E.Z),h=r()(d(),{kind:A,kindTheme:e+"-"+I,flex:s,size:t,sizeKind:t+e,partner:T});return a.createElement("button",u({ref:C,className:i()(h.button,S),disabled:o,onClick:c},p),m)}));m.displayName="ForwardRef<FujiButton>";const S=m},49615:e=>{"use strict";e.exports={className:{default:{button:"A_6EGz H_6VdP V_C u_e69 P_1EudUu k_w cg_n I_T e_6FIA lv_ZSMsbO ir_n M_0 p_R o_h G_e J_x r_P",bar:"I_Z29WjXl p_a h_1RtVxM z_ZtE3y e_dRA k_w H_eo6 W_6NIX"},"kind-PRIMARY":{button:"I_Z29WjXl C_ZkbNhI I0_Z2dyg2z"},"kind-PRIMARY_INVERTED":{button:"I_ZkbNhI C_Z29WjXl u_b W_6D6F I0_ZnkeaL"},"kind-PRIMARY-disabled":{button:"I_ZnIF8Y C_ZvsWfq"},"kind-SECONDARY":{button:"cn_dRA cg_FJ l_Z29WjXl C_Z29WjXl C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY-disabled":{button:"cn_dBP cg_FJ l_ZpQYvz C_ZvsWfq"},"kind-CHIT":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_Z29WjXl C_Z29WjXl C0_Z2dyg2z l0_Z2dyg2z"},"kind-CHIT-dimmed":{button:"D_F gl_C P_0 W_7jIs H_7cK6 cn_dRA e_eo6 cg_FJ l_ZpQYvz C_ZvsWfq",circle:"l_ZroviD",bar:"I_Z1VRqsb"},"kind-TEXT":{button:"C_Z29WjXl C0_Z2dyg2z"},"kind-TEXT_NEGATIVE":{button:"C_ZmDiLl C0_Z1TGpRv"},"kind-TEXT_ON_DARK_BACKGROUND":{button:"C_Z2bg7IA C0_ZkbNhI"},"kind-TEXT-disabled":{button:"C_ZvsWfq"},"kind-TEXT_NEGATIVE-disabled":{button:"C_ZvsWfq"},"kind-SUBSCRIPTIONS":{button:"C_Z2cPMlD I_ZMS7mY I4_2ieeaE C4_ZKXxHC"},"kind-BLOCK_DOMAINS":{button:"D_F ab_C C_ZmDiLl I_ZMS7mY I4_27aO8Y C4_Z1TGpRv"},flex:{button:"F_N"},"size-small":{button:"A_6Eb4 H_6NIX P_1Eu7sD e_6EGz"},"size-extrasmall":{button:"A_6Eb4 H_6Mbr P_3gJOe e_6DUj"},"sizeKind-regularSECONDARY":{link:"i_6UbO"},"sizeKind-smallSECONDARY":{link:"i_6MGW"},"sizeKind-extrasmallSECONDARY":{link:"i_6FIA"},"partner-aol":{button:"e_0"},"kindTheme-PRIMARY-NEXTGENHOME":{button:"I_Z1UxVYz C_ZkbNhI A_6EGz j_1VaqYs C1_Zw4K57 q1_Z15p2MD I4_Z21a4NC I0_Z26KQwg"}},_key:"Z1jNnH6"}},45840:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(78579),r=s.n(n),o=s(76223),i=s.n(o);class l extends a.Component{componentWillUnmount(){this.props.onClose()}render(){let{children:e}=this.props;const{direction:t}=this.props,s=i()(r(),{direction:t});return"horizontal"===t&&(e=a.Children.toArray(e).map((e=>(0,a.cloneElement)(e,{isCompact:!0})))),a.createElement("ul",{"data-test-id":this.props["data-test-id"],role:"vertical"===t?"menu":"toolbar",className:s.menu},e)}}l.defaultProps={direction:"vertical",onClose:()=>{}};const c=l},78579:e=>{"use strict";e.exports={className:{default:{menu:"hd_n M_0 P_0"},"direction-horizontal":{menu:"D_F gl_FL ab_C H_6D6F"}},_key:"AXERW"}},45525:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h});s(45697);var a=s(67294),n=s(18685),r=s(99095),o=s(76223),i=s.n(o),l=s(43007),c=s(76531),d=s(96461),_=s(37125),E=s.n(_),u=s(9026),m=s(37422),S=s(82520),p=s(65304),C=s(85927),A=s(10728);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class I extends a.Component{constructor(e){var t,s,a;super(e),a=!1,(s="mounted")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,this.state={isSubmenuOpen:!1},this.permittedPopoverArrowDirections=[p.Ji.UP,p.Ji.DOWN],this.openSubmenu=this.openSubmenu.bind(this),this.closeSubmenu=this.closeSubmenu.bind(this),this.handleMenuItemButtonClick=this.handleMenuItemButtonClick.bind(this),this.hasButtonRendered=!1}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}openSubmenu(){this.setState({isSubmenuOpen:!0})}closeSubmenu(){this.mounted&&this.setState({isSubmenuOpen:!1})}handleMenuItemButtonClick(e){const{isSubSubMenuOpen:t,submenu:s,onClick:a}=this.props,{isSubmenuOpen:n}=this.state;!s||n||t?a&&a(e):this.openSubmenu()}render(){let{isCompact:e=!1}=this.props;const{kind:t,colorState:s,isMiniPopover:n=!1,isDisabled:o=!1,isInverted:_=!1,isPaddedMore:m=!1,badge:C,isNotPadded:I=!1,depth:h=0,children:g,permittedPopoverArrowDirections:O=[p.Ji.UP,p.Ji.DOWN],rotate:D=c.Rotate.D0,size:R=c.Sizes.S,stopPropagation:N=!1,preventDefault:L=!1,submenu:f,description:M,isTwoColumnLayout:P,isCompactWithNoLabel:b,themeMode:y,subSubMenu:v,isSubSubMenuOpen:F,onSubSubMenuClose:U=(()=>{}),takesNaturalWidth:k=!1}=this.props,{isSubmenuOpen:w}=this.state,G=P,H=e&&(y===u.zg.DARK||_);H&&(e=!1);const B=i()(E(),{isDisabled:o,hasIcon:!!t,isMiniPopover:n,isCompact:e,isCompactAndDark:H,isPaddedMore:m,isNotPadded:I,isTwoColumnLayout:P,isCompactWithNoLabel:b,isInverted:_,depth:Math.min(h,2),takesNaturalWidth:k&&P}),x=f?{"aria-haspopup":!0,"aria-expanded":w}:{};if("SPACER"===t)return a.createElement("li",{role:"none",style:{flexGrow:1},"data-test-id":"spacer"});const V=o?c.ColorStates.DISABLED:c.ColorStates.INHERITED,Z=s&&!o?s:V,W=()=>!0===this.hasButtonRendered?null:(this.hasButtonRendered=!0,a.createElement("button",T({},x,{"data-test-id":this.props["data-test-id"],disabled:o,"aria-checked":!o,role:"menuitem",className:B.button,onClick:this.handleMenuItemButtonClick}),t&&a.createElement("span",{className:B.iconWrapper},a.createElement(l.Z,{kind:t,colorState:Z,size:R,rotate:D,flipRTL:!0})),a.createElement("span",{className:B.contentWrapper},a.createElement("span",{className:B.labelWrapper},g?a.createElement("span",{className:B.label,"data-test-id":"foobar-label"},g):null,C),M?a.createElement("span",{className:B.description},M):null)));return this.hasButtonRendered=!1,a.createElement("li",{role:"none",className:B.listItem,onClick:e=>{N&&e.stopPropagation(),L&&e.preventDefault()}},f&&G&&!(v&&F)&&a.createElement(S.OI,null,a.createElement(S.tW,null,W()),a.createElement(S.yk,{outerClickFallthrough:!1,triggerOn:w?p.K2.MOUNT:p.K2.CLICK,arrowSize:p.Jk.M,offset:8,zAltitude:A.LSY.POPOVER.HIGH,borderRadius:"MOBILE_DEFAULT",align:p.xM.ANY,permittedArrowDirections:O,onHide:this.closeSubmenu},(e=>a.createElement("div",{className:B.popoverContentWrapper,"data-test-id":"popover-content-wrapper"},"function"==typeof f?f(e):f,a.createElement("button",{onClick:this.closeSubmenu,role:"menuitem","data-accessible-only":!0},a.createElement(r.FormattedMessage,{id:"mobile.submenu.close",defaultMessage:"Close popup"})))))),f&&w&&!G?a.createElement("span",null,a.createElement(d.Z,{menu:f,onClose:this.closeSubmenu}),W()):null,v&&F&&G&&a.createElement(S.OI,null,a.createElement(S.tW,null,W()),a.createElement(S.yk,{outerClickFallthrough:!1,triggerOn:p.K2.MOUNT,arrowSize:p.Jk.M,offset:8,zAltitude:A.LSY.POPOVER.HIGH,borderRadius:"MOBILE_DEFAULT",align:p.xM.ANY,permittedArrowDirections:O,onHide:U},(e=>a.createElement("div",{className:B.popoverContentWrapper,"data-test-id":"popover-content-wrapper"},"function"==typeof v?v(e):v,a.createElement("button",{onClick:U,role:"menuitem","data-accessible-only":!0},a.createElement(r.FormattedMessage,{id:"mobile.submenu.close",defaultMessage:"Close popup"})))))),v&&F&&!G?a.createElement("span",null,a.createElement(d.Z,{menu:v,onClose:U}),W()):null,W())}}Object.assign(c.Kinds,{SPACER:"SPACER"});I.contextTypes={intl:r.intlShape};const h=(0,n.connect)((e=>{const{getPrescribedNumberOfColumns:t,getSetting:s}=(0,C.selectors)(e);return{isTwoColumnLayout:2===t(),themeMode:s(m.Zrf.THEME_MODE)}}))(I)},37125:e=>{"use strict";e.exports={className:{default:{listItem:"W_6D6F",button:"r_P D_F gl_CI ek_EZ b_n A_6Fd5 q_n C_Z281SGl cdPFi_Z281SGl je_6Eb4 N_6MGW jb_6Eb4 X_6MGW W_6D6F lv_ZSMsbO G_e t_l k_w I0_2spJVB ir_n",iconWrapper:"F_n D_F",contentWrapper:"F_N D_F gl_C ek_BB W_6D6F",labelWrapper:"D_F ek_EZ ab_C",label:"P_0 i_6MGW D_F ab_C F_CS o_h J_x G_e",badge:"D_X e_dRA I_Z1gjd50 C_Z29WjXl A_6DEy Q_fq7 P_3gJiI i_6FIA",description:"A_6EGz C_Z1VRqsb"},isInverted:{button:"cdPFi_ak5m8"},hasIcon:{contentWrapper:"P_Z1fenNR"},isCompact:{listItem:"t_C em_0 M_0 N_0 jb_0 X_0 je_0 o_h",contentWrapper:"P_0",button:"D_F ek_BB ab_C gl_C je_eo6 N_eo6 jb_eo6 X_eo6 W_6D6F o_h O_N t_C O0_6uAy",iconWrapper:"D_B M_1EAG48",label:"C_Z1VRqsb D_I A_6DUj i_6EqO Y_eo6 P_0 W_6D6F"},isCompactWithNoLabel:{listItem:"t_C em_0 M_0 N_0 jb_0 X_0 je_0 o_h",button:"je_fq7 N_fq7 jb_fq7 X_fq7 M_0 W_6D6F D_F o_h O_N t_C O0_6uAy",iconWrapper:"D_F ab_C gl_C",label:"D_I P_0",contentWrapper:"P_0"},isCompactAndDark:{listItem:"t_C em_0 M_0 N_0 jb_0 X_0 je_0 o_h",contentWrapper:"P_0",button:"D_F ek_BB ab_C gl_C je_eo6 N_eo6 jb_eo6 X_eo6 W_6D6F o_h O_N t_C cdPFi_ak5m8 O0_6uAy",iconWrapper:"D_B M_1EAG48",label:"C_ZvsWfq D_I A_6DUj i_6EqO Y_eo6 P_0 W_6D6F"},isMiniPopover:{button:"D_F ab_C b_n A_6EqO q_n je_0 N_6Eb4 jb_0 X_6Eb4 H_6UbO lv_ZSMsbO k_w I0_2spJVB ir_n",label:"o_h G_e J_x P_0 i_q"},isNotPadded:{button:"je_0 N_0 jb_0 X_0"},isPaddedMore:{listItem:"X_6Eb4 N_6Eb4"},isTwoColumnLayout:{popoverContentWrapper:"je_6Eb4 jb_6Eb4"},takesNaturalWidth:{listItem:"W_A"},isDisabled:{button:"C_ZvsWfq",badge:"I_ZvsWfq",description:"C_ZvsWfq"},"depth-1":{button:"X_74JI"},"depth-2":{button:"X_7rdk"}},_key:"1g6xzn"}},17451:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(1962),c=s.n(l),d=s(10728);class _ extends r.Component{constructor(e){super(e);const{isShown:t}=this.props;this.state={readyForTransiton:t}}handleTouchMove(e){e.preventDefault()}componentDidUpdate(e){!e.isShown&&this.props.isShown&&setTimeout((()=>{this.setState({readyForTransiton:!0})}),0)}render(){var e;const{isShown:t,onClick:s,zIndex:a,isThemed:n,opacityLevel:o}=this.props,{readyForTransiton:l}=this.state,d=t&&l,_=i()(c(),{isVisible:d,isThemed:n,partner:n?null===(e=this.context.partner)||void 0===e?void 0:e.toUpperCase():"",opacityLevel:o});return r.createElement("div",{className:_.overlay,onClick:s,onTouchMove:this.handleTouchMove,style:{zIndex:t?a:-1}})}}_.contextTypes={partner:n().string},_.defaultProps={isShown:!1,zIndex:d.LSY.OVERLAY,isThemed:!1,opacityLevel:d.BMy.MEDIUM};const E=_},1962:e=>{"use strict";e.exports={className:{default:{overlay:"p_f D_B cZW7ROP_n T_0 L_0 W_3mS5W H_3mS5H O_0 lv_ZikYDW q_Z281SGl"},isThemed:{overlay:"q_2udmCc"},isVisible:{overlay:"cZW7ROP_A O_6uDB lv_pO2yj"},"partner-AOL":{overlay:"aw_Z2gu0R9 I_exEa7"},"opacityLevel-0":{overlay:"O_0"},"opacityLevel-0.3":{overlay:"O_cMp"}},_key:"Z27GQf"}},1974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s(45697);var a=s(67294),n=s(18685),r=s(76223),o=s.n(r),i=s(99095),l=s(37422),c=(s(95406),s(85927)),d=s(93750),_=s.n(d),E=s(86921);const u=o()(_()),m=({type:e,shouldShowCount:t=!0,newMailCount:s=0,isNewMailList:n=!1},{intl:r})=>{const{formatMessage:o}=r,i=t&&n,l=(0,E.Z)(e),c=l?o(l):"";if(!s||!i)return a.createElement("span",null,c);const d=`(${r.formatNumber(s)})`;return a.createElement(a.Fragment,null,a.createElement("span",null,c),a.createElement("span",{className:u.count},d))};m.contextTypes={intl:i.intlShape.isRequired};const S=(0,n.connect)(((e,t)=>{const{getDefaultFolderIdForSelectedAccount:s,isInboxStyleNewOldMail:a,getFoldersSelectors:n}=(0,c.selectors)(e);return{isNewMailList:a()&&t.type===l.K8C.NEWMAIL,newMailCount:n().getFolderUnreadCount(s())}}))(m)},86921:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(99095),n=s(37422);const r=(0,a.defineMessages)({smart_view_unread:{id:"smart_view_unread_label",defaultMessage:"Unread"},smart_view_starred:{id:"smart_view_starred_label",defaultMessage:"Starred"},smart_view_oldmail:{id:"smart_view_oldmail_label",defaultMessage:"Old Mail"},smart_view_newmail:{id:"smart_view_newmail_label",defaultMessage:"New Mail"},smart_view_emails_to_myself:{id:"smart_view_emails_to_myself",defaultMessage:"Emails to myself"}});function o(e){switch(e){case n.K8C.UNREAD:return r.smart_view_unread;case n.K8C.STARRED:return r.smart_view_starred;case n.K8C.OLDMAIL:return r.smart_view_oldmail;case n.K8C.NEWMAIL:return r.smart_view_newmail;case n.K8C.EMAILS_TO_MYSELF:return r.smart_view_emails_to_myself;default:throw new TypeError("Invalid type: "+e)}}},93750:e=>{"use strict";e.exports={className:{default:{count:"X_fq7"}},_key:"Z1VWhWI"}},7732:(e,t,s)=>{"use strict";s.d(t,{OA:()=>_,ZP:()=>S});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(40804),l=s.n(i),c=(s(95406),s(37422)),d=s(85927);const _={THEMED:"THEMED",LIGHT:"LIGHT",DARK:"DARK",NONE:"NONE"},E="flexStart",u="center",m=({headerLeft:e,headerRight:t,title:s,headerStyle:a=_.THEMED,isTwoColumnLayout:n,isTwoColumnLayoutCompose:o=!1,isTwoColumnLayoutContact:i=!1,compactLeftMargin:c=!1,compactRightMargin:d=!1,useWebFonts:m,titleAlignment:S=u},{getCss:p,partner:C=""})=>{let A=t;A?Array.isArray(A)||(A=[t]):A=[];const T=S===E||n,I=p(l(),{partner:C.toUpperCase(),headerStyle:a,compactLeftMargin:c,compactRightMargin:d,isTwoColumnLayoutCompose:o,isTwoColumnLayoutContact:i,isTitleAlignedAtFlexStart:T,useWebFonts:m});let h,g;if(!T){const e=r.createElement("span",{className:I.spacer,"aria-hidden":!0});0===A.length?g=e:2===A.length&&(h=e)}return r.createElement("header",{className:I.container,"data-test-id":"mobile-header"},r.createElement("div",{className:I.buttonGroup},e,h),r.createElement("div",{className:I.title,id:"page-header-title",tabIndex:-1,"data-test-id":"header-status-text"},s),r.createElement("div",{className:I.buttonGroup},g,t))};m.contextTypes={getCss:n().func,partner:n().string};const S=(0,o.connect)((e=>{const{getPrescribedNumberOfColumns:t,getFeaturesSelectors:s}=(0,d.selectors)(e),{isEnabled:a}=s();return{isTwoColumnLayout:2===t(),useWebFonts:a(c.ANe.WEB_FONTS)}}))(m)},40804:e=>{"use strict";e.exports={className:{default:{container:"q_2udmCc H_7ceA D_F en_0 gl_FM ab_C X_fq7 N_fq7 k_w p_s W_6D6F Z_O",title:"C_ZkbNhI A_6FIA i_3mDea o_h J_x G_e",buttonGroup:"D_F em_0",spacer:"D_B W_72FG H_72FG cZW7ROP_n"},"partner-AOL":{container:"q_ZKqKQY"},"headerStyle-LIGHT":{container:"q_ZkbNhI m_Z14vXdP",title:"C_Z281SGl"},"headerStyle-DARK":{container:"q_Z29dUYT m_2lDXCo",title:"C_ZpQYvz"},isTitleAlignedAtFlexStart:{title:"em_N X_fq7"},isTwoColumnLayoutCompose:{container:"q_ZkbNhI cj_fq7 ck_fq7 o_h p_a"},isTwoColumnLayoutContact:{container:"q_ZkbNhI W_eBt cj_fq7 ck_fq7 o_h p_a"},compactLeftMargin:{container:"X_eo6"},compactRightMargin:{container:"N_eo6"},useWebFonts:{title:"u_b"},reserveSpaceForAppBanner:{container:"T_7ceA"}},_key:"Z8vbpX"}},45895:(e,t,s)=>{"use strict";s.d(t,{cA:()=>a,u3:()=>n});const a={FLEXIBLE:"100%",NARROW:"320px",WIDE:"360px"},n={MIN_WIDTH_FOR_TWO_COLUMNS:640,MIN_HEIGHT_FOR_TWO_COLUMNS:520,WIDE_MESSAGE_LIST:1112}},84328:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(43111),i=s.n(o);const l=function({accountType:e}){const t=r()(i(),{accountType:e});return a.createElement("div",{className:t.avatar})}},27052:e=>{"use strict";e.exports={className:{default:{flashSaleCountdown:"D_F ab_C C_Z1VRqsb cdPFi_Z1VRqsb",flashSaleCountdownText:"Q_eo6"},flashSaleHighlight:{flashSaleCountdown:"C_Z287E9E cdPFi_Z287E9E"},isDarkTheme:{flashSaleCountdown:"C_ZvsWfq cdPFi_ZvsWfq"}},_key:"2gPVlc"}},56971:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u,z:()=>_});s(45697);var a=s(67294),n=s(9333),r=s(76531),o=s(99095),i=s(95406);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const d=(0,o.defineMessages)({allChecked:{id:"atom.checkbox_all_checked",defaultMessage:"Uncheck all messages, {selectionCount, plural, one {# message} other {# messages}} checked. Press down arrow to go to messages. For JAWS, turn PC Cursor off with Insert Z and press down arrow. Press right arrow for more functions"},notAllChecked:{id:"atom.checkbox_not_all_checked",defaultMessage:"Check all messages, {selectionCount, plural, one {# message} other {# messages}} checked. Press down arrow to go to messages. For JAWS, turn PC Cursor off with Insert Z and press down arrow. Press right arrow for more functions"},checkedPartial:{id:"atom.checkbox_checked_partial",defaultMessage:"Uncheck all messages, {selectionCount, plural, one {# message} other {# messages}} checked. Press down arrow to go to messages. For JAWS, turn PC Cursor off with Insert Z and press down arrow. Press right arrow for more functions"}}),_=(0,i.gP)(["NONE","ALL","PARTIAL"]);class E extends a.Component{render(){const{type:e,highContrast:t,isInverted:s,size:o,isMonochrome:i,isOnDarkBackground:c,disabled:E,selectionCount:u,isSelectionControlGroup:m}=this.props;let S,p,C,A,T,I;switch(s?(A=t?r.ColorStates.INVERTED_LESS_DIM:r.ColorStates.INVERTED_DIM,T=r.ColorStates.INVERTED):(A=t?r.ColorStates.NORMAL:r.ColorStates.COOL_FAINT,T=r.ColorStates.SELECTED),e){case _.ALL:S=r.Kinds.CHECKBOX_ON,p=T,C=d.allChecked,I="true";break;case _.PARTIAL:S=i?r.Kinds.MONOCHROME_MIXED_CHECKBOX:r.Kinds.MIXED_CHECKBOX,p=A,C=d.checkedPartial,I="mixed";break;case _.NONE:default:S=r.Kinds.CHECKBOX_OFF,p=A,C=d.notAllChecked,I="false"}return a.createElement(n.default,l({"data-test-id":"checkbox"},this.props,{"data-iskeynav":!0,size:o,kind:S,colorState:p,title:m&&this.context.intl.formatMessage(C,{selectionCount:u}),isOnDarkBackground:c,disabled:E,role:"checkbox","aria-checked":I}))}}c(E,"defaultProps",{highContrast:!1,isInverted:!1,size:r.Sizes.XS,isMonochrome:!1,tabIndex:-1,disabled:!1}),c(E,"contextTypes",{intl:o.intlShape.isRequired});const u=E},48650:e=>{"use strict";e.exports={className:{default:{iframe:"W_6D6F b_n o_h jb_0 X_6MGW N_6Fd5"}},_key:"Z1f2P3g"}},94766:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(43007),r=s(76531),o=s(99691),i=s(37422),l=s(10728),c=s(76223),d=s.n(c),_=s(5059),E=s.n(_);const{SimplifiedTypes:u}=i.sSc,m=d()(E()),S={[u.IMAGE]:r.Kinds.ATTACH_IMAGE_48,[u.VIDEO]:r.Kinds.ATTACH_MOVIE_48,[u.FILE]:r.Kinds.ATTACH_GENERIC_48,[u.AUDIO]:r.Kinds.ATTACH_SOUND_48,[u.COMPRESSED]:r.Kinds.ATTACH_ZIP_48,[u.PDF]:r.Kinds.ATTACH_PDF_48,[u.GDOCS]:r.Kinds.ATTACH_GDOCS_48,[u.GSHEETS]:r.Kinds.ATTACH_GSHEETS_48,[u.GSLIDES]:r.Kinds.ATTACH_GSLIDES_48,[u.XLS]:r.Kinds.ATTACH_XLS_48,[u.PPT]:r.Kinds.ATTACH_PPT_48,[u.DOC]:r.Kinds.ATTACH_DOC_48,[u.CAL]:r.Kinds.ATTACH_ICS_48,[u.FOLDER]:r.Kinds.FOLDER},p={[u.IMAGE]:r.ColorStates.ATTACH_MEDIA,[u.VIDEO]:r.ColorStates.ATTACH_MEDIA,[u.AUDIO]:r.ColorStates.ATTACH_MEDIA,[u.PDF]:r.ColorStates.ATTACH_PDF,[u.GDOCS]:r.ColorStates.ATTACH_DOC,[u.GSHEETS]:r.ColorStates.ATTACH_EXCEL,[u.GSLIDES]:r.ColorStates.ATTACH_SLIDE,[u.XLS]:r.ColorStates.ATTACH_EXCEL,[u.PPT]:r.ColorStates.ATTACH_SLIDE,[u.DOC]:r.ColorStates.ATTACH_DOC,[u.CAL]:r.ColorStates.ATTACH_CAL,[u.COMPRESSED]:r.ColorStates.ATTACH_COMPRESSED,[u.FOLDER]:r.ColorStates.FOLDER},C={[r.ColorStates.ATTACH_MEDIA]:`url(#${r.ColorStates.ATTACH_MEDIA}) ${l.E6z.vzm_hulk_pants}`,[r.ColorStates.ATTACH_CAL]:`url(#${r.ColorStates.ATTACH_MEDIA}) ${l.E6z.vzm_hulk_pants}`,[r.ColorStates.ATTACH_EXCEL]:`url(#${r.ColorStates.ATTACH_EXCEL}) ${l.E6z.vzm_sea_foam}`,[r.ColorStates.ATTACH_DOC]:`url(#${r.ColorStates.ATTACH_DOC}) ${l.E6z.vzm_dory}`,[r.ColorStates.ATTACH_SLIDE]:`url(#${r.ColorStates.ATTACH_SLIDE}) ${l.E6z.vzm_malibu}`,[r.ColorStates.ATTACH_PDF]:`url(#${r.ColorStates.ATTACH_SLIDE}) ${l.E6z.vzm_malibu}`,[r.ColorStates.ATTACH_GENERIC]:`url(#${r.ColorStates.ATTACH_GENERIC}) ${l.E6z.vzm_dory}`,[r.ColorStates.ATTACH_COMPRESSED]:`url(#${r.ColorStates.ATTACH_GENERIC}) ${l.E6z.vzm_dory}`,[r.ColorStates.FOLDER]:`url(#${r.ColorStates.FOLDER}) ${l.E6z.ycolorGrayFg}`},A=function({disabled:e,type:t,subtype:s,isInverted:i,fallbackText:c,filename:d="",isThumbnail:_=!1}){const E=(0,o.mD)(d),u=(0,o.SA)(t,s),A=E&&S[E]||S[u]||r.Kinds.ATTACH_GENERIC_48,T=E&&p[E]||p[u]||r.ColorStates.ATTACH_GENERIC,I=i?l.YS_:C[T],h={fill:e?l.cl5:I};return a.createElement("svg",{style:h,viewBox:"0 0 20 20",className:_?m.thumbnailIcon:m.attachmentIcon},n.B[A],c&&a.createElement("desc",null,a.createElement("p",{className:m.fallback},c)))}},23224:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(61822),r=s.n(n),o=s(76223),i=s.n(o),l=s(61395),c=s.n(l),d=s(69511),_=s(9333),E=s(76531),u=s(99095);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=(0,u.defineMessages)({clearButton:{id:"input_clear",defaultMessage:"Clear"}});class C extends a.Component{constructor(...e){super(...e),S(this,"state",{value:this.props.value}),S(this,"focus",(()=>{this.bidiInput.focus()})),S(this,"handleChange",(e=>{const{value:t}=this.state;e.persist(),e.target.value!==t&&this.setState({value:e.target.value},(()=>{this.props.onChange(e)}))}))}UNSAFE_componentWillReceiveProps(e){this.state.value!==e.value&&this.setState({value:e.value})}componentDidMount(){this.props.focusOnMount&&setTimeout((()=>this.bidiInput&&this.bidiInput.focus()),0)}render(){const{className:e,containerClassName:t,clearButtonContainerClassName:s,isClearable:n,onClear:o,clearIconColorState:l,focusOnMount:u,...S}=this.props,{value:C}=this.state,A=Boolean(n&&C),T=(0,d.getTextDirection)(C),I=i()(r(),{showClear:A});return a.createElement("div",{className:c()(I.inputContainer,t)},a.createElement("input",m({},S,{value:C,className:c()(I.input,e,I.rtlRemoveInput,I.rtlRawInput),ref:e=>this.bidiInput=e,onChange:this.handleChange},T&&{dir:T})),A&&a.createElement("span",{className:c()(I.clearButtonContainer,s)},a.createElement(_.default,{kind:E.Kinds.CLEAR,size:E.Sizes.XXS,colorState:l,title:this.context.intl.formatMessage(p.clearButton),className:I.clearButton,onClick:o,"data-test-id":"clear-button"})))}}S(C,"contextTypes",{intl:u.intlShape}),S(C,"defaultProps",{value:"",onChange(){},isClearable:!1,onClear(){},containerClassName:"",focusOnMount:!1,clearIconColorState:E.ColorStates.FAINT});const A=C},9865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var a=s(45697),n=s.n(a),r=s(67294),o=s(13764),i=s.n(o),l=s(43007),c=s(76531),d=s(92559),_=s(13508),E=s.n(_),u=s(99095);const m=(0,u.defineMessages)({breakingNewsbanner:{id:"breaking.news.banner",defaultMessage:"BREAKING NEWS"},latestNewsbanner:{id:"latest.news.banner",defaultMessage:"LATEST NEWS"}}),S=({lastestNews:e,clickUrl:t,onClick:s},{getCss:a,intl:{formatMessage:n}})=>{const o=a(E()),i=n(e?m.latestNewsbanner:m.breakingNewsbanner);return r.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:t,onClick:s,"aria-label":i,title:i,className:o.bannerContainer,"data-test-id":"breaking-news-banner"},r.createElement("div",{className:o.bannerText},i))};S.contextTypes={getCss:n().func,intl:u.intlShape.isRequired},S.defaultProps={lastestNews:!1};const p=S;function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class A extends r.Component{constructor(...e){super(...e),C(this,"onNewsClick",(()=>{const{newsArticle:e,breakingNewsClicked:t}=this.props;t({i13nModel:{mKey:d.JE.BREAKING_NEWS_CLICKED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})})),C(this,"onClose",(()=>{const{newsArticle:e,breakingNewsDismissed:t}=this.props;t({i13nModel:{mKey:d.JE.BREAKING_NEWS_DISMISSED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})}))}componentDidMount(){const{newsArticle:e,breakingNewsRendered:t}=this.props;this._breakingNewsRenderedTimer=setTimeout((()=>{t({i13nModel:{mKey:d.JE.BREAKING_NEWS_RENDERED,sec:d.nJ.BREAKING_NEWS,actionData:{id:e.id,title:e.title,severity:e.severity}}})}),0)}componentWillUnmount(){this._breakingNewsRenderedTimer&&clearTimeout(this._breakingNewsRenderedTimer)}render(){const{newsArticle:e,isCompactLayout:t}=this.props,s=this.context.getCss(i());return r.createElement("div",{"data-test-id":"breaking-news-container",className:s.container},r.createElement("div",{className:s.subContainer},r.createElement(p,{clickUrl:e.clickUrl,onClick:this.onNewsClick}),r.createElement("div",{className:s.content},r.createElement("a",{rel:"noopener noreferrer",className:s.link,href:e.clickUrl,onClick:this.onNewsClick,target:"_blank",tabIndex:"-1"},r.createElement("div",{"data-test-id":"breaking-news-title",className:s.articleTitle},e.title),t?null:r.createElement("div",{className:s.popoutIcon},r.createElement(l.Z,{kind:c.Kinds.POP_OUT,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED}))),r.createElement("div",{className:s.close,onClick:this.onClose},r.createElement(l.Z,{kind:c.Kinds.CLOSE,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED})))))}}A.contextTypes={getCss:n().func};const T=A},13508:e=>{"use strict";e.exports={className:{default:{bannerContainer:"p_R Z_0 D_F J_x r_P",bannerText:"D_X P_ZILJ0M p_R C_ZkbNhI u_b o_h D33_B dq33_Z1WN6IG p33_a T33_0 L33_0 W33_6D6F H33_6D6F aw33_PKFo9 lt33_1HC8nX h33_ZEmv6m Z33_nF"}},_key:"Z28gVlG"}},13764:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_6UbO k_w I_ZkbNhI X_6LEV C_Z1YRXYn A_6EqO u_b N_6Fd5",subContainer:"D_F ab_C em_N o_h",content:"D_F em_N gl_FM ab_C o_h",link:"o_h D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z29WjXl C4_Z29WjXl",close:"Q_fq7 D_F r_P C_Z1YRXYn cdPFi_Z1YRXYn cdPFi4_Z29WjXl C4_Z29WjXl",articleTitle:"Q_fq7 u_N J_x o_h G_e",popoutIcon:"D_F Q_eo6"},"themeMode-DARK":{container:"I_T C_ZkbNhI",link:"C_ak5m8 cdPFi_ak5m8 cdPFi4_ZkbNhI C4_ZkbNhI",close:"C_ak5m8 cdPFi_ak5m8 cdPFi4_ZkbNhI C4_ZkbNhI"}},_key:"Z4LXCj"}},67498:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var a=s(45697),n=s.n(a),r=s(67294),o=s(29210),i=s.n(o),l=s(76223),c=s.n(l),d=s(28182),_=(s(95406),s(61395)),E=s.n(_);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const{THEMED_LIKE_COMPOSE_BUTTON:S,PRIMARY:p,DANGER:C,SECONDARY:A}=d.F,T=[p,A,C,S],I=[S];class h extends r.Component{constructor(...e){super(...e),m(this,"keyboardClick",(e=>{/^( |Enter)$/.test(e.key)&&(e.preventDefault(),e.stopPropagation(),this.props.onClick(e))}))}componentDidMount(){if(I.indexOf(this.props.kind)>=0&&!this.context.getTheme)throw new Error("context.getTheme() is required for theme related button kind")}render(){const{kind:e,disabled:t,paddingLess:s,marginLess:a,onClick:n,children:o,isOnDarkBackground:l,overridingClass:d,tabIndex:_,buttonRef:m,...C}=this.props,A=c()(i(),{decorated:T.indexOf(e)>=0,kind:e,disabled:t,paddingLess:s,marginLess:a,isOnDarkBackground:l,primaryHover:`${e===p}_${t}`,...e===S?{[`${S}_${this.context.getTheme()}`]:!0}:{}});return r.createElement("button",u({tabIndex:_,disabled:Boolean(t),className:d?E()(A.button,d):A.button,onKeyDown:n&&this.keyboardClick,onClick:n,type:"button",ref:m},C),o)}}m(h,"contextTypes",{getTheme:n().func}),m(h,"defaultProps",{kind:d.F.PRIMARY,disabled:!1,paddingLess:!1,marginLess:!1,isOnDarkBackground:!1,tabIndex:-1});const g=h},8061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(99095),r=s(76531),o=s(9333),i=s(11525),l=s.n(i),c=s(76223);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const _=s.n(c)()(l()),E=(0,n.defineMessages)({search_back:{id:"back_to_list_btn_title",defaultMessage:"Back"}}),u=({showText:e=!0,onClick:t,...s},{intl:{formatMessage:n}})=>{const i=n(E.search_back);return a.createElement(o.default,d({"data-iskeynav":!0,"data-test-id":"toolbar-back-to-list","aria-label":i,title:i,kind:r.Kinds.ARROW_UP,size:r.Sizes.XS,rotate:r.Rotate.D270,onClick:t,colorState:r.ColorStates.INHERITED,className:_.backToListButton},s),e&&i)};u.contextTypes={intl:n.intlShape.isRequired};const m=u},11525:e=>{"use strict";e.exports={className:{default:{backToListButton:"y_jyw3a A_6EqO J_x C_q cdPFi_q E_fq7"}},_key:"1219tQ"}},55626:e=>{"use strict";e.exports={className:{default:{datepickerCalendar:"k_w q_ZkbNhI W_3rfjo e_dRA j_2v1b6D P_Z1stIAm",dayHeaderWrapper:"Y_fq7 U_dRA",monthHeaderWrapper:"D_F A_6EqO H_6LEV m_Z14vXdP P_1Eu7sD",titleWrapper:"D_X W_1BJksS u_b C_Z281SGl",yearTitle:"Q_eo6",daysWrapper:"P_1Eu7sD",arrow:"r_P t_C W_6LEV H_6LEV",dayHeader:"r_P t_C D_X A_6DUj W_6NIX H_6LEV C_ZvsWfq i_6LEV"}},_key:"1fmiCw"}},69298:e=>{"use strict";e.exports={className:{default:{dayWrapper:"t_C D_X W_6NIX H_6LEV",day:"r_P e_e5X t_C D_X W_6LEV H_6LEV A_6DUj i_6LEV q4_ZpQYvz",emptyDay:"D_X W_6NIX H_6LEV"},isDisabled:{day:"A_6DUj C_Z1TsNbA"},isSelected:{day:"u_b C_Z281SGl q_Z1gjd50"},isToday:{day:"q_Z1gjd50"}},_key:"Z1AoGAG"}},22570:e=>{"use strict";e.exports={className:{default:{weekWrapper:"U_dRA"}},_key:"Z26EX72"}},70039:(e,t,s)=>{"use strict";s.d(t,{N:()=>T,Z:()=>h});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(16376),l=s.n(i),c=(s(4832),s(37422)),d=s(95406),_=s(76531),E=s(9333),u=s(77451),m=s.n(u),S=s(61395),p=s.n(S);function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const A=(0,o.defineMessages)({prev:{id:"carousel.previous",defaultMessage:"Previous"},next:{id:"carousel.next",defaultMessage:"Next"}}),T=(0,d.gP)(["NEXT","PREV"]);class I extends a.Component{constructor(e){super(e),C(this,"_getChildrenTotalWidth",(()=>{const{contextOfUse:e}=this.props;return e===c.C5$.PRODUCT?this.props.itemWidth/3*a.Children.count(this.props.children):this.props.itemWidth*a.Children.count(this.props.children)})),C(this,"_navHandlePrev",(()=>{this.navHandle(T.PREV)})),C(this,"_navHandleNext",(()=>{this.navHandle(T.NEXT)})),C(this,"setAnimation",((e=!0)=>{this.animated=e})),C(this,"setOffset",((e=0)=>{this.setState({offset:e})})),C(this,"navHandle",((e,t=null)=>{var s;const{offset:a}=this.state,{isRTL:n}=this.props,r=this._getChildrenTotalWidth(),o=null===(s=this.carousel)||void 0===s?void 0:s.clientWidth;let i=a;if(null===t){const t=this.props.defaultTransitionAmount||o;let s=0;if(e===T.NEXT){const e=r-o-a;s=t>e?-e:-t}else s=a>t?t:a;i=a-s,0!==s&&(this.animated=!0,this.setState({offset:i}))}else if(!n&&e===T.NEXT||n&&e===T.PREV){i=a+t;const e=n?t-a:i-r+o;e>0&&(i-=e),this.animated=!0,this.setState({offset:i})}else i=a-t>=0?a-t:0,this.animated=!0,this.setState({offset:i});i!==a&&this.props.onCarouselNav(e===T.NEXT)})),C(this,"renderCarousel",(()=>{const{intl:{formatMessage:e}}=this.context,{offset:t}=this.state,{contextOfUse:s,toolbarKind:n,isRTL:o,navArrows:i,navArrowsColor:l,hideNavArrowsOnTransition:d}=this.props,u=t<=0,S=this._getChildrenTotalWidth(),C=S&&this.carousel&&this.carousel.clientWidth+t>=S,T=s===c.C5$.PRODUCT;let I=T?_.ColorStates.NORMAL:_.ColorStates.SELECTED;l&&(I=l);const h=r()(m(),{prevDisabled:u,nextDisabled:C,toolbarKind:n,retailerCarouselStyle:T,animationDisabled:!this.animated}),g=o?{right:-t}:{left:-t};return a.createElement("div",{className:h.carouselContainer},(()=>{if(u&&d)return null;const t=a.createElement("div",{className:h.prevNavHandleContainer+" "+h.rtlRawScaleX},a.createElement(E.default,{"data-test-id":"carousel-prev-button",kind:_.Kinds.ARROW_RIGHT_DOC,rotate:_.Rotate.D180,size:_.Sizes.XS,colorState:u?_.ColorStates.FAINT:I,onClick:this._navHandlePrev,title:e(A.prev),"aria-label":e(A.prev),className:h.prevNavHandle}));return T?i&&!u&&t:i&&t})(),a.createElement("div",{className:h.carousel,ref:e=>{e&&!this.carousel&&(this.carousel=e)}},a.createElement("div",{className:h.list,style:g,"data-test-id":"carousel-container"},this.props.children)),(()=>{if(C&&d)return null;const t=a.createElement("div",{className:p()(h.nextNavHandleContainer,h.rtlRawScaleX)},a.createElement(E.default,{"data-test-id":"carousel-next-button",kind:_.Kinds.ARROW_RIGHT_DOC,rotate:_.Rotate.D0,size:_.Sizes.XS,colorState:C?_.ColorStates.FAINT:I,onClick:this._navHandleNext,title:e(A.next),"aria-label":e(A.next),className:h.nextNavHandle}));return i&&t})())})),C(this,"renderSwipeableCarousel",(()=>a.createElement(l(),{onSwipedLeft:()=>this.navHandle(T.NEXT),onSwipedRight:()=>this.navHandle(T.PREV),style:{width:"100%",display:"flex"}},this.renderCarousel()))),this.animated=e.initialAnimation,this.state={offset:0}}componentDidMount(){this.props.didMount()}UNSAFE_componentWillReceiveProps(e){if(e.isWindowResizingDone){var t;const{offset:e}=this.state,s=this._getChildrenTotalWidth(),a=(null===(t=this.carousel)||void 0===t?void 0:t.clientWidth)+e-s,n=a>e?e:a,r=a>=0?e-n:e;this.setState({offset:r})}}render(){return this.props.isSwipeable?this.renderSwipeableCarousel():this.renderCarousel()}}C(I,"contextTypes",{intl:o.intlShape.isRequired}),C(I,"defaultProps",{initialAnimation:!0,didMount:()=>{},defaultTransitionAmount:null,onCarouselNav:()=>{},navArrows:!0,contextOfUse:"",hideNavArrowsOnTransition:!1});const h=I},1249:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(56971),r=(s(95406),s(76531));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e){const{isChecked:t,size:s}=e;return a.createElement(n.Z,o({},e,{type:t?n.z.ALL:n.z.NONE,size:s}))}i.defaultProps={size:r.Sizes.XS};const l=a.memo(i)},28182:(e,t,s)=>{"use strict";let a;s.d(t,{F:()=>a}),function(e){e.PLAIN="PLAIN",e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY",e.CHROMELESS="CHROMELESS",e.ICON="ICON",e.ICON_HIGHLIGHTED="ICON_HIGHLIGHTED",e.MENUITEM="MENUITEM",e.MENUITEM_PARENT_TEXT_COLOR="MENUITEM_PARENT_TEXT_COLOR",e.DANGER="DANGER",e.SECONDARY_BORDERLESS="SECONDARY_BORDERLESS",e.TEXT="TEXT",e.CUE="CUE",e.THEMED_LIKE_COMPOSE_BUTTON="THEMED_LIKE_COMPOSE_BUTTON",e.PILL="PILL"}(a||(a={}))},2136:(e,t,s)=>{"use strict";let a;s.d(t,{K:()=>a}),function(e){e.TopLeft="TopLeft",e.TopCenter="TopCenter",e.TopRight="TopRight",e.CenterLeft="CenterLeft",e.CenterCenter="CenterCenter",e.CenterRight="CenterRight",e.BottomLeft="BottomLeft",e.BottomCenter="BottomCenter",e.BottomRight="BottomRight"}(a||(a={}))},87232:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["DEFAULT","DARK_BORDER_BOTTOM","LEFT_ICON"])},76531:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ColorStates:()=>E,DesktopKinds:()=>r,Kinds:()=>i,MobileKinds:()=>o,RTLAwareIconKinds:()=>l,Rotate:()=>d,Sizes:()=>c});var a=s(9026),n=s(10728);let r,o;!function(e){e.ACCEPT_UNFILLED="ACCEPT_UNFILLED",e.ADD="ADD",e.ADDATTACHMENT="ADDATTACHMENT",e.ADD_TASK="ADD_TASK",e.ALIGN_CENTER="ALIGN_CENTER",e.ALIGN_LEFT="ALIGN_LEFT",e.AOL_OFFICIAL="AOL_OFFICIAL",e.APP_HIDDEN="APP_HIDDEN",e.ARCHIVE="ARCHIVE",e.ARCHIVE_OUTLINE="ARCHIVE_OUTLINE",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.ARROW_UP="ARROW_UP",e.ATTACH="ATTACH",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_GDOCS_48="ATTACH_GDOCS_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_GSHEETS_48="ATTACH_GSHEETS_48",e.ATTACH_GSLIDES_48="ATTACH_GSLIDES_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTENTION="ATTENTION",e.BELL="BELL",e.BELL_OUTLINE="BELL_OUTLINE",e.BOLD="BOLD",e.BOX="BOX",e.CALENDAR="CALENDAR",e.CALENDAR_EMPTY="CALENDAR_EMPTY",e.CALENDAR_SETTINGS="CALENDAR_SETTINGS",e.CAL_ACCEPT="CAL_ACCEPT",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.CHEVRON_UP="CHEVRON_UP",e.CIRCLE="CIRCLE",e.CIRCLE_UNFILLED="CIRCLE_UNFILLED",e.CLEAR="CLEAR",e.CLOCK="CLOCK",e.CLOCK_OUTLINE="CLOCK_OUTLINE",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.COLLAPSE_LIST="COLLAPSE_LIST",e.COMPOSE="COMPOSE",e.COMPOSE_EMOJI="COMPOSE_EMOJI",e.CONTACT_CARD="CONTACT_CARD",e.CONTACTCARD_OUTLINE="CONTACTCARD_OUTLINE",e.CONTACTS="CONTACTS",e.CONTRACT="CONTRACT",e.DEALS="DEALS",e.DELETE="DELETE",e.DEVICE_DESKTOP="DEVICE_DESKTOP",e.DEVICE_PHONE="DEVICE_PHONE",e.CAR="CAR",e.DOCUMENTS_S="DOCUMENTS_S",e.DOWNLOAD="DOWNLOAD",e.DRAFTS="DRAFTS",e.EMOJI_FOOD_AND_DRINK="EMOJI_FOOD_AND_DRINK",e.ENTER="ENTER",e.EXCLAMATION="EXCLAMATION",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.EXPAND_LIST="EXPAND_LIST",e.EYE_SLASH="EYE_SLASH",e.FEEDBACK="FEEDBACK",e.FINANCE="FINANCE",e.FOLDER="FOLDER",e.FORWARD="FORWARD",e.GETAWAYFILL="GETAWAYFILL",e.GIF_BOX="GIF_BOX",e.GUEST_LIST="GUEST_LIST",e.HOME="HOME",e.INBOX="INBOX",e.INDENT="INDENT",e.INFO="INFO",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.ITALIC="ITALIC",e.LINK="LINK",e.LIST_ORDERED="LIST_ORDERED",e.LIST_ORDERED_FLIPPED="LIST_ORDERED_FLIPPED",e.LIST_UNORDERED="LIST_UNORDERED",e.LOCATION_MARKER="LOCATION_MARKER",e.LOCK="LOCK",e.MAGIC_QUILL="MAGIC_QUILL",e.MAGIC_QUILL_FILLED="MAGIC_QUILL_FILLED",e.MAIL_OUTLINE="MAIL_OUTLINE",e.MESSENGER="MESSENGER",e.MINUS="MINUS",e.MIXED_CHECKBOX="MIXED_CHECKBOX",e.MORE="MORE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.NEWS="NEWS",e.NOTEPAD="NOTEPAD",e.NO_INTERNET="NO_INTERNET",e.NONE_BELL="NONE_BELL",e.ORB="ORB",e.OUTDENT="OUTDENT",e.PACKAGE="PACKAGE",e.PEOPLE="PEOPLE",e.PHONE="PHONE",e.POP_OUT="POP_OUT",e.PRINTER="PRINTER",e.READ="READ",e.RECEIPTS="RECEIPTS",e.REFRESH="REFRESH",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.RESTORE_TO_INBOX="RESTORE_TO_INBOX",e.RICHTEXT_OFF="RICHTEXT_OFF",e.RICHTEXT_ON="RICHTEXT_ON",e.SCISSORS="SCISSORS",e.SEARCH="SEARCH",e.SEARCH_MAIL="SEARCH_MAIL",e.SEARCH_MINI="SEARCH_MINI",e.SEARCH_WEB="SEARCH_WEB",e.SELECTED="SELECTED",e.SENT="SENT",e.SETTINGS="SETTINGS",e.SHARE_SOCIAL="SHARE_SOCIAL",e.SHOPPING="SHOPPING",e.SHOPPING_OUTLINE="SHOPPING_OUTLINE",e.SPAM="SPAM",e.SPELL_CHECK="SPELL_CHECK",e.SPONSORED="SPONSORED",e.STAR="STAR",e.STATIONERY="STATIONERY",e.STRIKETHROUGH="STRIKETHROUGH",e.TAB_IMAGES="TAB_IMAGES",e.TEXT="TEXT",e.TEXT_COLOR="TEXT_COLOR",e.TEXT_HIGHLIGHT="TEXT_HIGHLIGHT",e.TRAVEL="TRAVEL",e.TRUSTED="TRUSTED",e.TUMBLR="TUMBLR",e.UNDERLINE="UNDERLINE",e.VIDEO_CALL="VIDEO_CALL",e.YBANG="YBANG",e.TAP_TO_TOP="TAP_TO_TOP",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.BIG_STAR_OUTLINE="BIG_STAR_OUTLINE",e.SOLID_CIRCLE="SOLID_CIRCLE",e.HOTELS="HOTELS",e.TICKETS="TICKETS",e.THEATERS="THEATERS",e.CONCERTS="CONCERTS",e.SPORTS="SPORTS",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.BASKET="BASKET",e.CAMERA_FILL="CAMERA_FILL",e.TAG_FILL="TAG_FILL",e.CARD="CARD",e.CLIPCOUPON="CLIPCOUPON",e.CART="CART",e.DESKTOP_ATTACHMENT="DESKTOP_ATTACHMENT",e.PREVIEW="PREVIEW",e.DRIVE="DRIVE",e.DROPBOX="DROPBOX",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.NO_ADS="NO_ADS",e.NUMBER_ONE="NUMBER_ONE",e.STOPWATCH_DASHES="STOPWATCH_DASHES",e.GIFT="GIFT",e.INFINITY="INFINITY",e.AUTO_FORWARDING="AUTO_FORWARDING",e.UNDERSCORE="UNDERSCORE",e.WINDOW_BOX="WINDOW_BOX",e.UNSUBSCRIBE_OUTLINE="UNSUBSCRIBE_OUTLINE",e.WRENCH="WRENCH",e.EXCHANGE="EXCHANGE",e.COMPOSE_OUTLINE="COMPOSE_OUTLINE",e.APPLE="APPLE",e.HOME_OUTLINE="HOME_OUTLINE",e.PHONE_OUTLINE="PHONE_OUTLINE",e.BUY_MORE_SAVE_MORE="BUY_MORE_SAVE_MORE",e.YAHOO_PLUS_BADGE="YAHOO_PLUS_BADGE",e.YAHOO_PLUS_BADGE_ALT="YAHOO_PLUS_BADGE_ALT",e.APPAREL="APPAREL",e.BIRTHDAY_CAKE="BIRTHDAY_CAKE",e.DIAMOND="DIAMOND",e.EYELASH="EYELASH",e.FALLBACK_GENERIC_MONEY_BAG="FALLBACK_GENERIC_MONEY_BAG",e.FALLBACK_GENERIC_PIGGY_BANK="FALLBACK_GENERIC_PIGGY_BANK",e.FALLBACK_GENERIC_SHOPPING_BAG="FALLBACK_GENERIC_SHOPPING_BAG",e.FALLBACK_GENERIC_TAG="FALLBACK_GENERIC_TAG",e.FALLBACK_GENERIC_GIFT_BOX="FALLBACK_GENERIC_GIFT_BOX",e.FORK_KNIFE="FORK_KNIFE",e.KITCHEN_BLENDER="KITCHEN_BLENDER",e.LIPSTICK="LIPSTICK",e.PANTS="PANTS",e.SOFA="SOFA",e.SATIONERY_SPRING="SATIONERY_SPRING",e.WELLNESS="WELLNESS",e.PERSON_ARROW_UTURN_LEFT="PERSON_ARROW_UTURN_LEFT",e.LAYOUT_PICKER="LAYOUT_PICKER",e.YBANG_ALT="YBANG_ALT",e.FORWARD_OUTLINE="FORWARD_OUTLINE",e.DEALS_OUTLINE="DEALS_OUTLINE",e.CAPITOL_BUILDING_FILL="CAPITOL_BUILDING_FILL",e.FILTER="FILTER",e.LIGHTNING_BOLT="LIGHTNING_BOLT",e.PIN="PIN",e.PIN_OUTLINE="PIN_OUTLINE"}(r||(r={})),function(e){e.AOL_OFFICIAL="AOL_OFFICIAL",e.BELL="BELL",e.CONTRACT="CONTRACT",e.EXCLAMATION_ALT="EXCLAMATION_ALT",e.EXPAND="EXPAND",e.INBOX="INBOX",e.SETTINGS="SETTINGS",e.HOME="HOME",e.MEDICAL_KIT="MEDICAL_KIT",e.CONTACT_CARD="CONTACT_CARD",e.ADD_CONTACT="ADD_CONTACT",e.CHEVRON_UP="CHEVRON_UP",e.ARROW_RIGHT_DOC="ARROW_RIGHT_DOC",e.INPUT_ARROW_DOWN="INPUT_ARROW_DOWN",e.MORE="MORE",e.AOL_AD_FREE="AOL_AD_FREE",e.FOLDER="FOLDER",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.STAR="STAR",e.CIRCLE="CIRCLE",e.READ="READ",e.ATTACHMENT="ATTACHMENT",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_IMAGE="ATTACH_IMAGE",e.ARROW_UP="ARROW_UP",e.CHECKBOX_OFF="CHECKBOX_OFF",e.CHECKBOX_ON="CHECKBOX_ON",e.CHECKMARK="CHECKMARK",e.MONOCHROME_MIXED_CHECKBOX="MONOCHROME_MIXED_CHECKBOX",e.CLOSE="CLOSE",e.CLOSE_MINI="CLOSE_MINI",e.SEARCH="SEARCH",e.ORB="ORB",e.SENT="SENT",e.COMPOSE="COMPOSE",e.DELETE="DELETE",e.MOVE_TO_FOLDER="MOVE_TO_FOLDER",e.ARCHIVE="ARCHIVE",e.SPAM="SPAM",e.TAB_IMAGES="TAB_IMAGES",e.NOTSPAM="NOTSPAM",e.ADD="ADD",e.DRAFTS="DRAFTS",e.SIDEBAR="SIDEBAR",e.BIG_STAR="BIG_STAR",e.BIG_STAR_OUTLINE="BIG_STAR_OUTLINE",e.SOLID_CIRCLE="SOLID_CIRCLE",e.FEEDBACK="FEEDBACK",e.ATTACH="ATTACH",e.SEARCH_MAIL="SEARCH_MAIL",e.SPONSORED="SPONSORED",e.ATTENTION="ATTENTION",e.YBANG="YBANG",e.ATTACH_IMAGE_48="ATTACH_IMAGE_48",e.ATTACH_MOVIE_48="ATTACH_MOVIE_48",e.ATTACH_GENERIC_48="ATTACH_GENERIC_48",e.ATTACH_SOUND_48="ATTACH_SOUND_48",e.ATTACH_PDF_48="ATTACH_PDF_48",e.ATTACH_PPT_48="ATTACH_PPT_48",e.ATTACH_XLS_48="ATTACH_XLS_48",e.ATTACH_ZIP_48="ATTACH_ZIP_48",e.ATTACH_DOC_48="ATTACH_DOC_48",e.ATTACH_ICS_48="ATTACH_ICS_48",e.NO_INTERNET="NO_INTERNET",e.SEARCH_MINI="SEARCH_MINI",e.FACEBOOK="FACEBOOK",e.FLICKR="FLICKR",e.FLICKR_MONOCHROME="FLICKR_MONOCHROME",e.TWITTER="TWITTER",e.LINKEDIN="LINKEDIN",e.CAMERA_FILL="CAMERA_FILL",e.BLOCK_PEOPLE="BLOCK_PEOPLE",e.BLOCK_PEOPLE_FILL="BLOCK_PEOPLE_FILL",e.NONE_BELL="NONE_BELL",e.INFO="INFO",e.PHONE="PHONE",e.COMMENT_FILL="COMMENT_FILL",e.CONVERSATIONS_FILL="CONVERSATIONS_FILL",e.CAL_DECLINE="CAL_DECLINE",e.CAL_MAYBE="CAL_MAYBE",e.TRUSTED="TRUSTED",e.CLOCK="CLOCK",e.UNSUBSCRIBE="UNSUBSCRIBE",e.BLOCK="BLOCK",e.TAB_MESSAGES="TAB_MESSAGES",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SORT="SORT",e.PRO="PRO",e.ANNOUNCEMENT="ANNOUNCEMENT",e.CAL_ACCEPT="CAL_ACCEPT",e.KEEP_NEW="KEEP_NEW",e.OPEN_ENVELOPE="OPEN_ENVELOPE",e.STOPWATCH="STOPWATCH",e.VOLUME="VOLUME",e.VOLUME_MUTE="VOLUME_MUTE",e.YBANG_ALT="YBANG_ALT",e.PREVIEW="PREVIEW",e.YAHOO_PLUS_BADGE="YAHOO_PLUS_BADGE",e.YAHOO_PLUS_BADGE_ALT="YAHOO_PLUS_BADGE_ALT",e.EYE_SLASH="EYE_SLASH",e.LOCK="LOCK",e.UNSUBSCRIBE_OUTLINE="UNSUBSCRIBE_OUTLINE",e.WRENCH="WRENCH",e.EXCHANGE="EXCHANGE",e.NO_ADS="NO_ADS",e.APPAREL="APPAREL",e.BIRTHDAY_CAKE="BIRTHDAY_CAKE",e.DEVICE_DESKTOP="DEVICE_DESKTOP",e.DIAMOND="DIAMOND",e.EMOJI_FOOD_AND_DRINK="EMOJI_FOOD_AND_DRINK",e.EYELASH="EYELASH",e.FALLBACK_GENERIC_MONEY_BAG="FALLBACK_GENERIC_MONEY_BAG",e.FALLBACK_GENERIC_PIGGY_BANK="FALLBACK_GENERIC_PIGGY_BANK",e.FALLBACK_GENERIC_SHOPPING_BAG="FALLBACK_GENERIC_SHOPPING_BAG",e.FALLBACK_GENERIC_TAG="FALLBACK_GENERIC_TAG",e.FALLBACK_GENERIC_GIFT_BOX="FALLBACK_GENERIC_GIFT_BOX",e.FORK_KNIFE="FORK_KNIFE",e.HOME_OUTLINE="HOME_OUTLINE",e.HOTELS="HOTELS",e.KITCHEN_BLENDER="KITCHEN_BLENDER",e.LIPSTICK="LIPSTICK",e.PANTS="PANTS",e.SATIONERY_SPRING="SATIONERY_SPRING",e.SOFA="SOFA",e.SPORTS="SPORTS",e.THEATERS="THEATERS",e.WELLNESS="WELLNESS",e.PERSON_ARROW_UTURN_LEFT="PERSON_ARROW_UTURN_LEFT",e.TAG_FILL="TAG_FILL",e.LAYOUT_PICKER="LAYOUT_PICKER",e.FORWARD_OUTLINE="FORWARD_OUTLINE",e.DEALS_OUTLINE="DEALS_OUTLINE",e.CAPITOL_BUILDING_FILL="CAPITOL_BUILDING_FILL",e.RECEIPTS="RECEIPTS",e.FILTER="FILTER"}(o||(o={}));const i={...r,...o},l=[i.ATTACH,i.STATIONERY];let c,d;!function(e){e.XXXS="XXXS",e.XXS="XXS",e.XMS="XMS",e.XS="XS",e.S="S",e.M="M",e.L="L",e.XL="XL",e.XXL="XXL",e.XXXL="XXXL"}(c||(c={})),Object.assign(c,{AVATAR_SIZE_40:n.fej}),function(e){e.D0="D0",e.D45="D45",e.D90="D90",e.D180="D180",e.D270="D270"}(d||(d={}));const _=[...Object.keys(a.b3),...Object.keys(a.HM)].reduce(((e,t)=>(e[t=`THEME_GRADIENT_${t}`]=t,e)),{});let E;!function(e){e.NORMAL="NORMAL",e.BATCAVE_GRAY="BATCAVE_GRAY",e.FIRST_LEVEL_GRAY="FIRST_LEVEL_GRAY",e.FIRST_LEVEL_ORANGE="FIRST_LEVEL_ORANGE",e.NORMAL_LESS_DIM="NORMAL_LESS_DIM",e.IMPROVED_GRAY_DARK="IMPROVED_GRAY_DARK",e.SECOND_LEVEL_GRAY="SECOND_LEVEL_GRAY",e.THIRD_LEVEL_GRAY="THIRD_LEVEL_GRAY",e.DARK="DARK",e.WHITE="WHITE",e.INHERITED="INHERITED",e.INVERTED="INVERTED",e.INVERTED_DIM="INVERTED_DIM",e.INVERTED_LESS_DIM="INVERTED_LESS_DIM",e.INVERTED_MORE_DIM="INVERTED_MORE_DIM",e.SELECTED="SELECTED",e.PRIMARY_HOVER="PRIMARY_HOVER",e.DARKER_PRIMARY_HOVER="DARKER_PRIMARY_HOVER",e.SELECTED_DARK_THEME_MODE="SELECTED_DARK_THEME_MODE",e.STARRING="STARRING",e.STARRED="STARRED",e.STARRED_DARK="STARRED_DARK",e.SMARTVIEW_DARK="SMARTVIEW_DARK",e.DISABLED="DISABLED",e.LESS_IMPORTANT="LESS_IMPORTANT",e.FAINT="FAINT",e.TRANSPARENT="TRANSPARENT",e.HEADING="HEADING",e.GRAD_RED="GRAD_RED",e.GRAD_BLUE="GRAD_BLUE",e.COOL_FAINT="COOL_FAINT",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.WARNING_GRAD_RED="WARNING_GRAD_RED",e.SUCCESS="SUCCESS",e.FOLDER="FOLDER",e.ATTACH_GENERIC="ATTACH_GENERIC",e.ATTACH_MEDIA="ATTACH_MEDIA",e.ATTACH_CAL="ATTACH_CAL",e.ATTACH_EXCEL="ATTACH_EXCEL",e.ATTACH_DOC="ATTACH_DOC",e.ATTACH_SLIDE="ATTACH_SLIDE",e.ATTACH_PDF="ATTACH_PDF",e.ATTACH_COMPRESSED="ATTACH_COMPRESSED",e.YBANG="YBANG",e.TOUCH_PRIMARY="TOUCH_PRIMARY",e.SMARTVIEW_PEOPLE="SMARTVIEW_PEOPLE",e.SMARTVIEW_SHOPPING="SMARTVIEW_SHOPPING",e.FACEBOOK_ENABLED="FACEBOOK_ENABLED",e.TWITTER_ENABLED="TWITTER_ENABLED",e.LINKEDIN_ENABLED="LINKEDIN_ENABLED",e.ICON_HOVER_BGCOLOR="ICON_HOVER_BGCOLOR",e.GRAY_VZM_BOB="GRAY_VZM_BOB",e.GRAY_VZM_SHARK="GRAY_VZM_SHARK",e.PURPLE="PURPLE",e.PURPLE_GRADIENT="PURPLE_GRADIENT",e.TB_ICON_FILL_COLOR="TB_ICON_FILL_COLOR",e.THEME_GRADIENT_PURPLE="THEME_GRADIENT_PURPLE"}(E||(E={})),Object.assign(E,_)},77163:(e,t,s)=>{"use strict";s.d(t,{P:()=>a,y:()=>n});const a={BACKSPACE:8,BRACKETLEFT:91,BRACKETRIGHT:93,BREAK:13,HASHTAG:35,COMMA:44,DELETE:46,DOWN:40,ENTER:13,EQUAL:187,ESCAPE:27,FF_COMMA:188,FF_SEMICOLON:186,KEYE:101,KEYK:107,KEYL:108,KEYV:118,LEFT:37,MINUS:189,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SEMICOLON:59,SLASH:47,SPACE:32,TAB:9,UP:38},n={KEYA:"a",KEYD:"d",KEYE:"e",KEYF:"f",KEYK:"k",KEYL:"l",KEYR:"r",KEYV:"v",KEYP:"p",PERIOD:"."}},78041:(e,t,s)=>{"use strict";let a;s.d(t,{A:()=>a}),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL",e.GRID="GRID"}(a||(a={}))},77078:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["DEFAULT","GRID","WRAP_CONTENT"])},83588:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a={LIGHT:"LIGHT",DARK:"DARK"}},40918:(e,t,s)=>{"use strict";let a;s.d(t,{F:()=>a}),function(e){e.DEFAULT="DEFAULT",e.MENU="MENU",e.TOOLBAR="TOOLBAR"}(a||(a={}))},65304:(e,t,s)=>{"use strict";s.d(t,{Fw:()=>n,Ic:()=>c,Ji:()=>i,Jk:()=>r,K2:()=>o,cM:()=>_,hy:()=>l,s0:()=>a,xM:()=>d});const a={S:6,M:12,L:24},n=.95;let r,o,i,l,c;!function(e){e.S="S",e.M="M",e.L="L"}(r||(r={})),function(e){e.MOUNT="MOUNT",e.HOVER="HOVER",e.CLICK="CLICK",e.RIGHTCLICK="RIGHTCLICK",e.ASYMMETRIC="ASYMMETRIC"}(o||(o={})),function(e){e.UP="UP",e.DOWN="DOWN",e.START="START",e.END="END",e.ANY="ANY"}(i||(i={})),function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(l||(l={})),function(e){e.DEFAULT="DEFAULT",e.DARK="DARK",e.GRADIENT="GRADIENT",e.LIGHTGRAY="LIGHTGRAY",e.OVERLAY="OVERLAY",e.NEON_BLUE="NEON_BLUE"}(c||(c={}));let d,_;!function(e){e.CENTER="CENTER",e.START="START",e.END="END",e.ANY="ANY"}(d||(d={})),function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MOBILE_DEFAULT="MOBILE_DEFAULT"}(_||(_={}))},85378:(e,t,s)=>{"use strict";let a;s.d(t,{l:()=>a}),function(e){e.FITCONTENT="FITCONTENT"}(a||(a={}))},25244:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});const a=(0,s(95406).gP)(["EMPTY_FOLDER","EMPTY_CONTACT_CARD","SELECTED_MESSAGES","ATTACHMENT_PREVIEW_ERROR","PLAY_VIDEO","GEAR_ICON","DOCUMENTS_ICON"])},54754:(e,t,s)=>{"use strict";s.d(t,{Z:()=>B});s(45697);var a=s(67294),n=s(99095),r=s(40315),o=s(76223),i=s.n(o),l=s(43007),c=s(76531),d=s(99313),_=s.n(d),E=s(55626),u=s.n(E),m=s(9333),S=s(22570),p=s.n(S),C=s(69298),A=s.n(C);function T({day:e,currentMonth:t,selectedDate:s,onSelect:n,showOtherMonths:o}){const l=e.getMonth()===t,c=(0,r.vp)(e,s),d=i()(A(),{isSelected:c,isToday:(0,r.zk)(e)&&!c,isDisabled:(!l||(0,r.QD)(e))&&!c});return l||o?a.createElement("div",{className:d.dayWrapper},a.createElement("span",{"data-test-id":"calendar-day",className:d.day,onClick:n.bind(null,e)},e.getDate())):a.createElement("span",{className:d.emptyDay})}const I=i()(p());function h({weekStart:e,selectedDate:t,currentMonth:s,onSelect:n,showOtherMonths:o}){return a.createElement("div",{className:I.weekWrapper},(0,r.SF)(e).map(((e,r)=>a.createElement(T,{key:r,day:e,onSelect:n,selectedDate:t,currentMonth:s,showOtherMonths:o}))))}function g({currentView:e,currentMonth:t,selectedDate:s,onSelect:n,showOtherMonths:o}){return a.createElement("div",{"data-test-id":"calendar-days"},(0,r.n3)(e).map(((e,r)=>a.createElement(h,{key:r,weekStart:e,onSelect:n,selectedDate:s,currentMonth:t,showOtherMonths:o}))))}function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=(0,n.defineMessages)({prevMonth:{id:"prev_month_text",defaultMessage:"Go to previous month"},nxtMonth:{id:"nxt_month_text",defaultMessage:"Go to next month"}}),R=i()(u());class N extends a.Component{constructor(...e){super(...e),O(this,"setDate",(e=>{this.props.onMonthChange&&this.props.onMonthChange(e)})),O(this,"handleSelect",((e,t)=>{t.preventDefault(),e.getMonth()!==this.props.currentView.getMonth()&&this.props.onMonthChange(e),this.props.onSelect&&this.props.onSelect(e)})),O(this,"nextMonth",(()=>{const e=(0,r.ky)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()+1),this.setDate(e)})),O(this,"previousMonth",(()=>{const e=(0,r.ky)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()-1),this.setDate(e)})),O(this,"swallowEvent",(e=>{e.stopPropagation()})),O(this,"renderMonthHeader",(()=>{const{currentView:e}=this.props,{formatMessage:t}=this.context.intl;return a.createElement("div",{ref:"calendar",className:R.monthHeaderWrapper},a.createElement("span",{className:R.titleWrapper},a.createElement(n.FormattedDate,{value:e,month:"long",year:"numeric"})),a.createElement("span",{className:R.arrow},a.createElement(m.default,{paddingLess:!0,kind:c.Kinds.CHEVRON_UP,size:c.Sizes.XS,rotate:c.Rotate.D270,colorState:c.ColorStates.SELECTED,onClick:()=>this.previousMonth(),title:t(D.prevMonth),"aria-label":t(D.prevMonth)})),a.createElement("span",{className:R.arrow},a.createElement(m.default,{paddingLess:!0,kind:c.Kinds.CHEVRON_UP,size:c.Sizes.XS,rotate:c.Rotate.D90,colorState:c.ColorStates.SELECTED,onClick:()=>this.nextMonth(),title:t(D.nxtMonth),"aria-label":t(D.nxtMonth)})))})),O(this,"renderWeekHeader",(()=>{const e=[24,25,26,27,28,29,30].map((e=>{const t=Date.UTC(2016,6,e);return a.createElement("span",{key:e,className:R.dayHeader},a.createElement(n.FormattedDate,{value:t,timeZone:"UTC",weekday:"narrow"}))}));return a.createElement("div",{className:R.dayHeaderWrapper},e)}))}render(){const{showOtherMonths:e,selectedDate:t,currentView:s}=this.props;return a.createElement("div",{className:R.datepickerCalendar,onClick:this.swallowEvent,onMouseDown:this.swallowEvent},this.renderMonthHeader(),a.createElement("div",{className:R.daysWrapper},this.renderWeekHeader(),a.createElement(g,{currentView:s,selectedDate:t,onSelect:this.handleSelect,showOtherMonths:e,currentMonth:s.getMonth()})))}}O(N,"contextTypes",{intl:n.intlShape.isRequired});const L=N;var f=s(50621),M=s(10728);function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const b=(0,n.defineMessages)({calendar:{id:"calendar_text",defaultMessage:"Calendar"}}),y="ArrowDown",v="ArrowUp",F="ArrowLeft",U="ArrowRight",k={ArrowDown:7,ArrowUp:-7,ArrowLeft:-1,ArrowRight:1},w={month:"2-digit",day:"2-digit",year:"numeric"},G=/[^a-z0-9]+/;class H extends a.Component{constructor(e,t){super(e,t),P(this,"getFormattedDate",(e=>this.props.useISODateFormat?(0,r.Ij)(e):(0,r.p6)(e,this.context.intl.locale,w))),P(this,"offsetDate",((e,t)=>{e.preventDefault(),e.stopPropagation();const s=(0,r.qb)(this.props.value)?this.props.value:new Date;this.handleSelect(new Date(s.setDate(s.getDate()+t)))})),P(this,"handleKeyDown",(e=>{switch(e.key){case v:case y:case F:case U:e.shiftKey&&this.offsetDate(e,k[e.key])}})),P(this,"handleFocus",(()=>{this.setState({hasFocus:!0}),this.keyboardListener.focus(),this.keyboardListener.select(),this.props.onStartEdit()})),P(this,"handleBlur",(()=>{this.setState({hasFocus:!1}),this.props.onDoneEdit(),this.state.validInput||this.props.onInvalidDateEntered(this.state.inputValue)})),P(this,"handleSelect",(e=>{this.props.onChange&&this.props.onChange(e),this.setState({inputValue:this.getFormattedDate(e),validInput:!0}),this.keyboardListener&&this.keyboardListener.focus()})),P(this,"handleMonthChange",(e=>{this.setState({currentView:e}),this.keyboardListener.focus()})),P(this,"handleInputChange",((e,{target:{value:t}})=>{const s=t.split(G),[a,n,o]=["yyyy","mm","dd"].map((t=>{const a=s[e.split(G).indexOf(t)];if("mm"===t||"dd"===t){if(a&&1===a.length)return"0"+a;if(a&&3===a.length&&"0"===a.charAt(0))return a.substring(1)}return a})),i=n+"/"+o+"/"+a,l=new Date(i),c=i.length===e.length&&(0,r.qb)(l)&&i===(0,r.p6)(l,"en-US",w);c&&this.handleSelect(l),this.setState({inputValue:t,validInput:c})})),P(this,"handleInputClick",(e=>{this.state.hasFocus&&(e.preventDefault(),e.stopPropagation())})),P(this,"getInputField",(()=>{const{validInput:e,inputValue:t}=this.state,s=(0,r.p6)(new Date("11/22/3333"),this.context.intl.locale,w),n=this.props.useISODateFormat?"yyyy-mm-dd":s.replace("3333","yyyy").replace("22","dd").replace("11","mm"),o=i()(_(),{invalidInput:!e&&t.length>=n.length}),l=this.props.classNames,c=a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:n,spellCheck:"false",ref:e=>{!this.keyboardListener&&e&&(this.keyboardListener=e)},onKeyDown:this.handleKeyDown,className:l.dateInput||o.dateInput,onClick:this.handleInputClick,onChange:e=>this.handleInputChange(n,e)});return a.createElement("div",null," ",a.createElement("span",{className:o.datePart}," ",c," ")," ")})),this.state={hasFocus:!1,currentView:null,inputValue:this.props.value&&(0,r.qb)(this.props.value)?this.getFormattedDate(this.props.value):this.props.value||"",validInput:!0}}UNSAFE_componentWillReceiveProps(e){if(e.value!==this.props.value){let t="";e.value&&(t=(0,r.qb)(e.value)?this.getFormattedDate(e.value):e.value),this.setState({inputValue:t})}}render(){const{hasFocus:e,currentView:t}=this.state,{label:s,disabled:n,value:o,showOtherMonths:d,zAltitude:E,popoverAlign:u,showIcon:m}=this.props,S=e&&!n,p=i()(_(),{isFocused:S}),C=this.props.classNames,A=(0,r.Ux)(),T=(0,r.qb)(o)?o:null,I=a.createElement("div",{ref:"datepicker","data-test-id":"datepicker",className:C.datepickerInput||p.datepickerInput},m&&a.createElement("span",{className:C.datepickerIcon||p.datepickerIcon,"data-test-id":"icon"},a.createElement(l.Z,{size:c.Sizes.XS,kind:c.Kinds.CALENDAR_SETTINGS,title:this.context.intl.formatMessage(b.calendar),colorState:c.ColorStates.INHERITED})),a.createElement("span",{className:p.valueWrapper},a.createElement("label",{className:p.datepickerValue,"aria-label":s},this.getInputField())),a.createElement("div",{"data-test-id":"date-value",name:T||A}));return a.createElement(f.ZP,{triggerOn:f.XU.CLICK,triggerOff:f.Es.CLICK,onShown:this.handleFocus,onHide:this.handleBlur,disabled:n,zAltitude:E,align:u},I,a.createElement("div",{"data-test-id":"calendar"},a.createElement(L,{selectedDate:T,onSelect:this.handleSelect,showOtherMonths:d,currentView:t||T||A,onMonthChange:this.handleMonthChange,handleKeyDown:this.handleKeyDown})))}}H.defaultProps={disabled:!1,showOtherMonths:!0,zAltitude:M.LSY.POPOVER.MEDIUM,classNames:{},onInvalidDateEntered:()=>{},useISODateFormat:!1,showIcon:!0},H.contextTypes={intl:n.intlShape.isRequired};const B=H},99313:e=>{"use strict";e.exports={className:{default:{datepickerWrapper:"p_R H_6VdP U_fq7",datepickerInput:"em_N ir_n D_F ab_C p_R q_ZkbNhI A_6EqO c1AVi73_6FsP H_6VdP P_3gJOe m_2w4lU5",valueWrapper:"o_h J_x G_e",datepickerLabel:"C_Z1TsNbA W_7jIs i_6NIX",datepickerValue:"b_n ir_n t_C D_X H_6MGW C_Z281SGl i_6MGW Q_eo6 P_0",datepickerIcon:"D_F ab_C i_6NIX cdPFi_Z1TsNbA",datePart:"t_C Q_eo6 E_eo6",dateInput:"M_0 b_n ir_n ev_q I_q"},isFocused:{datepickerWrapper:"Z_O",datepickerInput:"m_2gzP8k",datepickerValue:"e_dRA I_Z1gjd50",datepickerIcon:"cdPFi_Z29WjXl"},invalidInput:{dateInput:"M_0 b_n ir_n ev_q I_q C_uiV"}},_key:"Z1asJAz"}},51892:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});s(45697);var a=s(67294),n=s(67498),r=s(89963),o=s(25581),i=s.n(o),l=s(76223),c=s.n(l),d=s(10728),_=s(43007),E=s(9333),u=s(99095),m=s(76531);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p={margin:`14px ${d.mg$}px ${5*d.mg$}px 0`,border:0,padding:`0 ${7*d.mg$}px`},C=(0,u.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptText:{id:"alert.ok",defaultMessage:"OK"}}),A=()=>{};class T extends a.Component{constructor(...e){super(...e),S(this,"state",{shown:!0}),S(this,"handleKeyDown",(e=>{("Enter"===e.key||"Escape"===e.key&&!this.props.onClose)&&(e.preventDefault(),e.stopPropagation(),this.props.onAccept())})),S(this,"handleAccept",(e=>{e.stopPropagation(),this.props.onAccept()})),S(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()}))}render(){const{hideIcon:e}=this.props,t=c()(i(),{hideIcon:e}),{formatMessage:s}=this.context.intl,o="string"==typeof this.props.acceptText?this.props.acceptText:s(this.props.acceptText);let l;return l=this.props.hideClose?null:a.createElement("div",{className:t.close},a.createElement(E.default,{onClick:this.props.onClose?this.handleClose:this.handleAccept,kind:m.Kinds.CLOSE,size:m.Sizes.XS,title:s(C.close),"aria-label":s(C.close),"data-test-id":"alert-button-close"})),a.createElement(r.Z,{onKeyDown:this.handleKeyDown,onClose:this.props.onClose?this.props.onClose:A},a.createElement("div",{className:t.container,"data-test-id":"alert-dialog",role:"alertdialog"},this.props.hideIcon?null:a.createElement("div",{className:t.icon},a.createElement(_.Z,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.L,colorState:m.ColorStates.WARNING_GRAD_RED})),a.createElement("header",{className:t.header},this.props.title?a.createElement("h3",{className:t.title,"data-test-id":"alert-title"},this.props.title):null,l),a.createElement("section",{className:t.message,"data-test-id":"alert-message"},this.props.message),a.createElement("footer",{className:t.controls},a.createElement(n.Z,{onClick:this.handleAccept,style:p,"data-test-id":"alert-button-ok"},o))))}}S(T,"contextTypes",{intl:u.intlShape.isRequired}),S(T,"defaultProps",{acceptText:C.defaultAcceptText});const I=T},91869:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(99095),r=s(11310);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i=(0,n.defineMessages)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}});class l extends a.Component{render(){const{title:e,onConfirm:t,onAbort:s,hideIcon:n,customTitle:o,showCustomTitle:i,acceptLabel:l,cancelLabel:c,message:d,onOuterClick:_,disablePrimaryButton:E,wideContainer:u=!1,onClose:m,overridingClass:S}=this.props;return a.createElement(r.Z,{primaryButtonLabel:l,secondaryButtonLabel:c,hideIcon:n,title:e,customTitle:o,showCustomTitle:i,message:d,onPrimaryButtonClick:t,onSecondaryButtonClick:s,onClose:m||s,onOuterClick:_,wideContainer:u,disablePrimaryButton:E,overridingClass:S},this.props.children)}}o(l,"contextTypes",{intl:n.intlShape.isRequired}),o(l,"defaultProps",{acceptLabel:i.defaultAcceptLabel,cancelLabel:i.defaultCancelLabel,showCustomTitle:!1,hideIcon:!1,disablePrimaryButton:!1});const c=l},549:(e,t,s)=>{"use strict";s.d(t,{C:()=>S});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(12913),c=s(31280),d=s(41451),_=s(34656);let E,u;class m extends r.Component{render(){return null}}function S(e,t){if(E)return;E=document.createElement("div"),u=document.getElementById("app"),u.appendChild(E);const s=r.createElement(m,{context:t},e),a=(0,_.z)((0,d.Z)(function(e){class t extends r.Component{constructor(t){super(t),this.unmountModal.bind(this),this.children=e.props.children}getChildContext(){return{store:e.props.context.store,config:e.props.context.config,navigateTo:e.props.context.navigateTo,timezone:e.props.context.timezone,getStore:e.props.context.getStore,executeAction:e.props.context.executeAction,getTheme:e.props.context.getTheme,getCss:e.props.context.getCss,getThemeMode:e.props.context.getThemeMode,appId:e.props.context.appId,mailBrandNameString:e.props.context.mailBrandNameString}}componentWillUnmount(){u&&u.removeChild(E),E=null}unmountModal(){o.unmountComponentAtNode(E)}render(){const[t]=r.Children.toArray(this.children),s=this.children.props;return r.createElement(l.FluxibleComponent,{context:e.props.context},r.cloneElement(t,{onPrimaryButtonClick:e=>{this.unmountModal(),s.onPrimaryButtonClick(e)},onSecondaryButtonClick:e=>{this.unmountModal(),s.onSecondaryButtonClick(e)},onTertiaryButtonClick:e=>{this.unmountModal(),s.onTertiaryButtonClick(e)},onClose:e=>{this.unmountModal(),s.onClose&&s.onClose(e)},onAccept:()=>{this.unmountModal(),s.onAccept()}}))}}return t.childContextTypes={store:n().object,config:n().object,navigateTo:n().func,timezone:c.TimezoneType,getStore:n().func,executeAction:n().func,getTheme:n().func,getCss:n().func,getThemeMode:n().func,appId:n().string,mailBrandNameString:n().string},t}(s)));o.render(r.createElement(i.IntlProvider,window.AppIntl,r.createElement(a,null)),E)}},11310:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});s(45697);var a=s(67294),n=s(67498),r=s(89963),o=s(43007),i=s(9333),l=s(28182),c=s(76531),d=s(4545),_=s.n(d),E=s(76223),u=s.n(E),m=s(10728),S=s(99095);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C=(0,S.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"},defaulttertiaryButtonLabel:{id:"dualActionDialog.DeleteBtn",defaultMessage:"Delete"}}),A={margin:`${4*m.mg$}px ${m.mg$}px ${5*m.mg$}px 0`};class T extends a.Component{constructor(...e){super(...e),p(this,"handlePrimaryButtonClick",(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)})),p(this,"handleSecondaryButtonClick",(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)})),p(this,"handleTertiaryButtonClick",(e=>{e.stopPropagation(),this.props.onTertiaryButtonClick(e)})),p(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)})),p(this,"handleKeyDown",(e=>(e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onPrimaryButtonClick(e)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),void this.props.onClose(e)):void 0)))}render(){const{formatMessage:e}=this.context.intl,{title:t,message:s,hideIcon:d,showCustomTitle:E,customTitle:m,onOuterClick:S,primaryButtonLabel:p,secondaryButtonLabel:T,wideContainer:I=!1,disablePrimaryButton:h,overridingClass:g={},showTertiaryButton:O=!1,tertiaryButtonLabel:D}=this.props,{primaryButtonClass:R}=g;let N="";s&&(N="string"==typeof s||s.props?s:e(s));let L="";t&&(L="string"==typeof t||t.props?t:E?m:e(t));const f="string"==typeof p?p:e(p),M="string"==typeof T?T:e(T),P="string"==typeof D?D:e(D),b=u()(_(),{hideIcon:d,wideContainer:I});return N||(N=this.props.children),a.createElement(r.Z,{onClose:this.handleClose,onKeyDown:this.handleKeyDown,onOuterClick:S},a.createElement("div",{className:b.container,"data-test-id":"dual-action-dialog"},d?null:a.createElement("div",{className:b.icon},a.createElement(o.Z,{kind:c.Kinds.EXCLAMATION_ALT,size:c.Sizes.L,colorState:c.ColorStates.WARNING_GRAD_RED})),a.createElement("div",{className:b.header},E?m:a.createElement("div",{className:b.title,"data-test-id":"title"},L),a.createElement("div",{className:b.close},a.createElement(i.default,{onClick:this.handleClose,kind:c.Kinds.CLOSE,size:c.Sizes.XS,title:e(C.close),"aria-label":e(C.close),"data-test-id":"close-btn",tabIndex:0}))),a.createElement("div",{className:b.message,"data-test-id":"message"},N),a.createElement("div",{className:b.controls},a.createElement(n.Z,{onClick:this.handlePrimaryButtonClick,style:A,"data-test-id":"primary-btn",disabled:h,overridingClass:R,tabIndex:0},f),a.createElement(n.Z,{onClick:this.handleSecondaryButtonClick,kind:l.F.SECONDARY,style:A,"data-test-id":"secondary-btn",tabIndex:0},M),O?a.createElement(n.Z,{onClick:this.handleTertiaryButtonClick,kind:l.F.DANGER,style:A,"data-test-id":"tertiary-btn",tabIndex:0},P):null)))}}p(T,"contextTypes",{intl:S.intlShape.isRequired}),p(T,"defaultProps",{primaryButtonLabel:C.defaultprimaryButtonLabel,secondaryButtonLabel:C.defaultsecondaryButtonLabel,tertiaryButtonLabel:C.defaulttertiaryButtonLabel,showTertiaryButton:!1,hideIcon:!1,disablePrimaryButton:!1});const I=T},78333:e=>{"use strict";e.exports={className:{default:{container:"W_3vpWV H_A I_ZkbNhI D_F ek_BB",formContainer:"P_1EueWv D_F ek_BB K_3vz0k iz_FF",emailInputContainer:"D_F ek_BB Y_6LEV p_R",addEmail:"D_F ek_EZ Y_6LEV r_P ab_C U8_6UbO",addEmailText:"Q_eo6 A_6EqO u_dPo C_Z29WjXl i_6FIA c1AVi73_6FsP c1AVi7H_6LEV",firstNameInputContainer:"D_F ek_BB",firstNameInputLabel:"A_6EqO i_6FIA u_dPo C_Z1VRqsb c1AVi73_6FsP c1AVi7H_6LEV",lastNameInputContainer:"D_F ek_BB Y_6LEV",lastNameInputLabel:"A_6EqO i_6FIA u_dPo C_Z1VRqsb c1AVi73_6FsP c1AVi7H_6LEV",errorMessageText:"C_ZmDiLl A_6DUj Q_eo6 Y_eo6 c1AVi73_6EWk",removeButton:"p_a R_fq7 T_0 r_P Z_N cdPFi_Z1TsNbA"}},_key:"Z2ht6Sj"}},34402:e=>{"use strict";e.exports={className:{default:{container:"W_3vpWV H_A I_ZkbNhI D_F ek_BB"}},_key:"1GGoJr"}},83655:e=>{"use strict";e.exports={className:{default:{container:"W_3vpWV H_A I_ZkbNhI D_F ek_BB",textarea:"H_3nzoA W_3s1jD Q_6LEV e_dRA b_Z18bNnS b3_2gzP8k k_w P_eDQ y_jyw3a",title:"A_6FsP fd_N u_e69 i_6LEV"}},_key:"ZAP2vb"}},68584:e=>{"use strict";e.exports={className:{default:{container:"W_3vpWV H_A I_ZkbNhI D_F ek_BB",formContainer:"P_6MGW em_N iz_A",title_label:"A_6DUj i_6EGz C_Z1VRqsb c1AVi73_6EWk c1AVi7H_6LEV",title_field_input:"H_6TFj X_dm5 m_Z18bNnS D_F ab_C U_6Fd5 C_Z29dUYT y_q A_6EqO l_ZtwOFC",required_title_prompt:"A_6DUj i_6EGz C_ZmDiLl c1AVi73_6EWk c1AVi7H_6LEV jb_6Eb4 Q_dm5 Y_69H5",description_label:"A_6DUj i_6EGz C_Z1VRqsb c1AVi73_6EWk c1AVi7H_6LEV",description_field_textarea:"e_dRA b_2swhGV k_w M_1IaimO jw_Z2lir11 W_3s1jD d_7ceA K_3v1qi P_6Eb4 b3_2gzP8k D_F ab_C U_6Fd5 C_Z29dUYT y_q A_6EqO l_ZtwOFC",due_date_container:"D_F ab_C U_6Fd5 C_Z29WjXl y_q A_6EqO l_ZtwOFC cdPFi_Z29WjXl W_CD r_P C4_Z2chSgW cdPFi4_Z2chSgW",due_date_label:"A_6EqO i_6EGz C_Z1VRqsb c1AVi73_6FsP c1AVi7H_6LEV jb_fq7",toggle_label:"Q_6Eb4 r_P",date_field:"D_F ab_C U_6Fd5 C_Z29dUYT y_q A_6EqO l_ZtwOFC",date_range_picker_container:"D_F",date_field_day_picker:"W_3mS2U H_6TFj D_F ab_C m_Z18bNnS M_aFwN2 ir_n",date_field_time_picker:"W_3mS2U H_6TFj D_F ab_C m_Z18bNnS Z_3n0uA X_6Eb4",optionsContainer:"W_6D6F P_3DHIS p_a q_ZkbNhI C_Z281SGl e_dRA j_Z2nrtxD Y_1zukyB",reminder_label:"A_6DUj i_6EGz C_Z1VRqsb c1AVi73_6EWk c1AVi7H_6LEV je_eo6",reminder_add:"D_F ab_C U_6Fd5 C_Z29WjXl y_q A_6EqO l_ZtwOFC cdPFi_Z29WjXl W_CD r_P C4_Z2chSgW cdPFi4_Z2chSgW",reminder_select:"D_F ab_C U_6Fd5 C_Z29dUYT y_q A_6EqO l_ZtwOFC je_6Eb4 jb_6Eb4",reminder_picker:"W_3rlfJ H_6TFj D_F ab_C m_Z18bNnS C_Z29dUYT A_6EqO i_6FIA fd_N Q_6Eb4",delete_icon:"D_F ab_C r_P cdPFi_Z1VRqsb cdPFi4_Z24Sbth"}},_key:"Z2w2Ycn"}},88944:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_EZ P_1WRVno",saveButton:"H_CD e_dRA P_ZGAam2 D_F ek_EZ ab_C i_6FIA A_6EqO u_e69 c1AVi73_6FsP c1AVi7H_6LEV I4_Z2dyg2z",cancelButton:"H_CD M_ZmsKgw e_dRA cn_dBP P_2jIJWF D_F ek_EZ ab_C i_6FIA A_6EqO u_e69 c1AVi73_6FsP c1AVi7H_6LEV ir4_Z1gt1zX C4_Z2dyg2z"},enableShadowBox:{container:"j_ZmajAN"}},_key:"Z2eFlss"}},97843:e=>{"use strict";e.exports={className:{default:{headerContainer:"D_F ek_BB ab_C W_A H_A P_83B p_R",closeButton:"p_a T_6Fd5 R_6Fd5 H_6LEV W_6LEV r_P",header:"D_F A_6FsP u_e69 i_6LEV H_A c1AVi73_6LUG c1AVi7H_6MWH"}},_key:"INXoH"}},45686:(e,t,s)=>{"use strict";s.d(t,{Z:()=>P});var a=s(67294),n=s(81732),r=s(99095),o=s(7426),i=s(37422),l=s(85927),c=s(10728),d=s(65304),_=s(8470),E=s(82520),u=s(18030),m=s(76531),S=s(30763),p=s.n(S),C=s(83034),A=s(9333),T=s(43007),I=s(5156),h=s(87771),g=s(92559),O=s(78737),D=s(3405),R=s(45840),N=s(45525),L=s(91745),f=s(31950);const M=(0,r.defineMessages)({from:{id:"list.filter_from",defaultMessage:"From"},select_mailbox:{id:"emails_to_myself_account_selector_dropdown_txt",defaultMessage:"Select mailbox"},all_mailboxes:{id:"select_all_mailboxes",defaultMessage:"All mailboxes"}}),P=()=>{const{formatMessage:e}=(0,o.Y)(),t=(0,a.useRef)(!1),r=(0,n.v9)((e=>(0,l.selectors)(e).isMobileRoute())),S=(0,n.v9)((e=>2===(0,l.selectors)(e).getPrescribedNumberOfColumns())),P=(0,n.v9)((e=>(0,l.selectors)(e).getEmailOfSelectedAccount())),b=(0,n.v9)((e=>(0,l.selectors)(e).getAllValidSendEmailsForEmailsToMyself())),y=(0,n.v9)((e=>(0,l.selectors)(e).getAdsSelectors().getEmailsToMyselfSelectedEmails())),v=y.length?y:b,[F,U]=(0,a.useState)(v),k=(0,L.Z)(i.Zrf.THEME_MODE)===i.zgU.DARK,w=b.every((e=>F.includes(e))),G=(0,C.Z)(p(),{isDarkTheme:k,isMobile:r,isMobileDarkTheme:r&&k}),H=(0,f.Z)(i.ANe.EMAILS_TO_MYSELF_TOOLTIP),B=(0,n.I0)(),x=(0,a.useCallback)((()=>{H&&B((0,I.hN)({name:i.ANe.EMAILS_TO_MYSELF_TOOLTIP,i13nModel:{mKey:`cue_${i.ANe.EMAILS_TO_MYSELF_TOOLTIP}_closed`,sec:g.nJ.FEATURE_CUE},userAction:"close"}))}),[H,B]),V=(0,a.useCallback)((e=>{const t=Date.now(),s="from:"+e.join(" from:")+` to:${P}`;B((0,O.st)({replaceInStack:!1,hashParams:{},perfHeader:{requestStart:t},route:(0,D.jK)(i.K8C.EMAILS_TO_MYSELF,{keyword:s}),i13nModel:{mKey:g.JE.EMAILS_TO_MYSELF_ACCOUNT_SELECTOR,sec:g.nJ.MSG_LIST_TOOLBAR,interactionType:g.Rb.click},selectedEmails:e}))}),[B,P]),Z=(0,a.useCallback)((e=>{U((t=>t.includes(e)&&!w?t:[e]))}),[w]);(0,a.useEffect)((()=>{t.current?V(F):t.current=!0}),[V,F]);const W=(0,a.useRef)(null);if(b.length<2)return null;const K=a.createElement("span",{className:G.chevronWrapper,ref:W},e(M.from),a.createElement(A.default,{kind:r?m.Kinds.CLOSE:m.Kinds.CHEVRON_UP,size:r&&!S?m.Sizes.S:m.Sizes.XS,rotate:m.Rotate.D180,title:e(M.select_mailbox),"aria-label":e(M.select_mailbox),colorState:r?m.ColorStates.IMPROVED_GRAY_DARK:m.ColorStates.INHERITED,isOnDarkBackground:k,"data-iskeynav":!0,"data-test-id":"emails-to-myself-selector-dropdown",paddingLess:!0})),z={kind:m.Kinds.FILTER,submenu:a.createElement(a.Fragment,null,K,a.createElement("ul",{className:G.emailsContainer},a.createElement("li",{className:G.emailContainer,onClick:()=>{U(b),V(b)}},a.createElement("input",{type:"radio",id:"select_all_emails",name:"select_all_emails",className:G.button,title:e(M.all_mailboxes),"data-test-id":"emails-to-myself-select-all",defaultChecked:w}),a.createElement("label",{htmlFor:"select_all_emails",className:G.itemText},e(M.all_mailboxes))),b.map(((t,s)=>{const n=F.includes(t)&&!w;return a.createElement("li",{className:G.emailContainer,key:s,onClick:()=>Z(t)},a.createElement("input",{type:"radio",id:`select-${t}`,name:`select-${t}`,className:G.button,title:e(M.all_mailboxes),"data-test-id":`emails-to-myself-select-${t}`,defaultChecked:n}),a.createElement("label",{htmlFor:`select-${t}`,className:G.itemText},t))})))),colorState:m.ColorStates.FIRST_LEVEL_GRAY,isCompactWithNoLabel:!0},Y=r?a.createElement("div",{ref:W},a.createElement(R.Z,null,a.createElement(N.ZP,z,a.createElement("span",{"data-accessible-only":!0},e(M.select_mailbox))))):a.createElement(E.OI,null,a.createElement(E.tW,{onClick:x},K),a.createElement(u.yk,{permittedArrowDirections:[d.Ji.UP,d.Ji.DOWN],triggerOn:d.K2.CLICK,offset:4*c.mg$,align:d.xM.CENTER,zAltitude:c.LSY.POPOVER.HIGH,hideOnContentClick:!1},a.createElement("div",{className:G.popoverListWrapper},a.createElement(_.Z,{focusOnMount:!0,"data-test-id":"emails-to-myself-selector-mailboxes",isRestrictedHeight:!0},a.createElement("ul",{className:G.emailsContainer,onClick:()=>{U(b),V(b)}},a.createElement("input",{type:"radio",role:"radio",id:"select_all_emails",name:"select_all_emails",className:G.button,title:e(M.all_mailboxes),"data-test-id":"emails-to-myself-select-all",defaultChecked:w}),a.createElement("label",{htmlFor:"select_all_emails",className:G.emailContainer},w&&a.createElement("span",{className:G.checkIcon},a.createElement(T.Z,{kind:m.Kinds.CHECKMARK,size:m.Sizes.XS,colorState:m.ColorStates.NORMAL})),a.createElement("div",{className:w?"":G.itemText},e(M.all_mailboxes)))),b.map(((t,s)=>{const n=F.includes(t)&&!w;return a.createElement("ul",{className:G.emailsContainer,key:s,onClick:()=>Z(t)},a.createElement("input",{type:"radio",id:`select-${t}`,name:`select-${t}`,className:G.button,title:e(M.all_mailboxes),"data-test-id":`emails-to-myself-select-${t}`,defaultChecked:n}),a.createElement("label",{htmlFor:`select-${t}`,className:G.emailContainer},n&&a.createElement("span",{className:G.checkIcon},a.createElement(T.Z,{kind:m.Kinds.CHECKMARK,size:m.Sizes.XS,colorState:m.ColorStates.NORMAL})),a.createElement("div",{className:n?"":G.itemText},t)))}))))));return a.createElement(a.Fragment,null,Y,H?a.createElement(h.cr,{import:"./emails_to_myself_tooltip",cueName:i.ANe.EMAILS_TO_MYSELF_TOOLTIP,anchor:W.current,isMobile:r,isTwoColumnLayout:S,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,80409))},_moduleResolver:function(){return 80409}}):null)}},30763:e=>{"use strict";e.exports={className:{default:{chevronWrapper:"D_F r_P cdPFi_Z1WBuqm C4_Z29WjXl cdPFi4_Z29WjXl Q_6LEV ab_C",popoverListWrapper:"P_3Y3Gk",button:"O_0 p_a",checkIcon:"D_F ab_C E_fq7",itemText:"Q_6NIX i_6LEV",emailsContainer:"P_2aKNCw G_e p_R I4_Z1gjdjJ I3_Z1gjdjJ it3_689y",emailContainer:"D_F je_eTB jb_eTB r_P ha_n A_6EqO i_6LEV"},isDarkTheme:{chevronWrapper:"cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI"},isMobile:{chevronWrapper:"A_6Eb4 i_6Fd5 lo_GT C_Z1YRXYn C4_Z1YRXYn cdPFi4_Z1YRXYn Q_6LEV E_6LEV Y_eo6 U_6Fd5 D_F gl_FM u_elT",emailsContainer:"P_0 Q_6LEV E_6LEV U_fq7 Y_0",itemText:"A_6EGz i_6LEV Q_6Eb4 em_N",button:"W_6EGz H_6EGz X_6LEV N_6LEV Y_eo6 U_eo6 O_d48 p_s"}},_key:"bYOxx"}},32665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});s(45697);var a=s(67294),n=s(23224),r=s(75558),o=s.n(r),i=s(76223),l=s.n(i),c=s(61395),d=s.n(c),_=s(87232),E=(s(95406),s(43007));function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class S extends a.Component{constructor(...e){super(...e),m(this,"handleChange",(e=>{const{onChange:t}=this.props;t&&t(e.target.value)})),m(this,"handleFocus",(e=>{const{onFocus:t}=this.props;t&&t(e.target.value)})),m(this,"handleBlur",(e=>{const{onBlur:t}=this.props;t&&t(e.target.value)})),m(this,"handleClear",(()=>{const{onChange:e}=this.props;e&&e("")}))}render(){const{hint:e,error:t,kind:s,fujiIconProps:r,className:i,...c}=this.props,_=Boolean(e),m=Boolean(t),S=Boolean(r),p=l()(o(),{kind:s});return a.createElement("div",{className:p.inputContainer},a.createElement(n.Z,u({},c,{className:d()(p.inputField,i),onFocus:this.handleFocus,onChange:this.handleChange,onClear:this.handleClear,onBlur:this.handleBlur})),S&&a.createElement("div",{className:p.inputIcon},a.createElement(E.Z,r)),_&&!m&&a.createElement("div",{className:p.hint},e),m&&a.createElement("span",{"data-test-id":"input-error",className:p.error},t))}}m(S,"defaultProps",{hint:"",error:"",focusOnMount:!1,kind:_.F.DEFAULT,className:""});const p=S},34866:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(32591),i=s.n(o);const l=(0,s(95406).gP)(["LI","SPAN"]);const c=r()(i());class d extends a.Component{shouldComponentUpdate(){return!1}render(){const e=this.props.tagName===l.LI?"li":"span";return a.createElement(e,{className:c.flexSpacer})}}var _,E,u;_=d,E="defaultProps",u={kind:l.SPAN},E in _?Object.defineProperty(_,E,{value:u,enumerable:!0,configurable:!0,writable:!0}):_[E]=u;const m=d},42523:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(67294),n=s(99095),r=s(89287),o=s.n(r),i=s(69511),l=s(83034),c=s(18685),d=s(85927),_=s(37422);const E=(0,n.defineMessages)({ariaLabel:{id:"folder_label.with_count",defaultMessage:"{folderName}{count, plural, =0 {} other {, # {useTotalInAriaLabel, select, true {total} other {unread}}}}"}}),u=(0,c.connect)(((e,{folderId:t,isCountVisible:s=!1})=>{const{getFoldersSelectors:a,formatFolderName:n}=(0,d.selectors)(e),{getFolderDisplayTypeByFolderId:r,getFolderName:o,getFolderTotal:i,getFolderUnreadCount:l}=a(),c=r(t)===_.tlB.DRAFT;let E;return s&&(E=c?i(t):l(t)),{name:o(t),getDisplayableName:n(t),count:E,useTotalInAriaLabel:c}}))((0,n.injectIntl)((({intl:e,getDisplayableName:t,name:s,useTotalInAriaLabel:n,count:r,isCountVisible:c=!1})=>{const{formatMessage:d,formatNumber:_}=e,u=(0,l.Z)(o()),m=c&&` (${_(r)})`,S=t(d),p="rtl"===(0,i.getTextDirection)(S)?u.rtlIgnoreDirRTL:u.rtlIgnoreDirLTR,C=d(E.ariaLabel,{folderName:S,count:r||0,useTotalInAriaLabel:n});return a.createElement("span",{className:m?u.container:"",role:"heading","aria-level":3,"aria-label":C},a.createElement("span",{className:p+" "+(m?u.label:""),"aria-hidden":!0,"data-test-folder-name":s},S),c&&r>0?a.createElement("span",{className:u.count,"aria-hidden":!0},m):null)})))},47954:e=>{"use strict";e.exports={className:{default:{syncImage:"W_3v9Wb H_3nH9d",syncMessage:"Y_6MGW C_Z1VRqsb",syncWaitMessage:"Y_eo6"}},_key:"1HN6mO"}},30814:(e,t,s)=>{"use strict";s.d(t,{Z:()=>N});var a=s(67294),n=(s(45697),s(18685)),r=s(99095),o=s(85927),i=s(37422),l=s(56148),c=s(76531),d=s(65304),_=s(10728),E=s(31057),u=s(18525),m=s.n(u),S=s(76223),p=s.n(S),C=s(50621),A=s(43007),T=s(17016),I=s(3405);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const g=(0,r.defineMessages)({forward:{id:"photo.item.forward",defaultMessage:"Forward"},newDraft:{id:"fwdBtn.txt.new_draft",defaultMessage:"New Draft"},newSubject:{id:"fwdBtn.txt.new_subject",defaultMessage:"New Subject"}}),O=({name:e})=>[i.n8z.NEW_DRAFT,i.n8z.EDIT_DRAFT,i.n8z.MESSAGE_FROM_FOLDER_LIST].indexOf(e)>-1,D=p()(m()),R=(e,t)=>{const{draftRoutes:s,onForward:n,colorStates:r,onHide:o,...i}=e,{formatMessage:E}=t.intl,u=s.length,m=(e,t)=>{if(e.preventDefault(),t)return n(t);const s=(0,T.generateUID)();n(s,(0,I.Rl)(s))},S=u?{}:{onClick:m},p=a.createElement(l.Z,h({kind:c.Kinds.FORWARD,size:c.Sizes.XS,colorStates:r,title:E(g.forward)},i,S));return u?a.createElement(C.ZP,{align:d.xM.START,onHide:o,triggerOn:C.XU.CLICK,zAltitude:_.LSY.CURSOR,triggerOff:C.Es.HOVER_OUT|C.Es.CLICK,permittedArrowDirections:[d.Ji.ANY]},a.createElement("div",{"data-test-id":"forward-attachment-btn"},p),a.createElement("ul",{className:D.menuContainer,"data-test-id":"forward-attachment-menu"},s.map((({csid:e,title:t,disabled:s})=>{const n=a.createElement(a.Fragment,null,a.createElement(A.Z,{size:c.Sizes.XS,kind:c.Kinds.COMPOSE,colorState:s?c.ColorStates.DISABLED:c.ColorStates.INHERITED}),a.createElement("span",{className:D.menuText},t||E(g.newSubject)));return s?a.createElement("li",{key:e,className:D.menu},a.createElement("a",{title:t,className:D.disabledMenuItem},n)):a.createElement("li",{key:e,className:D.menu},a.createElement("a",{onClick:t=>m(t,e),title:t,className:D.menuItem},n))})),a.createElement("li",{className:D.separator}),a.createElement("li",{key:"new_draft",className:D.menu},a.createElement("a",{onClick:m,className:D.menuItem},a.createElement(A.Z,{kind:c.Kinds.ADD,colorState:c.ColorStates.INHERITED,size:c.Sizes.XS}),a.createElement("span",{className:D.menuText},E(g.newDraft)))))):p};R.defaultProps={draftRoutes:[],colorStates:{hovered:c.ColorStates.INVERTED,normal:c.ColorStates.INVERTED_LESS_DIM},onHide:()=>{}},R.contextTypes={intl:r.intlShape};const N=(0,n.connect)((e=>{const{getTabPages:t,getMessageSubject:s,getDraftMessageId:a,getAllDraftsInRoute:n,getSelectedAccountId:r,findUnsyncedDataByCsid:i,getReplyingToMessageId:l,getCompactComposeSessions:c,getSelectedAccountIdByRoute:d}=(0,o.selectors)(e),_=[],u=r(),m=(e,t,n)=>{let r;const o=a(t)||l(t);o&&(r=s(o,e)),r||(r=(i(t)||{}).subject),_.push({csid:t,title:r,disabled:n!==u})};return t().filter(O).forEach((e=>{const t=(0,E.LY)(e),s=n(e),a=d(e);s.forEach((e=>m(t,e,a)))})),c().forEach((({csid:e,accountId:t})=>{const s=(0,I.Rl)(e),a=(0,E.LY)(s);m(a,e,t)})),{draftRoutes:_}}))(R)},43007:(e,t,s)=>{"use strict";s.d(t,{B:()=>p,Z:()=>S});s(45697);var a=s(67294),n=s(48726),r=s.n(n),o=s(76223),i=s.n(o),l=s(76531);s(95406);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const d={ACCEPT_UNFILLED:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2a8 8 0 100 16 8 8 0 000-16zm0 14.546A6.553 6.553 0 013.455 10 6.553 6.553 0 0110 3.455 6.553 6.553 0 0116.546 10 6.553 6.553 0 0110 16.546zm3.054-9.234a.764.764 0 011.078 0 .759.759 0 010 1.075l-5.037 5.027a.764.764 0 01-1.078 0l-2.155-2.15A.762.762 0 016.94 10.19L8.556 11.8l4.498-4.489z"}),ADD:a.createElement("path",{d:"M13.75 9.25h-3v-3a.75.75 0 00-1.5 0v3h-3a.75.75 0 000 1.5h3v3a.75.75 0 001.5 0v-3h3a.75.75 0 000-1.5z"}),ADDATTACHMENT:a.createElement("g",null,a.createElement("path",{d:"M13.334 9.166h-2.5v-2.5a.835.835 0 00-1.668 0v2.5h-2.5a.835.835 0 000 1.668h2.5v2.5a.833.833 0 101.668 0v-2.5h2.5a.833.833 0 100-1.668z"}),a.createElement("path",{d:"M10 .834a9.166 9.166 0 100 18.333A9.166 9.166 0 0010 .834zM10 17.5A7.5 7.5 0 012.5 10c0-4.143 3.357-7.5 7.5-7.5s7.5 3.357 7.5 7.5a7.5 7.5 0 01-7.5 7.5z"})),ADD_TASK:a.createElement("g",null,a.createElement("path",{d:"M14.667 7.25a.806.806 0 00-1.167 0l-4.917 4.833-1.75-1.75a.806.806 0 00-1.166 0 .806.806 0 000 1.167L8 13.833a.805.805 0 001.167 0l5.5-5.416a.806.806 0 000-1.167z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.583 3.5C5.167 3.5 3.5 7.61 3.5 10c0 3.417 2.5 6.5 6.5 6.5.417 0 .75.333.75.75s-.333.75-.75.75c-4.5 0-8-3.5-8-8 0-3.583 2.5-8 7.667-8C14.833 2 18 5.78 18 10.083c0 .417-.333.75-.75.75a.747.747 0 01-.75-.75C16.5 6.5 14 3.5 9.583 3.5z"}),a.createElement("path",{d:"M15.25 12.5c.306 0 .611.23.688.611v1.451h1.374c.382 0 .688.306.688.688 0 .306-.23.611-.611.688h-1.451v1.374a.685.685 0 01-.688.688c-.306 0-.611-.23-.688-.611v-1.451h-1.374a.685.685 0 01-.688-.688c0-.306.23-.611.611-.688h1.451v-1.374c0-.382.306-.688.688-.688z"})),ALIGN_CENTER:a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM6 7c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1H6zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM14 15H6c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),ALIGN_LEFT:a.createElement("path",{d:"M4 5h12c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM4 9h8c.6 0 1-.4 1-1s-.4-1-1-1H4c-.6 0-1 .4-1 1s.4 1 1 1zM16 11H4c-.6 0-1 .4-1 1s.4 1 1 1h12c.6 0 1-.4 1-1s-.4-1-1-1zM12 15H4c-.6 0-1 .4-1 1s.4 1 1 1h8c.6 0 1-.4 1-1s-.4-1-1-1z"}),AOL_OFFICIAL:a.createElement("path",{d:"M18.2 13.7C16.8 16.8 13.7 19 10 19s-6.9-2.2-8.3-5.6h.8l.4-1h2.4l.4 1h2l-2.8-7H3.4L1.2 12c-.1-.7-.2-1.4-.2-2 0-5 4-9 9-9s9 4 9 9c0 .6-.1 1.2-.2 1.8-.2-.2-.5-.3-.7-.3-.6 0-1.1.5-1.1 1.1s.5 1.1 1.2 1.1c-.1 0-.1 0 0 0zm-3.6-.2h1.6V6.3h-1.6v7.2zM10.7 8c-2 0-2.8 1.6-2.8 2.8s.9 2.8 2.8 2.8 2.8-1.6 2.8-2.8c0-1.3-1-2.8-2.8-2.8zm0 4.1c-.7 0-1.3-.6-1.3-1.4 0-.8.6-1.4 1.3-1.4s1.3.7 1.3 1.4c0 .9-.6 1.4-1.3 1.4zM3.3 11l.8-2.4.8 2.4H3.3z"}),APP_HIDDEN:a.createElement("path",{d:"M15.9 6.2c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1C6.2 2.9 5.3 2 4.1 2 2.9 2 2 2.9 2 4.1c0 1.2.9 2.1 2.1 2.1zm11.8 5.9c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1C2.9 7.9 2 8.8 2 10c0 1.2.9 2.1 2.1 2.1zM15.9 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zM10 18c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1zm-5.9 0c1.2 0 2.1-.9 2.1-2.1 0-1.2-.9-2.1-2.1-2.1-1.2 0-2.1.9-2.1 2.1 0 1.2.9 2.1 2.1 2.1z"}),ARCHIVE:a.createElement("path",{d:"M17.25 7H11.767v.75a1.75 1.75 0 01-3.5 0V7H2.75a.75.75 0 00-.75.75v8.5c0 .414.336.75.75.75h14.5a.75.75 0 00.75-.75v-8.5a.75.75 0 00-.75-.75zM3 5h14a1 1 0 000-2H3a1 1 0 100 2z"}),ARCHIVE_OUTLINE:a.createElement("path",{d:"M17 5H3c-.55 0-1-.45-1-1s.45-1 1-1h14c.55 0 1 .45 1 1s-.45 1-1 1zm-6.98 6.5c1.63 0 3.02-1.04 3.54-2.5H16v6H4V9h2.48a3.74 3.74 0 003.54 2.5zM17.25 7h-4.73c-.41 0-.75.34-.75.75 0 .97-.78 1.75-1.75 1.75s-1.75-.78-1.75-1.75c0-.41-.34-.75-.75-.75H2.75c-.41 0-.75.34-.75.75v8.5c0 .41.34.75.75.75h14.5c.41 0 .75-.34.75-.75v-8.5c0-.41-.34-.75-.75-.75z"}),ARROW_RIGHT_DOC:a.createElement("path",{d:"M7.252 17.785l7.468-7.786-7.469-7.784A.732.732 0 106.216 3.25l6.34 6.749-6.34 6.75a.733.733 0 101.037 1.036"}),ARROW_UP:a.createElement("path",{d:"M14.8 8.5l-5-5-5 5c-.3.3-.3.8 0 1.1s.8.3 1.1 0L9 6.4v9.4c0 .4.3.8.8.8s.8-.3.8-.8V6.4l3.2 3.2c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.8 0-1.1z"}),ATTACH:a.createElement("path",{d:"M16.7 16.5c-1.7 1.7-4.4 1.7-6.1 0l-3.9-3.9c-1-1-1.1-2.7 0-3.9 1.1-1.1 2.8-1.1 3.9 0l3.6 3.6c.3.3.3.8 0 1.1s-.8.3-1.1 0L9.6 9.9c-.5-.5-1.2-.5-1.7 0s-.5 1.2 0 1.7l4.1 4.1s1.8 1.5 3.6-.3c1.1-1.1 1.1-2.8 0-3.9L8.4 4.4c-1.1-1.1-2.8-1.1-3.9 0-2.1 2.1.4 4.1.4 4.1.3.3.3.8 0 1.1s-.8.3-1.1 0c0 0-3.8-2.9-.3-6.4 1.7-1.7 4.4-1.7 6.1 0l7.2 7.2c1.6 1.7 1.6 4.5-.1 6.1"}),ATTACHMENT:a.createElement("path",{d:"M15.6 14.4c-1.3 1.3-3.3 1.3-4.6 0l-2.9-2.9c-.8-.8-.8-2.1 0-2.9.8-.8 2.1-.8 2.9 0l2.7 2.7c.2.2.2.6 0 .8s-.6.2-.8 0l-2.7-2.7c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l3.1 3.1s1.4 1.1 2.7-.2c.8-.8.8-2.1 0-2.9L9.3 5.3c-.8-.8-2.1-.8-2.9 0-1.6 1.6.2 3.1.2 3.1.2.2.2.6 0 .8s-.6.2-.8 0c0 0-2.8-2.2-.2-4.8 1.3-1.3 3.3-1.3 4.6 0l5.4 5.4c1.2 1.3 1.2 3.3 0 4.6"}),ATTACH_CAL:a.createElement("path",{d:"M16.36 4H14V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H7V2.5c0-.28-.22-.5-.5-.5s-.5.22-.5.5V4H3.64c-.35 0-.64.28-.64.64v10.73c0 .35.29.63.64.63h12.73c.35 0 .63-.28.63-.64V4.64a.638.638 0 00-.64-.64zM16 15H4v-5h12v5zm0-6H4V5h2v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h6v1.5c0 .28.22.5.5.5s.5-.22.5-.5V5h2v4z"}),ATTACH_DOC:a.createElement("path",{d:"M4.5 17V3h7v3.45c0 .3.25.55.55.55h3.45v10h-11zM16.34 6.19s-3.26-3.22-3.88-3.84c-.16-.14-.32-.33-.6-.35H4.23c-.4 0-.73.33-.73.73v14.55c0 .4.33.73.73.73h11.55c.4 0 .72-.33.72-.73V6.62a.684.684 0 00-.16-.43z"}),ATTACH_DOC_48:a.createElement("g",null,a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.3 0H3.643a.911.911 0 00-.911.911v18.22c0 .501.41.911.911.911h12.754c.501 0 .911-.41.911-.911V4.982a.748.748 0 00-.203-.534zm-.708 14.683H3.644V.911h8.199v3.872c0 .376.307.683.683.683h3.872v13.665z"}),a.createElement("path",{d:"M11.834 7.302l-5.48.99v7.514l5.48.991v-1.31h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261v-.911h2.26c.277 0 .501-.179.501-.456s-.224-.455-.5-.455h-2.261V7.302zm-1.672 6.361c-.194.098-.485-.004-.715.011-.154-.745-.334-1.485-.473-2.234-.136.727-.312 1.448-.468 2.17a46.174 46.174 0 01-.672-.04c-.192-.99-.42-1.973-.6-2.966.2-.01.4-.017.598-.024.12.717.256 1.43.36 2.149.164-.736.331-1.472.494-2.208.22-.013.442-.022.662-.033.155.76.313 1.518.48 2.275.132-.782.277-1.56.417-2.34.233-.008.465-.02.696-.034-.262 1.09-.492 2.19-.78 3.274z"})),ATTACH_GDOCS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm4.856 5.455H6.983c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zm2.727-1.818h-6.06c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h6.06c.276 0 .5.179.5.455s-.224.454-.5.454zM6.976 10h6.06c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-6.06c-.277 0-.5-.178-.5-.454 0-.277.223-.455.5-.455z"})),ATTACH_GENERIC_48:a.createElement("path",{d:"M17.106 4.448L13.05.445C12.86.258 12.66.03 12.3 0H3.643a.911.911 0 00-.911.911v18.22c0 .501.41.911.911.911h12.754c.501 0 .911-.41.911-.911V4.982a.748.748 0 00-.203-.534zM3.644 19.13V.911h8.199v3.872c0 .376.307.683.683.683h3.872v13.665H3.644z"}),ATTACH_GSHEETS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm2.128 5.455h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.179.5.455s-.223.454-.5.454zm5.455 0H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zm0-1.818H9.71c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h3.333c.276 0 .5.179.5.455s-.224.454-.5.454zM9.703 10h3.333c.276 0 .5.178.5.455 0 .276-.224.454-.5.454H9.703c-.277 0-.5-.178-.5-.454s.223-.455.5-.455zm-2.115 2.727h-.605c-.277 0-.5-.178-.5-.454s.223-.455.5-.455h.605c.277 0 .5.179.5.455s-.223.454-.5.454zM6.976 10h.606c.276 0 .5.178.5.455 0 .276-.224.454-.5.454h-.606c-.277 0-.5-.178-.5-.454 0-.277.223-.455.5-.455z"})),ATTACH_GSLIDES_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M5.46 9.09v6.365c0 .502.407.909.91.909h7.272a.91.91 0 00.91-.91V9.092a.91.91 0 00-.91-.91H6.37a.91.91 0 00-.909.91zm8.182 4.092H6.37V9.09h7.273v4.09z"})),ATTACH_ICS_48:a.createElement("g",null,a.createElement("path",{d:"M19.09 2.73H15V1.365a.489.489 0 00-.455-.455.489.489 0 00-.454.455v1.363H5.909V1.366A.489.489 0 005.455.91.489.489 0 005 1.366v1.363H.91c-.5 0-.91.41-.91.91v14.545c0 .5.41.909.91.909h18.18c.5 0 .91-.41.91-.91V3.639c0-.5-.41-.909-.91-.909zm0 15.454H.91V3.638H5v.91c0 .227.227.454.455.454a.489.489 0 00.454-.455v-.909h8.182v.91c0 .227.227.454.454.454A.489.489 0 0015 4.547v-.909h4.09v14.546z"}),a.createElement("path",{d:"M8.218 10.962l-.447-.076 1.71-1.635c.268-.258.395-.411.395-.703 0-.337-.29-.458-.56-.458H5.873c-.237 0-.438.201-.438.439 0 .237.2.438.438.438H8.59l-1.757 1.77c-.223.222-.269.351-.269.477 0 .238.202.439.44.439h.24c1.01 0 1.612.42 1.612 1.125 0 .66-.504 1.106-1.227 1.106-.58 0-1.066-.184-1.53-.58a.505.505 0 00-.348-.138.532.532 0 00-.519.519c0 .144.078.281.161.363l.023.02c.59.506 1.308.752 2.194.752 1.385 0 2.315-.838 2.315-2.084 0-.992-.574-1.582-1.707-1.774zM14.036 7.989c-.2 0-.4.045-.686.123l-.995.291a.459.459 0 00-.351.448c0 .233.21.438.449.438.048 0 .135-.014.217-.034l.827-.244v5.211a.54.54 0 001.08 0V8.53a.54.54 0 00-.54-.54z"})),ATTACH_IMAGE:a.createElement("path",{d:"M16.36 4H3.64c-.35 0-.64.28-.64.64v10.73c0 .34.29.63.64.63h12.73c.35 0 .63-.29.63-.64V4.64a.638.638 0 00-.64-.64zM16 5v8.5l-4-5-2.95 3.64L7 9.5l-3 3.2V5h12zM6.77 15H4v-.91L7 11l1.44 1.89L6.77 15zM8 15l4-5 4 5H8z"}),ATTACH_IMAGE_48:a.createElement("path",{d:"M19.09 1.82H.91c-.5 0-.91.4-.91.91v14.55c0 .5.41.91.91.91h18.18c.5 0 .91-.41.91-.91V2.73a.9.9 0 00-.91-.91zM.91 17.27v-1.02l4.55-5.54L8.2 14l-2.74 3.28-4.55-.01zm5.68 0L12.73 10l6.36 7.27H6.59zm12.5-1.36l-6.36-7.27-3.94 4.65-3.34-4-4.54 5.53V2.73h18.18v13.18z"}),ATTACH_MOVIE_48:a.createElement("g",null,a.createElement("path",{d:"M7.918 12.67c.061 0 .1-.02.17-.06l4.03-2.345c.125-.072.178-.167.178-.261s-.064-.19-.188-.261L8.062 7.398c-.071-.041-.082-.06-.142-.06-.149 0-.193.117-.193.32V12.35c0 .203.044.322.191.322z"}),a.createElement("path",{d:"M19.09 1.822H.91a.91.91 0 00-.91.91v14.545c0 .502.407.909.91.909h18.18a.91.91 0 00.91-.91V2.732a.91.91 0 00-.91-.909zm0 15.455H.91V2.73h18.18v14.546z"})),ATTACH_PDF_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M11.591 12.67a11.06 11.06 0 01-1.26-1.681c.171-.789.26-1.517.27-2.065l.003-.103c.015-.623.04-1.667-.863-1.857a.982.982 0 00-.782.16 1.096 1.096 0 00-.442.75c-.11.921.332 2.123.978 3.243-.171.709-.41 1.449-.71 2.123a8.028 8.028 0 00-1.954 1.077c-1.092.787-.985 1.37-.824 1.647.147.253.44.393.759.393.156 0 .32-.033.476-.104.887-.405 1.589-1.313 2.116-2.388a7.988 7.988 0 011.915-.393c.582.585 1.385 1.225 2.123 1.245.712.019 1.072-.373 1.12-.769.052-.421-.254-.953-1.045-1.127a7.527 7.527 0 00-1.88-.151zm-4.675 2.868a.335.335 0 01-.215.028c.028-.089.166-.308.596-.617.277-.208.562-.391.851-.55-.357.52-.769.928-1.232 1.139zm2.38-7.571a.318.318 0 01.12-.205.177.177 0 01.108-.035.26.26 0 01.055.006c.244.051.252.535.24 1.07l-.002.106a8.298 8.298 0 01-.082.954c-.329-.74-.495-1.416-.438-1.896zm.465 4.964c.114-.302.217-.61.307-.915.182.26.372.51.562.742a8.753 8.753 0 00-.869.173zm3.542.657c.336.074.437.23.435.263-.007.015-.089.095-.321.081-.214-.006-.548-.141-.973-.466.31.023.6.066.859.122z"})),ATTACH_PPT_48:a.createElement("g",null,a.createElement("path",{d:"M8.767 11.032v.934c.228.018.45.06.59-.175.104-.178.095-.503-.026-.64-.157-.177-.36-.151-.564-.12z"}),a.createElement("path",{d:"M11.821 10.818h-.007V7.286l-5.467.99v7.497l5.467.989v-2.217h2.264a.457.457 0 00.454-.454.453.453 0 00-.454-.455h-2.264v-1.294h.005a1.372 1.372 0 002.492-.521h-1.548v-.002h-.03v-1.583a1.371 1.371 0 00-.912.582zm-1.761.99c-.087.37-.327.63-.705.722-.188.046-.39.037-.604.055v1.055h-.573v-3.187c.442 0 .881-.012 1.32.009.115.005.248.09.333.178.326.335.326.752.229 1.167z"}),a.createElement("path",{d:"M13.188 10.235v1.13h1.123a1.367 1.367 0 00-1.123-1.13z"}),a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"})),ATTACH_SOUND_48:a.createElement("g",null,a.createElement("path",{d:"M19.09 1.822H.91a.91.91 0 00-.91.91v14.545c0 .502.407.909.91.909h18.18a.91.91 0 00.91-.91V2.732a.91.91 0 00-.91-.909zm0 15.455H.91V2.73h18.18v14.546z"}),a.createElement("path",{d:"M11.818 11.81a.453.453 0 00.455-.452V7.746c0-.25-.204-.451-.455-.451s-.454.202-.454.451v3.612c0 .25.203.452.454.452zM13.636 11.353a.453.453 0 00.455-.451V9.547c0-.25-.204-.451-.455-.451s-.454.202-.454.451v1.355c0 .25.203.451.454.451zM8.182 14.067a.453.453 0 00.454-.451V6.392a.453.453 0 00-.454-.452.453.453 0 00-.455.452v7.224c0 .25.204.451.455.451zM10 13.165a.453.453 0 00.455-.452V9.101c0-.25-.204-.452-.455-.452s-.455.203-.455.452v3.612c0 .25.204.452.455.452zM6.364 12.274a.454.454 0 00.454-.455V8.637a.454.454 0 10-.909 0v3.182c0 .251.204.455.455.455z"})),ATTACH_XLS_48:a.createElement("g",null,a.createElement("path",{d:"M17.076 4.438L13.028.444c-.19-.187-.39-.415-.75-.444H3.642a.91.91 0 00-.909.91v18.18c0 .5.41.91.91.91h12.726c.5 0 .91-.41.91-.91V4.973a.747.747 0 00-.203-.534zm-.707 14.653H3.642V.909h8.182v3.864c0 .375.307.682.682.682h3.863V19.09z"}),a.createElement("path",{d:"M12.18 9.545c0-.228-.157-.383-.366-.432V7.286l-5.467.99v7.497l5.467.989v-1.33c.21-.049.365-.204.365-.432s-.156-.383-.365-.432v-.954c.21-.05.365-.204.365-.432s-.156-.383-.365-.432v-.954c.21-.05.365-.204.365-.432 0-.229-.156-.383-.365-.433v-.953c.21-.05.365-.204.365-.433zm-2.587 4.222c-.191-.463-.425-.91-.562-1.394-.153.45-.372.876-.548 1.317a27.416 27.416 0 01-.74-.023c.29-.558.569-1.12.867-1.675-.253-.572-.532-1.132-.793-1.7.248-.015.496-.03.744-.042.168.433.352.862.49 1.307.149-.472.371-.916.562-1.372.254-.017.51-.033.766-.045a229.97 229.97 0 01-.91 1.818c.31.622.627 1.238.938 1.86a65.72 65.72 0 01-.814-.051zM13.233 13.636h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.454.5.454zM13.233 15.455h.837c.276 0 .5-.179.5-.455s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.455.5.455zM13.233 11.818h.837c.276 0 .5-.178.5-.454s-.224-.455-.5-.455h-.837c-.277 0-.5.179-.5.455s.223.454.5.454zM13.233 10h.837c.276 0 .5-.178.5-.455 0-.276-.224-.454-.5-.454h-.837c-.277 0-.5.178-.5.454s.223.455.5.455z"})),ATTACH_ZIP_48:a.createElement("g",null,a.createElement("path",{d:"M4.272 15.458h-.365c-.151 0-.27.137-.27.287v.364c0 .15.119.258.27.258h.365c.151 0 .273-.107.273-.258v-.364c0-.15-.122-.287-.273-.287zM3.907 14.55h.365c.151 0 .273-.109.273-.26v-.363c0-.15-.122-.287-.273-.287h-.365c-.151 0-.27.136-.27.287v.364c0 .15.119.258.27.258zM5.181 14.55H4.82a.273.273 0 00-.274.272v.364c0 .15.123.272.274.272h.362a.273.273 0 00.274-.272v-.364a.273.273 0 00-.274-.273zM5.181 12.731H4.82a.273.273 0 00-.274.273v.364c0 .15.123.272.274.272h.362a.273.273 0 00.274-.272v-.364a.273.273 0 00-.274-.273zM3.907 12.731h.365c.151 0 .273-.108.273-.258v-.364c0-.15-.122-.287-.273-.287h-.365c-.151 0-.27.136-.27.287v.364c0 .15.119.258.27.258zM5.196 8.64H3.91a.273.273 0 00-.273.273v1.713c0 .158.13.287.287.287h.622v.65c0 .151.123.259.273.259h.366c.151 0 .27-.108.27-.258V8.899a.258.258 0 00-.258-.259z"}),a.createElement("path",{d:"M19.09 4.55h-8.808L9.176 2.215c-.11-.222-.296-.394-.54-.394H.86a.907.907 0 00-.856.904v.454H0v14.097c0 .502.407.909.91.909h18.18c.5 0 .91-.41.91-.91V5.459a.91.91 0 00-.91-.909zm0 12.727H5.456v-.637a.273.273 0 00-.274-.273H4.82a.273.273 0 00-.274.273v.637H.91V2.73h7.503L9.53 5.197c.074.16.235.261.411.261h9.149v11.819z"})),ATTENTION:a.createElement("path",{d:"M10.727 10.727a.728.728 0 01-1.454 0V6.364a.727.727 0 011.454 0v4.363zM10 14.364a.727.727 0 110-1.454.727.727 0 010 1.454zM10 2c-4.411 0-8 3.589-8 8s3.589 8 8 8c4.41 0 8-3.589 8-8s-3.59-8-8-8z"}),BELL:a.createElement("path",{d:"M18.132 15.148a.94.94 0 01-.738 1.519c-.026 0-.052-.003-.077-.004H2.684a.94.94 0 01-.815-1.515h-.001s.095-.13.314-.301c.062-.049.564-.468.969-1.2.078-.143.311-.647.348-.749.1-.276.17-.612.277-1.092.255-1.648.239-3.996.239-3.996A5.987 5.987 0 018.75 1.8v-.134a1.249 1.249 0 112.5 0V1.8c2.707.576 4.74 2.975 4.74 5.85l-.002.16s-.018 2.348.237 3.996c.108.48.177.815.278 1.092.037.102.269.607.348.749.405.733.907 1.152.969 1.2.217.171.312.301.312.301zM10 19.583A2.083 2.083 0 017.917 17.5h4.167A2.084 2.084 0 0110 19.583z"}),BELL_OUTLINE:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.132 15.148s-.095-.13-.313-.3a4.262 4.262 0 01-.97-1.201c-.078-.143-.31-.647-.347-.75-.09-.244-.154-.534-.242-.93l-.036-.161c-.255-1.648-.236-3.996-.236-3.996l.002-.16a5.987 5.987 0 00-4.74-5.85v-.134a1.25 1.25 0 00-2.5 0V1.8a5.986 5.986 0 00-4.735 6.01s.017 2.348-.24 3.996l-.033.152c-.089.4-.154.693-.244.94-.036.102-.269.606-.348.749a4.276 4.276 0 01-.968 1.2c-.22.171-.314.301-.314.301a.94.94 0 00.797 1.516l.019-.001h14.651c.02.002.039.004.058.004a.94.94 0 00.739-1.519zM10 14.996H4.271a6.24 6.24 0 00.338-.543c.109-.197.381-.78.456-.987.126-.345.204-.694.302-1.135l.036-.16.012-.055.008-.055c.186-1.197.239-2.675.253-3.558L5.7 8.48l-.02-.715A4.327 4.327 0 0110 3.333a4.327 4.327 0 014.323 4.317c0 .04 0 .08-.002.12V7.797c-.001.101-.017 2.503.256 4.264l.009.055.012.055.035.16c.099.44.177.79.302 1.135.075.207.348.79.456.987.11.197.224.378.338.543H10zM7.917 17.5h4.166a2.083 2.083 0 11-4.166 0z"}),BOLD:a.createElement("path",{d:"M15.2 8.9c.3-.6.4-1.2.4-1.8 0-2.2-1.8-4-4-4H5.1C4.5 3 4 3.5 4 4.1v11.8c0 .6.5 1.1 1.1 1.1h7.1c2.6 0 4.6-2.1 4.6-4.6 0-1.4-.6-2.7-1.6-3.5zM14 12.7c0 .9-.7 1.6-1.6 1.6H6.8v-3.1h5.7c.8-.1 1.5.6 1.5 1.5zM6.8 8.3V5.8h4.8c.7 0 1.3.6 1.3 1.3s-.6 1.3-1.3 1.3H6.8v-.1z"}),BOX:a.createElement("path",{d:"M17.933 5.367L10.344.937a.79.79 0 00-.78 0L7.202 2.333 15 6.743v3.503l-1.667.962V7.744L5.62 3.267l-3.554 2.1a.784.784 0 00-.4.682v7.897a.79.79 0 00.4.687l7.498 4.431a.793.793 0 00.78 0l7.59-4.431c.246-.141.4-.403.4-.687V6.053a.79.79 0 00-.4-.686"}),CALENDAR:a.createElement("path",{d:"M18 3.496h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1v11.5c0 .641.367 1 1 1h16c.633 0 1-.359 1-1v-11.5c0-.641-.367-1-1-1zm-7.95 8.276v.002c0 1.296-.944 2.247-2.475 2.247-.982 0-1.717-.305-2.277-.785a.752.752 0 01-.254-.54c0-.393.332-.727.725-.727.217 0 .362.089.482.187.392.334.805.51 1.343.51.57 0 .972-.324.972-.834v-.02c0-.56-.5-.873-1.344-.873h-.236a.653.653 0 01-.647-.646c0-.208.088-.384.324-.62L7.998 8.33H5.886a.655.655 0 01-.648-.65c0-.351.296-.647.648-.647h3.347c.441 0 .765.255.765.668 0 .373-.175.579-.452.844L8.203 9.829c.932.158 1.846.648 1.846 1.924v.019zm4.205 2.19a.746.746 0 01-.746-.746v-4.75l-.531.137c-.078.02-.186.04-.265.04a.662.662 0 01-.656-.647c0-.305.195-.561.498-.648l.973-.284c.284-.08.5-.128.707-.128h.019c.412 0 .746.333.746.745v5.535h.001a.746.746 0 01-.746.746z"}),CALENDAR_EMPTY:a.createElement("path",{d:"M18 3.496h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1v11.5c0 .641.367 1 1 1h16c.633 0 1-.359 1-1v-11.5c0-.641-.367-1-1-1z"}),CALENDAR_SETTINGS:a.createElement("path",{d:"M19 7V4.496c0-.641-.367-1-1-1h-3.001v-.46a1 1 0 10-2 0v.46h-6v-.46a1 1 0 10-1.999 0v.46H2c-.633 0-1 .359-1 1V7h18zM1 8.5v7.496c0 .641.367 1 1 1h16c.633 0 1-.359 1-1V8.5H1z"}),CAL_ACCEPT:a.createElement("path",{d:"M14.1 7.3c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0l1.6 1.6L13 7.3c.4-.3.8-.3 1.1 0zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_DECLINE:a.createElement("path",{d:"M11.1 10l2.3 2.4c.3.3.3.8 0 1.1s-.8.3-1.1 0L10 11.1l-2.4 2.4c-.3.3-.8.3-1.1 0-.3-.3-.3-.8 0-1.1L8.9 10 6.6 7.6c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0L10 8.9l2.3-2.3c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1L11.1 10zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),CAL_MAYBE:a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm.8-4.1v.4c0 .4-.3.7-.7.7s-.7-.3-.7-.7v-1c0-.4.3-.7.7-.7.8 0 1.5-.7 1.5-1.5s-.7-1.5-1.5-1.5-1.7.7-1.6 1.6c0 .5-.3.8-.7.8-.5 0-.8-.3-.8-.8C6.9 6.5 8.4 5 10 5s3 1.3 3 3c0 1.4-1 2.6-2.2 2.9z"}),CHECKBOX_OFF:a.createElement("path",{d:"M14.5 17h-9C4.1 17 3 15.9 3 14.5v-9C3 4.1 4.1 3 5.5 3h9C15.9 3 17 4.1 17 5.5v9c0 1.4-1.1 2.5-2.5 2.5zm-9-13C4.7 4 4 4.7 4 5.5v9c0 .8.7 1.5 1.5 1.5h9c.8 0 1.5-.7 1.5-1.5v-9c0-.8-.7-1.5-1.5-1.5h-9z"}),CHECKBOX_ON:a.createElement("path",{d:"M14.5 3h-9A2.503 2.503 0 003 5.5v9C3 15.878 4.122 17 5.5 17h9c1.378 0 2.5-1.122 2.5-2.5v-9C17 4.122 15.878 3 14.5 3zm-.208 4.713L8.5 13.5l-2.792-2.624a.71.71 0 111.005-1.004L8.5 11.5l4.786-4.792a.711.711 0 011.006 1.005z"}),CHECKMARK:a.createElement("path",{d:"M7.2 14.1l-3.5-3.5c-.3-.3-.3-.7 0-1s.8-.3 1 0l3 2.9 7.4-7.3c.3-.3.8-.3 1 0 .3.3.3.7 0 1L8.2 14c-.2.3-.7.3-1 .1z"}),CHEVRON_UP:a.createElement("path",{d:"M13.5 12.75a.748.748 0 01-.53-.22L10 9.56l-2.97 2.97a.75.75 0 11-1.06-1.06L10 7.44l4.03 4.03a.75.75 0 01-.53 1.28z"}),CIRCLE:a.createElement("circle",{cx:"10",cy:"10",r:"4"}),CIRCLE_UNFILLED:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm1.455 0A6.553 6.553 0 0010 16.546 6.553 6.553 0 0016.546 10 6.553 6.553 0 0010 3.455 6.553 6.553 0 003.455 10z"}),CLEAR:a.createElement("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zm3.445 10.68a.541.541 0 11-.765.765L10 10.765l-2.68 2.68a.541.541 0 11-.765-.765L9.235 10l-2.68-2.68a.541.541 0 11.766-.765L10 9.235l2.68-2.68a.541.541 0 11.765.766L10.765 10l2.68 2.68z"}),CLOCK:a.createElement("path",{d:"M11.974 12.701a.704.704 0 01-.998 0l-1.395-1.395a.717.717 0 01-.309-.58V7.09a.727.727 0 111.456 0v3.366l1.247 1.247a.704.704 0 010 .997l-.001.001zM10 2a8 8 0 100 16 8 8 0 000-16z"}),CLOCK_OUTLINE:a.createElement("g",null,a.createElement("path",{d:"M10 16.5c3.6 0 6.5-2.9 6.5-6.5S13.6 3.5 10 3.5 3.5 6.4 3.5 10s2.9 6.5 6.5 6.5zm0 1.5c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z"}),a.createElement("path",{d:"M12.3 11.8c.3.2.4.7.1 1-.2.3-.7.4-1 .1L9 11.1V6.5c0-.4.3-.7.7-.7s.7.3.7.7v3.9l1.9 1.4z"})),CLOSE:a.createElement("path",{d:"M10 9l5.1-5.1c.3-.3.7-.3 1 0 .3.3.3.7 0 1L11 10l5.1 5.1c.3.3.3.7 0 1-.3.3-.7.3-1 0L10 11l-5.1 5.1c-.3.3-.7.3-1 0-.3-.3-.3-.7 0-1L9 10 3.9 4.9c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9z"}),CLOSE_MINI:a.createElement("path",{d:"M12.8 13.8L10 11l-2.8 2.8c-.3.3-.7.3-1 0s-.3-.7 0-1L9 10 6.2 7.2c-.3-.3-.3-.7 0-1s.7-.3 1 0L10 9l2.8-2.8c.3-.3.7-.3 1 0s.3.7 0 1L11 10l2.8 2.8c.3.3.3.7 0 1s-.7.3-1 0z"}),COLLAPSE_LIST:a.createElement("path",{d:"M12 2.5H8c-.2 0-.3.2-.1.4L10 5l2.1-2.1c.2-.2.1-.4-.1-.4zm-4 15h4c.2 0 .3-.2.1-.4L10 15l-2.1 2.1c-.2.2-.1.4.1.4zm8.5-6.5h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1s-.4-1-1-1zm-13-2h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),COMPOSE:a.createElement("path",{d:"M8.79 15.834a.576.576 0 01-.333.167c-.055.015-3.957 0-3.957 0-.3.005-.505-.243-.5-.542v-3.855c0-.148.059-.291.164-.397l4.174-4.169 4.624 4.624-4.172 4.172zm4.961-4.96L9.127 6.25l2.078-2.075c.214-.215.576-.24.783-.032l3.864 3.881a.55.55 0 01-.022.774l-2.079 2.077z"}),COMPOSE_EMOJI:a.createElement("path",{d:"M10 1.6c-4.7 0-8.5 3.8-8.5 8.5s3.8 8.5 8.5 8.5 8.5-3.8 8.5-8.5-3.8-8.5-8.5-8.5zm0 15.3c-3.8 0-6.9-3.1-6.9-6.9S6.2 3.2 10 3.2s6.9 3.1 6.9 6.9-3 6.8-6.9 6.8zm-2.5-9c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.6-1.2-1.2.5-1.2 1.2-1.2zm5.3 0c.6 0 1.2.5 1.2 1.2s-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2.6-1.2 1.2-1.2zm.74 4.66c-.48 1.06-2.03 2.04-3.41 2.04s-2.93-.97-3.41-2.04c-.47-1.06.79-.96.79-.96h5.24c.01 0 1.27-.1.79.96z"}),CONTACT_CARD:a.createElement("path",{d:"M17.3 3H2.7c-.4 0-.7.3-.7.7v12.6c0 .4.3.7.7.7h14.6c.4 0 .7-.3.7-.7V3.7c0-.4-.3-.7-.7-.7zM5.5 7.7c.2-.7.8-1.3 1.6-1.5 1.5-.3 2.9 1 2.5 2.5-.2.8-.8 1.4-1.6 1.6-1.5.3-2.8-1-2.5-2.6zm5.1 6.8h-6c-.6 0-.9-.6-.6-1.1.7-1 2.1-1.7 3.6-1.7s2.9.7 3.6 1.7c.3.4-.1 1.1-.6 1.1zm5.2-1.3H14c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h1.8c.4 0 .7.3.7.7s-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7s.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7zm0-2.9h-3.3c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7h3.3c.4 0 .7.3.7.7 0 .3-.3.7-.7.7z"}),CONTACTCARD_OUTLINE:a.createElement("path",{d:"M15 12.5h-.83c-.46 0-.83.37-.83.83s.37.83.83.83H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83zm-1.67-1.67H15c.46 0 .83-.37.83-.83s-.37-.83-.83-.83h-1.67c-.46 0-.83.37-.83.83 0 .46.37.83.83.83zm0-3.33H15c.46 0 .83-.37.83-.83s-.37-.84-.83-.84h-1.67c-.46 0-.83.37-.83.83s.37.84.83.84zm4.17 8.33h-4.17c-.54-1.9-2.35-3.33-5.46-3.33s-4.83 1.43-5.37 3.33V4.17h15v11.66zm-13.08 0c.57-.97 1.45-1.67 3.45-1.67s2.96.7 3.54 1.67H4.42zM18.33 2.5H1.67c-.46 0-.83.37-.83.83v13.33c0 .46.37.83.83.83h16.67c.46 0 .83-.37.83-.83V3.33c0-.46-.38-.83-.84-.83zm-10.41 5a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5zm0 4.17c1.61 0 2.92-1.31 2.92-2.92S9.53 5.83 7.92 5.83C6.31 5.83 5 7.14 5 8.75s1.31 2.92 2.92 2.92z"}),CONTACTS:a.createElement("path",{d:"M16.5 2H14v4.5h3.5V3c-.007-.667-.34-1-1-1zM14 12h3.5V8h-3.491zM2.5 3v14c0 .667.333 1 1 1h9V2h-9c-.667 0-1 .333-1 1zM14 18h2.5c.66 0 .993-.333 1-1v-3.5H14V18z"}),CONTRACT:a.createElement("path",{d:"M11 4.1v4.3c0 .3.3.6.6.6H16c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM9 16v-4.3c0-.4-.3-.7-.6-.7H3.9c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3L8 16.5c.1.2.3.2.4.2.3 0 .5-.2.6-.5V16z"}),DEALS:a.createElement("path",{d:"M16.823 9.802l-6.49-6.608A.642.642 0 009.87 3H3.657a.648.648 0 00-.648.648v6.215c0 .175.069.341.193.463l6.603 6.488a.65.65 0 00.913-.004l6.1-6.094a.65.65 0 00.005-.914zM6.896 8.126a1.273 1.273 0 01-1.278-1.268c0-.7.572-1.268 1.278-1.268.705 0 1.277.568 1.277 1.268 0 .7-.572 1.268-1.277 1.268z"}),DELETE:a.createElement("path",{d:"M3.994 17.209c0 .41.335.79.745.79H15.26c.41 0 .733-.386.733-.796V7h-12v10.209zm7.256-6.945a.75.75 0 111.502 0v4.49a.75.75 0 01-1.502 0v-4.49zm-4 0a.75.75 0 111.502 0v4.49a.75.75 0 01-1.502 0v-4.49zM17 3H12.74v-.076c0-.51-.337-.924-.762-.924H8.01c-.426 0-.774.414-.774.924V3H3a1 1 0 100 2h14a1 1 0 000-2z"}),DEVICE_DESKTOP:a.createElement("path",{d:"M17.7 2.5H2.3c-.4 0-.8.4-.8.8v10.5c0 .4.4.7.8.7h6.1l-.7 2H5.3c-.4 0-.8.4-.8.8s.4.7.8.7h9.4c.4 0 .8-.3.8-.7s-.4-.8-.8-.8h-2.5l-.7-2h6.2c.4 0 .8-.3.8-.7V3.3c0-.4-.4-.8-.8-.8zM17 13H3V4h14v9z"}),DEVICE_PHONE:a.createElement("path",{d:"M14.7 1H5.8c-.4 0-.8.4-.8.8v16.4c0 .5.3.8.8.8h8.9c.4 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8zm-4.4 16.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm3.7-4.3H6.5V2.5H14v10.9z"}),CAR:a.createElement("path",{d:"M17.868 7.572l-1.325-3.61A4.545 4.545 0 0012.271 1H7.729a4.545 4.545 0 00-4.272 2.962l-1.325 3.61A3.743 3.743 0 000 10.972v4.356C0 16.362.814 17.2 1.818 17.2v.45c0 .745.611 1.35 1.364 1.35s1.364-.605 1.364-1.35v-.45h10.909v.45c0 .745.611 1.35 1.364 1.35.753 0 1.364-.605 1.364-1.35v-.45c1.005 0 1.818-.838 1.818-1.872v-4.356a3.745 3.745 0 00-2.133-3.4zM5.166 4.578A2.734 2.734 0 017.729 2.8h4.542c1.143 0 2.173.715 2.563 1.778l.973 2.722H4.193l.973-2.722zM3.636 13.6c-1.005 0-1.818-.806-1.818-1.8S2.632 10 3.636 10s1.818.806 1.818 1.8-.813 1.8-1.818 1.8zm12.728 0c-1.004 0-1.818-.806-1.818-1.8s.814-1.8 1.818-1.8c1.005 0 1.818.806 1.818 1.8s-.814 1.8-1.818 1.8z"}),DOCUMENTS_S:a.createElement("path",{d:"M10.969 2.994H5.111a.613.613 0 00-.611.611v12.783c0 .337.275.612.611.612h9.777a.613.613 0 00.612-.612V7.525a.607.607 0 00-.179-.432l-3.92-3.92a.612.612 0 00-.432-.179zm-.005 4.534V4.473l3.055 3.055h-3.055z"}),DOWNLOAD:a.createElement("path",{d:"M16.8 13.5c-.4 0-.8.3-.8.8v1.2H4v-1.3c0-.4-.3-.7-.7-.7s-.8.3-.8.8v2c0 .4.3.7.8.7H17c.4 0 .5-.3.5-.7v-2c0-.5-.3-.8-.7-.8zM9.5 13.1c.3.2.7.2.9 0l3.9-3.6c.3-.3.3-.7 0-1-.1-.1-.3-.2-.5-.2l-2.3.5V3.1c0-.3-.3-.6-.6-.6H9.1c-.3 0-.6.3-.6.6v5.7l-2.3-.5c-.2 0-.3 0-.5.2-.3.3-.3.7 0 1l3.8 3.6z"}),DRAFTS:a.createElement("path",{d:"M13.083 8.52H7.06a.753.753 0 110-1.506h6.023a.753.753 0 110 1.506zm-.037 2.99h-5.99a.749.749 0 110-1.498h5.99a.749.749 0 110 1.497zm2.767-9.498H4.258a.734.734 0 00-.722.74v14.26c0 .572.634.917 1.114.607l1.678-1.239 1.388 1.208c.253.195.603.201.862.015l1.457-1.221 1.458 1.221c.26.186.61.18.862-.015l1.387-1.208 1.68 1.239a.722.722 0 001.114-.607V2.752a.734.734 0 00-.723-.74z"}),EMOJI_FOOD_AND_DRINK:a.createElement("path",{d:"M18.3 14.1c0-.6-.5-1.1-1.1-1.1H17c.7 0 1.2-.7 1-1.4-.6-2-2.3-3.4-4.5-3.4H10l.4-3.2H8.9l.7-2.3 2.2.8c.1 0 .2 0 .2-.1l.2-.7c0-.1 0-.2-.1-.2l-2.6-.8c-.3-.1-.6.1-.7.4l-.9 3.1H1.7l1.6 13.2H16.2c.8 0 1.6-.7 1.6-1.6v-.9c0-.2-.1-.5-.2-.7.3-.2.7-.6.7-1.1zm-15.6-8h6.7l-.2 2.2h-.3c-2.1 0-3.9 1.4-4.5 3.4-.2.7.3 1.4 1 1.4h-.1c-.6 0-1.1.5-1.1 1.1 0 .5.3.9.8 1-.2.2-.2.5-.2.7v.9c0 .2.1.4.2.6h-.9L2.7 6.1zm14 10.6c0 .3-.2.5-.5.5H6.3c-.3 0-.5-.2-.5-.5v-.9c0-.1.1-.2.2-.2h10.7c.1 0 .2.1.2.2v.9h-.2zm-5.4-1.5L5.8 13h10.9l-5.4 2.2zm5.1-3.1H6.1c-.4 0-.7-.5-.5-.8.6-1.2 1.9-2 3.3-2h4.7c1.4 0 2.6.8 3.3 2 .1.3-.1.8-.5.8z"}),ENTER:a.createElement("path",{d:"M8 6.8c.3-.3.8-.3 1.1 0s.3.8 0 1.1L6.9 10h7.6V4.8c0-.4.3-.8.8-.8.4 0 .7.3.7.8v6c0 .5-.4.8-.7.8H6.9l2.2 2.2c.1.1.2.3.2.5s-.1.4-.2.5c-.3.3-.8.3-1.1 0l-4-4 4-4z"}),EXCLAMATION:a.createElement("path",{d:"M9 11V6a1 1 0 112 0v5a1 1 0 01-2 0zm1 4a1 1 0 110-2 1 1 0 010 2m0-12c-3.858 0-6.999 3.14-6.999 7s3.14 7 7 7C13.858 17 17 13.86 17 10s-3.14-7-7-7m0 16c-4.962 0-9-4.038-9-9s4.038-9 9-9c4.961 0 9 4.038 9 9s-4.039 9-9 9"}),EXCLAMATION_ALT:a.createElement("path",{d:"M2.097 15.85a.776.776 0 00.68 1.15h14.446c.59 0 .964-.633.68-1.15L10.68 2.66a.775.775 0 00-1.36 0L2.098 15.85zm8.68-4.282a.777.777 0 01-1.553 0V8.464a.776.776 0 111.553 0v3.104zM10 15.448a.776.776 0 110-1.553.776.776 0 010 1.552z"}),EXPAND:a.createElement("path",{d:"M2 13.1v4.3c0 .3.3.6.6.6H7c.3 0 .6-.3.6-.6 0-.2 0-.3-.2-.4l-1.6-1.1 3-3c.2-.2.2-.5 0-.7l-1.1-1.1c-.2-.2-.5-.2-.7 0l-3 3-1-1.6c-.1-.2-.3-.2-.4-.2-.3 0-.5.2-.6.5v.3zM18 6.9V2.6c0-.3-.3-.6-.6-.6H13c-.3 0-.6.3-.6.6 0 .2 0 .3.2.4l1.6 1.1-3 3c-.2.2-.2.5 0 .7l1.1 1.1c.2.2.5.2.7 0l3-3 1 1.6c.1.2.3.2.4.2.3 0 .5-.2.6-.5v-.3z"}),EXPAND_LIST:a.createElement("path",{d:"M8 8h4c.2 0 .3-.2.1-.4L10 5.5 7.9 7.6c-.2.2-.1.4.1.4zm4 4H8c-.2 0-.3.2-.1.4l2.1 2.1 2.1-2.1c.2-.2.1-.4-.1-.4zm4.5 3h-13c-.6 0-1 .4-1 1s.4 1 1 1h13c.6 0 1-.4 1-1 0-.5-.4-1-1-1zM3.5 5h13c.6 0 1-.4 1-1s-.4-1-1-1h-13c-.6 0-1 .4-1 1s.4 1 1 1z"}),EYE_SLASH:a.createElement("path",{d:"M10 5.01c3.65 0 6.98 1.99 8.89 5.33.22.38.09.87-.29 1.1a.83.83 0 01-.4.11c-.28 0-.54-.14-.69-.4-1.08-1.89-2.7-3.26-4.56-3.97a4.377 4.377 0 011.2 4.63l-.08.21-6.66-6.66c.84-.23 1.7-.35 2.59-.35zM3.31 2.9l.07.06L16.11 15.7c.32.32.32.84 0 1.16-.3.3-.76.32-1.09.06l-.07-.06-2.67-2.67c-.66.41-1.44.65-2.27.65-2.42 0-4.38-1.97-4.38-4.4 0-.76.2-1.46.53-2.08l.11-.18-.4-.4c-1.37.75-2.54 1.9-3.38 3.37a.79.79 0 01-1.09.29.8.8 0 01-.29-1.09c.85-1.49 1.99-2.7 3.3-3.59l.27-.17-2.46-2.47a.82.82 0 010-1.16c.3-.29.76-.31 1.09-.06z"}),FEEDBACK:a.createElement("path",{d:"M4.91 7.79c-.8.29-1.8.43-3 .42-.51 0-.91.55-.91.88v9.07c0 .54.36.83.91.84h13.51c.93-.14 1.78-.63 1.78-1.76 0-.32-.26-.71-.77-1.15 1-.25 1.5-.7 1.5-1.37 0-.46-.29-.84-.89-1.1 1-.39 1.51-.93 1.51-1.6 0-.42-.27-.79-.8-1.11.84-.33 1.25-.82 1.25-1.47 0-1.17-1.19-2.1-2.57-2.1h-4.6l.1-.3c.32-.97.42-2.2.25-3.5-.18-1.37-.62-2.32-1.77-2.51-1.14-.17-1.93.49-1.97 1.47v.35c-.01 2.54-2.33 4.51-3.53 4.94z"}),FINANCE:a.createElement("path",{d:"M17.5 3.5v1.7l-6.2 6.2-3.9-3.6-4.9 5.4v-1.7l4.9-5.4 3.9 3.6 6.2-6.2zm-6 9.8l6-6.2v9.4h-15v-1.09L7.4 9.9l4.1 3.4z"}),FOLDER:a.createElement("path",{d:"M2.5 15.8c0 .4.3.7.7.7h13.6c.4 0 .7-.3.7-.7V10h-15v5.8zM16.8 5h-6.3l-.8-1.6C9.6 3.2 9.3 3 9 3H3.2c-.4 0-.7.3-.7.7v4.8h15V5.7c0-.4-.3-.7-.7-.7z"}),FORWARD:a.createElement("path",{d:"M10.442 16.956a.775.775 0 01-1.238-.619V14h-6.94c-.427 0-.764-.372-.764-.8V7.794c0-.427.337-.793.764-.793h6.94V4.695c0-.705.767-.971 1.238-.62l7.74 5.809c.363.273.456.895 0 1.238l-7.74 5.834z"}),GETAWAYFILL:a.createElement("path",{d:"M17.1 16.2c.4-.3 1-.8 2-.8V17c-.5 0-.6.2-1 .5-.3.3-1 .8-2 .8-.9 0-1.5-.5-1.9-.8s-.6-.5-1-.5c-.5 0-.7.2-1 .5-.5.3-1 .8-2.1.8-1.16 0-1.75-.5-2.14-.8-.34-.3-.53-.5-1-.5s-.65.2-1 .5c-.42.3-.99.8-2.05.8-1.07 0-1.64-.5-2.06-.8-.34-.3-.53-.5-1-.5v-1.6c1.06 0 1.63.5 2.06.8.34.3.53.4 1 .4s.65-.1 1-.4c.42-.3.99-.8 2.05-.8 1.07 0 1.64.5 2.06.8.33.3.5.4.98.4.5 0 .6-.1 1-.4.5-.3 1-.8 2.1-.8 1 0 1.5.5 2 .8.4.3.5.4 1 .4s.7-.1 1-.4zM5.91 7.75c-1.37-.4-2.34-1.91-2.44-2.09a.819.819 0 01.21-1.1c2.15-1.6 4.84-2.22 7.52-1.75v-.45c.2-.44.6-.71 1-.59.5.12.8.58.6 1.02l-.1.45c2.5.89 4.4 2.75 5.4 5.21.3.4.2.9-.2 1-.3.1-1.3.75-2.4.75-.4 0-.5 0-.9-.1-.7-.25-1.4-.95-1.8-1.45-.4.2-1 .3-1.6.3L9.69 14.5c-.1.4-.42.6-.84.6h-.16c-.48-.1-.74-.6-.62-1.1l1.45-5.45c-.5-.3-.92-.7-1.18-1.1-.62.3-1.56.5-2.43.3z"}),GIF_BOX:a.createElement("g",null,a.createElement("path",{d:"M18.787 3.226C18.69 3.128 18.496 3 18.301 3H1.767C1.341 3 1 3.396 1 3.813v13.405a.76.76 0 00.767.782h16.534c.486 0 .699-.235.699-.783V3.715a.756.756 0 00-.213-.489zM17.5 16.5h-15v-12h15v12z"}),a.createElement("path",{d:"M13 11h2.5v-1H13V9h3V8h-4v5h1zM10.002 8H11v5h-.998zM6.488 13.067c.434 0 .799-.085 1.097-.255.173-.097.368-.265.585-.503l.113.691H9v-2.753H7v.836h1.031a1.291 1.291 0 01-.446.797c-.241.203-.551.304-.928.304a1.55 1.55 0 01-1.031-.384c-.302-.256-.453-.692-.453-1.308 0-.612.14-1.07.419-1.374s.634-.458 1.068-.458c.227 0 .432.037.618.112.331.136.561.386.646.728H9a1.778 1.778 0 00-.704-1.218c-.416-.323-.966-.485-1.651-.485-.79 0-1.424.245-1.904.734-.48.49-.741 1.14-.741 1.95 0 .802.258 1.434.734 1.896.455.46 1.04.69 1.754.69z"})),GUEST_LIST:a.createElement("g",null,a.createElement("path",{d:"M6.3 10.4c-2.982 0-5.4 1.405-5.4 3.137v1.387c0 .429.347.776.776.776h9.248a.775.775 0 00.776-.776v-1.387c0-1.732-2.418-3.137-5.4-3.137zM13.8 10.4a8.87 8.87 0 00-2.045.236c.91.784 1.445 1.783 1.445 2.901V15.7h5.224a.775.775 0 00.776-.776v-1.387c0-1.732-2.418-3.137-5.4-3.137z"}),a.createElement("circle",{cx:"13.8",cy:"6.4",r:"2.7"}),a.createElement("circle",{cx:"6.3",cy:"6.4",r:"2.7"})),HOME:a.createElement("path",{d:"M17.8 9.4l-7.2-7.2c-.2-.1-.4-.2-.6-.2s-.4.1-.5.2L2.2 9.4c-.3.3-.3.8 0 1.1s.8.3 1.1 0l.2-.2v6.9c0 .4.3.7.7.7h3.6V15c0-1.2 1-2.2 2.2-2.2 1.2 0 2.2 1 2.2 2.2v2.9h3.3c.4 0 1-.3 1-.7v-6.9l.2.2c.3.3.8.3 1.1 0 .3-.3.3-.8 0-1.1z"}),INBOX:a.createElement("path",{d:"M10 10l9-3.5V4c0-.65-.366-1-1-1H2c-.633 0-1 .35-1 1v2.5l9 3.5zm.76 1.195c-.42.165-1.102.164-1.52 0L5.12 9.598 1 8v8c0 .65.367 1 1 1h16c.633 0 1-.35 1-1V8l-8.24 3.195z"}),INDENT:a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM4.6 7.8c-.4.4-.4 1 0 1.4l.8.8H2.6c-.6 0-1 .4-1 1s.4 1 1 1h2.8l-.8.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0L9.2 11 6 7.8c-.4-.4-1-.4-1.4 0z"}),INFO:a.createElement("path",{d:"M10 7.1c-.4 0-.8-.3-.8-.8.1-.3.4-.7.8-.7s.8.3.8.8c0 .4-.4.7-.8.7zm.7 5.8c0 .4-.3.7-.7.7s-.7-.3-.7-.7V9.3c0-.4.3-.7.7-.7s.7.3.7.7v3.6zM10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),INPUT_ARROW_DOWN:a.createElement("path",{id:"Path-1009",d:"M5.5 7.5h9l-4.5 5z"}),ITALIC:a.createElement("path",{d:"M15.8 3H7.5c-.5 0-.9.4-.9.9s.4.9.9.9h3l-4 9.5h-3c-.5 0-.9.4-.9.9s.4.9.9.9h8.3c.5 0 .9-.4.9-.9s-.4-.9-.9-.9H8.3l4-9.5h3.4c.5 0 .9-.4.9-.9s-.3-.9-.8-.9z"}),LINK:a.createElement("g",null,a.createElement("path",{d:"M8.247 12H3.542c-.482 0-.934-.216-1.275-.592-.34-.376-.463-.876-.463-1.408 0-1.098.745-2 1.739-2h4.704c.498 0 .902-.437.902-.987S8.745 6 8.247 6H3.542C1.554 6 0 7.804 0 10c0 1.064.311 2.065.992 2.817.681.752 1.587 1.183 2.55 1.183h4.704c.498 0 .902-.463.902-1.013.001-.55-.403-.987-.901-.987zM18.944 7.183C18.262 6.431 17.356 6 16.393 6h-4.704c-.498 0-.902.463-.902 1.013 0 .55.36.987.858.987h4.748c.482 0 .934.216 1.275.592.34.376.528.876.528 1.408 0 .532-.187 1.032-.528 1.408-.341.376-.794.592-1.275.592h-4.704c-.498 0-.902.437-.902.987 0 .275.101.524.264.704a.86.86 0 00.638.292l4.704.017c.963 0 1.869-.431 2.551-1.183C19.625 12.064 20 11.064 20 10c0-1.064-.375-2.064-1.056-2.817z"}),a.createElement("path",{d:"M6.684 10.005c0 .273.097.521.255.7s.375.295.616.295h4.891c.481 0 .871-.449.871-.996 0-.547-.39-1.005-.871-1.004H7.555c-.481 0-.871.458-.871 1.005z"})),LIST_ORDERED:a.createElement("path",{d:"M7 5h10a1 1 0 000-2H7a1 1 0 100 2zM17 9H7a1 1 0 100 2h10a1 1 0 000-2zM17 15H7a1 1 0 100 2h10a1 1 0 000-2zM4.297 15.865v-.011a.7.7 0 00.422-.292.876.876 0 00.14-.495.865.865 0 00-.12-.457 1.171 1.171 0 00-.313-.336 1.398 1.398 0 00-.435-.206A1.783 1.783 0 003.508 14c-.207 0-.395.032-.564.096a1.22 1.22 0 00-.716.694 1.553 1.553 0 00-.113.541h.777c-.003-.198.048-.362.153-.492s.262-.196.468-.196c.149 0 .283.044.398.133a.448.448 0 01.171.38c0 .108-.028.196-.083.263a.541.541 0 01-.211.152.974.974 0 01-.28.064 2.221 2.221 0 01-.282 0v.548c.1 0 .204.003.312.01.112.005.21.025.303.06a.5.5 0 01.227.167c.06.077.089.19.089.336a.554.554 0 01-.19.443.693.693 0 01-.466.162.726.726 0 01-.307-.06.627.627 0 01-.215-.162.742.742 0 01-.133-.243 1.09 1.09 0 01-.051-.294h-.777c-.003.224.03.422.101.594a1.21 1.21 0 00.776.71c.186.063.392.094.618.094.197 0 .386-.028.564-.082.18-.056.34-.136.477-.242a1.15 1.15 0 00.455-.936c0-.22-.063-.41-.19-.567a.877.877 0 00-.522-.308zM3.44 10.964c.133-.101.27-.196.413-.283s.28-.177.42-.267c.14-.089.266-.19.374-.3.11-.109.2-.235.267-.377.067-.142.1-.312.1-.511 0-.19-.038-.362-.114-.516a1.166 1.166 0 00-.311-.385 1.36 1.36 0 00-.451-.24A1.711 1.711 0 003.599 8c-.248 0-.466.04-.658.12a1.27 1.27 0 00-.475.337 1.43 1.43 0 00-.282.504c-.064.192-.09.4-.083.626h.802c0-.107.01-.212.033-.319a.887.887 0 01.109-.29.566.566 0 01.513-.295c.18 0 .329.054.445.16.117.107.173.254.173.445a.59.59 0 01-.086.32c-.056.094-.127.177-.211.252s-.178.141-.28.204a16.85 16.85 0 00-.794.526c-.158.11-.298.232-.414.365a1.541 1.541 0 00-.28.45 1.54 1.54 0 00-.103.595h3.03v-.683H3.084c.103-.135.222-.252.355-.353zM3.118 6h.903V2h-.72a.794.794 0 01-.157.382.932.932 0 01-.297.25 1.315 1.315 0 01-.393.13A2.413 2.413 0 012 2.795v.61h1.118V6z"}),LIST_ORDERED_FLIPPED:a.createElement("path",{d:"M13 3H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 9H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM13 15H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1zM17.26 15.86v-.01c.19-.05.33-.15.42-.29.09-.14.14-.31.14-.49 0-.17-.04-.33-.12-.46-.08-.13-.19-.24-.31-.34-.13-.09-.27-.16-.44-.21-.16-.04-.32-.06-.48-.06-.21 0-.4.03-.56.1-.17.06-.31.16-.43.27-.12.12-.22.26-.28.42-.07.16-.11.34-.11.54h.78c0-.2.05-.36.15-.49s.26-.2.47-.2c.15 0 .28.04.4.13s.17.21.17.38c0 .11-.03.2-.08.26a.51.51 0 01-.21.15c-.09.03-.18.06-.28.06-.1.01-.19.01-.28 0v.55c.1 0 .2 0 .31.01.11.01.21.03.3.06s.17.09.23.17c.06.08.09.19.09.34 0 .19-.06.34-.19.44-.13.11-.28.16-.47.16-.12 0-.22-.02-.31-.06a.735.735 0 01-.22-.16.698.698 0 01-.13-.24.93.93 0 01-.05-.29h-.78c0 .22.03.42.1.59.07.17.17.32.3.44.13.12.29.21.47.27.19.06.39.09.62.09.2 0 .39-.03.56-.08.18-.06.34-.14.48-.24a1.196 1.196 0 00.46-.94c0-.22-.06-.41-.19-.57a1.03 1.03 0 00-.53-.3zM16.05 11.32c.1-.13.22-.25.35-.35.13-.1.27-.2.41-.28s.28-.18.42-.27c.14-.09.27-.19.37-.3.11-.11.2-.24.27-.38s.1-.31.1-.51c0-.19-.04-.36-.11-.52-.08-.15-.18-.28-.31-.39-.13-.11-.28-.19-.45-.24-.17-.05-.35-.08-.54-.08-.25 0-.47.04-.66.12-.19.08-.35.19-.48.34-.13.14-.22.31-.28.5-.06.19-.09.4-.08.63h.8c0-.11.01-.21.03-.32.02-.11.06-.2.11-.29.05-.09.12-.16.2-.21a.62.62 0 01.31-.08c.18 0 .33.05.45.16s.17.25.17.45c0 .12-.03.23-.09.32-.04.08-.11.17-.2.24s-.18.14-.28.2c-.1.06-.2.12-.29.18-.18.12-.34.23-.5.34-.16.11-.3.23-.41.37-.12.13-.21.28-.28.45-.07.17-.1.37-.1.59H18v-.68h-1.95zM16.08 6h.9V2h-.72c-.02.15-.08.28-.16.38-.08.1-.18.19-.3.25s-.25.11-.39.13c-.15.02-.3.04-.45.03v.61h1.12V6z"}),LIST_UNORDERED:a.createElement("path",{d:"M3 15c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm0-6c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1zm14 2H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1zm0 6H7c-.6 0-1-.4-1-1s.4-1 1-1h10c.6 0 1 .4 1 1s-.4 1-1 1z"}),LOCATION_MARKER:a.createElement("path",{d:"M10 10.004c-1.183 0-2.07-.883-2.07-2.06s.887-2.06 2.07-2.06 2.07.883 2.07 2.06-.985 2.06-2.07 2.06m0-9.006C6.155.998 3 4.18 3 8c0 3.232 4.732 8.87 6.211 10.633.493.49.986.49 1.479 0C12.169 16.968 17 11.33 17 8c0-3.82-3.155-6.996-7-6.996"}),LOCK:a.createElement("path",{d:"M10 10.1c-.4 0-.7.3-.7.7v2.7c0 .4.3.7.7.7s.7-.3.7-.7v-2.7c0-.4-.3-.7-.7-.7zm0-6c-2.6 0-2.7 2.7-2.7 2.7h5.3c.1 0 .1-2.7-2.6-2.7zm6 13.3H4c-.4 0-.7-.3-.7-.7V7.4c0-.4.3-.7.7-.7h2c0-2.2 1.8-4 4-4s4 1.8 4 4h2c.4 0 .7.3.7.7v9.3c0 .4-.3.7-.7.7z"}),MAGIC_QUILL:a.createElement("path",{d:"M1 17.928C1 8.57 8.707 1 18.182 1h1.014l-.214.99-.8-.172.8.173-.001.003-.001.005-.004.016a5.085 5.085 0 01-.063.257A15.943 15.943 0 0117.78 5.24c-.866 1.719-2.33 3.793-4.674 4.848l-.16.072h-1.86l1.403 1.572-.458.542-.625-.527.625.527v.001l-.003.003-.005.006-.017.02a5.51 5.51 0 01-.264.282c-.177.18-.434.424-.761.691-.65.53-1.598 1.17-2.764 1.558-.626.208-1.261.244-1.816.244H5.5a.818.818 0 110-1.636h.9c.5 0 .926-.036 1.3-.16.917-.305 1.692-.82 2.246-1.273.125-.103.238-.201.338-.292L8.58 9.811l-.046-.207.798-.18-.798.18v-.001L8.532 9.6l-.001-.003-.002-.008-.004-.02a1.01 1.01 0 01-.015-.232.877.877 0 01.13-.414c.146-.235.41-.4.718-.4h3.23c1.765-.854 2.96-2.491 3.73-4.019.344-.684.593-1.326.763-1.83-7.89.542-14.147 6.879-14.435 14.69h1.061V19H1v-1.072zM9.182 19H5.909v-1.636h3.273V19zM10.818 19h2.455v-1.636h-2.455V19zM14.91 14.91h-1.637l4.09-4.91v4.09H19L14.91 19v-4.09z"}),MAGIC_QUILL_FILLED:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.182 1C8.708 1 1 8.57 1 17.928V19H3.708v-1.636H2.647c.03-.813.124-1.61.279-2.386.726.042 1.557.08 2.384.08.061.014.125.021.19.021h.9c.556 0 1.191-.036 1.817-.244.128-.042.253-.088.376-.136.235-.076.443-.166.616-.273a9.41 9.41 0 001.772-1.149 9.693 9.693 0 00.968-.91 5.51 5.51 0 00.057-.063l.017-.02.005-.006.002-.002s.002-.002-.624-.529l.625.527.458-.542-.473-.53-1.14-1.277 2.119-.345.106-.017.098-.044c2.325-1.046 3.767-2.957 4.618-4.545.428-.8.717-1.535.899-2.072a11.45 11.45 0 00.26-.883l.003-.016v-.005l.001-.001s0-.002-.798-.179l.799.177L19.2 1h-1.02zM5.909 19h3.273v-1.636H5.909V19zm7.364 0h-2.455v-1.636h2.455V19zm0-4.09h1.636V19L19 14.09h-1.636V10l-4.091 4.91z"}),MAIL_OUTLINE:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.667 16.667a.833.833 0 01-.834-.834V4.167c0-.461.374-.834.834-.834h16.666c.46 0 .834.373.834.834v11.666c0 .461-.374.834-.834.834H1.667zM17.5 15V8.598L10 11.676 2.5 8.598V15h15zm-15-8.238V5h15v1.763L10 9.84 2.5 6.763z"}),MESSENGER:a.createElement("path",{d:"M10 2A8 8 0 1010 17.999 8 8 0 0010 2zm2.264 4.563a.922.922 0 110 1.844.922.922 0 010-1.844zm-4.553 0c.51 0 .922.424.922.948s-.413.947-.922.947c-.509 0-.922-.424-.922-.948s.413-.947.922-.947zm5.953 7.386c-.816.716-2.664 1.065-3.653 1.05-1.011.015-2.837-.334-3.653-1.05-1.241-1.09-1.376-2.949-1.376-3.362H15.04c0 .413-.135 2.273-1.376 3.362z"}),MINUS:a.createElement("path",{d:"M13.75 9.25h-7.5a.75.75 0 000 1.5h7.5a.75.75 0 000-1.5z"}),MIXED_CHECKBOX:a.createElement("g",null,a.createElement("path",{fill:"#188FFF",d:"M7 11h6a1 1 0 000-2H7a1 1 0 100 2z"}),a.createElement("path",{d:"M14.5 17h-9A2.503 2.503 0 013 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),MORE:a.createElement("g",null,a.createElement("circle",{cx:"3",cy:"10",r:"2"}),a.createElement("circle",{cx:"10",cy:"10",r:"2"}),a.createElement("circle",{cx:"17",cy:"10",r:"2"})),MOVE_TO_FOLDER:a.createElement("path",{d:"M17.25 5h-6.769l-.716-1.563A.75.75 0 009.083 3H2.75a.75.75 0 00-.75.75v12.5c0 .414.336.75.75.75h6.5v-6.19l-1.72 1.72a.75.75 0 11-1.06-1.06L10 7.94l3.53 3.53a.75.75 0 11-1.06 1.06l-1.72-1.72V17h6.5a.75.75 0 00.75-.75V5.75a.75.75 0 00-.75-.75z"}),NEWS:a.createElement("path",{d:"M8.5 9.8c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7zm6.6 0c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-3.6c-.4 0-.7.3-.7.7s.3.7.7.7h3.6zm0 2.9c.4 0 .7-.3.7-.7s-.3-.7-.7-.7H7.8c-.4 0-.7.3-.7.7s.3.7.7.7h7.3zM4.9 8.4H3.5v5.9c0 .4.3.7.7.7s.7-.3.7-.7V8.4zm10.2 8.1H4c-1.2 0-2-1-2-2.2V7.6c0-.4.3-.7.7-.7h2.2V4.7c0-.4.3-.7.7-.7h11.6c.5 0 .8.3.8.7v8.9c0 1.6-1.3 2.9-2.9 2.9z"}),NOTEPAD:a.createElement("g",null,a.createElement("path",{d:"M13 14.73V18l4-4h-3.111c-.66 0-.889.063-.889.73z"}),a.createElement("path",{d:"M16 2H4c-.667 0-1 .333-1 1v14c0 .626.305.946.892.985.053.01.096.015.108.015h7.51v-4.231c.018-.831.438-1.25 1.266-1.255H17V3c-.007-.667-.34-1-1-1zM9 14H6.889a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75H9c.43 0 .778.335.778.75S9.429 14 9 14zm4.111-3.5H6.89a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75h6.222c.43-.01.778.335.778.75s-.349.75-.778.75zm0-3.5H6.89a.764.764 0 01-.778-.75c0-.415.348-.75.778-.75h6.222c.43 0 .778.335.778.75S13.54 7 13.11 7z"})),NO_INTERNET:a.createElement("g",null,a.createElement("ellipse",{cx:"10",cy:"14.852",rx:"1.5",ry:"1.469"}),a.createElement("path",{d:"M19.268 7.865a13.142 13.142 0 00-.967-.884C15.971 5.06 13.021 4 9.995 4A13.086 13.086 0 00.754 7.831a.871.871 0 001.232 1.231A11.342 11.342 0 019.995 5.74a11.333 11.333 0 018.037 3.35.866.866 0 001.231.006.87.87 0 00.005-1.231z"}),a.createElement("path",{d:"M11 11.41V7.832c0-.507-.449-.917-1-.917-.553 0-1 .41-1 .917v3.577c0 .506.449.917 1 .917.551 0 1-.41 1-.916zM7.057 8.843a9.117 9.117 0 00-3.497 2.175.871.871 0 001.229 1.233c.279-.279.582-.535.9-.764a7.121 7.121 0 011.425-.782.276.276 0 00.171-.255V9.009a.174.174 0 00-.228-.166zM15.348 10.072a9.05 9.05 0 00-2.305-1.202.23.23 0 00-.301.218v1.365c0 .112.067.211.171.254.495.208.974.459 1.419.778.316.228.62.486.902.766a.872.872 0 001.227-1.236 9.526 9.526 0 00-1.113-.943z"})),NONE_BELL:a.createElement("g",null,a.createElement("path",{d:"M16.065 13.117a8.454 8.454 0 01-.429-2.654v-2.77c0-2.626-1.69-4.918-4.063-5.708v-.001a6.27 6.27 0 00-.566-.149v-.17a1.249 1.249 0 10-2.5 0v.17a6.643 6.643 0 00-.567.149v.001a5.854 5.854 0 00-1.922 1.087l10.045 10.045h.002zM9.758 19.583c1.035 0 1.875-.84 1.875-1.875h-3.75c0 1.035.84 1.875 1.875 1.875z"}),a.createElement("path",{d:"M18.504 17.914l.003.001L2.674 2.083a.835.835 0 00-1.179 1.179l2.652 2.652a6.036 6.036 0 00-.27 1.78v2.769a8.467 8.467 0 01-1.57 4.912c-.299.467-.565.689-.654.92-.079.209.049.575.35.575v.004h13.103l2.22 2.22a.83.83 0 001.178 0 .836.836 0 000-1.18z"})),ORB:a.createElement("path",{d:"M.759 14.462c.506 1.253 1.211 2.291 2.116 3.11a8.666 8.666 0 003.182 1.819c1.219.393 2.538.59 3.961.59 1.399 0 2.707-.198 3.923-.59a8.707 8.707 0 003.184-1.819c.906-.817 1.61-1.856 2.116-3.11C19.747 13.207 20 11.72 20 10c0-1.721-.253-3.208-.759-4.462-.506-1.255-1.211-2.291-2.116-3.108A8.596 8.596 0 0013.941.61C12.725.216 11.416.019 10.018.019c-1.423 0-2.741.197-3.961.591a9.153 9.153 0 00-3.182 1.82c-.912.809-1.61 1.854-2.116 3.108C.253 6.793 0 8.279 0 10c0 1.72.253 3.207.759 4.462z"}),OUTDENT:a.createElement("path",{d:"M5 5h12c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM17 7h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 11h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM17 15h-6c-.6 0-1 .4-1 1s.4 1 1 1h6c.6 0 1-.4 1-1s-.4-1-1-1zM8.2 10H5.5l.8-.8c.4-.4.4-1 0-1.4s-1-.4-1.4 0L1.6 11l3.2 3.2c.4.4 1 .4 1.4 0s.4-1 0-1.4l-.7-.8h2.8c.6 0 1-.4 1-1-.1-.6-.5-1-1.1-1z"}),PACKAGE:a.createElement("path",{d:"M.833 5.167a1 1 0 011-1H11.5a1 1 0 011 1v1.5h3.126a.5.5 0 01.354.146l3.04 3.04a.5.5 0 01.147.354v4.626a1 1 0 01-1 1h-.393a2.5 2.5 0 10-4.716 0h-1.391v-.013c-.055.009-.11.013-.167.013H7.358a2.5 2.5 0 10-4.715 0h-.81a1 1 0 01-1-1V5.167zm14.454 3.166H12.5V10h4.454l-1.667-1.667zM6.667 15a1.667 1.667 0 11-3.334 0 1.667 1.667 0 013.334 0zm8.75 1.667a1.667 1.667 0 100-3.334 1.667 1.667 0 000 3.334z"}),PEOPLE:a.createElement("path",{d:"M5.5 10.601c1.641 0 3.078.827 3.863 2.061.359.564-.031 1.317-.684 1.317H2.321c-.653 0-1.043-.753-.684-1.317.785-1.234 2.222-2.061 3.863-2.061zm8.5 2.024c1.641 0 3.078.827 3.863 2.061.359.564-.031 1.317-.684 1.317h-6.358c-.653 0-1.043-.753-.684-1.317.785-1.234 2.222-2.061 3.863-2.061zM5.5 9a2.5 2.5 0 110-5 2.5 2.5 0 010 5zm8.5 2a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"}),PHONE:a.createElement("path",{d:"M18.8 16.5c.3-.4.3-.9-.1-1.2L14.2 12c-.2-.2-.5-.2-.8-.1l-3.1 1c-.6-.5-1.2-1-1.8-1.6-.4-.5-1-1.1-1.5-1.7l1-3.1c.2-.3.1-.5 0-.8L4.7 1.3c-.3-.4-.8-.4-1.2-.1L1.6 3.1C-.1 4.7 2 9.5 6.3 13.7c4.2 4.2 9 6.4 10.6 4.7l1.9-1.9z"}),POP_OUT:a.createElement("g",null,a.createElement("path",{d:"M15.4 16.4H3.6V4.6H11V3H2.8c-.4 0-.8.4-.8.8v13.4c0 .4.4.8.8.8h13.4c.5 0 .8-.4.8-.8V9.5h-1.6v6.9z"}),a.createElement("path",{d:"M17.3 2h-4.2c-.2 0-.4.3-.4.6s.2.4.2.4l1.6 1-3.2 3.2c-.2.2-.2.5 0 .7l1 1c.2.2.5.2.7 0l3.2-3.2 1 1.6s.1.2.4.2.5-.3.5-.6V2.7c-.1-.4-.3-.7-.8-.7z"})),PRINTER:a.createElement("g",null,a.createElement("path",{d:"M13.8 13.5H6.2c-.4 0-.7.3-.7.7v2.6c0 .4.3.7.7.7h7.6c.4 0 .7-.3.7-.7v-2.6c0-.4-.3-.7-.7-.7zM15.5 3.2c0-.4-.3-.7-.7-.7H5.2c-.4 0-.7.3-.7.7v3.3h11V3.2z"}),a.createElement("path",{d:"M17.3 8H2.7c-.4 0-.7.3-.7.7v6.6c0 .4.3.7.7.7h.6c.4 0 .7-.3.7-.7v-2.6c0-.4.3-.7.7-.7h10.6c.4 0 .7.3.7.7v2.6c0 .4.3.7.6.7h.7c.4 0 .7-.3.7-.7V8.7c0-.4-.3-.7-.7-.7zM15 11c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})),READ:a.createElement("path",{d:"M10 2c-4.41 0-8 3.58-8 8s3.59 8 8 8 8-3.58 8-8-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.46 6-6 6"}),RECEIPTS:a.createElement("path",{fillRule:"evenodd",d:"M3 1.5c-.412 0-.75.35-.75.776v14.211c0 .446.362.76.753.76a.732.732 0 00.405-.123l1.741-1.3 1.444 1.268a.74.74 0 00.894.017L9 15.826l1.514 1.283a.746.746 0 00.895-.017l1.44-1.268 1.745 1.3c.13.085.269.123.405.123.39 0 .752-.314.752-.759V2.276c0-.427-.338-.776-.75-.776H3zm3 9a.758.758 0 00-.75.767c0 .424.335.766.75.766h3c.415 0 .75-.342.75-.766A.758.758 0 009 10.5H6zm-.75-2.233c0-.424.335-.767.75-.767h3c.415 0 .75.343.75.767a.758.758 0 01-.75.766H6a.758.758 0 01-.75-.766zM6 4.5a.758.758 0 00-.75.767c0 .424.335.766.75.766h3c.415 0 .75-.342.75-.766A.758.758 0 009 4.5H6zm4.5 6.767c0-.424.335-.767.75-.767H12c.415 0 .75.343.75.767a.758.758 0 01-.75.766h-.75a.758.758 0 01-.75-.766zm.75-3.767a.758.758 0 00-.75.767c0 .424.335.766.75.766H12c.415 0 .75-.342.75-.766A.758.758 0 0012 7.5h-.75zm-.75-2.235c0-.423.335-.765.75-.765H12c.415 0 .75.342.75.765a.757.757 0 01-.75.765h-.75a.757.757 0 01-.75-.765z"}),REFRESH:a.createElement("path",{d:"M16 10.3c0-1.4-.5-2.7-1.3-3.7l-1.1 1.1c.5.7.9 1.7.9 2.7 0 2.5-2 4.5-4.4 4.5H9l1-.8c.3-.3.4-.8.1-1.1-.3-.4-.9-.4-1.2-.1L6.5 15c-.3.3-.3.8 0 1.1l2.4 2.2c.3.3.9.3 1.2-.1.3-.3.2-.8-.1-1.1l-1-.8h1c3.3 0 6-2.7 6-6zM5.5 10.3c0-2.5 2-4.5 4.5-4.5h1.1l-1 .8c-.3.3-.3.8-.1 1.1.3.4.9.4 1.2.1l2.4-2.2c.3-.3.3-.8 0-1.1l-2.4-2.2c-.3-.3-.9-.3-1.2.1-.3.3-.2.8.1 1.1l1 .8H10c-3.3 0-6 2.7-6 6 0 1.4.5 2.6 1.2 3.7l1.1-1.1c-.5-.8-.8-1.7-.8-2.6z"}),REPLY:a.createElement("path",{d:"M8.711 15.946a.775.775 0 001.28-.587l-.001-2.621c5.049 0 6.858 3.584 7.02 4.204.352.797 1.535.594 1.481-.262-.422-6.662-3.91-10.728-8.501-10.728l.001-2.418a.774.774 0 00-1.278-.588l-6.951 6.02a.773.773 0 00.01 1.18l6.94 5.8z"}),REPLY_ALL:a.createElement("g",null,a.createElement("path",{d:"M2.044 9.406l5.86-5.045a.811.811 0 000-1.16.84.84 0 00-1.179 0L.244 8.78a.812.812 0 000 1.16l6.507 6.42c.325.32.853.32 1.178 0a.811.811 0 000-1.16L2.044 9.407z"}),a.createElement("path",{d:"M12.725 6.617V3.891c0-1.06-1.123-1.11-1.576-.695L4.805 9.141a.75.75 0 00.014 1.144l6.389 6.101c.631.524 1.526.16 1.526-.563l-.01-2.85c3.417 0 5.686 3.154 5.708 3.2.221.314.47.432.704.432.463 0 .864-.463.864-.772 0-7.27-4.439-9.216-7.275-9.216z"})),RESTORE_TO_INBOX:a.createElement("g",null,a.createElement("path",{d:"M18 4.174v-.393a.738.738 0 00-.727-.75H2.727a.738.738 0 00-.727.75v.393l8 3.782 8-3.782z"}),a.createElement("path",{d:"M8.267 13.468l6.194-4.955c.402-.3 1.057-.073 1.057.528v1.967H18V5.824l-8 3.707-8-3.706v8.456c0 .415.325.75.728.75h6.17l-.631-.507c-.39-.292-.31-.823 0-1.056z"}),a.createElement("path",{d:"M19.678 12.509h-5.641v-.983c0-.3-.327-.414-.528-.264l-3.096 2.476c-.154.116-.194.382 0 .528l3.096 2.487a.33.33 0 00.528-.264v-.996h5.641a.336.336 0 00.326-.34v-2.306a.334.334 0 00-.326-.338z"})),RICHTEXT_OFF:a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792a1.003 1.003 0 00.77 1.186 1.003 1.003 0 001.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm3.854 12.147c.195.195.195.513 0 .707s-.512.195-.707 0l-1.897-1.897-1.897 1.897a.502.502 0 01-.707 0 .502.502 0 010-.707l1.897-1.897-1.897-1.897c-.195-.195-.195-.513 0-.707s.512-.195.707 0l1.897 1.897 1.897-1.897c.195-.195.513-.195.707 0s.195.512 0 .707l-1.897 1.897 1.897 1.897z"}),RICHTEXT_ON:a.createElement("path",{d:"M13 3H4c-.55 0-1 .45-1 1s.45 1 1 1h3.34l-1.868 8.792a1.003 1.003 0 00.77 1.186 1.003 1.003 0 001.186-.77L9.385 5H13c.55 0 1-.45 1-1s-.45-1-1-1zm5 9.5c0 .275-.225.5-.5.5H15v2.5c0 .275-.225.5-.5.5s-.5-.225-.5-.5V13h-2.5a.501.501 0 01-.5-.5c0-.275.225-.5.5-.5H14V9.5c0-.275.225-.5.5-.5s.5.225.5.5V12h2.5c.275 0 .5.225.5.5z"}),SCISSORS:a.createElement("g",null,a.createElement("path",{d:"M12.5 7.4l4.8-4.7c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L11 6l1.5 1.4z"}),a.createElement("path",{d:"M7.9 6c.4-.6.6-1.3.6-2 0-2.2-1.8-4-4-4s-4 1.8-4 4 1.8 4 4 4c.7 0 1.4-.2 2-.6L8.1 9l-1.6 1.6c-.6-.4-1.3-.6-2-.6-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4c0-.7-.2-1.4-.6-2l1.6-1.6 6.3 6.3c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4L7.9 6zM2.5 4c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm2 12c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})),SEARCH:a.createElement("path",{d:"M17.5 16.5l-4.8-4.8c.8-1 1.3-2.3 1.3-3.7 0-3.3-2.7-6-6-6S2 4.7 2 8s2.7 6 6 6c1.4 0 2.7-.5 3.7-1.3l4.8 4.8c.1.1.3.2.5.2s.4-.1.5-.2c.3-.3.3-.7 0-1zm-9.5-4c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"}),SEARCH_MAIL:a.createElement("g",null,a.createElement("path",{d:"M17.81 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04a3.03 3.03 0 00-3.03 3.04 3.039 3.039 0 004.69 2.55l1.59 1.59c.25.25.65.25.9 0 .25-.24.25-.65 0-.9zM13.68 15c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76S14.65 15 13.68 15zM16 4.5V4c0-.6-.37-1-.99-1h-12C2.41 3 2 3.41 2 4v.5S8.99 7 9 7l7-2.5z"}),a.createElement("path",{d:"M13.67 8.95c.86 0 1.66.26 2.33.7V6L9 8.5C8.99 8.5 2 6 2 6c-.01-.01 0 6.75 0 6.75 0 .6.39 1.25 1 1.25h6.46c-.04-.25-.08-.5-.08-.76a4.296 4.296 0 014.29-4.29z"})),SEARCH_MINI:a.createElement("path",{d:"M15.26 14.108l-2.467-2.466c.513-.737.818-1.63.818-2.596a4.555 4.555 0 10-4.556 4.556 4.53 4.53 0 002.576-.802l2.468 2.468a.818.818 0 001.16 0 .82.82 0 000-1.16zm-6.205-2a3.06 3.06 0 110-6.122 3.06 3.06 0 010 6.122z"}),SEARCH_WEB:a.createElement("g",null,a.createElement("path",{d:"M9.3 16.44c-.95-.46-1.74-1.83-2.14-3.66h1.48c.05-.49.19-.96.38-1.39H6.94c-.05-.45-.07-.91-.07-1.39s.03-.94.07-1.39H9.3v2.25c.36-.58.83-1.08 1.39-1.45v-.8h5.77c.09.44.14.89.15 1.36v.51c0 .38.31.7.7.7.38 0 .7-.31.7-.7v-.51a7.999 7.999 0 00-8.53-7.95C5.56 2.27 2.36 5.4 2.03 9.3c-.38 4.5 2.95 8.3 7.27 8.67.08.01.2.01.32.02.24.01.46-.11.59-.31.2-.33.08-.77-.28-.93l-.63-.31zm6.69-9.22h-1.76c-.24-1.18-.64-2.22-1.14-3.06 1.27.67 2.29 1.75 2.9 3.06zM10.7 3.56c.95.46 1.74 1.83 2.14 3.66H10.7V3.56zm-1.4 0v3.66H7.16c.41-1.83 1.19-3.21 2.14-3.66zm-2.39.6c-.51.84-.9 1.88-1.14 3.06H4.01a6.617 6.617 0 012.9-3.06zM3.39 10c0-.48.05-.94.15-1.39h2.01c-.04.45-.07.91-.07 1.39 0 .48.03.94.07 1.39H3.54c-.1-.45-.15-.91-.15-1.39zm.62 2.78h1.76c.24 1.17.63 2.22 1.14 3.06a6.617 6.617 0 01-2.9-3.06z"}),a.createElement("path",{d:"M17 16.47l-1.59-1.59c.31-.48.49-1.04.49-1.65 0-1.68-1.37-3.04-3.05-3.04a3.03 3.03 0 00-3.03 3.04 3.039 3.039 0 004.69 2.55l1.59 1.59c.25.25.65.25.9 0 .24-.25.24-.65 0-.9m-4.14-1.48c-.97 0-1.76-.79-1.76-1.76s.79-1.76 1.76-1.76 1.76.79 1.76 1.76-.79 1.76-1.76 1.76"})),SELECTED:a.createElement("g",null,a.createElement("path",{d:"M10.831 16.338a1.362 1.362 0 01-1.677 0L0 9.4v9.585C0 19.585.431 20 1.077 20h17.846c.631 0 1.077-.415 1.077-1.015v-9.6l-9.169 6.953z"}),a.createElement("path",{d:"M.369 8.985l9.169 6.8a.692.692 0 00.831 0l9.262-6.8a.346.346 0 000-.554l-8.923-8.2c-.415-.308-1-.308-1.415 0L.37 8.431a.346.346 0 00-.001.554z"})),SENT:a.createElement("path",{d:"M17.6 9.3L3 2.8c-.5-.2-1.1.2-1 .7l1.4 5L9.2 10l-5.8 1.5L2 16.3c-.2.6.4 1.1 1 .9l14.5-6.5c.6-.3.6-1.1.1-1.4z"}),SETTINGS:a.createElement("path",{d:"M10.025 13.157c-1.747 0-3.167-1.416-3.167-3.157s1.421-3.157 3.167-3.157A3.167 3.167 0 0113.193 10a3.166 3.166 0 01-3.168 3.157m8.659-4.619c-.022-.006-.083-.022-1.343-.222l-1.019-.168a.081.081 0 01-.065-.057l-.005-.019-.008-.018-.038-.093c-.089-.216-.302-.733-.405-.974l-.007-.016-.009-.016a.081.081 0 01.006-.086l1.373-1.909a.482.482 0 00-.032-.603c-.027-.028-.505-.505-1.429-1.425a.475.475 0 00-.34-.14c-.1 0-.197.03-.279.089l-1.919 1.371a.089.089 0 01-.049.015c-.023-.003-.031-.005-.037-.009l-.018-.009-.019-.009-1.065-.44c-.088-.036-.092-.057-.095-.078l-.384-2.32c-.036-.234-.28-.402-.476-.402H9.027a.48.48 0 00-.477.408l-.381 2.307a.155.155 0 01-.044.063c-.139.065-.794.33-1.081.447l-.035.015-.021.008-.019.01a.078.078 0 01-.037.009.075.075 0 01-.046-.015l-.101-.072C4.982 2.888 4.958 2.874 4.937 2.862a.504.504 0 00-.576.059l.001.001c-.046.043-.17.166-.58.573l-.846.844-.011.011-.011.012a.48.48 0 00-.055.557l.002-.002c.081.14.353.515 1.399 1.955a.08.08 0 01.005.084l-.009.016-.007.017-.042.098c-.134.317-.254.599-.404.974l-.006.015-.005.015a.084.084 0 01-.066.058l-2.325.382a.477.477 0 00-.404.475v1.988c0 .237.177.441.412.476l2.317.381a.084.084 0 01.066.057l.004.014.005.014c.17.431.292.74.452 1.086l.005.011.005.01a.083.083 0 01-.007.088l-1.373 1.908-.077.168a.484.484 0 00.13.456l.089.087 1.32 1.316a.479.479 0 00.626.048l1.889-1.35a.176.176 0 01.066-.023c.011 0 .036.002.086.02l.049.021c.374.16.643.276 1.021.421l.013.005.013.004c.03.009.052.035.058.065l.384 2.318c.028.209.252.405.478.405h.41v-.001h1.584a.48.48 0 00.477-.407l.379-2.286c.02-.06.047-.094.214-.153.353-.139.62-.246.962-.399a.21.21 0 01.07-.016c.007 0 .022 0 .053.018l1.902 1.358.016.012.019.011a.483.483 0 00.565-.048l.013-.011.012-.012.705-.703c.56-.563.704-.708.754-.77l.001.001a.459.459 0 00.049-.469l-.011-.025h-.001c-.058-.108-.199-.3-.548-.773l-.86-1.197a.085.085 0 01-.006-.087l.009-.017.007-.018.434-1.047c.047-.086.066-.101.108-.114 2.255-.362 2.333-.387 2.367-.397l.012-.004.012-.005a.5.5 0 00.317-.449V9.006a.478.478 0 00-.369-.468"}),SHARE_SOCIAL:a.createElement("path",{d:"M13.2 12.1c-.6 0-1.2.2-1.7.6l-2.3-1.6c.1-.3.2-.7.2-1.1s-.1-.7-.2-1.1l2.3-1.6c.5.3 1.1.6 1.7.6 1.6 0 2.9-1.3 2.9-2.9s-1.3-3-2.9-3-2.9 1.3-2.9 2.9c0 .4.1.7.2 1.1L8.2 7.6c-.5-.3-1.1-.5-1.8-.5-1.6 0-2.9 1.3-2.9 2.9s1.3 2.9 2.9 2.9c.6 0 1.2-.2 1.7-.6l2.3 1.6c-.1.3-.2.7-.2 1.1 0 1.6 1.3 2.9 2.9 2.9S16 16.6 16 15s-1.2-2.9-2.8-2.9z"}),SHOPPING:a.createElement("path",{d:"M16.8 7h-3.4v-.7C13.4 4.5 11.9 3 10 3S6.6 4.5 6.6 6.3V7H3.2c-.5 0-.8.4-.7.8l1.9 8.7c.1.3.4.5.7.5H15c.3 0 .6-.2.7-.5l1.8-8.7c0-.1 0-.8-.7-.8zM12 7H8v-.7c0-1.1.9-2 2-2s2 .9 2 2V7z"}),SHOPPING_OUTLINE:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.332 7.014C19.35 6.932 19.334 6 18.5 6h-4.166l.018-.833a4.166 4.166 0 10-8.333 0L6 6H1.834a.833.833 0 00-.814 1.014l2.32 10.823c.081.386.421.663.815.663H16.23a.833.833 0 00.815-.663l2.287-10.823zm-4.998.653v2.5h-1.667v-2.5h-5v2.5H6l.04-2.5H2.86l2.042 9.166H15.51l2.043-9.166h-3.22zm-4.128-5.085c1.38 0 2.46 1.204 2.46 2.585V6h-5v-.833c0-1.381 1.16-2.584 2.54-2.584z"}),SPAM:a.createElement("path",{d:"M12.839 11.699a.807.807 0 01-1.141 1.141l-1.699-1.699-1.698 1.699a.807.807 0 01-1.141-1.141L8.859 10 7.136 8.276a.807.807 0 011.141-1.141l1.724 1.724 1.724-1.724a.807.807 0 011.141 1.141L11.141 10l1.699 1.699h-.001zm4.182-7.026c-1.297-.09-3.868-.599-6.513-2.977a.757.757 0 00-1.017 0C6.846 4.074 4.275 4.583 2.978 4.673c-.411.029-.706.379-.707.791 0 9.374 6.278 12.533 7.461 12.986a.744.744 0 00.535.003c1.182-.438 7.46-3.578 7.46-12.991.001-.411-.295-.761-.706-.79v.001z"}),SPELL_CHECK:a.createElement("path",{d:"M17.795 8.977a.875.875 0 011.235 0l.073.083a.872.872 0 01-.073 1.152l-6.393 6.378a.876.876 0 01-1.237 0l-3.491-3.486a.871.871 0 010-1.233.875.875 0 011.235 0l2.876 2.87zm-4.15-3.928c.818 0 1.502.307 1.848.898.201.343-.067.776-.464.776a.421.421 0 01-.39-.272c-.153-.388-.504-.596-.985-.596-.812 0-1.272.664-1.272 1.681 0 .947.448 1.584 1.227 1.584.513 0 .874-.294 1.032-.764a.42.42 0 01.396-.292l.073.005a.52.52 0 01.41.721c-.328.728-.968 1.135-1.911 1.135-1.465 0-2.245-1.051-2.245-2.389 0-1.323.708-2.487 2.28-2.487zM6.659 3.411a.509.509 0 01.502.426l.007.083v1.852s.48-.726 1.396-.726c1.813 0 2.165 1.641 2.165 2.462 0 1.544-.884 2.417-1.995 2.417-.641 0-1.232-.164-1.54-.651l-.062-.109h-.018v.217c0 .231-.247.417-.481.417-.21 0-.436-.15-.479-.35l-.007-.068V3.92a.509.509 0 01.427-.502l.083-.007h.002zm-3.49 1.637c1.034 0 1.504.431 1.691.721.086.135.138.295.154.48l.007.142v2.38c0 .125.029.209.048.269.014.048.07.071.137.08a.348.348 0 01.3.275l.006.063v.081a.34.34 0 01-.27.335 2.055 2.055 0 01-.373.051c-.446 0-.74-.192-.788-.564-.247.277-.937.564-1.602.564-1.071 0-1.583-.642-1.583-1.351 0-.959.671-1.217 1.141-1.337a5.591 5.591 0 01.663-.1l.309-.037c.411-.053.801-.125.943-.284a.505.505 0 00.112-.336c.008-.364-.281-.626-.957-.626-.484 0-.806.175-.946.463a.456.456 0 01-.317.263l-.073.007h-.199a.421.421 0 01-.377-.601c.269-.573.95-.938 1.974-.938zM4 7.483c-.811.448-2.084-.02-2.084 1.046 0 .401.476.592.939.592.679 0 1.091-.378 1.141-.794l.005-.083v-.761zm4.428-1.628c-.794 0-1.298.569-1.298 1.637 0 1.096.607 1.629 1.298 1.629.671 0 1.084-.476 1.212-1.035.046-.193.067-.392.067-.594 0-.936-.512-1.637-1.279-1.637z"}),SPONSORED:a.createElement("path",{d:"M5.4 4.3c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm-.5 9.8l-.5.5c-.3.3-.3.7 0 1s.7.3 1 0l.5-.5c.3-.3.3-.7 0-1s-.8-.3-1 0zm10.2 0c-.3-.3-.7-.3-1 0s-.3.7 0 1l.5.5c.3.3.7.3 1 0s.3-.7 0-1l-.5-.5zm0-8.2l.5-.5c.3-.3.3-.7 0-1s-.7-.3-1 0l-.5.5c-.3.3-.3.7 0 1 .3.3.8.3 1 0zm2.2 3.4h-.7c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.3-.7-.7-.7zM8.5 7.8h3.6c.4 0 .7-.3.7-.7s-.3-.7-.7-.7h-1.5c0-.4-.3-.7-.7-.7s-.6.3-.6.7H8.2c-1 0-1.8.8-1.8 1.8v.7c0 1 .8 1.8 1.8 1.8h2.5c.4 0 .7.3.7.7s-.3.7-.7.7H7.1c-.4 0-.7.3-.7.7s.3.7.7.7h2.2c0 .4.3.7.7.7s.7-.3.7-.7h.4c1 0 1.8-.8 1.8-1.8V11c0-1-1-1.8-2.2-1.8H8.5c-.4 0-.7-.3-.7-.7s.3-.7.7-.7zM10 4.2c.4 0 .7-.3.7-.7v-.8c0-.4-.3-.7-.7-.7s-.7.3-.7.7v.7c0 .5.3.8.7.8zM3.5 9.3h-.8c-.4 0-.7.3-.7.7s.3.7.7.7h.7c.4 0 .7-.3.7-.7s-.2-.7-.6-.7zm6.5 6.5c-.4 0-.7.3-.7.7v.7c0 .4.3.7.7.7s.7-.3.7-.7v-.7c0-.4-.3-.7-.7-.7z"}),STAR:a.createElement("path",{d:"M15.718 8.35a.501.501 0 00-.47-.35h-3.656l-1.13-3.475a.494.494 0 00-.94 0L8.393 8H4.736a.501.501 0 00-.29.902l2.958 2.152-1.13 3.482a.495.495 0 00.76.553l2.958-2.152 2.958 2.152a.493.493 0 00.76-.553l-1.13-3.482 2.959-2.152a.495.495 0 00.18-.553z"}),STATIONERY:a.createElement("g",null,a.createElement("path",{d:"M17.007 3H16V.78c0-.562-.43-.922-.961-.78L2 3v14c0 .548.451 1 1 1h14.007A1 1 0 0018 17V4a1 1 0 00-.993-1zM14.5 1.5V3H8l6.5-1.5zm2 15h-13v-12h13v12z"}),a.createElement("path",{d:"M10 14.5l3.397-3.426a2.11 2.11 0 000-2.954 2.07 2.07 0 00-1.482-.62c-.594 0-1.112.154-1.915 1.058C9.187 7.643 8.67 7.5 8.086 7.5c-.561 0-1.087.22-1.482.62a2.109 2.109 0 000 2.955L10 14.5z"})),STRIKETHROUGH:a.createElement("path",{d:"M8.5 7.5c-.3-.3-.8-.7-.8-1.7 0-1.2.9-2.3 2.8-2.3 1.5 0 2.3 1.1 2.7 2.1.2.4.7.7 1.3.4.5-.2.5-.8.3-1.1-.6-1.2-1.3-2.9-4.3-2.9C7.4 2 6 3.9 6 5.8c0 .9.2 1.2.5 1.7h2zM16.2 9H3.8c-.5 0-.8.3-.8.7s.3.8.8.8H10c2 .4 2.9 1.3 2.9 2.8 0 1.6-1 2.7-2.9 2.7s-2.6-.9-3-2c-.1-.4-.6-.8-1.1-.6-.3.1-.7.5-.6 1 .4 1.4 1.7 3.1 4.7 3.1s4.5-1.9 4.5-4.3c0-1.3-.4-2-1-2.7h2.7c.4 0 .8-.4.8-.8s-.3-.7-.8-.7z"}),TAB_IMAGES:a.createElement("path",{d:"M3.459 14.636l3.634-5.814 1.379 2.206-1.258 1.824c-.227.329-.11.759.259.959.334.182.75.105.996-.15l3.711-5.567 4.361 6.541H3.459v.001zM17.273 3H2.728A.728.728 0 002 3.727v12.356c0 .401.326.726.728.726h14.546a.727.727 0 00.727-.726V3.727A.73.73 0 0017.273 3z"}),TEXT:a.createElement("path",{d:"M11.1 17c.5 0 .7-.2.8-.6l1.1-2.8h4.2l1.1 2.8c.2.5.6.6 1.1.5.4-.1.6-.7.4-1L16 6.1c-.2-.3-.5-.6-.9-.6s-.7.3-.9.6l-3.1 8L7 3.7c-.2-.4-.5-.7-1-.7-.6 0-.9.4-1.1.8l-4.7 12s-.3.8.4 1.1c.4.2.9 0 1.1-.5L3 12.9h5.9l1.4 3.5s.2.6.8.6zm-7.6-5.4L6 5.2l2.5 6.4h-5zm10 .8L15.2 8l1.7 4.4h-3.4z"}),TEXT_COLOR:a.createElement("g",null,a.createElement("circle",{fill:"#30D3B6",cx:"5.5",cy:"14",r:"4"}),a.createElement("circle",{fill:"#FFD333",cx:"9.5",cy:"6",r:"4"}),a.createElement("circle",{fill:"#FF333A",cx:"14.5",cy:"14",r:"4"}),a.createElement("path",{d:"M15.9 4"})),TEXT_HIGHLIGHT:a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.333 1.667H1.667a.836.836 0 00-.834.833v15c0 .46.374.833.834.833h16.666a.836.836 0 00.834-.833v-15a.834.834 0 00-.834-.833zm-.833 15h-15V3.363h15v13.304zM5.294 15.342a.832.832 0 001.11-.396l1.201-2.517h4.748l1.243 2.517a.833.833 0 101.506-.713l-4.358-9.18a.83.83 0 00-.751-.483h-.004a.833.833 0 00-.754.477l-4.337 9.185a.834.834 0 00.396 1.11zM9.98 7.296l1.604 3.466H8.338L9.98 7.296z"}),TRAVEL:a.createElement("path",{d:"M6 7.59c-.1-.1-.059-.1-.3-.1H2.464c-.1 0-.293-.024-.393.076-.115.115-.061.213.04.424L4.2 11.8c.082.124.2.2.3.2h4.6l-2.331 2.333c-.239.226-.238.46-.158.54.1.1.132.129.289.129H11c.1 0 .096-.004.2-.1l3-2.902h2.088c.9 0 2.182-.359 2.182-1.8 0-1.176-1.182-1.7-2.182-1.7H6.7M9.712 8h3.7L10.6 5.1c-.1-.1-.2-.1-.3-.1H7.7c-.2 0-.294.07-.339.18-.042.232.035.295.139.42L9.712 8z"}),TRUSTED:a.createElement("path",{d:"M17 4.7c-1.3-.1-3.9-.6-6.5-3-.1-.1-.3-.2-.5-.2s-.4.1-.5.2C6.8 4.1 4.3 4.6 3 4.7c-.4 0-.7.4-.7.8 0 9.4 6.3 12.5 7.5 13h.6c1.2-.4 7.5-3.6 7.5-13-.2-.4-.5-.8-.9-.8zm-2.4 2.6c.3.3.3.8 0 1.1l-5 5c-.3.3-.8.3-1.1 0l-2.2-2.1c-.3-.3-.3-.8 0-1.1s.8-.3 1.1 0L9 11.8l4.5-4.5c.4-.3.9-.3 1.1 0z"}),TUMBLR:a.createElement("path",{d:"M11.84 17.95h-.12c-3.76 0-4.58-2.77-4.58-4.38V9.08H5.65c-.17 0-.31-.14-.31-.31V6.65c0-.22.14-.42.35-.5 1.93-.68 2.54-2.37 2.63-3.65.02-.33.2-.5.5-.5h2.21c.17 0 .31.14.31.31V5.9h2.59c.17 0 .31.14.31.31v2.54c0 .17-.14.31-.31.31h-2.6v4.15c0 1.04.69 1.33 1.11 1.33.41-.01.81-.13 1.01-.21.15-.06.28-.1.4-.07.11.03.18.1.23.25l.69 2c.06.16.1.33-.01.46-.55.57-1.8.96-2.92.98z"}),UNDERLINE:a.createElement("path",{d:"M15.79 17.5H4.58a.748.748 0 01-.747-.747c0-.413.335-.753.747-.753H15.79c.412 0 .747.34.747.753a.748.748 0 01-.747.747zM14 2.823v6.459c0 1.905-1.85 3.736-3.755 3.736-2.112 0-3.71-1.603-3.71-3.736V2.823a.76.76 0 00-.76-.76c-.42 0-.775.34-.775.76v6.459c0 2.844 2.4 5.23 5.245 5.23h-.06c2.845 0 5.315-2.386 5.315-5.23V2.81c0-.42-.352-.747-.772-.747s-.728.34-.728.76z"}),VIDEO_CALL:a.createElement("path",{d:"M18.4 5.1c-.1 0-.3 0-.4.1l-2.3 1.5V5.2c0-.9-.7-1.5-1.5-1.5H2.3c-.9 0-1.5.7-1.5 1.5v9.5c0 .9.7 1.5 1.5 1.5h11.8c.9 0 1.5-.7 1.5-1.5v-1.5l2.3 1.5c.1.1.3.1.4.1.5 0 .9-.4.9-.9V6c.1-.5-.3-.9-.8-.9z"}),YBANG:a.createElement("g",null,a.createElement("circle",{cx:"10",cy:"10",r:"7"}),a.createElement("path",{fill:"#FFF",d:"M7.115 7.813L8.27 10.62l1.165-2.809h1.877l-2.861 6.563H6.563l.773-1.738-2.149-4.825h1.928zm4.586 2.57c.673 0 1.172.484 1.172 1.09 0 .616-.52 1.128-1.213 1.128-.673 0-1.173-.493-1.173-1.09 0-.606.52-1.127 1.214-1.127zm3.497-4.717l-1.917 4.3h-2.14l1.916-4.3h2.14z"})),TAP_TO_TOP:a.createElement("path",{d:"M14.4 9.7L11 6.4V19H9V6.4L5.6 9.8c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L10 3l5.7 5.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.3 0M3.3 1h13.4c.7 0 1.3.4 1.3 1 0 .5-.6 1-1.3 1H3.3C2.6 3 2 2.5 2 2c0-.6.6-1 1.3-1"}),SIDEBAR:a.createElement("path",{d:"M17.2 6H2.8C2.358 6 2 5.552 2 5s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1zm0 5H2.8c-.442 0-.8-.448-.8-1s.358-1 .8-1h14.4c.442 0 .8.448.8 1s-.358 1-.8 1z"}),BIG_STAR:a.createElement("path",{d:"M18.379 6.917H12.55l-1.801-5.54a.788.788 0 00-1.497-.001L7.45 6.917H1.621a.786.786 0 00-.462 1.423l4.716 3.423-1.802 5.54a.786.786 0 001.213.879L10 14.759l4.716 3.423a.783.783 0 00.926 0 .784.784 0 00.286-.879l-1.801-5.54 4.716-3.423a.786.786 0 00-.464-1.423z"}),BIG_STAR_OUTLINE:a.createElement("path",{d:"M9.242 1.762a.83.83 0 01.766-.512c.336 0 .637.2.77.508l2.179 5.183 5.402.176c.739.024 1.082.93.547 1.442l-4.133 3.984 1.11 5.105c.168.961-.649 1.235-1.051 1.043l-4.82-2.683-4.89 2.683c-.411.196-1.216-.093-1.052-1.043l1.18-5.105-4.156-3.984C.559 8.047.902 7.14 1.64 7.117l5.425-.176zm.77 2.472L8.187 8.582l-4.503.148 3.402 3.258-.98 4.254 3.91-2.148 3.855 2.148-.922-4.258 3.383-3.254-4.496-.152zm0 0"}),SOLID_CIRCLE:a.createElement("path",{d:"M10 2c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8"}),HOTELS:a.createElement("path",{d:"M18.182 8.364h-9.32l-1.7-2.956a.819.819 0 00-.707-.406H2.636v-2.47c0-.452-.367-.818-.818-.818S1 2.081 1 2.651v14.727c0 .332.367.699.818.699s.818-.367.818-.818v-1.636h14.727v1.636a.818.818 0 001.637 0V9.182a.818.818 0 00-.818-.818zM5.985 6.638l.954 1.726H2.636V6.638h3.349zM2.636 10h3.273v3.987H2.636V10zm4.909 0h9.818v3.987H7.545V10z"}),TICKETS:a.createElement("g",null,a.createElement("path",{d:"M16.667 1.022H12.5v.833c0 .061-.01.198-.041.384a3.22 3.22 0 01-.288.91c-.384.769-1.04 1.206-2.171 1.206s-1.787-.437-2.171-1.206a3.22 3.22 0 01-.288-.91 2.649 2.649 0 01-.041-.384v-.833H3.333a.843.843 0 00-.833.846l.001 16.322a.831.831 0 001.286.694l1.935-1.418 1.603 1.383a.838.838 0 00.994.018L10 17.469l1.682 1.399a.843.843 0 00.994-.018l1.601-1.383 1.937 1.418a.83.83 0 001.286-.694V1.868a.842.842 0 00-.833-.846zm-.834 15.53l-.568-.415-1.075-.788-1.008.871-1.025.885-1.087-.904-1.07-.89-1.071.891-1.086.904-1.027-.886-1.009-.87-1.075.788-.565.412V2.675H5.92l.001.012.003.012c.081.371.207.781.414 1.196C6.995 5.209 8.214 6.022 10 6.022s3.005-.813 3.662-2.127a4.89 4.89 0 00.417-1.209c.003-.013 0 .003 0 .003l.001-.013h1.753v13.876z"}),a.createElement("path",{d:"M13.333 11.351H6.667a.83.83 0 00-.833.827.83.83 0 00.833.827h6.665a.828.828 0 10.001-1.654zM13.33 8H6.664a.83.83 0 00-.833.827.83.83 0 00.833.827h6.665A.827.827 0 1013.33 8z"})),THEATERS:a.createElement("path",{d:"M7.3 13.6c-.99 0-1.8.81-1.8 1.8h3.6c0-.99-.81-1.8-1.8-1.8m-.9-2.7c0-.5-.4-.9-.9-.9s-.9.4-.9.9.4.9.9.9.9-.4.9-.9m6.3 0c.99 0 1.8-.81 1.8-1.8h-3.6c0 .99.81 1.8 1.8 1.8m-.9-4.5c0-.5-.4-.9-.9-.9s-.9.4-.9.9.4.9.9.9.9-.4.9-.9m2.7.9c.5 0 .9-.4.9-.9s-.4-.9-.9-.9-.9.4-.9.9.4.9.9.9m4.17-6.09A.874.874 0 0018.1 1c-.1 0-.19.01-.28.05-.03.01-2.6.85-5.12.85s-5.09-.84-5.12-.85A.868.868 0 007.3 1c-.2 0-.41.07-.57.2-.24.2-.36.5-.32.81l.55 4.38c-2.4-.07-4.74-.84-4.77-.85-.1-.02-.19-.04-.29-.04-.2 0-.41.07-.57.2-.24.2-.36.5-.32.81l.89 7.15A5.403 5.403 0 007.3 19c2.67 0 4.88-1.96 5.31-4.51.03 0 .06.01.09.01 2.96 0 5.37-2.39 5.4-5.34l.89-7.15c.04-.3-.08-.61-.32-.8zM7.3 17.5a3.91 3.91 0 01-3.9-3.86v-.08l-.01-.09-.78-6.24c1.01.27 2.75.65 4.52.67l.16 1.26c0 .36.05.7.12 1.04l.03.12a6.002 6.002 0 00.35 1.03c.11.23.23.45.36.66.05.07.09.14.13.21.16.22.33.43.52.63.03.03.06.08.1.11.23.22.48.43.75.61.06.04.12.07.18.1.21.13.43.25.66.36l.3.12c.11.04.22.1.34.13A3.899 3.899 0 017.3 17.5zm9.31-8.53l-.01.09v.08c-.02 2.13-1.77 3.86-3.9 3.86s-3.88-1.73-3.9-3.86v-.08l-.01-.09-.78-6.24c1.05.28 2.86.67 4.69.67 1.81 0 3.64-.4 4.69-.67l-.78 6.24z"}),CONCERTS:a.createElement("path",{d:"M18.621 1.368a1.296 1.296 0 00-1.833 0l-.717.718a1.28 1.28 0 00-.372.953L10.84 7.896l-.12-2.453a.9.9 0 00-.751-.846.911.911 0 00-.986.555L7.319 9.311l-5.767 2.434a.9.9 0 00.256 1.727l4.13.434.458 4.299a.901.901 0 001.722.265l2.316-5.308 2.141-.769a.902.902 0 00-.178-1.742l-1.434-.204-.005-.12 6.03-6.03c.331-.001.661-.127.913-.38l.718-.717a1.295 1.295 0 00.002-1.832"}),SPORTS:a.createElement("path",{d:"M19.045 5.638c-.374-1.283-2.008-1.185-2.392-.099l-.216.612c-.192.462-.562.473-.89.473a.821.821 0 01-.472-.149A106.95 106.95 0 0113.09 5.02a.826.826 0 00-.497-.164h-1.555c-.16 0-.32.038-.451.132-1.075.779-3.58 2.628-7.738 3.41C1.745 8.606 1 9.786 1 11.018c0 1.109.686 2.655 1.805 2.655H3.5v.417c0 .459.375.834.833.834a.836.836 0 00.834-.834v-.416h1.666v.416c0 .459.375.834.834.834a.836.836 0 00.833-.834v-.416h1.667v.416c0 .459.375.834.833.834a.836.836 0 00.833-.834v-.416H16v.416c0 .459.375.834.833.834a.836.836 0 00.834-.834v-.416h.201c1.943 0 1.414-6.822 1.177-8.036zM3.415 9.994c.792-.279 1.078-.376 2.006-.666L8.1 12.007H3.78c-1.234 0-1.554-1.563-.364-2.013zm7.042 2.013l-3.3-3.3a23.75 23.75 0 001.226-.535l3.835 3.835h-1.761zm6.899 0h-2.781L9.937 7.369a19.725 19.725 0 001.366-.846h1.014a94.717 94.717 0 001.803 1.319c.42.293.913.45 1.427.45.846 0 1.574-.31 2.066-.855.124 1.48.066 3.664-.257 4.57z"}),FACEBOOK:a.createElement("path",{d:"M17.117 2H2.883A.883.883 0 002 2.883v14.234c0 .488.395.883.883.883h7.663v-6.196H8.461V9.389h2.085V7.608c0-2.067 1.262-3.192 3.106-3.192.883 0 1.642.066 1.863.095v2.16l-1.279.001c-1.003 0-1.197.476-1.197 1.176V9.39h2.391l-.311 2.415h-2.08V18h4.077a.883.883 0 00.884-.883V2.883A.883.883 0 0017.117 2z"}),FLICKR:a.createElement("g",null,a.createElement("circle",{cx:"5.2",cy:"10",r:"4",fill:"#1d75cf"}),a.createElement("circle",{cx:"14.8",cy:"10",r:"4",fill:"#fe0084"})),FLICKR_MONOCHROME:a.createElement("g",null,a.createElement("circle",{cx:"5.2",cy:"10",r:"4"}),a.createElement("circle",{cx:"14.8",cy:"10",r:"4"})),TWITTER:a.createElement("path",{d:"M18 4.5c-.6.3-1.2.4-1.9.5.7-.4 1.2-1 1.4-1.8-.6.4-1.3.6-2.1.8-.6-.6-1.5-1-2.4-1-1.8 0-3.3 1.5-3.3 3.3 0 .3 0 .5.1.7-2.7-.1-5.1-1.4-6.7-3.4-.3.5-.4 1-.4 1.6 0 1.1.6 2.1 1.5 2.7-.5 0-1-.2-1.5-.4 0 1.6 1.1 2.9 2.6 3.2-.3.1-.6.1-.9.1-.2 0-.4 0-.6-.1.4 1.3 1.6 2.2 3.1 2.3-1.1.9-2.5 1.4-4.1 1.4H2c1.5 1 3.2 1.6 5 1.6 6 0 9.3-5 9.3-9.3v-.4c.7-.5 1.3-1.1 1.7-1.8z"}),LINKEDIN:a.createElement("path",{d:"M15.242 15.097h-2.104v-3.405c0-.902-.163-1.441-.914-1.441-.54 0-.946.294-1.215.577v4.27H8.905V8.835h2.104v.836c.366-.396.997-.887 1.879-.887 1.477 0 2.354.952 2.354 2.907v3.405zM6.338 7.935a1.215 1.215 0 110-2.43 1.215 1.215 0 010 2.43zm1.066 7.162H5.3V8.836h2.104v6.261zM17.922 2.53a.973.973 0 00-.195-.294.769.769 0 00-.273-.176.994.994 0 00-.351-.059H2.897c-.13 0-.248.02-.35.059a.769.769 0 00-.274.176.947.947 0 00-.195.294A.816.816 0 002 2.86V17.14c0 .104.025.215.078.332a.947.947 0 00.195.294.763.763 0 00.273.176c.104.04.22.058.351.058h14.206c.129 0 .246-.019.35-.058a.769.769 0 00.274-.176.973.973 0 00.195-.294.825.825 0 00.078-.332V2.86a.828.828 0 00-.078-.332z"}),BASKET:a.createElement("path",{d:"M12.511 13.71v-1.636a.818.818 0 011.636 0v1.636a.818.818 0 01-1.636 0zm-3.284 0v-1.636a.818.818 0 011.637 0v1.636a.819.819 0 01-1.637 0zm-3.272-.014V12.06a.818.818 0 011.636 0v1.636a.818.818 0 01-1.636 0zm12.226-5.694h-2.835l-3.029-4.545a.818.818 0 10-1.362.908l2.424 3.637h-6.76l2.424-3.637a.817.817 0 10-1.361-.908L4.653 8.002H1.818a.818.818 0 000 1.636h.21l1.928 6.426C4.245 17.029 5.306 18 6.315 18h7.371c1.008 0 2.069-.97 2.359-1.936l1.928-6.426h.21a.819.819 0 00-.001-1.636h-.001z"}),CAMERA_FILL:a.createElement("path",{d:"M7.59 10.744a2.5 2.5 0 105 0 2.5 2.5 0 00-5 0zm-1.666 0a4.167 4.167 0 118.334 0 4.167 4.167 0 01-8.334 0zm.832-6.667v-.833a.833.833 0 00-.833-.833h-2.5a.833.833 0 00-.833.833v.833h-.833a.833.833 0 00-.833.833v11.667c0 .46.373.833.833.833h16.687c.46 0 .812-.373.812-.833V4.91a.815.815 0 00-.812-.833H6.756z"}),TAG_FILL:a.createElement("path",{d:"M5.9 7.5c-.9 0-1.7-.7-1.7-1.6S5 4.2 5.9 4.2s1.7.8 1.7 1.7-.8 1.6-1.7 1.6zm13 2.2L10.4 1c-.1-.1-.4-.2-.6-.2H1.7c-.5 0-.8.4-.8.8v8.1c0 .2.1.4.3.6l8.6 8.5c.2.2.4.2.6.2.2 0 .4-.1.6-.2l8-8c.2-.2.2-.7-.1-1.1z"}),CARD:a.createElement("path",{d:"M18.597 3.035H1.335a.864.864 0 00-.864.861V7.5H19.46V3.896a.863.863 0 00-.863-.861zm-15.13 9.33h5.834a.835.835 0 010 1.668H3.467a.835.835 0 010-1.668zm-2.996 3.77c0 .475.387.861.864.861h17.262a.864.864 0 00.864-.861V8.5H.471v7.635z"}),CLIPCOUPON:a.createElement("g",null,a.createElement("path",{d:"M4.3 14.3c-.9 0-1.7.8-1.7 1.7 0 .9.8 1.7 1.7 1.7 1 0 1.7-.8 1.7-1.7 0-.9-.8-1.7-1.7-1.7zM12.7 14.3c-.9 0-1.7.7-1.7 1.7s.7 1.7 1.7 1.7 1.7-.7 1.7-1.7-.8-1.7-1.7-1.7z"}),a.createElement("path",{d:"M14.3 13.1c-.5-.3-1.1-.4-1.7-.4-.6 0-1.2.2-1.7.5L3.3 5.4c-.3-.3-.9-.3-1.2 0s-.3.9 0 1.2l5.2 5.2L6 13.2c-1.6-.9-3.6-.4-4.6 1.2S1 18 2.6 18.9c1.6.9 3.6.4 4.6-1.2.3-.5.5-1.1.5-1.7 0-.6-.2-1.2-.5-1.7L8.5 13l1.3 1.3c-.9 1.6-.4 3.6 1.2 4.5 1.6.9 3.6.4 4.5-1.2.9-1.5.4-3.6-1.2-4.5zM6 16c0 .9-.7 1.7-1.7 1.7-.9 0-1.7-.7-1.7-1.7 0-.9.7-1.7 1.7-1.7.9 0 1.7.8 1.7 1.7zm6.7 1.7c-.9 0-1.7-.7-1.7-1.7s.7-1.7 1.7-1.7 1.7.7 1.7 1.7-.8 1.7-1.7 1.7zM18.5 1H7.7c-.5 0-.9.4-.9.8v5h1.7V2.7h9.2v7.5h-4.2v1.7h5c.5 0 .8-.4.8-.8V1.8c0-.4-.3-.8-.8-.8z"}),a.createElement("path",{d:"M14.9 5.4c-.3-.3-.9-.3-1.2 0l-4 4.1 1.2 1.2 4-4c.3-.4.3-1 0-1.3z"})),CART:a.createElement("path",{d:"M6.677 16.281a1.253 1.253 0 11-2.506 0 1.253 1.253 0 012.506 0zm6.685-.023a1.253 1.253 0 11-2.506 0 1.253 1.253 0 012.506 0zM18.331 2.5h-2.807a.834.834 0 00-.818.667l-.55 2.667H1.669A.835.835 0 00.87 6.913l2.033 6.673a.836.836 0 00.799.592h9.771c.397 0 .738-.28.818-.668l1.123-5.506.783-3.834h2.133a.835.835 0 100-1.67h.001zM12.79 12.507H4.321L2.796 7.504H13.81l-.023.113-.012.063-.985 4.827z"}),DESKTOP_ATTACHMENT:a.createElement("path",{d:"M17.4 14.5H2.6V4.6h3.5v5.5c0 .2.1.5.2.8.3.8 1.1 1.3 2.2 1.3h.1c1.1 0 1.8-.5 2.2-1.3.1-.2.2-.5.2-.8V7c0-.2 0-.5-.2-.7-.2-.4-.7-.7-1.2-.7h-.1.1-.1-.1c-.7 0-1.1.2-1.2.7-.2.2-.3.4-.3.6v2.9c0 .2.2.5.5.5.2 0 .5-.2.5-.5V6.9c0-.1 0-.2.1-.2.1-.2.2-.2.5-.2.2 0 .4.1.5.2v3.1c0 .2 0 .5-.2.7-.2.5-.6.7-1.3.7h-.1c-.7 0-1.1-.2-1.3-.7-.1-.3-.1-.6-.1-.8V4.6h10.4v9.9zM7.1 3v-.2c0-.1.1-.4.2-.6.2-.4.7-.7 1.2-.7h.1C9.7 1.4 10 2 10 3H7.1zm11.1 0H11C11 1.4 10.3.5 8.6.5h-.1c-1 0-1.7.5-2.1 1.3-.3.4-.3.9-.3 1.2H1.8c-.5 0-.8.3-.8.8v11.5c0 .5.3.8.8.8h6.6l-.8 1.6H5.1c-.5 0-.8.3-.8.8s.3.8.8.8H15c.5 0 .8-.3.8-.8s-.3-.8-.8-.8h-2.5l-.8-1.6h6.6c.5 0 .8-.3.8-.8V3.8c-.1-.5-.4-.8-.9-.8z"}),PREVIEW:a.createElement("path",{d:"M9.71 7.63c-1.4 0-2.54 1.14-2.54 2.55 0 .35.29.64.64.64.35 0 .64-.29.64-.64 0-.7.57-1.27 1.26-1.27.35 0 .64-.29.64-.64 0-.36-.29-.64-.64-.64zM10 5c3.65 0 6.98 1.99 8.89 5.33.22.38.09.87-.29 1.1a.83.83 0 01-.4.11c-.28 0-.55-.14-.69-.4-1.08-1.89-2.7-3.26-4.56-3.97.88.81 1.43 1.96 1.43 3.25 0 2.43-1.96 4.4-4.38 4.4s-4.38-1.97-4.38-4.4c0-1.29.55-2.44 1.43-3.25-1.86.71-3.48 2.08-4.56 3.97-.22.38-.71.52-1.09.3a.809.809 0 01-.29-1.1C3.02 6.99 6.35 5 10 5z"}),DRIVE:a.createElement("path",{d:"M6.7 2.8L1 12.8l2.8 5 5.7-10zM6.7 2.8zM7.6 12.8l-2.9 5H16l3-5.1zM18.5 12.1l-5.7-9.9H7.2l5.5 9.9z"}),DROPBOX:a.createElement("g",null,a.createElement("path",{d:"M10 11.3L4.6 8 .9 11l5.4 3.4 3.7-3.1 3.7 3.1 5.4-3.4-3.7-3z"}),a.createElement("path",{d:"M10 12l-3.7 3.1-1.6-1v1.1l5.3 3.2 5.4-3.2v-1.1l-1.6 1zM19.1 5zM10 4.7L6.3 1.6.9 5l3.7 3zM19.1 5l-5.4-3.4L10 4.7 15.4 8z"})),SUBSCRIPTIONS:a.createElement("path",{d:"M.5 13.2V6.6L4 8v6.1H1.4c-.5 0-.9-.4-.9-.9zm13.8-9.5V5H4.8c-.5 0-.8.4-.8.9v.4L.5 4.9V3.7c0-.5.4-.9.9-.9h12.1c.4.1.8.5.8.9zm-2.5 9.5c.4.2 1.1.2 1.6 0l6.1-2.5v5.6c0 .5-.4.9-.9.9H6.5c-.5 0-.9-.4-.9-.9v-5.6zm6.8-6.4c.5 0 .9.4.9.9V9l-6.9 2.9-6.9-3V7.6c0-.5.4-.9.9-.9h12z"}),NO_ADS:a.createElement("path",{d:"M12.91 6.83h-2.15v1.7l1.73 1.73V8.1h.36c.98 0 1.66.54 1.66 1.93 0 .84-.24 1.33-.64 1.6l1.07 1.07c.82-.47 1.33-1.31 1.33-2.67 0-2.28-1.45-3.2-3.36-3.2M10 1a9 9 0 10.001 18.001A9 9 0 0010 1zm0 16.5c-4.14 0-7.5-3.36-7.5-7.5 0-1.76.61-3.38 1.63-4.66l1.8 1.79-2.1 5.96v.07h1.53l.38-1.2h2.2l.38 1.2h1.8v-.06l-.96-2.72 1.59 1.59v1.2h1.2l2.7 2.7A7.404 7.404 0 0110 17.5zm-2.42-6.7H6.11l.74-2.33.73 2.33zm8.15 4.02L5.18 4.27C6.48 3.17 8.16 2.5 10 2.5c4.14 0 7.5 3.36 7.5 7.5 0 1.84-.67 3.52-1.77 4.82z"}),NUMBER_ONE:a.createElement("g",null,a.createElement("path",{d:"M15.33 3H4.67a.68.68 0 00-.67.69v12.63c0 .4.32.68.67.68.12 0 .25-.03.36-.11l1.55-1.16 1.28 1.13a.677.677 0 00.8.02L10 15.73l1.35 1.14c.11.09.25.13.38.13a.7.7 0 00.41-.14l1.28-1.13 1.55 1.16c.12.07.24.11.36.11.35 0 .67-.28.67-.67V3.69c0-.38-.3-.69-.67-.69zm-.66 12l-1.31-.98-1.63 1.44L10 13.99l-1.73 1.47-1.63-1.44-1.31.98V4.33h9.33V15z"}),a.createElement("path",{d:"M7.32 9.63h-.53v-.86h.64l.08-.61h-.54V7.3h.65l.11-.86h.71l-.11.86h.5l.11-.86h.71l-.1.86h.52v.86h-.64l-.07.61h.53v.86h-.64l-.12.95h-.72l.12-.95h-.52l-.13.95H7.2l.12-.95zm1.32-.86l.08-.61h-.51l-.08.61h.51zM11.48 7.86l-1.08.67-.06-.02V7.3l1.46-.9h1.16v5.64h-1.49V7.86z"})),STOPWATCH_DASHES:a.createElement("g",null,a.createElement("path",{d:"M12 12.25c-.19 0-.38-.07-.53-.22l-1.5-1.5c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l1.5 1.5c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22zM14.75 4.5h-5.5c-.41 0-.75-.34-.75-.75S8.84 3 9.25 3h5.5c.41 0 .75.34.75.75s-.34.75-.75.75zM8.75 9.5h-5c-.41 0-.75-.34-.75-.75S3.34 8 3.75 8h5c.41 0 .75.34.75.75s-.34.75-.75.75zM4.75 12h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75zM7.75 14.5h-4.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4.5c.41 0 .75.34.75.75s-.34.75-.75.75z"}),a.createElement("path",{d:"M16.74 7.82l.79-.79c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0l-.79.79A5.976 5.976 0 0012 5.5c-1.77 0-3.36.78-4.46 2h2.44c.61-.31 1.29-.5 2.02-.5 2.48 0 4.5 2.02 4.5 4.5S14.48 16 12 16c-1.06 0-2.02-.38-2.79-1H7.13A5.993 5.993 0 0012 17.5c3.31 0 6-2.69 6-6 0-1.39-.47-2.66-1.26-3.68z"}),a.createElement("path",{d:"M7.62 12.5c-.07-.32-.12-.66-.12-1 0-.53.11-1.03.28-1.5H6.2c-.13.48-.2.98-.2 1.5 0 .34.04.67.09 1h1.53z"})),GIFT:a.createElement("path",{d:"M17 6h-2.45c.19-.11.38-.23.53-.39a2.71 2.71 0 000-3.82c-.52-.53-1.21-.79-1.9-.79s-1.38.26-1.91.79c-.8.8-1.16 1.81-1.27 3.21-.11-1.4-.48-2.41-1.28-3.21C8.19 1.26 7.5 1 6.81 1s-1.38.26-1.91.79a2.71 2.71 0 000 3.82c.16.16.34.28.53.39H3c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h5.5V6.5h3V10H17c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1zM8.19 4.97c-.94 0-1.86-.05-2.23-.42-.23-.23-.35-.53-.35-.85s.12-.62.35-.85c.23-.23.53-.35.85-.35s.62.12.85.35c.34.34.7.86.82 2.12h-.29zm5.84-.42c-.37.37-1.29.42-2.23.42h-.28c.12-1.26.48-1.77.82-2.11.23-.23.53-.35.85-.35s.62.12.85.35.35.53.35.85-.14.61-.36.84zM3 18c0 .55.49 1 1.1 1h4.4v-7.5H3V18zM11.5 19h4.58c.51 0 .92-.45.92-1v-6.5h-5.5V19z"}),INFINITY:a.createElement("path",{d:"M14.24 6.23c-1.44 0-2.56.82-3.56 1.87.23.26.88 1.02.98 1.14.81-.86 1.63-1.51 2.58-1.51 1.25 0 2.27 1.02 2.27 2.27s-1.02 2.27-2.27 2.27c-1.36 0-2.47-1.34-3.65-2.75C9.23 7.9 7.83 6.23 5.77 6.23 3.69 6.23 2 7.92 2 10s1.69 3.77 3.77 3.77c1.45 0 2.56-.83 3.56-1.87-.23-.26-.88-1.02-.99-1.14-.81.87-1.64 1.51-2.58 1.51-1.25 0-2.27-1.02-2.27-2.27s1.02-2.27 2.27-2.27c1.36 0 2.47 1.34 3.65 2.75 1.35 1.62 2.74 3.29 4.81 3.29 2.08 0 3.77-1.69 3.77-3.77s-1.67-3.77-3.75-3.77z"}),AUTO_FORWARDING:a.createElement("g",null,a.createElement("path",{d:"M18.4 14.4l-2.9-2.5c-.2-.2-.5 0-.5.3v1H9.8c-.2 0-.3.2-.3.3v2.3c0 .2.1.3.3.3h5.1v1c0 .3.3.4.5.3l3-2.5c.1-.1.2-.3 0-.5z"}),a.createElement("path",{d:"M9 11.3L15 9v.6l1.5 1.3V5.5c0-.6-.5-1-1-1h-13c-.5 0-1 .4-1 1v9c0 .6.5 1 1 1H8V14H3V9.1l6 2.2zM3 6h12v1.4L9 9.7 3 7.4V6z"})),UNDERSCORE:a.createElement("path",{d:"M17.1 16.5H2.9c-.5 0-.9.3-.9.8s.4.7.9.7h14.3c.5 0 .9-.3.9-.8s-.5-.7-1-.7z"}),WINDOW_BOX:a.createElement("path",{d:"M17 2H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1zm-.5 14.5h-13v-11h13v11z"}),UNSUBSCRIBE_OUTLINE:a.createElement("g",null,a.createElement("path",{d:"M2.5 7.51l7.02 2.81 6.98-3.26v3.44H18V3.75c0-.41-.34-.75-.75-.75H1.75c-.41 0-.75.34-.75.75v10.5c0 .41.34.75.75.75h9.75v-1.5h-9V7.51zm14-3.01v.91L9.48 8.68 2.5 5.89V4.5h14z"}),a.createElement("path",{d:"M17.06 15l1.72-1.72c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0L16 13.94l-1.72-1.72c-.29-.29-.77-.29-1.06 0s-.29.77 0 1.06L14.94 15l-1.72 1.72c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22L16 16.06l1.72 1.72c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06L17.06 15z"})),WRENCH:a.createElement("path",{d:"M10.71 2.67a5.682 5.682 0 00-5.5-1.47c-.14.03-.26.11-.35.2-.3.3-.34.82 0 1.16l2.41 2.41c.32.32.32.83 0 1.15L6.11 7.26c-.32.32-.83.32-1.15 0l-2.4-2.4a.82.82 0 00-1.16 0c-.1.1-.17.22-.21.37-.59 2.22.18 4.72 2.32 6.18 1.5 1.03 3.41 1.23 5.09.63l6.72 6.71c.32.32.83.32 1.15 0l2.3-2.3c.32-.32.32-.83 0-1.15l-6.72-6.72c.7-1.99.27-4.31-1.34-5.91m-.63 6.26l.06.06 6.9 6.9-1.15 1.15-6.9-6.9-.06-.06c-.01 0-.01.01-.02.01-1.32.89-3.17.88-4.49-.02a4.12 4.12 0 01-1.77-2.81L3.8 8.41c.95.95 2.5.95 3.45 0L8.4 7.26c.95-.95.95-2.5 0-3.45L7.27 2.67c.86.12 1.67.52 2.3 1.15 1.38 1.38 1.55 3.53.51 5.11"}),EXCHANGE:a.createElement("path",{d:"M7.68 1.67c.2 0 .41.08.56.24.31.33.31.85 0 1.18L6.38 5h10.28v1.67H6.38l1.86 1.91c.31.33.31.85 0 1.18-.31.33-.82.33-1.13 0L3.33 5.83l3.79-3.92a.79.79 0 01.56-.24zM12.32 10c.2 0 .41.08.56.24l3.79 3.92-3.79 3.92c-.31.33-.82.33-1.13 0a.865.865 0 010-1.18l1.87-1.9H3.33v-1.67h10.28l-1.86-1.91a.865.865 0 010-1.18c.16-.16.36-.24.57-.24z"}),COMPOSE_OUTLINE:a.createElement("path",{d:"M14.68 9.91L10.1 5.33l1.95-1.95 4.57 4.57-1.94 1.96zm-7.05 7.05H5.28l-2.23-2.23v-2.35L9 6.43l4.57 4.58-5.94 5.95zm10.65-9.55L12.6 1.73c-.3-.3-.79-.3-1.09 0l-9.78 9.78c-.15.14-.23.34-.23.55v5.69c0 .43.35.77.77.77h5.68c.21 0 .41-.08.55-.23l9.77-9.78c.32-.31.29-.81.01-1.1z"}),APPLE:a.createElement("path",{d:"M12.63 3.74C13.31 3.01 13.77 2 13.64 1c-.98.04-2.16.57-2.86 1.3-.63.64-1.18 1.67-1.03 2.65 1.09.07 2.2-.49 2.88-1.21m2.08 6.93c-.02-2.25 1.78-3.33 1.86-3.38-1.01-1.53-2.59-1.74-3.15-1.76-1.34-.14-2.62.81-3.3.81-.68 0-1.73-.8-2.85-.77-1.47.02-2.82.87-3.57 2.22-1.52 2.72-.39 6.75 1.09 8.96.72 1.08 1.59 2.29 2.72 2.25 1.09-.04 1.51-.73 2.83-.73s1.69.73 2.85.71c1.18-.02 1.92-1.1 2.64-2.18.83-1.25 1.17-2.47 1.19-2.53-.02-.02-2.29-.91-2.31-3.6"}),HOME_OUTLINE:a.createElement("path",{d:"M18.75 8.56l-8.14-7.32A.888.888 0 0010 1c-.22 0-.44.08-.61.25L1.25 8.56c-.33.33-.33.86 0 1.19.33.33.87.33 1.2 0l.21-.19v8.63c0 .44.37.8.82.8h4.9v-4.91c0-.9.73-1.63 1.63-1.63h.01c.9 0 1.63.73 1.63 1.63V19h4.91c.45 0 .82-.38.82-.82V9.59l.18.16c.33.33.86.33 1.2 0 .32-.33.32-.86-.01-1.19zm-3.02 8.81h-2.46V14.1a3.271 3.271 0 00-6.54 0v3.27H4.29V8.11L10 3.03l5.73 5.11v9.23z"}),PHONE_OUTLINE:a.createElement("path",{d:"M4.58 3.08l2.24 3.04-.95 2.26-.38.89.6.76c.57.73 1.19 1.42 1.83 2.06.63.63 1.32 1.25 2.05 1.82l.75.6.89-.37 2.28-.94 3.03 2.23-1.67 1.68c-.22.22-.63.27-.93.27-1.62 0-4.56-1.3-7.47-4.21-3.99-3.99-4.7-7.64-3.95-8.4l1.68-1.69M4.67 1c-.2 0-.4.08-.56.23L1.74 3.6c-1.87 1.87-.1 6.66 3.95 10.71 2.95 2.95 6.3 4.69 8.62 4.69.86 0 1.58-.24 2.09-.74l2.37-2.37c.35-.35.3-.92-.1-1.21l-4.18-3.08a.788.788 0 00-.49-.17c-.1 0-.2.02-.29.06l-2.72 1.13c-.65-.51-1.29-1.07-1.91-1.7a22.84 22.84 0 01-1.7-1.91L8.51 6.3c.1-.26.06-.56-.11-.78l-3.09-4.2A.777.777 0 004.67 1"}),BUY_MORE_SAVE_MORE:a.createElement("path",{d:"M18.61 9.65l-5.86-7.68c-.38-.5-.99-.79-1.62-.77l-2.9.11 1.88 1.29 1.06-.04h.02c.18 0 .35.08.46.23l5.86 7.68c.09.12.13.27.11.42-.02.15-.1.28-.22.37l-4.14 3.12c-.25.19-.61.14-.8-.11l-.89-1.18V5.31c0-.22-.04-.43-.1-.63-.14-.46-.43-.87-.84-1.16l-1.28-.88-1.82-1.25c-.74-.51-1.74-.51-2.49 0L2.86 2.9l-.89.6-.04.02A2.2 2.2 0 001 5.31v11.51C1 18.03 1.98 19 3.18 19h6.2c1.2 0 2.18-.98 2.18-2.18v-1.5a1.958 1.958 0 002.53.16l4.14-3.12c.41-.31.68-.77.75-1.28.07-.51-.06-1.02-.37-1.43zM6.38 5.21a.39.39 0 010-.78c.21 0 .39.18.39.39 0 .21-.17.39-.39.39m0 1.17c.04 0 .08 0 .12-.01a1.57 1.57 0 001.45-1.56c0-.5-.24-.95-.62-1.24-.26-.2-.59-.32-.95-.32-.14 0-.28.02-.41.06-.66.18-1.15.79-1.15 1.51 0 .37.13.71.35.98.28.35.72.58 1.21.58M2.37 5.31c0-.26.13-.51.34-.66l.92-.62 2.19-1.52c.14-.1.3-.14.46-.14h.02c.16 0 .31.05.45.14l.76.52 2.34 1.61c.22.15.35.4.35.67v11.51c0 .44-.36.81-.81.81h-6.2c-.45 0-.81-.36-.81-.81V5.31z"}),YAHOO_PLUS_BADGE:a.createElement("path",{d:"M5.9 7.3l-1.4 3.4-1.3-3.4H1l2.5 5.8-.9 2.1h2.1L8 7.3zM8.3 10.5c-.8 0-1.4.6-1.4 1.4 0 .7.6 1.3 1.3 1.3.8 0 1.4-.6 1.4-1.4.1-.7-.5-1.3-1.3-1.3M9.9 4.8L7.7 10h2.4l2.2-5.2zM19 8h-2.3V5.6h-2.2V8h-2.3v2.2h2.3v2.4h2.2v-2.4H19z"}),YAHOO_PLUS_BADGE_ALT:a.createElement("path",{d:"M10 2a8 8 0 110 16 8 8 0 010-16zM6.4 7.09H4.378l2.247 5.31-.807 1.964h2l2.967-7.273H8.822l-1.215 3.105L6.4 7.091zm7.687 0h-1.512v1.703H10.93v1.505h1.644V12h1.512v-1.702h1.651V8.793h-1.65V7.09z"}),APPAREL:a.createElement("path",{d:"M13.898 1.668c.704 0 1.559.312 2.02.848l3.05 3.496c.262.3.274.722.032 1.035l-1.934 2.48c-.304.399-.941.438-1.296.082l-.293-.246v7.989c0 .46-.278.98-.739.98H5.27c-.461 0-.739-.52-.739-.98V9.363l-.293.246c-.355.356-.992.317-1.3-.082l-1.93-2.48a.808.808 0 01.027-1.035L4.09 2.516c.46-.536 1.316-.848 2.015-.848zM13.805 15l-3.797.004H10L6.2 15v1.668l3.8.004v-.004h.004v.004-.004h.004v.004l3.797-.004zm.093-11.664h-1.546a2.501 2.501 0 01-2.344 1.66H10l-.16-.004a2.5 2.5 0 01-2.184-1.656h-1.55c-.215 0-.602.102-.747.266L2.758 6.547l.945 1.215 1.172-.719.3-.184L6.2 6.23v7.102l3.801.004h.008l3.797-.004V11.84l.004-5.606 2.496 1.528.945-1.215-2.605-2.945c-.141-.164-.528-.266-.747-.266zm0 0"}),BIRTHDAY_CAKE:a.createElement("path",{d:"M14.168 4.168c.426 0 .777.32.828.734L15 5v3.332h3.332c.43 0 .781.324.828.738l.008.098v10a.84.84 0 01-.738.828l-.098.004H1.668a.83.83 0 01-.828-.734l-.008-.098v-10c0-.43.324-.781.738-.828l.098-.008H5V5a.833.833 0 011.66-.098L6.668 5v3.332h2.5V5a.833.833 0 011.66-.098l.004.098v3.332h2.5V5c0-.46.375-.832.836-.832zm3.332 9.164h-15v5h15zm0-3.332h-15v1.668h15zm0-7.5c.113 0 .207.094.207.207l.008.121a1.254 1.254 0 001.242 1.133c.113 0 .211.09.211.207a.212.212 0 01-.211.207c-.691 0-1.25.566-1.25 1.254a.205.205 0 01-.207.203.206.206 0 01-.21-.203c0-.688-.56-1.254-1.247-1.254a.207.207 0 110-.414c.687 0 1.246-.566 1.246-1.254A.21.21 0 0117.5 2.5zM10 .418c.48.68 1.227 2.055.832 2.71-.39.661-1.25.661-1.664 0-.277-.437 0-1.343.832-2.71zM2.5 0c.113 0 .207.094.207.207l.008.121a1.254 1.254 0 001.242 1.133c.113 0 .211.09.211.207a.212.212 0 01-.211.207c-.691 0-1.25.566-1.25 1.254a.205.205 0 01-.207.203.206.206 0 01-.21-.203c0-.688-.56-1.254-1.247-1.254a.207.207 0 110-.414c.687 0 1.246-.566 1.246-1.254A.21.21 0 012.5 0zm0 0"}),DIAMOND:a.createElement("path",{d:"M13.816 2.5c.2 0 .395.082.54.23l4.582 4.739a.812.812 0 010 1.117l-8.403 8.684a.752.752 0 01-.539.23.752.752 0 01-.539-.23L1.059 8.586a.804.804 0 010-1.117L5.64 2.73a.742.742 0 01.539-.23zm-1.98 6.668h-3.68l1.84 5.23zm-5.305 0h-2.59l4.07 4.21zm9.524 0H13.46l-1.48 4.21zm-2.63-5H12.04L13.652 7.5h2.996zm-3.093 0h-.668L8.051 7.5h3.894zm-2.379 0H6.57L3.344 7.5h3zm0 0"}),EYELASH:a.createElement("path",{d:"M16.531 7.734a.834.834 0 011.543.63 5.515 5.515 0 01-.855 1.386l1.687 1.688a.837.837 0 010 1.18.837.837 0 01-1.18 0l-1.695-1.696c-.472.387-1 .746-1.558 1.058l1.25 2.188c.23.402.09.91-.309 1.14a.836.836 0 01-1.137-.312l-1.324-2.312a8.592 8.592 0 01-2.121.504v2.23a.833.833 0 01-1.664 0v-2.223a8.692 8.692 0 01-2.129-.504l-1.316 2.305a.836.836 0 01-1.137.313.836.836 0 01-.309-1.141l1.243-2.176a10.848 10.848 0 01-1.56-1.066l-1.687 1.691a.837.837 0 01-1.18 0 .837.837 0 010-1.18l1.692-1.69c-.379-.477-.66-.966-.812-1.442a.829.829 0 01.543-1.047.833.833 0 011.046.539c.528 1.652 3.793 3.844 6.43 3.758 2.625.062 5.809-2.024 6.54-3.82zm0 0"}),FALLBACK_GENERIC_MONEY_BAG:a.createElement("g",null,a.createElement("path",{d:"M14.719 2.094a.85.85 0 01-.27.633l-.031.035-.04.027c-.077.059-.171.125-.269.195-.246.176-.546.391-.843.645-.192.164-.352.32-.465.457.117.187.25.465.25.797 0 .12-.016.242-.04.347a4.19 4.19 0 01.64.41c.435.337.982.872 1.478 1.688.976 1.606 1.734 4.227 1.262 8.43.02.031.039.066.058.105.113.207.274.57.274.985 0 .402-.137.879-.614 1.215-.414.292-.972.394-1.62.394-.317 0-.47.043-.766.133-.118.031-.254.074-.426.117-.606.16-1.438.305-3.012.305s-2.406-.145-3.008-.305c-.175-.043-.312-.086-.425-.117-.297-.09-.45-.133-.77-.133-.644 0-1.207-.102-1.621-.395-.473-.335-.613-.812-.613-1.214 0-.414.16-.778.273-.985.024-.039.043-.074.063-.11-.422-3.737.148-6.226.992-7.87.703-1.371 1.574-2.106 2.12-2.473a1.394 1.394 0 01-.112-.527c0-.14.027-.278.066-.399-.05-.015-.105-.03-.168-.054-.512-.172-1.242-.48-1.723-1.301-.144-.246-.27-.668-.004-1.078.204-.313.532-.426.696-.473.363-.11.867-.133 1.308-.152.121-.004.246-.008.368-.016.367-.012.738-.023 1.101-.055.492-.039.899-.105 1.188-.214.949-.348 2.078-.34 2.894-.227.414.059.805.152 1.094.277.125.051.336.157.496.34.09.102.215.297.219.563zM7.707 4.652l-.004-.004.004.004zm4.57-2.234c-.586-.04-1.226.008-1.722.191-.492.18-1.07.262-1.598.305-.406.031-.828.047-1.203.059-.031.004-.059.004-.09.004.027.007.055.02.082.027.16.05.36.113.508.18.226.093.586.28.777.683l.235.488-.375.387-.004.004c-.004.004-.012.016-.024.027-.02.024-.047.059-.074.098l-.008.008c.028.031.051.062.07.086l.024.023.297.293-.082.414c-.063.332-.258.551-.402.676-.133.11-.293.191-.282.188-.293.168-1.148.695-1.84 2.035-.691 1.351-1.253 3.594-.796 7.258l.039.328-.204.254-.003.003-.024.032c-.02.031-.05.078-.078.133a.978.978 0 00-.086.21c.086.032.277.083.668.083.563 0 .965.12 1.32.226.094.027.184.055.274.078.449.117 1.144.25 2.61.25 1.468 0 2.16-.133 2.609-.25.09-.023.18-.05.273-.078.355-.105.758-.226 1.32-.226.39 0 .586-.051.668-.082a.76.76 0 00-.082-.211 1.415 1.415 0 00-.082-.133l-.023-.032-.004-.003-.203-.254.043-.328c.508-4.11-.235-6.442-1.012-7.711-.387-.641-.797-1.036-1.094-1.262a2.85 2.85 0 00-.347-.23c-.04-.02-.067-.036-.079-.04-.003-.004-.007-.004-.011-.004l-.008-.003-.02-.008a2.027 2.027 0 01-.406-.266 1.772 1.772 0 01-.394-.437l-.22-.368.188-.378V5.14c.004-.004.008-.012.012-.02.008-.023.024-.055.035-.094a1.53 1.53 0 00.031-.105c-.007-.008-.015-.024-.027-.035a.755.755 0 00-.066-.078c-.008-.012-.016-.016-.02-.02l-.3-.262.038-.402c.043-.406.266-.75.454-.988.203-.254.453-.492.691-.696.012-.007.02-.015.027-.023zm-.78 2.535zm-2.763-.16v0zm0 .168v0zM6.461 3.086s.004-.004.016-.008c-.008.008-.016.008-.016.008zm6.953-.445c.008 0 .012.004.008.004l-.008-.004zm0 0"}),a.createElement("path",{d:"M10.875 14.918v-.871c.844-.168 1.258-.719 1.258-1.524 0-.793-.278-1.148-1.278-1.398l-.293-.078c-.3-.09-.417-.172-.417-.328 0-.156.156-.262.476-.262.426 0 .852.086 1.18.246l.047-.023V9.543a3.807 3.807 0 00-.97-.164V8.75h-.96v.684c-.754.171-1.168.691-1.168 1.472 0 .707.352 1.168 1.098 1.364l.312.085c.336.098.492.157.492.329 0 .203-.156.328-.52.328-.51 0-.96-.157-1.292-.352l-.05.024v1.171c.257.118.624.211 1.128.247v.816zm0 0M8.844 4.582l.008.004.027.008c.027.011.066.023.113.039.102.035.238.078.395.125.332.094.68.168.914.176.234.007.586-.051.922-.125.16-.036.297-.07.398-.098l.117-.035.028-.008h.007a.78.78 0 11.457 1.492l-.214-.695.214.695h-.003l-.004.004-.012.004-.04.012-.14.039a8.586 8.586 0 01-.469.113c-.355.082-.867.176-1.308.164-.441-.016-.945-.137-1.297-.238-.184-.051-.344-.106-.46-.145-.06-.015-.106-.035-.138-.047l-.039-.011-.011-.004-.004-.004.27-.73-.27.73a.782.782 0 01-.465-1.004.786.786 0 011.004-.461zm0 0"})),FALLBACK_GENERIC_PIGGY_BANK:a.createElement("g",null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.887 1.852L7.09 2.859a9.446 9.446 0 012.426-.32c3.46 0 6.488 1.86 7.535 4.559a5.55 5.55 0 01.379 2.023c0 1.961-1.024 3.691-2.594 4.875v1.266c0 .765-.652 1.363-1.426 1.363h-1.43c-.64 0-1.199-.41-1.37-.988a9.088 9.088 0 01-2.184 0c-.172.578-.73.988-1.375.988H5.625c-.777 0-1.43-.598-1.43-1.363v-1.266c-.922-.695-1.648-1.582-2.097-2.59H1.73c-.773 0-1.425-.597-1.425-1.363V7.586c0-.766.652-1.363 1.425-1.363h.684a6.52 6.52 0 01.777-1.059l-.695-1.973c-.098-.277-.16-.765.227-1.128.382-.364.879-.301 1.164-.215v.004zm.379 1.695l2.804.887.239-.07a7.69 7.69 0 012.207-.325c2.921 0 5.293 1.566 6.074 3.582.129.336.285.828.285 1.5 0 1.527-.852 2.934-2.266 3.887l-.332.222v1.895h-1.164V13.82l-.949.203a7.894 7.894 0 01-1.648.18 7.856 7.856 0 01-1.645-.18l-.95-.203v1.305H5.755V13.23l-.332-.222c-.992-.672-1.707-1.574-2.043-2.582l-.172-.52H1.863V7.723h1.52l.207-.434c.25-.512.601-.988 1.039-1.41l.344-.328zm0 0"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.383 8.176c-.16.086-.227.164-.242.199-.106.219-.391.316-.637.223-.25-.094-.363-.348-.258-.567.125-.254.375-.453.625-.59.262-.144.578-.25.906-.293.649-.09 1.465.059 1.875.782.29.515.285 1 .07 1.386-.202.371-.574.606-.917.707-.383.11-.742.09-1.047-.046a1.082 1.082 0 01-.578-.594.809.809 0 01.078-.754c.187-.274.523-.39.89-.356.266.024.457.239.43.473-.027.215-.226.379-.465.383a.176.176 0 00.086.082c.04.016.13.043.305-.008a.596.596 0 00.348-.265c.062-.114.105-.313-.07-.622-.153-.27-.454-.37-.856-.316-.2.027-.395.094-.543.176zm.633.953zm0 0"}),a.createElement("path",{d:"M10.176 11.875v-.836c.761-.164 1.14-.695 1.14-1.469 0-.765-.254-1.11-1.16-1.343l-.261-.079c-.27-.085-.375-.168-.375-.316 0-.152.14-.25.425-.25.39 0 .77.082 1.07.238l.04-.027V6.699a3.297 3.297 0 00-.875-.156v-.606h-.867v.657c-.68.168-1.055.668-1.055 1.418 0 .683.316 1.125.992 1.312l.281.082c.305.094.446.149.446.32 0 .192-.141.313-.47.313-.464 0-.87-.152-1.167-.34l-.047.028v1.125c.234.109.562.203 1.02.234v.789zm0 0"})),FALLBACK_GENERIC_SHOPPING_BAG:a.createElement("g",null,a.createElement("path",{d:"M9.992 4.238a2.247 2.247 0 00-1.465.52c-.18.152-.332.332-.449.527h3.844a2.134 2.134 0 00-.45-.527 2.247 2.247 0 00-1.464-.52zM5.637 6.7L4.59 14.301c-.098.73.484 1.379 1.242 1.379h8.336c.758 0 1.34-.649 1.242-1.38l-1.047-7.6zm.86-1.414a3.5 3.5 0 011.077-1.598A3.716 3.716 0 0110 2.82c.89-.007 1.754.301 2.426.868a3.5 3.5 0 011.078 1.597h.918c.36.004.707.14.965.387.25.234.402.55.425.887l1.04 7.554c.214 1.578-1.047 2.985-2.684 2.985H5.832c-1.637 0-2.898-1.407-2.684-2.985l1.04-7.554c.023-.336.175-.653.425-.887.258-.246.602-.383.961-.387zm0 0"}),a.createElement("path",{d:"M8.152 11.527a.738.738 0 00-.988-.257.702.702 0 00-.27.968l.633-.351-.632.351h.003v.004l.004.008a.069.069 0 00.016.02c.008.02.023.039.039.062.035.05.082.113.14.188.126.148.31.335.56.527.503.383 1.277.75 2.343.75s1.84-.367 2.344-.75c.25-.192.433-.379.558-.527.059-.075.106-.137.141-.188.016-.023.031-.043.039-.062a.069.069 0 00.016-.02l.004-.008v-.004h.003l-.613-.343.613.343a.7.7 0 00-.273-.968.734.734 0 00-.996.273l-.066.086a2.01 2.01 0 01-.317.3c-.289.22-.754.454-1.453.454-.7 0-1.164-.235-1.453-.453a2.01 2.01 0 01-.317-.301l-.066-.086c-.004-.008-.008-.016-.012-.016zm0 0"})),FALLBACK_GENERIC_TAG:a.createElement("g",null,a.createElement("path",{d:"M12.48 5.594a.653.653 0 00-.671-.387l-4.215.434c-.02 0-.035.011-.047.027l-3.906 6.77c-.489.843-.2 1.921.644 2.406l3.613 2.086c.84.488 1.918.199 2.407-.645l3.906-6.77a.048.048 0 00.004-.05zm-.835-1.98a2.262 2.262 0 012.3 1.327l1.73 3.868a1.657 1.657 0 01-.073 1.507l-3.91 6.77a3.366 3.366 0 01-4.598 1.23l-3.61-2.082a3.366 3.366 0 01-1.23-4.597l3.906-6.77a1.66 1.66 0 011.27-.82zm0 0"}),a.createElement("path",{d:"M11.309 4.133l.004-.004c.007-.008.019-.016.03-.027a10.442 10.442 0 01.617-.46 7.89 7.89 0 011.622-.86c.637-.243 1.29-.364 1.89-.266.579.093 1.165.394 1.684 1.109.262.355.266.781-.035 1.316-.316.555-.918 1.13-1.664 1.586-.746.453-1.562.754-2.254.813-.695.058-1.125-.125-1.344-.445a.64.64 0 10-1.058.722c.59.863 1.586 1.078 2.515 1 .934-.082 1.942-.469 2.809-.996.863-.531 1.656-1.246 2.11-2.047.464-.82.605-1.816-.044-2.703-.71-.98-1.59-1.473-2.515-1.621-.903-.145-1.793.047-2.547.332a9.14 9.14 0 00-1.89 1c-.235.16-.427.305-.56.41-.066.055-.12.094-.156.125-.02.016-.03.028-.043.04l-.011.007-.004.004h-.004c0 .004 0 .004.41.469l-.41-.465a.638.638 0 00-.059.902.642.642 0 00.907.059zm0 0"}),a.createElement("path",{d:"M10.809 7.918a.903.903 0 00-1.227.336.901.901 0 00.324 1.234.901.901 0 001.227-.336.905.905 0 00-.324-1.234zm-2.336-.305a2.18 2.18 0 012.976-.804 2.183 2.183 0 01.793 2.984 2.184 2.184 0 01-2.98.805 2.186 2.186 0 01-.79-2.985zm0 0"})),FALLBACK_GENERIC_GIFT_BOX:a.createElement("path",{d:"M17.45 4.516H15.3c.122-.282.196-.602.196-.942 0-1.277-1.031-2.324-2.293-2.324-1.617 0-2.398.992-3.02 2.113-.62-1.12-1.406-2.113-3.019-2.113-1.262 0-2.293 1.047-2.293 2.324 0 .34.07.66.195.942H2.914a.696.696 0 00-.691.695v3.5c0 .371.3.691.691.691h.234v8.032c0 .375.301.691.692.691h12.668c.37 0 .691-.3.691-.691V9.402h.23c.376 0 .696-.3.696-.691v-3.5a.683.683 0 00-.676-.695zm-4.247-1.883c.496 0 .922.426.922.941a.93.93 0 01-.922.942h-2.078c.676-1.278 1.066-1.883 2.078-1.883zm-6.039 0c1.012 0 1.402.62 2.078 1.902H7.164a.944.944 0 01-.926-.941c0-.516.41-.961.926-.961zm2.324 14.11H4.531v-7.34H7.5L5.953 12.05c-.07.125.02.285.16.265l.657-.05c.074 0 .144.035.18.105l.284.602c.051.125.246.144.32.02l1.954-3.325v7.074zm6.344 0h-4.957v-7.09l1.953 3.32c.074.125.25.109.32-.016l.286-.605a.195.195 0 01.18-.106l.656.055c.14.015.23-.145.16-.27l-1.547-2.644h2.969v7.355zm.926-8.708H3.609V5.902h13.149zm0 0"}),FORK_KNIFE:a.createElement("path",{d:"M4.61 1.91a.837.837 0 011.18 0l2.46 2.461c1.098 1.098 1.254 2.777.492 4.059l8.516 8.511a.837.837 0 010 1.18.837.837 0 01-1.18 0L9.996 12.04l-6.074 6.074a.837.837 0 01-1.18 0 .837.837 0 010-1.18l6.074-6.074-1.261-1.261c-1.274.734-2.934.57-4.02-.516L1.078 6.625a.837.837 0 010-1.18.82.82 0 011.156-.004l2.621 2.622a.415.415 0 00.59 0 .41.41 0 000-.586l-2.61-2.614a.832.832 0 111.18-1.176L6.618 6.29c.16.16.426.16.59 0a.422.422 0 000-.59L4.594 3.09a.825.825 0 010-1.163zm13.374-.238a3.88 3.88 0 010 5.476l-4.183 4.184-2.739-2.738zm0 0"}),KITCHEN_BLENDER:a.createElement("g",null,a.createElement("path",{d:"M3.988 13.39l-1.304 3.477a1.776 1.776 0 00-.098.82c.035.278.137.54.297.77a1.72 1.72 0 001.418.742h10.347a1.72 1.72 0 001.715-1.512c.035-.277 0-.558-.097-.82l-1.305-3.476a3.453 3.453 0 00-1.172-1.555c.34-.363.59-.8.73-1.277.438.218.926.32 1.415.296a2.913 2.913 0 001.379-.425c.417-.258.757-.617.996-1.047a2.86 2.86 0 00.367-1.395v-2.59c0-.476-.121-.945-.348-1.363a2.865 2.865 0 00-2.289-1.5c-.473-.039-.953.04-1.39.23v-.242A1.72 1.72 0 0012.925.801H4.3c-.34 0-.676.101-.957.289-.285.191-.504.46-.637.773a1.741 1.741 0 00-.098.996 1.7 1.7 0 00.473.883l1.219 1.223V9.64c0 .816.304 1.601.863 2.195a3.434 3.434 0 00-1.176 1.555zm10.66 4.087H4.301l1.304-3.485c.125-.328.344-.61.633-.812.29-.2.633-.305.985-.305h4.507a1.722 1.722 0 011.614 1.117zM15.801 4.25a1.15 1.15 0 011.148 1.148v2.59a1.15 1.15 0 11-2.3 0v-2.59c0-.304.12-.597.34-.812a1.15 1.15 0 01.812-.336zM6.023 2.523h6.903v7.118a1.507 1.507 0 01-1.512 1.508h-1.078v-3.45H8.613v3.45H7.535c-.402 0-.785-.157-1.066-.442a1.502 1.502 0 01-.446-1.066V4.25L4.301 2.523zm0 0"}),a.createElement("path",{d:"M9.477 14.313a.863.863 0 10-.004 1.725.863.863 0 00.004-1.726zm0 0"})),LIPSTICK:a.createElement("path",{d:"M12.023 1c.645-.465 1.309.129 1.309.7l.008 6.655a.834.834 0 01.828.832v9.153c0 .46-.375.832-.836.832H6.668a.834.834 0 01-.836-.832V9.188c0-.458.367-.825.824-.833l.008-3.074c0-.277.137-.539.36-.699zm.477 12.344h-5v4.164h5zm0-3.324h-5v1.66h5zm-.832-6.684l-3.336 2.39-.008 2.63h3.348zm0 0"}),PANTS:a.createElement("path",{d:"M1.527 15.895l7.106 1.87a.405.405 0 00.3-.038.39.39 0 00.184-.239l1.324-4.773 1.32 4.777a.436.436 0 00.188.238c.09.051.196.067.297.04l7.11-1.872a.395.395 0 00.238-.18.396.396 0 00.047-.296c-1.004-4.266-2.082-8.563-3.13-12.844a.39.39 0 00-.382-.3H4.754a.397.397 0 00-.246.081.41.41 0 00-.14.22C3.311 6.898 2.25 11.155 1.25 15.417a.387.387 0 00.043.293c.05.09.133.156.234.184zm.582-.668l.391-1.165 6.25 1.653-.29 1.195zm8.332-4.391a.386.386 0 00-.242.082.403.403 0 00-.14.207l-1.067 3.754L2.5 13.125l2.055-7.957h4.32v.93a.4.4 0 00.797 0v-.93h1.543v.93a.4.4 0 00.797 0v-.93h4.316l1.785 8.047-6.164 1.664-1.129-3.754a.381.381 0 00-.14-.207.383.383 0 00-.239-.082zm1.98 6.066l-.245-1.187 6.25-1.875.344 1.387zM5.056 3.066h10.758l.32 1.313h-4.13v-.711a.393.393 0 00-.03-.152.326.326 0 00-.086-.13.356.356 0 00-.13-.085.393.393 0 00-.546.367v.71H9.668v-.71a.4.4 0 00-.68-.281.396.396 0 00-.113.281v.71H4.746zm0 0"}),SOFA:a.createElement("path",{d:"M17.066 7.625V5.254a2.15 2.15 0 00-2.128-2.129H5.066a2.15 2.15 0 00-2.128 2.129v2.371C1.77 7.625.745 8.473.636 9.66c-.09.914.3 1.902.633 2.203v3.625a1.73 1.73 0 001.042 1.586v1.028c0 .746 1.79.746 1.79 0v-.872h11.804v.793c0 .747 1.785.747 1.785 0v-.949a1.74 1.74 0 001.047-1.586v-3.625c.325-.406.719-1.289.633-2.203-.113-1.187-1.133-2.035-2.305-2.035zM4.102 5.254c0-.527.437-.969.964-.969h9.871c.528 0 .97.442.97.969v2.738c-.348.25-.641.602-.813.988H4.914a2.56 2.56 0 00-.812-.988zm.984 4.887h9.832v2.296H5.086zm12.934.34c-.293.406-.438.382-.442.976v4.031c0 .317-.89.578-1.207.578H3.637c-.317 0-1.207-.261-1.207-.578v-4.031c-.004-.605-.157-.578-.442-.977a1.078 1.078 0 01.14-1.398c.657-.617 1.806-.121 1.798.77v3.164c.008.312.27.574.582.582H15.5a.608.608 0 00.582-.582V9.852c-.012-.899 1.137-1.391 1.793-.77.383.363.45.965.145 1.398zm0 0"}),SATIONERY_SPRING:a.createElement("path",{d:"M4.18 1.328c.53.438 1.25.703 2.043.703C7.898 2.031 8.343.836 10 .836c1.66 0 2.105 1.195 3.781 1.195a3.24 3.24 0 002.043-.703c.953-.781 2.617-.625 3.176.695.23.543.27 1.403-.336 2.145a3.23 3.23 0 00-.707 2.047c0 1.664 1.195 2.12 1.195 3.781 0 1.66-1.195 2.09-1.195 3.785 0 .793.273 1.508.707 2.043 1.563 1.95-.832 4.39-2.84 2.844a3.338 3.338 0 00-2.043-.707c-1.644 0-2.12 1.195-3.781 1.195-1.656 0-2.09-1.195-3.777-1.195-.793 0-1.504.277-2.043.707-1.985 1.578-4.418-.922-2.84-2.844.437-.531.707-1.25.707-2.043 0-1.668-1.195-2.125-1.195-3.785 0-1.66 1.195-2.082 1.195-3.781a3.23 3.23 0 00-.707-2.047C.254 2.84 1.098 1.145 2.402.875a2.114 2.114 0 011.778.453zm12.488 2.008H3.332v13.332h13.336zM10 5.02c.988 0 1.742.867 1.621 1.832l-.02.12-.078.387.297-.261a1.634 1.634 0 111.723 2.73l-.121.047-.371.125.37.125a1.636 1.636 0 01.892 2.367 1.632 1.632 0 01-2.387.492l-.106-.082-.297-.261.079.386A1.632 1.632 0 0110 14.98a1.632 1.632 0 01-1.621-1.832l.02-.12.078-.387-.297.261a1.634 1.634 0 11-1.723-2.73l.121-.047L6.95 10l-.37-.125a1.634 1.634 0 111.495-2.86l.106.083.297.261-.079-.386A1.632 1.632 0 0110 5.02zm0 3.386a1.593 1.593 0 10-.002 3.186A1.593 1.593 0 0010 8.406zm0 0"}),WELLNESS:a.createElement("path",{d:"M9.59 4.285a.776.776 0 01.82 0c.383.246.918.715 1.442 1.43.324.437.597.914.816 1.43.828-.438 1.598-.625 2.172-.665a.735.735 0 01.707.387c.07.133.16.356.25.66.226.79.305 1.641.168 2.535.469.016.91.083 1.32.188.29.078.508.156.637.215.27.125.43.387.41.668-.059.746-.422 1.793-1.348 2.836a6.731 6.731 0 01-1.836 1.437c-1.18.645-2.375.906-3.523.871A5.95 5.95 0 0110 16.012c-.082.023-.176.05-.273.074-1.457.379-3.145.262-4.875-.68a6.731 6.731 0 01-1.836-1.437c-.926-1.043-1.29-2.09-1.348-2.836a.686.686 0 01.41-.668c.129-.059.344-.137.633-.215.375-.094.773-.16 1.2-.184a5.852 5.852 0 01.167-2.539c.09-.304.18-.527.25-.66a.735.735 0 01.707-.387c.606.043 1.41.247 2.274.715a6.973 6.973 0 01.84-1.48C8.671 5 9.206 4.53 9.588 4.285zm6.25 7.125h-.25a7.12 7.12 0 01-.594 1.2 7.214 7.214 0 01-1.934 2.109c.446-.11.899-.285 1.356-.535a5.3 5.3 0 001.45-1.13c.413-.464.69-.956.859-1.449l.03-.09a4.851 4.851 0 00-1.167-.105zm-11.555-.004c-.375 0-.723.04-1.043.11.008.03.02.058.031.09.168.492.45.984.86 1.449.379.43.86.808 1.449 1.129.395.218.785.379 1.164.488a7.277 7.277 0 01-1.867-2.063 7.154 7.154 0 01-.594-1.203zM10 5.734a5.365 5.365 0 00-.656.739c-.7.953-1.121 2.132-1.121 3.566 0 1.43.422 2.61 1.12 3.563.212.289.434.535.657.742.223-.207.445-.453.656-.742.7-.954 1.121-2.133 1.121-3.563 0-1.434-.422-2.613-1.12-3.566A5.365 5.365 0 0010 5.734zm4.406 2.196c-.035.008-.07.02-.105.03a5.262 5.262 0 00-1.215.524c.101.496.152 1.012.152 1.555 0 1.27-.281 2.39-.777 3.363.48-.398.906-.886 1.27-1.48.882-1.442 1-2.813.675-3.992zM5.47 7.926c-.32 1.183-.203 2.554.68 3.992.363.594.788 1.086 1.269 1.484-.496-.972-.777-2.097-.777-3.367 0-.539.05-1.058.152-1.555a5.436 5.436 0 00-1.215-.523c-.035-.012-.074-.02-.11-.031zm0 0"}),PERSON_ARROW_UTURN_LEFT:a.createElement("path",{d:"M5.87 10.5h2.76c2.68 0 4.87 2.21 4.87 4.96 0 .31-.18.59-.45.71-.3.13-.83.32-1.59.51-1.24.3-2.65.49-4.22.49s-2.98-.18-4.22-.49c-.75-.19-1.29-.37-1.59-.51-.25-.11-.43-.39-.43-.71 0-2.74 2.19-4.96 4.87-4.96zM7.25 3C5.42 3 3.92 4.41 3.92 6.16c0 1.79 1.52 3.51 3.33 3.51s3.33-1.72 3.33-3.51C10.58 4.41 9.08 3 7.25 3zM15.84 5.43c.33-.33.33-.85 0-1.18s-.85-.33-1.18 0l-2.08 2.08-.59.59.59.59 2.08 2.08c.33.33.85.33 1.18 0s.33-.85 0-1.18l-.66-.66h.49c.92 0 1.67.75 1.67 1.67s-.75 1.67-1.67 1.67H15v1.67h.67c1.84 0 3.33-1.49 3.33-3.33S17.51 6.1 15.67 6.1h-.49l.66-.67z"}),LAYOUT_PICKER:a.createElement("g",null,a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.565.833h16.667c.46 0 .833.374.833.834v16.666c0 .46-.373.834-.833.834H1.565a.833.833 0 01-.833-.834V1.667c0-.46.372-.834.833-.834zm.833 5h15V2.5h-15v3.333zm15 11.667h-6.666v-10h6.666v10zm-8.333-10H2.398v10h6.667v-10z",fill:"url(#paint0_linear_475_674)"}),a.createElement("defs",null,a.createElement("linearGradient",{id:"paint0_linear_475_674",x1:".898",y1:"1",x2:"18.898",y2:"19",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{stopColor:"#FF0080"}),a.createElement("stop",{offset:"1",stopColor:"#0F69FF"})))),YBANG_ALT:a.createElement("path",{d:"M12.7 10.65c-1.25 0-2.19 1.01-2.19 2.19 0 1.16.9 2.11 2.11 2.11 1.25 0 2.19-.99 2.19-2.19 0-1.18-.9-2.11-2.11-2.11M15.14 1.5l-3.45 8.34h3.86L19 1.5h-3.86M8.77 5.58l-2.13 5.4-2.11-5.4H1l3.93 9.27-1.41 3.35h3.45L12.2 5.58H8.77"}),FORWARD_OUTLINE:a.createElement("path",{d:"M10.1 3.38c.24-.13.53-.1.74.07l7.86 5.94c.18.15.29.37.28.61 0 .24-.1.46-.28.61l-7.86 5.91c-.21.17-.5.2-.74.07a.75.75 0 01-.39-.68v-2.43H2.83c-.39-.01-.83-.45-.83-.87V7.24c0-.42.44-.76.83-.76l6.87-.03V4.06c.01-.29.16-.55.4-.68zm1 2.16v1.65c0 .42-.3.73-.69.74l-7 .03V12h7c.39 0 .71.34.71.76l-.01 1.67L17.25 10 11.1 5.54z"}),DEALS_OUTLINE:a.createElement("path",{d:"M10.19 2.02c.21 0 .41.08.55.23l7.01 7.15c.3.3.29.79-.01 1.09l-7.26 7.26c-.3.3-.78.3-1.09 0l-7.15-7.01a.764.764 0 01-.23-.55V2.8c0-.43.35-.77.77-.77h7.41zm-.32 1.55h-6.3v6.3l6.37 6.25 6.18-6.17c0-.01-6.25-6.38-6.25-6.38zM6.82 5.36a1.455 1.455 0 110 2.91c-.8 0-1.46-.65-1.46-1.45s.65-1.46 1.46-1.46z"}),CAPITOL_BUILDING_FILL:a.createElement("path",{d:"M10.365.93l7.818 4.272c.364.199.224.756-.19.756H2.008c-.414 0-.554-.556-.19-.756L9.605.93a.792.792 0 01.76 0zm8.002 6.262H1.633c-.441 0-.8.36-.8.806 0 .444.359.805.8.805h16.735c.44 0 .799-.36.799-.805a.802.802 0 00-.8-.806zM2.663 16.357a1 1 0 01-.996-.997v-4.387a1 1 0 01.996-.996 1 1 0 01.997.996v4.387a1 1 0 01-.997.997zm3.885-.997a1 1 0 00.997.997 1 1 0 00.996-.997v-4.387a1 1 0 00-.997-.996 1 1 0 00-.996.996v4.387zm5.908.997a1 1 0 01-.996-.997v-4.387a1 1 0 01.996-.996 1 1 0 01.997.996v4.387a1 1 0 01-.997.997zm4.881 0a1 1 0 01-.996-.997v-4.387a1 1 0 01.996-.996 1 1 0 01.997.996v4.387a1 1 0 01-.997.997zM1.633 17.556h16.735c.44 0 .799.36.799.806a.803.803 0 01-.8.805H1.633c-.441 0-.8-.361-.8-.805 0-.446.359-.806.8-.806z"}),FILTER:a.createElement("path",{d:"M18.25 4.25H8.89C8.56 2.96 7.4 2 6 2s-2.56.96-2.89 2.25H1.75c-.41 0-.75.34-.75.75s.34.75.75.75h1.36C3.44 7.04 4.6 8 6 8s2.56-.96 2.89-2.25h9.36c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zM6 6.5c-.83 0-1.5-.67-1.5-1.5S5.17 3.5 6 3.5s1.5.67 1.5 1.5S6.83 6.5 6 6.5zM18.25 9.25h-1.36C16.56 7.96 15.4 7 14 7s-2.56.96-2.89 2.25H1.75c-.41 0-.75.34-.75.75s.34.75.75.75h9.36C11.44 12.04 12.6 13 14 13s2.56-.96 2.89-2.25h1.36c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zM14 11.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM18.25 14.25H8.89C8.56 12.96 7.4 12 6 12s-2.56.96-2.89 2.25H1.75c-.41 0-.75.34-.75.75s.34.75.75.75h1.36C3.44 17.04 4.6 18 6 18s2.56-.96 2.89-2.25h9.36c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zM6 16.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),LIGHTNING_BOLT:a.createElement("path",{d:"M12.73 1.08c.35.16.56.55.5.95l-.76 5.52 2.3.68c.28.08.5.31.59.6.09.28.03.6-.15.83l-6.91 9c-.25.32-.66.43-1.02.27a.912.912 0 01-.51-.96l.77-5.61-2.42-1.08a.924.924 0 01-.5-.62c-.06-.28.01-.57.18-.79l6.91-8.55c.25-.31.67-.41 1.02-.24zM6.88 10.1l1.95.87c.35.16.57.55.51.96l-.41 3.03 4.12-5.37-1.78-.53c-.41-.12-.67-.54-.61-.99l.43-3.19-4.21 5.22z"}),PIN:a.createElement("path",{d:"M8.85 15.74l6.13 2.729c.153-.533.322-1.06.417-1.607.069-.397.138-.954.14-1.596.004-1.143-.208-2.63-1.096-3.953l1.74-3.91 1.96-1.627a1.442 1.442 0 00-.334-2.426L10.567.126A1.442 1.442 0 008.54 1.501l.102 2.546-1.724 3.871c-1.588.13-2.845.989-3.69 1.782-.479.45-.85.903-1.1 1.242-.332.447-.599.933-.878 1.414l6.103 2.717-1.68 3.775a.82.82 0 001.497.666l1.68-3.774z"}),PIN_OUTLINE:a.createElement("path",{d:"M8.85 15.74l6.13 2.729c.153-.533.322-1.06.417-1.607.069-.397.138-.954.14-1.596.004-1.143-.208-2.63-1.096-3.953l1.74-3.91 1.96-1.627a1.442 1.442 0 00-.334-2.426L10.567.126A1.442 1.442 0 008.54 1.501l.102 2.546-1.724 3.871c-1.588.13-2.845.989-3.69 1.782-.479.45-.85.903-1.1 1.242-.332.447-.599.933-.878 1.414l6.103 2.717-1.68 3.775a.82.82 0 001.497.666l1.68-3.774zm1.507-11.364l-.101-2.526 6.478 2.884-1.945 1.615-2.316 5.202.33.405c.813.998 1.037 2.241 1.033 3.305 0 .297-.02.573-.046.816L3.762 11.612c.175-.21.387-.443.632-.673.79-.743 1.833-1.377 3.054-1.335l.573.02 2.336-5.248z"}),MEDICAL_KIT:a.createElement("path",{d:"M11 13v2a1 1 0 01-2 0v-2H7a1 1 0 110-2h2V9a1 1 0 112 0v2h2a1 1 0 110 2h-2zM7 4h6v2H7V4zm10 2h-2V3a1 1 0 00-1-1H6a1 1 0 00-1 1v3a3 3 0 00-3 3v8a1 1 0 001 1h14a1 1 0 001-1V9a3 3 0 00-3-3h2z"}),ADD_CONTACT:a.createElement("path",{d:"M15.209 6.875a2.708 2.708 0 11-5.418 0 2.71 2.71 0 015.418 0zm1.848 5.474c-.11-.104-.216-.209-.345-.304-.992-.739-2.51-1.211-4.212-1.211s-3.219.471-4.211 1.211c-.129.095-.236.201-.346.304-.534.504-.859 1.096-.859 1.74v1.329c0 .458.375.834.834.834h9.166a.837.837 0 00.834-.834v-1.329c0-.644-.324-1.236-.859-1.74h-.002zM7.5 8.438H6.25v-1.25a.833.833 0 10-1.668 0v1.25H3.281v.011c-.435.028-.781.381-.781.822s.346.794.781.823v.011h1.301v1.302h.011c.029.434.381.781.823.781s.794-.346.823-.781h.011v-1.302H7.5a.833.833 0 100-1.667z"}),AOL_AD_FREE:a.createElement("path",{d:"M17.644 16.432L3.567 2.355A9.951 9.951 0 0110 0c5.513 0 10 4.485 10 10 0 2.45-.888 4.692-2.356 6.432zm-10.876-5.36H4.812l.984-3.11.972 3.11zM10 20C4.485 20 0 15.515 0 10a9.94 9.94 0 012.175-6.208l2.393 2.392-2.793 7.95v.095h2.04l.505-1.597h2.94l.504 1.597h2.401v-.096l-1.274-3.626 2.124 2.124v1.598h1.598l3.595 3.595A9.937 9.937 0 0110 20zm3.884-14.233h-2.868V8.03l2.304 2.305V7.471h.481c1.308 0 2.208.72 2.208 2.57 0 1.116-.321 1.774-.853 2.131l1.428 1.428c1.087-.627 1.777-1.75 1.777-3.56 0-3.036-1.932-4.273-4.477-4.273z"}),MONOCHROME_MIXED_CHECKBOX:a.createElement("g",null,a.createElement("path",{d:"M7 11h6a1 1 0 000-2H7a1 1 0 100 2z"}),a.createElement("path",{d:"M14.5 17h-9A2.503 2.503 0 013 14.5v-9C3 4.122 4.122 3 5.5 3h9C15.878 3 17 4.122 17 5.5v9c0 1.378-1.122 2.5-2.5 2.5zm-9-13C4.673 4 4 4.673 4 5.5v9c0 .827.673 1.5 1.5 1.5h9c.827 0 1.5-.673 1.5-1.5v-9c0-.827-.673-1.5-1.5-1.5h-9z"})),NOTSPAM:a.createElement("g",null,a.createElement("path",{d:"M17.023 4.671l-.001.001c-1.298-.089-3.868-.599-6.514-2.978a.758.758 0 00-1.016.001c-2.644 2.38-5.216 2.889-6.513 2.978-.411.03-.706.379-.707.792 0 9.374 6.278 12.534 7.46 12.986a.749.749 0 00.536.002c1.181-.437 7.459-3.578 7.459-12.99.002-.413-.293-.761-.704-.792zm-7.024 9.192a3.862 3.862 0 110-7.726 3.862 3.862 0 110 7.726z"}),a.createElement("path",{d:"M7.371 10a2.63 2.63 0 002.628 2.627c.501 0 .963-.147 1.362-.391L7.763 8.638A2.591 2.591 0 007.371 10zM9.998 7.372l.001.001a2.6 2.6 0 00-1.362.391l3.598 3.597c.243-.398.391-.861.391-1.362a2.632 2.632 0 00-2.628-2.627z"})),BLOCK_PEOPLE:a.createElement("path",{d:"M12.6 10c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM12.6 11c-4.4 0-6.4 2.5-6.4 4.3V18h13v-2.7c-.1-2.1-2.1-4.3-6.6-4.3zm4.6 5H8v-.7c0-.6 1.1-2.3 4.5-2.3 3 0 4.6 1.2 4.6 2.3v.7zM6.1 10.2L5 9.1 6.1 8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L3.6 7.7 2.5 6.6c-.4-.3-1-.3-1.4 0-.3.4-.3 1 0 1.4l1.1 1.1-1.1 1.1c-.3.4-.3 1 0 1.4.4.4 1 .4 1.4 0l1.1-1.1 1.1 1.1c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4z"}),BLOCK_PEOPLE_FILL:a.createElement("path",{d:"M16.1 6c0 1.8-1.5 3.2-3.2 3.2-1.8 0-3.2-1.5-3.2-3.2s1.5-3.2 3.2-3.2c1.8-.1 3.2 1.4 3.2 3.2zm2.3 6.6c.6.6 1 1.3 1 2.1v1.6c0 .5-.4 1-1 1h-11c-.6 0-1-.5-1-1v-1.6c0-.8.4-1.5 1-2.1l.4-.4c1.2-.9 3-1.5 5.1-1.5s3.9.6 5.1 1.5l.4.4zM4.8 8.9L5.9 10c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-1.1-1.1-1.1 1.1c-.4.3-1 .3-1.4 0s-.4-1 0-1.4L2 8.9.9 7.8c-.3-.4-.3-1 0-1.4s1-.4 1.4 0l1.1 1.1 1.1-1.1c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L4.8 8.9z"}),COMMENT_FILL:a.createElement("path",{d:"M4.4 1.1h11.2c1.8 0 3.3 1.5 3.3 3.2v8.1c0 1.8-1.5 3.2-3.3 3.2H5.8l-3.4 3c-.2.1-.4.2-.6.2-.1 0-.2 0-.3-.1-.3-.1-.5-.4-.5-.7V4.3a3.4 3.4 0 013.4-3.2zm9.7 4.8H6c-.4 0-.8.4-.8.8s.3.9.8.9h8.1c.4 0 .8-.4.8-.8s-.4-.9-.8-.9zM6 9.2c-.4 0-.8.4-.8.8s.4.8.8.8h8.1c.4 0 .8-.4.8-.8s-.4-.8-.8-.8H6z"}),CONVERSATIONS_FILL:a.createElement("g",null,a.createElement("path",{d:"M14.8 9.2V4.4c0-1.8-1.4-3.2-3.2-3.2H4.5c-1.8 0-3.2 1.4-3.2 3.2v9.3c0 .4.2.7.5.9.1 0 .2.1.4.1s.4-.1.6-.2l2.3-2.2h6.5c1.8.1 3.2-1.4 3.2-3.1zM5.3 4.4h5.6c.4 0 .8.4.8.8s-.4.8-.9.8H5.3c-.5 0-.8-.4-.8-.8s.3-.8.8-.8zm5.5 4.8H5.3c-.4 0-.8-.4-.8-.8s.4-.8.8-.8h5.6c.4 0 .8.4.8.8-.1.4-.4.8-.9.8z"}),a.createElement("path",{d:"M16.4 5.3v3.9c0 2.6-2.1 4.8-4.8 4.8H5.7l-.3.2c.4 1.2 1.6 2.1 3 2.1h6.5l2.3 2.2c.2.2.4.2.6.2.2 0 .3-.1.4-.1.3-.2.5-.5.5-.9V8.4c.1-1.5-1-2.7-2.3-3.1z"})),UNSUBSCRIBE:a.createElement("path",{d:"M18.2 9.8c-.8-.3-1.5-.5-2.4-.5-3.2 0-5.8 2.5-6.1 5.5H2.3c-.5 0-1-.4-1-1V5.5l8.2 3.8.3.1.4-.1 8.1-3.5zm0-6.1L9.8 7.2 1.3 3.3v-.5c0-.6.4-1 1-1h15c.6 0 1 .4 1 1zm-4.1 8.7l1.8 1.9 1.8-1.9c.4-.4.9-.4 1.2 0 .4.4.4.9 0 1.2l-1.8 1.9 1.8 1.8c.4.4.4.9 0 1.2-.4.4-.9.4-1.2 0L16 16.8l-1.8 1.8c-.4.4-.9.4-1.2 0-.4-.4-.4-.9 0-1.2l1.8-1.8-1.8-1.9c-.4-.4-.4-.9 0-1.2.2-.4.8-.4 1.1-.1z"}),BLOCK:a.createElement("path",{d:"M2.5 10c0-1.8.6-3.4 1.6-4.7l10.5 10.5c-1.3 1-2.9 1.6-4.7 1.6-4 .1-7.4-3.3-7.4-7.4m15 0c0 1.8-.6 3.4-1.7 4.7L5.3 4.2c1.3-1 2.9-1.7 4.7-1.7 4.1 0 7.5 3.4 7.5 7.5M10 .8C4.9.8.8 4.9.8 10s4.1 9.2 9.2 9.2 9.2-4.1 9.2-9.2S15.1.8 10 .8"}),TAB_MESSAGES:a.createElement("path",{d:"M17.273 4H2.727A.738.738 0 002 4.75v1.393l8 3.782 8-3.782V4.75a.738.738 0 00-.727-.75zM10 11.5L2 7.794v7.456c0 .415.325.75.728.75h14.545a.739.739 0 00.727-.75V7.793L10 11.5z"}),SORT:a.createElement("path",{d:"M9.2 3.6c0-.4.4-.8.8-.8h8.2c.5 0 .8.4.8.8s-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8m-8 9.7c.3-.3.8-.3 1.2 0l1.9 1.8V2h1.6v13.1l1.9-1.8c.3-.3.8-.3 1.2 0 .2.1.2.3.2.5s-.1.4-.2.5L5.1 18l-3.9-3.6c-.3-.3-.3-.8 0-1.1M14.1 10c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.4-.8.8-.8h3.3c.4 0 .8.4.8.8m2.4-3.2c0 .4-.4.8-.8.8H10c-.5 0-.8-.4-.8-.8s.3-.8.8-.8h5.7c.5 0 .8.4.8.8"}),PRO:a.createElement("path",{d:"M5.14 17.1c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44c.24-.24.24-.64 0-.88a.628.628 0 00-.88 0l-.44.44zM9.38 18.75v.62a.619.619 0 101.24.01v-.62c0-.34-.28-.62-.62-.62s-.62.27-.62.61zM14.42 16.66a.628.628 0 00-.88 0c-.24.24-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10 8.71c.45 0 .63.16.63.54 0 .36-.16.56-.62.56h-.32v-1.1H10zm-4.53.03c.36 0 .58.16.58.58 0 .43-.17.61-.57.61h-.32V8.74h.31zm9.6-.04c.54 0 .82.5.82 1.3s-.27 1.33-.82 1.33c-.55 0-.82-.53-.82-1.33s.29-1.3.82-1.3zm-4.88-1.1H8.04v4.84h1.65v-1.58h.38l.69 1.58h1.68v-.08l-.89-1.92c.42-.25.64-.68.64-1.26-.01-.97-.64-1.58-2-1.58zm-4.7 0H3.51v4.84h1.65V11h.36c1.26 0 2.05-.51 2.05-1.66 0-1.23-.81-1.74-2.08-1.74zm9.58-.1c-1.56 0-2.51 1.06-2.51 2.5s.95 2.54 2.51 2.54c1.57 0 2.51-1.1 2.51-2.54s-.94-2.5-2.51-2.5zM15 5c2.76 0 5 2.24 5 5s-2.24 5-5 5H5c-2.76 0-5-2.24-5-5s2.24-5 5-5h10zM6.02 2.01a.628.628 0 00-.88 0c-.24.24-.24.64 0 .88l.44.44c.24.24.64.24.88 0s.24-.64 0-.88l-.44-.44zM10.62 1.25V.62c0-.34-.27-.62-.62-.62s-.62.28-.62.62v.62c0 .35.28.62.62.62s.62-.26.62-.61zM14.86 2.9c.24-.24.24-.64 0-.88s-.64-.24-.88 0l-.44.44c-.24.24-.24.64 0 .88s.64.24.88 0l.44-.44z"}),ANNOUNCEMENT:a.createElement("path",{d:"M14.22 2.04L5 5.11H.83c-.45 0-.83.47-.83 1.04v6.26c0 .57.37 1.04.83 1.04H2.5v.83c0 2.3 1.87 4.17 4.17 4.17 1.93 0 3.56-1.32 4.03-3.1l3.52 1.17c.43.14.78-.11.78-.57V2.61c0-.46-.35-.71-.78-.57zM2.5 11.75v-5h1.67v5H2.5zm4.17 5.03c-1.46 0-2.5-1.25-2.5-2.5v-.83H5l4.1 1.37c-.24 1.04-1.18 1.96-2.43 1.96zM16.88 12.31c.23-.4.74-.54 1.14-.31l1.44.83c.4.23.53.74.3 1.14-.23.4-.74.54-1.14.31l-1.44-.83a.824.824 0 01-.3-1.14zM19.17 8.45c.46 0 .83.37.83.83s-.37.83-.83.83H17.5c-.46 0-.83-.37-.83-.83s.37-.83.83-.83h1.67zM18.62 4.28a.835.835 0 11.83 1.45l-1.44.83c-.4.23-.91.09-1.14-.3-.23-.4-.09-.91.3-1.14l1.45-.84z"}),KEEP_NEW:a.createElement("path",{d:"M11.2 12.2L20 8.5v7.7c0 .4-.4.8-.8.8H3.3c-.4 0-.8-.3-.8-.8V8.5l8.7 3.7zM2.5 6C1.1 6 0 4.9 0 3.5S1.1 1 2.5 1 5 2.1 5 3.5 3.9 6 2.5 6zm16.7-2.3H6.5C6.4 5.5 5.1 7 3.4 7.4l7.8 3.4L20 7V4.5c0-.4-.4-.8-.8-.8z"}),OPEN_ENVELOPE:a.createElement("path",{d:"M19 9v8.5c0 .55-.45 1-1 1H1.99c-.55 0-.99-.44-.99-.99V9l9 5 9-5zm-9 3.5l-9-5 8.35-5.77c.37-.3.9-.3 1.28 0L19 7.5l-9 5z"}),STOPWATCH:a.createElement("g",null,a.createElement("path",{d:"M13.25 2.5h-6.5c-.41 0-.75-.34-.75-.75S6.34 1 6.75 1h6.5c.41 0 .75.34.75.75s-.34.75-.75.75zM8.31 8.75l2.19 2.19c.29.29.29.77 0 1.06-.29.29-.77.29-1.06 0L7.25 9.81a.754.754 0 010-1.06c.29-.29.77-.29 1.06 0z"}),a.createElement("path",{d:"M15.81 6.75l.91-.91c.29-.29.29-.77 0-1.06s-.77-.29-1.06 0l-.91.91A7.503 7.503 0 002.5 11.5c0 4.14 3.36 7.5 7.5 7.5a7.503 7.503 0 005.81-12.25zM10 17.5c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"})),VOLUME:a.createElement("path",{d:"M10.89 4.71c.14-.4.6-.64 1.03-.51 2.8.78 4.76 3.16 4.75 5.79.01 2.66-1.94 5.05-4.75 5.82-.06.02-.16.02-.23.02-.39 0-.68-.16-.8-.44a.768.768 0 01.01-.63c.1-.22.3-.38.53-.46 2.1-.66 3.56-2.43 3.56-4.32 0-1.94-1.45-3.71-3.55-4.29a.827.827 0 01-.51-.4.727.727 0 01-.04-.58zm-1.72-.54v11.67L5.83 12.5H3.75a.42.42 0 01-.42-.41V7.91c0-.23.18-.41.42-.41h2.08l3.34-3.33zm1.88 3.56c.28-.28.8-.31 1.12-.06.74.59 1.17 1.44 1.17 2.33 0 .89-.42 1.73-1.17 2.32a.83.83 0 01-.53.18c-.23 0-.44-.09-.59-.24a.717.717 0 01-.22-.55c.01-.2.11-.4.28-.53.38-.3.53-.73.53-1.18 0-.46-.14-.89-.52-1.19a.72.72 0 01-.28-.53c-.02-.21.06-.4.21-.55z"}),VOLUME_MUTE:a.createElement("path",{d:"M9.17 4.17v11.67L5.83 12.5H3.75a.42.42 0 01-.42-.41V7.91c0-.23.18-.41.42-.41h2.08zm5.23 3.59c.32-.33.85-.33 1.18 0 .33.32.32.86 0 1.18l-1.07 1.08 1.07 1.07c.33.33.33.85 0 1.18-.32.33-.86.32-1.18 0l-1.08-1.08-1.07 1.08c-.33.33-.85.33-1.18 0s-.32-.86 0-1.18l1.08-1.07-1.08-1.08a.827.827 0 010-1.18c.32-.33.86-.32 1.18 0l1.07 1.07z"})};class _ extends a.Component{shouldComponentUpdate(e){return e.ariaLabel!==this.props.ariaLabel||e.colorState!==this.props.colorState||e.size!==this.props.size||e.rotate!==this.props.rotate||e.kind!==this.props.kind}render(){const{colorState:e,forwardedRef:t,size:s,rotate:n,allowPointerEvents:o,ariaLabel:l,kind:_,flipRTL:E,...u}=this.props,m=i()(r(),{colorState:e,size:s,rotate:n,allowPointerEvents:o,flipRTL:E});let S=m.icon;return E&&(S+=" "+m.rtlRawScaleX),a.createElement("svg",c({ref:t,"aria-label":l,viewBox:"0 0 20 20",className:S},u),d[_])}}var E,u,m;E=_,u="defaultProps",m={colorState:l.ColorStates.NORMAL,size:l.Sizes.S},u in E?Object.defineProperty(E,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):E[u]=m;const S=_,p=d},9333:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(67294),n=s(43007),r=s(67498),o=s(89341),i=s.n(o),l=s(76223),c=s.n(l),d=s(61395),_=s.n(d);const E=/^(kind|colorState|size|rotate|flipRTL)$/,u=/^(?:(?:disabled|paddingLess|role|title)$|data-|aria-|on)/;const m=(e,t,s)=>{e[s]=t[s]},S=a.forwardRef(((e,t)=>{const s={},{size:o,disabled:l=!1,isCompact:d=!1,paddingLess:S=!1,isOnDarkBackground:p=!1}=e,C=c()(i(),{disabled:l,isCompact:d,isOnDarkBackground:p,size:o||"",paddingLess:S}),A={"data-test-id":e["data-test-id"]||"icon-btn-"+("string"==typeof e.kind?e.kind.toLowerCase():""),"data-iskeynav":e["data-iskeynav"],tabIndex:e.tabIndex,id:e.id,isOnDarkBackground:e.isOnDarkBackground,className:C.button,buttonRef:t,disabled:l};return Object.keys(e).forEach((t=>{!function(e){return E.test(e)}(t)?!function(e){return u.test(e)}(t)?"className"===t&&(A[t]=_()(A.className||"",e[t]||"")):m(A,e,t):m(s,e,t)})),a.createElement(r.Z,A,a.createElement("span",{className:C.content},a.createElement(n.Z,s),e.children?a.createElement("span",{className:C.label},e.children):null))}));S.displayName="ForwardRef<FujiIconButton>";const p=S},23113:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s(45697);var a=s(67294),n=s(55636);const r=({haystack:e,needle:t,formatter:s,containerClassNames:r})=>{const[o,i,l]=(0,n.s_)(e,t);return i?a.createElement("span",{className:`${r} notranslate`},o,s(i),l):a.createElement("span",{className:r},e)};r.defaultProps={formatter:e=>e,haystack:"",needle:""};const o=r},64692:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(43007);s(76531),s(95406);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends a.Component{constructor(...e){super(...e),o(this,"state",{hovered:!1}),o(this,"handleHover",(e=>{this.setState({hovered:e})}))}render(){const{colorStates:e,...t}=this.props,s=this.state.hovered?e.hovered:e.normal;return a.createElement(n.Z,r({},t,{onMouseEnter:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),colorState:s,allowPointerEvents:!0}))}}const l=i},56148:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a=s(67294),n=s(9333),r=(s(76531),s(95406),s(61395)),o=s.n(r),i=s(88901),l=s.n(i),c=s(76223);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E=s.n(c)()(l());class u extends a.Component{constructor(...e){super(...e),_(this,"state",{hovered:!1}),_(this,"handleHover",(e=>{this.setState({hovered:e})}))}render(){const{colorStates:e,...t}=this.props,s=!this.props.disabled&&this.state.hovered?e.hovered:e.normal;return a.createElement(n.default,d({title:""},t,{className:o()(E.button,this.props.className||""),onMouseOver:this.handleHover.bind(this,!0),onMouseOut:this.handleHover.bind(this,!1),colorState:s}))}}const m=u},46229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(67294),n=s(41546);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const o=({src:e,srcSet:t,...s})=>(t&&(t=t.split(",").map((e=>{const[t,s,...a]=e.trim().split(" ");if(a.length)throw new TypeError("Unexpected values in srcset string");if(!s)throw new TypeError("Expected each srcset string to contain a width descriptor");return`${(0,n.A)(t)} ${s}`})).join(", ")),a.createElement("img",r({},s,{src:(0,n.A)(e)},t?{srcSet:t}:void 0)))},12782:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s(45697);var a=s(67294),n=s(77163);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i="pointer-mode",l="keyboard-mode";class c extends a.Component{constructor(...e){super(...e),o(this,"state",{inputMode:i}),o(this,"lastMouseCoordinates",[]),o(this,"handleKeyUp",(e=>{switch(e.key){case"Tab":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":this.handleKeyNav()}switch(e.which){case n.P.PERIOD:case n.P.COMMA:this.handleKeyNav();break;default:return}})),o(this,"handleMouseDown",(()=>{this.setState({inputMode:i})})),o(this,"handleMouseMove",(e=>{this.lastMouseCoordinates[0]===e.screenX&&this.lastMouseCoordinates[1]===e.screenY||(this.lastMouseCoordinates=[e.screenX,e.screenY],this.setState({inputMode:i}))}))}handleKeyNav(){this.setState({inputMode:l})}componentDidUpdate(e,t){document&&document.body&&t.inputMode!==this.state.inputMode&&(document.body.classList.remove(t.inputMode),document.body.classList.add(this.state.inputMode))}componentDidMount(){document.body.classList.add(this.state.inputMode)}render(){const e=this.props.className?" "+this.props.className:"",t=this.state.inputMode+e,s=this.state.inputMode===l?{onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown}:{onKeyUp:this.handleKeyUp};return a.createElement("div",r({className:t},s),this.props.children)}}const d=c},27077:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(67294),n=s(99095),r=s(18685),o=s(67607),i=s(7426),l=s(81732),c=s(37422),d=s(92559),_=s(17016),E=s(85927),u=s(76531),m=s(9333),S=s(94482);const p=(0,n.defineMessages)({title:{id:"list.toolbar.keepAsNew",defaultMessage:"Keep as New"}});const C=(0,r.connect)((e=>{const{isInboxStyleNewOldMail:t,getSetting:s}=(0,E.selectors)(e);return{allowKeepAsNew:t(),theme:s(c.Zrf.THEME_MODE)}}))((function(e){const{allowKeepAsNew:t,className:s,theme:r,disabled:E,showLabel:C}=e,{formatMessage:A}=(0,i.Y)(),T=(0,l.I0)();if(!t)return null;const I=A(p.title);return a.createElement(S.Z,null,a.createElement("div",{className:s},a.createElement(m.default,{"data-iskeynav":!0,"data-test-id":"toolbar-keep-as-new","aria-label":I,title:I,kind:u.Kinds.KEEP_NEW,disabled:E,onClick:e=>T((0,o.Cq)({triageActionType:c.Ewo.READ_CHANGE_SELECTED_ITEMS,i13nModel:{mKey:d.JE.TOOLBAR_KEEP_AS_NEW,sec:d.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:d.rO.markUnread,interactionType:(0,_.getInteractionFromEvent)(e)}})),size:u.Sizes.XS,colorState:u.ColorStates.INHERITED,isOnDarkBackground:r===c.zgU.DARK},C&&a.createElement(n.FormattedMessage,p.title))))}))},68003:(e,t,s)=>{"use strict";s.d(t,{U:()=>u,Z:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(77163);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=(0,i.defineMessages)({focus_group_aria_label:{id:"focus_group_aria_label",defaultMessage:"Keyboard navigation group. Use arrow keys to navigate, or tab to the next group."}}),E="data-iskeynav",u={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL"},m=["escape","left","meta+left","right","meta+right","up","meta+up","down","meta+down",",","."];class S extends r.Component{constructor(...e){super(...e),d(this,"handleClick",(e=>{const t=this.getNavigableElements();let s=e.target;for(;s!==e.currentTarget&&!s.getAttribute(E);)if(s=s.parentElement,!s)return;t.indexOf(s)>-1&&-1===s.tabIndex&&this.applyFocusTo(s)})),d(this,"handleKeyDown",(e=>{if(!e.target.isContentEditable&&!(this.props.skipKeydownOnFormElement&&-1!==["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)||this.props.excludeKeyCodes.indexOf(e.key)>=0||this.props.excludeKeyCodes.indexOf(e.which)>=0)){switch(e.key){case"Escape":document.activeElement.blur()}if(this.props.axis===u.HORIZONTAL)switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}else switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToTop():this.navigate(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),e.metaKey?this.jumpToEnd():this.navigate(1)}switch(e.which){case l.P.COMMA:case l.P.FF_COMMA:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case l.P.PERIOD:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;default:return}}})),d(this,"jumpToTop",(()=>{this.jump()})),d(this,"jumpToEnd",(()=>{this.jump(!0)})),d(this,"jump",(e=>{const t=this.getNavigableElements();let s,a=0,n=1,r=t.length-1;for(e&&(a=r,n=-1,r=0),s=t[a];this.isNotFocusable(s)&&a!==r;)a+=n,s=t[a];this.applyFocusTo(s)})),d(this,"isNotFocusable",(e=>!(e&&e.offsetHeight&&!e.disabled))),d(this,"getNavigableElements",(()=>{const e=(0,o.findDOMNode)(this);return Array.prototype.slice.call(e.querySelectorAll("[data-iskeynav]"))})),d(this,"navigate",(e=>{const t=this.getNavigableElements(),{min:s,max:a}=Math,n=t.length-1,r=t.indexOf(document.activeElement);let o,i;if(t.length){for(this.props.circularNavigation?(o=r+e,o>n?o=0:o<0&&(o=n)):o=s(a(r+e,0),n),i=t[o];i&&this.isNotFocusable(i);)o+=e,i=t[o];i&&this.applyFocusTo(i)}})),d(this,"resetTabIndex",(()=>{const e=(0,o.findDOMNode)(this).querySelectorAll('[tabindex="'+this.props.groupTabIndex+'"]');for(let t=0;t<e.length;++t)e[t].tabIndex=-1})),d(this,"applyFocusTo",(e=>{this.resetTabIndex(),e.tabIndex=this.props.groupTabIndex,e.focus()}))}componentDidMount(){const e=(0,o.findDOMNode)(this),t=this.getNavigableElements();t.length&&!e.querySelector(`[tabindex="${this.props.groupTabIndex}"]`)&&(t[0].tabIndex=this.props.groupTabIndex),this.mousetrap=this.context.bindShortcut(m,this.handleKeyDown,e)}componentWillUnmount(){this.context.unbindShortcut(m,this.mousetrap)}render(){const{formatMessage:e}=this.context.intl,t=Object.assign({},this.props);return delete t.axis,delete t.circularNavigation,delete t.groupTabIndex,delete t.groupTabIndex,delete t.excludeKeyCodes,delete t.skipKeydownOnFormElement,r.createElement("div",c({"data-test-id":"focus-group",ref:e=>this.focusGroup=e,onKeyDown:this.handleKeyDown,onClick:this.handleClick,"aria-label":e(_.focus_group_aria_label)},t),this.props.children)}}d(S,"contextTypes",{intl:i.intlShape.isRequired,bindShortcut:n().func,unbindShortcut:n().func}),d(S,"defaultProps",{axis:u.VERTICAL,circularNavigation:!0,groupTabIndex:0,skipKeydownOnFormElement:!0,excludeKeyCodes:[]});const p=S},36554:(e,t,s)=>{"use strict";s.d(t,{Z:()=>ge});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(79483),l=s(97665),c=s(42655),d=s(43373),_=s(95406),E=s(37422),u=s(34443),m=s(76223),S=s.n(m),p=s(31871),C=s.n(p),A=s(41546),T=s(54400),I=s(52032),h=s.n(I);(0,o.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"}});class g extends r.PureComponent{render(){const{logoUrl:e,logoSrcSet:t,mailBrandNameString:s}=this.props,{intl:a,partner:n=""}=this.context,{formatMessage:o}=a,i=n===E.Ql2.AOL,l=S()(h(),{aolUser:i}),c=i?"/img/aol_mail_white_1x.png":"/img/yahoo_mail_global_english_white_1x.png",d=i?"/img/aol_mail_white_2x.png":"/img/yahoo_mail_global_english_white_2x.png",_="undefined"!=typeof window&&document.getElementById("ybar-logo"),u=i?s:o(T.Z.mailBrandName);return r.createElement("div",{className:l.head},!_&&r.createElement("img",{alt:u,src:e||(0,A.A)(c),srcSet:t||(0,A.A)(d)+" 2x",className:l.logo}),r.createElement("div",{className:l.headerText},u))}}var O,D,R;O=g,D="contextTypes",R={intl:o.intlShape.isRequired,partner:n().string},D in O?Object.defineProperty(O,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):O[D]=R;const N=g;var L=s(43007),f=s(28996),M=s.n(f),P=s(76531),b=s(78137);const y=S()(M()),v=({leftRailSelection:e})=>r.createElement("div",{className:y.leftRailItemsContainer},r.createElement("button",{className:y.link,disabled:!0},r.createElement(o.FormattedMessage,{id:"user_registration_compose_btn",defaultMessage:"Compose"})),e&&r.createElement("div",{className:y.accountslist,"data-test-id":"known-imap-provider"},r.createElement("div",{className:y.accountsListItem,"data-test-id":"imap-provider-name"},e),r.createElement("div",{className:y.moreIcon},r.createElement("span",{className:y.iconContainer},r.createElement(L.Z,{kind:P.Kinds.MORE,size:P.Sizes.XXXS,colorState:P.ColorStates.SECOND_LEVEL_GRAY})))),r.createElement("ul",{className:y.folderList},(0,b.w6)(9).map((e=>{const t=e%3*10+28+"px";return r.createElement("li",{key:e,className:y.listItem},r.createElement("div",{className:y.folderName,style:{width:t}}))}))),r.createElement("div",{className:y.header},r.createElement("div",{className:y.folderName,style:{width:"41px"}}),r.createElement("div",{className:y.folderNameRight,style:{width:"25px"}})),r.createElement("ul",{className:y.list},[P.Kinds.TAB_IMAGES,P.Kinds.DOCUMENTS_S,P.Kinds.CAL_MAYBE].map(((e,t)=>{const s=t%3*10+28+"px";return r.createElement("li",{key:e,className:y.listItem},r.createElement(L.Z,{kind:e,size:P.Sizes.XS,colorState:P.ColorStates.THIRD_LEVEL_GRAY}),r.createElement("div",{className:y.folderName,style:{width:s}}))}))));const F=S()(C());class U extends r.PureComponent{render(){const{leftRailSelection:e,dataTestId:t,renderMainContent:s,logoUrl:a,logoSrcSet:n,mailBrandNameString:o,isRTL:i}=this.props;return r.createElement("table",{className:F.mainBody,"data-test-id":t},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{colSpan:"3",className:F.headerContainer},r.createElement(N,{logoUrl:a,logoSrcSet:n,mailBrandNameString:o,isRTL:i}))),r.createElement("tr",null,r.createElement("td",{className:F.leftRailContainer},r.createElement(v,{leftRailSelection:e})),r.createElement("td",{className:F.contentContainer,id:"dt-content"},s()),r.createElement("td",{className:F.rightRailContainer}))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(U,"defaultProps",{dataTestId:"mail-app-dt-skeleton-id",renderMainContent:()=>{}});const k=U;var w=s(72091),G=s.n(w),H=s(8106);const B=S()(G()),x=(0,o.defineMessages)({wrong_mailbox_state_default_header:{id:"wrong_mailbox_state_default_header",defaultMessage:"We're having trouble accessing your mailbox"},wrong_mailbox_state_default_msg:{id:"wrong_mailbox_state_default_msg",defaultMessage:"If you continue to experience issues, please contact {customercare}"},wrong_mailbox_state_customercare:{id:"wrong_mailbox_state_customercare",defaultMessage:"customer care"},wrong_mailbox_state_default_cta:{id:"wrong_mailbox_state_default_cta",defaultMessage:"Try again"},wrong_mailbox_state_maintenance_header:{id:"wrong_mailbox_state_maintenance_header",defaultMessage:"Your new mailbox is on the way!"},wrong_mailbox_state_deleted_header:{id:"wrong_mailbox_state_deleted_header",defaultMessage:"Setting up your mailbox"},wrong_mailbox_state_deleted_msg:{id:"wrong_mailbox_state_deleted_msg",defaultMessage:"A fresh mailbox is being created, since the old one was inactive for more than 12 months."},wrong_mailbox_state_maintenance_msg:{id:"wrong_mailbox_state_maintenance_msg",defaultMessage:"We're just putting the finishing touches on it."},wrong_mailbox_state_maintenance_cta:{id:"wrong_mailbox_state_maintenance_cta",defaultMessage:"Go to Inbox"}}),V={[E.xLM.MAINTENANCE]:{headerLogo:(0,A.A)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_maintenance_header,descriptionString:x.wrong_mailbox_state_maintenance_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},[E.xLM.DISABLED]:{headerLogo:(0,A.A)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!1},[E.xLM.DELETED]:{headerLogo:(0,A.A)("/img/festive_graphic.png"),headerString:x.wrong_mailbox_state_deleted_header,descriptionString:x.wrong_mailbox_state_deleted_msg,ctaButtonString:x.wrong_mailbox_state_maintenance_cta,hasCTA:!0},default:{headerLogo:(0,A.A)("/img/error_state_1x.png"),headerString:x.wrong_mailbox_state_default_header,descriptionString:x.wrong_mailbox_state_default_msg,ctaButtonString:x.wrong_mailbox_state_default_cta,hasCTA:!0}},Z=({error:e,appName:t},s)=>{const{intl:{locale:a,formatMessage:n},partner:o=""}=s,i=(({errorInfo:e={}})=>e.skipMboxStateCheck?V.default:V[e.mailboxState])({errorInfo:e.data}),l=o.toUpperCase()===E.Bs7.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML",c=(0,H.Y0)(l,{locale:a}),d=n(x.wrong_mailbox_state_customercare),_=`<a href='${c}' class='${B.anchorStyle}'>${d}.</a>`;let u=(e=>e===E.BQZ.MOBILE_APP?E.IZo+"/":e===E.BQZ.BASIC_MOBILE_APP?E.bCI+"/":e===E.BQZ.BASIC_MAIL_APP?E.Zs1+"/":E.jQ2+"/")(t);return u+=(-1===u.indexOf("?")?"?":"&")+"mboxstate="+e.data.mailboxState,r.createElement("div",{className:B.container},r.createElement("img",{alt:n(i.headerString),src:i.headerLogo}),r.createElement("h1",{className:B.header},n(i.headerString)),r.createElement("div",{className:B.body},r.createElement("div",{"data-test-id":"wms-description",className:B.description,dangerouslySetInnerHTML:{__html:n(i.descriptionString,{customercare:_})}})),i.hasCTA?r.createElement("a",{href:u,className:B.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},n(i.ctaButtonString)):null)};Z.contextTypes={intl:o.intlShape,mailBrandNameString:n().string,partner:n().string};const W=Z;var K=s(82673),z=s(62739),Y=s.n(z),j=s(62631),q=s(99839),X=s(7351);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const J=(0,A.A)("/img/festive_graphic.png"),$=S()(Y()),ee=[E.zoT.GOOGLE,E.zoT.OUTLOOK,E.zoT.AOL],te=(0,o.defineMessages)({header_message:{id:"nodin.external_users_header_message",defaultMessage:"Add your existing mailboxes to {mailBrandNameString}"},switch_account:{id:"nodin.external_users_switch_account",defaultMessage:"Switch account"}}),se=({accountType:e,userName:t},s)=>{const{intl:{locale:a,formatMessage:n},region:i,mailBrandNameString:l}=s,c=(0,j.tO)(t);q.Z.error("nodin_imap_upsell",{accountType:e,provider:c,userName:t}),-1!==[E.zoT.VERIZON_MEDIA,E.zoT.YAHOO_INC].indexOf(c)&&-1===ee.indexOf(c)&&ee.push(c);const d=r.createElement("b",{className:$.userName},t);return r.createElement("div",{className:$.upsellPage},r.createElement("img",{className:$.image,alt:n(te.header_message,{mailBrandNameString:l}),src:J}),r.createElement("h1",{className:$.header},r.createElement(o.FormattedMessage,Q({},te.header_message,{values:{mailBrandNameString:l}}))),r.createElement("div",{className:$.body},r.createElement("div",{className:$.description},e===E.tO8.PHONE?r.createElement(o.FormattedMessage,{id:"nodin.external_phone_login_message",defaultMessage:"You're signed in with phone number {userName}",values:{userName:d}}):r.createElement(o.FormattedMessage,{id:"nodin.external_email_login_message",defaultMessage:"You're signed in as {userName}.",values:{userName:d}}),"Â ",r.createElement("a",{className:$.switchAccount,href:(0,E.Iu_)(i,a),title:n(te.switch_account)},r.createElement(o.FormattedMessage,te.switch_account))),r.createElement("div",{className:$.description},c?r.createElement(o.FormattedMessage,{id:"nodin.external_users_known_imap_description",defaultMessage:"You can read, compose and sort all your {name} messages from {mailBrandNameString}.",values:{name:(0,j.zJ)(c),mailBrandNameString:l}}):r.createElement(o.FormattedMessage,{id:"nodin.external_users_unkown_imap_description",defaultMessage:"You can access your Google, Outlook and AOL mailboxes, all from within {mailBrandNameString}.",values:{mailBrandNameString:l}})),r.createElement("div",{className:$.providersOption},r.createElement("ol",{className:$.accountList},ee.filter((e=>!c||c===e)).map((e=>r.createElement("li",{key:e,className:$.listItem,"data-test-id":"supported-imap-providers"},r.createElement(X.Z,{provider:e}),r.createElement("button",{"data-test-id":`add-account-${e}-btn`,"data-email":c?t:"",id:`add-account-${e}-btn`,className:$.primaryButton},c?r.createElement(o.FormattedMessage,{id:"nodin.user_registration_sign_in_btn",defaultMessage:"Sign in to {name}",values:{name:(0,j.zJ)(c)}}):r.createElement(o.FormattedMessage,{id:"nodin.user_registration_add_account",defaultMessage:"Add account"})))))))),r.createElement("div",{className:$.footer},!c&&r.createElement(o.FormattedMessage,{id:"nodin.external_supported_providers",defaultMessage:"We only support these providers as of now"})))};se.contextTypes={intl:o.intlShape,region:n().string,mailBrandNameString:n().string};const ae=se;var ne=s(10728);const re=""+1.75*ne.mg$,oe=""+-11.25*ne.mg$,ie=""+-25*ne.mg$,le=""+-38*ne.mg$,ce=""+-50*ne.mg$,de=""+-62*ne.mg$,_e=(0,A.A)("/img/trap_page_browser_logos.png"),Ee={clear:"both",minHeight:"26px",padding:`${3.5*ne.mg$}px 0 ${3.5*ne.mg$}px ${12.5*ne.mg$}px`,background:"url("+_e+") no-repeat 0 0"},ue={outerWrapper:{width:"100%"},contentHolder:{width:"45%",minWidth:100*ne.mg$+"px",maxWidth:175*ne.mg$+"px",margin:"0px auto",padding:`${6*ne.mg$}px ${6*ne.mg$}px ${5*ne.mg$}px ${6*ne.mg$}px`},iconWrapper:{float:"left",marginRight:5*ne.mg$+"px"},icon:{width:9*ne.mg$+"px",height:9*ne.mg$+"px"},title:{marginBottom:4*ne.mg$+"px"},classicMailHolder:{marginTop:-1*ne.mg$+"px"},classicMailDesc:{fontSize:ne.qNP,display:"block",color:ne.h_d,fontStyle:"normal"},ul:{listStyleType:"none",padding:"0px",margin:"0px"},upgradeLink:{float:"right",padding:`${1.5*ne.mg$}px ${4.5*ne.mg$}px`,marginTop:-1.5*ne.mg$+"px",textDecoration:"none",fontSize:ne.yN,fontWeight:"500",cursor:"pointer",borderRadius:ne.mg$/2+"px",color:ne.S6d,backgroundColor:ne.Zcy,border:`${ne.mg$/4}px solid ${ne.Zcy}`,width:17.5*ne.mg$+"px",textAlign:"center"},edgeLink:{marginTop:"0px"},nonActiveLink:{color:ne.Zcy,backgroundColor:ne.Cjz,marginTop:"0px"},disableLink:{color:ne.HxO,border:`${ne.mg$/4}px solid ${ne.HxO}`,backgroundColor:ne.Cjz,marginTop:"0px",cursor:"not-allowed"},chrome:Object.assign({},Ee,{backgroundPosition:`0 ${re}px`}),firefox:Object.assign({},Ee,{backgroundPosition:`0 ${oe}px`}),ie:Object.assign({},Ee,{backgroundPosition:`0 ${ie}px`}),edge:Object.assign({},Ee,{backgroundPosition:`0 ${ce}px`}),safari:Object.assign({},Ee,{backgroundPosition:`0 ${le}px`}),classic:Object.assign({},Ee,{backgroundPosition:`0 ${de}px`})};function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const pe=(0,o.defineMessages)({rs_page_chrome:{id:"rs_page_browser_chrome",defaultMessage:"Google Chrome"},rs_page_msedge:{id:"rs_page_browser_msedge",defaultMessage:"Microsoft Edge"},rs_page_msedge_for_ie:{id:"rs_page_msedge_for_ie",defaultMessage:"Requires Edge 15 or newer"},rs_page_msedge_for_edge:{id:"rs_page_msedge_for_edge",defaultMessage:"This version of Edge is not supported."},rs_page_firefox:{id:"rs_page_browser_firefox",defaultMessage:"Firefox"},rs_page_safari:{id:"rs_page_browser_safari",defaultMessage:"Safari"},rs_page_recommend_text:{id:"rs_page_recommend_text_1",defaultMessage:"The latest version of {mailBrandNameString} is not supported on your browser. Please use a supported browser below or use basic Mail."},rs_page_opennow_link_text:{id:"rs_page_opennow_link_text",defaultMessage:"Open now"},rs_page_upgrade_link_text:{id:"rs_page_upgrade_link_text",defaultMessage:"Download"},rs_page_try_later_link_text:{id:"rs_page_try_later_link_text",defaultMessage:"Continue"},rs_page_basic_mail_title:{id:"rs_page_basic_mail_title",defaultMessage:"Continue with basic Mail"},rs_page_basic_mail_desc:{id:"rs_page_basic_mail_desc",defaultMessage:"This version has fewer features but supports older browsers."}});class Ce extends r.Component{constructor(...e){super(...e),Se(this,"renderBrowserUpgradeRow",((e,t,s,a,n)=>{const{browserName:i}=this.props,l=s===pe.rs_page_msedge,c=this.showEdgeLink()&&!l&&"IE"===i?ue.nonActiveLink:{},d=l&&"Edge"===i?ue.disableLink:ue.edgeLink,_=l&&"Edge"===i?"_self":"_blank";return r.createElement("li",{style:Object.assign({},e)},r.createElement("a",{href:t,style:{...ue.upgradeLink,...c,...d},target:_,rel:"noopener"},r.createElement(o.FormattedMessage,n||pe.rs_page_upgrade_link_text)),a?r.createElement("div",{style:ue.classicMailHolder},r.createElement(o.FormattedMessage,s),r.createElement("em",{style:ue.classicMailDesc},r.createElement(o.FormattedMessage,a))):r.createElement(o.FormattedMessage,s))})),Se(this,"renderChrome",(()=>this.renderBrowserUpgradeRow({...ue.chrome},"https://www.google.com/chrome/browser/desktop/index.html",pe.rs_page_chrome))),Se(this,"renderEdgeLauncher",((e,t)=>{const s=`microsoft-edge:${t}`;return this.renderBrowserUpgradeRow(ue.edge,"Edge"===e?"#":s,pe.rs_page_msedge,"Edge"===e?pe.rs_page_msedge_for_edge:pe.rs_page_msedge_for_ie,pe.rs_page_opennow_link_text)})),Se(this,"renderFirefox",(()=>this.renderBrowserUpgradeRow(ue.firefox,"https://www.mozilla.org/en-US/firefox/download/thanks/",pe.rs_page_firefox))),Se(this,"renderSafari",(()=>this.renderBrowserUpgradeRow(ue.safari,"https://support.apple.com/HT201541",pe.rs_page_safari))),Se(this,"showEdgeLink",(()=>{const{os:e,osVersion:t}=this.props;return"10"===t&&"windows"===e}))}render(){const{browserName:e,os:t,nodinHost:s,mailBrandNameString:a,globalHost:n}=this.props,{classicMailUrl:i=s+"?.src=ym&reason=unsupported_browser&toB=2"}=this.props;return r.createElement("div",{style:ue.outerWrapper},r.createElement("div",{style:ue.contentHolder,className:"usb_content_holder"},r.createElement("div",{style:ue.title},r.createElement(o.FormattedMessage,me({},pe.rs_page_recommend_text,{values:{mailBrandNameString:a}}))),r.createElement("ul",{style:ue.ul,className:"usb_list"},this.showEdgeLink()&&this.renderEdgeLauncher(e,n),"Chrome"===e&&this.renderChrome(),"Firefox"===e&&this.renderFirefox(),"Safari"===e&&this.renderSafari(),"Chrome"!==e&&this.renderChrome(),"Firefox"!==e&&this.renderFirefox(),"Safari"!==e&&t===E.Msg.MAC&&this.renderSafari(),r.createElement("li",{style:Object.assign({},ue.li,ue.classic)},r.createElement("a",{href:i,style:Object.assign({},ue.upgradeLink,ue.nonActiveLink),rel:"noopener"},r.createElement(o.FormattedMessage,pe.rs_page_try_later_link_text)),r.createElement("div",{style:ue.classicMailHolder},r.createElement(o.FormattedMessage,pe.rs_page_basic_mail_title),r.createElement("em",{style:ue.classicMailDesc},r.createElement(o.FormattedMessage,pe.rs_page_basic_mail_desc)))))))}}Se(Ce,"contextTypes",{intl:o.intlShape.isRequired}),Se(Ce,"defaultProps",{browserName:"",os:"",osVersion:""});const Ae=Ce;function Te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ie=(0,o.defineMessages)({"launch.error.banner.alt.text":{id:"launch.error.banner.alt.text",defaultMessage:"banner background"},"launch.error.inbox.text":{id:"launch.error.inbox.text",defaultMessage:"Inbox"}});class he extends r.Component{constructor(...e){super(...e),Te(this,"initRapidClient",(()=>{i.ZP.init({rapid:{spaceid:159600033,test_id:"norrin",keys:window.BrowserLoggerParams,dwell_on:!0,extendbcookie:!0}})})),Te(this,"getErrorType",(()=>{const{error:e,nodinPhoneEmailReg:t}=this.props;switch(e.name){case u.YU:return E.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR;case u.BM:return E.ZB9.LAUNCH_API_ERROR;case u.hF:return E.ZB9.ABUSIVE_USER;case u.uL:return E.ZB9.WRONG_MAILBOX_STATE;case"LaunchError.NoScript":return E.ZB9.NO_SCRIPT;case"LaunchError.UnsupportedBrowser":return E.ZB9.UNSUPPORTED_BROWSER;case u.gM:return t?E.ZB9.NO_ACTIVE_MAILBOX:E.ZB9.SWITCH_ACCOUNT;case E.ZB9.REACT_ERROR:return E.ZB9.REACT_ERROR;case"GenericError":case"UnknownError":return E.ZB9.SERVER_ERROR}return E.ZB9.DEFAULT})),Te(this,"getErrorMessage",(()=>{const{error:e}=this.props;return e.message})),Te(this,"_getErrorProperty",(e=>{const{error:t}=this.props;return(0,_.u9)(t,`data.${e}`,null)})),Te(this,"getApiName",(()=>this._getErrorProperty("apiName"))),Te(this,"getErrorCode",(()=>this._getErrorProperty("errorCode"))),Te(this,"getStatusCode",(()=>this._getErrorProperty("statusCode"))),Te(this,"getExtraErrorCode",(()=>this._getErrorProperty("extraErrorCode"))),Te(this,"getExtraStatusCode",(()=>this._getErrorProperty("extraStatusCode"))),Te(this,"getCode",(()=>this._getErrorProperty("code"))),Te(this,"getBrowserName",(()=>this._getErrorProperty("browserName"))),Te(this,"getOS",(()=>this._getErrorProperty("os"))),Te(this,"getOSVersion",(()=>this._getErrorProperty("osVersion"))),Te(this,"getBasicMailUrl",(()=>this._getErrorProperty("basicMailUrl"))),Te(this,"getCspToken",(()=>this._getErrorProperty("cspToken"))),Te(this,"getCspToken",(()=>this._getErrorProperty("cspToken"))),Te(this,"getLoginAlias",(()=>this._getErrorProperty("loginAlias"))),Te(this,"getAccountType",(()=>this._getErrorProperty("accountType"))),Te(this,"isNorrinOptinEnabled",(()=>this._getErrorProperty("norrinOptin"))),Te(this,"renderLaunchErrorDialog",(()=>{const{isRTL:e,mailBrandNameString:t,crumb:s,showCTAInErrorPage:a,endpoints:n,appName:o}=this.props,i=this.getErrorType(),{GLOBAL_NODIN_HOST:l,GLOBAL_NORRIN_HOST:c,GLOBAL_NOBLE_BASIC_HOST:d,GLOBAL_HOST:_}=n;switch(i){case E.ZB9.LAUNCH_API_ERROR:return r.createElement(K.Z,{appName:o,type:i,code:this.getCode(),isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case E.ZB9.NO_SCRIPT:return r.createElement(K.Z,{appName:o,type:i,cspToken:this.getCspToken(),isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case E.ZB9.UNSUPPORTED_BROWSER:return r.createElement(Ae,{browserName:this.getBrowserName(),os:this.getOS(),osVersion:this.getOSVersion(),classicMailUrl:this.getBasicMailUrl(),mailBrandNameString:t,nodinHost:l,globalHost:_});case E.ZB9.WRONG_MAILBOX_STATE:return r.createElement(W,this.props);case E.ZB9.SWITCH_ACCOUNT:return r.createElement(K.Z,{appName:o,type:i,norrinOptin:this.isNorrinOptinEnabled(),loginAlias:this.getLoginAlias(),accountType:this.getAccountType(),crumb:s,isRTL:e,showCTAInErrorPage:a,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d});case E.ZB9.NO_ACTIVE_MAILBOX:return r.createElement(ae,{userName:this.getLoginAlias(),accountType:this.getAccountType(),crumb:s,isRTL:e});case E.ZB9.ABUSIVE_USER:case E.ZB9.REACT_ERROR:case E.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:case E.ZB9.SERVER_ERROR:case E.ZB9.DEFAULT:return r.createElement(K.Z,{appName:o,type:i,isRTL:e,mailBrandNameString:t,nodinHost:l,norrinHost:c,nobleBasicHost:d})}return null}))}getChildContext(){const{mailBrandNameString:e,partner:t}=this.props;return{mailBrandNameString:e,partner:t}}componentDidMount(){const e=this.getErrorType(),t=this.getErrorMessage();if(t!==u.lV&&t!==u.mm){if(e===E.ZB9.LAUNCH_API_ERROR||e===E.ZB9.SERVER_ERROR){let{error:e}=this.props;e=c.Z.jsonToError(e);const t={apiName:this.getApiName(),errorCode:this.getErrorCode(),statusCode:this.getStatusCode(),isOnline:!0},s=this.getExtraErrorCode(),a=this.getExtraStatusCode();s&&(t.extraErrorCode=s),a&&(t.extraStatusCode=a),this.initRapidClient(),(0,d.apiErrorLogger)(l.Z,E.BrN.MailAPIClient,t,e)}}else window.location.href=E.kac+"?reason="+u.L$[t]+"&crumb="+this.props.crumb}render(){const e=this.getErrorMessage();if(e===u.lV||e===u.mm)return null;const{formatMessage:t}=this.context.intl,{isRTL:s,logoUrl:a,logoSrcSet:n,mailBrandNameString:o}=this.props;return r.createElement(k,{renderMainContent:()=>this.renderLaunchErrorDialog(),logoUrl:a,logoSrcSet:n,mailBrandNameString:o,isRTL:s,leftRailSelection:t(Ie["launch.error.inbox.text"])})}}Te(he,"contextTypes",{intl:o.intlShape.isRequired}),Te(he,"childContextTypes",{mailBrandNameString:n().string,region:n().string,intl:o.intlShape,partner:n().string});const ge=he},82673:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(99095),c=s(54400),d=s(15632),_=s(41546),E=s(37422),u=s(8106),m=s(72091),S=s.n(m);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C={15:(0,d.U5)("SLN3549"),19:(0,d.U5)("SLN3553")},A=(0,l.defineMessages)({"launch.error.classic.mail.url":{id:"launch.error.classic.mail.url",defaultMessage:"Go to Classic Mail"},"launch.error.basic.mail.url":{id:"launch.error.basic.mail.url",defaultMessage:"Try basic version"},"launch.error.launch_api_error.title":{id:"launch.error.launch_api_error.title",defaultMessage:"We are experiencing some technical difficulties"},"launch.error.launch_api_error.body":{id:"launch.error.launch_api_error.body",defaultMessage:"Temporary Error: {code}"},"launch.error.no_script_error.title":{id:"launch.error.no_script_error.title",defaultMessage:"Javascript is not enabled on your browser."},"launch.error.no_script_error.body":{id:"launch.error.no_script_error.body",defaultMessage:"Enable javascript to enjoy all the features in {mailBrandNameString}."},"launch.error.react_error.title":{id:"launch.error.react_error.title",defaultMessage:"{mailBrandNameString} has encountered a problem."},"launch.error.react_error.body":{id:"launch.error.react_error.body",defaultMessage:"Please wait a moment and then try going to your Inbox again."},"launch.error.default.oops":{id:"launch.error.default.oops",defaultMessage:"Oops!"},"launch.error.page_not_found.title":{id:"launch.error.page_not_found.title",defaultMessage:"Page not available"},"launch.error.page_not_found.body":{id:"launch.error.page_not_found.body",defaultMessage:"The requested page is not available on Mail."},"launch.error.default.title":{id:"launch.error.default.title",defaultMessage:"Your mail is temporarily unavailable."},"launch.error.default.body":{id:"launch.error.default.body",defaultMessage:"Please wait a moment and reload the page."},"launch.error.mailbox.maintenance.title":{id:"launch.error.mailbox.maintenance.title",defaultMessage:"Setting up your mailbox"},"launch.error.mailbox.maintenance.body":{id:"launch.error.mailbox.maintenance.body",defaultMessage:"Your new mailbox is being built, since you just created an account or your mailbox has been inactive for at least 12 months."},"launch.error.mailbox.inactive.title":{id:"launch.error.mailbox.inactive.title",defaultMessage:"We're having trouble accessing your mailbox"},"launch.error.mailbox.inactive.body":{id:"launch.error.mailbox.inactive.body",defaultMessage:"If you continue to experience issues, please contact"},"launch.error.help.pages":{id:"launch.error.help.pages",defaultMessage:"Learn more"},"launch.error.customercare":{id:"launch.error.customercare",defaultMessage:"customer care."},"launch.error.goto.inbox":{id:"launch.error.goto.inbox",defaultMessage:"Go to Inbox"},"launch.error.try.again":{id:"launch.error.try.again",defaultMessage:"Try again"},"launch.error.switch_account.title":{id:"launch.error.switch_account.title",defaultMessage:"This account has no mailbox"},"launch.error.switch_account_phone.body":{id:"launch.error.switch_account_phone.body",defaultMessage:"You're signed in with phone number {loginAlias}."},"launch.error.switch_account_external.body":{id:"launch.error.switch_account_external.body",defaultMessage:"You're signed in as {loginAlias}."},"launch.error.switch_account.optin":{id:"launch.error.switch_account.optin",defaultMessage:"Switch to the newest {mailBrandNameString}"},"launch.error.switch_account.login":{id:"launch.error.switch_account.login",defaultMessage:"Sign in to a different account"}});class T extends r.Component{constructor(e){super(e),p(this,"getTitleText",(()=>{const{type:e,mailBrandNameString:t}=this.props,{formatMessage:s}=this.context.intl;switch(e){case E.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:return s(A["launch.error.page_not_found.title"]);case E.ZB9.LAUNCH_API_ERROR:return s(A["launch.error.launch_api_error.title"]);case E.ZB9.NO_SCRIPT:return s(A["launch.error.no_script_error.title"]);case E.ZB9.REACT_ERROR:return s(A["launch.error.react_error.title"],{mailBrandNameString:t});case E.ZB9.SWITCH_ACCOUNT:return s(A["launch.error.switch_account.title"]);default:return s(A["launch.error.default.title"])}})),p(this,"getBodyText",(()=>{const{type:e,code:t,loginAlias:s,accountType:a,mailBrandNameString:n}=this.props,{formatMessage:r}=this.context.intl;switch(e){case E.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:return r(A["launch.error.page_not_found.body"]);case E.ZB9.LAUNCH_API_ERROR:return r(A["launch.error.launch_api_error.body"],{code:t});case E.ZB9.NO_SCRIPT:return r(A["launch.error.no_script_error.body"],{mailBrandNameString:n});case E.ZB9.REACT_ERROR:return r(A["launch.error.react_error.body"]);case E.ZB9.SWITCH_ACCOUNT:return a===E.tO8.EXTERNAL?r(A["launch.error.switch_account_external.body"],{loginAlias:s}):r(A["launch.error.switch_account_phone.body"],{loginAlias:s});default:return r(A["launch.error.default.body"])}})),p(this,"getHelpPageURL",(()=>{const e=this.context.intl.locale||"en-US",{code:t}=this.props,s=e.replace("-","_"),{partner:a=""}=this.context,n=a.toUpperCase()===E.Bs7.AOL?"https://help.aol.com/contact/":"https://io.help.yahoo.com/contact/index?page=contact&locale=en_US&y=PROD_MAIL_ML";return C[t]?(0,u.Y0)(C[t](e,a),{locale:s}):(0,u.Y0)(n,{locale:s})})),p(this,"getHelpLinkMarkUp",(()=>{const{themeMode:e,type:t}=this.props,s=i()(S(),{themeMode:e});if(t===E.ZB9.SWITCH_ACCOUNT)return null;const a=this.getHelpPageURL(),{formatMessage:n}=this.context.intl,o=n(A["launch.error.help.pages"]);return r.createElement("a",{href:a,target:"_blank",className:s.anchorStyle,rel:"noopener"},o)})),p(this,"getCTAMarkUp",(()=>{const{themeMode:e,type:t,norrinOptin:s,crumb:a,mailBrandNameString:n,appName:o,norrinHost:l}=this.props,{intl:{locale:d,formatMessage:_},region:u,partner:m}=this.context,p=i()(S(),{themeMode:e});let C=null,T=this.appRootPath;switch(t){case E.ZB9.LAUNCH_PAGE_NOT_FOUND_ERROR:case E.ZB9.REACT_ERROR:C=_(A["launch.error.goto.inbox"]);break;case E.ZB9.SWITCH_ACCOUNT:s&&o===E.BQZ.BASIC_MAIL_APP?(C=_(A["launch.error.switch_account.optin"],{mailBrandNameString:n||_(c.Z.mailBrandName)}),T=`${l}/optin?crumb=${a}`):(C=_(A["launch.error.switch_account.login"]),T=(0,E.Iu_)(u,d,m));break;default:C=_(A["launch.error.try.again"])}return r.createElement("div",null,r.createElement("a",{href:T,className:p.buttonStyle,rel:"noopener","data-test-id":"launch-error-action"},C))})),p(this,"renderBody",(()=>{const e=this.getBodyText(),t=this.getHelpLinkMarkUp();return r.createElement("div",null,r.createElement("div",{className:"warnBody"},e,r.createElement("br",null),t))})),p(this,"renderLaunchErrorAction",(()=>{const{formatMessage:e}=this.context.intl,{themeMode:t,type:s,cspToken:a,appName:n,showCTAInErrorPage:o,nodinHost:l,nobleBasicHost:c}=this.props,d=i()(S(),{themeMode:t}),_="window.location = '"+this.appRootPath+"?reason=no_script';",u=o?this.getCTAMarkUp():null;let m=l;m=n===E.BQZ.MOBILE_APP?c:l,m=`${m}?reason=nojs`;const p=n===E.BQZ.MOBILE_APP?e(A["launch.error.basic.mail.url"]):e(A["launch.error.classic.mail.url"]),C=r.createElement("div",null,r.createElement("a",{href:m,className:d.buttonStyle,rel:"noopener"},p),r.createElement("script",{type:"text/javascript",nonce:a,dangerouslySetInnerHTML:{__html:_}}));switch(s){case E.ZB9.NO_SCRIPT:return C;default:return u}}));const{appName:t}=e;t===E.BQZ.MOBILE_APP?this.appRootPath=E.IZo+"/":t===E.BQZ.BASIC_MOBILE_APP?this.appRootPath=E.bCI+"/":t===E.BQZ.BASIC_MAIL_APP?this.appRootPath=E.Zs1+"/":this.appRootPath=E.jQ2+"/"}render(){const{formatMessage:e}=this.context.intl,{themeMode:t}=this.props,s=i()(S(),{themeMode:t}),a=this.getTitleText()||e(A["launch.error.default.oops"]),n=(0,_.A)("/img/error_state_1x.png");return r.createElement("div",{className:s.container},r.createElement("style",null,"\n    html,\n    body {\n        height: 100%;\n    }\n"),r.createElement("img",{src:n}),r.createElement("h1",{className:s.header},a),r.createElement("div",{className:s.body},r.createElement("div",{className:s.description},this.renderBody())),this.renderLaunchErrorAction())}}p(T,"contextTypes",{intl:l.intlShape.isRequired,region:n().string,partner:n().string}),p(T,"defaultProps",{showCTAInErrorPage:!0});const I=T},72091:e=>{"use strict";e.exports={className:{default:{container:"D_B ab_C t_C P_6DEy",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6DEy",body:"t_C A_6EqO i_6FIA jb_6MGW",description:"M_0 C_Z281SGl",anchorStyle:"C_Z2cPMlD S_n",buttonStyle:"P_ZGAgin A_6EqO u_e69 S_n r_P e_dRA C_ZOHqTQ I_ZamTeg b_Z1jWqbm t_C i_6FIA D_X"},"themeMode-DARK":{container:"C_ZnIF8Y",description:"C_ZnIF8Y"}},_key:"brV7R"}},35960:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(73935),r=s(8106);function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends a.Component{constructor(...e){super(...e),o(this,"onEventHandler",(e=>{e.stopPropagation()}))}render(){if(!(0,r.jU)())return null;const{position:e,left:t,top:s,visibility:o,styles:i}=this.props;let l=Object.assign({position:e,left:t,top:s,visibility:o},i);return e&&t&&s&&o||(l=null),this.rootNode&&document.body.contains(this.rootNode)||(this.rootNode=document.getElementById(this.props.rootId)),this.rootNode&&document.body.contains(this.rootNode)?n.createPortal(a.createElement("div",{style:l,onClick:this.onEventHandler,onKeyUp:this.onEventHandler,onKeyPress:this.onEventHandler,onMouseOver:this.onEventHandler,onMouseUp:this.onEventHandler,onBlur:this.onEventHandler},this.props.children),this.rootNode):null}}o(i,"defaultProps",{rootId:"app"});const l=i},87771:(e,t,s)=>{"use strict";s.d(t,{cr:()=>T,nA:()=>i});var a=s(45697),n=s.n(a),r=s(67294);class o extends r.Component{render(){return null}}const i=o;var l=s(57557),c=s.n(l),d=s(96943),_=s(18685),E=s(85927);class u extends r.Component{constructor(e){super(e);const t=this.props._moduleResolver(),a=!!s.m[t],n=this._interopRequireDefault(a?s(t):null);this.state={LoadedComponent:n,loaded:a,failed:!1}}_updateLoadedState(e){const{onModuleLoadFailure:t,bundleName:s="lazy_group_1"}=this.props,a=d.Z.feature("lazy_component",{bundleName:s});e.then((e=>{this._isMounted&&(a.logSuccessAndLatency(),this.setState({loaded:!0,failed:!1,LoadedComponent:e.default?e.default:e}))})).catch((e=>{a.logFailure(),t&&t(e),this.setState({loaded:!0,failed:!0})}))}UNSAFE_componentWillReceiveProps(e){const t=this.props.isOffline&&!e.isOffline;this.state.failed&&t&&this.load()}componentDidMount(){if(this._isMounted=!0,!this.state.loaded)if(this.props.defer){const e=()=>{window.requestIdleCallback?window.requestIdleCallback((()=>this.load())):setTimeout((()=>this.load()))};"complete"===document.readyState?e():window.addEventListener("load",e)}else this.load()}componentDidUpdate(e,t){if(t.loaded!==this.state.loaded&&this.state.loaded){const{onModuleLoadSuccess:e}=this.props;e&&e()}}componentWillUnmount(){this._isMounted=!1}load(){this._updateLoadedState(this.props._moduleLoader())}_interopRequireDefault(e){return e&&e.__esModule?e.default:e}render(){const e=r.Children.toArray(this.props.children);if(!this.state.loaded)return A(e.find(m));if(this.state.failed){let t=null;return this.props.isOffline&&(t=e.find(p)),A(t||e.find(S))}const t=this.state.LoadedComponent,s=c()(this.props,["import","defer","onModuleLoadFailure","onModuleLoadSuccess","_moduleLoader","_moduleResolver","isOffline","bundleName","children"]);return r.createElement(t,s,e.filter(C))}}function m(e){return e.props.loading}function S(e){return e.props.failed}function p(e){return e.props.offline}function C(e){return e.type!==i}function A(e){return e&&e.props.children?r.Children.only(e.props.children):null}const T=(0,_.connect)((e=>{const{isOnline:t}=(0,E.selectors)(e);return{isOffline:!t()}}))(u);var I=s(67498),h=s(28182);function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class O extends r.Component{constructor(...e){super(...e),g(this,"handleClick",(e=>{e.preventDefault(),this.context.retry()}))}render(){return r.createElement(I.Z,{kind:h.F.CHROMELESS,onClick:this.handleClick},this.props.children)}}g(O,"contextTypes",{retry:n().func})},94482:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s(45697);var a,n,r,o=s(67294),i=s(68636),l=s.n(i),c=s(76223),d=s.n(c),_=s(77078);s(95406);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class u extends o.Component{render(){const{name:e,kind:t,ariaLabel:s,dir:a,title:n,...r}=this.props,i=d()(l(),{kind:t}),c=this.props.children||this.props.text;return o.createElement("li",E({name:e,title:n,"data-test-id":e,className:i.listItem,"aria-label":s,role:"menuitem",dir:a},r),c)}}a=u,n="defaultProps",r={kind:_.F.DEFAULT},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const m=u},26:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u,u:()=>_});var a=s(45697),n=s.n(a),r=s(67294),o=s(95406),i=s(94700),l=s.n(i),c=s(76223),d=s.n(c);let _;!function(e){e.S="S",e.M="M"}(_||(_={}));n().oneOf((0,o.VO)(_)),n().bool,n().bool;const E=({size:e,inverted:t,flex:s})=>{const a=d()(l(),{size:e,inverted:!!t,flex:!!s});return r.createElement("div",{className:a.wrapper},r.createElement("div",{className:a.container,"data-test-id":"loading_indicator"},r.createElement("svg",{className:a.spinner,viewBox:"0 0 24 24",width:"24",height:"24"},r.createElement("path",{className:a.arc,d:"M12,22C6.477,22,2,17.523,2,12S6.477,2,12,2"}),r.createElement("path",{className:a.arc,d:"M12,2c5.523,0,10,4.477,10,10s-4.477,10-10,10"}))))};E.defaultProps={size:_.M};const u=E},84210:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl r_P"}},_key:"xcL2R"}},64828:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>g});s(45697);var a=s(67294),n=s(18685),r=s(85927),o=s(73935),i=s(7449),l=s(35960),c=(s(78041),s(95406),s(8470)),d=s(40918),_=s(76223),E=s.n(_),u=s(3480),m=s.n(u),S=s(23279),p=s.n(S);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const T=()=>{},I=["click","focus","resize"];class h extends a.Component{constructor(e){super(e),A(this,"state",{show:!1,dimensionStyles:{}}),A(this,"handleHide",(e=>{const t=o.findDOMNode(this.refs.menu),s=o.findDOMNode(this.props.actionNode);let a;"focus"===e.type&&t&&t.scrollHeight>t.clientHeight&&(a=document.querySelectorAll(":hover"),a=a[a.length-1],t.contains(a))||!t||e.target instanceof Node&&(t.contains(e.target)||s.contains(e.target))||(this.setState({show:!1}),this.props.onHideMenu())})),A(this,"handleEscape",(()=>{this.setState({show:!1}),this.props.onHideMenu(),o.findDOMNode(this.props.actionNode).focus()})),A(this,"handleKeyDown",(e=>{switch(e.key){case"Escape":e.preventDefault(),e.stopPropagation(),this.handleEscape();break;default:return void e.stopPropagation()}})),this.scrollDebounce=p()(this.handleScroll.bind(this),100)}handleScroll(){this.state.show&&this.refs.menu&&this.setState({dimensionStyles:(0,i.E)(o.findDOMNode(this.props.actionNode),o.findDOMNode(this.refs.menu),this.props.isRTL)})}componentDidMount(){this.refs.menu&&(this.setState({show:!0,dimensionStyles:(0,i.E)(o.findDOMNode(this.props.actionNode),o.findDOMNode(this.refs.menu),this.props.isRTL)},(function(){o.findDOMNode(this.refs.navigableList).focus()})),window.addEventListener("scroll",this.scrollDebounce,!0),I.forEach((e=>{window.addEventListener(e,this.handleHide,!0)})))}UNSAFE_componentWillReceiveProps(e){e.disabled&&this.setState({show:!1},this.props.onHideMenu)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0),I.forEach((e=>{window.removeEventListener(e,this.handleHide,!0)}))}render(){if(!this.props.children)return null;const e=E()(m()),t=this.state.show?"visible":"hidden",s=Object.assign({position:"absolute",visibility:t},this.state.dimensionStyles);return a.createElement(l.Z,null,a.createElement("div",{onKeyDown:this.handleKeyDown,className:e.menu,onClick:this.props.persistOnClick?this.props.focusBackEditor:this.handleEscape,ref:"menu",style:s,"data-test-id":"menu"},a.createElement(c.Z,C({ref:"navigableList",kind:d.F.MENU,layout:this.props.menuLayout,onHide:this.handleHide,onEscape:this.handleEscape},this.props),this.props.children)))}}A(h,"defaultProps",{onHide:T,persistOnClick:!1,focusBackEditor:T,disabled:!1});const g=(0,n.connect)((e=>{const{getEnvironmentSelectors:t}=(0,r.selectors)(e);return{isRTL:"rtl"===t().getPageDirection()}}))(h)},66679:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});s(45697);var a,n,r,o=s(67294),i=s(67498),l=s(28182);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class d extends o.Component{render(){const{hasText:e,isActive:t,children:s,...a}=this.props,n=t?l.F.ICON_HIGHLIGHTED:l.F.ICON;return o.createElement(i.Z,c({},a,{"aria-controls":"react-menu-component","aria-haspopup":!0,kind:e?l.F.CHROMELESS:n}),s)}}r={hasText:!1,isActive:!1},(n="defaultProps")in(a=d)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const _=d},21939:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a=s(67294),n=s(73935),r=(s(56148),s(66679),s(64828),s(76223)),o=s.n(r),i=s(6483),l=s.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=()=>{};class E extends a.Component{constructor(...e){super(...e),d(this,"state",{isMenuVisible:!1}),d(this,"toggleMenu",(()=>{this.state.isMenuVisible?this.hideMenu():this.showMenu()})),d(this,"showMenu",(()=>{this.setState({isMenuVisible:!0}),this.props.onMenuShow()})),d(this,"hideMenu",(()=>{this.setState({isMenuVisible:!1}),this.props.onMenuHide()})),d(this,"handleMenuButtonKeyDown",(e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),this.toggleMenu();break;case"Escape":e.preventDefault(),this.hideMenu(),this.blurMenuButton()}})),d(this,"blurMenuButton",(()=>{n.findDOMNode(this.refs.button).blur()}))}componentDidUpdate(e,t){this.props.afterMenuHide&&!this.state.isMenuVisible&&t.isMenuVisible&&this.props.afterMenuHide()}componentDidMount(){this.props.parentMenu&&this.setState({isMenuVisible:!0})}render(){const{onFocus:e,onBlur:t,onMenuShow:s,onMenuHide:n,afterMenuHide:r,children:i,showMenuActiveState:d,parentMenu:_,...E}=this.props,[u,m]=a.Children.toArray(i),{isMenuVisible:S}=this.state,p=o()(l(),{active:S&&d});let C=null;u&&(C=a.cloneElement(u,{ref:"button","aria-expanded":S,onClick:this.toggleMenu,onKeyDown:this.handleMenuButtonKeyDown,onFocus:e,onBlur:t,isActive:S}));let A=null;return _&&m?A=a.cloneElement(m,{ref:"submenu",actionNode:_.refs.button,onHideMenu:this.hideMenu}):S&&m&&(A=a.cloneElement(m,{ref:"menu",actionNode:this.refs.button,onHideMenu:this.hideMenu})),a.createElement("div",c({},E,{className:p.buttonContainer}),C,A)}}d(E,"defaultProps",{onMenuShow:_,onMenuHide:_,onFocus:_,onBlur:_,showMenuActiveState:!1});const u=E},26208:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(45697);var a=s(67294),n=s(94482),r=s(67498),o=s(28182);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class l extends a.Component{render(){return a.createElement(n.Z,null,a.createElement(r.Z,i({kind:o.F.MENUITEM},this.props),this.props.children))}}const c=l},89963:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(35960),i=s(76223),l=s.n(i),c=s(40687),d=s.n(c),_=s(83588),E=(s(95406),s(12782));function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class m extends r.Component{constructor(...e){super(...e),u(this,"forceFocus",(()=>{this.refs.content&&this.refs.content.focus()})),u(this,"handleBlurCapture",(e=>{const t=e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement;this.refs.content.contains(t)||setTimeout(this.forceFocus,0)})),u(this,"handleKeyDown",(e=>{const{onKeyDown:t,onClose:s}=this.props;e.stopPropagation(),"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),s(e)):t&&t(e)})),u(this,"handleOuterPartClick",(e=>{if(e.stopPropagation(),this.props.onOuterClick)return this.props.onOuterClick(e);this.props.onClose(e)}))}componentDidMount(){this.forceFocus(),window.addEventListener("focus",this.forceFocus),this.refs.content&&(this.mousetrap=this.context.bindShortcut(["esc"],this.handleKeyDown,this.refs.content))}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus),this.mousetrap&&this.context.unbindShortcut(["esc"],this.mousetrap)}render(){const{children:e,kind:t,ariaLabelledBy:s,ariaDescribedBy:a,hideShadow:n,layerRootId:i,canShowToast:c}=this.props,_=l()(d(),{kind:t,hideShadow:n,canShowToast:c});return r.createElement(o.Z,{rootId:i},r.createElement("div",{onClick:this.handleOuterPartClick,className:_.grayOverlay,"data-test-id":"modal-outer",id:"modal-outer",role:s||a?"alertdialog":null,"aria-labelledby":s,"aria-describedby":a},r.createElement(E.Z,null,r.createElement("div",{"data-test-id":"modal-content",className:_.container,ref:"content",onBlurCapture:this.handleBlurCapture,onKeyDown:this.handleKeyDown,onClick:S,tabIndex:0,role:s||a?"document":null},e))))}}function S(e){e.stopPropagation()}u(m,"contextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),u(m,"defaultProps",{hideShadow:!1,kind:_.F.DARK,ariaLabelledBy:null,ariaDescribedBy:null,layerRootId:"app"});const p=m},8470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(76223),l=s.n(i),c=(s(78041),s(95406),s(74290)),d=s.n(c),_=s(40918),E=s(77163);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=()=>{},S=["escape","left","right","up","down","tab"];class p extends r.Component{constructor(...e){super(...e),u(this,"state",{cursorIndex:-1,nestedCursorIndex:-1}),u(this,"handleKeyDown",(e=>{const t=e.which||e.keyCode,s=e.target&&e.target.type&&"text"===e.target.type,{listNavigationOnInputEnabled:a}=this.props;if(!s||a&&(!a||t!==E.P.LEFT&&t!==E.P.RIGHT))switch(t){case E.P.LEFT:case E.P.UP:e.preventDefault(),e.stopPropagation(),this.navigate(-1);break;case E.P.RIGHT:case E.P.DOWN:e.preventDefault(),e.stopPropagation(),this.navigate(1);break;case E.P.TAB:return void this.setState({cursorIndex:-1});case E.P.ESCAPE:return e.preventDefault(),void this.escape(e);default:return}})),u(this,"handleBlur",(()=>{const e=(0,o.findDOMNode)(this);setImmediate((()=>{this._isMounted&&!e.contains(document.activeElement)&&this.props.onHide()}))}))}componentDidMount(){this._isMounted=!0,this.props.focusOnMount&&setTimeout((()=>this.list&&this.list.focus()),100),this.mousetrap=this.context.bindShortcut(S,this.handleKeyDown,this.list),this.props.onShow()}componentWillUnmount(){this._isMounted=!1,this.context.unbindShortcut(S,this.mousetrap)}resetCursorIndex(){this.setState({cursorIndex:-1})}escape(e){(0,o.findDOMNode)(this).focus(),(0,o.findDOMNode)(this).blur(),this.setState({cursorIndex:-1}),this.props.onEscape(e)}navigate(e){const{listOptionsHaveMultipleFocusable:t}=this.props,{min:s,max:a}=Math,n=(0,o.findDOMNode)(this),r=n.getElementsByTagName("li"),i=r.length-1;let l;this.state.nestedCursorIndex>-1?l=this.state.cursorIndex:this.props.circularNavigation?(l=this.state.cursorIndex+e,l>i?l=0:l<0&&(l=i)):l=s(a(this.state.cursorIndex+e,0),i);const c=r[l];if(n.querySelector("button:not([disabled])")||n.querySelector("a")||n.querySelector('[role="checkbox"]')){let s=c.querySelector("button:not([disabled])")||c.querySelector("a")||c.querySelector('[role="checkbox"]');if(t){const e=c.querySelectorAll('button:not([disabled]), a, [role="checkbox"]');if(e.length>0&&this.state.nestedCursorIndex<e.length){const t=this.state.nestedCursorIndex+1;s=e.item(t),this.setState({nestedCursorIndex:t+1===e.length?-1:t})}}s?(this.setState({cursorIndex:l}),this.props.selectItemInsteadOfFocus?this.props.selectItemInsteadOfFocus(s):s.focus()):this.setState({cursorIndex:l},(function(){this.navigate(e)}))}}getRole(){switch(this.props.kind){case _.F.MENU:return"menu";case _.F.TOOLBAR:return"menubar";default:return"list"}}render(){const e=this.getRole(),t=l()(d(),{layout:this.props.layout,kind:this.props.kind,disabled:this.props.disabled,isRestrictedHeight:this.props.isRestrictedHeight});return r.createElement("ul",{"data-test-id":this.props["data-test-id"]||"navigable-list",ref:e=>this.list=e,tabIndex:this.props.tabIndex,role:e,onBlur:this.handleBlur,className:t.list},this.props.children)}}u(p,"contextTypes",{bindShortcut:n().func,unbindShortcut:n().func}),u(p,"defaultProps",{disabled:!1,tabIndex:-1,circularNavigation:!0,focusOnMount:!1,onShow:m,onHide:m,onEscape:m,isRestrictedHeight:!1,listNavigationOnInputEnabled:!1,listOptionsHaveMultipleFocusable:!1});const C=p},59427:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s(45697);var a=s(67294),n=s(73935),r=s(76223),o=s.n(r),i=s(263),l=s.n(i),c=s(35960),d=s(2136);function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E=()=>{},u=o()(l());class m extends a.Component{constructor(...e){super(...e),_(this,"state",{overlayDimensionStyles:null}),_(this,"handleShimClick",(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!1})})),_(this,"handleOverlayClick",(e=>{e.stopPropagation(),this.props.onClick({overlayClicked:!0})})),_(this,"renderOverlayContent",(e=>a.createElement("div",{"data-test-id":"overlay-boundingbox",ref:"boundingBox",style:e,className:u.overlay,onClick:this.handleOverlayClick},this.props.children))),_(this,"renderOverlay",(e=>{const{useShim:t}=this.props;return t?a.createElement("div",{className:u.shim,onClick:this.handleShimClick,"data-test-id":"overlay-shim",id:"overlay-shim"},this.renderOverlayContent(e)):this.renderOverlayContent(e)}))}componentDidMount(){if(!this.refs.boundingBox)return;const{alignmentPoints:e,alignTo:t,onShow:s}=this.props;let{overlayDimensionStyles:a}=this.state;if(t){a=function(e,t,s){const[a,n]=s;var r=0,o=0,i=0,l=0;switch(a){case d.K.BottomRight:i=-t.width,l=-t.height;break;case d.K.TopLeft:i=0,l=0;break;case d.K.TopRight:i=-t.width,l=0;break;case d.K.BottomLeft:i=0,l=-t.height;break;case d.K.CenterRight:i=-t.width,l=-t.height/2;break;case d.K.CenterLeft:i=0,l=-t.height/2;break;case d.K.TopCenter:i=-t.width/2,l=0;break;case d.K.BottomCenter:i=-t.width/2,l=-t.height;break;default:i=0,l=0}switch(n){case d.K.BottomRight:r=e.left+e.width,o=e.top+e.height;break;case d.K.TopLeft:r=e.left,o=e.top;break;case d.K.TopRight:r=e.left+e.width,o=e.top;break;case d.K.BottomLeft:r=e.left,o=e.top+e.height;break;case d.K.CenterRight:r=e.left+e.width,o=e.top+e.height/2;break;case d.K.CenterLeft:r=e.left,o=e.top+e.height/2;break;case d.K.TopCenter:r=e.left+e.width/2,o=e.top;break;case d.K.BottomCenter:r=e.left+e.width/2,o=e.top+e.height;break;default:r=e.left,o=e.top}return{left:r+i+window.pageXOffset,top:o+l+window.pageYOffset}}(n.findDOMNode(t).getBoundingClientRect(),n.findDOMNode(this.refs.boundingBox).getBoundingClientRect(),e),this.setState({overlayDimensionStyles:a},s),window.addEventListener("keydown",this.props.onKeyDown)}}componentWillUnmount(){window.removeEventListener("keydown",this.props.onKeyDown)}render(){const{left:e,top:t,offsetTop:s,offsetLeft:n,alignTo:r,customInlineStyles:o}=this.props;let i=null,l=null,d=null;const{overlayDimensionStyles:_}=this.state;return null!==e&&null!==t?(l=e,d=t):_?(l=_.left,d=_.top):r&&(l=-1e4,d=-1e4),null!==l&&null!==d&&(l+=n,d+=s,o.height&&(o.height=`calc(100% - ${d}px)`),i={left:l,top:d,position:"absolute",...o}),a.createElement(c.Z,null,this.renderOverlay(i))}}_(m,"defaultProps",{alignmentPoints:[d.K.TopLeft,d.K.TopLeft],offsetTop:0,offsetLeft:0,left:null,top:null,onShow:E,onClick:E,onKeyDown:E,useShim:!1,customInlineStyles:{}});const S=m},44278:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>S});s(45697);var a=s(67294),n=s(10994),r=s.n(n),o=s(76223),i=s.n(o),l=s(43007),c=s(76531),d=s(37422),_=s(18685),E=s(85927);const u=e=>{e.stopPropagation()};function m({isAffiliatePartnerEnabled:e,isOnDarkBackground:t,noVigLinkCheck:s,redirectUrl:n,size:o,showSponsoredLogo:d}){const _=i()(r(),{isOnDarkBackground:t});return d?a.createElement("span",{className:_.sponsoredIconContainer},a.createElement(l.Z,{kind:c.Kinds.SPONSORED,size:c.Sizes.XXS,colorState:c.ColorStates.INHERITED})):s||e?a.createElement("a",{rel:"noreferrer",href:n,target:"_blank",className:_.infoIconContainer,onClick:u},a.createElement(l.Z,{kind:c.Kinds.INFO,size:o,colorState:c.ColorStates.INHERITED})):null}m.defaultProps={isOnDarkBackground:!1,noVigLinkCheck:!1,size:c.Sizes.S};const S=(0,_.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,E.selectors)(e);return{redirectUrl:t(d.Zrf.PRIVACY_URL),isAffiliatePartnerEnabled:s(d.ANe.AFFILIATE_PARTNER),showSponsoredLogo:s(d.ANe.SHOW_SPONSORED_LOGO)}}))(m)},70006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N,strings:()=>D});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(99095),l=s(56148),c=s(19341),d=s(43007),_=s(17016),E=(s(95406),s(10728),s(8106)),u=s(76223),m=s.n(u),S=s(67527),p=s.n(S),C=s(76531);const A=m()(p());class T extends r.Component{render(){const e={left:this.props.x,top:this.props.y};return r.createElement("div",{id:"drag-icon-div","data-test-id":"drag-image",className:A.dragIcon,style:e},r.createElement(l.Z,{title:"drag-icon",kind:this.props.iconKind,size:C.Sizes.XS,colorStates:{normal:C.ColorStates.SELECTED,hovered:C.ColorStates.SELECTED}}),r.createElement("div",{className:A.counter},this.props.count))}}const I=T;var h=s(44904),g=s.n(h);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=(0,i.defineMessages)({remove_contact:{id:"compose.remove_contact",defaultMessage:"Remove"}});class R extends r.Component{constructor(e){super(e),O(this,"state",{hovered:!1,isDragHovered:!1,dragSide:"",isSelfDrag:!1}),O(this,"handleDragEnter",(()=>{this.setState({isDragHovered:!0})})),O(this,"handleDragOnPill",((e,t)=>{this.setState({dragSide:t})})),O(this,"handleDragLeave",(()=>{this.setState({dragSide:""}),this.state.isDragHovered&&this.setState({isDragHovered:!1})})),O(this,"shouldHandleDrop",(e=>{var t,s;return e===(null===(t=this.leftDragNodeRef)||void 0===t?void 0:t.current)||e===(null===(s=this.rightDragNode)||void 0===s?void 0:s.current)})),O(this,"handleDragOver",(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()})),O(this,"handleDragEnd",(()=>{this.removeDragImage(),this.props.handleDragState(!1),this.setState({isDragHovered:!1,isSelfDrag:!1})})),O(this,"renderDragImage",((e,t)=>{const s=e.cloneNode(!0),a=m()(g(),{isDragImg:!0}),n=m()(g()),i=s.getElementsByClassName("pill-close")[0],{clientHeight:l,clientWidth:c}=e;if(this.imgContainer.id="drag-img",this.imgContainer.style.height=l+"px",this.imgContainer.style.maxWidth=c+10+"px",this.imgContainer.style.opacity=1,(0,E.je)(this.imgContainer),s.classList.remove.apply(s.classList,n.pillContent.split(" ")),s.classList.add.apply(s.classList,a.pillContent.split(" ")),i&&s.removeChild(i),this.imgContainer.appendChild(s),t>1){const e=document.createElement("div");e.style.position="absolute",o.render(r.createElement(I,{count:t,x:c-40,y:-14,iconKind:C.Kinds.CONTACT_CARD}),e),this.imgContainer.appendChild(e)}return this.imgContainer})),O(this,"removeDragImage",(()=>{if(this.imgContainer&&this.imgContainer.parentNode){const e=document.getElementById("icon-div");e&&e.parentNode&&(o.unmountComponentAtNode(e),e.parentNode.removeChild(e)),this.imgContainer.parentNode.removeChild(this.imgContainer)}this.imgContainer=null})),O(this,"handleDragStart",(e=>{const t=e.target,s=this,{selectedPills:a}=this.props,n={email:this.props.contactEmail,name:this.props.value,id:this.props.contactId};let r=a.length;const o=a.findIndex((({name:e,email:t})=>n.name===e&&n.email===t));this.imgContainer||(this.imgContainer=document.createElement("div"),document.body.appendChild(this.imgContainer)),e.dataTransfer.setData("text/pills",JSON.stringify({contact:n,dragFromField:this.props.inputField})),e.dataTransfer.effectAllowed="move",(0,E.nl)()&&(r>0&&-1===o&&(r+=1),e.dataTransfer.setDragImage(this.renderDragImage(t,r),0,0)),setTimeout((function(){s.props.handleDragState(!0),s.setState({isSelfDrag:!0})}))})),O(this,"handleDrop",((e,t)=>{this.shouldHandleDrop(e.target)&&(this.removeDragImage(),this.setState({dragSide:"",isDragHovered:!1}),this.props.handleDrop(e,t,this.props.contactId))})),O(this,"handleOnKeyDown",(e=>{e.stopPropagation()})),O(this,"handleHover",(e=>{this.setState({hovered:e})})),O(this,"renderPillImage",(e=>{const{isFolderPill:t,contactEmail:s,contactId:a,pillFujiKind:n,pillFujiSize:o,pillFujiColorState:i,isNewFolderPillDesign:l}=this.props,E=(0,_.isValidEmail)(s);return t&&!l?r.createElement("div",{"data-test-id":"pill-folder",className:e.pillDiv},r.createElement(d.Z,{kind:n,colorState:i,size:o})):E&&!l?r.createElement("div",{"data-test-id":"pill-avatar",className:e.avatar},r.createElement(c.ZP,{contact:{id:a,email:s},size:c.u8.S})):null})),O(this,"renderDraggedPill",((e,t)=>e?r.createElement("div",{className:t.dragHoverContent,"data-test-id":"drag-hover-content"},r.createElement("div",{"data-test-id":"drag-left-node",ref:this.leftDragNodeRef,className:t.dragHoverLeft,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"left"),onDrop:e=>this.handleDrop(e,"left")}),r.createElement("div",{"data-test-id":"drag-right-node",ref:this.rightDragNodeRef,className:t.dragHoverRight,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDragEnter:e=>this.handleDragOnPill(e,"right"),onDrop:e=>this.handleDrop(e,"right")})):null)),O(this,"renderRemovePill",((e,t,s)=>(this.props.isSelected||e||this.props.isNewFolderPillDesign)&&this.props.onPillRemove?r.createElement("div",{className:"pill-close "+t.pillRemove},r.createElement(l.Z,{kind:C.Kinds.CLOSE_MINI,size:C.Sizes.XXS,colorStates:s?{normal:C.ColorStates.DISABLED,hovered:C.ColorStates.SELECTED}:{normal:C.ColorStates.DISABLED,hovered:C.ColorStates.WARNING},onClick:this.props.onPillRemove,style:{padding:0},title:this.context.intl.formatMessage(D.remove_contact)})):null)),O(this,"handleChange",(e=>{this.props.onPillUpdate(e.target.value)})),O(this,"handleKeyDown",(e=>{const t=8*e.target.value.length;this.setState({inputWidth:t,inputValue:e.target.value}),e.stopPropagation()})),this.leftDragNodeRef=r.createRef(),this.rightDragNodeRef=r.createRef()}componentDidMount(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}componentDidUpdate(){this.props.isEditing&&this.editInputPill&&this.editInputPill.focus()}UNSAFE_componentWillReceiveProps(e){if(this.props.title!==e.title){const t=e.title&&e.title.length?8*(e.title.length+1):300;this.setState({inputValue:e.title,inputWidth:t})}}render(){const{hovered:e,isDragHovered:t,dragSide:s,isSelfDrag:a}=this.state,{useEllipsis:n,isSelected:o,maxWidth:i,isDark:l,isFolderPill:c,isDragged:d,isEditing:E,isNewFolderPillDesign:u}=this.props,S=(0,_.isValidEmail)(this.props.contactEmail),p=!S,C=m()(g(),{isHovered:e,hasError:p,isSelected:o,useEllipsis:n,isDark:l,isFolderPill:c,dragSide:s,isDragged:a||d,isNewFolderPillDesign:u});let A;n&&i&&(A={maxWidth:i});const{title:T}=this.props;if(E){const e=this.state.inputWidth||"300",t=this.state.inputValue||this.props.title;return r.createElement("div",{className:"pill-container "+C.pillContainer,onBlur:this.handleChange},r.createElement("input",{ref:e=>{this.editInputPill=e},"data-test-id":"edit-pill-input",className:C.editInput,type:"text",defaultValue:t,onKeyDown:this.handleKeyDown,style:{width:e+"px"}}))}return r.createElement("div",{className:"pill-container "+C.pillContainer},r.createElement("div",{"data-test-id":"pill",title:T,"aria-label":this.props.value,className:"pill-content "+C.pillContent,onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.props.onPillClick,onDoubleClick:this.props.onPillEdit,draggable:this.props.isCompose,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragEnter:this.handleDragEnter},this.renderPillImage(C),r.createElement("div",{"data-test-id":"pill-text",className:C.pillText,style:A},this.props.value),this.renderRemovePill(e,C,S)),this.renderDraggedPill(t,C))}}O(R,"contextTypes",{intl:i.intlShape.isRequired,config:n().object}),O(R,"defaultProps",{onPillClick:()=>{},useEllipsis:!1,isDark:!1,isFolderPill:!1,isDragged:!1,selectedPills:[],isEditing:!1,isNewFolderPillDesign:!1});const N=R},50621:(e,t,s)=>{"use strict";s.d(t,{Es:()=>d,XU:()=>c,ZP:()=>E});s(45697);var a=s(67294),n=s(18030),r=s(65304),o=(s(31509),s(95406)),i=s(10728);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c={MOUNT:1,CLICK:2,HOVER:4,HOVER_DELAYED:8},d={HOVER_OUT_ANCHOR:1,HOVER_OUT:2,CLICK:4,DRAG_START:8};class _ extends a.Component{constructor(...e){super(...e),l(this,"state",{popoverShown:!1}),l(this,"hideOnScroll",(()=>{this.state.popoverShown&&this.handlePopoverHide()})),l(this,"handleClick",(()=>{const e=this.state.popoverShown,{triggerOn:t,triggerOff:s}=this.props;e||(t&c.CLICK)!==c.CLICK?e&&(s&d.CLICK)===d.CLICK&&this.setState({popoverShown:!1}):this.setState({popoverShown:!0})})),l(this,"handleDragStart",(()=>{const e=this.state.popoverShown,{triggerOff:t}=this.props;e&&(t&d.DRAG_START)===d.DRAG_START&&this.setState({popoverShown:!1})})),l(this,"handleMouseOver",(()=>{clearImmediate(this._hideTimeout);const{triggerOn:e,triggerDelayTime:t}=this.props;(e&c.HOVER)===c.HOVER?this.setState({popoverShown:!0}):(e&c.HOVER_DELAYED)===c.HOVER_DELAYED&&(this._shownTimeout=setTimeout((()=>{this.setState({popoverShown:!0})}),t))})),l(this,"handleMouseOut",(e=>{const t=this.state.popoverShown,{triggerOff:s}=this.props;clearTimeout(this._shownTimeout),t&&(this.refs.anchor!==e.target&&!this.refs.anchor.contains(e.target)||(s&d.HOVER_OUT_ANCHOR)!==d.HOVER_OUT_ANCHOR?(s&d.HOVER_OUT)===d.HOVER_OUT&&(this._hideTimeout=setImmediate((()=>{this.setState({popoverShown:!1})}))):this.setState({popoverShown:!1}))})),l(this,"handlePopoverHide",(()=>{clearTimeout(this._shownTimeout),this.setState({popoverShown:!1})})),l(this,"handlePopoverShow",(()=>{clearTimeout(this._hideTimeout),this.setState({popoverShown:!0})}))}componentWillUnmount(){clearTimeout(this._shownTimeout),clearImmediate(this._hideTimeout),clearImmediate(this._mountImmediateID);const{scrollContainer:e}=this.props;if(e)if(e.current){const t=(0,o.u9)(e,"current.removeEventListener");"function"==typeof t&&t("scroll",this.hideOnScroll,!1)}else e.removeEventListener&&e.removeEventListener("scroll",this.hideOnScroll,!1)}componentDidMount(){const{triggerOn:e,disabled:t,scrollContainer:s}=this.props;t||(e&c.MOUNT==c.MOUNT?this._mountImmediateID=setImmediate((()=>this.setState({popoverShown:!0}))):this._mountImmediateID=setImmediate((()=>this.forceUpdate())),s&&(s.current?s.current.addEventListener("scroll",this.hideOnScroll,!1):s.addEventListener("scroll",this.hideOnScroll,!1)))}componentDidUpdate(e,t){this.state.popoverShown!==t.popoverShown&&(this.state.popoverShown?this.props.onShown():this.props.onHide())}render(){const{align:e,arrowSize:t,disabled:s,isArrowVisible:o,offset:i,permittedArrowDirections:l,persistent:c,zAltitude:d,collapseArrowWrapper:_,contentComfortThreshold:E,triggerOnTabFocus:u}=this.props,[m,S]=a.Children.toArray(this.props.children),p=!s&&this.state.popoverShown,C={onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onDragStart:this.handleDragStart,ref:"anchor"};return u&&(C.onFocus=this.handlePopoverShow,C.onBlur=this.handlePopoverHide),a.createElement("span",null,a.cloneElement(m,s?{ref:"anchor"}:C),p&&this.refs.anchor?a.createElement(n.ZP,{popoverAnchor:this.refs.anchor,arrowSize:t,align:e,offset:i,permittedArrowDirections:l,zAltitude:d,onMouseOver:e=>{this.handleMouseOver(e),this.props.onContentMouseOver(e)},onMouseOut:e=>{this.handleMouseOut(e),this.props.onContentMouseOut(e)},onHide:this.handlePopoverHide,persistent:c,isArrowVisible:o,collapseArrowWrapper:_,overflowScroll:!0,contentComfortThreshold:E,triggerOn:r.K2.ASYMMETRIC},S||this.props.children[1]):null)}}l(_,"defaultProps",{disabled:!1,stopClickPropagation:!1,onShown:()=>{},onHide:()=>{},onContentMouseOver:()=>{},onContentMouseOut:()=>{},persistent:!1,zAltitude:i.LSY.POPOVER.MEDIUM,isArrowVisible:!0,collapseArrowWrapper:!1,contentComfortThreshold:r.Fw});const E=_},82520:(e,t,s)=>{"use strict";s.d(t,{OI:()=>a.Z,U5:()=>o.ZP,tW:()=>n.Z,yk:()=>r.ZP});var a=s(11160),n=s(31509),r=s(18030),o=s(50621)},31509:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a,n,r,o=s(67294);class i extends o.Component{render(){const e=o.Children.only(this.props.children);return o.cloneElement(e,{onClick:this.props.onClick,onContextMenu:this.props.onContextMenu,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut})}}r="PopoverAnchor",(n="displayName")in(a=i)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const l=i},11160:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(67294),n=s(65304);s(31509);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i extends a.Component{constructor(...e){super(...e),o(this,"state",{visiblePopoverTypes:[n.K2.MOUNT]}),o(this,"toggle",(e=>{this.state.visiblePopoverTypes.indexOf(e)>-1?this.hide(e):this.show(e)})),o(this,"show",(e=>{const t=this.state.visiblePopoverTypes;t.indexOf(e)>-1||(t.push(e),this.setState({visiblePopoverTypes:t}))})),o(this,"hide",((e,t)=>{const s=this.state.visiblePopoverTypes,n=s.indexOf(e);if(!t){const s=a.Children.toArray(this.props.children).filter((({props:t})=>t.triggerOn&&t.onHide&&t.triggerOn===e)).map((({props:e})=>e.onHide));t=()=>s.forEach((e=>e()))}-1!==n&&(s.splice(n,1),this.setState({visiblePopoverTypes:s},t))})),o(this,"showContextualPopovers",(e=>{a.Children.toArray(this.props.children).some((e=>e.props.triggerOn===n.K2.RIGHTCLICK))&&(e.preventDefault(),this.show(n.K2.RIGHTCLICK))})),o(this,"toggleClickPopovers",(()=>{this.toggle(n.K2.CLICK)})),o(this,"showHoverPopovers",(()=>{this.show(n.K2.HOVER)})),o(this,"hideHoverPopovers",(()=>{this.hide(n.K2.HOVER)}))}componentDidMount(){this.forceUpdateImmediateID=setImmediate((()=>this.forceUpdate()))}componentWillUnmount(){clearImmediate(this.forceUpdateImmediateID)}render(){const e=a.Children.toArray(this.props.children),t=e.shift(),s=a.cloneElement(t,{ref:"popoverAnchor",onClick:e=>{this.toggleClickPopovers(e),t.props.onClick&&t.props.onClick(e)},onContextMenu:this.showContextualPopovers,onMouseOver:this.showHoverPopovers,onMouseOut:this.hideHoverPopovers});let n=[];return this.refs.popoverAnchor&&(n=e.filter((e=>this.state.visiblePopoverTypes.indexOf(e.props.triggerOn)>-1)).map((e=>{const{onHide:t}=e.props;return a.cloneElement(e,{onHide:this.hide.bind(this,e.props.triggerOn,t),popoverAnchor:this.refs.popoverAnchor})}))),a.createElement("div",r({},this.props,{"data-test-id":"popover-container"}),s,n)}}const l=i},18030:(e,t,s)=>{"use strict";s.d(t,{yk:()=>M,ZP:()=>P});s(45697);var a=s(67294),n=s(73935),r=s(43513),o=s.n(r),i=s(75485),l=s.n(i),c=s(10335),d=s.n(c),_=s(26930),E=s.n(_),u=s(76223),m=s.n(u),S=s(35960),p=s(65304);var C=s(10728),A=(s(95406),s(85927)),T=s(18685),I=s(57557),h=s.n(I),g=s(7449),O=s(23279),D=s.n(O),R=s(61395),N=s.n(R);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class M extends a.Component{constructor(e){var t;super(e),f(this,"state",{isVisible:!1,arrowDirection:this.props.permittedArrowDirections[0],popoverPositionStyle:null!==(t=this.props.popoverAnchor)&&void 0!==t&&t.current&&"fixed"===getComputedStyle(this.props.popoverAnchor.current).getPropertyValue("position")?"fixed":"absolute"}),f(this,"handleKeyDown",(e=>{switch(e.key){case"Escape":return e.preventDefault(),e.stopPropagation(),void this.hide();default:return}})),f(this,"handleClick",(()=>{!this.props.persistent&&this.props.hideOnContentClick&&this.hide()})),f(this,"getArrowClassNames",(e=>{let t=d();return this.props.arrowSize===p.Jk.S?t=l():this.props.arrowSize===p.Jk.L&&(t=E()),m()(t,{arrowDirectionDown:e===p.Ji.DOWN,arrowDirectionLeft:e===p.Ji.START,arrowDirectionRight:e===p.Ji.END,bg:this.props.bg,zAltitude:this.props.zAltitude,align:this.props.align,highlight:this.props.highlight,collapseArrowWrapper:this.props.collapseArrowWrapper})})),f(this,"updatePosition",(()=>{var e;const{overflowScroll:t,popoverAnchor:s,align:a,offset:r,arrowSize:o,isArrowVisible:i,permittedArrowDirections:l,customPositioning:c,useMenuPositioning:d,fullWidthPositioning:_,isTwoColumnLayout:E,isRTL:u,collapseArrowWrapper:m,contentComfortThreshold:S}=this.props,A=s&&s.hasOwnProperty("current")?s.current:s;if(!A)return;const T=function(e,t,s,a,n,r,o,i=!1,l=p.Fw){let c=t.getBoundingClientRect();const d=p.s0[a],_=Math.sqrt(2*Math.pow(d,2)),E=i?0:Math.sqrt(Math.pow(d,2)-Math.pow(_/2,2)),u=e.ownerDocument.documentElement.offsetHeight,m=e.ownerDocument.documentElement.offsetWidth,S=e.getBoundingClientRect(),C=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollLeft:e.ownerDocument.body.scrollLeft,A=e.ownerDocument.scrollingElement?e.ownerDocument.scrollingElement.scrollTop:e.ownerDocument.body.scrollTop,T={top:S.top+A,right:S.right+C,bottom:S.bottom+A,left:S.left+C,height:S.height,width:S.width},I=-(T.width/2+c.width/2),h=T.height/2-c.height/2,g={below:u-T.bottom-T.height/2,above:T.top,left:T.left,right:m-T.right};let O=s;const D=(e,t)=>e<0&&p.xM.START||t<0&&p.xM.END||p.xM.CENTER;if(s===p.xM.ANY&&(R=r,[p.Ji.UP,p.Ji.DOWN].some((e=>R.includes(e))))){const e=g.left+T.width/2-c.width/2,t=g.right+T.width/2-c.width/2;O=D(e,t)}else if(s===p.xM.ANY&&(e=>[p.Ji.START,p.Ji.END].some((t=>e.includes(t))))(r)){const e=g.above+T.height/2-c.height/2,t=g.below+T.height/2-c.height/2;O=D(e,t)}var R;const N={},L=Math.floor(Math.max(g.above,g.below)-u*(1-l)),f=Math.floor(Math.max(g.left,g.right)-m*(1-l));let M,P;if(c.height+E>L&&(M=L-E),c.width+E>f&&(P=f-E),M||P){const e=M||c.height,t=P||c.width;c=Object.assign({},c,{height:e,bottom:c.top+e,width:t,right:c.left+t}),N.overflow="auto",M&&(N.maxHeight=`${M}px`),P&&(N.maxWidth=`${P}px`)}const b=g.below*l-c.height>=0,y=g.above*l-c.height>=0,v=g.left*l-c.width>=0,F=g.right*l-c.width>=0;r[0]===p.Ji.ANY&&(r=[p.Ji.UP,p.Ji.DOWN,p.Ji.START,p.Ji.END]);const{positioningStyles:U,arrowDirection:k,canNotPosition:w}=function(){const e={};let t,s=!1;for(let a=0;a<=r.length;a++){if(t=r[a],t===p.Ji.UP&&b){e.top=`${T.bottom+E}px`,e.left=`${T.right+I}px`;break}if(t===p.Ji.DOWN&&y){e.top=T.top-(c.height+E)+"px",e.left=`${T.right+I}px`;break}if(t===p.Ji.START&&F||t===p.Ji.END&&F&&o){e.top=`${T.top+h}px`,e.left=o?`${T.right+(T.width+E)}px`:`${T.right+E}px`;break}if(t===p.Ji.END&&v||t===p.Ji.START&&v&&o){e.top=`${T.top+h}px`,e.left=o?T.left-c.width-E+"px":T.left-(c.width+E)+"px";break}}return t===p.Ji.UP||t===p.Ji.DOWN?O===p.xM.START?o?c.width?e.left=`${T.right-c.width+n}px`:s=!0:e.left=T.left-n+"px":O===p.xM.END&&(o?e.left=T.left-n+"px":c.width?e.left=`${T.right-c.width+n}px`:s=!0):t!==p.Ji.START&&t!==p.Ji.END||(O===p.xM.START?e.top=T.top-n+"px":O===p.xM.END&&(e.top=`${T.bottom-c.height+n}px`)),{positioningStyles:e,arrowDirection:t,canNotPosition:s}}();return{canNotPosition:w,positioningStyles:U,innerContentScrollingStyles:N,arrowDirection:k,adjustedAlign:O}}((0,n.findDOMNode)(A),(0,n.findDOMNode)(null===(e=this.refs)||void 0===e?void 0:e.popoverContent),a,o,r,l,u,m,S),{arrowDirection:I,canNotPosition:h,adjustedAlign:O}=T;if(h)return;let{positioningStyles:D,innerContentScrollingStyles:R}=T;if(c&&(D=null),d){const e=(0,g.E)((0,n.findDOMNode)(A),(0,n.findDOMNode)(this.refs.popoverContent),u);for(const t in e)e[t]=`${e[t]}px`;D=e}_&&!E&&(D.left=2*C.mg$+"px",D.width=`calc(100% - ${4*C.mg$}px)`),t||(R=null),i&&Object.assign(this.refs.popoverArrow.style,this.getArrowStyle(O)),"fixed"===this.state.popoverPositionStyle&&(D.position="fixed"),I!==this.state.arrowDirection?this.setState({arrowDirection:I},(()=>{Object.assign(this.refs.popoverContent.style,D),Object.assign(this.refs.popoverInnerContent.style,R)})):(Object.assign(this.refs.popoverContent.style,D),Object.assign(this.refs.popoverInnerContent.style,R))})),f(this,"handleWindowMouseDown",(e=>{const{popoverAnchor:t,triggerOn:s,persistent:a,outerClickFallthrough:r}=this.props,o=t&&t.hasOwnProperty("current")?t.current:t;if(!o||a||!r)return;const i=(0,n.findDOMNode)(this.refs.popoverContent),l=(0,n.findDOMNode)(o),c=i&&!i.contains(e.target)&&i!==e.target,d=l&&(l.contains(e.target)||l===e.target);!c||[p.K2.CLICK,p.K2.ASYMMETRIC].indexOf(s)>-1&&d||this.props.onHide()})),f(this,"hide",(()=>{const{hideOnContentClick:e,onHide:t}=this.props;this.setState({isVisible:!e},t)})),f(this,"getArrowStyle",(e=>{const{offset:t,arrowSize:s,popoverAnchor:a,isRTL:r}=this.props,o=a&&a.hasOwnProperty("current")?a.current:a;if(!o)return{};const i=(0,n.findDOMNode)(o).getBoundingClientRect(),l=this.state.arrowDirection;let c,d="",_=t-p.s0[s],E="center",u="none";return e===p.xM.END?E="flex-end":e===p.xM.START&&(E="flex-start"),l!==p.Ji.DOWN&&l!==p.Ji.END||(d="rotate(180deg)",u=`${d}`,e===p.xM.END?E="flex-start":e===p.xM.START&&(E="flex-end")),e===p.xM.CENTER?{justifyContent:E,transform:u}:(l===p.Ji.START||l===p.Ji.END?(c=p.hy.VERTICAL,_+=i.height/2):(c=p.hy.HORIZONTAL,_+=i.width/2,(e===p.xM.END&&!r||r&&e===p.xM.START)&&(_*=-1)),{transform:c===p.hy.HORIZONTAL?`translateX(${_}px) ${d}`:`translateY(${_}px) ${d}`,justifyContent:E})})),this.scrollDebounce=D()(this.handleScroll.bind(this),100)}handleScroll(){this.state.isVisible&&this.refs.popoverContent&&"fixed"!==this.state.popoverPositionStyle&&this.updatePosition()}componentDidMount(){this.updatePosition(),this.props.onShow(),window.addEventListener("scroll",this.scrollDebounce,!0),setImmediate((()=>this.setState({isVisible:!0},(()=>{!this.props.persistent&&this.props.outerClickFallthrough&&window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}))))}componentWillUnmount(){clearTimeout(this.positionTimeout),window.removeEventListener("scroll",this.scrollDebounce,!0),window.removeEventListener("mousedown",this.handleWindowMouseDown,!1)}componentDidUpdate(){this.positionTimeout=setTimeout((()=>{this.refs.popoverContent&&this.updatePosition()}),0)}render(){const e=this.state.isVisible?"visible":"hidden",t=this.state.arrowDirection,s=this.getArrowClassNames(t),n=m()(o(),{bg:this.props.bg,zAltitude:this.props.zAltitude,animate:this.props.animate,highlight:this.props.highlight,borderRadius:this.props.borderRadius,ignorePointerEvents:this.props.ignorePointerEvents}),r=this.props.popoverClassName?N()(n.popover,this.props.popoverClassName):n.popover,i=this.props.popoverPointerClassName?N()(s.pointer,this.props.popoverPointerClassName):s.pointer;return a.createElement(S.Z,{rootId:this.props.layerRootId},this.props.outerClickFallthrough?null:a.createElement("div",{"data-test-id":"popover-overlay",className:n.overlay,onClick:()=>this.props.persistent?null:this.props.onHide()}),a.createElement("div",L({"data-test-id":"popover-content",className:r,onClick:this.handleClick,onKeyDown:this.handleKeyDown},h()(this.props,["contentComfortThreshold","outerClickFallthrough","triggerOn","permittedArrowDirections","zAltitude","onShow","boundingBox","align","arrowSize","bg","onHide","overflowScroll","persistent","isArrowVisible","customPositioning","useMenuPositioning","fullWidthPositioning","animate","ignorePointerEvents","popoverAnchor","highlight","hideOnContentClick","borderRadius","isTwoColumnLayout","isRTL","dispatch","collapseArrowWrapper","layerRootId","popoverClassName","storeSubscription","popoverPointerClassName"]),{style:{visibility:e},ref:"popoverContent"}),a.createElement("div",{className:n.popoverContent,ref:"popoverInnerContent"},"function"==typeof this.props.children?this.props.children(this.updatePosition):this.props.children),a.createElement("div",{className:s.pointerWrapper,ref:"popoverArrow"},this.props.isArrowVisible?a.createElement("div",{"data-test-id":"popover-content-arrow",className:i}):null)))}}f(M,"displayName","PopoverContent"),f(M,"defaultProps",{outerClickFallthrough:!0,permittedArrowDirections:[p.Ji.ANY],boundingBox:void 0,ignorePointerEvents:!1,triggerOn:p.K2.MOUNT,align:p.xM.CENTER,arrowSize:p.Jk.M,offset:0,bg:p.Ic.DEFAULT,zAltitude:C.LSY.POPOVER.LOW,onHide:()=>{},onShow:()=>{},overflowScroll:!0,persistent:!1,isArrowVisible:!0,customPositioning:!1,useMenuPositioning:!1,animate:!1,highlight:!1,hideOnContentClick:!0,borderRadius:p.cM.LOW,collapseArrowWrapper:!1,layerRootId:"app",contentComfortThreshold:p.Fw});const P=(0,T.connect)((e=>{const{getEnvironmentSelectors:t,getPrescribedNumberOfColumns:s}=(0,A.selectors)(e),a=t();return{isTwoColumnLayout:2===s(),isRTL:"rtl"===a.getPageDirection()}}))(M)},7351:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(45697),n=s.n(a),r=s(67294),o=s(61239),i=s.n(o),l=s(76223),c=s.n(l),d=s(95406),_=s(37422),E=s(46229);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}n().oneOf((0,d.VO)(_.zoT)).isRequired;const m=({provider:e,stickyOnboarding:t=!1,isDarkTheme:s,...a})=>{const n=c()(i(),{stickyOnboarding:t});let o="Other";switch(e){case _.zoT.AOL:o="AOL";break;case _.zoT.GOOGLE:case _.zoT.GOOGLE_APP:o="Google";break;case _.zoT.OFFICE365:o="Office 365";break;case _.zoT.OUTLOOK:o="Outlook";break;case _.zoT.VERIZON_MEDIA:o="Verizon Media";break;case _.zoT.YAHOO_INC:o="Yahoo Inc";break;case _.zoT.YAHOO:case _.zoT.YAHOO_SB:o="Yahoo"}return[_.zoT.GOOGLE_APP,_.zoT.VERIZON_MEDIA,_.zoT.YAHOO_INC].indexOf(e)>-1&&(e=_.zoT.GOOGLE),e===_.zoT.YAHOO_SB&&(e=_.zoT.YAHOO),r.createElement(E.Z,u({},a,{alt:o,className:s?n.darkContainer:n.container,src:`/img/provider_logo_${e}_1x.png`,srcSet:s?`/img/provider_logo_${e}_2x_dark.png 1x`:`/img/provider_logo_${e}_2x.png 2x`,title:o}))}},90844:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(67294),n=s(7426),r=s(15038),o=s(30454),i=s(76725);const l=e=>{const{formatMessage:t}=(0,n.Y)(),{onChange:s,classNames:l,reminder:c}=e,d=[{label:t(i.M.reminder_5_min),value:"-PT5M"},{label:t(i.M.reminder_10_min),value:"-PT10M"},{label:t(i.M.reminder_30_min),value:"-PT30M"},{label:t(i.M.reminder_60_min),value:"-PT60M"},{label:t(i.M.reminder_1_day),value:"-PT1D"}],[_,E]=(0,a.useState)(c.offset);return a.createElement(o.Z,{selected:_,onChange:e=>(e=>{if(!e||e===_)return;E(e),s({showAlert:!0,offset:e})})(e),classNames:l},d.map((({label:e,value:t})=>a.createElement(r.Z,{key:e,value:t},e))))}},76725:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});const a=(0,s(99095).defineMessages)({reminder_5_min:{id:"reminder_5_minutes_before",defaultMessage:"5 minutes before"},reminder_10_min:{id:"reminder_10_minutes_before",defaultMessage:"10 minutes before"},reminder_30_min:{id:"reminder_30_minutes_before",defaultMessage:"30 minutes before"},reminder_60_min:{id:"reminder_60_minutes_before",defaultMessage:"1 hour before"},reminder_1_day:{id:"reminder_1_day_before",defaultMessage:"1 day before"}})},31208:e=>{"use strict";e.exports={className:{default:{linkContainer:"C_Z29WjXl u_e69 E_A P_1Eu7sD b_efTvb H_6MGW i_6MGW r_P C4_Z29WjXl ir3_1JO2M7 it3_dRA"},"themeMode-DARK":{linkContainer:"C_ZpQYvz C4_ZkbNhI ir3_Z1FS2Mn it3_dRA"}},_key:"YTj6p"}},69954:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(45697),n=s.n(a),r=s(67294),o=s(9026),i=s(53830),l=s.n(i),c=s(67498),d=s(10728),_=s(76223),E=s.n(_);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}n().func.isRequired,n().bool,n().string.isRequired,n().string,n().string,n().bool,n().string,n().number;const m=(0,r.forwardRef)(((e,t)=>{const{children:s,onClick:a,isSelected:n=!1,title:i,maxWidth:_,isOnRightRail:m,themeMode:S,tabIndex:p=d.iUz.SEGMENTED_CONTROL_FILTERS,...C}=e,A={},T=E()(l(),{isSelected:!!n,showWhiteLabels:m&&S===o.zg.MEDIUM||S===o.zg.DARK,showEllipsis:!!_});return C["data-test-id"]&&(A["data-test-id"]=C["data-test-id"]),_&&(A.style={maxWidth:_}),r.createElement("li",{className:T.segment,role:"presentation",ref:t},r.createElement(c.Z,u({},A,{"data-iskeynav":!0,tabIndex:p,className:T.button,role:"tab","aria-selected":n,onClick:a,title:i}),r.createElement("span",{className:T.buttonText,"aria-hidden":!0},i),s))}));m.defaultProps={isOnRightRail:!1};const S=m},16488:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var a=s(67294),n=s(18685),r=s(9261),o=s.n(r),i=s(37422),l=s(76223),c=s.n(l),d=s(85927);const _=(0,n.connect)((e=>({themeMode:(0,d.selectors)(e).getSetting(i.Zrf.THEME_MODE)})))((({children:e,themeMode:t})=>{const s=c()(o(),{themeMode:t});return a.createElement("ul",{className:s.container,role:"tablist","data-test-id":"segmented-control"},a.Children.toArray(e).map((e=>"object"==typeof e&&null!==e?(0,a.cloneElement)(e,{themeMode:t}):null)).filter(Boolean))}))},53830:e=>{"use strict";e.exports={className:{default:{segment:"ce_dBP cd_FJ cc_ZVhlrG C_Z24Sbth r_P D_F u_e69 p_R M_0 I4_IyTRc x8_n",button:"I_T b_n D_X C_q r_q y_q u_q A_6EqO c1AVi73_6EWk P_1Eu7sD W_6D6F D33_B C33_T dq33_Z1WN6IG u33_b H33_0 o33_h v33_h",buttonText:"D_X"},isSelected:{segment:"I_Z2tSq0X C_Z281SGl u_b Z_O I4_Z2tSq0X"},showEllipsis:{buttonText:"W_q G_e o_h J_x"},showWhiteLabels:{segment:"C_ZkbNhI",button:"is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"2wCaxM"}},9261:e=>{"use strict";e.exports={className:{default:{container:"M_0 P_0 C_Z281SGl D_F ek_EZ H_6MGW p_R J_x b_12kOTw e_dRA"},"themeMode-DARK":{container:"C_ZkbNhI",inactiveSegment:"C_ZkbNhI",activeSegment:"C_ZkbNhI"},isOnDarkBackground:{container:"C_ZkbNhI",inactiveSegment:"C_ZkbNhI",activeSegment:"C_ZkbNhI"}},_key:"Z2svPlH"}},15038:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(36489),c=s.n(l),d=s(94482),_=s(37422);const{number:E,bool:u,string:m,func:S,oneOfType:p,object:C}=n(),A=e=>{const{isSelected:t=!1,children:s,value:a,hoverStyle:n="",title:o}=e,l=t=>{e.onSelect&&e.onSelect(a,t)},E=i()(c(),{isSelected:t&&!n,hoverStyle:n+(t?"_SELECTED":"")}),u=o||"string"==typeof s&&s||"";return r.createElement(d.Z,{title:u,ariaLabel:u,"data-test-id":a,onClick:l,onKeyDown:e=>{switch(e.key){case _.R8U.ENTER:e.preventDefault(),e.stopPropagation(),l(e);break;case _.R8U.TAB:e.preventDefault(),e.stopPropagation()}}},r.createElement("a",{href:"#",onClick:e=>{e.preventDefault()},className:E.optionItem,tabIndex:-1},s))}},30454:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var a=s(67294),n=s(43007),r=s(9333),o=s(99095),i=s(76531),l=s(76223),c=s.n(l),d=s(27729),_=s.n(d),E=s(8470),u=s(40918),m=s(78041),S=s(37422),p=s(78137),C=s(85378),A=s(17016),T=s(7426);const I=(0,o.defineMessages)({emptyItems:{id:"option",defaultMessage:"No items"},close:{id:"close",defaultMessage:"Close"}});function h(e){const{formatMessage:t}=(0,T.Y)(),[s,l]=(0,a.useState)(!1),[d,A]=(0,a.useState)(!1),h=(0,a.useRef)(null),{setRef:g,onChange:O}=e;(0,a.useEffect)((()=>{null==g||g(h.current)}),[g]);const D=()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.focus()},R=()=>null==O?void 0:O(null),N=(0,a.useCallback)((()=>{l(!1)}),[]),L=(0,a.useCallback)((()=>{l(!1),D()}),[]),f=(0,a.useCallback)((e=>{null==e||e.stopPropagation(),l(!1),D()}),[]),M=(0,a.useCallback)(((e,t)=>{L(),null==O||O(e,t)}),[O,L]),P=()=>{e.disabled||l(!s)},b=t=>{var s;A(!0),null===(s=e.onFocus)||void 0===s||s.call(e,t)},y=t=>{var s;A(!1),null===(s=e.onBlur)||void 0===s||s.call(e,t)},v=e=>{switch(e.key){case S.R8U.ENTER:e.preventDefault(),e.stopPropagation();break;case S.R8U.ARROW_DOWN:s||P()}},F=()=>{const{selected:t,children:s}=e,n=a.Children.toArray(s);return(0,p.qr)(n,(e=>e.props.value===t))},{disabled:U=!1,onClick:k,coloredPlaceholder:w=!1,inline:G=!1,dropdownType:H=""}=e,B=(s||d)&&!U,x=c()(_(),{inline:G,isOpen:s,disabled:U,isFocused:B,coloredPlaceholder:w,type:H});return a.createElement("div",{className:x.selectWrapper,"data-test-id":"selectbox",onClick:k},(o=>{const{selected:l,showClear:c,disabled:_,children:E,title:u,placeholder:m,arrowDownColor:S,inputFormatter:p,classNames:C,tabIndex:A,arrowDownHighlightedIfFocused:T}=e,g=F(),O=a.Children.toArray(E)[g],{children:D=""}=g>-1?O.props:{},N=(s||d)&&!_;let L=N?i.ColorStates.SELECTED:i.ColorStates.SECOND_LEVEL_GRAY;const f=l||"number"==typeof l&&0===l;let M=D,U=D,k=A||0,w=-1;if(m&&!f&&(k=-1,w=A||0),S&&(L=S,N&&T&&(L=i.ColorStates.SELECTED)),p){const e=p(l);U=e.optionLabel||D,M=e.optionTitle||D}return a.createElement("div",{onMouseDown:P,"data-test-id":"selectbox-input",className:o.selectBox},a.createElement("input",{"aria-hidden":!0,"aria-label":null==O?void 0:O.props.title,readOnly:!0,type:"text","aria-haspopup":!0,"aria-expanded":s,ref:h,disabled:_,onBlur:y,onFocus:b,onKeyDown:v,value:l||"",className:o.selectInput,tabIndex:k,"data-test-id":"selectbox-input-hidden"}),a.createElement("div",{className:(null==C?void 0:C.selectLabel)||o.selectLabel},f?a.createElement("div",{className:o.inputWrapper},a.createElement("span",{title:M,className:(null==C?void 0:C.selectedValue)||o.selectedValue},U),c&&!_?a.createElement("span",{className:o.closeBtn},a.createElement(r.default,{paddingLess:!0,size:i.Sizes.XXS,onClick:R,kind:i.Kinds.CAL_DECLINE,colorState:i.ColorStates.FAINT,title:t(I.close),"aria-label":t(I.close)})):null):a.createElement("span",{className:(null==C?void 0:C.selectPlaceholder)||o.selectPlaceholder,title:u,tabIndex:w,role:"combobox","aria-haspopup":!0,"aria-expanded":s,onKeyDown:v},m),a.createElement("span",{className:o.arrowDown},a.createElement(n.Z,{size:i.Sizes.XS,kind:i.Kinds.INPUT_ARROW_DOWN,colorState:L}))))})(x),s&&(t=>{const{classNames:s}=e;let n=null;const r=F(),{children:i,maxWidth:l,dropdownType:c,listOptionsHaveMultipleFocusable:d}=e;return n=a.Children.count(i)>0?a.Children.map(i,((e,t)=>a.cloneElement(e,{key:t,isSelected:t===r,...!e.props.handlesOnSelect&&{onSelect:M}}))):a.createElement("div",{className:t.emptyItem},a.createElement(o.FormattedMessage,{id:"option",defaultMessage:"No items"})),a.createElement("div",{"data-test-id":"options",className:(null==s?void 0:s.optionsContainer)||t.optionsContainer,style:c===C.l.FITCONTENT?{maxWidth:l}:{}},a.createElement(E.Z,{focusOnMount:!0,circularNavigation:!1,onHide:N,onEscape:f,layout:m.A.VERTICAL,kind:u.F.MENU,listOptionsHaveMultipleFocusable:d,isRestrictedHeight:!0},n))})(x))}h.contextTypes={intl:o.intlShape},h.defaultProps={onBlur:A.NOOP,onClick:A.NOOP,onFocus:A.NOOP,classNames:{},disabled:!1,showClear:!1,coloredPlaceholder:!1,arrowDownHighlightedIfFocused:!1};const g=h},36489:e=>{"use strict";e.exports={className:{default:{optionItem:"k_w D_B W_6D6F b_n r_P t_l o_h J_x G_e q_T P_20hyCR i_6VdP A_6EqO c1AVi73_6FsP q4_Z1gjdjJ it3_67SN q3_Z1gjdjJ"},isSelected:{optionItem:"q_Z1gjd50"},"hoverStyle-BOLD":{optionItem:"u4_b q4_T"},"hoverStyle-BOLD_SELECTED":{optionItem:"u_b q4_T"},paddingLess:{optionItem:"P_0"}},_key:"ZQrWuF"}},27729:e=>{"use strict";e.exports={className:{default:{selectWrapper:"r_P p_R A_6EqO c1AVi73_6FsP",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNbA",selectLabel:"D_F gl_FL C_Z281SGl m_2w4lU5 H_6VdP i_6VdP X_fq7",emptyItem:"C_ZxFlP3 P_1Eu6qC i_6VdP",optionsContainer:"W_6D6F P_3DHIS p_a q_ZkbNhI C_Z281SGl e_dRA j_Z2nrtxD",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",closeBtn:"r_P e_e5X M_8ximD D_X W_6Fd5 H_6Fd5 i_6Fd5",arrowDown:"r_P D_F gl_C ab_C"},isOpen:{selectWrapper:"Z_7G9R"},isFocused:{selectLabel:"m_2gzP8k",arrowDown:"l_1st1IL"},disabled:{selectLabel:"r4_DZ",selectedValue:"C_ZvsWfq"},coloredPlaceholder:{selectPlaceholder:"C_Z29WjXl"},"type-FITCONTENT":{optionsContainer:"W_CS s_6D6F"},inline:{selectBox:"D_X",selectLabel:"D_F m_n i_6FIA c1AVi7H_6LEV X_0 H_6MGW",selectedValue:"A_6EqO c1AVi73_6FsP C_Z1VRqsb",inputWrapper:"D_X o_h gl_FL H_A i_q",arrowDown:"r_P D_X o_h gl_FL Q_fq7 p_R"}},_key:"2tYNgB"}},43111:e=>{"use strict";e.exports={className:{default:{avatar:"en_0 M_3gIMd W_6UbO H_6UbO e_dRA ba_6UbO aw_1zc1KJ az_DW ay_22lW9e"},"accountType-yahoo":{avatar:"ay_Z1yLEkG"},"accountType-google":{avatar:"ay_I2Vyf"},"accountType-aol":{avatar:"ay_22iLrE"},"accountType-outlook":{avatar:"ay_22igsa"},"accountType-googleapp":{avatar:"ay_22hKsF"},"accountType-yahoosb":{avatar:"ay_I2qyK"},"accountType-yahooinc":{avatar:"ay_I2qyK"},"accountType-verizonmedia":{avatar:"ay_22Hk7F"},"accountType-office365":{avatar:"ay_22KuOf"},"accountType-Facebook":{avatar:"ay_22mRHn"},"accountType-LinkedIn":{avatar:"ay_22q8OM"},"accountType-Twitter":{avatar:"ay_22qDOh"},"accountType-gdrive":{avatar:"ay_22D8r7"},"accountType-dropbox":{avatar:"ay_22Goyw"}},_key:"ePYyj"}},59629:e=>{"use strict";e.exports={className:{default:{accountList:"M_0 P_0 hd_n",listItem:"D_F H_6NIX P_0 ab_C it3_dRA I4_2tvNsT",text:"em_N A_6EWk c1AVi73_6FYl c1AVi7H_6Mrc X_6DEy o_h G_e J_x",activeText:"em_N A_6EWk c1AVi73_6FYl c1AVi7H_6Mrc X_6DEy o_h G_e J_x u_b C_ZamTeg",unreadCount:"en_0 E_fq7",settingGear:"P_Z26qe3x p_R R_fq7 Q_6DEy cdPFi_Zjpyu2 cdPFi4_Z281SGl",statusIcon:"E_fq7",expiredIcon:"E_eDQ",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"},"themeMode-MEDIUM":{text:"C_ZkbNhI",settingGear:"cdPFi_ak5m8 cdPFi4_ZkbNhI",listItem:"is_26ISAR cZdTOHS_ZXgLQ3",activeText:"C_2qemPL"},"themeMode-DARK":{text:"C_ZkbNhI",settingGear:"cdPFi_ak5m8 cdPFi4_ZkbNhI",listItem:"is_26ISAR cZdTOHS_ZXgLQ3",activeText:"C_2qemPL"},"theme-SPRING":{activeText:"C_Z1tLrUU"}},_key:"Z1Y16Ur"}},27945:e=>{"use strict";e.exports={className:{default:{container:"e_eo6 o_h",actionButton:"A_6EqO c1AVi73_6FsP J_x I_T cg_n u_Z13VSE6 C_Z29WjXl r_P P_Z1VwS0f",ctaButtonText:"A_6Eb4 c1AVi73_6Fd5 J_x I_T cg_n u_Z13VSE6 C_Z29WjXl r_P P_Z1VwS0f",arrowContainer:"V_M",link:"A_6EqO c1AVi73_6FsP e_eo6 H_74JI X_0 o_h ab_C p_R D_ZKxLmw v_g9505 I_ZnIF8Y cdPFi_Z281SGl k_w I4_ZpQYvz",mailPlusUpsellLink:"A_6EqO c1AVi73_6FsP e_0 l_ZpQYvz cg_FJ cn_ZdD0VF H_74JI X_0 o_h ab_C p_R D_ZKxLmw v_g9505 I_T cdPFi_Z281SGl k_w I4_Z1gjdjJ r_P",transparentBackgroundLink:"bn_dBP bm_FJ bj_ZpQYvz I_ZprBTp I4_Z1GCQ1Q",imageContainer:"W_6VJl D_F ek_BB ab_C k_w en_0 i_0",previewVideo:"W_6MGW H_6MGW ab_C D_F gl_C p_R",previewVideoPlayer:"W_6NIX H_6NIX im_BH",videoOverlay:"p_a W_6NIX H_6NIX",spacer:"D_F en_0 ab_C W_6LEV H_6D6F P_Z1feoPS",sponsoredContainer:"D_F ab_C r_P",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR C_Z2drWk6 cdPFi_Z2drWk6",adTextContainer:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_ZyfvxR A_6EqO c1AVi73_6FsP C_Z1VRqsb",advertiserContainer:"D_F ek_EZ gl_C s_0 ab_C",advertiser:"o_h J_x G_e em_N E_fq7 u_Z13VSE6 D_B Q_6NIX",message:"D_F o_h H_6D6F E_72FG J_x em_N i_CS k_w ek_EZ ab_C gl_FO",subjectContainer:"en_0 a_6D6F D_F ab_C gl_FM",subject:"o_v G_e J_x a_6D6F en_N u_Z13VSE6",snippetContainer:"D_F ab_C a_6D6F X_fq7 o_h J_x H_6D6F",snippet:"J_x o_h G_e C_Z1VRqsb a_6D6F",adHeadline:"J_x o_h G_e a_6D6F",sponsored:"A_6EqO c1AVi73_6FsP ab_C D_F C_Z1VRqsb I_T gl_C H_6D6F b_0 r_P P_0",mbBeacon:"D_n",adFeedbackContainer:"P_3Y3Gk",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0 E_eo6",gridB2:"D_F ab_C H_6D6F o_h em_sL ej_0",starRatingContainer:"s_7qGO",adContainer:"s_7iGr E_0 D_F ek_BB ab_CH",spacerContainer:"W_6UbO X_dRA",highlightedTerm:"I_Z1gjd5v D_X P_3zDxc",snippetInnerContainer:"D_X J_x o_h G_e",feedbackContainer:"C_Z1VRqsb cdPFi_Z1VRqsb",favicon:"D_F W_6D6F ab_C gl_C"},isCompactLayout:{link:"H_7rdk X_0",mailPlusUpsellLink:"H_7rdk X_0 cn_Z20vKSK",imageContainer:"W_74JI X_eo6 ac_CI je_6Eb4",adHeadline:"Q_0 W_6D6F U_eo6 u_Z13VSE6",snippet:"Q_0",spacer:"D_n",feedbackContainer:"W_A D_F ab_C H_6LEV",closeIconContainer:"gl_CH W_A",gridB2:"em_qk ej_7kKt",gridB1:"o_v W_74JI em_0 ej_CS a_n E_0",subjectContainer:"W_6D6F U_eo6",snippetContainer:"W_6D6F gl_FM H_3mCHE X_dm5",message:"M_0 N_fFR ek_BB ab_CI gl_C",subject:"Q_0 o_h",sponsored:"E_0 p_s T_A R_A P_3gIgH Q_7bcz",sponsoredContainer:"H_6Fd5",actionButton:"P_3gIgH",ctaButton:"A_6Eb4 c1AVi73_6Fd5 J_x I_T cg_n l_Z29WjXl u_Z13VSE6 C_Z29WjXl r_P Q_6DEy P_3gIgH",sponsoredIcon:"X_dBP",adTextContainer:"X_dBP",starRatingContainer:"s_7iGr"},secondPencilAd:{link:"I_T cn_3vzlv cg_FJ l_1EQwtX e_0",mailPlusUpsellLink:"I_T cn_3vzlv cg_FJ l_1EQwtX e_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_ROADTRIP":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_SUNSET_AUSSIE":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_LIGHTHOUSE":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_SPRING":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_WINTER":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_SUMMER":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_GALAXY":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_FALL":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_WESTERN":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeCombo-DARK_SUNSET":{link:"C_ZpQYvz cdPFi_ZkbNhI I_a0xtn I4_ak5iz",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"themeMode-DARK":{link:"C_ZpQYvz cdPFi_ZkbNhI I_ZS20VC I4_ZS20V7",mailPlusUpsellLink:"C_ZpQYvz cdPFi_ZkbNhI I_T I4_1YEmYj l_a0xJ8",transparentBackgroundLink:"bj_a0xJ8 I_ZprBTp I4_ZB1ibq",snippet:"C_ZvsWfq",adHeadline:"C_ZpQYvz",sponsored:"C_ZkbNhI",adTextContainer:"C_ZkbNhI",feedbackContainer:"C_ZkbNhI cdPFi_ZkbNhI"},"msgListDensity-1":{link:"H_qg",mailPlusUpsellLink:"H_qg",imageContainer:"X_0",actionButton:"b_82XEY cg_82XEY",previewVideo:"W_6MGW H_6MGW",previewVideoPlayer:"W_6MGW H_6MGW",videoOverlay:"W_6MGW H_6MGW",spacer:"Q_eTB",spacerContainer:"W_6TFj P_0",sponsoredIcon:"M_ZBlLjw",adTextContainer:"M_ZBlLjw"},"msgListDensity-2":{link:"H_qJ",mailPlusUpsellLink:"H_qJ",previewVideo:"W_6UbO H_6UbO",previewVideoPlayer:"W_6UbO H_6UbO",videoOverlay:"W_6UbO H_6UbO p_a"},"msgListDensity-3":{link:"H_rh",mailPlusUpsellLink:"H_rh",imageContainer:"W_73HH E_69bz",previewVideo:"W_73HH H_73HH o_v",previewVideoPlayer:"W_73HH H_73HH",videoOverlay:"W_73HH H_73HH p_a L_dBP",ctaButton:"A_6Eb4 c1AVi73_6Fd5 J_x I_T e_6EGz cn_dRA cg_FJ l_Z29WjXl u_Z13VSE6 C_Z29WjXl r_P Q_6DEy P_aJ8lI"},"msgListDensity-compact_1":{link:"H_si",adHeadline:"W_fbx u_Z13VSE6 U_dRA",snippetContainer:"W_fbx",mailPlusUpsellLink:"H_si",subjectContainer:"U_dRA",sponsoredIcon:"Y_69bz",adTextContainer:"Y_69bz"},"msgListDensity-compact_2":{link:"H_sL",mailPlusUpsellLink:"H_sL",adHeadline:"W_fbx u_Z13VSE6 U_eo6",snippetContainer:"W_fbx",subjectContainer:"U_eo6",sponsoredIcon:"Y_68F4",adTextContainer:"Y_68F4"},"msgListDensity-compact_3":{link:"H_tf",mailPlusUpsellLink:"H_tf",adHeadline:"W_fbx u_Z13VSE6 U_eo6",snippetContainer:"W_fbx",subjectContainer:"U_eo6"},isNormalizedSecondPencilAd:{link:"Y_e8l I_ZnIF8Y cg_n",mailPlusUpsellLink:"I_ZnIF8Y cg_n"},isFlashSaleAd:{adHeadline:"u_Z13VSE6"},noAdFeedback:{adContainer:"s_7yHc",sponsored:"p_a T_0 R_fam"},highlightSearchResultsPage:{highlightedTerm:"I_eWWBN D_X C_ZD6UvE"}},_key:"Z4E14J"}},25581:e=>{"use strict";e.exports={className:{default:{container:"W_3zKan k_w I_ZkbNhI D_F el_QDCVj",header:"M_0 P_SdQ8b D_F el_Z1mLfFl ab_AJ",icon:"p_a M_6Fd5",title:"em_N u_e69 A_6FsP c1AVi73_6LUG M_ZlnAYq",close:"Q_6Eb4 ac_C",message:"P_kT94R A_6EqO c1AVi73_6FsP",controls:"P_kT94R"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"}},_key:"Z1554tG"}},5059:e=>{"use strict";e.exports={className:{default:{attachmentIcon:"W_6UbO H_6UbO",thumbnailIcon:"W_7rdk H_7rdk",fallback:"u_e69 A_6Fd5 C_ZroviD i_74JI"}},_key:"Z1txtmb"}},68443:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP c1AVi73_6LUG P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_ZkbNhI p_R",listContentTypeControls:"F_n P_1g7oPJ M_cFf m_Z14vXdP D_F",attachmentFilterViewMenu:"D_F en_0 je_fq7",attachmentFilterMenu:"D_F ab_C y_jyw3a X_1IaimO A_6EqO c1AVi73_6EWk lo_AT cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",filtersContainer:"D_F gl_FM p_a R_6LEV T_6Eb4",filterMenuContainer:"Q_fq7 D_F P_fQq0A I_ZnIF8Y e_dRA",filterMenu:"D_F ab_C",selectedFilter:"A_6EqO c1AVi73_6EWk r_P",checkIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",filterOption:"Q_6Eb4",popoverListWrapper:"P_3Y3Gk"}},_key:"Z1hKdt6"}},61822:e=>{"use strict";e.exports={className:{default:{inputContainer:"p_R D_F W_6D6F",input:"q_T y_jyw3a je_0 jb_0 X_fq7 N_fq7",clearButtonContainer:"p_a T_0 R_0 B_0 W_6VdP D_F gl_C ab_C"},showClear:{input:"N_6VdP",rtlRemoveInput:"rtlRM_X_fq7 rtlRM_N_6VdP",rtlRawInput:"rtlR_N_fq7 rtlR_X_6VdP"},"showClear-false":{input:"X_fq7 N_fq7"}},_key:"wkK7z"}},51507:e=>{"use strict";e.exports={className:{default:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA c1AVi73_6EWk c1AVi7H_6LEV c1AVi7a_6LEV t_C e_3mS2U C_Z1YRXYn I_ZpQYvz",activeContainer:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA c1AVi73_6EWk c1AVi7H_6LEV c1AVi7a_6LEV t_C e_3mS2U C_ZkbNhI I_T u_b"},whiteBackground:{container:"C_ak5m8 I_a0xH6"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_LIGHT":{activeContainer:"I_ZpQYvz"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_MEDIUM":{activeContainer:"I_a0xH6"},"contextOfUse_isActive_themeMode-AccountSwitcher_true_DARK":{activeContainer:"I_a0xH6"},"themeMode-LIGHT":{activeContainer:"C_Z281SGl"},viewsUnderInbox:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA c1AVi73_6EWk c1AVi7H_6LEV c1AVi7a_6LEV t_C e_3mS2U C_Z1YRXYn I_T u_e69",activeContainer:"C_Z281SGl"},viewsUnderInboxDark:{container:"A_6DUj P_Z2rzCvT H_6FIA i_6FIA c1AVi73_6EWk c1AVi7H_6LEV c1AVi7a_6LEV t_C e_3mS2U C_ZkbNhI I_T u_e69",activeContainer:"C_ZkbNhI"},"highlightThemeCombo-true_ATT":{container:"C_ZkbNhI I_Z2dxrGx Q_A"},"highlightThemeCombo-true_FRONTIER":{container:"C_ZkbNhI I_Z1A0QhA Q_A"},"highlightThemeCombo-true_ROGERS":{container:"C_ZkbNhI I_Z21W7Hh Q_A"},"highlightThemeCombo-true_BT":{container:"C_ZkbNhI I_Z20SNAa Q_A"},"highlightThemeCombo-true_SKY":{container:"C_ZkbNhI I_Z2dycH0 Q_A"},"highlightThemeCombo-true_AOL":{container:"C_ZkbNhI I_Zpr4hs Q_A"},"highlightThemeCombo-true_AOL_HIGH_CONTRAST":{container:"C_ZkbNhI I_Z2dxYMp Q_A"},"highlightThemeCombo-true_CLASSIC":{container:"C_ZkbNhI I_Z2dxElW Q_A"},"highlightThemeCombo-true_SIMPLE":{container:"C_ZkbNhI I_Z28RU57 Q_A"},"highlightThemeCombo-true_AIM":{container:"C_ZkbNhI I_Z2a4279 Q_A"},"highlightThemeCombo-true_AOLCOM":{container:"C_ZkbNhI I_Z279QUP Q_A"},"highlightThemeCombo-true_HIGH_CONTRAST":{container:"C_ZkbNhI I_Z2c5wna Q_A"},"highlightThemeCombo-true_DEFAULT":{container:"C_ZkbNhI I_Z2aVTcY Q_A"},"highlightThemeCombo-true_SUNRISE":{container:"C_ZkbNhI I_ZmlXUP Q_A"},"highlightThemeCombo-true_AQUA_GREEN":{container:"C_ZkbNhI I_Z1UHURv Q_A"},"highlightThemeCombo-true_AQUA_BLUE":{container:"C_ZkbNhI I_Z280Xf5 Q_A"},"highlightThemeCombo-true_DEEP_PURPLE":{container:"C_ZkbNhI I_Zwa5YI Q_A"},"highlightThemeCombo-true_BLUE_NIGHT":{container:"C_ZkbNhI I_Z21zYBA Q_A"},"highlightThemeCombo-true_DARK_GREY":{container:"C_ZkbNhI I_Z21W7Hh Q_A"},"highlightThemeCombo-true_NIGHT_LANDSCAPE":{container:"C_ZkbNhI I_Z1UEcsX Q_A"},"highlightThemeCombo-true_ROADTRIP":{container:"C_ZkbNhI I_ZrkPvI Q_A"},"highlightThemeCombo-true_SUNSET_AUSSIE":{container:"C_ZkbNhI I_ZmlXUP Q_A"},"highlightThemeCombo-true_LIGHTHOUSE":{container:"C_ZkbNhI I_Z1VDTK1 Q_A"},"highlightThemeCombo-true_SPRING":{container:"C_ZkbNhI I_Z1wIHkz Q_A"},"highlightThemeCombo-true_WINTER":{container:"C_ZkbNhI I_Z20xfuY Q_A"},"highlightThemeCombo-true_SUMMER":{container:"C_ZkbNhI I_Z1rAmx3 Q_A"},"highlightThemeCombo-true_GALAXY":{container:"C_ZkbNhI I_Z27UHzR Q_A"},"highlightThemeCombo-true_FALL":{container:"C_ZkbNhI I_Z1v8kyk Q_A"},"highlightThemeCombo-true_WESTERN":{container:"C_ZkbNhI I_Z1TFcYM Q_A"},"highlightThemeCombo-true_SUNSET":{container:"C_ZkbNhI I_Z1rAmx3 Q_A"},"highlightDarkPartnerThemeCombo-true_ATT":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_FRONTIER":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_ROGERS":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_BT":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_SKY":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_AOL":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_AOL_HIGH_CONTRAST":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_CLASSIC":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_SIMPLE":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_AIM":{container:"C_Z281SGl I_ZkbNhI Q_A"},"highlightDarkPartnerThemeCombo-true_AOLCOM":{container:"C_Z281SGl I_ZkbNhI Q_A"}},_key:"1PevoR"}},33266:e=>{"use strict";e.exports={className:{default:{container:"o_h H_7GHz P_Zs0VV7 k_w D_F ek_EZ gl_CI ab_C I_Z1sGJ76 j_tW8fK",adImage:"e_eo6 H_7bXP W_3mT4V im_BH",previewVideo:"p_R W_3mT4V H_7bXP",videoOverlay:"p_a T_dmf L_dAY W_6UbO H_6UbO",feedbackContainer:"E_eTB C_Z1YRXYn cdPFi_Z1YRXYn",chevronContainer:"D_F ek_EZ ab_C o_h ac_CH en_0 E_eo6",hideBtnContainer:"D_F ek_EZ ab_C o_h ac_CH en_0 E_eTB U_eo6",arrowIconContainer:"H_6MGW W_7iGr I_ZkbNhI j_RhBK6 e_6LEV D_F gl_C ab_C ac_CH Q_6TFj E_7aG4 U_eo6 en_0 I4_Z1uGVok",rowWrapper:"D_F ek_EZ ab_C o_h",contentContainer:"F_N D_F ek_BB o_h Q_6Eb4",adContent:"D_F ek_BB o_h",adContentContainer:"D_F ek_EZ ab_C gl_FM F_N",leftContainer:"D_F o_h",rowOne:"D_F ek_EZ ab_C o_h gl_FM H_6EWk C_Z281SGl",adSource:"J_x o_h G_e u_e69 i_6EWk A_6DUj",bullet:"A_6EqO P_3gIws",rowTwo:"D_F ek_EZ ab_C o_h gl_CI H_6LEV",adTitle:"J_x o_h G_e u_b i_6LEV A_6EWk C_Z281SGl",adTitleWrap:"u_b i_6LEV A_6EWk o_h G_e J_N",rowThree:"D_F ek_EZ ab_C o_h K_6NIX gl_FM Y_68F4",adDescriptionContainer:"D_F o_h ab_CH",adDescription:"J_x o_h G_e D_B u_dPo i_6LEV A_6EqO C_Z1YRXYn",countDownContainer:"en_0 J_x M_3gJOe",collapseContainer:"o_h H_7iWc P_CQrFn k_w D_F ek_EZ gl_CI ab_C I_Z1sGJ76 j_tW8fK",collapseAdImage:"e_eo6 H_6Urz W_7jIs E_fq7 im_BH",collapsePreviewVideo:"p_R W_7jIs H_6Urz E_fq7",collapseVideoOverlay:"p_a T_djH L_dCv W_6LEV H_6LEV",collapseAdLable:"ej_0 em_qi a_3rT5w s_3n2AO",collapseAdTitle:"ej_0 em_sN",collapseChevron:"D_F W_7yHc gl_CH"},"themeMode-DARK":{container:"I_ZS20VC I4_ZS20V7",collapseContainer:"I_ZS20VC I4_ZS20V7",rowOne:"C_ZpQYvz",adSource:"C_ZpQYvz",adTitle:"C_ZpQYvz",adTitleWrap:"C_ZpQYvz",adDescription:"C_ZvsWfq",feedbackContainer:"C_ZpQYvz cdPFi_ZpQYvz",arrowIconContainer:"I4_Z1wD0QU"},isCompactLayout:{container:"ek_BB ab_FT P_XsdkS H_7IvQ",rowWrapper:"H_74ed Y_fq7",adImage:"H_74ed W_74ed E_fq7",previewVideo:"W_74ed H_74ed E_fq7",videoOverlay:"T_dnL L_dnL W_6LEV H_6LEV",chevronContainer:"ac_CH",contentContainer:"Q_0 E_fq7 Y_eo6 ac_CI",rowTwo:"ab_CI H_82XEY d_6LEV K_72FG",rowThree:"Y_0",collapseContainer:"H_7qGO P_1JOT5V ek_BB gl_C ab_FT",collapseRowWrapper:"D_F ek_EZ ab_C o_h gl_FM Y_eo6",collapseChevron:"ac_CH W_82XEY gl_CH"}},_key:"Z1i4eyq"}},29210:e=>{"use strict";e.exports={className:{default:{button:"P_0 C_Z281SGl r_P y_jyw3a A_6EqO c1AVi73_6FsP cvhIH6_T"},decorated:{button:"k_w e_dRA D_X M_6LEV o_v p_R V_M t_C cZ1RN91d_n A_6EqO c1AVi73_6FsP u_e69 i_3qGKe P_1EudUu H_A cn_dBP cg_FJ l_T j_n S_n S4_n"},"kind-PRIMARY":{button:"I_Z29WjXl C_ZkbNhI l_Z29WjXl I3_Z2bdAhD l3_Z2bdIi1 it3_eo6 I0_Z2bdAhD l0_Z2bdIi1"},"kind-CUE":{button:"I_Z29WjXl C_ZkbNhI b_0 P_ZGAgNS E_fq7 i_6FIA c1AVi7H_6LEV u_e69 I3_Z2bdAhD I0_Z29WjXl I4_Z29WjXl"},"primaryHover-true_false":{button:"I4_Z2bdAhD l4_Z2bdIi1"},"primaryHover-true_true":{button:"I4_Z29WjXl l4_Z29WjXl"},"kind-SECONDARY":{button:"I_ZkbNhI C_Z29WjXl l_Z29WjXl M_0 I4_ZkbNhI C4_Z2dyg2z l4_Z2dyg2z I3_ZpQYvz C3_Z2dyg2z l3_Z2dyg2z I0_ZpQYvz C0_Z2dyg2z l0_Z2dyg2z"},"kind-SECONDARY_BORDERLESS":{button:"I_ZkbNhI b_0 C_Z29WjXl H_q P_1EudUu M_0 I4_Z1gjdjJ C4_Z29WjXl"},"kind-TEXT":{button:"C_Z29WjXl b_0 P_0 M_0 H_6Nds I_T C4_Z29WjXl it3_dBP"},"kind-DANGER":{button:"I_ZkbNhI C_ZnTFMv l_ZnTFMv M_0 I4_v5hft I3_v5hft I0_v5hft"},"kind-ICON":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q q_T O_cMu O4_N I4_Z1gjd5v"},"kind-PILL":{button:"b_Z14vXdP P_1Eu6qC H_6NIX W_A e_6Fd5 C_q q_T I4_Z1gjd5v"},"kind-PARENT_TEXT_COLOR":{":hover":"C_q"},"kind-ICON_HIGHLIGHTED":{button:"b_0 P_eo6 H_6NIX W_6VdP e_dRA C_q I_7l9bL i_0 O_N"},"kind-CHROMELESS":{button:"q_T C_Z1YRXYn u_e69 b_0 C4_Z2chSgW C3_Z29WjXl"},"kind-MENUITEM":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_Z1gjdjJ I3_Z1gjdjJ it3_689y"},"kind-MENUITEM_PARENT_TEXT_COLOR":{button:"G_e J_x r_P P_Z1E2XDm b_0 s_6D6F M_0 t_l y_q A_q D_F ab_C I_T I4_Z1gjdjJ C4_Z29WjXl I3_Z1gjdjJ it3_689y"},disabled:{button:"O_cMq r_A"},paddingLess:{button:"P_0"},marginLess:{button:"M_0"},isOnDarkBackground:{button:"is_26ISAR cZdTOHS_ZXgLQ3"},THEMED_LIKE_COMPOSE_BUTTON_ATT:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_FRONTIER:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROGERS:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_BT:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SKY:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AOL:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AOL_HIGH_CONTRAST:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_CLASSIC:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SIMPLE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AIM:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AOLCOM:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_HIGH_CONTRAST:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEFAULT:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNRISE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_GREEN:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_AQUA_BLUE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_DEEP_PURPLE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_BLUE_NIGHT:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_DARK_GREY:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_NIGHT_LANDSCAPE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_ROADTRIP:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNSET_AUSSIE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_LIGHTHOUSE:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SPRING:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_WINTER:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUMMER:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_GALAXY:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_FALL:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_WESTERN:{button:"I_ZamTeg C_ZkbNhI l_T"},THEMED_LIKE_COMPOSE_BUTTON_SUNSET:{button:"I_ZamTeg C_ZkbNhI l_T"}},_key:"Z1IoAr9"}},77451:e=>{"use strict";e.exports={className:{default:{carouselContainer:"D_F ir_n em_N",carousel:"D_F o_h p_R em_N s_72FG",list:"D_F ha_n p_a J_x lv_1Ys0hR L_0 B_0 P_0 M_0",prevNavHandleContainer:"D_F",nextNavHandleContainer:"D_F",prevNavHandle:"em_0 en_0",rtlRawScaleX:"rtlR_h_2gl0WC",nextNavHandle:"em_0 en_0"},animationDisabled:{list:"lv_n"},prevDisabled:{prevNavHandle:"r_BN"},nextDisabled:{nextNavHandle:"r_BN"},retailerCarouselStyle:{carouselContainer:"p_R",prevNavHandle:"p_a T_7iGr W_6VdP H_6VdP e_e5X j_1kj5RG I_ZkbNhI M_A Z_O",nextNavHandle:"p_a T_7iGr R_6Fd5 W_6VdP H_6VdP e_e5X j_1kj5RG I_ZkbNhI M_A"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{prevNavHandleContainer:"jb_74JI",nextNavHandleContainer:"jb_74JI"}},_key:"2u1F03"}},91033:e=>{"use strict";e.exports={className:{default:{popoverListWrapper:"Y_68F4 e_dRA j_1zwO34",iconWrapper:"W_A D_F ab_C gl_C H_6NIX Y_eo6",icon:"E_eo6"}},_key:"Z2qBs3y"}},93234:e=>{"use strict";e.exports={className:{default:{link:"e_dRA l_T cn_dBP cg_FJ k_w r_P A_6EqO c1AVi73_6FsP u_e69 cZ1TvChj_2bXRpc p_R S_n C_ZkbNhI I_ZamTeg D_F H_6VdP gl_C je_fam en_0 M_1Eu7sD it_dRA is_1SUcgJ cZdTOHS_28Otf4",linkWithDropdown:"e_Z272TOo l_T cn_dBP cg_FJ k_w r_P A_6EqO c1AVi73_6FsP u_e69 cZ1TvChj_2bXRpc p_R S_n C_ZkbNhI I_ZamTeg D_F H_6VdP gl_C je_fam en_0 M_1Eu7sD it_dRA is_1SUcgJ cZdTOHS_28Otf4 q4_Z26X2ak",badgeContainer:"p_a h_Z1ffcnk L_0 T_67SN",composeButton:"W_eRe",composeGroup:"D_F",composeDropdown:"W_djH M_1bYjfS I_ZamTeg e_ZB2Q32 q4_Z26X2ak",composeDropdownFocused:"W_djH M_1bYjfS I_ZamTeg e_ZB2Q32 q_fSWJz"},"themeMode-MEDIUM":{link:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{link:"is_26ISAR cZdTOHS_ZXgLQ3"},disabledButton:{link:"I_ZpQYvz C_ZvsWfq cZW7ROP_n"}},_key:"Z1AskNd"}},67527:e=>{"use strict";e.exports={className:{default:{dragIcon:"H_6FIA Z_7G9S p_a",counter:"D_X H_6Fd5 W_6Fd5 Z_7G9T p_a L_fFR T_6Fd5 e_e5X t_C q_ZnTFMv C_ZkbNhI"}},_key:"1CGjS6"}},48039:e=>{"use strict";e.exports={className:{default:{suggestionLabelContainer:"D_F ab_C o_h",suggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P c1AVi73_6FsP q4_Z1gjd5v cZ1WADfW_Z1gjd5v gl_FM",keywordSuggestionOption:"D_F P_ZGAgNS k_w H_74JI r_P c1AVi73_6FsP q4_Z1gjd5v cZ1WADfW_Z1gjd5v",suggestionIcon:"W_6FIA H_6EGz E_6FYl D_F ab_C",emailSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h N_6Fd5",emailAddressLabel:"J_x G_e o_h N_6Fd5 C_Z1YFBQc A_6DUj c1AVi73_6EWk",dateLabel:"C_Z1VRqsb A_6DUj c1AVi73_6EWk J_x D_F ac_CI"}},_key:"Z9xUAP"}},75558:e=>{"use strict";e.exports={className:{default:{inputContainer:"D_F F_cV1 ek_BB p_R W_6D6F",hint:"D_B Y_fq7 Q_fq7 A_6DUj c1AVi73_6EWk C_Z1YRXYn",error:"D_B Y_fq7 Q_fq7 A_6DUj c1AVi73_6EWk C_ZmDiLl",inputField:"z_0 n_0 x_0 q_T m_2w4lU5 H_6VdP em_N A_6EqO c1AVi73_6FsP C_Z281SGl ir3_0 m3_2gzP8k"},"kind-DARK_BORDER_BOTTOM":{inputField:"m_2sUEFj"},"kind-LEFT_ICON":{inputField:"q_ptT19 m_0 b_0 je_0 jb_0 X_6MGW N_6MGW m3_0 ir3_0",inputIcon:"B_0 L_eo6 p_a M_A T_0 D_F ab_C"}},_key:"1FlYur"}},32591:e=>{"use strict";e.exports={className:{default:{flexSpacer:"em_N en_N"}},_key:"93Fn1"}},89287:e=>{"use strict";e.exports={className:{default:{container:"D_F o_h",label:"D_X o_h J_x G_e",count:"X_fq7 D_F en_0",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"Z2hqMtH"}},18525:e=>{"use strict";e.exports={className:{default:{menuContainer:"M_0 hd_n s_3mS2U a_3nF5b P_3Y3Gk",separator:"M_3HLUz m_Z14vXdP",menu:"D_F o_h",disabledMenuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_Z1gjdjJ r_DZ cZW7ROP_n C_Z1TsNbA",menuItem:"F_N s_0 D_F ab_C S_n P_Z1E30bS q4_Z1gjdjJ r_P",menuText:"o_h J_x G_e Q_eo6"}},_key:"Zc5dGy"}},48726:e=>{"use strict";e.exports={className:{default:{icon:"D_X W_6MGW H_6MGW cdPFi_Z281SGl cZW7ROP_n en_0 cvhIH6_T"},allowPointerEvents:{icon:"cZW7ROP_A"},flipRTL:{rtlRawScaleX:"rtlR_h_2gl0WC"},"colorState-BATCAVE_GRAY":{icon:"cdPFi_Z29dUYT"},"colorState-FIRST_LEVEL_GRAY":{icon:"cdPFi_Z1VRqsb"},"colorState-THIRD_LEVEL_GRAY":{icon:"cdPFi_ZroviD"},"colorState-NORMAL_LESS_DIM":{icon:"cdPFi_Zjpysv"},"colorState-DARK":{icon:"cdPFi_Z281SGl"},"colorState-TRANSPARENT":{icon:"cdPFi_T"},"colorState-FAINT":{icon:"cdPFi_ZpQYvz"},"colorState-LESS_IMPORTANT":{icon:"cdPFi_Z1WBuqm"},"colorState-COOL_FAINT":{icon:"cdPFi_ZvsWfq"},"colorState-INHERITED":{icon:"cdPFi_q"},"colorState-INVERTED":{icon:"cdPFi_ZkbNhI"},"colorState-INVERTED_DIM":{icon:"cdPFi_ak5kB"},"colorState-INVERTED_LESS_DIM":{icon:"cdPFi_ak5m8"},"colorState-INVERTED_MORE_DIM":{icon:"cdPFi_ak5jA"},"colorState-SELECTED":{icon:"cdPFi_Z29WjXl"},"colorState-PRIMARY_HOVER":{icon:"cdPFi_Z29WjXl"},"colorState-DARKER_PRIMARY_HOVER":{icon:"cdPFi_Z2chSgW"},"colorState-SELECTED_DARK_THEME_MODE":{icon:"cdPFi_Z2bg7IA"},"colorState-STARRED":{icon:"cdPFi_Zkqt7u"},"colorState-STARRED_DARK":{icon:"cdPFi_ZkcEUn"},"colorState-DISABLED":{icon:"cdPFi_Z1TsNbA"},"colorState-ADVISORY":{icon:"cdPFi_ZkcEUn"},"colorState-FIRST_LEVEL_ORANGE":{icon:"cdPFi_ZkhR3R"},"colorState-WARNING":{icon:"cdPFi_Zkj7X4"},"colorState-HEADING":{icon:"cdPFi_Z1XBA33"},"colorState-SMARTVIEW_DARK":{icon:"cdPFi_ak5l7"},"colorState-IMPROVED_GRAY_DARK":{icon:"cdPFi_Z1YRXYn"},"colorState-SECOND_LEVEL_GRAY":{icon:"cdPFi_Z1TsNbA"},"colorState-YBADGE":{icon:"cdPFi_Z25iliW"},"colorState-YBANG":{icon:"cdPFi_Z21a4NC"},"colorState-SUCCESS":{icon:"cdPFi_Z287E9E"},"colorState-WHITE":{icon:"cdPFi_ZkbNhI"},"colorState-ICON_HOVER_BGCOLOR":{icon:"cdPFi_Z1gjd5v"},"colorState-GRAD_BLUE":{icon:"cdPFi_Z29WjXl"},"colorState-GRAY_VZM_BOB":{icon:"cdPFi_Zw4K57"},"colorState-ATTACH_MEDIA":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_CAL":{icon:"cdPFi_Z3YymY"},"colorState-ATTACH_EXCEL":{icon:"cdPFi_Zjgrcs"},"colorState-ATTACH_DOC":{icon:"cdPFi_euEfy"},"colorState-ATTACH_SLIDE":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_PDF":{icon:"cdPFi_8Skn3"},"colorState-ATTACH_GENERIC":{icon:"cdPFi_1k4EMl"},"colorState-ATTACH_COMPRESSED":{icon:"cdPFi_1k4EMl"},"colorState-SMARTVIEW_PEOPLE":{icon:"cdPFi_ZkcEUn"},"colorState-SMARTVIEW_SHOPPING":{icon:"cdPFi_Z1tEW3v"},"colorState-WARNING_GRAD_RED":{icon:"cdPFi_Z1rD0qn"},"colorState-TOUCH_PRIMARY":{icon:"cdPFi_Z29WjXl"},"colorState-FACEBOOK_ENABLED":{icon:"cdPFi_Z269xr6"},"colorState-LINKEDIN_ENABLED":{icon:"cdPFi_Z2dxU8K"},"colorState-TWITTER_ENABLED":{icon:"cdPFi_Z2a87Op"},"colorState-PURPLE":{icon:"cdPFi_Z1WGv5u"},"colorState-TB_ICON_FILL_COLOR":{icon:"cdPFi_Z1oI2WW"},"colorState-PURPLE_GRADIENT":{icon:"cdPFi_1f9khp"},"size-XXXS":{icon:"W_6Eb4 H_6Eb4"},"size-XXS":{icon:"W_6Fd5 H_6Fd5"},"size-XS":{icon:"W_6LEV H_6LEV"},"size-XMS":{icon:"W_6FIA H_6FIA"},"size-S":{icon:"W_6MGW H_6MGW"},"size-M":{icon:"W_6UbO H_6UbO"},"size-L":{icon:"W_74JI H_74JI"},"size-XL":{icon:"W_7rdk H_7rdk"},"size-XXL":{icon:"W_7Ig6 H_7Ig6"},"size-XXXL":{icon:"W_3n93F H_3n93F"},"size-40":{icon:"W_72FG H_72FG"},"rotate-D45":{icon:"h_1RtVxM"},"rotate-D90":{icon:"h_22ufi4"},"rotate-D180":{icon:"h_ZQwKon"},"rotate-D270":{icon:"h_9u8MW"}},_key:"Z23gUTf"}},89341:e=>{"use strict";e.exports={className:{default:{button:"c27KHO0_n b_0 M_0 i_0 I_T y_jyw3a A_6EqO c1AVi73_6FsP r_P C_q cvhIH6_T",content:"D_F ab_C gl_C W_6D6F",label:"D_X em_N o_h X_eo6 G_e t_l i_1D4Ti9"},"size-XXXS":{button:"P_dBP"},"size-XXS":{button:"P_dRA"},"size-XS":{button:"P_eo6"},"size-S":{button:"P_fq7"},"size-M":{button:"P_fq7"},"size-L":{button:"P_6Eb4"},"size-XL":{button:"P_6Fd5"},"size-XXL":{button:"P_6Fd5"},paddingLess:{button:"P_0"},isCompact:{content:"W_72FG ek_BB",label:"A_6DUj c1AVi73_6EWk X_0"},isOnDarkBackground:{button:"is_26ISAR cZdTOHS_ZXgLQ3"},disabled:{button:"r_BN"}},_key:"2tAFWQ"}},88901:e=>{"use strict";e.exports={className:{default:{button:"C4_Z29WjXl"}},_key:"Z5k745"}},68636:e=>{"use strict";e.exports={className:{default:{listItem:"G_e p_R",icon:"i_0"},"kind-WRAP_CONTENT":{listItem:"H_A i_N"},"kind-GRID":{listItem:"P_0 f_l M_dRA ir4_2ivgpk"}},_key:"1fXSHs"}},41920:e=>{"use strict";e.exports={className:{default:{listContainer:"p_R o_h D_F H_A W_6D6F k_w em_N"}},_key:"ZCkcGS"}},94700:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F F_n gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1PEzoz",spinner:"W_6MGW H_6MGW ah_Zq6hUs",arc:"cdPFi_n cZ13pKbK_Z29WjXl cZ1XO2Ji_dRA c2abBOT_EY cZ1vNhDV_rd cZV8aCd_pI ah_14s73"},"size-S":{container:"W_6Fd5 H_6Fd5",spinner:"W_6Fd5 H_6Fd5"},inverted:{arc:"cZ13pKbK_52qC"},flex:{wrapper:"F_N H_6D6F"}},_key:"EG1BM"}},3480:e=>{"use strict";e.exports={className:{default:{menu:"I_ZkbNhI b_Z14vXdP e_dRA j_ZGTnP6 C_Z281SGl Z_3nxNR p_a ir_0 P_3HLUz"}},_key:"1tA00h"}},6483:e=>{"use strict";e.exports={className:{default:{buttonContainer:""},active:{buttonContainer:"I_7l9bL"}},_key:"ZTqMOv"}},40687:e=>{"use strict";e.exports={className:{default:{grayOverlay:"p_f T_0 R_0 B_0 L_0 Z_3mRud I_ioKHl D_F ab_C gl_C",container:"j_1doAr4 ir3_0"},"kind-LIGHT":{grayOverlay:"I_ZS20V7"},hideShadow:{container:"j_n"},canShowToast:{grayOverlay:"Z_7G9R"}},_key:"ZhoGmS"}},4545:e=>{"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_ZkbNhI D_F el_QDCVj",header:"M_0 P_Qw4gz A_6FsP c1AVi73_6LUG u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_ZG0ms9 w_AS ix_AS A_6EqO c1AVi73_6FsP",controls:"P_ZG0ms9"},hideIcon:{header:"P_JMQ5f",message:"P_Z2fgN7g",controls:"P_ZG120x"},showCustomTitle:{header:"u_dPo i_6MGW je_6DEy"},wideContainer:{container:"W_6D6F"}},_key:"Z1pK7xV"}},74290:e=>{"use strict";e.exports={className:{default:{list:"hd_n P_0 H_6D6F M_0 ir3_0 iy_h A_6EqO c1AVi73_6FsP"},"layout-HORIZONTAL":{list:"D_F"},"layout-GRID":{list:"D_F eo_HB W_6D6F"},disabled:{list:"O_6uB4 cZW7ROP_n"},"kind-TOOLBAR":{list:"D_F ab_C M_0 P_0"},isRestrictedHeight:{list:"iz_A K_3v1qi"}},_key:"1Yu36r"}},263:e=>{"use strict";e.exports={className:{default:{overlay:"Z_7G9R",shim:"Z_7G9R T_0 B_0 L_0 R_0 p_a q_T"}},_key:"1HLIBC"}},10994:e=>{"use strict";e.exports={className:{default:{infoIconContainer:"D_F gl_CH cdPFi_Z1TsNbA cdPFi4_Z29WjXl",sponsoredIconContainer:"D_F ab_C cdPFi_Z29dUYT"},isOnDarkBackground:{infoIconContainer:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",sponsoredIconContainer:"cdPFi_ZpQYvz"}},_key:"MB9ct"}},44904:e=>{"use strict";e.exports={className:{default:{pillContent:"C_Z281SGl k_w e_6Eb4 b_Z14vXdP M_dRA H_6MGW i_6Mbr ac_C ab_C D_F p_R o_h I_ZkbNhI Z_N",avatar:"D_F P_dBP",pillRemove:"D_F p_a R_0 T_0 q_q H_6D6F P_Z2dY9su M_0 en_0",pillText:"P_oRhLS",dragHoverContent:"D_F H_6D6F W_6D6F p_a T_0 L_0 Z_N",dragHoverLeft:"em_N",dragHoverRight:"em_N",pillContainer:"p_R A_6EqO c1AVi73_6FsP",editInput:"s_3qWeB b_dm5 A_6EqO c1AVi73_6FsP",pillDiv:"W_6LEV H_6LEV I_ZnIF8Y D_F ab_C gl_C e_e5X"},isHovered:{pillContent:"I_ZoExDJ J_x l_ZoExDJ"},isDragImg:{pillContent:"b_2gzP8k"},isSelected:{pillContent:"l_Z29WjXl I_ZoExDJ"},hasError:{pillContent:"b_ZXX6Fk I_Z1axc1K",pillText:"P_3gJOe"},useEllipsis:{pillText:"k_BF J_x o_h G_e"},isDark:{pillContent:"C_ZkbNhI I_ak5kB b_efTvb"},isDragged:{pillContainer:"D_n"},"dragSide-left":{pillContent:"Q_GAbAU",dragHoverRight:"em_0"},"dragSide-right":{pillContent:"E_GAbAU",dragHoverLeft:"em_0"},isNewFolderPillDesign:{pillText:"N_6MGW X_6Eb4 J_x lo_AT",pillContent:"I_ZnIF8Y"}},_key:"Pg1GN"}},43513:e=>{"use strict";e.exports={className:{default:{overlay:"p_f D_B T_0 L_0 W_3mS5W H_3mS5H O_0 Z_tT",popover:"p_a Z_d48",popoverAnchor:"D_X",popoverContent:"p_R e_dRA I_ZkbNhI j_ZUs0f0"},"bg-DARK":{popoverContent:"C_ZkbNhI I_Z281SGl j_n"},"bg-GRADIENT":{popoverContent:"C_ZkbNhI I_Z29WjXl"},"zAltitude-500":{overlay:"Z_dU7",popover:"Z_e69",popoverContent:"j_20lmjm"},"zAltitude-900":{overlay:"Z_eW8",popover:"Z_f8a",popoverContent:"j_1zwO34"},"zAltitude-9000":{overlay:"Z_7Ay0",popover:"Z_7G9R",popoverContent:"j_1zwO34"},"zAltitude-10000":{overlay:"Z_7Iyn",popover:"Z_3mRud",popoverContent:"j_1zwO34"},"zAltitude-11000":{overlay:"Z_3mTSI",popover:"Z_3n0uA",popoverContent:"j_1zwO34"},"borderRadius-LOW":{popoverContent:"e_dRA"},"borderRadius-MEDIUM":{popoverContent:"e_eo6"},"borderRadius-HIGH":{popoverContent:"e_eTB"},"borderRadius-MOBILE_DEFAULT":{popoverContent:"e_fq7 o_h"},animate:{popover:"lv_1Ys0hm"},ignorePointerEvents:{popover:"cZW7ROP_n"},highlight:{popover:"b_ZXQDCD e_dRA j_Z1oW7xg",popoverContent:"p_R e_0 j_n"}},_key:"1gaERJ"}},26930:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6MGW T_36SjV",pointer:"p_R D_X h_1RtVxM I_ZkbNhI j_ZUs0f0 W_6MGW H_6MGW M_6Eb4"},arrowDirectionDown:{pointerWrapper:"T_A B_36SjV h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 L_36SjV"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6MGW H_6D6F T_0 R_36SjV h_ZQwKon"},"zAltitude-500":{pointer:"j_20lmjm"},"zAltitude-900":{pointer:"j_1zwO34"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z29WjXl"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"Z24UYgF"}},10335:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_6Eb4 T_36JN3",pointer:"p_R D_X h_1RtVxM I_ZkbNhI j_ZUs0f0 W_6Eb4 H_6Eb4 M_eTB"},arrowDirectionDown:{pointerWrapper:"T_A B_36Jxi h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 L_36JN3"},arrowDirectionRight:{pointerWrapper:"ek_BB W_6Eb4 H_6D6F T_0 R_36Jxi h_ZQwKon"},"zAltitude-500":{pointer:"j_20lmjm"},"zAltitude-900":{pointer:"j_20lmjm"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z29WjXl"},"bg-LIGHTGRAY":{pointer:"I_ZnkeaL"},"bg-NEON_BLUE":{pointer:"I_Z1YJKic"},"bg-OVERLAY":{pointer:"I_Z1WGv5u"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"1t89N2"}},75485:e=>{"use strict";e.exports={className:{default:{pointerWrapper:"D_F ek_EZ gl_C W_6D6F p_a t_C o_h H_eTB T_69bz",pointer:"p_R D_X h_1RtVxM I_ZkbNhI j_ZUs0f0 W_eTB H_eTB M_e8l"},arrowDirectionDown:{pointerWrapper:"T_A B_69bz h_ZQwKon"},arrowDirectionLeft:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 L_69bz"},arrowDirectionRight:{pointerWrapper:"ek_BB W_eTB H_6D6F T_0 R_69bz h_ZQwKon"},"zAltitude-500":{pointer:"j_ZUs0f0"},"zAltitude-900":{pointer:"j_ZUs0f0"},"bg-DARK":{pointer:"I_Z281SGl j_n"},"bg-GRADIENT":{pointer:"I_Z29WjXl"},"align-START":{pointerWrapper:"gl_CI"},"align-END":{pointerWrapper:"gl_CH"},highlight:{pointer:"b_ZXQDCD"},collapseArrowWrapper:{pointerWrapper:"H_0 T_0"}},_key:"nq2Fu"}},10745:e=>{"use strict";e.exports={className:{default:{progress:"k_w W_6D6F H_6Fd5 I_ZkbNhI p_R",placeholder:"b_Z14vXdP e_fq7 H_6EGz W_dbGOz",value:"p_a T_0 H_6D6F s_6Nds e_fq7 q_Z1wwo1j D_F gl_CH N_fq7 lv_ZLoey2",label:"C_ZkbNhI A_6DUj c1AVi73_6EWk u_b i_6Fd5"}},_key:"6nH7O"}},75120:e=>{"use strict";e.exports={className:{default:{container:"s_3vhr3 k_w I_ZkbNhI D_F el_QDCVj M_1vskfw",messageContainer:"i_6Nds t_l A_6EqO c1AVi73_6FsP",message:"E_6Eb4",subtitle:"C_Z24Sbth t_l A_6Eb4",cancel:"E_68F4 P_eo6 q_T C_Z29WjXl A_6EqO c1AVi73_6FsP y_jyw3a b_0 r_P",bar:"Y_6Eb4"}},_key:"Z1QttKE"}},61239:e=>{"use strict";e.exports={className:{default:{container:"W_3nqBW H_7jIs",darkContainer:"W_7zdH H_6TFj"},stickyOnboarding:{container:"H_7aG4 W_82XEY"}},_key:"ZDJc80"}},96862:e=>{"use strict";e.exports={className:{default:{searchHeader:"P_2iGizO m_Z14vXdP D_F en_0 ek_EZ gl_FM"},"themeMode-DARK":{searchHeader:"m_Z6DF3n"}},_key:"2pKYqm"}},55376:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C J_x r_P H_6Nds",labelPadding:"N_eo6 c1AVi73_6EWk c1AVi7H_6LEV"},"themeMode-DARK":{container:"C_ZkbNhI"}},_key:"1vzrs9"}},4846:e=>{"use strict";e.exports={className:{default:{didYouMean:"A_6EqO c1AVi73_6FsP C_q u_q i_6MGW J_x a_3Lic3 o_h G_e",didYouMeanKeyword:"S_U kz_ZmDiLl lc_BK D_X A_6EqO c1AVi73_6FsP u_b",didYouMeanWord:"D_X A_6EqO c1AVi73_6FsP u_b"},"themeMode-DARK":{didYouMeanKeyword:"C_ZkbNhI",didYouMean:"C_ZkbNhI",didYouMeanWord:"C_ZkbNhI"}},_key:"Z2aPxa5"}},49805:e=>{"use strict";e.exports={className:{default:{suggestionOption:"D_F P_1zJRml k_w H_74JI r_P c1AVi73_6FsP q4_Z1gjd5v cZ1WADfW_Z1gjd5v ab_C",keywordSuggestionOption:"D_F P_1zJRml k_w H_74JI r_P c1AVi73_6FsP q4_Z1gjd5v cZ1WADfW_Z1gjd5v",suggestionAvatar:"W_6UbO H_6UbO E_6Eb4",personSuggestionLabel:"o_h",suggestionLabel:"J_x G_e o_h",emailAddressLabel:"J_x G_e o_h C_Z1VRqsb",keywordSuggestionLabel:"J_x G_e o_h je_6DEy",keywordSuggestionIcon:"N_6DEy E_eTB je_eTB",deleteButton:"je_6DEy Q_A"}},_key:"22Ki4B"}},13035:e=>{"use strict";e.exports={className:{default:{divider:"M_ZyFsHm q_ak5k6 r_P cdPFi_Zjpyv3 t_C H_0 p_R P_dRA q4_ZkbNhI cdPFi4_Zjpytw",moreButton:"b_n r_P P_dRA p_R H_6Fd5 T_69H5 q_T W_6D6F",moreIcon:"p_a T_68F4 L_dRK W_6Eb4 H_6Eb4"},"themeMode-MEDIUM":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{divider:"q_Z221Km9 cdPFi_ak5jA q4_ZS20V7 cdPFi4_ak5l7",moreButton:"is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"2cSqNJ"}},91415:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F en_0 gl_C ab_C H_6MGW o_h",container:"W_6MGW H_6MGW D_X ah_1Ozsbb"},"size-XS":{wrapper:"H_6LEV",container:"W_6LEV H_6LEV"}},_key:"ZjGm2r"}},13594:e=>{"use strict";e.exports={className:{default:{container:"e_eo6 o_h H_sm Y_qc k_w D_F ek_EZ gl_CI I_ZnIF8Y b_Z1jWqbm I4_ZpQYvz",rowWrapper:"D_F ek_EZ ab_C o_h",contentContainer:"F_N D_F ek_BB P_Z2aClK6 o_h",roundedAdImage:"e_eo6 M_3xqzT",adImage:"M_0 W_CD",previewVideo:"p_R W_7kKt H_7kKt",videoOverlay:"p_a T_dmf L_dmf W_6UHk H_6UHk",previewVideoPlayer:"W_7kKt H_7kKt im_BH",rowOne:"D_F ek_EZ ab_C o_h gl_FM H_6EWk C_Z281SGl",adSource:"J_x o_h G_e u_e69 i_6EWk A_6DUj",bullet:"A_6EqO P_3gIws",feedbackContainer:"Y_fq7 C_Z1YRXYn cdPFi_Z1YRXYn",rowTwo:"D_F ek_EZ ab_C o_h gl_CI H_6LEV",adTitle:"J_x o_h G_e u_b i_6LEV A_6EWk C_Z281SGl",rowThree:"D_F ek_EZ ab_C o_h H_6LEV gl_FM",adDescriptionContainer:"D_F o_h",adDescription:"J_x o_h G_e D_B u_dPo i_6LEV A_6EqO C_Z1YRXYn",actionButtonContainer:"H_6LEV D_F en_0 ek_EZ ab_C Q_6LEV",countDownContainer:"en_0 J_x M_3gJOe",actionButton:"H_6LEV D_F ab_C J_x A_6EqO u_b"},isCompactLayout:{container:"ek_BB P_Z215ktS H_tf",previewVideo:"W_73HH H_73HH E_fq7",videoOverlay:"W_6Mbr H_6Mbr",previewVideoPlayer:"W_73HH H_73HH im_BH e_eo6",rowWrapper:"k_w je_fq7 d_7aG4 K_7aG4",contentContainer:"P_0 ac_CI",feedbackContainer:"Y_0",rowTwo:"ab_CI H_82XEY d_6LEV K_72FG",adTitle:"J_N"},"themeMode-DARK":{container:"I_ZS20VC I4_ZS20V7",rowOne:"C_ZpQYvz",adTitle:"C_ZpQYvz",adDescription:"C_ZvsWfq",feedbackContainer:"C_ZpQYvz cdPFi_ZpQYvz"}},_key:"2o9c58"}},73474:e=>{"use strict";e.exports={className:{default:{background:"e_6Fd5 P_dRA ly_Zqeacl lx_3qWd0 lz_BV D_X W_6UbO H_6Fd5 p_R r_BN I_ZvsWfq b_Z1a7UWG it_dBP",handle:"p_R D_B W_fq7 H_fq7 I_ZkbNhI e_6Fd5 lv_Z1G1k6c L_0 b_Z1a7UWG"},"size-L":{background:"W_74JI H_6MGW",handle:"W_6Eb4 H_6Eb4 L_e8l"},isEnabled:{background:"I_Z29WjXl b_2gzP8k",handle:"L_6Fd5 b_ZXPLYY"},isEnabledAndLarge:{handle:"L_6MWH"},isClickable:{background:"r_P"}},_key:"1hlGua"}},42747:e=>{"use strict";e.exports={className:{default:{tooltip:"s_3rBgu I_Zcn3mu C_52qC t_C P_fQos4 e_eTB p_a dq33_Z1WN6IG p33_a T33_e5X Y33_69rk cn33_fam cg33_FJ"},right:{tooltip:"R33_6D6F L33_A l33_Z1vf50c"},left:{tooltip:"L33_6D6F R33_A l33_9Tjpk"}},_key:"Z1Kvy9o"}},52505:e=>{"use strict";e.exports={className:{default:{typeahead:"p_R",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO c1AVi73_6FsP W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z29WjXl",typeaheadInputHint:"A_6EqO c1AVi73_6FsP W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"W_6D6F p_a ha_n P_0 M_0 Z_fcS j_1zwO34 I_ZkbNhI",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_ZkbNhI q4_Z1gjdjJ cZ1WADo5_Z1gjd50"}},_key:"ZflkuH"}},43537:e=>{"use strict";e.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A W_6D6F H_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n p_a L_0 R_0",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF",topHolder:"D_F ek_BC o_h p_R",bottomHolder:"o_h"}},_key:"ZXg8Ht"}},79565:e=>{"use strict";e.exports={className:{default:{container:"p_R",icon:"R_0 B_e8l i_0 q_ZkbNhI p_a e_dRA",avatarImg:"e_e5X"},iconSizeBig:{icon:"R_eDQ B_6DEy"},darkMode:{icon:"q_Zjpyu2"}},_key:"Z1wpSFS"}},14394:(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var a=s(99095),n=(s(45697),s(67294)),r=s(76223),o=s.n(r),i=s(49805),l=s.n(i),c=(s(31280),s(37422)),d=s(43007),_=s(56148),E=s(76531),u=s(19341),m=s(23113);const S=({suggestion:e,inputValue:t=""})=>{const{name:s,type:a,subject:r}=e,o=a===c.sWL.EMAIL&&r?r.replace(/\^_/g,""):s;return n.createElement(m.Z,{haystack:o,title:o,needle:t,formatter:e=>n.createElement("strong",null,e)})},p=o()(l()),C=(0,a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),A=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>n.createElement("div",{className:p.suggestionOption},n.createElement("span",{className:p.suggestionAvatar},n.createElement(u.ZP,{contact:{id:e.serviceId},size:u.u8.M})),n.createElement("div",{className:p.personSuggestionLabel},n.createElement("div",{className:p.suggestionLabel},n.createElement(S,{suggestion:e,inputValue:t})),(()=>{const a=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[a]=e;return s>0?t(C.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:e.emailIds,formatMessage:s});return n.createElement("div",{className:p.emailAddressLabel,"data-test-id":"person-item-email-list"},n.createElement(m.Z,{haystack:a,title:a,needle:t,formatter:e=>n.createElement("strong",null,e)}))})()));A.contextTypes={intl:a.intlShape.isRequired};const T=A;var I=s(48039),h=s.n(I),g=s(54733);const O=o()(h()),D=(0,a.defineMessages)({search_email_addresses:{id:"search.email_addresses",defaultMessage:"{emailAddress} & {extraEmailCount} more"}}),R=({suggestion:e,inputValue:t=""},{intl:{formatMessage:s}})=>{const{from:a,date:r}=e,o=JSON.parse(a)[0],{email:i}=o,l=1e3*parseInt(r,10);return n.createElement("div",{className:O.suggestionOption},n.createElement("div",{className:O.suggestionLabelContainer},n.createElement("span",{className:O.suggestionIcon},n.createElement(d.Z,{kind:E.Kinds.INBOX,size:E.Sizes.XS,colorState:E.ColorStates.COOL_FAINT})),n.createElement("div",{className:O.emailSuggestionLabel},n.createElement("div",{className:O.suggestionLabel},n.createElement(S,{suggestion:e,inputValue:t})),(()=>{const e=(({emailIds:e=[],formatMessage:t})=>{const s=e.length-1,[a]=e;return s>0?t(D.search_email_addresses,{emailAddress:a,extraEmailCount:s}):a})({emailIds:[i],formatMessage:s});return n.createElement("div",{className:O.emailAddressLabel,"data-test-id":"person-item-email-list"},n.createElement(m.Z,{haystack:e,title:e,needle:t,formatter:e=>n.createElement("strong",null,e)}))})())),n.createElement("div",{className:O.dateLabel},n.createElement(g.ZP,{date:new Date(l)})))};R.contextTypes={intl:a.intlShape.isRequired};const N=R;function L(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f=(0,a.defineMessages)({remove_history:{id:"btn_remove_history",defaultMessage:"Remove"}}),M=o()(l());class P extends n.Component{constructor(...e){super(...e),L(this,"handleDeleteRecent",(e=>{e.preventDefault(),e.stopPropagation(),this.props.deleteRecent(this.props.suggestion)}))}renderSuggestionWithIcon(e){const{formatMessage:t}=this.context.intl,{suggestion:s}=this.props;return n.createElement("div",{className:M.keywordSuggestionOption},n.createElement("span",{className:M.keywordSuggestionIcon},n.createElement(d.Z,{kind:e,size:E.Sizes.S,colorState:E.ColorStates.FIRST_LEVEL_GRAY})),n.createElement("div",{className:M.keywordSuggestionLabel},n.createElement(S,this.props)),s.type===c.sWL.RECENT&&n.createElement("span",{className:M.deleteButton},n.createElement(_.Z,{"data-iskeynav":!0,kind:E.Kinds.CLOSE,size:E.Sizes.XXS,title:t(f.remove_history),colorStates:{normal:E.ColorStates.NORMAL,hovered:E.ColorStates.SELECTED},onMouseDown:this.handleDeleteRecent})))}render(){const{suggestion:e}=this.props;switch(e.type){case c.sWL.PERSON:return n.createElement(T,this.props);case c.sWL.RECENT:return this.renderSuggestionWithIcon(E.Kinds.CLOCK_OUTLINE);case c.sWL.KEYWORD:return this.renderSuggestionWithIcon(E.Kinds.SEARCH);case c.sWL.YAISUGGESTION:return this.renderSuggestionWithIcon(E.Kinds.LIGHTNING_BOLT);case c.sWL.EMAIL:return n.createElement(N,this.props);default:return null}}}L(P,"contextTypes",{intl:a.intlShape.isRequired}),L(P,"defaultProps",{inputValue:""});const b=P},91041:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(67294),n=s(10728),r=s(76531),o=s(9026);const i=[{id:"fuji-blue",viewBox:20,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_dory},{id:"fuji-red",viewBox:20,startColor:n.E6z.vzm_masala,stopColor:n.E6z.vzm_malibu},{id:r.ColorStates.ATTACH_EXCEL,viewBox:48,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_mulah},{id:r.ColorStates.ATTACH_SLIDE,viewBox:48,startColor:n.E6z.vzm_masala,stopColor:n.E6z.vzm_malibu},{id:r.ColorStates.ATTACH_GENERIC,viewBox:48,startColor:n.E6z.vzm_sea_foam,stopColor:n.E6z.vzm_dory},{id:r.ColorStates.ATTACH_DOC,viewBox:48,startColor:n.E6z.vzm_dory,stopColor:n.E6z.ycolorPurple14a},{id:r.ColorStates.ATTACH_MEDIA,viewBox:48,startColor:n.E6z.vzm_malibu,stopColor:n.E6z.ycolorPurple14a},{id:r.ColorStates.WARNING_GRAD_RED,viewBox:48,startColor:n.E6z.vzm_solo_cup,stopColor:n.E6z.vzm_barney},...Object.keys(o.Kz).map((e=>({id:r.ColorStates[`THEME_GRADIENT_${e}`],viewBox:48,startColor:o.Kz[`${e}`].GRADIENT_COLOR_1,stopColor:o.Kz[`${e}`].GRADIENT_COLOR_3})))].map((({id:e,viewBox:t,startColor:s,stopColor:n})=>a.createElement("linearGradient",{key:e,id:e,x1:"0",x2:t,y1:t,y2:"0",gradientUnits:"userSpaceOnUse"},a.createElement("stop",{offset:"40%",stopColor:s}),a.createElement("stop",{offset:"60%",stopColor:n}))));function l(){return a.createElement("svg",{height:"0"},a.createElement("defs",null,a.createElement("linearGradient",{x1:"4.62123025%",y1:"-2.85127472%",x2:"76.2163636%",y2:"80.5536364%",id:n.Cjq.PURPLE_GRADIENT},a.createElement("stop",{stopColor:"#FF0080",offset:"0%"}),a.createElement("stop",{stopColor:"#A924DD",offset:"27.0162943%"}),a.createElement("stop",{stopColor:"#6615D7",offset:"49%"}),a.createElement("stop",{stopColor:"#6001D2",offset:"100%"})),i,a.createElement("clipPath",{id:"clip-orb"},a.createElement("circle",{cx:"10",cy:"10",r:"10"}))))}},92110:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});s(45697);var a=s(67294),n=s(25244);s(95406);const r="data:image/svg+xml;base64,",o={[n.F.EMPTY_FOLDER]:r+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNjAgMTYwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAgMTYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJpbGx1c3RyYXRpb25zIj4NCgk8cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgcG9pbnRzPSI5MS45MjIsMzkuMjY4IDEyMS4wMjUsMzkuMjY4IDEyMS41MjcsMjkgMTE0LDI5DQoJCTExNCwzNi43MDEgOTEuOTIyLDM2LjcwMSAJIi8+DQoJPGNpcmNsZSBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0UwRTRFOSIgY3g9IjkxLjkyMiIgY3k9IjE5Ljk0IiByPSIyLjQxNiIvPg0KCTxjaXJjbGUgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNFMEU0RTkiIGN4PSIxMjAuMzE4IiBjeT0iMTkuOTQiIHI9IjIuNDE2Ii8+DQoJPHBhdGggZmlsbD0iI0UwRTRFOSIgZD0iTTEyOS45NDUsMTAuNjE4Yy0xLjYyNi0xLjMwMi0zLjM2OS0yLjE5LTUuMTE2LTIuNzQyQzEyMy43NjMsNy41NCwxMjIuMDIzLDcsMTIwLjI3LDdTNTYuMjkzLDcsNTYuMjkzLDcNCgkJYy0xMS42NzUsMC0yMS4xMzYsOS40NjQtMjEuMTM2LDIxLjE0djM1LjA5NGwtOS4yNjUsMTEuNDYybC0wLjA3NywwLjEwNGMtMS4zMzUsMS45NzktMi4xNTksNC4xMDktMi41MjEsNi4yNThsLTAuMTA3LTAuMDQ0DQoJCWMtMC4xNTksMC4zODctMC4zODEsMS4wNDctMC41OTgsMS45MzFjLTAuOTE1LDMuNzIyLTAuODU5LDcuNzIyLDAuODQ3LDExLjUxOGMwLjk2LDIuMTM3LDIuNDEsNC4wOCw0LjM5Miw1Ljc3OA0KCQljOS4yMTYsNy44OTgsMjYuMjg4LDMuOTc2LDM1Ljk3OC04LjA1YzEuMzcxLTEuNzAxLDIuODMyLTMuNTUxLDQuMzcxLTUuNTMyYzAuNTUzLTAuNzExLDEuMTE0LTEuNDM4LDEuNjg0LTIuMTc5DQoJCWMzLjI4Ny00LjI3NCw2LjcxNi04Ljg1MiwxMC4wODUtMTMuNDNjMS4wNzItMS40NTYsMi4wNjItMi44MTIsMi45NjMtNC4wNWMwLjkyNy0wLjMzNCwxLjc1My0wLjg3NSwyLjQyMi0xLjU3Mmg1LjU3NQ0KCQlsLTAuMzY1LDczLjE3NmwtMC43NDMtMC44OTNsLTEuMjMyLTEuNDgybC0xLjEzNCwxLjU1OWwtNy42NTEsMTAuNTE3Yy0wLjQ4NywwLjY3LTAuMzM5LDEuNjA4LDAuMzMxLDIuMDk1DQoJCWMwLjY3LDAuNDg3LDEuNjA4LDAuMzM5LDIuMDk1LTAuMzMxbDYuNTE3LTguOTU5bDcuNTEyLDkuMDM1bDEuMjgxLDEuNTQxbDEuMTE3LTEuNjY0bDUuMzAzLTcuODk4bDQuMjIzLDYuMzg2bDEuMTkyLDEuODAzDQoJCWwxLjI3Mi0xLjc0OGw2LjQzOC04Ljg1bDYuNDM4LDguODVsMS4wMTMsMS4zOTJsMS4yNC0xLjE5NGw0LjUwMi00LjMzMmw0LjQzNCwzLjY1N2MwLjYzOSwwLjUyNywxLjU4NCwwLjQzNiwyLjExMi0wLjIwMw0KCQlzMC40MzYtMS41ODQtMC4yMDMtMi4xMTJsLTUuNDY1LTQuNTA4bC0xLjAzMS0wLjg1MWwtMC45NjMsMC45MjdsLTQuMjI1LDQuMDY1bC02LjYzOC05LjEyNWwtMS4yMTMtMS42NjdsLTEuMjEzLDEuNjY3DQoJCWwtMi4yNzMsMy4xMjVWNjUuNDI5aDIyLjE2N2gxLjV2LTEuNXYtMi42MzF2LTcuMjZjMC0xMC40ODMsMC0xMC40ODMsMC0yNC41OTlDMTM3LjI0MiwyMC40MTksMTM0LjUyNCwxNC4yODUsMTI5Ljk0NSwxMC42MTh6DQoJCSBNMzguMTU4LDI4LjE0YzAtMTAuMDE5LDguMTE4LTE4LjE0LDE4LjEzNi0xOC4xNGMxMC4wMiwwLDE4LjEzNiw4LjExNSwxOC4xMzYsMTguMTR2MzQuMTI1aC0zLjE3SDM4LjE1OFYyOC4xNHogTTI4LjI4MSw3Ni41MTQNCgkJbDguOTYtMTEuMDg0aDM1LjU5MUw1OC40MSw4NC45MjJjLTcuNzg0LDkuNDQ2LTE4Ljg5MywxMy4yODQtMjUuNjY2LDkuNDg4bC0wLjIxNS0wLjEyQzI2LjAxMyw5MC42MzcsMjQuMTI0LDgyLjcxNSwyOC4yODEsNzYuNTE0DQoJCXogTTc3LjUyOCw2OS4yNzRjLTMuMzU3LDQuNTYyLTYuNzc0LDkuMTIzLTEwLjA0NiwxMy4zNzljLTAuNTY3LDAuNzM3LTEuMTI1LDEuNDYtMS42NzUsMi4xNjcNCgkJYy0xLjUyOSwxLjk2OC0yLjk3OSwzLjgwNC00LjMzOCw1LjQ5Yy04LjcyNCwxMC44MjctMjMuOTE1LDE0LjMxNy0zMS42OSw3LjY1NGMtMS42NDUtMS40MS0yLjgyOC0yLjk5NS0zLjYwNy00LjczDQoJCWMtMC4xODMtMC40MDYtMC4zMzktMC44MTctMC40NzctMS4yMzFjMS4zMjIsMS45NDMsMy4xMTMsMy42NCw1LjM2OCw0LjkwNGwwLjIxNSwwLjEyYzguMjI5LDQuNjEyLDIwLjgzNCwwLjI1NywyOS40OTctMTAuMjU5DQoJCUw3Ni40MDgsNjUuNjRjMC43NDQsMC43MDYsMS42NTksMS4yMzEsMi42NzcsMS41MUM3OC41ODYsNjcuODMyLDc4LjA3NCw2OC41MzEsNzcuNTI4LDY5LjI3NHogTTgwLjc2Miw2NC4zODINCgkJYy0xLjg0MSwwLTMuMzMzLTEuNDkyLTMuMzMzLTMuMzMyczEuNDkyLTMuMzMyLDMuMzMzLTMuMzMyYzEuODQxLDAsMy4zMzMsMS40OTIsMy4zMzMsMy4zMzJTODIuNjAzLDY0LjM4Miw4MC43NjIsNjQuMzgyeg0KCQkgTTk3LjI1OSwxNDYuNjg4bC0zLjczOC00LjQ5NmwwLjM4Mi03Ni43NjNoOC41ODh2NzMuNDY3TDk3LjI1OSwxNDYuNjg4eiBNMTA5LjQ2OSwxNDUuMDU1bC0zLjk3Ny02LjAxNFY2NS40NTZoNS4wODR2NzguMDc4DQoJCUwxMDkuNDY5LDE0NS4wNTV6IE0xMzQuMjQyLDU0LjAzOHY3LjI2djEuMTMxSDg2Ljk0YzAuMDk5LTAuNDQ1LDAuMTU1LTAuOTA1LDAuMTU1LTEuMzhjMC0zLjQ5Ny0yLjgzNi02LjMzMi02LjMzMy02LjMzMg0KCQljLTEuMjI1LDAtMi4zNjQsMC4zNTMtMy4zMzMsMC45NTVWMjguMTRjMC03LjcyMS00LjE0Ni0xNC40NTEtMTAuMzItMTguMTQxYzE4LjAzMi0wLjAwMSw1Mi4zNTMtMC4wMDMsNTMuMDUyLTAuMDAzDQoJCWMwLjk1LDAsMy4yNzcsMC41ODgsMy43NjUsMC43NDJjMS40MSwwLjQ0NSwyLjgyMywxLjE2NSw0LjE0NCwyLjIyMmMzLjgzOSwzLjA3NSw2LjE3Miw4LjMzOSw2LjE3MiwxNi40NzkNCgkJQzEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNDMuNTU2LDEzNC4yNDIsNTQuMDM4eiIvPg0KPC9nPg0KPC9zdmc+DQo=",[n.F.EMPTY_CONTACT_CARD]:r+"PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2MCAxNjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iQ09OVEFDVF9DQVJEIj4KPHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSIjRTBFNEU5IiBkPSJNMTcuMywzSDIuN0MyLjMsMywyLDMuMywyLDMuN3YxMi42QzIsMTYuNywyLjMsMTcsMi43LDE3aDE0LjZjMC40LDAsMC43LTAuMywwLjctMC43VjMuN0MxOCwzLjMsMTcuNywzLDE3LjMsM3ogTTUuNSw3LjdDNS43LDcsNi4zLDYuNCw3LjEsNi4yYzEuNS0wLjMsMi45LDEsMi41LDIuNUM5LjQsOS41LDguOCwxMC4xLDgsMTAuM0M2LjUsMTAuNiw1LjIsOS4zLDUuNSw3Ljd6TTEwLjYsMTQuNWgtNmMtMC42LDAtMC45LTAuNi0wLjYtMS4xYzAuNy0xLDIuMS0xLjcsMy42LTEuN3MyLjksMC43LDMuNiwxLjdDMTEuNSwxMy44LDExLjEsMTQuNSwxMC42LDE0LjV6IE0xNS44LDEzLjJIMTRjLTAuNCwwLTAuNy0wLjMtMC43LTAuN3MwLjMtMC43LDAuNy0wLjdoMS44YzAuNCwwLDAuNywwLjMsMC43LDAuN1MxNi4yLDEzLjIsMTUuOCwxMy4yeiBNMTUuOCwxMC4zaC0zLjNjLTAuNCwwLTAuNy0wLjMtMC43LTAuN3MwLjMtMC43LDAuNy0wLjdoMy4zYzAuNCwwLDAuNywwLjMsMC43LDAuN0MxNi41LDkuOSwxNi4yLDEwLjMsMTUuOCwxMC4zeiBNMTUuOCw3LjRoLTMuM2MtMC40LDAtMC43LTAuMy0wLjctMC43YzAtMC40LDAuMy0wLjcsMC43LTAuN2gzLjNjMC40LDAsMC43LDAuMywwLjcsMC43QzE2LjUsNywxNi4yLDcuNCwxNS44LDcuNHoiLz4KPC9nPgo8L3N2Zz4=",[n.F.SELECTED_MESSAGES]:r+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJNQUlMX3g1Rl9TRUxFQ1RFRCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IgoJIHk9IjBweCIgdmlld0JveD0iNjEgLTYxIDEzOCAxMzgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgNjEgLTYxIDEzOCAxMzg7ZmlsbDojRTBFNEU5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggZD0iTTEyNC41LDQ5LjJMNjUsNC4xdjYyLjNjMCwzLjksMi44LDYuNiw3LDYuNmgxMTZjNC4xLDAsNy0yLjcsNy02LjZWNGwtNTkuNiw0NS4yQzEzMi4yLDUxLjcsMTI3LjcsNTEuNywxMjQuNSw0OS4yeiIvPgo8cGF0aCBkPSJNMTI3LDQ1LjZjMS42LDEuMiwzLjgsMS4yLDUuNCwwbDYwLjItNDQuMmMxLjItMC45LDEuMi0yLjcsMC0zLjZsLTU4LTUzLjNjLTIuNy0yLTYuNS0yLTkuMiwwbC01OCw1My4zCgljLTEuMiwwLjktMS4yLDIuNywwLDMuNkwxMjcsNDUuNnoiLz4KPC9zdmc+",[n.F.ATTACHMENT_PREVIEW_ERROR]:r+"PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4IDQ4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPiAuc3Qwe2ZpbGw6I0UwRTRFOTt9IDwvc3R5bGU+IDxnPiA8cmVjdCB4PSIxNiIgeT0iMjEiIGNsYXNzPSJzdDAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4gPHJlY3QgeD0iMTYuMDAwNDMiIHk9IjMxLjk5NTg1IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMi4wMDgzIi8+IDxyZWN0IHg9IjMwIiB5PSIyMSIgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPiA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzkuNTU1MDUsMTEuNzY0MzRjLTAuMDAwMzctMC4wMDAxOC03LjE4NjUyLTcuMDg5NTQtOC45MDY4LTguNzg2OCBDMzAuMjMxMDIsMi41NjU4NiwyOS43OTEzMiwyLjA2MzE3LDI4Ljk5OTY5LDJIOS44Nzg5MUM4Ljg0MTE5LDIsOCwyLjg0MTE5LDgsMy44Nzg5MVY0NGMwLDEuMDk5OTgsMC45MDAwMiwyLDIsMmgyOCBjMS4wOTk5OCwwLDItMC45MDAwMiwyLTJWMTIuOTM4MTdDNDAsMTIuMzk1OTQsMzkuNzkxODEsMTIuMDA2MDQsMzkuNTU1MDUsMTEuNzY0MzR6IE0zOCw0NEgxMFY0aDE4djguNSBjMCwwLjgyNTAxLDAuNjc0OTksMS41LDEuNSwxLjVIMzhWNDR6Ii8+IDwvZz4gPC9zdmc+",[n.F.PLAY_VIDEO]:r+"PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHZpZXdCb3g9IjAgMCA4OCA4OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjIuMDY2JSIgeTE9Ijk2Ljc1MSUiIHgyPSI5NS42NTklIiB5Mj0iMi45NjklIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iIzZEMDBGNiIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiMwMDNBQkMiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTEyLjY3NiA3Ny4zNzZjMy45ODMgMy42MDggOC42NjcgNi4yOCAxNC4wMjcgOC4wMTdDMzIuMDc4IDg3LjEyNSAzNy44OSA4OCA0NC4xNjMgODhjNi4xNjQgMCAxMS45MzQtLjg3NSAxNy4yOTYtMi42MDcgMi4xNTQtLjY5NCA0LjE4Ni0xLjU0NyA2LjExNi0yLjU0MyAyLjg4NC0xLjQ5IDUuNTMtMy4zMTIgNy45MTYtNS40NzQgMy45OS0zLjYwNyA3LjA5Ny04LjE4MyA5LjMzLTEzLjcwN0M4Ny4wNSA1OC4xMzYgODguMTY4IDUxLjU4IDg4LjE2OCA0NGMwLTcuNTg2LTEuMTE4LTE0LjE0LTMuMzQ2LTE5LjY3LTIuMjMzLTUuNTMtNS4zNC0xMC4xLTkuMzMtMTMuNzA1LTMuOTg1LTMuNjE3LTguNjYtNi4yODUtMTQuMDMzLTguMDJDNTYuMDk2Ljg3IDUwLjMyNiAwIDQ0LjE2MiAwYy02LjI3MyAwLTEyLjA4NS44NjgtMTcuNDYgMi42MDYtMS43NDMuNTYtMy40MTIgMS4yMzYtNS4wMSAyLjAwNS0zLjMyIDEuNTgzLTYuMzMgMy41NzgtOS4wMTcgNi4wMTVDOC42ODggMTQuMjMgNS41NzggMTguOCAzLjM0NiAyNC4zMyAxLjExNiAyOS44NiAwIDM2LjQxNCAwIDQ0YzAgNy41ODIgMS4xMTcgMTQuMTM3IDMuMzQ2IDE5LjY3IDIuMjMyIDUuNTIzIDUuMzQyIDEwLjEgOS4zMyAxMy43MDZ6IiBmaWxsLW9wYWNpdHk9Ii42NSIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Ik0zNi43MyA1OWgtLjA2NmMtLjkyIDAtMS42NjQtLjc0Mi0xLjY2NC0xLjY1NlYzMC42NTZjMC0uOTE1Ljc0LTEuNjU2IDEuNjY0LTEuNjU2LjAzIDAgLjA2IDAgLjA5LjAwMi4zOC0uMDczLjc4OC0uMDE0IDEuMTUyLjE5NmwyMi42MjIgMTMuMDZjLjc5OC40NiAxLjA3NSAxLjQ3NC42MTMgMi4yNzYtLjAyMy4wNC0uMDQ4LjA4LS4wNzUuMTE4LS4xMzcuMjctLjM1LjUwMy0uNjMuNjdsLTIyLjQ0IDEzLjQ4NGMtLjM5NS4yNC0uODUuMjk1LTEuMjY1LjE5M3oiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+"};class i extends a.Component{render(){var e=o[this.props.kind];return a.createElement("img",{src:e,width:this.props.width,height:this.props.height,alt:this.props.altText,"data-test-id":"svg-image"})}}var l,c,d;d={width:48,height:48,altText:""},(c="defaultProps")in(l=i)?Object.defineProperty(l,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[c]=d;const _=i},44874:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>_});s(45697);var a=s(67294),n=s(95406),r=s(91415),o=s.n(r),i=s(76223),l=s.n(i),c=s(43007),d=s(76531);(0,n.gP)([d.Sizes.XS,d.Sizes.S]),(0,n.gP)([d.ColorStates.SUCCESS,d.ColorStates.INVERTED]);function _({size:e,title:t,colorState:s}){const n=l()(o(),{size:e});return a.createElement("div",{className:n.wrapper},a.createElement("div",{className:n.container,title:t,"aria-label":t},a.createElement(c.Z,{kind:d.Kinds.REFRESH,size:e,colorState:s})))}_.defaultProps={size:d.Sizes.S,colorState:d.ColorStates.SUCCESS}},79094:(e,t,s)=>{"use strict";s.d(t,{O:()=>m,t:()=>c});var a=s(67294),n=s(45697),r=s.n(n),o=s(58831),i=s.n(o);const l=({children:e,isDark:t,overrideClassNames:s={}},{getCss:n})=>{const r=n(i());return a.createElement("ul",{className:r.container+" "+(s.tabListContainer||""),role:"tablist"},a.Children.toArray(e).map((e=>(0,a.cloneElement)(e,{isDark:t}))))};l.contextTypes={getCss:r().func};const c=l;var d=s(58262),_=s.n(d);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=({children:e,onClick:t,isDark:s=!1,isSelected:n=!1,overrideClassNames:r={},...o},{getCss:i})=>{const l=i(_(),{isSelected:n,isDark:s,isDarkAndSelected:s&&n});return a.createElement("li",{className:l.container+" "+(r.tabContainer||""),role:"presentation"},a.createElement("button",E({},o,{className:l.button+" "+(r.button||""),role:"tab","aria-selected":n,onClick:t,"data-iskeynav":!0}),e))};u.contextTypes={getCss:r().func};const m=u},58262:e=>{"use strict";e.exports={className:{default:{container:"D_X H_6UbO k_w M_Z1fefhY P_0 M6_Ic6Mi",button:"H_6D6F z_n x_n n_n bn_e8l bm_n q_n A_6EqO i_6Fd5 c1AVi73_6FsP c1AVi7H_6LEV P_3Y3Gk u_b C_Z281SGl r_P"},isSelected:{button:"C_Z29WjXl bm_FJ jb_eDQ bj_Z29WjXl"},isDark:{button:"C_ZpQYvz"},isDarkAndSelected:{button:"C_2qemPL bj_2qemPL"}},_key:"26J07U"}},58831:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO c1AVi7a_6VJl M_0 P_0 D_F"}},_key:"H0wL0"}},74427:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>_,V8:()=>d,Yj:()=>c});var a=s(67294),n=s(7426),r=s(15038),o=s(30454);const i=[{label:"00:00",value:"00:00"},{label:"00:30",value:"00:30"},{label:"01:00",value:"01:00"},{label:"01:30",value:"01:30"},{label:"02:00",value:"02:00"},{label:"02:30",value:"02:30"},{label:"03:00",value:"03:00"},{label:"03:30",value:"03:30"},{label:"04:00",value:"04:00"},{label:"04:30",value:"04:30"},{label:"05:00",value:"05:00"},{label:"05:30",value:"05:30"},{label:"06:00",value:"06:00"},{label:"06:30",value:"06:30"},{label:"07:00",value:"07:00"},{label:"07:30",value:"07:30"},{label:"08:00",value:"08:00"},{label:"08:30",value:"08:30"},{label:"09:00",value:"09:00"},{label:"09:30",value:"09:30"},{label:"10:00",value:"10:00"},{label:"10:30",value:"10:30"},{label:"11:00",value:"11:00"},{label:"11:30",value:"11:30"},{label:"12:00",value:"12:00"},{label:"12:30",value:"12:30"},{label:"13:00",value:"13:00"},{label:"13:30",value:"13:30"},{label:"14:00",value:"14:00"},{label:"14:30",value:"14:30"},{label:"15:00",value:"15:00"},{label:"15:30",value:"15:30"},{label:"16:00",value:"16:00"},{label:"16:30",value:"16:30"},{label:"17:00",value:"17:00"},{label:"17:30",value:"17:30"},{label:"18:00",value:"18:00"},{label:"18:30",value:"18:30"},{label:"19:00",value:"19:00"},{label:"19:30",value:"19:30"},{label:"20:00",value:"20:00"},{label:"20:30",value:"20:30"},{label:"21:00",value:"21:00"},{label:"21:30",value:"21:30"},{label:"22:00",value:"22:00"},{label:"22:30",value:"22:30"},{label:"23:00",value:"23:00"},{label:"23:30",value:"23:30"}],l=new Date,c=(e=l)=>{const t=e.getHours();return t>=18||t<8?"08:00":"18:00"},d=e=>{var t;if(!e)return"";return(null===(t=e.toTimeString().match(/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]/))||void 0===t?void 0:t[0])||""},_=e=>{const{formatTime:t}=(0,n.Y)(),{date:s=l,defaultTime:d,onChange:_,classNames:E}=e,u=d||c(),[m,S]=(0,a.useState)(u);return a.createElement(o.Z,{selected:m,onChange:e=>(e=>{if(!e||e===m)return;S(e);const t=new Date(s.getFullYear(),s.getMonth(),s.getDate(),parseInt(e.substring(0,2),10),parseInt(e.substring(3),10));_(t)})(e),classNames:E},i.map((({label:e,value:s})=>a.createElement(r.Z,{key:e,value:s},t(new Date(0,0,0,parseInt(e.substring(0,2),10),parseInt(e.substring(3),10)),{hour:"numeric",minute:"numeric"})))))}},91397:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C A_6FIA P_3gJOe m_Z14vXdP d_74JI",icon:"U_68pj",colorized:"cdPFi_Z281SGl C_Z281SGl",messages:"M_ZmsKgw"},"themeMode-DARK":{container:"m_1iPdY0",colorized:"cdPFi_ZkbNhI C_ZkbNhI"}},_key:"Z3GfVV"}},52717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var a=s(67294),n=s(99095),r=s(18685),o=s(65127),i=s(7426),l=s(81732),c=s(83034),d=s(37422),_=s(92559),E=s(17016),u=s(85927),m=s(76531),S=s(61395),p=s.n(S),C=s(43007),A=s(72039),T=s.n(A);const I=(0,n.defineMessages)({create_todo:{id:"create_todo",defaultMessage:"Create a to-do"}}),h=(0,r.connect)(((e,t)=>{var s;const{msgId:a,hideWhenInactive:n=!1}=t,{isFeatureEnabled:r,getTodoSelectors:o,isRelatedTodoBeingEdited:i,isDraftMessage:l,getTodoLinkedMessageInfoByMsgId:c,getMessagesSelectors:_}=(0,u.selectors)(e),{getConversationId:m,getFromAddresses:S}=_(),{areTodosLoaded:p,getTodoByMessageId:C}=o(),A=C(a),T=i(a),I=m(a),h=S(a)[0];let g=r(d.ANe.MAIL_TODO)&&p()&&!A&&!l(a);return n&&!T&&(g=!1),{isVisible:g,isHighlighted:T,titlePrompt:(null===(s=c(a))||void 0===s?void 0:s.subject)||"",cid:I,senderDomain:null!=h&&h.email?(0,E.destructEmailAddressParts)(h.email).domainPart:""}}))((e=>{const{isVisible:t,isHighlighted:s,msgId:n,cid:r,senderDomain:d,sec:u,titlePrompt:S,forwardedRef:A,notifyRefReady:h,isOnDarkBackground:g=!1}=e,O=(0,l.I0)(),{formatMessage:D}=(0,i.Y)(),R=(0,c.Z)(T(),{isOnDarkBackground:g,isHighlighted:`${s}_and_${g?"onDarkBg":"onLightBg"}`});if(!t)return null;return a.createElement(a.Fragment,null,a.createElement("button",{ref:e=>{A&&("function"==typeof A?A(e):A.current=e,h&&h())},title:D(I.create_todo),"aria-label":D(I.create_todo),onClick:e=>{e.preventDefault(),e.stopPropagation();const t={mKey:_.JE.CREATING_TODO_FROM_MESSAGE,sec:u,interactionType:(0,E.getInteractionFromEvent)(e),actionData:{senderDomain:d}};O((0,o.Fn)({i13nModel:t,todoContext:{summary:S,externalRef:{msgId:n,cid:r}}}))},className:p()(R.button,e.className||"")},a.createElement(C.Z,{kind:m.Kinds.ADD_TASK,size:m.Sizes.XXS,colorState:m.ColorStates.INHERITED})))}))},31190:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T,y:()=>A});var a=s(57557),n=s.n(a),r=s(67294),o=s(5156),i=s(81732),l=s(37422),c=s(92559),d=s(8106),_=s(10728),E=s(65304),u=s(87771),m=s(18030),S=s(52717),p=s(91745);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}let A;!function(e){e.MESSAGE_LIST="MESSAGE_LIST",e.MESSAGE_HEADER="MESSAGE_HEADER"}(A||(A={}));const T=e=>{const{onboardingCueType:t}=e,a=(0,i.I0)(),T=(0,r.useRef)(null),I=(0,r.useRef)(null),[h,g]=(0,r.useState)(!1),[O,D]=(0,r.useState)(!1),R=O&&!h,N=(0,p.Z)(l.Zrf.PREVIEW_PANE),L=N===l.EsZ.RIGHT,f=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{const e=()=>{var e;null===(e=T.current)||void 0===e||e.updatePosition()};return window.addEventListener("resize",e,!0),()=>window.removeEventListener("resize",e,!0)}),[]),(0,r.useEffect)((()=>{let e="";switch(N){case l.EsZ.NO:e=t===A.MESSAGE_LIST?'[data-test-id="mail-reader-list-container"]':'[data-test-id="message-group-view-scroller"]';break;default:e='[data-test-id="mail-reader-list-container"]'}const s=document.querySelector(e);if((0,d.aA)()&&!f.current&&s&&I.current){const e=new IntersectionObserver((e=>{const[t]=e;t.isIntersecting?g(!1):g(!0)}),{root:s,threshold:[0,1]});e.observe(I.current),f.current=e}return()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.disconnect()}}),[O,t,N]);const M=()=>{const e=t===A.MESSAGE_LIST?l.ANe.TODO_ONBOARDING_CUE_PART2:l.ANe.TODO_ONBOARDING_CUE_PART3;a((0,o.hN)({name:e,i13nModel:{mKey:`cue_${e}_closed_by_outerclick`,sec:c.nJ.FEATURE_CUE},userAction:"close"}))};return r.createElement(r.Fragment,null,r.createElement(S.Z,C({forwardedRef:I,notifyRefReady:()=>D(!0)},n()(e,["onboardingCueType"]))),R&&(()=>{switch(t){case A.MESSAGE_LIST:return r.createElement(m.yk,{ref:T,popoverAnchor:I,triggerOn:E.K2.MOUNT,align:L?E.xM.CENTER:E.xM.END,permittedArrowDirections:[E.Ji.UP],zAltitude:_.LSY.POPOVER.HIGH,hideOnContentClick:!1,onHide:M},r.createElement(u.cr,{import:"./onboarding_cue_part2",bundleName:"todos",cueName:l.ANe.TODO_ONBOARDING_CUE_PART2,closeOnScroll:!(0,d.aA)(),onShow:()=>{var e;null===(e=T.current)||void 0===e||e.updatePosition()},_moduleLoader:function(){return s.e(700).then(s.bind(s,69427))},_moduleResolver:function(){return 69427}}));case A.MESSAGE_HEADER:return r.createElement(m.yk,{ref:T,popoverAnchor:I,triggerOn:E.K2.MOUNT,align:E.xM.END,permittedArrowDirections:[E.Ji.UP],zAltitude:_.LSY.POPOVER.HIGH,hideOnContentClick:!1,onHide:M},r.createElement(u.cr,{import:"./onboarding_cue_part3",bundleName:"todos",cueName:l.ANe.TODO_ONBOARDING_CUE_PART3,closeOnScroll:!(0,d.aA)(),onShow:()=>{var e;null===(e=T.current)||void 0===e||e.updatePosition()},_moduleLoader:function(){return s.e(700).then(s.bind(s,50158))},_moduleResolver:function(){return 50158}}))}})())}},72039:e=>{"use strict";e.exports={className:{default:{button:"b_0 q_q r_P D_F ab_C cdPFi_Z1WBuqm cdPFi4_Z29WjXl"},isOnDarkBackground:{button:"cdPFi_ak5kB cdPFi4_ak5m8"},"isHighlighted-true_and_onDarkBg":{button:"cdPFi_ak5m8"},"isHighlighted-true_and_onLightBg":{button:"cdPFi_Z29WjXl"}},_key:"Z2sfpYd"}},71055:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(73474),r=s.n(n),o=s(76223),i=s.n(o);function l({id:e,type:t,isEnabled:s,size:n="M",ariaLabelledby:o,ariaLabel:l,ariaHidden:c,title:d,onClick:_,isFocused:E=!1,isClickable:u=!0,iskeynav:m=!1}){const S=i()(r(),{isEnabled:s,size:n,isClickable:u,isEnabledAndLarge:s&&"L"===n}),p=(0,a.useCallback)((e=>{null!==e&&E&&e.focus()}),[E]);return a.createElement("button",{className:S.background,role:"switch","aria-checked":s,onClick:e=>u?_(e):null,"aria-labelledby":o,"aria-label":l,"aria-hidden":!!c,title:d,tabIndex:0,"data-iskeynav":m,ref:p,id:e,type:t},a.createElement("span",{className:S.handle}))}},54542:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(9333),l=s(9026),c=s(76531);function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _=(0,o.defineMessages)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete {conversations, select, true {conversation} false {message}}"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete {conversations, select, true {conversation} false {message}}"}});class E extends r.Component{render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:a,showLabel:n,isCompact:d,size:E,conversations:u,title:m}=this.props,S=e(t?_.perm_delete_msgs:_.delete_msgs,{conversations:u}),p=t?"perm-delete":"delete",C=this.context.getThemeMode()===l.zg.DARK;return r.createElement(i.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${p}`,"aria-label":S,title:m||S,kind:c.Kinds.DELETE,disabled:s,onClick:a,size:E,colorState:c.ColorStates.INHERITED,isOnDarkBackground:C,isCompact:d},n?r.createElement(o.FormattedMessage,{id:"delete_icon_label",defaultMessage:"Delete"}):null)}}d(E,"defaultProps",{size:c.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1}),d(E,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func});const u=E},25288:e=>{"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1WBuqm cdPFi4_Z29WjXl"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_ZkbNhI"}},_key:"FQFqp"}},36014:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});s(45697);var a=s(67294),n=s(52505),r=s.n(n),o=s(76223),i=s.n(o),l=s(68878);function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class d extends a.Component{constructor(...e){super(...e),c(this,"state",{inputText:"",activeIndex:0}),c(this,"getHint",((e,t,s)=>{if(!e||!t||!t.length||this.state.selected)return"";const a=this.props.getHint(t[s]||{})||"";return this.props.hideCompletionOnMismatch&&0!==a.toLowerCase().indexOf(e.toLowerCase())?e:e+a.substr(e.length)})),c(this,"handleInputChange",(e=>{this.setState({inputText:e,selected:!1}),this.props.onInputChange(e)})),c(this,"handleSelect",(e=>{this.setState({inputText:this.props.getHint(e),selected:!0}),this.props.onValueChange(e)})),c(this,"handleActiveIndexChange",(e=>{this.setState({activeIndex:e})}))}render(){const{inputText:e,activeIndex:t}=this.state,s=this.props.classNames,n=i()(r());return a.createElement(l.default,{placeholder:this.props.placeholder,maxVisible:10,inputValue:e,onInputChange:this.handleInputChange,hintValue:this.getHint(e,this.props.suggestions,t),onSelect:this.handleSelect,onActiveIndexChange:this.handleActiveIndexChange,className:s.typeahead||n.typeahead,inputContainerClassName:s.typeaheadInputContainer||n.typeaheadInputContainer,inputClassName:s.typeaheadInput||n.typeaheadInput,inputHintClassName:s.typeaheadInputHint||n.typeaheadInputHint,dropDownClassName:s.typeaheadDropDown||n.typeaheadDropDown},this.props.suggestions.map(((e,t)=>a.createElement(l.Option,{key:t,className:s.typeaheadOption||n.typeaheadOption,value:e},this.props.getHint(e)))))}}c(d,"defaultProps",{suggestions:[],classNames:{},getHint:e=>e,hideCompletionOnMismatch:!1});const _=d},52032:e=>{"use strict";e.exports={className:{default:{logo:"p_a T_6Mbr L_6LEV H_A cZR3vvd_n",head:"H_7zJd cZR3vv9_7ceA I_Z1XtUkA aw_ZCG3c5",headerText:"D_n cZR3vuu_a cZR3vuW_6Fd5 cZR3vvg_6FIA cZR3vve_ZkbNhI cZ1wMhrj_0 cZR3vuB_6MGW cZR3vuq_C cZR3vuT_6D6F cZR3vvd_B"},aolUser:{head:"I_4N1z aw_1O8fuN"}},_key:"ZRIrAI"}},31871:e=>{"use strict";e.exports={className:{default:{mainBody:"H_6D6F W_6D6F p_R bo_BA cf_0",headerContainer:"H_7zJd cZR3vv9_7ceA P_0",leftRailContainer:"I_ZnIF8Y x_Z14vXdP cZR3vvd_n V_GM W_3o4BO s_3o4BO P_0",contentContainer:"W_6D6F je_6LEV V_GM",rightRailContainer:"I_ZnIF8Y n_Z14vXdP V_GM P_0 a_3vpWV s_3o4BO cZR3vvd_n"}},_key:"1twphr"}},28996:e=>{"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_B je_6Fd5 W_3o4BO",link:"C_ZkbNhI O_cMq D_B b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD W_eTL I_Z29WjXl",moreIcon:"D_B q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD p_R",iconContainer:"p_a T_69rk L_dRf",accountslist:"D_B",list:"Y_0 Q_0 E_0 U_0 D_B hd_n P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 D_B hd_n P_2d6pmo",header:"D_B gl_FM M_BOLti",accountsListItem:"O_cMq u_eBE A_6EWk C_Z29WjXl P_2d6pmo M_1WjkSr",listItem:"D_B ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X",folderNameRight:"M_eo6 H_fq7 e_6LEV I_ZroviD D_X f_r"}},_key:"Z20on8l"}},76796:e=>{"use strict";e.exports={className:{default:{image:"W_3n13i H_7aG4",upsellPage:"em_N D_F ab_C ek_BB",header:"P_0 A_6LEV i_6UbO Y_6DEy U_6LEV jb_6Eb4",body:"t_C A_6EqO i_6FIA jb_6MGW",footer:"D_F gl_C C_Z1TsNbA",userName:"cZ1RN91d_GG",description:"M_0 C_Z1TsNbA",providersOption:"Y_6Fd5",switchAccount:"C_Z29WjXl",accountList:"M_0 P_0 em_N D_F hd_n",listItem:"em_N D_F ab_C ek_BB gl_C",label:"C_Z281SGl u_dPo A_6EWk i_6LEV M_27msYt",supportedProviderCaption:"t_C A_6EqO C_Z1WBuqm M_6DEy"}},_key:"Z2oWfTQ"}},20879:e=>{"use strict";e.exports={className:{default:{wrapper:"H_6D6F D_F cZ1RN91d_n ek_BB s_1HCsWR aw_Z1CkV98",shadedContainer:"em_N W_6D6F H_6D6F D_F o_h p_R T_7zJd I_ZnwrMC",container:"em_N D_F o_h s_1HLnlu",mainContent:"em_N D_F s_e5X o_h p_R j_ZUs0f0 gl_C I_ZkbNhI P_Z2jbO7T",widthRestricter:"em_N D_F ej_eUh",leftRail:"em_0 D_F gl_CH W_3o4BO s_3o4BO a_3rehn cZ10Gnkk_d5Y",rightRail:"em_N D_F a_3vpWV s_3o4BO",titleLabel:"u_e69 A_6EWk M_27m6vR",navWrapper:"D_F ab_C gl_CI H_6TFj M_1MapR8",errorContainer:"D_F W_3vPwA ek_BB",errorWrapper:"D_F ab_CI A_6EqO i_6LEV C_ZmDiLl",errorIcon:"D_F E_fq7"},ybarFuji2Enabled:{shadedContainer:"T_3n1j3"}},_key:"TU3Nu"}},9577:e=>{"use strict";e.exports={className:{default:{leftRailItemsContainer:"D_F ek_BB je_6Fd5 W_3rehn",link:"C_ZkbNhI O_cMq en_0 D_F b_n ir_n r_P cn_dBP u_e69 e_dRA ab_C A_6EqO S_n k_w gl_C l_T H_6VdP M_1Eu7sD I_Z29WjXl",moreIcon:"D_F q_8ahxV ab_C gl_C H_eo6 M_1Eu7sD",iconContainer:"Y_eo6",accountslist:"en_0 D_F ek_BB",list:"Y_0 Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",folderList:"Y_6Nds Q_0 E_0 U_0 en_0 D_F hd_n ek_BB P_2d6pmo",header:"O_cMo D_F gl_FM M_BOLti",accountsListItem:"u_eBE A_6EWk C_Z29WjXl P_2d6pmo M_1WjkSr",listItem:"O_cMo D_F ab_C Y_6EWk",folderName:"M_eo6 H_fq7 e_6LEV I_Z1YRXYn"}},_key:"35Ly9"}},74138:e=>{"use strict";e.exports={className:{default:{searchBoxContainer:"en_0 O_cMq D_F p_R H_74JI",searchButton:"M_0 b_0 C_ZkbNhI en_0 W_7GHz D_F u_b cZ1RN91d_n J_x A_6EqO k_w gl_C ab_C ck_dRA y_jyw3a bl_dRA H_74JI I_2sqbOJ",searchBoxInput:"M_0 W_6D6F D_F C_ZtwOFC ab_C I_ZkbNhI A_6EWk y_jyw3a X_6Eb4 H_74JI cj_dRA bk_dRA"}},_key:"2dBO18"}},7449:(e,t,s)=>{"use strict";function a(e,t,s){if(!e||!t)return{};let a=t.getBoundingClientRect();const n=e.ownerDocument.documentElement.offsetHeight,r=e.ownerDocument.documentElement.offsetWidth,o=e.getBoundingClientRect(),{scrollingElement:i,body:l}=e.ownerDocument,c=i?i.scrollLeft:l.scrollLeft,d=i?i.scrollTop:l.scrollTop,_=o.top+d,E=o.right+c,u=o.bottom+d,m=o.left+c,S=(o.height,-o.width),p=8,C={below:n-u-p,above:_-p,left:m-S,right:r-E-S},A={},T=.9,I=Math.floor(Math.max(C.above,C.below)*T),h=Math.floor(Math.max(C.left,C.right)*T);if(a.height>I&&(A.maxHeight=I),a.width>h&&(A.maxWidth=h),A.maxHeight||A.maxWidth){A.overflow="auto";const e=A.maxHeight||a.height,t=A.maxWidth||a.width;a=Object.assign({},a,{height:e,width:t,bottom:a.top+e,right:a.left+t})}const g=C.below*T-a.height>=0,O=C.above*T-a.height>=0,D=C.left*T-a.width>=0,R=C.right*T-a.width>=0;return s&&R?A.left=m-a.width-S:R?A.left=E+S:D&&(A.left=m-a.width-S),g?A.top=u+p:O&&(A.top=_-a.height-p),A}s.d(t,{E:()=>a})},28559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createAddress:()=>o,preparePillContact:()=>r});const a=/^(['"]?)(.*?)\1\s*<(\S+@\S+\.\w+)>\s*$/,n=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/;function r({name:e="",email:t="",isEditing:s=!1,createdTime:n}){const[,,r=e,o=t]=t.match(a)||[];let i;return i=r&&o?r===o?`<${o}>`:`${r} <${o}>`:r||o,{name:r||o,email:o,title:i,isEditing:s,createdTime:n}}function o(e){if(n.test(e)){let t,[s]=e.match(n);const a=e.replace(s,"").trim();return s=s.substring(1,s.length-1),t=a&&s?`${a} <${s}>`:a||s,{email:s,name:a,title:t}}return{email:e,name:e}}},92039:(e,t,s)=>{"use strict";s.d(t,{Gi:()=>d,MJ:()=>i,MW:()=>o,cD:()=>c,nk:()=>n,py:()=>E,u8:()=>l,vl:()=>_});var a=s(37422);const n={FOLDERS:"in",FROM:"from",TO:"to",SUBJECT:"subject",BEFORE:"before",AFTER:"after",HAS:"has",IS:"is",ATTACHMENT_TYPE:"attachmenttype"},r={ATTACHMENT:"attachment",PHOTO:"image",CALENDAR_INVITE:"calendar"};function o(e=""){return(e.match(/([a-z]*:"[^"]*")|([a-z]*:[^\s]*)/g)||[]).reduce(((e,t)=>{const[,s,a]=t.match(/^([a-z]*):(.*)$/);return Object.assign(e,{[s]:[...e[s]||[],a]})}),{})}function i(e,t="",s=!1){const a=new RegExp(`(${e}:"[^"]*")|(${e}:[^\\s]*)`,"g");return s?t.replace(a,""):t.replace(a,"").trim()}function l(e,t=!1){if(!e)return{};const s=o(e),l={};let c=e;["FOLDERS","FROM","TO","SUBJECT","AFTER","BEFORE"].forEach((e=>{const r=n[e],o=s[r]||[],d="BEFORE"===e||"AFTER"===e;1===o.length&&(l[a.MdG[e]]=d?o[0].replace(/"/g,""):o[0],c=i(r,c,t))}));const d=s[n.HAS]||[];["ATTACHMENT","PHOTO"].forEach((e=>{const t=a.MdG[e];l[t]=-1!==d.indexOf(r[e]),c=c.replace(`${n.HAS}:${r[e]}`,"")}));const _=s[n.ATTACHMENT_TYPE]||[],E=a.MdG.CALENDAR_INVITE;return l[E]=-1!==_.indexOf(r.CALENDAR_INVITE),c=c.replace(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`,""),c=c.replace(new RegExp("^\\s*"),""),c.trim()&&(l[a.MdG.KEYWORD]=c),l}function c(e){const t=[],s=e[a.MdG.FOLDERS],o=e[a.MdG.FROM],i=e[a.MdG.TO],l=e[a.MdG.SUBJECT],c=e[a.MdG.KEYWORD],d=e[a.MdG.BEFORE],_=e[a.MdG.AFTER],E=e[a.MdG.ATTACHMENT],u=e[a.MdG.PHOTO],m=e[a.MdG.CALENDAR_INVITE];return s&&t.push(`${n.FOLDERS}:${s}`),o&&t.push(`${n.FROM}:${o}`),i&&t.push(`${n.TO}:${i}`),l&&t.push(`${n.SUBJECT}:${l}`),E&&t.push(`${n.HAS}:${r.ATTACHMENT}`),u&&t.push(`${n.HAS}:${r.PHOTO}`),m&&t.push(`${n.ATTACHMENT_TYPE}:${r.CALENDAR_INVITE}`),_&&t.push(`${n.AFTER}:"${_}"`),d&&t.push(`${n.BEFORE}:"${d}"`),c&&t.push(c),t.join(" ")}function d(e){return/in:|from:|to:|subject:|after:|before:|has:|is:|attachmenttype:/.test(e)}function _(e){return e.replace(/in:[^ ]+ *|before:[^ ]+ *|from:[^ ]+ *|to:[^ ]+ *|after:[^ ]+ *|subject:[^ ]+ *|has:[^ ]+ *|is:[^ ]+ *|attachmenttype:[^ ]+ */g,"")}function E(e){const t=[];return e.split(" ").forEach((e=>{if(function(e){return/after:/.test(e)}(e)){const s=e.split(":")[1].replace(/"/g,""),a=new Date(s).getTime(),n=`start:${Math.floor(a/1e3)}`;t.push(n)}else if(function(e){return/before:/.test(e)}(e)){const s=e.split(":")[1].replace(/"/g,""),a=new Date(s).getTime(),n=`end:${Math.floor(a/1e3)}`;t.push(n)}else t.push(e)})),t.join(" ")}},60030:(e,t,s)=>{"use strict";s.d(t,{TX:()=>l,sl:()=>i});var a=s(99095),n=s(18247);const r=(0,a.defineMessages)({comma:{id:"mail_app.comma_with_space",defaultMessage:", "},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:" and "},andNMore:{id:"mobile.message_read.and_n_more",defaultMessage:"& {count} more"}}),o=({sender:{name:e,email:t},myAddresses:s},a)=>{let n;return n=s[t]?a(r.me):e?e.split(" ")[0]:(t||"").split("@")[0],n.length>10+".".length?n.slice(0,10)+".":n},i=({senders:e,myAddresses:t,visibleNum:s=1},a)=>{if(0===e.length)return null;if(1===e.length){const s=e[0];return t[s.email]?a(r.me):s.name||s.email}const i=[],l=(0,n.ln)(e),c=(0,n.AN)(l),d=l.map((e=>o({sender:e,myAddresses:t},a))),_=(({senders:e,priorityIndices:t,visibleNum:s})=>e.length<=s-1?t:t.slice(0,e[0].recent?s-1:s))({senders:l,priorityIndices:c,visibleNum:s}).sort();let E=0;return _.forEach(((e,t)=>{const s=d[e];e>E+1?i.push(" .. "):t>0&&i.push(a(r.comma)),i.push(s),E=e})),i.join("")},l=({senders:e,myAddresses:t},s)=>{if(0===e.length)return"";const a=(0,n.ln)(e);let i=a.map((e=>o({sender:e,myAddresses:t},s)));if(i=i.filter(((e,t,s)=>s.indexOf(e)===t)),1===i.length)return a[0].email;const l=i.pop();return i.join(s(r.comma))+s(r.and)+l}},64059:(e,t,s)=>{"use strict";s.d(t,{g:()=>r,x:()=>n});const a=/^(?:https?|ftp|mailto):(?:\/\/)?/i;function n(e){let t=!1;if(!a.test(e))return t;const s=window.open();if(s){s.opener=null;try{s.location=e,t=!0}catch(n){}}return t}function r(e){window.location.href=e}},40561:(e,t,s)=>{"use strict";s.d(t,{h:()=>r,z:()=>n});var a=s(37422);function n(e,t,s,n=a.JfS){return o(e,t,s,n)}function r(e,t,s=a.JfS){return o(e,t,null,s)}function o(e,t,s,n=a.JfS,r=!0){const{id:o,email:i,iataCode:l,photoTimestamp:c}=e||{},d={spsize:t+"X"+t,...s&&{fallback_url:s},alphatar_photo:r,...c&&{timestamp:c},...n&&{appId:n}};let _;if(l)_=`/v4/tags/iata/${l}/photo`;else if(o&&o!==i)_="/v4/contacts/"+o+"/photo",d.badge=!1;else{if(!i)return s;_="/v4/endpoints/smtp:"+i+"/photo",d.format="image"}return(0,a.pVt)(n)+_+"?"+Object.keys(d).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(d[e]))).join("&")}},16883:e=>{"use strict";e.exports={className:{default:{container:"p_R q_Z281SGl r_P e_dRA",stretchedBox:"ir_n M_0 P_0 b_0 H_6D6F W_6D6F p_a o_h"}},_key:"2a2gv"}},67373:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(18685),l=s(37422),c=s(25869),d=s(85927),_=(s(31280),s(16883)),E=s.n(_),u=s(95406);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let S;const p=()=>{};class C extends a.Component{constructor(...e){super(...e),m(this,"state",{loadError:!1,showVideoCover:this.props.showVideoCoverInitially}),m(this,"handleLoadError",(e=>{S=void 0,this.setState({showVideoCover:!0,loadError:!0}),this.props.onLoadError(e)})),m(this,"handleClick",(()=>{this.state.loadError&&this.setState({showVideoCover:!1,loadError:!1}),this.props.handleVideoClick(),this.initializePlayer()})),m(this,"getPlayerConfig",(e=>{var t,s;const a=e||this.props.playerConfig,n=((null===(t=window)||void 0===t||null===(s=t.AppBootstrapData)||void 0===s?void 0:s.buckets)||[]).join(",");return{...a,iframeRender:!a.html5,lang:this.context.intl.locale||"en-US",site:a.site,expBucket:n,pblob:"lu:1"}})),m(this,"initializePlayer",(e=>{const t=this.getPlayerConfig(e);if(this.playerStatus!==l.cSU.NotInitialized)return;this.playerStatus=l.cSU.Initializing;const s=e=>{if(!e)return this.playerStatus=l.cSU.NotInitialized,void this.handleLoadError(new Error("Failed to load video platform"));this.playerStatus=l.cSU.Initialized,this.setState({showVideoCover:!1});const s=e.Events||e.API_Events;this._player=new e.VideoPlayer(t),this._addPlayerSubscriptions(this._player,s),this._player.render(this.refs.player),this.props.setPlayerHandle(this._player)},a=this.props.oathVideoPlayerEnabled?"OATH.VideoPlatform":"YAHOO.VideoPlatform",n="undefined"!=typeof window&&(0,u.u9)(window,a),{videoPlayerUrl:r}=this.props;if(n)s(n);else{if(!S){let e=r;t.lang&&(e+=(-1===e.indexOf("?")?"?":"&")+`lang=${t.lang}`),S=c.Z.loadScript(e)}S.then((()=>{s((0,u.u9)(window,a))}),(e=>{this.handleLoadError(e)}))}})),m(this,"_addPlayerEventListener",((e,t,s)=>{const a=e.addEventListener||e.on;t&&"function"==typeof a&&a.call(e,t,s)})),m(this,"_addPlayerSubscriptions",((e,t)=>{e&&t&&(this._addPlayerEventListener(e,t.PLAYER_READY,this.props.onPlayerReady),this._addPlayerEventListener(e,t.PLAYBACK_START,this.props.onPlaybackStart),this._addPlayerEventListener(e,t.VIDEO_STARTED,this.props.onVideoStarted),this._addPlayerEventListener(e,t.PLAYLIST_POSITION_CHANGE,this.props.onPlaylistPositionChange),this._addPlayerEventListener(e,t.PLAYER_MUTE_CHANGE,this.props.onMute),this._addPlayerEventListener(e,t.PLAYBACK_PAUSE,this.props.onPause),this._addPlayerEventListener(e,t.PLAYBACK_RESUMED,this.props.onResume),this._addPlayerEventListener(e,t.UI_INTERACT,this.props.onUIInteract),this._addPlayerEventListener(e,t.PLAYLIST_COMPLETE,this.props.onPlaybackComplete),this._addPlayerEventListener(e,t.PLAYBACK_TIME_UPDATE,this.props.onPlaybackUpdate),this._addPlayerEventListener(e,t.PLAYER_ERROR,this.props.onPlayerError),this._addPlayerEventListener(e,t.PLAYBACK_ERROR,this.props.onPlaybackError),this._addPlayerEventListener(e,t.AD_PLAYBACK_START||t.AD_BREAK_STARTED,this.props.onAdPlaybackStart),this._addPlayerEventListener(e,t.AD_PLAYBACK_STOP||t.AD_BREAK_ENDED,this.props.onAdPlaybackEnd),this._addPlayerEventListener(e,t.AD_ERROR||t.AD_BREAK_ITEM_ERROR,this.props.onAdError))}))}componentDidMount(){this.playerStatus=l.cSU.NotInitialized,this.state.showVideoCover||this.initializePlayer()}componentWillUnmount(){this._player&&(this._player.destroy(),this.props.setPlayerHandle(null))}componentDidUpdate(e){this.props.playerPositionId&&this.props.playerPositionId!==e.playerPositionId&&(this.playerStatus===l.cSU.Initialized?this._player.playlist.setPositionById(this.props.playerPositionId):this.initializePlayer(this.props.playerConfig)),!e.play&&this.props.play?this.playerStatus===l.cSU.Initialized?(this._player.controls.play(),this._player.controls.setMute(e.mute)):this.initializePlayer():this._player&&this._player.controls.isPlaying()&&!this.props.play&&(this._player.controls.pause(),this._player.controls.setMute(!0))}render(){const e=r()(E()),{width:t,height:s}=this.props;return a.createElement("div",{className:e.container,style:{width:t,height:s}},this.state.showVideoCover&&this.props.children?a.cloneElement(this.props.children,{loadError:this.state.loadError,handleClick:this.handleClick}):null,a.createElement("div",{ref:"player",className:e.stretchedBox}))}}m(C,"contextTypes",{intl:o.intlShape.isRequired}),m(C,"defaultProps",{width:"480px",height:"270px",playerConfig:{},onPlayerReady:p,onPlaybackStart:p,onAdPlaybackStart:p,onVideoStarted:p,onPlaylistPositionChange:p,onMute:p,onPause:p,onResume:p,onUIInteract:p,onPlaybackComplete:p,onPlaybackUpdate:p,onPlayerError:p,onLoadError:p,onAdPlaybackEnd:p,onPlaybackError:p,onAdError:p,play:!1,mute:!0,showVideoCoverInitially:!0,playerPositionId:"",handleVideoClick:p,setPlayerHandle:p});const A=(0,i.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,d.selectors)(e),a=s(l.ANe.OATH_VIDEO_PLAYER);return{videoPlayerUrl:t(a?l.Zrf.OATH_VIDEO_PLAYER_URL:l.Zrf.VIDEO_PLAYER_URL),oathVideoPlayerEnabled:a}}))(C)},22073:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a,n,r,o=s(67294),i=s(18685),l=(s(45697),s(85927));class c extends o.PureComponent{render(){const e=this.props.lockScrolling?"hidden":"auto",t=`body {height: ${this.props.windowInnerHeight}px !important; overflow: ${e} !important;}`;return o.createElement("style",{id:"viewportClipper"},t)}}r={lockScrolling:!1},(n="defaultProps")in(a=c)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const d=(0,i.connect)((e=>{const{getEnvironmentSelectors:t}=(0,l.selectors)(e),{getWindowDimensions:s}=t();return{windowInnerHeight:s().innerHeight}}))(c)},66891:(e,t,s)=>{"use strict";s.d(t,{Z:()=>O});s(45697);var a=s(67294),n=s(18446),r=s.n(n),o=s(76223),i=s.n(o),l=s(43537),c=s.n(l),d=s(61395),_=s.n(d),E=s(99095);var u=s(37422),m=s(95406);function S(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const p=(0,E.defineMessages)({msgListContainer:{id:"atom.msg_list_container",defaultMessage:"Message list. Press down arrow to go to messages. For JAWS, turn PC Cursor off with Insert Z and press down arrow."}}),C=()=>{},A=i()(c()),T="UP",I="DOWN";let h=800;class g extends a.Component{constructor(e,t){super(e,t),S(this,"computeItemHeightsAndOffsets",(e=>{const{items:t,getItemHeight:s}=e;this.itemHeights=[],this.itemOffsets=[],this.totalItemsHeight=0;for(let a=0;a<t.length;a++)this.itemHeights[a]=s(t[a],a),this.itemOffsets[a]=this.totalItemsHeight,this.totalItemsHeight+=this.itemHeights[a]})),S(this,"computeClassNames",(e=>{const{scrollerClassName:t,listClassName:s}=e;this.scrollerClassName=_()(A.scroller,t),this.listClassName=_()(A.list,s)})),S(this,"scrollPercent",(()=>{const{scrollTop:e}=this.state,t=this.totalItemsHeight;return e<0||t<=0?0:Math.floor(e/t*100)})),S(this,"scrollToItemStart",(()=>{const{items:e,itemStart:t,getItemHeight:s}=this.props;if(!t)return;const a=e.findIndex((e=>e.id===t.id)),n=e.slice(0,a).reduce(((e,t,a)=>e+s(t,a)),0);this.scroller.scrollTop=n})),S(this,"scrollStateRAFHandler",(()=>{this.raf=null,this.updateScrollState()})),S(this,"scrollLoadMoreRAFHandler",(()=>{const{loadMoreItems:e}=this.props;this.loading=e()})),S(this,"handleScroll",(()=>{const{onScrollTop:e,onScrollBottom:t}=this.props,{scrollTop:s,scrollHeight:a}=this.scroller;s<0||(this.isScrolling=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(this.scrollStateRAFHandler),0===s&&e(),s+this.state.clientHeight>=a&&t(),!this.loading&&s+this.state.clientHeight>.8*a&&window.requestAnimationFrame(this.scrollLoadMoreRAFHandler))})),S(this,"updateScrollState",(()=>{const{scrollTop:e}=this.scroller;this.updateScrollDirection(e),this.setState({scrollTop:e},(()=>this.scrollNotify()))})),S(this,"updateScrollDirection",(e=>{const t=this.totalItemsHeight-this.state.clientHeight;0===e?this.scrollDirection=I:e>=t&&!this.loading?this.scrollDirection=T:this.scrollDirection=e>this.state.scrollTop?I:T})),S(this,"scrollNotify",(()=>{const{items:e,onScroll:t}=this.props,{itemStartIndex:s,itemEndIndex:a}=this.getViewportItemIndexRange();t({scrollTop:this.state.scrollTop,itemStart:e[s],itemEnd:e[a],itemStartIndex:s,itemEndIndex:a,getScrollPercent:this.scrollPercent}),this.isScrolling=!1})),S(this,"loadMoreOnScrollBottom",(()=>{if(!this.loading&&this.props.loadMoreItems){this.scroller.scrollHeight>this.state.clientHeight||(this.loading=this.props.loadMoreItems())}})),S(this,"isListScrolling",(()=>this.isScrolling)),S(this,"setTopPlaceHolderHolder",(e=>{this.topHolder=e})),S(this,"setBottomPlaceHolderHolder",(e=>{this.bottomHolder=e})),S(this,"getViewportItemIndexRange",(()=>{const{scrollTop:e,clientHeight:t}=this.state;let s=-1,a=-1;s=function(e,t){let s=-1,a=0,n=e.length-1;for(;a<=n;){s=a+Math.round((n-a)/2);const r=t(e[s],s);if(r<0)n=s-1;else{if(!(r>0))return s;a=s+1}}return-1}(this.itemOffsets,((t,s)=>e<t?-1:e<t+this.itemHeights[s]?0:1)),s=Math.max(s,0);const n=e+t,r=this.itemOffsets.length-1;for(a=s;a<r&&this.itemOffsets[a]+this.itemHeights[a]<n;)a+=1;return{itemStartIndex:s,itemEndIndex:a}})),S(this,"getRenderedItemIndexRange",((e,t)=>{if(this.isFirstMounted)return{itemStartIndexWithBuffer:e,itemEndIndexWithBuffer:t};const{items:s,bufferSize:a,oppositeBufferSize:n}=this.props,r=this.scrollDirection===T?a-n:n,o=this.scrollDirection===I?a-n:n;return{itemStartIndexWithBuffer:Math.max(e-r,0),itemEndIndexWithBuffer:Math.min(t+o,s.length-1)}})),S(this,"getPlaceholderHeights",((e,t)=>{const{items:s}=this.props,a=t+1;return{placeholderTopHeight:this.itemOffsets[e],placeholderBottomHeight:a<s.length?this.totalItemsHeight-this.itemOffsets[a]:0}})),S(this,"computeRenderParameters",(()=>{const{itemStartIndex:e,itemEndIndex:t}=this.getViewportItemIndexRange(),{itemStartIndexWithBuffer:s,itemEndIndexWithBuffer:a}=this.getRenderedItemIndexRange(e,t),{placeholderTopHeight:n,placeholderBottomHeight:r}=this.getPlaceholderHeights(s,a);this.itemStartIndex=e,this.itemEndIndex=t,this.itemStartIndexWithBuffer=s,this.itemEndIndexWithBuffer=a,this.placeholderTopHeight=n,this.placeholderBottomHeight=r,this.renderedOffsetTop=this.itemOffsets[this.itemStartIndex],this.renderedOffsetBottom=this.itemOffsets[this.itemEndIndex]})),this.itemStartIndex=0,this.itemEndIndex=e.items.length,this.itemStartIndexWithBuffer=0,this.itemEndIndexWithBuffer=e.items.length,this.renderedOffsetTop=0,this.renderedOffsetBottom=0,this.placeholderTopHeight=0,this.placeholderBottomHeight=0,this.scrollDirection=I,this.totalItemsHeight=0,this.itemHeights=[],this.itemOffsets=[],this.cachedReactElements={},this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.isScrolling=!1,this.areItemsEqual=!0,this.isFirstMounted=!0,h=e.clientHeight?e.clientHeight:h,this.state={scrollTop:e.scrollTop||0,clientHeight:h},this.scrollerRef=a.createRef()}UNSAFE_componentWillReceiveProps(e){this.areItemsEqual=r()(this.props.items,e.items),this.loading=this.loading&&this.areItemsEqual,this.areItemsEqual||(this.computeItemHeightsAndOffsets(e),this.computeClassNames(e),this.cachedReactElements={}),void 0!==e.scrollTop&&e.scrollTop!==this.scroller.scrollTop&&this.setState({scrollTop:e.scrollTop},(()=>{this.scroller.scrollTop=e.scrollTop})),e.recalculateClientHeight&&(h=this.scroller.clientHeight,this.state.clientHeight!==h&&this.setState({clientHeight:h}))}shouldComponentUpdate(e,t){let s=!1;return t.scrollTop<this.renderedOffsetTop||t.scrollTop+t.clientHeight>this.renderedOffsetBottom||this.state.clientHeight!==t.clientHeight?s=!0:this.areItemsEqual||(s=!0),s}componentDidMount(){this.scroller=this.scrollerRef.current,this.scroller.clientHeight!==h?(h=this.scroller.clientHeight,this.setState({clientHeight:h},(()=>this.loadMoreOnScrollBottom()))):(this.loadMoreOnScrollBottom(),this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame((()=>{this.forceUpdate(),this.raf=null}))),void 0!==this.props.scrollTop?this.scroller.scrollTop=this.props.scrollTop:this.scrollToItemStart(),this.isFirstMounted=!1,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentDidUpdate(){if(!this.areItemsEqual){const{clientHeight:e,scrollHeight:t}=this.scroller;h=e,h!==this.state.clientHeight&&this.setState({clientHeight:h}),this.loading||t-this.state.scrollTop!==h||window.requestAnimationFrame(this.scrollLoadMoreRAFHandler)}this.areItemsEqual=!0,this.props.onRenderCompleted({itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex,itemStartIndexWithBuffer:this.itemStartIndexWithBuffer,itemEndIndexWithBuffer:this.itemEndIndexWithBuffer,itemOffsets:this.itemOffsets})}componentWillUnmount(){this.raf&&window.cancelAnimationFrame(this.raf)}render(){const{items:e,styles:t,itemStyle:s,formatPlaceHolder:n,numOfPlaceHolder:r}=this.props,o=[];if(this.computeRenderParameters(),n&&r){let e=0;for(let t=Math.max(1,this.itemStartIndexWithBuffer-r);t<this.itemStartIndexWithBuffer;t++,e++){const r=Object.assign({},{top:this.itemOffsets[t]+"px"},s);o.push(a.createElement("li",{key:"top"+e,className:A.item,style:r},n()))}}for(let l=this.itemStartIndexWithBuffer;l<=this.itemEndIndexWithBuffer;l++){const t=e[l];let n=Object.assign({},{top:this.itemOffsets[l]+"px"},s);t.id===u.F6k.TOP_OF_INBOX_CARDS&&(n=(0,m.oF)(n,["padding"])),this.props.enableReactElementCache?(this.cachedReactElements[t.id]||(this.cachedReactElements[t.id]=a.createElement("li",{key:t.id,className:A.item,style:n},this.props.formatItem(t,{isScrolling:this.isListScrolling,itemIndex:l,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef))),o.push(this.cachedReactElements[t.id])):o.push(a.createElement("li",{key:t.id,className:A.item,style:n},this.props.formatItem(t,{isScrolling:this.isListScrolling,itemIndex:l,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex},this.scrollerRef)))}if(n&&r){let t=0;for(let i=this.itemEndIndexWithBuffer+1;i<Math.min(e.length,this.itemEndIndexWithBuffer+r+1);i++,t++){const e=Object.assign({},{top:this.itemOffsets[i]+"px"},s);o.push(a.createElement("li",{key:"bottom"+t,className:A.item,style:e},n()))}}const{formatMessage:i}=this.context.intl;return a.createElement("div",{ref:this.scrollerRef,className:this.scrollerClassName,style:t,onScroll:this.handleScroll,"data-test-id":"virtual-list"},a.createElement("ul",{role:"list","aria-label":i(p.msgListContainer),key:"itemsContainer",className:this.listClassName,style:{height:this.totalItemsHeight+"px"}},o))}}S(g,"defaultProps",{items:[],bufferSize:0,loadMoreItems:C,onScroll:C,onScrollTop:C,onScrollBottom:C,onRenderCompleted:C,styles:{},scrollTop:void 0,scrollerClassName:"",listClassName:"",numOfPlaceHolder:0,recalculateClientHeight:!1,oppositeBufferSize:0,enableReactElementCache:!1,itemStyle:{}}),S(g,"contextTypes",{intl:E.intlShape.isRequired});const O=g},72884:e=>{"use strict";e.exports={className:{default:{container:"Q_A P_3gIMd D_F ab_C A_6EGz i_6Mbr c1AVi73_6FIA c1AVi7H_6Mbr",colorized:"C_Z281SGl",anchorLink:"D_F ab_C A_6EGz c1AVi73_6FIA r_P",divider:"W_dBP H_6Fd5 x_6i89e M_fq7",currentTemp:"A_6FIA c1AVi73_6Mbr",tempNotation:"r_P A_6FIA c1AVi73_6Mbr C_Z29WjXl X_fq7",skyIcon:"W_6MGW H_6MGW cdPFi_Z281SGl P_3gJOe",editLink:"C_Z29WjXl A_6DEy c1AVi73_6EGz X_fq7 r_P",editBox:"cg_FJ cn_dBP l_Z1TsNbA",typeahead:"p_R C_Z281SGl",typeaheadInput:"C_Z281SGl A_6EqO c1AVi73_6FsP W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z29WjXl",typeaheadInputHint:"C_Z1TsNbA A_6EqO c1AVi73_6FsP W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T"},"themeMode-DARK":{colorized:"C_ZkbNhI",skyIcon:"eh_Z2nF63r",editLink:"C_ZtwOFC",tempNotation:"C_ZtwOFC",typeaheadInput:"C_ZkbNhI"}},_key:"ZLorXw"}},96760:e=>{"use strict";e.exports={className:{default:{step:"r_P e_e5X t_C D_X W_6Fd5 H_6Fd5 A_6DUj i_6Fd5 M_3gIMd C4_ZkbNhI q4_Z287E9E"},active:{step:"C_ZkbNhI q_Z287E9E"}},_key:"ZJ5bak"}},50184:e=>{"use strict";e.exports={className:{default:{wizardContainer:"D_F em_N ek_BB",stepsContainer:"D_F C_Z1TsNbA U_6UbO",steps:"M_0 P_0 D_F Q_eo6",viewActions:"D_F ab_C gl_CI H_6TFj M_1NXh2I",btnPrimary:"r_P q_T D_X H_6TFj",btnLink:"b_n r_P t_C D_X q_T A_6EqO c1AVi73_6FsP C_Z29WjXl H_6TFj i_6TFj P_1EudUu Q_fq7 C4_Z29WjXl I4_Z1gjdjJ"}},_key:"Z2dOC1Q"}},33861:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(50184),l=s.n(i),c=s(96760),d=s.n(c);const _=function({step:e,active:t,onClick:s}){const n=o()(d(),{active:t});return a.createElement("li",{className:n.step,onClick:s},e)};var E=s(67498),u=s(28182),m=s(78137),S=s(10728);function p(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const C={height:7.5*S.mg$+"px",padding:`0 ${5*S.mg$}px`},A=o()(l());class T extends a.Component{constructor(...e){super(...e),p(this,"state",{currentStep:this.props.startStep}),p(this,"getMaxStep",(()=>a.Children.count(this.props.children))),p(this,"handleSetStep",(e=>{const t=this.getMaxStep();e>-1&&e<t&&this.setState({currentStep:e})})),p(this,"_isCurrentStepValid",(()=>{const{step:e}=this.refs;return!e||"function"!=typeof e.isStepValid||e.isStepValid()})),p(this,"_beginNavigateToIndex",(e=>{const{currentStep:t}=this.state;(e<t||this._isCurrentStepValid())&&this.handleSetStep(e)})),p(this,"handleGotoNext",(()=>{this._beginNavigateToIndex(this.state.currentStep+1)})),p(this,"handleGoToPrevious",(()=>{this._beginNavigateToIndex(this.state.currentStep-1)})),p(this,"handleGoToFirstStep",(()=>{this._beginNavigateToIndex(this.props.startStep)})),p(this,"renderStep",(e=>{const{showNavigation:t,onCancel:s}=this.props,n=!!(e.type&&e.type.prototype&&e.type.prototype.render);return t?a.cloneElement(e,n?{ref:"step"}:{}):a.cloneElement(e,{...n?{ref:"step"}:{},onPrevious:this.handleGoToPrevious,onNext:this.handleGotoNext,onCancel:s,onGoToFirstStep:this.handleGoToFirstStep})})),p(this,"renderNavButtons",(()=>{const{onCancel:e}=this.props,t=this.getMaxStep(),{currentStep:s}=this.state;return s!==t-1?a.createElement("div",{className:A.viewActions},a.createElement("span",{className:A.btnPrimary},a.createElement(E.Z,{style:C,"data-test-id":"next",kind:u.F.SECONDARY,onClick:this.handleGotoNext},a.createElement(n.FormattedMessage,{id:"wizard_next_btn_text",defaultMessage:"Next"}))),a.createElement("span",null,a.createElement(E.Z,{className:A.btnLink,"data-test-id":"cancel",kind:u.F.ICON,onClick:e},a.createElement(n.FormattedMessage,{id:"wizard_cancel_btn_text",defaultMessage:"Cancel"})))):null}))}render(){const e=this.getMaxStep(),{currentStep:t}=this.state,{children:s,showNavigation:r,showSteps:o}=this.props;return a.createElement("div",{className:A.wizardContainer},o?a.createElement("div",{className:A.stepsContainer},a.createElement(n.FormattedMessage,{id:"step_label_text",defaultMessage:"Step"}),a.createElement("ol",{className:A.steps},(0,m.w6)(e).map((e=>a.createElement(_,{key:e,step:e+1,active:e===t,onClick:this._beginNavigateToIndex.bind(this,e)}))))):null,a.createElement("article",null,this.renderStep(s[t])),r?this.renderNavButtons():null)}}p(T,"defaultProps",{startStep:0,onCancel:function(){},showSteps:!1,showNavigation:!1});const I=T},19341:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>D,tQ:()=>I,u8:()=>g,yF:()=>h});var a=s(45697),n=s.n(a),r=s(76223),o=s.n(r),i=s(67294),l=s(10728),c=(s(95406),s(37422)),d=s(40561),_=s(18685),E=s(85927),u=s(43007),m=s(76531),S=s(79565),p=s.n(S);function C(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const A=80,T=50,I="https://s.yimg.com/dh/ap/social/profile/profile_a64.png",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAACGElEQVRYw83WWXPaMBSG4fz/XyUdSba8yLKN3WwlNyFt4ialKc3SFKwCLZhYR8QeJzO81995xgzLcEQGdkRGnwY0WgLlyYDKgwCK4wEV7wEMfhc+ECh0kqTFm0BeOoqJryJBuB/qwrXJ9wAZnZplL98vTwREhRvICjQljs22b5Ljs8wFjIR/+tQApj6HrBcgdW1ed86dwMguJY+tezOHBBm6gCA3VkXgANLcjlc28EUgwxQHNJnbwCPJOgPKN0hU44DOrOIQA0DZS+0AAhRIcCBJrSKJP4G9THAg9jAAWzoAgb2EmkkcULqdIi/YE9wTjUwxIGLYvflDko6AIjUGPDieIE6s6E8MqLi9jHFAXGBA4eFApKwCuHq2XsAlRZYRDigfTttAxgLVHVAhtL6PT/huBYQxFr96DXzm6Cx0Ar5s/aAFbiBCo3e7wIThqz2AUDv3C+G7gSBEC+BrA4xZ6Fg5AekB/bG5vybgyT6A5EDV+ObXBpjdjBUFLnFABq0Eo+Xtov1BWtyWlIn2VlqAFOBN5ujX2cwnHgi5F5CchlVtnNVVSLlsAb7c5DOip+aNpnr5l6M52QUETWemQ7N8+RQ7gOf/i0FlOnbH2f8jrwE4fzCd+x2wNuCRe9OjZxBbQHirmDa9Ktn6TDTAWT/grAG4WAV9AVif8YMAGF8FQvVKwPqMbQEGPWMNMKiDAGBQ7wHQQR0EMLC/CsyEDBnhc8AAAAAASUVORK5CYII=",g={C:{imageSize:l.ACI,requestSize:T},XXS:{imageSize:l.zBt,requestSize:T},XS:{imageSize:l.yVS,requestSize:T},S:{imageSize:l.gOp,requestSize:T},M:{imageSize:l.ODI,requestSize:A},MEDIUM_PLUS:{imageSize:l.fej,requestSize:A},L:{imageSize:l.n4M,requestSize:180},UNIFY_DESIGN_S:{imageSize:l.bFX,requestSize:T},UNIFY_DESIGN_M:{imageSize:l.ODI,requestSize:A},UNIFY_DESIGN_L:{imageSize:l.TSB,requestSize:A},UNIFY_DESIGN_SECOND_AD_L:{imageSize:l.qcv,requestSize:A},UNIFY_DESIGN_COMPACT_SECOND_AD:{imageSize:l.qHZ,requestSize:A},UNIFY_DESIGN_XL:{imageSize:l.Fg,requestSize:180},NOBLE_S:{imageSize:l.bFX,requestSize:T},NOBLE_L:{imageSize:l.fej,requestSize:T},NOBLE_XL:{imageSize:l.qxO,requestSize:T},NOBLE_TOI_EXPAND:{imageSize:l.n$M,requestSize:T}};class O extends i.Component{constructor(e){super(e),C(this,"state",{badgeLoaded:!1,imageLoaded:!1,srcUrl:""}),C(this,"psuedoImage",null),C(this,"mounted",!1),C(this,"loadXHRImage",(()=>{const{contact:e}=this.props,t=new XMLHttpRequest,s=(0,d.h)(e,1,this.context.appId);t.open("GET",s,!0),t.withCredentials=!0,t.onloadend=()=>{if(t.status>=400)return;const e="linkedin"===t.getResponseHeader("x-image-source");this.setLinkedInBadgeStatus(e)},t.send()})),C(this,"loadPseudoImage",(()=>{this.psuedoImage||(this.psuedoImage=new Image,this.psuedoImage.onerror=this.onError,this.psuedoImage.onload=this.onLoad),this.psuedoImage.src=this.state.srcUrl})),C(this,"createImageLoader",(()=>{const{showLinkedInBadge:e}=this.props;this.loadPseudoImage(),e&&this.loadXHRImage()})),C(this,"setLinkedInBadgeStatus",((e=!1)=>{this.mounted&&this.state.badgeLoaded!==e&&this.setState({badgeLoaded:e})})),C(this,"onLoad",(()=>{this.mounted&&!this.state.imageLoaded&&this.setState({imageLoaded:!0})})),C(this,"onError",(()=>{this.mounted&&this.state.imageLoaded&&this.setState({imageLoaded:!1})})),this.imageRef=i.createRef()}static getDerivedStateFromProps(e,t){return e.useFallbackImage||e.srcUrl===t.srcUrl?null:{imageLoaded:!1,srcUrl:e.srcUrl}}componentDidUpdate(e){this.props.useFallbackImage||this.props.srcUrl===e.srcUrl||this.createImageLoader()}componentDidMount(){this.mounted=!0,this.props.useFallbackImage||this.createImageLoader()}componentWillUnmount(){this.mounted=!1}render(){const{imageLoaded:e,badgeLoaded:t,srcUrl:s}=this.state,{size:{imageSize:a},useFallbackImage:n,showLinkedInBadge:r,isDarkMode:c,customFallbackImageData:d,style:_}=this.props,E=r&&e&&t,S=o()(p(),{darkMode:c,iconSizeBig:a>l.fej}),C=i.createElement("img",{style:_,className:S.avatarImg,ref:this.imageRef,width:a,height:a,src:e&&!n?s:d,alt:""});if(!E)return C;const A=a>l.fej?m.Sizes.XS:m.Sizes.XXXS;return i.createElement("div",{className:S.container},C,i.createElement("span",{className:S.icon},i.createElement(u.Z,{size:A,kind:m.Kinds.LINKEDIN,colorState:c?m.ColorStates.WHITE:m.ColorStates.LINKEDIN_ENABLED})))}}C(O,"contextTypes",{appId:n().string}),C(O,"defaultProps",{size:g.M,useFallbackImage:!1,customFallbackImageData:h,contact:{},fallbackUrl:I,srcUrl:"",isDarkMode:!1,imageSrc:"",showLinkedInBadge:!1});const D=(0,_.connect)(((e,{contact:t={},size:s=g.M,fallbackUrl:a=I,useFallbackImage:n,imageSrc:r=""})=>{if(n)return{};let o;const{getContactListSelectors:i,getMailboxesSelectors:_,getEnvironmentSelectors:u}=(0,E.selectors)(e),{getSocialAccountsStatus:m}=_(),S=((m()||{})[c.kGi.LinkedIn]||{}).status,p=(S===c.UcZ.CONNECTED||S===c.UcZ.EXPIRED)&&s.imageSize>=l.ODI;if(r)return{showLinkedInBadge:p,srcUrl:r};const C=i();t.id?o=C.getContactById(t.id):t.email&&(o=C.getContactByEmail(t.email)),o=o||{},o.id&&(t.id=t.id||o.id),o.photoTimestamp&&(t.photoTimestamp=o.photoTimestamp);const A=u().getAppId()||null;return{showLinkedInBadge:p,srcUrl:(0,d.z)(t,s.requestSize,a,A)}}))(O)},72484:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>C,ix:()=>S});var a=s(67294),n=(s(45697),s(99095)),r=s(91696),o=s.n(r),i=s(43007),l=s(76531),c=s(7426),d=s(83034),_=s(94070),E=(s(95406),s(61395)),u=s.n(E);const m=(0,n.defineMessages)({yPlusLabel:{id:"yPlusBadge_aria_label",defaultMessage:"Upgrade to {yahooMailPlusBrandName} for access to premium features"}}),S={PLAIN_TEXT:{kind:l.Kinds.YAHOO_PLUS_BADGE,colorState:l.ColorStates.YBANG,size:l.Sizes.S},INVERTED_ROUNDED:{kind:l.Kinds.YAHOO_PLUS_BADGE_ALT,colorState:l.ColorStates.INVERTED,size:l.Sizes.XS},PURPLE_ROUNDED:{kind:l.Kinds.YAHOO_PLUS_BADGE_ALT,colorState:l.ColorStates.YBANG,size:l.Sizes.XS},GRADIENT_ROUNDED:{kind:l.Kinds.YAHOO_PLUS_BADGE_ALT,colorState:l.ColorStates.PURPLE_GRADIENT,size:l.Sizes.XS}},p=e=>{const t=(0,d.Z)(o()),{formatMessage:s}=(0,c.Y)(),{yahooMailPlusBrandName:n}=(0,_.B)(),r=e.yPlusBadgeKinds,l=u()(t.yahooPlusBadge,e.className);return a.createElement("span",{className:l,role:"img",title:s(m.yPlusLabel,{yahooMailPlusBrandName:n})},a.createElement(i.Z,{kind:r.kind,colorState:r.colorState,size:r.size,"aria-hidden":"true"}))};p.defaultProps={yPlusBadgeKinds:S.GRADIENT_ROUNDED};const C=p},6732:(e,t,s)=>{if(!window.ymailAssetHost)throw new Error("window.ymailAssetHost must be set before running this application.");s.p=window.ymailAssetHost},45953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var a=s(96943),n=s(55636),r=s(95406),o=s(50566),i=s(37422),l=s(85927),c=s(30155);let d,_=0;const E="generic_error",u=(0,r.gP)(["INTERNAL","EXTERNAL"]),m=(0,r.gP)(["ERROR_IS_NULL","PLUGIN","ACCESS_DENIED","REMOTE_SERVER","MAIL_APP_CORS","MAIL_APP_VENDOR_CORS","MAIL_APP_LAZY_GROUP1_CORS","PERMISSION_DENIED","REDUX_DISPATCH","RENDER_APP","RESIZE_OBSERVER","RUM","YAFT_CORS","IDB","OATH_PLAYER","RE_CAPTCHA","DEAD_OBJECT","UNDEFINED_STYLE"]),S={},p=(0,r.u9)(window,"AppBootstrapData.browserName","").toLowerCase(),C=parseInt((0,r.u9)(window,"AppBootstrapData.browserVersion",100),10);function A(e){return-1===e.indexOf("yahoo.com")&&-1===e.indexOf("aol.com")&&-1===e.indexOf("oath.com")&&-1===e.indexOf("Oath")&&-1===e.indexOf("yimg.com")&&-1===e.indexOf("CMP 2")&&-1===e.indexOf("window.ymailManifest")&&-1===e.indexOf("_mod_ybar")&&-1===e.indexOf("root.AppBootstrapData")&&-1===e.indexOf("window.babelHelpers")&&0!==e.indexOf("{}")}function T(e,t,s,a,r="",o=null){const i=o?o.message:"",l=o?o.name:"",c=(0,n.N2)(e);return 0===c.indexOf("Access is denied")?m.ACCESS_DENIED:0===i.indexOf("The remote server machine does not exist")?m.REMOTE_SERVER:"Permission denied"===i?m.PERMISSION_DENIED:"REDUX_DISPATCH"===l?m.REDUX_DISPATCH:"ReferenceError"===l&&"grecaptcha is not defined"===i?m.RE_CAPTCHA:"TypeError"===l&&"can't access dead object"===i?m.DEAD_OBJECT:"TypeError"===l&&"TypeError:Cannot read properties of undefined (reading 'style')"===i&&"chrome webview"===p?m.UNDEFINED_STYLE:0===c.indexOf("Rendering App error")?m.RENDER_APP:0===c.indexOf("ResizeObserver")?m.RESIZE_OBSERVER:0===c.indexOf("RUM error")?m.RUM:0===c.indexOf("Script error.")&&-1!==t.indexOf("yep.video.yahoo.com/oath/js/")&&-1!==t.indexOf("oath-player.js")?m.OATH_PLAYER:(0===c.indexOf("InvalidStateError")||0===c.indexOf("UnknownError")&&"firefox"===p&&C<56)&&-1!==t.indexOf("s.yimg.com/nq/nr/js/mail_app_vendor")?m.IDB:-1!==t.indexOf(".kaspersky-labs.com")||-1!==c.indexOf("KasperskyLab is not defined")||-1!==r.indexOf("hostingcloud.science")||-1!==r.indexOf("zennolab://chromium")||-1!==c.indexOf('Cannot set property "install" of undefined')||-1!==c.indexOf("chrome is not defined")?m.PLUGIN:!i||-1===i.indexOf("SyntaxError:Document.querySelectorAll: 'div:has(> iframe[id='")&&-1===i.indexOf("Failed to execute 'querySelectorAll' on 'Document': 'div:has(> iframe[id='")?"null is not an object (evaluating 'x.length')"===i&&184===a||"$ is not defined"===i||"Cannot redefine property: googletag"===i||"s2s is not defined"===i?m.PLUGIN:o?l||"":m.ERROR_IS_NULL:m.PLUGIN}function I(e="",t="",s="",r="",p){const{logData:C,stackString:I}=function(e){const t=(0,n.N2)(e.message),{filename:s,lineno:a,colno:r,error:o}=e,i=`${t} ${s}:${a}:${r}`,l=o?(0,n.N2)(o.message):"",E=o?`${o.name}:${l}`:"",u=new c.H(o).toString(),m=o&&o.data||{},S={startTime:Date.now(),error:i,errorMessage:E,stack:u,message:t,data:m};return d!==i&&(_=0),_++,d=i,_%1e3==0&&(S.jseOverLimit=_),_<=1e3?{logData:S,stackString:u}:{logData:null,stackString:null}}({message:e,filename:t,lineno:s,colno:r,error:p});if(C&&(C.type=T(e,t,0,r,I,p),C.source=function(e,t="",s=""){return t===m.PLUGIN||t===m.RESIZE_OBSERVER||t===m.IDB||t===m.OATH_PLAYER||t===m.RE_CAPTCHA||t===m.DEAD_OBJECT||t===m.UNDEFINED_STYLE||-1===e.indexOf(".yahoo.com")&&-1===e.indexOf(".aol.com")&&-1===e.indexOf(".yimg.com")||-1!==s.indexOf("consent.cmp.oath.com")?u.EXTERNAL:u.INTERNAL}(t,C.type,I),C.isFirstJSE=!S[C.type],C.externalScripts=function(){try{let e=null;const t=[],s=document.getElementsByTagName("script");for(let a=0;a<s.length;a++)e=s[a],e.src&&A(e.src)?t.push(e.src):e.innerHTML&&A(e.innerHTML)&&t.push(e.innerHTML.substring(0,200));return t.join("|")}catch(e){return"error"}}(),S[C.type]=!0,a.Z.error(E,C),C.source===u.INTERNAL&&C.type!==m.REDUX_DISPATCH&&C.type!==m.RUM)){!function(e){try{const t=window.context.getActionContext(),{getFeaturesSelectors:s}=(0,l.selectors)(window.context.store.getState());s().isEnabled(i.ANe.EXCEPTION_NOTIFICATION)&&t.dispatch(o.EXCEPTION_OCCURRED,{splunkUrl:e})}catch(t){}}(function(e){const t=[];for(const s in e)t.push(`${s}="'${e[s]}'"`);return i.I$x+"?q=search"+encodeURIComponent(" index=idx_norrin sourcetype=yapache_error "+t.join(" "))}({platform:"browser",message:E,data_errorMessage:C.errorMessage}))}}},63860:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(67294);function n(e){const t=(0,a.useRef)();return t.current||(t.current={value:e()}),t.current.value}},31950:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(85927),n=s(81732);function r(e){return(0,n.v9)((t=>(0,a.selectors)(t).isFeatureEnabled(e)))}},7426:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r});var a=s(67294),n=s(85974);const r=()=>{const e=(0,a.useContext)(n.Z);if(null===e)throw new Error("useIntl hook should be nested inside IntlContext.Provider");return e}},85974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(67294).createContext)(null)},34656:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(67294),n=s(99095),r=s(85974);const o=e=>(0,n.injectIntl)((({intl:t,...s})=>a.createElement(r.Z.Provider,{value:t},a.createElement(e,s))))},94070:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var a=s(67294),n=s(97860);const r=()=>(0,a.useContext)(n.Z)},39477:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var a=s(42441),n=s.n(a),r=s(67294);function o(e,t,s){(0,r.useEffect)((()=>((s?n()(s):n()).bind(e,t),()=>{n().unbind(e)})),[e,t,s])}},28978:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(67294);const n=e=>{const t=(0,a.useRef)();return(0,a.useEffect)((()=>{t.current=e}),[e]),t.current}},91745:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(85927),n=s(81732);function r(e){return(0,n.v9)((t=>(0,a.selectors)(t).getSetting(e)))}},81732:(e,t,s)=>{"use strict";s.d(t,{I0:()=>c,v9:()=>_});var a=s(67294),n=s(87873);const r=()=>(0,a.useContext)(n.E);var o=s(52798),i=s(24893),l=s(88913);const c=()=>{const{store:e}=r();return(0,a.useCallback)((t=>e.dispatch(t)),[e])},d=(e,t)=>e===t,_=(e,t=d)=>{if((0,l.Eo)()){if((0,i.c)(e,"You must pass a selector to useSelector"),"function"!=typeof e)throw new Error("You must pass a function as a selector to useSelector");if("function"!=typeof t)throw new Error("You must pass a function as an equality function to useSelector")}const{store:s,subscription:n,getServerState:c}=r(),_=(0,o.useSyncExternalStoreWithSelector)(n.addNestedSub,s.getState,c||s.getState,e,t);return(0,a.useDebugValue)(_),_}},83034:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(76223),n=s.n(a),r=s(67294),o=s(29911);const i=(e,t)=>{const s=(0,r.useContext)(o.Z);return n()(e,{...s,themeCombo:`${s.themeMode}_${s.theme}`,...t})}},29911:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(67294),n=s(37422);const r=(0,a.createContext)({theme:n.b39.DEFAULT,themeMode:n.zgU.LIGHT})},63752:(e,t,s)=>{"use strict";s.d(t,{vj:()=>H,nL:()=>V});var a=s(35271),n=s(44908),r=s.n(n),o=s(18446),i=s.n(o),l=s(67294),c=s(37422),d=s(81666),_=s(92559),E=s(50566),u=s(35098),m=s(95142),S=s(99839);var p=s(63860),C=s(31950),A=s(94070),T=s(91745),I=s(81732),h=s(29122),g=s(62494),O=s(95861),D=s(38320),R=s(72243),N=s(24893),L=s(21705);const f=e=>e.subscriptionId,M=(0,h.C)({id:"tap",initial:"startup",tsTypes:{},schema:{context:{},events:{},services:{}},states:{startup:{exit:["assertInitialContext"],initial:"boot",states:{disabled:{type:"final",description:"This machine is permanently stopped and will not respond to further events. The useTAP hook enabled property will continue to be false. Alternative notification systems may be used instead of TAP."},boot:{always:[{cond:"webPushNotAvailable",target:"#tap.startup.disabled",description:"This device can never use Web Push."},{cond:"tapHookEnabled",target:"#tap.startup.continue",description:"The tapHook feature flag is enabled."},{target:"#tap.startup.checkForStoredRegistration",description:"The tapHook feature flag is disabled."}],description:"Machine started."},checkForStoredRegistration:{invoke:{src:"checkForStoredRegistration",onDone:{target:"#tap.startup.continue",description:"Stored registration ID is present. This device previously subscribed to TAP. We should continue to maintain this subscription."},onError:{target:"#tap.startup.disabled",description:"Stored registration ID is not present and the tapHook feature flag is disabled."}},description:"Check IndexedDB for a stored TAP registration ID."},continue:{entry:["setMachineEnabled"],always:[{cond:"notificationSettingDisabled",target:"#tap.unsubscribing",description:"Mailbox attribute for notifications is disabled. We should unsubscribe from push notifications now."},{cond:"permissionGranted",actions:"setReasonPermissionGranted",target:"#tap.reading",description:"Mark permission as already granted."},{target:"#tap.reading",description:"Continue without marking permission as already granted."}],description:"Set the machine enabled flag and continue. This flag is used by useTAP consumers to check if this machine is activated."}},description:"Determine if the machine should continue to run when first started. When exiting this state, assert all context is present and correct."},reading:{invoke:{src:"getCurrentNotifyTags",onDone:[{actions:["assignNotifyTags","assignDefaultNotifyTagsForMissingAccounts"],target:"#tap.ready",description:"Assign the parsed NotifyTags into context and enhance the known account context with the current notification settings."}],onError:[{actions:["assignDefaultNotifyTags"],target:"#tap.ready",description:"Attributes not found in storage. Assign the default Notify Tags which will notify for all new email for all accounts."}]},description:"Read attributes from IndexedDB and parse them into NotifyTags."},ready:{entry:["enhanceAccountsWithNotifications"],always:[{cond:"permissionAlreadyGranted",target:"#tap.subscribing",description:"Browser notification permission is already granted. We do not need to prompt for permission."},{target:"unsubscribed",description:"We need to ask permission before we can show notifications."}],description:"Context read complete. If we already have permission to subscribe, do it. Otherwise we will wait for explicit user action."},subscribed:{description:"This device is subscribed to push notifications.",on:{SUBSCRIBE:{actions:["setReasonExplicitUserAction","setEventAccountsWithNotifications"],target:"#tap.subscribing",description:"The user has changed notification settings. This event is fired by the useTAP hook. The event payload contains accounts with notifications. Run an action to assign these accounts to the context."},UNSUBSCRIBE:{actions:"setReasonExplicitUserAction",target:"#tap.unsubscribing",description:"Notification mailbox attribute is disabled by an explicit user action. Event is fired from TAPUpdater based on a Redux state update."}}},subscribing:{entry:["assignTags"],exit:["resetReason"],invoke:{src:"ensureSubscribedToTAP",onDone:[{target:"#tap.subscribed",description:"Subscribing to TAP was successful."}],onError:[{cond:"permissionDenied",target:"#tap.unsubscribing",description:"We cannot subscribe because browser permissions are explicitly denied. We must disassociate from TAP to prevent sending notifications to a device which cannot show them."},{target:"#tap.unsubscribed",description:"Subscription to TAP failed for some other reason."}]},description:"Prepare attributes for TAP which correspond to the current notification settings in the context. Invoke a separate machine to subscribe to the browser push service and associate with TAP with the prepared attributes. Prompts the user for notification permission unless already granted."},unsubscribed:{on:{SUBSCRIBE:{actions:["setReasonExplicitUserAction","setEventAccountsWithNotifications"],target:"#tap.subscribing",description:"The user has changed notification settings. This event is fired by the useTAP hook. The event payload contains accounts with notifications. Run an action to assign these accounts to the context."},ENABLE:{actions:"setReasonExplicitUserAction",target:"subscribing",description:"Notification mailbox attribute is enabled by an explicit user action. Event is fired from TAPUpdater based on a Redux state update."}},description:"This device is unsubscribed from push notifications."},unsubscribing:{invoke:{src:"unsubscribe",onDone:[{target:"#tap.unsubscribed",description:"Unsubscribe process complete."}],onError:[{target:"#tap.errored",description:"Unsubscribe process failed."}]},description:"Unsubscribe from the browser push system. Disassociate our current registration with TAP."},errored:{on:{ENABLE:{actions:"setReasonExplicitUserAction",target:"subscribing",description:"Notification mailbox attribute is enabled by an explicit user action. Event is fired from TAPUpdater based on a Redux state update."},SUBSCRIBE:{actions:["setReasonExplicitUserAction","setEventAccountsWithNotifications"],target:"#tap.subscribing",description:"The user has changed notification settings. This event is fired by the useTAP hook. The event payload contains accounts with notifications. Run an action to assign these accounts to the context."},UNSUBSCRIBE:{actions:"setReasonExplicitUserAction",target:"#tap.unsubscribing",description:"Notification mailbox attribute is disabled by an explicit user action. Event is fired from TAPUpdater based on a Redux state update."}}}},on:{ACCOUNTS_UPDATED:{actions:["assignAccounts"],target:"#tap.startup",description:"Mailboxes were added or removed. Redux accounts state updated from TAPUpdater."}}},{actions:{assertInitialContext:e=>{(0,N.c)(e.accounts,"accounts are required in initial context"),(0,N.c)(e.registrationValidityPeriod,"registrationValidityPeriod is required in initial context"),(0,N.c)(e.associationValidityPeriod,"associationValidityPeriod is required in initial context"),(0,N.c)(e.guidHash,"guidHash is required in initial context"),(0,N.c)(e.appId,"appId is required in initial context"),(0,N.c)(e.userNamespace,"userNamespace is required in initial context"),(0,N.c)(e.disablePushNotifications,"disablePushNotifications is required in initial context"),(0,N.c)(e.onGrantedPermissions,"onGrantedPermissions is required in initial context")},assignNotifyTags:(0,g.f0)({notifyTags:(e,t)=>t.data}),assignDefaultNotifyTagsForMissingAccounts:(0,g.f0)({notifyTags:({notifyTags:e,accounts:t})=>{const s=e.map(f),a=t.map(f),n=a.filter((e=>-1===s.indexOf(e))),r=s.filter((e=>-1===a.indexOf(e)));return e.concat(n.map((e=>({subscriptionId:e,decos:[u.y1.FTI]})))).filter((({subscriptionId:e})=>-1===r.indexOf(e))).filter((({decos:e})=>e.length>0))}}),assignDefaultNotifyTags:(0,g.f0)({notifyTags:({accounts:e})=>e.map((({subscriptionId:e})=>({subscriptionId:e,decos:[u.y1.FTI]})))}),enhanceAccountsWithNotifications:(0,g.f0)({accountsWithNotifications:({accounts:e,notifyTags:t})=>e.map((e=>({...e,desiredNotifications:t.filter((t=>e.subscriptionId===t.subscriptionId)).map((({decos:e})=>({kind:L.oG.NEW_MAIL_NOTIFY_DECO,decos:e})))})))}),assignTags:(0,g.f0)({tags:({accountsWithNotifications:e})=>e.flatMap((e=>e.desiredNotifications.filter(L.wt).map((e=>e.decos)).map((t=>({subscriptionId:e.subscriptionId,decos:t}))))).map(u.j3)}),setEventAccountsWithNotifications:(0,g.f0)({accountsWithNotifications:(e,t)=>t.accountsWithNotifications}),assignAccounts:(0,g.f0)({accounts:(e,t)=>t.accounts}),setMachineEnabled:(0,g.f0)({machineEnabled:e=>!0}),setReasonExplicitUserAction:(0,g.f0)({reason:e=>L.Vq.EXPLICIT_USER_ACTION}),setReasonPermissionGranted:(0,g.f0)({reason:e=>L.Vq.PERMISSION_ALREADY_GRANTED}),resetReason:(0,g.f0)({reason:e=>L.Vq.NONE})},services:{getCurrentNotifyTags:u.F3,checkForStoredRegistration:async()=>{const e=await(0,R.b)(),t=e.transaction(["tap_registration"],"readonly"),s=t.objectStore("tap_registration"),a=await s.get("registrationId");if(await t.done,e.close(),!a)throw new Error("No existing registrationId.")},ensureSubscribedToTAP:({tags:e,reason:t,disablePushNotifications:s,onGrantedPermissions:a,registrationValidityPeriod:n,associationValidityPeriod:r,guidHash:o,appId:i})=>(0,O.Z)({service:"tap",attributes:{tags:e},isPreviousActionNotificationsEnabled:t===L.Vq.EXPLICIT_USER_ACTION,disablePushNotifications:s,onGrantedPermissions:a,registrationValidityPeriod:n,associationValidityPeriod:r,guidHash:o,appId:i}),unsubscribe:({guidHash:e,appId:t,userNamespace:s})=>(0,D.r1)({guidHash:e,appId:t,userNamespace:s}).catch((e=>S.Z.error("user_disabled_notifications",{error:e})))},guards:{tapHookEnabled:({tapHookEnabled:e})=>e,webPushNotAvailable:({webPushCapable:e})=>!e,notificationSettingDisabled:({notificationsSettingEnabled:e})=>!e,permissionDenied:()=>(0,D.MR)()===D.Jj.DENIED,permissionGranted:()=>(0,D.MR)()===D.Jj.GRANTED,permissionAlreadyGranted:({reason:e})=>e===L.Vq.PERMISSION_ALREADY_GRANTED}});var P=s(95406),b=s(85927);const y=(v="tap_use_accounts",F=!1,e=>{F||(S.Z.error(v,e),F=!0)});var v,F;function U(){return(0,I.v9)((e=>(0,b.selectors)(e).getAccountSelectors().getAllAccounts().map((e=>{(0,N.c)(e,"panic: getAllAccounts returned an undefined account");const{id:t,email:s,subscriptionId:a}=e;return"string"!=typeof t||"string"!=typeof s||"string"!=typeof a?(y(new TypeError("getAllAccounts has non-string value for id, email, or subscriptionId")),null):{id:t,email:s,subscriptionId:a}})).filter((e=>null!==e))),P.PJ)}const k=(0,a.j)(M,{devTools:!0}),w=()=>(function(e,t){const[s]=(0,m.L)(e),[a,n]=(0,l.useState)([]),{featureName:r,successEvents:o,failureEvents:i,contextLogger:c}=t;(0,l.useEffect)((()=>{n((e=>e.concat(s.toStrings().join("/"))))}),[s]),(0,l.useEffect)((()=>{const e=a[a.length-1],t=-1!==o.indexOf(e),l=-1!==i.indexOf(e);if(!t&&!l)return;const d=c?c(s.context):{},_=S.Z.feature(r,{...d,flow:a.join(",")});t?_.logSuccess():l&&_.logFailure(s.event.data),n([])}),[s,a,o,i,r,c])}(k.useActorRef(),{featureName:"tap_machine_complete",successEvents:["subscribed","unsubscribed","startup/startup.disabled"],failureEvents:["errored"],contextLogger:e=>{const t=e.tags.map(u.Pq).filter((e=>!!e));return{accounts:String(r()(t.map((({subscriptionId:e})=>e))).length),decos:r()(t.reduce(((e,t)=>e.concat(t.decos)),[])).sort().join(",")}}}),null),G=()=>{const e=U(),t=(0,T.Z)(c.Zrf.NOTIFICATION),[s,a]=k.useActor(),{accounts:n,notifyTags:r,accountsWithNotifications:o}=s.context;return(0,l.useEffect)((()=>{0===r.length&&t?a({type:"SUBSCRIBE",accountsWithNotifications:o.map((e=>({...e,desiredNotifications:[{kind:1,decos:[u.y1.FTI]}]})))}):a({type:t?"ENABLE":"UNSUBSCRIBE"})}),[t,a]),(0,l.useEffect)((()=>{i()(e,n)||a({type:"ACCOUNTS_UPDATED",accounts:e})}),[e,n,a]),null},H=({children:e})=>{const t=U(),s=(0,T.Z)(c.Zrf.NOTIFICATION),a=(0,T.Z)(c.Zrf.PUSH_SUBSCRIPTION_VALIDITY),n=(0,T.Z)(c.Zrf.ASSOCIATION_SUBSCRIPTION_VALIDITY),{guidHash:r,appId:o,userNamespace:i}=(0,A.B)(),u=(0,I.I0)(),m=(0,C.Z)(c.ANe.TAP_HOOK),S=(0,C.Z)(c.ANe.PUSH_NOTIFICATIONS),h=(0,T.Z)(c.Zrf.SERVICE_WORKER_URL),g=(0,C.Z)(c.ANe.LEGACY_PUSH_NOTIFICATION_CONTROLLER_VIEW),O=(0,d.Z)()&&S&&h&&!g,D=(0,p.Z)((()=>M.withContext({machineEnabled:!1,tapHookEnabled:m,webPushCapable:O,notificationsSettingEnabled:s,notifyTags:[],accountsWithNotifications:t.map((({id:e,email:t,subscriptionId:s})=>({id:e,email:t,subscriptionId:s,desiredNotifications:[]}))),tags:[],reason:L.Vq.NONE,accounts:t,registrationValidityPeriod:a,associationValidityPeriod:n,guidHash:r,appId:o,userNamespace:i,disablePushNotifications:e=>u({type:E.FEATURE_DISABLED,name:c.ANe.PUSH_NOTIFICATIONS,...e}),onGrantedPermissions:()=>u({type:E.PUSH_NOTIFICATIONS_REQUEST_GRANTED,i13nModel:{mKey:_.JE.PUSH_NOTIFICATIONS_REQUEST_GRANTED,sec:_.nJ.NOTIFICATION_ACTION}})})));return l.createElement(k.Provider,{machine:D},l.createElement(w,null),O&&l.createElement(G,null),e)},B=e=>e.context.accountsWithNotifications,x=e=>e.context.machineEnabled;function V(){const e=k.useActor()[1],t=k.useSelector(x);(0,l.useDebugValue)(t);const s=k.useSelector(B),a=(0,l.useCallback)((e=>{const t=s.find((t=>t.id===e.id));return t?t.desiredNotifications.filter(L.wt):[]}),[s]),n=(0,l.useCallback)((t=>{e({type:"SUBSCRIBE",accountsWithNotifications:s.filter((e=>e.id!==t.id)).concat(t)})}),[e,s]),r=(0,l.useCallback)((t=>{e({type:"SUBSCRIBE",accountsWithNotifications:s.map((e=>({...e,desiredNotifications:t})))})}),[e,s]);return{enabled:t,notificationsIdenticalForAllAccounts:s.map((e=>e.desiredNotifications)).every(((e,t,s)=>i()(e,s[0]))),getStoredNotificationsForAccount:a,setDesiredNotificationsForAccount:n,setDesiredNotificationsForAllAccounts:r}}},21705:(e,t,s)=>{"use strict";let a,n;function r(e){return e.kind===a.NEW_MAIL_NOTIFY_DECO}s.d(t,{Vq:()=>n,oG:()=>a,wt:()=>r}),function(e){e[e.EVERYTHING=0]="EVERYTHING",e[e.NEW_MAIL_NOTIFY_DECO=1]="NEW_MAIL_NOTIFY_DECO",e[e.LOCAL_TODOS=2]="LOCAL_TODOS"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.PERMISSION_ALREADY_GRANTED=1]="PERMISSION_ALREADY_GRANTED",e[e.EXPLICIT_USER_ACTION=2]="EXPLICIT_USER_ACTION"}(n||(n={}))},28509:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(67294);const n=(e=!1)=>{const[t,s]=(0,a.useState)(e);return[t,(0,a.useCallback)((()=>{s((e=>!e))}),[])]}},45794:(e,t,s)=>{"use strict";s.d(t,{N:()=>d});var a=s(67294),n=s(76223),r=s.n(n),o=s(85974),i=s(97860),l=s(29911);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const d=e=>function(t){return a.createElement(o.Z.Consumer,null,(s=>a.createElement(i.Z.Consumer,null,(n=>a.createElement(l.Z.Consumer,null,(o=>a.createElement(e,c({appContext:{intl:s,mail:n,getThemeMode:()=>o.themeMode,getTheme:()=>o.theme,getStyles:(e,t)=>r()(e,{...t,themeMode:o.themeMode,theme:o.theme,themeCombo:`${o.themeMode}_${o.theme}`})}},t))))))))}},37207:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(67294),n=s(89963);function r(e){const t=document.querySelectorAll("header, #app > div");for(let s=0;s<t.length;s++)t[s].querySelector("#modal-outer")||(e?t[s].setAttribute("aria-hidden",e):t[s].removeAttribute("aria-hidden"))}class o extends a.Component{componentDidMount(){r(!0)}componentWillUnmount(){r(!1)}render(){return a.createElement(n.Z,this.props)}}const i=o},44499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthWindow:()=>u,allProviderAccounts:()=>E,default:()=>m});var a=s(67294),n=s(45697),r=s.n(n),o=s(18685),i=s(99095),l=s(37422),c=s(85927),d=s(66588);function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E=[...Object.keys(l.Nq8),...l.AJg,...Object.keys(l.P$E)];class u extends a.Component{constructor(e){super(e),_(this,"handleOAuthResponse",(({status:e})=>{window[l.UZQ]=void 0,e=parseInt(e,10);const{onConnectSuccess:t,provider:s,onConnectFail:a}=this.props,n={provider:s,status:e};200===e?t(n):a(n)})),_(this,"getWindowHeight",(()=>this.props.provider!==l.zoT.GOOGLE?700:800)),_(this,"openOAuthWindow",(()=>{const e=this.getWindowHeight(),t=screen.width/2-250,s=screen.height/2-e/2;window[l.UZQ]=this.handleOAuthResponse,window.oAuthWindow&&!window.oAuthWindow.closed?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow,this.oAuthWindow.location.replace(this.props.url)):this.oAuthWindow=window.open(this.props.url,"authorizeWindow",`width=500, height=${e}, top=${s}, left=${t}`),this.oAuthWindow&&this.oAuthWindow.focus&&this.oAuthWindow.focus()})),this.oAuthWindow=null}componentDidMount(){this.props.provider&&this.openOAuthWindow()}componentWillUnmount(){window[l.UZQ]=void 0,this.oAuthWindow&&this.oAuthWindow.close&&(this.oAuthWindow.close(),this.oAuthWindow=null)}componentDidUpdate(e){this.props.provider&&(this.oAuthWindow&&!this.oAuthWindow.closed?e.url!==this.props.url&&(this.oAuthWindow.location.replace(this.props.url),this.oAuthWindow.focus&&this.oAuthWindow.focus()):(window[l.UZQ]=void 0,this.openOAuthWindow()))}render(){return null}}_(u,"contextTypes",{intl:i.intlShape.isRequired,config:r().object});const m=(0,o.connect)((e=>{const{getSocialAccountSelectors:t}=(0,c.selectors)(e),{url:s,provider:a}=t().getAuthWindowData();return{url:s,provider:a}}),(e=>({onConnectSuccess:t=>e((0,d.be)(t)),onConnectFail:t=>e((0,d.DV)(t))})))(u)},24325:(e,t,s)=>{"use strict";s.d(t,{Z:()=>D});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(99095),l=s(76223),c=s.n(l),d=s(65321),_=s.n(d),E=s(43007),u=s(76531),m=s(32665),S=s(67498),p=s(26),C=s(9026),A=s(37422),T=s(85927);function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h=(0,i.defineMessages)({accountNameHint:{id:"confirm_account_name_hint",defaultMessage:"The name shown in emails you send."},accountName:{id:"confirm_account_name_placeholder",defaultMessage:"Your Name"},accountDescriptionHint:{id:"confirm_account_description_hint",defaultMessage:"Name this mailbox."},accountDescription:{id:"confirm_account_description_placeholder",defaultMessage:"Description"},add_confirm:{id:"account_confirm_done",defaultMessage:"Done"}}),g=()=>{};class O extends r.Component{constructor(...e){super(...e),I(this,"state",{sendingName:"",description:""}),I(this,"handleChange",((e,t)=>{this.setState({[e]:t})})),I(this,"handleConfirm",(()=>{const{account:e,onCancel:t,onSubmit:s}=this.props,{sendingName:a,description:n}=this.state;s(e.id,{sendingName:a,description:n}),t()}))}UNSAFE_componentWillReceiveProps(e){e.accountSyncFailed&&this.props.onPrevious()}componentDidMount(){this.props.isSyncing||this.props.handleAddSuccess()}componentWillUnmount(){this.props.isSyncing||this.props.onCancel()}render(){const{sendingName:e,description:t}=this.state,{isSyncing:s,themeMode:a,isWalletAddMailbox:n}=this.props,{formatMessage:o}=this.context.intl,l=c()(_(),{isSyncing:s,themeMode:n?a:C.zg.LIGHT}),{mailBrandNameString:d}=this.context;return r.createElement("div",{className:l.addConfirmWrapper},r.createElement("div",{className:l.addConfirmSection},r.createElement("h5",{className:l.titleLabel},s?r.createElement(p.Z,{size:"S"}):r.createElement(E.Z,{kind:u.Kinds.CAL_ACCEPT,size:u.Sizes.XS,colorState:u.ColorStates.SUCCESS}),r.createElement("span",{className:l.titleTextWrapper},s?r.createElement(i.FormattedMessage,{id:"add_confirm_syn_title",defaultMessage:"Setting up your new mailbox"}):r.createElement(i.FormattedMessage,{id:"add_confirm_title",defaultMessage:"Your mailbox has been added"}))),r.createElement("div",{className:l.hint},r.createElement(i.FormattedMessage,{id:"add_confirm_hint",defaultMessage:"Changes made in {mailBrandNameString} will reflect in other email clients, including mobile apps.",values:{mailBrandNameString:d}})),r.createElement("label",{className:l.label,htmlFor:"accountName"},r.createElement(i.FormattedMessage,{id:"name_text",defaultMessage:"Your Name"})),r.createElement("div",{className:l.textInput},r.createElement(m.Z,{isClearable:!0,name:"accountName",value:e,hint:o(h.accountNameHint),"aria-label":o(h.accountName),placeholder:o(h.accountName),onChange:e=>this.handleChange("sendingName",e),disabled:s,className:l.fancyTextInput})),r.createElement("label",{className:l.label,htmlFor:"description"},r.createElement(i.FormattedMessage,{id:"description_text",defaultMessage:"Description"})),r.createElement("div",{className:l.textInput},r.createElement(m.Z,{isClearable:!0,name:"accountName",value:t,hint:o(h.accountDescriptionHint),"aria-label":o(h.accountDescription),placeholder:o(h.accountDescription),onChange:e=>this.handleChange("description",e),disabled:s,className:l.fancyTextInput})),r.createElement(S.Z,{className:l.confirmButton,onClick:this.handleConfirm,title:o(h.add_confirm)},r.createElement("span",null,o(h.add_confirm)))))}}I(O,"contextTypes",{intl:i.intlShape.isRequired,mailBrandNameString:n().string}),I(O,"defaultProps",{account:null,onCancel:g,onSubmit:g,handleAddSuccess:g,isSyncing:!1});const D=(0,o.connect)((e=>{const{getSetting:t}=(0,T.selectors)(e);return{themeMode:t(A.Zrf.THEME_MODE)}}))(O)},31025:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>f});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(76223),l=s.n(i),c=s(68775),d=s.n(c),_=s(67498),E=(s(31280),s(43007)),u=s(76531),m=s(37422),S=s(62631),p=s(17016),C=s(68878),A=s(9333),T=s(18685),I=s(1558),h=s(92559),g=s(28182),O=s(85927),D=s(8205);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const N=(0,o.defineMessages)({default_email_placeholder:{id:"imapin_email_placeholder",defaultMessage:"Email Address"},yahoo_email_placeholder:{id:"imapin_yahoo_email_placeholder",defaultMessage:"name@yahoo.com"},gmail_email_placeholder:{id:"imapin_gmail_email_placeholder",defaultMessage:"name@gmail.com or your custom domain"},gmail_email_placeholder_onboarding_cue:{id:"imapin_gmail_email_placeholder_onboarding_cue",defaultMessage:"name@gmail.com"},outlook_email_placeholder:{id:"imapin_outlook_email_placeholder",defaultMessage:"name@outlook.com"},aol_email_placeholder:{id:"imapin_aol_email_placeholder",defaultMessage:"name@aol.com"},office365_email_placeholder:{id:"imapin_office365_email_placeholder",defaultMessage:"name@domain.onmicrosoft.com or custom domain"},back_button_title:{id:"imapin_back_button_title",defaultMessage:"Back"},next_button_title:{id:"imapin_next_button_title",defaultMessage:"Next"},cancel_button_title:{id:"imapin_cancel_button_title",defaultMessage:"Cancel"},invalid_email_error:{id:"imapin_invalid_email",defaultMessage:"Invalid email address"},invalid_email_domain:{id:"imapin_invalid_domain",defaultMessage:"Not a valid {providerName} address"},incorrect_provider:{id:"imapin_incorrect_provider",defaultMessage:"Your email is not supported by this provider. Please select {providerName} provider and try again."},invalid_corp_email:{id:"imapin_corp_email",defaultMessage:"Please enter a valid Corp Mail address"},clear_input_icon:{id:"imapin_email_input_clear",defaultMessage:"Clear"}});class L extends r.Component{constructor(...e){super(...e),R(this,"state",{accountExist:!1,invalidReason:null,inputText:this.props.email,showClearInputIcon:!!this.props.email}),R(this,"isStepValid",(()=>!!this.props.email)),R(this,"handleGoNext",(()=>{const{formatMessage:e}=this.context.intl,{partner:t}=this.context,{email:s,accounts:a,onNext:n,provider:r}=this.props,o="ycorp"===t;if((0,p.isValidEmail)(s))if(o&&!(0,p.isCorpMailEmail)(s))this.setState({invalidReason:e(N.invalid_corp_email)});else if(o||(0,S.hS)(m.wxL[r],s))if((0,S.Ws)(a,s.toLowerCase()))this.setState({accountExist:!0});else{const t=(0,S.tO)(s);!o&&t&&t!==r?this.setState({invalidReason:e(N.incorrect_provider,{providerName:(0,S.zJ)(t)})}):(this.props.authorizeNewAccount({email:s,provider:r}),n())}else this.setState({invalidReason:e(N.invalid_email_domain,{providerName:(0,S.zJ)(r)})});else this.setState({invalidReason:e(N.invalid_email_error)})})),R(this,"handleChange",(e=>{const{accountExist:t,invalidReason:s}=this.state,{onChange:a}=this.props;t&&this.setState({accountExist:!1}),null!==s&&this.setState({invalidReason:null}),a("email",e)})),R(this,"handleInputChange",(e=>{const t=e.length>0;this.handleChange(e),this.setState({inputText:e,showClearInputIcon:t})})),R(this,"handleKeydown",(e=>{switch(e.key){case m.R8U.ENTER:this.handleGoNext();break;case m.R8U.ARROW_RIGHT:if(this.isCursorEndOfInput(e)){const e=this.getEmailHint(this.state.inputText,this.props.provider);e&&(this.setState({inputText:e}),this.handleChange(e))}}})),R(this,"handleClearInput",(()=>{this.setState({inputText:"",showClearInputIcon:!1}),this.handleChange("")})),R(this,"isCursorEndOfInput",(e=>{const t=e.target.selectionEnd,{inputText:s}=this.state;return t===s.length})),R(this,"getEmailPlaceHolder",(()=>{const{provider:e}=this.props,{formatMessage:t}=this.context.intl;switch(e){case m.zoT.YAHOO:return t(N.yahoo_email_placeholder);case m.zoT.GOOGLE:return t(N.gmail_email_placeholder);case m.zoT.OUTLOOK:return t(N.outlook_email_placeholder);case m.zoT.AOL:return t(N.aol_email_placeholder);case m.zoT.OFFICE365:return t(N.office365_email_placeholder);default:return t(N.default_email_placeholder)}})),R(this,"getEmailHint",((e,t)=>{const s=document.getElementById("imapin_address_input");if(s&&s.clientWidth<s.scrollWidth)return"";const a=e.indexOf("@"),n=e.length;if(!m.wxL[t]||-1===a||n-a<2)return"";const r=m.wxL[t].domainHints||m.wxL[t].domainCheck,o=e.substr(a+1).toLowerCase(),i=r.find((e=>("@"+e).indexOf("@"+o)>-1)),l=i?i.substr(n-a-1)+".com":"";return l?e+l:""})),R(this,"renderTitle",((e,{stickyOnboarding:t,renderTitleComponent:s})=>{if(t)return null;if(s)return s();const{formatMessage:a}=this.context.intl;return r.createElement("h5",{className:e.titleLabel},a(D.j2.add_a_mailbox))}))}componentDidMount(){this.refs.selector&&this.refs.selector.focus()}render(){const{formatMessage:e}=this.context.intl,{partner:t,yahooBrandNameString:s}=this.context,{email:a,provider:n,onCancel:i,onPrevious:c,renderNavComponent:p,termsUrl:T,privacyUrl:I,themeMode:h,isWalletAddMailbox:O}=this.props,D=l()(d(),{disabled:!this.isStepValid(),themeMode:O?h:m.zgU.LIGHT}),{accountExist:R,invalidReason:L}=this.state,{inputText:f,showClearInputIcon:M}=this.state,P="ycorp"===t;return r.createElement(r.Fragment,null,r.createElement("div",{className:D.container},r.createElement("div",null,this.renderTitle(D,this.props)),R?r.createElement("div",{className:D.errorWrapper},r.createElement("div",{className:D.errorIcon},r.createElement(E.Z,{kind:u.Kinds.EXCLAMATION_ALT,size:u.Sizes.XS,colorState:u.ColorStates.WARNING_GRAD_RED})),r.createElement(o.FormattedMessage,{id:"imapin_account_exsit_error",defaultMessage:"Your email {email} already exists.\n                              If you deleted the mailbox recently, please wait for a few minutes until the process is complete and try again.",values:{email:r.createElement("strong",null,a)}})):null,r.createElement("label",{className:D.label,htmlFor:"accountAddress"},r.createElement(o.FormattedMessage,{id:"email_address_text",defaultMessage:"Enter your {provider} email address",values:{provider:n}})),r.createElement("div",{className:D.textInput},r.createElement(C.default,{inputId:"imapin_address_input","data-test-id":"typeahead-email-input",ref:"selector",maxVisible:10,placeholder:this.getEmailPlaceHolder(),inputValue:f,hintValue:this.getEmailHint(f,n),onInputChange:this.handleInputChange,onInputKeyDown:this.handleKeydown,inputContainerClassName:D.typeaheadInputContainer,inputClassName:D.typeaheadInput,inputHintClassName:D.typeaheadInputHint,dropDownClassName:D.typeaheadDropDown}),M&&f.length>0?r.createElement("div",null,r.createElement("span",{className:D.clearIconContainer},r.createElement(A.default,{"data-test-id":"clear-button",kind:u.Kinds.CLEAR,size:u.Sizes.XXS,colorState:u.ColorStates.FAINT,onClick:this.handleClearInput,title:e(N.clear_input_icon)})),L?r.createElement("span",{"data-test-id":"type-ahead-input-error",className:D.errorInvalidReason},L):null):null),r.createElement("div",{className:D.hintTop},r.createElement(o.FormattedMessage,{id:"imapin_terms_and_policy_hint",defaultMessage:"Sign in to your {providerName} account and give {yahooBrandNameString} permission\n                        to sync your email, calendar, and contacts and treat them in accordance\n                        with the {terms} and {policy}.",values:{providerName:(0,S.zJ)(n),yahooBrandNameString:s,terms:r.createElement("a",{className:D.link,target:"_blank",href:T,rel:"noopener"},r.createElement(o.FormattedMessage,{id:"imapin_terms",defaultMessage:"{yahooBrandNameString} Terms",values:{yahooBrandNameString:s}})),policy:r.createElement("a",{className:D.link,target:"_blank",href:I,rel:"noopener"},r.createElement(o.FormattedMessage,{id:"imapin_policy",defaultMessage:"Privacy Policy"}))}})),r.createElement("div",{className:D.hint},r.createElement(o.FormattedMessage,{id:"imapin_signout_accounts_hint",defaultMessage:"Note: If you are signed into a different {providerName} account.\n                        Please sign out of all the accounts before adding this mailbox",values:{providerName:n}})),r.createElement("div",null,p?p({onCancel:i,onPrevious:c,onNext:this.handleGoNext,isStepValid:this.isStepValid}):r.createElement("div",{className:D.iconsWrapper},P?null:r.createElement(_.Z,{"data-test-id":"imapin-back-button",kind:g.F.SECONDARY,overridingClass:D.backButton,onClick:c,title:e(N.back_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_back_button_label",defaultMessage:"Back"})),r.createElement(_.Z,{"data-test-id":"imapin-next-button",kind:g.F.PRIMARY,overridingClass:D.primaryButton,onClick:this.handleGoNext,disabled:!this.isStepValid(),title:e(N.next_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_next_button_label",defaultMessage:"Next"})),r.createElement(_.Z,{"data-test-id":"imapin-cancel-button",kind:g.F.SECONDARY_BORDERLESS,overridingClass:D.cancelButton,onClick:i,title:e(N.cancel_button_title)},r.createElement(o.FormattedMessage,{id:"imapin_cancel_button_label",defaultMessage:"Cancel"}))))))}}R(L,"contextTypes",{intl:o.intlShape.isRequired,config:n().object,partner:n().string,yahooBrandNameString:n().string});const f=(0,T.connect)((e=>{const{getSetting:t}=(0,O.selectors)(e);return{termsUrl:t(m.Zrf.TERMS_URL),privacyUrl:t(m.Zrf.PRIVACY_URL),themeMode:t(m.Zrf.THEME_MODE)}}),(e=>({authorizeNewAccount:t=>e((0,I.G0)({i13nModel:{mKey:h.JE.AUTHORIZE_IMAP_ACCOUNT,sec:h.nJ.SETTINGS_ACCOUNTS_TAB,interactionType:h.Rb.click},...t}))})))(L)},10312:(e,t,s)=>{"use strict";s.d(t,{Z:()=>D});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(76223),l=s.n(i),c=s(68775),d=s.n(c),_=s(31280),E=s(37422),u=s(43007),m=s(76531),S=s(67498),p=s(62631),C=s(28182),A=s(45794),T=s(96943);function I(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h=(0,o.defineMessages)({back_button_title:{id:"oauth_back_button_title",defaultMessage:"Back"},relaunch_button_title:{id:"oauth_relaunch_button_title",defaultMessage:"Relaunch"},cancel_button_title:{id:"oauth_cancel_button_title",defaultMessage:"Cancel"},skip:{id:"oauth_sign_in.skip_btn",defaultMessage:"Skip"}}),g=l()(d());class O extends r.Component{constructor(...e){super(...e),I(this,"state",{errorState:null,errorCode:null,accountSyncFailed:this.props.accountSyncFailed,oAuthSuccess:!1}),I(this,"_getPopupwindow",((e,t,s,a)=>{const n=screen.width/2-s/2,r=screen.height/2-a/2;return window.open(e,t,`width=${s}, height=${a}, top=${r}, left=${n}`)})),I(this,"_openOAuthWindow",(()=>{const{partner:e}=this.context,{provider:t,email:s,appRootPath:a}=this.props,n=t===E.zoT.GOOGLE?600:700,r=`https://${window.location.hostname}${a}/oAuth`,o="ycorp"===e;return window[E.UZQ]=this._handleOAuthResponse,this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,n),this.context.credstoreClient.getAuthorizationURL({provider:t,email:s,redirectUri:r,isCorpUser:o}).then((({authorizationURL:e})=>{this.oAuthWindow.location.replace(`${e}&login_hint=${s}`)})).catch((e=>{T.Z.error("Unable to get AuthorizationURL from credstore",e)}))})),I(this,"_handleOAuthResponse",(({status:e,error:t,wssid:s,crumb:a})=>{const{onAuthorize:n,email:r,provider:o,onNext:i,onCancelAuthorize:l}=this.props,c=E.wxL[o]&&E.wxL[o].type||E.tO8.IMAPIN;window[E.UZQ]=void 0,200===(e=parseInt(e,10))?(this.setState({accountSyncFailed:!1,oAuthSuccess:!0}),n({email:r,provider:o,type:c,wssid:s,crumb:a}),i()):this.setState({errorState:e,errorCode:t},(()=>l({status:e,error:t,provider:o,email:r})))})),I(this,"handleRelaunchClick",(e=>{e.preventDefault(),this._openOAuthWindow()})),I(this,"handleRetry",(()=>{const{email:e,provider:t,onAuthorize:s,onNext:a}=this.props,n=E.wxL[t]&&E.wxL[t].type||E.tO8.IMAPIN;this.setState({accountSyncFailed:!1}),s({email:e,provider:t,type:n}),a()})),I(this,"getErrorMessageBody",((e,t)=>{const{provider:s}=this.props,{yahooBrandNameString:a}=this.context;switch(e){case 412:return"invalid_resource"===t||"interaction_required"===t?r.createElement(o.FormattedMessage,{id:"oauth_error_contact_admin",defaultMessage:"Please contact your {provider} admin to enable this feature.",values:{provider:(0,p.zJ)(s)}}):r.createElement(o.FormattedMessage,{id:"oauth_error_cancel_permession",defaultMessage:"Account connection cancelled."});case 403:return r.createElement(o.FormattedMessage,{id:"oauth_error_different_id",defaultMessage:"You are currently signed into a different {provider}\n                        account.{nextLine}Please {sign_out} of that account and retry.",values:{provider:(0,p.zJ)(s),nextLine:r.createElement("br",null),sign_out:r.createElement("a",{className:g.link,target:"_blank",href:E.wxL[s].providerUrl},r.createElement(o.FormattedMessage,{id:"oauth_sign_out",defaultMessage:"sign out"}))}});case 503:return r.createElement(o.FormattedMessage,{id:"oauth_error_provider_not_available",defaultMessage:"{yahooBrandNameString} cannot connect to {provider} at this time. Please\n                        try to connect your account later.",values:{yahooBrandNameString:a,provider:(0,p.zJ)(s)}});case 409:return r.createElement(o.FormattedMessage,{id:"oauth_error_account_confilict",defaultMessage:"This account is already connected"});default:return r.createElement(o.FormattedMessage,{id:"oauth_error_default",defaultMessage:"Unable to add mailbox. Please try again later."})}})),I(this,"getErrorMessageHeader",(e=>{const{email:t,provider:s}=this.props;switch(e){case 412:return null;case 403:return r.createElement(o.FormattedMessage,{id:"oauth_error_different_id_header",defaultMessage:"{email} could not be added",values:{email:t}});case 503:return r.createElement(o.FormattedMessage,{id:"oauth_error_provider_not_available_header",defaultMessage:"{provider} not available",values:{provider:(0,p.zJ)(s)}});case 409:default:return null}})),I(this,"renderErrorMessage",((e,t)=>{const s=this.getErrorMessageHeader(e),a=this.getErrorMessageBody(e,t);return r.createElement("span",null,null===s?null:r.createElement("h4",{className:g.errorHeader},s),a)}))}componentDidMount(){this.props.accountSyncFailed||this._openOAuthWindow()}componentWillUnmount(){window[E.UZQ]=void 0;const{provider:e,email:t}=this.props;this.state.oAuthSuccess&&!this.state.accountSyncFailed&&this.props.handleAddSuccess({provider:e,email:t})}render(){const{provider:e,onPrevious:t,onCancel:s,email:a,hideCancelButton:n,renderTitleComponent:i,renderNavComponent:c,isWalletAddMailbox:_,appContext:{getThemeMode:A}}=this.props,T=!!_&&A()===E.zgU.DARK,I=l()(d(),{walletDarkTheme:T}),{formatMessage:g}=this.context.intl,{errorState:O,errorCode:D,accountSyncFailed:R}=this.state,N=O||R,L=r.createElement(o.FormattedMessage,{id:"relaunch_window_test",defaultMessage:"Relaunch window"}),f=r.createElement("a",{className:I.tryAgain,onClick:this.handleRetry},r.createElement(o.FormattedMessage,{id:"oauth_try_again",defaultMessage:"Try again"}));return r.createElement("div",{className:I.container},r.createElement("div",null,i?i():r.createElement("h5",{className:I.titleLabel},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_text",defaultMessage:"Sign in to your account"}))),N?r.createElement("div",{className:I.errorWrapper},r.createElement("div",{className:I.errorIcon},r.createElement(u.Z,{kind:m.Kinds.EXCLAMATION_ALT,size:m.Sizes.XS,colorState:m.ColorStates.WARNING_GRAD_RED})),R?r.createElement("span",null,r.createElement(o.FormattedMessage,{id:"oauth_error_account_add_failed",defaultMessage:"{email} cannot be added",values:{email:a}}),f):this.renderErrorMessage(O,D)):null,r.createElement("div",{className:I.oAuthHint},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_hint",defaultMessage:"A new window should show the {providerName} sign in page.\n                        If you do not see it, check your browser for pop-up blockers.",values:{providerName:(0,p.zJ)(e)}})),r.createElement("div",{className:I.oAuthLink},r.createElement(o.FormattedMessage,{id:"oAuth_signIn_help",defaultMessage:"Don't see the pop-up window? {link}",values:{link:r.createElement("a",{href:"#",className:I.link,onClick:this.handleRelaunchClick},L)}})),r.createElement("div",null,c?c({onPrevious:t,onNext:this.handleRelaunchClick}):r.createElement("div",{className:I.iconsWrapper},r.createElement(S.Z,{"data-test-id":"oauth-back-button",kind:C.F.SECONDARY,overridingClass:I.backButton,onClick:t,title:g(h.back_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_back_button_label",defaultMessage:"Back"})),r.createElement(S.Z,{"data-test-id":"oauth-relaunch-button",kind:C.F.PRIMARY,overridingClass:I.primaryButton,onClick:this.handleRelaunchClick,title:g(h.relaunch_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_relaunch_button_label",defaultMessage:"Relaunch window"})),n?null:r.createElement(S.Z,{"data-test-id":"oauth-cancel-button",kind:C.F.SECONDARY_BORDERLESS,overridingClass:I.cancelButton,onClick:s,title:g(h.cancel_button_title)},r.createElement(o.FormattedMessage,{id:"oauth_cancel_button_label",defaultMessage:"Cancel"})))))}}I(O,"contextTypes",{intl:o.intlShape.isRequired,config:n().object,credstoreClient:_.CredstoreClientType,partner:n().string,yahooBrandNameString:n().string}),I(O,"defaultProps",{onCancelAuthorize:()=>{}});const D=(0,A.N)(O)},65321:e=>{"use strict";e.exports={className:{default:{addConfirmWrapper:"em_N iz_A",addConfirmSection:"W_3vPwA",titleLabel:"A_6EWk M_27msYt D_F u_dPo ab_C i_6LEV",titleTextWrapper:"Q_fq7 A_6Fd5 u_eBE i_6LEV c1AVi73_6FYl c1AVi7H_6Mrc",hint:"C_Z29dUYT U_72FG A_6DUj i_6EGz u_dPo c1AVi73_6EWk c1AVi7H_6LEV",label:"M_Ic9xa A_6DUj i_6EGz u_eBE c1AVi73_6EWk c1AVi7H_6LEV",textInput:"M_27msYt A_6DUj i_6EGz u_dPo c1AVi73_6EWk c1AVi7H_6LEV",confirmButton:"r_P D_X H_6TFj Y_6LEV q_Z29WjXl e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_jyw3a A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl",fancyTextInput:""},isSyncing:{addConfirmWrapper:"P_0",hint:"O_cMq",label:"O_cMq",confirmButton:"O_cMq r_A"},"themeMode-DARK":{hint:"C_ZkbNhI",label:"C_ZkbNhI",titleTextWrapper:"C_ZkbNhI",fancyTextInput:"C_ZkbNhI"}},_key:"Z1Fmrk3"}},68775:e=>{"use strict";e.exports={className:{default:{container:"D_F a_3He0m ek_BB",textInput:"i_6FIA A_6DUj c1AVi73_6EWk c1AVi7H_6LEV M_27m5tQ p_R u_dPo",titleLabel:"A_6EWk M_1Wjk7b u_dPo",label:"u_eBE M_3gIgH i_6EGz A_6DUj c1AVi73_6EWk c1AVi7H_6LEV",hintTop:"M_1IaimO C_Z281SGl u_dPo i_6EGz A_6DUj c1AVi73_6EWk c1AVi7H_6LEV",oAuthHint:"Y_6LEV U_6NIX i_6LEV C_Z281SGl",hint:"C_Z1TsNbA U_6Fd5 u_dPo i_6EGz A_6DUj c1AVi73_6EWk c1AVi7H_6LEV",link:"C_Z29WjXl Q_dRA u_e69 r_P",iconsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",backButton:"P_1EudUu H_6TFj i_N",primaryButton:"H_6TFj M_1MYy0B s_7yHc P_1EudUu i_N",cancelButton:"H_6TFj i_N",errorWrapper:"A_6EqO i_6LEV C_ZmDiLl D_F ab_CI",errorIcon:"E_fq7 D_F",errorHeader:"M_0 i_6LEV",errorInvalidReason:"C_ZmDiLl D_B A_6DUj M_fq7",tryAgain:"D_B C_Z29WjXl u_e69 r_P",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNbA J_x ir_0 G_e bj3_Z29WjXl",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",clearIconContainer:"p_a T_eTB R_0 P_3gJOe Z_N"},"themeMode-DARK":{label:"C_ZkbNhI",hintTop:"C_ZkbNhI",typeaheadInput:"C_ZkbNhI",walletNextButton:"H_6TFj M_1MYy0B s_7yHc P_1EudUu i_N C_ZkbNhI"},walletDarkTheme:{titleLabel:"C_ZkbNhI",oAuthHint:"C_ZkbNhI",oAuthLink:"C_ZkbNhI"}},_key:"Z14LwQD"}},67109:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>L});s(45697);var a=s(67294),n=s(18685),r=s(18352),o=s(99095),i=s(7426),l=s(83034),c=s(94070),d=s(69054),_=s.n(d),E=s(37422),u=s(9333),m=s(76531),S=s(92559),p=s(79483),C=s(64059),A=s(67498),T=s(28182);const I=(0,o.defineMessages)({yahoo_mail_pro_branding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},thank_you:{id:"ad.thank_you_message",defaultMessage:"Thank you for your feedback."},close_ad_thank_you:{id:"ad.close_thank_you",defaultMessage:"close"},ad_is_hidden:{id:"ad.feedback.ad_is_hidden",defaultMessage:"This ad has been hidden."},additional_feedback:{id:"additional_feedback",defaultMessage:"You can give additional feedback to improve your future experience."},give_feedback:{id:"give_feedback_link",defaultMessage:"Give feedback"},upsell_message_trail_plan_caption:{id:"ad.upsell_message_trail_plan_caption",defaultMessage:"Want an ad-free inbox? Try {YahooMailSubscriptionBrand} for free!"},upgrade_now_btn_label:{id:"ad.upgrade_now_btn_label",defaultMessage:"Upgrade now"},ad_form_question:{id:"ad.form_question",defaultMessage:"Before you close this ad, would you tell us why you didn't like it?"},ad_done:{id:"ad.feedback_done",defaultMessage:"Done"},send:{id:"compose_toolbar_send",defaultMessage:"Send"},back:{id:"back",defaultMessage:"Back"},tell_us_more:{id:"tell_us_more",defaultMessage:"Tell us more"}}),h=e=>{const{formatMessage:t}=(0,i.Y)(),{feedbackStatus:s,isCompactLayout:n,mailProEligible:r,mailPlusEligible:o,onStartAdFeedback:d,upsellUrl:h,closeAdFeedback:g,adFeedbackConfig:O,submitAdFeedback:D,sectionId:R,topMargin:N}=e,L=(0,l.Z)(_(),{isCompactLayout:n}),[f,M]=(0,a.useState)(""),P=(0,a.useRef)(null),{yahooMailPlusBrandName:b}=(0,c.B)(),y=t(I.yahoo_mail_pro_branding),v=n&&f===E.XLK,F=e=>()=>M(e),U=e=>{e.preventDefault();const t=f===E.XLK&&P.current?P.current.value.trim():"";return D({reason:f,comment:t,sectionId:R})},k=e=>{e.preventDefault(),g({i13nModel:{mKey:S.JE.AD_FEEDBACK_CLOSE,sec:S.nJ.AD_FEEDBACK,actionData:{sectionId:R,feedbackSubmitted:s!==E._re.STARTED}},sectionId:R})},w=()=>{p.ZP.sendI13nModel({i13nModel:{mKey:o?S.JE.NAVIGATE_TO_MAIL_PLUS_FROM_ADFEEDBACK:S.JE.NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK,sec:S.nJ.AD_FEEDBACK,interactionType:S.Rb.click}}),(0,C.x)(h)};return a.createElement("article",{className:L.container,style:{marginTop:`${N}px`}},(()=>{switch(s){case E._re.LIKED:case E._re.DELETED:case E._re.SUBMITTED:{const{title:e,subTitle:i}=(()=>{let e="",i="";switch(s){case E._re.LIKED:e=t(I.thank_you);break;case E._re.DELETED:if(e=t(I.ad_is_hidden),!O)break;i=a.createElement(a.Fragment,null,n?null:a.createElement("span",{className:L.subheader},t(I.additional_feedback)),a.createElement(A.Z,{overridingClass:L.ctaButton,kind:T.F.TEXT,onClick:d,"data-test-id":"give-feedback"},t(I.give_feedback)));break;case E._re.SUBMITTED:if(e=t(I.thank_you),o||r){const e=o?b:y;i=a.createElement(a.Fragment,null,a.createElement("span",{className:L.subheader},t(I.upsell_message_trail_plan_caption,{YahooMailSubscriptionBrand:e})),a.createElement(A.Z,{overridingClass:L.ctaButton,kind:T.F.TEXT,onClick:w},t(I.upgrade_now_btn_label)))}}return{title:e,subTitle:i}})();return a.createElement("section",{className:L[`${s}-container`],"data-test-id":`ad-feedback-${s}`},a.createElement("div",{className:L.messageContent},a.createElement("div",{className:L.title},e),a.createElement("div",{className:L.messageSubtitleContainer},i)),a.createElement(u.default,{className:L.messageCloseButton,kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:k,title:t(I.close_ad_thank_you),"data-test-id":"feedback-close"}))}case E._re.STARTED:{const e=t(v?I.give_feedback:I.ad_form_question);return a.createElement("section",{className:L[`${s}-container`],"data-test-id":`ad-feedback-${s}`},a.createElement(u.default,{className:L.closeButton,kind:m.Kinds.CLOSE,size:m.Sizes.XXS,colorState:m.ColorStates.DISABLED,onClick:k,title:t(I.close_ad_thank_you),"data-test-id":"feedback-close"}),a.createElement("div",{className:L.title},e),v?null:(()=>{const e=O.neg_options||[];return a.createElement("ul",{className:L.optionList},e.map((({id:e,value:t})=>a.createElement("li",{key:e,className:L.option},a.createElement("input",{type:"radio",name:"adFeedbackRadio",checked:f===e,onChange:F(e),className:L.radio}),a.createElement("span",null,t)))))})(),n?v?a.createElement("div",{className:L.compactInputContainer},a.createElement("textarea",{className:L.compactTextArea,placeholder:t(I.tell_us_more),autoFocus:!0,ref:P,onKeyDown:e=>{e.stopPropagation()}}),a.createElement("div",{className:L.compactButtonsContainer},a.createElement(A.Z,{onClick:U,marginLess:!0,"data-test-id":"feedback-done"},t(I.send)),a.createElement(A.Z,{onClick:F(""),overridingClass:L.compactBackButton},t(I.back)))):a.createElement("div",{className:L.compactButtonsContainer,"data-test-id":"feedback-done"},a.createElement(A.Z,{onClick:U,marginLess:!0},t(I.ad_done))):a.createElement("div",{className:L.fullInputContainer},a.createElement(A.Z,{onClick:U,marginLess:!0,"data-test-id":"feedback-done"},t(I.ad_done)),f===E.XLK?a.createElement("input",{className:L.fullInput,placeholder:t(I.tell_us_more),ref:P,onKeyDown:e=>{e.stopPropagation()}}):null))}}})())};h.defaultProps={topMargin:0};const g=h;var O=s(85927),D=s(10728);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class N extends a.Component{constructor(...e){super(...e),R(this,"onAdFeedbackClose",((e,t)=>{const{sectionId:s,closeAdFeedback:a}=this.props;e.preventDefault(),a({i13nModel:{mKey:S.JE.AD_FEEDBACK_CLOSE,sec:S.nJ.AD_FEEDBACK,actionData:{sectionId:s,feedbackSubmitted:t}},sectionId:s})})),R(this,"onAdFeedbackRequest",(()=>{const{sectionId:e,startAdFeedback:t}=this.props;t({i13nModel:{mKey:S.JE.AD_FEEDBACK_OPENED,sec:S.nJ.AD_FEEDBACK,interactionType:S.Rb.click,actionData:{sectionId:e}},sectionId:e})})),R(this,"onAdFeedbackSubmit",(e=>{const{sectionId:t,submitAdFeedback:s}=this.props;s({i13nModel:{mKey:S.JE.AD_FEEDBACK_SUBMIT,sec:S.nJ.AD_FEEDBACK,actionData:{sectionId:t,...e}},sectionId:t,...e})}))}render(){const{feedbackStatus:e,adFeedbackConfig:t,upsellUrl:s,isTallPencilAd:n}=this.props;return a.createElement(g,{closeAdFeedback:this.props.closeAdFeedback,isCompactLayout:this.props.isCompactLayout,mailProEligible:this.props.mailProEligible,mailPlusEligible:this.props.mailPlusEligible,feedbackStatus:e,onStartAdFeedback:this.onAdFeedbackRequest,upsellUrl:s,submitAdFeedback:this.onAdFeedbackSubmit,sectionId:this.props.sectionId,adFeedbackConfig:t,topMargin:n?D.eV3:0})}}R(N,"defaultProps",{adFeedbackOnLightBackground:!1});const L=(0,n.connect)(((e,t)=>{const{getAdsSelectors:s,getSetting:a,isFeatureEnabled:n}=(0,O.selectors)(e),{sectionId:r}=t,{getAdFeedbackBeacon:o,getAdFeedbackStatus:i,getAdFeedbackConfig:l}=s(),c=o(t.sectionId),d=i(),_=a(E.Zrf.PREVIEW_PANE)===E.EsZ.RIGHT,u=n(E.ANe.MAIL_PLUS_ELIGIBLE),m=n(E.ANe.MAIL_PRO_ELIGIBLE),S=a(u?E.Zrf.MAIL_PLUS_URL:E.Zrf.AD_FREE_MAIL_URL),p=n(E.ANe.TALL_PENCIL_AD);return{isCompactLayout:_,adFeedbackBeacon:c,mailProEligible:m,mailPlusEligible:u,feedbackStatus:d[r],adFeedbackConfig:l(r),upsellUrl:S,isTallPencilAd:p}}),(e=>({closeAdFeedback:t=>e((0,r.Ci)(t)),submitAdFeedback:t=>e((0,r.i$)(t)),startAdFeedback:t=>e((0,r.Ay)(t))})))(N)},99972:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s(45697);var a,n,r,o=s(67294),i=(s(95406),s(19341)),l=s(23918),c=s.n(l),d=s(76223),_=s.n(d),E=s(61395),u=s.n(E);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class S extends o.Component{render(){const{size:e,imageSrc:t,circleShape:s,doNotScaleUpImages:a,overridingClass:n}=this.props,r=_()(c(),{circleShape:s}),{imageSize:l}=e;let d={},E={width:l,height:l};return a&&(d={maxWidth:l,maxHeight:l},E={}),o.createElement("img",m({className:n?u()(r.adImage,n):r.adImage,style:d,src:t||i.yF},E))}}a=S,n="defaultProps",r={doNotScaleUpImages:!1,size:i.u8.M,imageSrc:"",circleShape:!1,overridingClass:""},n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r},70302:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>u});s(45697);var a=s(67294),n=s(18685),r=s(336),o=s(95406),i=s(8106),l=s(37422),c=s(85927);const d={},_={};class E extends a.Component{constructor(...e){var t,s,a;super(...e),a=()=>{this.fireAndUpdateBeacon("impression","impressionBeaconTimer",!0),this.fireAndUpdateBeacon("impression3P","impression3PBeaconTimer",!0),this.fireAndUpdateBeacon("partial","",!0)},(s="handleAdClick")in(t=this)?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a}componentDidMount(){d[this.props.sectionId]=d[this.props.sectionId]||[],this.handleNewAd()}componentWillUnmount(){this.viewabilityObserver&&(this.viewabilityObserver.unobserve(this.targetNode),this.viewabilityObserver.disconnect()),this.viewabilityObserver=null,clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null}componentDidUpdate(e){this.props.adTimestamp===e.adTimestamp&&this.props.rootMargin===e.rootMargin||this.handleNewAd()}createObserver(e){if((0,i.aA)()){const{rootNode:t,rootMargin:s}=this.props,a={root:t,rootMargin:s,threshold:[.1,e/100,.95]};this.impressionBeaconThreshold=e,this.viewabilityObserver=this.viewabilityObserver?this.viewabilityObserver.disconnect():null,this.viewabilityObserver=new IntersectionObserver((e=>{e.forEach((e=>{this.handleVisibilityChange(100*e.intersectionRatio)}))}),a),this.viewabilityObserver.observe(this.targetNode)}}allImpressionBeaconsFired(){const{sectionId:e,pencilAdData:t}=this.props,{actionUrls:s={},beacon:a,carouselAssets:n=[]}=t;return d[e].indexOf(a)>-1&&(!(0,o.u9)(s,"IMPR_INTERNAL.0",null)||!n.length||d[e].indexOf(s.IMPR_INTERNAL[0])>-1)}fireImpressionBeacon(e){const{pencilAdData:t}=this.props,{beacon:s,rules:a}=t,{viewabilityDefStatic:n}=a,r="number"==typeof(0,o.u9)(n,"d",null)?1e3*n.d:null;if(s&&!this.allImpressionBeaconsFired()&&null!==r)if(e>=this.impressionBeaconThreshold&&!this.impressionBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression","impressionBeaconTimer");this.impressionBeaconTimer=setTimeout(e,r)}else e<this.impressionBeaconThreshold&&(clearTimeout(this.impressionBeaconTimer),this.impressionBeaconTimer=null)}fireImpression3PBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=(0,o.u9)(a,"STATIC_VIEW_3P.0",null),r=d[s].indexOf(n)>-1;if(n&&!r&&null!==this.impression3PVisTimeRemaining)if(e>95&&!this.impression3PBeaconTimer){const e=this.fireAndUpdateBeacon.bind(this,"impression3P","impression3PBeaconTimer");this.impression3PBeaconVisTime=Date.now(),this.impression3PVisTimeRemaining<=0?e():this.impression3PBeaconTimer=setTimeout(e,this.impression3PVisTimeRemaining)}else e<100&&this.impression3PBeaconTimer&&(this.impression3PVisTimeRemaining-=Date.now()-this.impression3PBeaconVisTime,clearTimeout(this.impression3PBeaconTimer),this.impression3PBeaconTimer=null)}firePartialBeacon(e){const{pencilAdData:t,sectionId:s}=this.props,{actionUrls:a={}}=t,n=(0,o.u9)(a,"PARTIAL_VIEW.0",null),r=d[s].indexOf(n)>-1;e>0&&!r&&n&&this.fireAndUpdateBeacon("partial")}handleVisibilityChange(e){const t=(0,o.u9)(this.props.pencilAdData,"rules",{});Object.keys(t).length&&(this.fireImpressionBeacon(e),this.fireImpression3PBeacon(e),this.firePartialBeacon(e))}fireAndUpdateBeacon(e,t="",s=!1){const{pencilAdData:a,isAppVisible:n,isCurrentAdPosition:i,sectionId:l}=this.props;if(this[t]=null,n&&i||s){const{actionUrls:t,beacon:s,impressionTrackingUrls:n=[],carouselAssets:i=[]}=a,c=[];"impression"===e?(-1===d[l].indexOf(s)&&((0,r.Z)(s,!1),c.push(s)),n.forEach((e=>{e&&-1===d[l].indexOf(e)&&((0,r.Z)(e,!1),c.push(e))})),(0,o.u9)(t,"IMPR_INTERNAL.0",null)&&i.length&&-1===d[l].indexOf(t.IMPR_INTERNAL[0])&&((0,r.Z)(t.IMPR_INTERNAL[0],!1),c.push(t.IMPR_INTERNAL[0]))):"impression3P"===e?((null==t?void 0:t.STATIC_VIEW_3P)||[]).forEach((e=>{(0,r.Z)(e,!1),c.push(e)})):"partial"===e&&(0,o.u9)(t,"PARTIAL_VIEW.0",null)&&((0,r.Z)(t.PARTIAL_VIEW[0],!1),c.push(t.PARTIAL_VIEW[0])),d[l]=d[l].concat(c)}}handleNewAd(){const{pencilAdData:e,geminiViewability:t,isCurrentAdPosition:s,adTimestamp:a,sectionId:n}=this.props;if(t&&this.targetNode&&s){const{rules:t}=e;if(_[n]!==a&&(_[n]=a,d[n]=[]),t&&Object.keys(t).length){const{viewabilityDefStatic:s={},viewabilityDefStatic3P:a=[]}=t,i=s.p,l=(0,o.u9)(a,"0.p",null),c=(0,o.u9)(a,"0.d",null);if(0===l&&0===c){const{actionUrls:t={}}=e,s=(0,o.u9)(t,"STATIC_VIEW_3P",[]),a=[];return void(s.length&&(s.forEach((e=>{(0,r.Z)(e,!1),a.push(e)})),d[n]=a))}this.createObserver(i),this.impression3PVisTimeRemaining="number"==typeof(0,o.u9)(a,"0.d",null)?1e3*a[0].d:null}}}render(){return a.createElement("div",{ref:e=>this.targetNode=e,style:this.props.styles,className:this.props.className,onClick:this.handleAdClick},this.props.children)}}E.defaultProps={rootNode:null,rootMargin:"0px",styles:{}};const u=(0,n.connect)(((e,t)=>{const{isFeatureEnabled:s,getEnvironmentSelectors:a,getAdSectionIds:n,getAdsSelectors:r}=(0,c.selectors)(e),{getGeminiAdTimestamp:i}=r(),d=i(t.sectionId),{isAppVisible:_}=a(),E=n(),u=(0,o.VO)(E).some((e=>e===t.sectionId));return{isAppVisible:_(),geminiViewability:s(l.ANe.GEMINI_VIEWABILITY),isCurrentAdPosition:u,adTimestamp:d}}))(E)},17272:(e,t,s)=>{"use strict";s.d(t,{Z:()=>F});s(45697);var a=s(67294),n=s(18685),r=s(99095),o=s(11160),i=s(31509),l=s(18030),c=s(65304),d=s(9333),_=s(43007),E=s(8470),u=s(10728),m=s(94482),S=s(67498),p=s(28182),C=s(76531),A=s(76223),T=s.n(A),I=s(75411),h=s.n(I),g=s(64059),O=s(37422),D=s(85927),R=s(18352),N=s(92559),L=s(68113),f=s(59959),M=s(79483),P=s(17016),b=s(7426);const y=(0,r.defineMessages)({chevron_title:{id:"ad_feedback.chevron_title",defaultMessage:"Ad Feedback"},why_this_ad:{id:"why_this_ad",defaultMessage:"Why this ad?"},like_this_ad:{id:"ad.feedback.like_this_ad",defaultMessage:"Like this ad"},dislike_this_ad:{id:"ad.feedback.dislike_this_ad",defaultMessage:"Dislike this ad"},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"}}),v=e=>{const{formatMessage:t}=(0,b.Y)(),{size:s,isCompactLayout:n,hideFeedbackChevron:r,marginLess:A,offset:I,sectionId:O,adFeedbackClick:D,mailProEligible:R,mailPlusEligible:f,feedbackEnable:v}=e,F=T()(h(),{isCompactLayout:n,hideFeedbackChevron:r,marginLess:A}),U=t=>{t.preventDefault(),D({i13nModel:{mKey:N.JE.AD_POLICY_LINK_CLICKED,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:O}}}),(0,g.x)(e.aboutAdsUrl)},k=t=>{t.preventDefault(),D({i13nModel:{mKey:f?N.JE.AD_FEEDBACK_MAIL_PLUS_LINK_CLICKED:N.JE.AD_FEEDBACK_MAIL_PRO_LINK_CLICKED,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:O}}}),e.redirectUpsellToMailPlusTab?e.navigateToMailPlusSettings():(0,g.x)(e.upsellUrl)},w=e=>{e.preventDefault(),D({i13nModel:{mKey:N.JE.AD_FEEDBACK_POSITIVE,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:O}},feedbackType:L.gT.POSITIVE,sectionId:O})},G=e=>{e.preventDefault(),D({i13nModel:{mKey:N.JE.AD_FEEDBACK_NEGATIVE,sec:N.nJ.AD_FEEDBACK,interactionType:N.Rb.click,actionData:{sectionId:O}},feedbackType:L.gT.NEGATIVE,sectionId:O})};return v?a.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation();const t={mKey:N.JE.PENCIL_AD_FEEDBACK_MENU_OPEN,sec:N.nJ.AD_FEEDBACK,interactionType:(0,P.getInteractionFromEvent)(e),actionData:{sectionId:O}};M.ZP.sendI13nModel({i13nModel:t})},"data-test-id":"feedback-menu"},a.createElement(o.Z,null,a.createElement(i.Z,null,a.createElement("span",{className:F.chevronDown},a.createElement(d.default,{kind:C.Kinds.MORE,size:s,rotate:C.Rotate.D180,colorState:C.ColorStates.INHERITED,title:t(y.chevron_title),tabIndex:-1,paddingLess:!0}))),a.createElement(l.ZP,{triggerOn:c.K2.CLICK,permittedArrowDirections:[c.Ji.UP,c.Ji.DOWN],offset:I,zAltitude:u.LSY.POPOVER.HIGH,align:c.xM.END,isArrowVisible:!0},a.createElement("div",{className:F.adFeedbackContainer},a.createElement(E.Z,{focusOnMount:!0},(e=>[{option:"why_this_ad",onClick:U,iconType:C.Kinds.SPONSORED,show:!0,testId:"why-this-ad-option"},{option:"like_this_ad",iconType:C.Kinds.FEEDBACK,show:!0,onClick:w,testId:"like-this-ad-option"},{option:"dislike_this_ad",onClick:G,testId:"feedback-menu-start",iconType:C.Kinds.FEEDBACK,iconRotate:C.Rotate.D180,show:!0},{option:"go_ad_free",iconType:f?C.Kinds.YAHOO_PLUS_BADGE_ALT:C.Kinds.PRO,show:f||R,onClick:k,testId:"go_ad_free"}].filter((e=>e.show)).map((s=>a.createElement(m.Z,{key:s.option},a.createElement(S.Z,{onClick:s.onClick,kind:p.F.MENUITEM,"data-test-id":s.testId,overridingClass:e.adFeedbackItem},a.createElement("span",{className:e.iconContainer},a.createElement(_.Z,{kind:s.iconType,size:C.Sizes.XS,rotate:s.iconRotate||C.Rotate.D0,colorState:C.ColorStates.INHERITED})),a.createElement("div",{className:e.adFeedbackText},s.subStrings?t(y[s.option],s.subStrings):t(y[s.option])))))))(F)))))):null};v.defaultProps={size:C.Sizes.XXS,isCompactLayout:!1,marginLess:!1,offset:16};const F=(0,n.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,D.selectors)(e),a=s(O.ANe.MAIL_PLUS_ELIGIBLE),n=s(O.ANe.MAIL_PRO_ELIGIBLE),r=t(a?O.Zrf.MAIL_PLUS_URL:O.Zrf.AD_FREE_MAIL_URL),o=s(O.ANe.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB);return{feedbackEnable:s(O.ANe.AD_FEEDBACK_V2),aboutAdsUrl:t(O.Zrf.ABOUT_AD_URL),upsellUrl:r,mailPlusEligible:a,mailProEligible:n,redirectUpsellToMailPlusTab:o}}),(e=>({adFeedbackClick:t=>e((0,R.JF)(t)),navigateToMailPlusSettings:t=>e((0,f.BB)(t))})))(v)},69054:e=>{"use strict";e.exports={className:{default:{container:"D_F I_ZnIF8Y o_v e_eo6","LIKED-container":"D_F F_N gl_FM ab_C ek_EZ o_h p_R k_w P_Z1Ve0sQ H_73cc","DELETED-container":"D_F F_N gl_FM ab_C ek_EZ o_h p_R k_w P_Z1Ve0sQ H_7iGr","SUBMITTED-container":"D_F F_N gl_FM ab_C ek_EZ o_h p_R k_w P_Z1Ve0sQ H_7iGr",messageContent:"D_F ek_BB o_h",title:"u_b J_N E_6Fd5",messageSubtitleContainer:"D_F ab_C ek_EZ o_h",messageCloseButton:"en_0","STARTED-container":"D_F F_N gl_FL ab_CI ek_BB o_h p_R k_w P_Z1Ve0sQ H_d7j",closeButton:"p_a T_6Eb4 R_6Fd5",subheader:"J_x o_h G_e",ctaButton:"H_6FIA en_0 u_elT P_ZmsKgw",optionList:"D_F ac_FT eo_HB P_0 M_0 ha_n i_6FIA",option:"F_Ic8d1 D_F ab_C jb_fq7",radio:"r_P M_Z1kd4S1",compactInputContainer:"D_F ek_BB ac_FT em_N Y_6Eb4",compactTextArea:"cZ2ocs2I_Z1VRqsb cZ1gRlXx_Z1VRqsb k_w W_6D6F H_6D6F jw_n P_6Eb4 U_6Eb4 b_n e_dRA C_Z281SGl",compactButtonsContainer:"D_F ek_EZ",compactBackButton:"M_Z1feoPS",fullInputContainer:"D_F ek_FB ac_FT",fullInput:"cZ2ocs2I_Z1VRqsb cZ2ocs2n_6Eb4 cZ1gRlXx_Z1VRqsb cZ1gRlXc_6Eb4 E_6LEV em_N b_n e_dRA C_Z281SGl"},isCompactLayout:{"SUBMITTED-container":"D_F F_N gl_FM ab_C ek_EZ o_h p_R k_w P_Z1Ve0sQ H_7ILB",messageSubtitleContainer:"ek_BB ab_CI",messageCloseButton:"p_a T_6Eb4 R_6Fd5 P_0","STARTED-container":"H_3rLkT",subheader:"J_82XEY",ctaButton:"P_0",optionList:"ek_BB eo_x",option:"F_N"},"themeMode-DARK":{container:"C_ZkbNhI I_ZS20VC I4_ZS20V7"}},_key:"2t4Ix3"}},75411:e=>{"use strict";e.exports={className:{default:{chevronDown:"D_F E_fq7",adFeedbackContainer:"P_3Y3Gk",adFeedbackItem:"P_ZXLcbw",adFeedbackText:"P_1aw0Bx",iconContainer:"C_Z1oI2WW cdPFi_Z1oI2WW D_F"},isCompactLayout:{chevronDown:"V_ P_0"},hideFeedbackChevron:{chevronDown:"v_h Q_36RhU"},marginLess:{chevronDown:"E_0"}},_key:"Z1tQyXJ"}},68113:(e,t,s)=>{"use strict";s.d(t,{gT:()=>n,xL:()=>a});const a={SKY:{yaftName:"norrin_ad_sky",jac:{pos:"SKY",clean:"boxSKY",dest:"tgtSKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC:{yaftName:"norrin_ad_lrec",jac:{pos:"LREC",dest:"tgtLREC",clean:"slot_LREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},LREC4:{yaftName:"norrin_ad_lrec4",jac:{pos:"LREC4",dest:"tgtLREC4",clean:"slot_LREC4",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},MON:{yaftName:"norrin_ad_mon",jac:{pos:"MON",dest:"tgtMON",clean:"slot_MON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBASKY:{yaftName:"norrin_ad_ubasky",jac:{pos:"UBASKY",clean:"boxUBASKY",dest:"tgtUBASKY",w:160,h:620,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBAMON:{yaftName:"norrin_ad_ubamon",jac:{pos:"UBAMON",dest:"tgtUBAMON",clean:"slot_UBAMON",w:300,h:600,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},UBALREC:{yaftName:"norrin_ad_ubalrec",jac:{pos:"UBALREC",dest:"tgtUBALREC",clean:"slot_UBALREC",w:300,h:250,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}},FULLPANE:{yaftName:"norrin_ad_fullpane",jac:{pos:"FULLPANE",dest:"tgtFULLPANE",clean:"slot_FULLPANE",w:1200,h:800,fdb:!0,fr:"no_exp",css:"*{text-align:left}"}}},n={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"}},23918:e=>{"use strict";e.exports={className:{default:{adImage:"e_0"},circleShape:{adImage:"e_e5X"}},_key:"Z1KMEh2"}},58989:e=>{"use strict";e.exports={className:{default:{adReporter:"p_f B_0 R_6LEV Z_7G9R P_Z1E2YFn r_P C_ZkbNhI I_Z1YJKic e_1osmbG b_n"}},_key:"Zh3afO"}},40944:(e,t,s)=>{"use strict";s.d(t,{Mi:()=>r,Yx:()=>n,r6:()=>o,tl:()=>a});const a={START_DATE:"startDate",END_DATE:"endDate",ANY:"any",WEEK:"week",MONTH:"month",CUSTOM:"custom"},n=7,r=30,o=[a.ANY,a.WEEK,a.MONTH,a.CUSTOM]},98217:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({all_mail_title:{id:"advanced_search.all_mail_title",defaultMessage:"All mail"},unknown_folder_title:{id:"advanced_search.unknown_folder_title",defaultMessage:"Unknown Folder"},system_folder_label:{id:"advanced_search.system_folder_label",defaultMessage:"Select this system folder for searching"},custom_folder_label:{id:"advanced_search.custom_folder_label",defaultMessage:"Select this custom folder for searching"},yahoo_account_description:{id:"advanced_search.yahoo_brand_name",defaultMessage:"Yahoo"},gmail_account_description:{id:"advanced_search.gmail_brand_name",defaultMessage:"Gmail"},aol_account_description:{id:"advanced_search.aol_brand_name",defaultMessage:"Aol"},outlook_account_description:{id:"advanced_search.outlook_brand_name",defaultMessage:"Outlook"},unknown_account_description:{id:"advanced_search.unknown_account_description",defaultMessage:"Unknown"}})},65354:(e,t,s)=>{"use strict";s.d(t,{H0:()=>d,Ml:()=>i,Ny:()=>S,OF:()=>o,Rn:()=>l,Y_:()=>u,fQ:()=>_,sl:()=>c,th:()=>E,v8:()=>m});var a=s(55636),n=s(40944),r=s(40315);const o=e=>{const{emailIds:t,name:s}=e;return{name:s,emailAddresses:t}},i=e=>{const{name:t,emailAddresses:s=[]}=e;return!(!t&&!s[0])},l=(e,t,s,n,r)=>{if(!s||!s[0])return"";const{name:l,emailAddresses:c=[]}=o(s[0]),d=c[0],_=new RegExp("^"+(0,a.hr)(e),"i");return!e||!r||n||i(t)?"":_.test(d)?e+d.slice(e.length):_.test(l)?e+l.slice(e.length):""},c=(e,t,s)=>t&&s&&o(s).emailAddresses[0]||e,d=e=>i(e)?[e]:[],_=(e="")=>{const[t,s,a]=e.split("-");return new Date(t,s-1,a)},E=(e,t)=>{if(!e&&!t)return n.tl.ANY;const s=(0,r.hM)(e,t),a=t&&m(t)&&(0,r.zk)(_(t));return s===n.Yx&&a?n.tl.WEEK:s===n.Mi&&a?n.tl.MONTH:n.tl.CUSTOM},u=(e,t)=>{let s="",a="";switch(e){case n.tl.ANY:break;case n.tl.WEEK:s=new Date(t).setDate(t.getDate()-n.Yx);break;case n.tl.MONTH:s=new Date(t).setDate(t.getDate()-n.Mi);break;case n.tl.CUSTOM:s=t}return s&&(s=(0,r.Ij)(new Date(s)),a=(0,r.Ij)(new Date(t))),{startDate:s,endDate:a}};function m(e=""){return null!==e.match(/^\d{4}-\d{2}-\d{2}$/)}const S=(e="",t="")=>{if(e&&t){const s=m(e)?_(e):null,a=m(t)?_(t):null;e=s&&(0,r.qb)(s)?s:(0,r.Ux)(),t=a&&(0,r.qb)(a)?a:(0,r.Ux)()}else e=t=(0,r.Ux)();return{startDate:e,endDate:t}}},56773:e=>{"use strict";e.exports={className:{default:{shadedContainer:"I_ZnwrMC D_F em_N o_h W_6D6F H_6D6F",container:"D_F em_N o_h s_1HLnlu",leftRail:"a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_d5Y D_F ek_BB em_0",leftRailWide:"a_3rehn W_3rehn s_3rehn cZ10Gnkk_d5Y D_F ek_BB em_0",mainContent:"em_N ek_BB gl_C j_ZUs0f0 o_h p_R D_F s_e5X x_Z14vXdP",mainContentBgOverlay:"I_ZkbNhI",widthRestrictor:"D_F em_N ej_eUh o_h",mainNavigation:"em_N je_6Fd5 D_F W_6D6F H_6D6F iz_A",routeHandler:"F_N gl_C o_h D_F p_R U_0"},"verticalPreviewPane-false":{container:"s_1HCsWR"},"themeMode-MEDIUM":{shadedContainer:"I_ZS20V7"},composeTray:{routeHandler:"U_73rW m_Z14vXdP"},"themeMode-DARK":{shadedContainer:"I_ZS20V7"},composeTrayInDarkTheme:{routeHandler:"m_ZYfqDw"},viewsUnderInbox:{container:"I_ZkbNhI"},onboardingRoute:{container:"s_1HCsWR q_ATgVd",mainContentBgOverlay:"q_ATgVd",shadedContainer:"q_ATgVd"},darkModeNonPhotoTheme:{shadedContainer:"I_ZS20V7",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_29psyX"},darkModePhotoTheme_NIGHT_LANDSCAPE:{shadedContainer:"I_cOYCy",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_cOYF6"},darkModePhotoTheme_ROADTRIP:{shadedContainer:"I_1iaDqt",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_1iaDt1"},darkModePhotoTheme_SUNSET_AUSSIE:{shadedContainer:"I_2woiYa",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_2woj1H"},darkModePhotoTheme_LIGHTHOUSE:{shadedContainer:"I_t5YKp",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_t5YMW"},darkModePhotoTheme_SPRING:{shadedContainer:"I_ZgFtv1",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZgFtst"},darkModePhotoTheme_WINTER:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"},darkModePhotoTheme_SUMMER:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"},darkModePhotoTheme_GALAXY:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"},darkModePhotoTheme_FALL:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"},darkModePhotoTheme_WESTERN:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"},darkModePhotoTheme_SUNSET:{shadedContainer:"I_ZGiXPF",mainContent:"j_n x_ZYfqDw",mainContentBgOverlay:"I_ZGiXN8"}},_key:"EbEXt"}},93505:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>k});var a=s(18685),n=s(99095),r=(s(45697),s(67294)),o=(s(31280),s(37422)),i=s(26),l=s(94766),c=s(43007),d=s(56148),_=s(50621),E=s(65304),u=s(8470),m=s(40918),S=s(10728),p=s(87195),C=s(92559),A=s(76531),T=s(67498),I=s(28182),h=s(76223),g=s.n(h),O=s(24666),D=s.n(O),R=s(7228),N=s(99691),L=s(17016),f=s(94482),M=s(85927),P=s(62201);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const v=(0,n.defineMessages)({download:{id:"attachment_item.download",defaultMessage:"Download"},untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"},preview:{id:"attachment_item.preview",defaultMessage:"Preview"}}),F=g()(D());class U extends r.Component{constructor(e){super(e),y(this,"handleSendAsImage",(()=>{this.props.onSendAsInlineImage(this.props.attachment)})),y(this,"renderProgressBar",(()=>{const e=this.getProgressValue();return r.createElement("div",{"data-test-id":"attachment-progress-bar",role:"progressbar","aria-valuenow":e,"aria-valuemin":"0","aria-valuemax":"100",className:F.progressBar,style:{width:e+"%"}})})),y(this,"getProgressValue",(()=>{const{contentIdToUploadProgress:e,attachment:{contentId:t}}=this.props;return e[t]||0})),y(this,"displayImageWhenReady",(e=>{this.blobUrl=null,this.imageToLoad=null,this.imageRef.current&&(this.imageRef.current.src=e.target.src)})),y(this,"loadImageInBackground",(e=>{this.blobUrl&&!this.imageToLoad&&(this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady)})),y(this,"renderContent",((e,t)=>{const{contentId:s,filename:a}=e,{mayContainVirus:n,hasError:d,isUploaded:_,getThumbnailUrl:E}=this.props;let u;switch(t){case o.sSc.SimplifiedTypes.AUDIO:u="audio";break;case o.sSc.SimplifiedTypes.VIDEO:u="video";break;case o.sSc.SimplifiedTypes.IMAGE:u="img"}if(!d(s)&&!_(s)){const s=this.getProgressValue();return t===o.sSc.SimplifiedTypes.IMAGE?(this.blobUrl=e.downloadUrl,r.createElement("div",null,r.createElement(u,{src:e.thumbnailUrl||e.downloadUrl,className:F.media,style:{opacity:"0.3"}}),!s&&r.createElement("div",{className:F.loadingIconContainer},r.createElement(i.Z,null)),this.renderProgressBar())):r.createElement("div",null,s?r.createElement(l.Z,e):r.createElement(i.Z,null),this.renderProgressBar())}if(d(s)||!(0,N.wt)(a))return r.createElement(c.Z,{kind:A.Kinds.ATTENTION,size:A.Sizes.L,colorState:A.ColorStates.WARNING});if(n)return r.createElement(l.Z,b({},e,{disabled:!0}));if(u){const t=E(s)||(null==e?void 0:e.downloadUrl);return"img"===u&&this.loadImageInBackground(t),r.createElement(u,{ref:this.imageRef,src:"img"===u&&this.blobUrl||t,className:F.media,"data-test-id":"attachment-thumbnail"})}return r.createElement(l.Z,e)})),y(this,"onMouseEnterChange",(e=>{clearImmediate(this._hoverTimer),e?this.state.hover!==e&&this.setState({hover:e}):this._hoverTimer=setImmediate((()=>{this.state.hover!==e&&this.setState({hover:e})}))})),y(this,"onMouseEventChange",(e=>{this.setState({anchorHover:e})})),y(this,"renderPopoverMenu",(e=>{const{attachment:t,onClick:s,isPreviewEnabled:a,hasGroupId:i}=this.props;return r.createElement(_.ZP,{permittedArrowDirections:[E.Ji.UP,E.Ji.DOWN],zAltitude:S.LSY.POPOVER.HIGH,align:E.xM.END,offset:2*S.mg$,triggerOn:_.XU.CLICK,triggerOff:_.Es.CLICK,className:F.popoverContainer,onContentMouseOver:this.onMouseEnterChange.bind(this,!0),onContentMouseOut:this.onMouseEnterChange.bind(this,!1),isArrowVisible:!1},r.createElement("div",{className:F.itemMenu,onMouseEnter:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1),"data-test-id":"more-option-button"},r.createElement(d.Z,{kind:A.Kinds.MORE,colorStates:{normal:A.ColorStates.COOL_FAINT,hovered:A.ColorStates.SELECTED},size:A.Sizes.XXS})),r.createElement("div",{className:F.menuContainer,"data-test-id":"attachment-menu"},r.createElement(u.Z,{kind:m.F.MENU,focusOnMount:!0},e===o.sSc.Types.IMAGE&&this.props.richTextMode?r.createElement(f.Z,{className:F.menuItem,"data-test-id":"send-as-image-item"},r.createElement(T.Z,{kind:I.F.MENUITEM_PARENT_TEXT_COLOR,onClick:this.handleSendAsImage},r.createElement(n.FormattedMessage,{id:"attachment.send_as_images",defaultMessage:"Send as image"}))):null,r.createElement(f.Z,{className:F.menuItem,"data-test-id":"remote-att-item"},r.createElement(T.Z,{kind:I.F.MENUITEM_PARENT_TEXT_COLOR,onClick:this.props.onRemove},r.createElement(n.FormattedMessage,{id:"attachment.remove",defaultMessage:"Remove"}))),(0,N.Rj)(t,i)&&a?r.createElement(f.Z,{className:F.menuItem,"data-test-id":"preview-att-item"},r.createElement(T.Z,{kind:I.F.MENUITEM_PARENT_TEXT_COLOR,onClick:e=>s((0,L.getInteractionFromEvent)(e))},r.createElement(n.FormattedMessage,{id:"attachment.preview",defaultMessage:"Preview"}))):null)))})),y(this,"_renderPreviewMask",((e,t)=>{const{onClick:s,allowDownload:a}=this.props,n=a?e.previewButtonWrapper:e.previewWrapperMsgList,o=a?e.previewButton:e.previewButtonMsgList,i=this.context.intl.formatMessage(v.preview);return r.createElement("div",{className:n,onClick:e=>s((0,L.getInteractionFromEvent)(e))},r.createElement(T.Z,{"data-test-id":"attachment-item-preview",kind:I.F.PLAIN,className:o,title:i},r.createElement("span",{"aria-hidden":!0},i)),a?r.createElement("div",{className:e.downloadIconOnPreview,"data-test-id":"download-icon",onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},r.createElement(c.Z,{kind:A.Kinds.DOWNLOAD,size:A.Sizes.XS,colorState:this.state.anchorHover?A.ColorStates.PRIMARY_HOVER:A.ColorStates.SELECTED})):null)})),y(this,"_renderDownloadMask",((e,t)=>{const{allowDownload:s}=this.props,a=s?e.noPreviewText:e.noPreviewTextMsgList,o=s?e.noPreviewWrapper:e.noPreviewWrapperMsgList;return r.createElement("div",{className:o,"data-test-id":"attachment-no-preview"},r.createElement("span",{className:a},r.createElement(n.FormattedMessage,{id:"attachment_item.no_preview",defaultMessage:"No Preview"})),s?r.createElement("div",{"data-test-id":"download-icon",className:e.downloadIconOnPreview,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1),onClick:this._handleDownloadClick,title:t},r.createElement(c.Z,{kind:A.Kinds.DOWNLOAD,size:A.Sizes.XS,colorState:this.state.anchorHover?A.ColorStates.PRIMARY_HOVER:A.ColorStates.SELECTED})):null)})),y(this,"_handleDownloadClick",(e=>{e.preventDefault(),e.stopPropagation(),(0,N.lz)(this.props.attachment)&&this.props.handleDownload({attachment:this.props.attachment,i13nModel:{mKey:C.JE.DOWNLOAD_ATTACHMENT,sec:C.nJ.MSG_READ_ATTACHMENT,mKeyGroup:C.rO.dwnldAttmnt}})})),this._hoverTimer=null,this.imageRef=r.createRef(),this.state={hover:!1,anchorHover:!1}}componentWillUnmount(){clearImmediate(this._hoverTimer)}render(){const{attachment:e={},allowDownload:t,readOnly:s,isPreviewEnabled:a,mayContainVirus:n,previewWithoutDownload:i,smallPreview:l,isCompact:c,hasGroupId:d}=this.props,{filename:_="",subtype:E,type:u,state:m,size:S}=e,{formatMessage:C}=this.context.intl,A=(0,N.mD)(_),T=m===o.rUt.LOADING,I=(0,N.SA)(u,E),h=a&&(0,N.Rj)(e,d),O=(0,N.Rj)(e,d)||(0,N.lz)(e),L=t&&!T,f=R.D(_),M=_?R.E(_,f):C(v.untitled),P=C(v.download),b=(0,p.Xx)(S,1),y=(t||i)&&O&&d&&this.state.hover,F=g()(D(),{type:A||I,state:m,anchorHover:this.state.anchorHover,spam:n,smallPreview:l,isPreviewEnabled:a,hover:this.state.hover,isCompact:c,unsupportedFileType:!(0,N.wt)(_)});return r.createElement("div",{className:F.container,"data-test-id":"attachment-item"},!s&&this.state.hover&&this.renderPopoverMenu(I),r.createElement("div",{"data-test-id":"attachment-container",className:F.content,onMouseOver:this.onMouseEnterChange.bind(this,!0),onMouseLeave:this.onMouseEnterChange.bind(this,!1)},r.createElement("div",{className:F.mediaContent},this.renderContent(e,I)),y?r.createElement("div",{className:F.hoverMask},h?this._renderPreviewMask(F,P):this._renderDownloadMask(F,P)):null),r.createElement("div",{className:F.label,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},L?r.createElement("div",{className:F.downloadIcon,onClick:this._handleDownloadClick,onMouseOver:this.onMouseEventChange.bind(this,!0),onMouseLeave:this.onMouseEventChange.bind(this,!1)},r.createElement("a",{"data-test-id":"attachment-download",href:e.downloadUrl,className:F.downloadIconWrapper},r.createElement("span",{className:F.downloadFilename,title:e.filename},r.createElement("div",{className:F.filename},r.createElement("span",{className:F.labelBaseName},r.createElement("span",null,M)),r.createElement("span",null,f)),r.createElement("div",{className:F.fileSize},b)))):r.createElement("span",{className:F.filenameContainer,title:e.filename},r.createElement("div",{className:F.filename},r.createElement("span",{className:F.labelBaseName},r.createElement("span",null,M)),r.createElement("span",null,f)),l?null:r.createElement("div",{className:F.fileSize},b))))}}y(U,"contextTypes",{intl:n.intlShape.isRequired}),y(U,"defaultProps",{smallPreview:!1,previewWithoutDownload:!1,contentIdToUploadProgress:{}});const k=(0,a.connect)(((e,t)=>{const{getAttachmentsSelectors:s,getComposeSessionsSelectors:a,getRoute:n,getGroupIdContainingMessageId:r,isFeatureEnabled:i,getComposeFormatsSelectors:l}=(0,M.selectors)(e),{hasError:c,isUploaded:d,getThumbnailUrl:_}=s(),{getAllComposeFormats:E}=l(),{getAttachmentProgress:u,doesComposeSessionExist:m,getDraftMessageId:S}=a(),{name:p,params:C}=n();let A;const T=-1!==[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(p);T&&(A=C.csid),A=A||t.csid;const I=i(o.ANe.COMPACT_COMPOSE)&&E().includes(A);return{hasError:c,isUploaded:d,getThumbnailUrl:_,contentIdToUploadProgress:m(t.csid)?u(t.csid):void 0,hasGroupId:!T&&!I||Boolean((()=>{const e=m(A)&&S(A);return e?r(e):void 0})())}}),(e=>({handleDownload({attachment:t,i13nModel:s}){e((0,P.Ve)({attachment:t,i13nModel:s}))}})))(U)},26453:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>f});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=(s(31280),s(99691)),l=s(93505),c=s(62201),d=s(76223),_=s.n(d),E=s(85313),u=s.n(E),m=s(92559),S=s(43007),p=s(76531),C=s(51892),A=s(9333),T=s(18685),I=s(85927),h=s(37422),g=s(40315),O=s(64059);function D(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const R=_()(u()),N=(0,o.defineMessages)({title:{id:"learnmore.title",defaultMessage:"Attachments cannot be downloaded"},content:{id:"learnmore.content",defaultMessage:"Attachments in emails marked as Spam may contain harmful content.            To download attachments in this email, please move the email out of the Spam folder."},warningIcon:{id:"learnmore.warning",defaultMessage:"Warning"},harmfulAttachment:{id:"attachment.harmfulContent",defaultMessage:"This email was moved from Spam folder. Attachments may contain harmful content."},unsupportedFileType:{id:"attachment.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."}});class L extends r.Component{constructor(e){super(e),D(this,"onItemRemove",(e=>{this.props.readOnly||this.props.onAttachmentRemove(e)})),D(this,"_handleDownloadAllClick",((e,t)=>{e.stopPropagation(),e.preventDefault();const s=this.getDownloadAllFilename(),{id:a,downloadAllUrl:n}=this.props.message;this.props.handleDownloadAll({attachments:t,downloadId:a,downloadUrl:n,filename:s,i13nModel:{mKey:m.JE.DOWNLOAD_ATTACHMENT_ALL,sec:m.nJ.MSG_READ_ATTACHMENT,mKeyGroup:m.rO.dwnldAttmnt}})})),D(this,"getDownloadAllFilename",(()=>`Attachments_${this.state.combinedZipFilename}.zip`)),D(this,"_renderWarningMsg",(()=>{const{formatMessage:e}=this.context.intl,{learnMoreShown:t}=this.state;return r.createElement("div",{className:R.spamDownloadWarning},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:R.attentionIcon,kind:p.Kinds.ATTENTION,size:p.Sizes.XXS,title:e(N.warningIcon)}),r.createElement(o.FormattedMessage,{id:"attachment.dl.warning",defaultMessage:"Attachments cannot be downloaded.","data-test-id":"dl-warning"}),r.createElement("button",{className:R.learnMore,onClick:()=>this.setState({learnMoreShown:!0}),"data-test-id":"learn-more"},r.createElement(o.FormattedMessage,{id:"attachment.learnmore",defaultMessage:"Learn more"})),t?r.createElement(C.Z,{title:e(N.title),message:e(N.content),onAccept:()=>this.setState({learnMoreShown:!1})}):null)})),D(this,"renderSpamAttachmentWarning",(e=>{if(this.props.shouldShowSpamAttachmentWarning(e))return r.createElement("div",{className:R.spamAttachmentWarning},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:R.attentionIcon,kind:p.Kinds.EXCLAMATION_ALT,size:p.Sizes.XXS,title:this.context.intl.formatMessage(N.harmfulAttachment)}),r.createElement(o.FormattedMessage,N.harmfulAttachment))})),D(this,"renderUnsupportedAttachmentWarning",(()=>{if((0,i.HD)(this.getAttachments(),this.props.allowInline).filter((e=>!(0,i.wt)(e.filename))).length){const{formatMessage:e,locale:t}=this.context.intl,s=e(N.unsupportedFileType);return r.createElement("div",{className:R.attachmentWarning,"data-test-id":"attachment-tray.unsupported-type-warning"},r.createElement(A.default,{colorState:p.ColorStates.WARNING,className:R.attentionIcon,kind:p.Kinds.ATTENTION,size:p.Sizes.XXS,title:s}),s,r.createElement("button",{className:R.attachmentWarningLearnMore,onClick:()=>(0,O.x)((0,h.ITc)(t))},r.createElement(o.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"})))}})),D(this,"getAttachments",(()=>{const{getAttachments:e,attachments:t}=this.props;return e().length?e():t||[]}));const{message:t}=e;this.state={combinedZipFilename:t?M(t.headers.subject):"",learnMoreShown:!1}}render(){const{readOnly:e,allowDownload:t,mayContainVirus:s,onAttachmentPreview:a,message:n,isCompact:c,documentPreviewEnabled:d,allowInline:E}=this.props,m=_()(u(),{isCompact:c,allowInline:E}),C=this.props.cepForward?(0,i.Ij)((0,i.HD)(this.getAttachments())):(0,i.HD)(this.getAttachments(),E),{length:A}=C;return A?r.createElement("div",{className:m.tray},n&&n.downloadAllUrl&&t&&A>1?r.createElement("a",{className:m.downloadAllLink,href:n.downloadAllUrl,"data-test-id":"download-all-attachments",onClick:e=>this._handleDownloadAllClick(e,C)},r.createElement("span",{className:m.downloadAllIcon},r.createElement(S.Z,{kind:p.Kinds.DOWNLOAD,size:p.Sizes.XS,colorState:p.ColorStates.SELECTED})),r.createElement(o.FormattedMessage,{id:"attachment_tray.downloadAll",defaultMessage:"Download all attachments as a zip file"})):null,s?this._renderWarningMsg():null,n&&n.id?this.renderSpamAttachmentWarning(n.id):null,this.renderUnsupportedAttachmentWarning(),r.createElement("ul",{className:m.ul},C.map(((n,o)=>{let _=t;return(0,i.oZ)(n)&&(_=_&&d),r.createElement("li",{key:o,className:m.item,"data-test-id":"attachment-tray-list-item"},r.createElement(l.ZP,{attachment:n,readOnly:e,allowDownload:t,mayContainVirus:s,onRemove:this.onItemRemove.bind(null,n),onClick:a.bind(null,n.id),isPreviewEnabled:_,onSendAsInlineImage:this.props.onSendAsInlineImage,richTextMode:this.props.richTextMode,isCompact:c,csid:this.props.csid}))})))):null}}D(L,"contextTypes",{executeAction:n().func,config:n().object,intl:o.intlShape.isRequired}),D(L,"defaultProps",{onAttachmentRemove:()=>{},onAttachmentPreview:()=>{},richTextMode:!0,getAttachments:()=>[],attachments:[],cepForward:!1,allowInline:!1});const f=(0,T.connect)((e=>{const{getFeaturesSelectors:t}=(0,I.selectors)(e),s=t();return{cepForward:s.isEnabled(h.ANe.CEP_FORWARD),documentPreviewEnabled:s.isEnabled(h.ANe.DOCUMENT_PREVIEW)}}),(e=>({handleDownloadAll({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}){e((0,c.FH)({attachments:t,downloadId:s,downloadUrl:a,filename:n,i13nModel:r}))}})),null,{areOwnPropsEqual:()=>!1})(L);function M(e=""){if(!e||!/[a-z0-9]/i.test(e))return(0,g.Ij)(new Date).replace(/-/g,"");return e.replace(/ /g,"_").replace(/\W/g,"").replace(/_+$/,"").replace(/^_+/,"").substring(0,20)}},24666:e=>{"use strict";e.exports={className:{default:{container:"W_3n93F p_R",content:"I_Z1gjdlg k_w H_7yHc p_R o_h",mediaContent:"D_F ab_C gl_C H_6D6F",media:"W_6D6F",button:"c27KHO0_n b_0 I_ZS20TA C_ZkbNhI A_6EqO W_6D6F H_6D6F D_F gl_FM ab_C P_3gJOe",itemMenu:"p_a Z_O T_36JN3 R_36JN3 W_6MGW H_6MGW e_6MGW I_ZkbNhI j_20lmjm D_F gl_C ab_C r_P",menuContainer:"P_3HLUz",menuItem:"J_x I4_Z1gjd5v C4_Z29WjXl",label:"A_6Eb4 i_6FIA J_x D_F r_P",filename:"D_F u_e69",labelBaseName:"G_e o_h",fileSize:"u_dzD A_6DUj",filenameContainer:"D_F ek_BB o_h J_x C_Z1VRqsb Q_eo6",downloadFilename:"D_F ek_BB o_h J_x C_Z1VRqsb Q_67SN W_3mS2U",loadingIconContainer:"p_a T_0 L_0 W_6D6F H_6D6F D_F gl_C ab_C",progressBar:"W_0 H_dRA I_Z29WjXl p_a B_0 L_0 lv_1tzisg",hoverMask:"p_a T_0 B_0 L_0 R_0 D_F gl_C",previewButtonWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F r_P",downloadIconOnPreview:"p_a e_dRA i_dBP r_P b_1Ea0ib R_eo6 B_eo6 M_0",noPreviewWrapper:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",noPreviewWrapperMsgList:"I_ZnIF8Y D_F ek_BB gl_C em_N W_6D6F b_Z14vXdP P_fq7",previewWrapperMsgList:"I_a0zME D_F ek_BB gl_C em_N W_6D6F",previewButtonMsgList:"u_e69 C_Z29WjXl P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6EqO",previewButton:"u_e69 C_Z29WjXl P_Z1E2YFn r_P q_n b_0 F_N M_0 o_h G_e A_6Eb4 Y_6LEV",noPreviewText:"u_e69 C_Z29WjXl r_BN A_6Eb4 P_Z1E2YFn gl_C t_C q_n b_0 F_N Y_6LEV",noPreviewTextMsgList:"u_e69 C_Z29WjXl r_BN A_6EqO D_F gl_C t_C i_6EWk",downloadIcon:"en_0",downloadIconWrapper:"D_F",popover:"P_Z1E2YFn u_e69"},unsupportedFileType:{content:"b_ZXX6Fk"},smallPreview:{container:"W_7Ig6",content:"H_7jIs",label:"A_6DUj i_6EqO Y_eTB"},anchorHover:{downloadFilename:"C_Z29WjXl",content:"b_2gzP8k",filenameContainer:"C_Z29WjXl"},spam:{filenameContainer:"C_ZroviD r_BN",label:"r_BN"},hover:{content:"b_2gzP8k",mediaContent:"O_cMp"},isCompact:{mediaContent:"O_N"},"type-image":{mask:"I_ioJaP"},"type-xls":{content:"I_2m2209"},"type-ppt":{content:"I_Z2gRbsK"},"type-doc":{content:"I_Z1gjdlg"},"type-pdf":{content:"I_Z2gRbsK"},"type-compressed":{content:"I_Z21PQN4"},"type-video":{content:"I_18K0L5"},"type-audio":{content:"I_18K0L5"},"type-cal":{content:"I_18K0L5"},"state-ERROR":{content:"I_Z1gjdlg P_dRA",mediaContent:"I_ZnIF8Y",label:"C_Zkj7X4"}},_key:"Z2omNrm"}},85313:e=>{"use strict";e.exports={className:{default:{attentionIcon:"p_R T_e8l",tray:"P_0 je_fq7",ul:"hd_n D_F eo_HB M_gQyVX P_0",downloadAllLink:"D_F ab_GM C_Z29WjXl A_6Eb4 r_P",downloadAllIcon:"E_eo6",spamDownloadWarning:"C_Zkj7X4",learnMore:"I_T b_0 C_Z29WjXl r_P Q_fq7",item:"E_6Fd5 Y_6LEV",compactItem:"M_1VQXDU",spamAttachmentWarning:"Y_6LEV C_Zkj7X4",attachmentWarning:"Y_6LEV C_Zkj7X4 A_6Eb4",attachmentWarningLearnMore:"I_T b_0 C_Z29WjXl r_P Q_eo6 A_6Eb4"},isCompact:{item:"M_1VQXDU",ul:"M_Z9saPG"}},_key:"ZMq3R7"}},80981:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>N});s(45697);var a=s(67294),n=s(18685),r=s(85927),o=s(99095),i=s(91869),l=s(8470),c=s(52021),d=s(17016),_=s(92559),E=s(21679),u=s.n(E),m=s(76223),S=s.n(m),p=s(43007),C=s(76531),A=s(37422),T=s(44908),I=s.n(T),h=s(31057);function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const O=S()(u()),D=(0,o.defineMessages)({heading:{id:"blockSenders.heading",defaultMessage:"Block senders"},description:{id:"blockSenders.description",defaultMessage:"Please verify that you want to block messages from the following email senders:"},blockOption:{id:"blockSenders.blockOption",defaultMessage:"Block all future emails"},deleteOption:{id:"blockSenders.deleteOption",defaultMessage:"Delete all existing emails"}});class R extends a.Component{constructor(...e){super(...e),g(this,"state",{sendersChecked:this.props.emailIds.reduce(((e,t)=>({...e,[t]:!0})),{}),blockSendersChecked:!0,deleteMessagesChecked:!0}),g(this,"handleConfirm",(e=>{e.stopPropagation();const{emailIds:t,handleBlockSenders:s,handleBlockSendersWithDelete:a,messageGroupIds:n,listId:r,folderId:o,permanent:i}=this.props,{sendersChecked:l,blockSendersChecked:c,deleteMessagesChecked:E}=this.state,u=t.filter((e=>l[e])),m={mKey:_.JE.BLOCK_SENDERS_SUBMIT,sec:_.nJ.MSG_LIST_TOOLBAR_POPUP,interactionType:(0,d.getInteractionFromEvent)(e)};if(0===u.length)return void this.props.onClose();const S=u.length,p=I()(this.props.blockedSenders.concat(u));if(E){const e={deleteItemsFromSenders:u,i13nModel:m,listId:r,messageGroupIds:n,delta:S,folderId:o,permanent:i};c&&(e.blockSenders=p),a(e)}else c&&s({blockSenders:p,i13nModel:m,delta:S});this.props.onClose()})),g(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()})),g(this,"handleKeydown",((e,t)=>{/^( )$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e())})),g(this,"toggleCheckStatus",(e=>{const t=Object.assign({},this.state.sendersChecked,{[e]:!this.state.sendersChecked[e]});this.setState({sendersChecked:t})})),g(this,"renderItem",((e,t,s)=>a.createElement("a",{onClick:s,className:O.item,tabIndex:-1,onKeyDown:this.handleKeydown.bind(this,s)},a.createElement("span",{className:O.checkbox},a.createElement(p.Z,{kind:e?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:e?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,t))))}render(){const{formatMessage:e}=this.context.intl,{sendersChecked:t,blockSendersChecked:s,deleteMessagesChecked:n}=this.state;return a.createElement(i.Z,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(D.heading),onOuterClick:()=>{}},a.createElement("div",{"data-test-id":"block-senders-dialog"},a.createElement("div",{className:O.description},e(D.description)),a.createElement("div",{className:O.list},a.createElement(l.Z,{focusOnMount:!0,onEscape:this.props.onClose,tabIndex:0},this.props.emailIds.map((e=>a.createElement("li",{key:e},this.renderItem(t[e],e,this.toggleCheckStatus.bind(this,e))))))),a.createElement("div",{className:O.separator}),a.createElement("a",{onClick:()=>this.setState({blockSendersChecked:!s}),className:O.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,(()=>this.setState({blockSendersChecked:!s})))},a.createElement("span",{className:O.checkbox},a.createElement(p.Z,{kind:s?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:s?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,e(D.blockOption))),a.createElement("a",{onClick:()=>this.setState({deleteMessagesChecked:!n}),className:O.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,(()=>this.setState({deleteMessagesChecked:!n})))},a.createElement("span",{className:O.checkbox},a.createElement(p.Z,{kind:n?C.Kinds.CHECKBOX_ON:C.Kinds.CHECKBOX_OFF,size:C.Sizes.XS,colorState:n?C.ColorStates.SELECTED:C.ColorStates.COOL_FAINT})),a.createElement("span",null,e(D.deleteOption)))))}}g(R,"contextTypes",{intl:o.intlShape.isRequired}),g(R,"defaultProps",{blockedSenders:[],emailIds:[]});const N=(0,n.connect)(((e,t)=>{const{messageGroupIds:s,onClose:a,emailIds:n}=t,{getSenderEmailIdsFromMessageGroup:o,getFeaturesSelectors:i,getFoldersSelectors:l}=(0,r.selectors)(e),c=i().getSetting(A.Zrf.DELIVERY_BLOCKED_SENDERS),d=(0,h.Fh)(t.listId),_=!!d&&l().isPermDeleteFolderType(d);return{emailIds:n&&n.length?n:o(s),onClose:a,blockedSenders:c,folderId:d,permanent:_}}),(e=>({handleBlockSenders:t=>e((0,c.ZP)(t)),handleBlockSendersWithDelete:t=>e((0,c.UT)(t))})))(R)},21679:e=>{"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",list:"Q_69rk K_3o5DP P_dBP iz_A",item:"D_F ab_C u_e69 r_P I4_Z1gjdjJ I3_Z1gjdjJ",separator:"m_Z14vXdP M_1HT1B4",checkbox:"P_eo6 D_F",option:"D_F ab_C Q_69bz u_e69 r_P"}},_key:"Z2fGuaK"}},54400:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({mailBrandName:{id:"mail.yahoo_mail_brand_name",defaultMessage:"Yahoo Mail"},brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},yahooMailPlusBrandName:{id:"mail.yahoo_mail_plus_branding",defaultMessage:"Yahoo Mail Plus"},yahooMailPlusAttBrandName:{id:"mail.yahoo_mail_plus_branding.att",defaultMessage:"Yahoo Mail Plus for AT&T"}})},40902:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s(45697);var a=s(67294),n=s(99095),r=s(40315);class o extends a.Component{render(){const{daysUntilExpiry:e}=this.props;if(e>1&&e<=6){const t=(0,r.MI)((0,r.Ux)(),e),s=a.createElement(n.FormattedDate,{value:t,weekday:"long"});return a.createElement(n.FormattedMessage,{id:"expires_on_a_date",defaultMessage:"Expires on {expireMsg}",values:{expireMsg:s}})}return a.createElement(n.FormattedMessage,{id:"expires_in_n_days",defaultMessage:"Expires {daysUntilExpiry, plural, =0 {today} =1 {tomorrow} other {in # days}}",values:{daysUntilExpiry:e}})}}},72813:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(41546),i=s(37422),l=s(79483),c=s(92559),d=s(52180),_=s.n(d),E=s(40561),u=s(19341);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const S=(0,o.A)("/img/deal_image_placeholder.png"),p="card",C="product";class A extends a.Component{constructor(...e){super(...e),m(this,"handleCardBodyClick",(()=>{const{affiliatePartnerName:e,categoryIds:t,contextOfUse:s,currentBrand:a,currentBrandBadge:n,currentBrandPosition:r,fromEmail:o,parentMessageId:d,position:_,productId:E,reference:u,url:m,xpname:S,score:A,ccId:T,brandUrl:I,isAffiliatePartnerEnabled:h,rrSlot:g}=this.props,O="storefront"===s,D="collectionModal"===s,R="rightRailDeals"===s;let N=c.nJ.MSG_BODY,L=c.KJ.TOM,f=p,M=c.Rb.click;O?(N=c.nJ.STOREFRONT_VIEW,L=i.zzX.SHORTCUTS_STORE,f=C,M=c.Rb.monetizable_click):D&&(L=c.KJ.POPOVER,f=C,M=c.Rb.monetizable_click);let P={affiliatePartnerName:e,brandurl:m,cardId:E,categoryid:t,featurefamily:i.lMo.IC,interacteditem:f,interactiontype:M,msgId:d,position:_,reference:u,slot:L,sndr:o,xpname:S,score:A};O?(P.currentbrand=a,P.currentbrandbadge=n,P.currentbrandposition=r):R&&(N=c.nJ.RIGHT_RAIL,P={xpname:S,ccid:T,sndr:o,brandurl:I,slot:g,featurefamily:i.lMo.IC,interactiontype:h?c.Rb.monetizable_click:c.Rb.click,affiliatePartner:e,position:_}),l.ZP.sendI13nModel({i13nModel:{mKey:c.JE.CARD_INTERACT,sec:N,actionData:P}})}))}render(){const{contextOfUse:e,description:t,imageUrl:s,name:n,originalPrice:o,price:i,url:l,iconUrl:c,isRRCompactSize:d,isDarkTheme:m,fromEmail:p}=this.props,C=o>i,A="storefront"===e,T="collectionModal"===e,I="rightRailDeals"===e,h=r()(_(),{isDiscountedPrice:C,isStorefrontProduct:A||T,isRRDeals:I,isRRCompactSize:d,isDarkTheme:m});return a.createElement("a",{className:h.container,"data-test-id":"products-card-link",href:l,onClick:()=>this.handleCardBodyClick(),target:"_blank",title:t},a.createElement("div",{className:h.imageContainer},a.createElement("img",{className:h.image,src:s||S,alt:t})),a.createElement("div",{className:h.card},I&&a.createElement(a.Fragment,null,a.createElement("div",{className:h.description,title:t},t),a.createElement("div",{className:h.brandContainer},a.createElement("img",{className:h.iconImage,src:c||(0,E.z)({email:p},u.u8.S,u.tQ,this.context.appId)}),a.createElement("span",{className:h.brandName},n))),!I&&a.createElement("div",{className:h.priceContainer},a.createElement("div",{className:h.price},i),C&&a.createElement("div",{className:h.originalPrice},o)),A&&a.createElement(a.Fragment,null,a.createElement("div",{className:h.description,title:t},t),a.createElement("span",{className:h.name},n))))}}m(A,"defaultProps",{imageUrl:S,score:"0.0"})},11396:e=>{"use strict";e.exports={className:{default:{merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG",textWrapper:"ab_C D_F",textLeft:"ab_C D_F E_6Eb4",textRight:"D_F ek_BB",textName:"A_6FsP C_Z281SGl",textLink:"H_6EGz",actionWrapper:"E_73HH"}},_key:"1ydLBT"}},52180:e=>{"use strict";e.exports={className:{default:{container:"W_3n93F",imageContainer:"D_F gl_C W_3n93F H_3n93F e_fq7 b_2wc7QY",image:"a_6D6F K_6D6F im_BE e_fq7",card:"A_6DUj C_Z281SGl Y_fq7",priceContainer:"D_F",price:"u_b",cashback:"u_b C_Z1XBLoF"},isDiscountedPrice:{price:"C_ZmDiLl",originalPrice:"C_Z1YRXYn Q_eo6 S_DB"},isStorefrontProduct:{container:"W_3nW7W M_Z2mhRXn",imageContainer:"W_3nW7W H_3nW7W e_eo6 b_Z12rHwq",image:"e_eo6",card:"A_6EqO",description:"A_6DUj H_6NIX i_6CBt o_h J_EP ca8c02_O cZwJqdT_Z2lir11 D_ZS1uoi",name:"H_6EGz A_6DUj Y_fq7 i_6CBt C_Z1VRqsb"},isRRDeals:{container:"W_3np4q H_3nV5V b_Z14vXdP e_eo6 I_ZkbNhI p_R r_P j4_Z2mESJL",imageContainer:"gl_C W_3np4q H_3mU6W e_eo6 b_n",image:"W_3np4q H_3mU6W im_BE e_e8l",iconImage:"W_6Fd5 H_6Fd5 e_e5X P_ZdOD9p",card:"M_fq7 A_6EqO D_F ek_BB H_7iGr gl_C",description:"A_6EqO u_e69 i_6CBt o_h J_EP ca8c02_O cZwJqdT_Z2lir11 D_ZS1uoi",brandContainer:"D_F ab_C Y_eo6",brandName:"A_6EqO H_6Fd5 i_6CBt o_h J_x D_B G_e U_dRA"},isRRCompactSize:{container:"W_3nxAj",image:"W_3nxAj",imageContainer:"W_3nxAj"},isDarkTheme:{container:"b_Z1a7UWG j4_ZJE4yx"}},_key:"IzHdD"}},75002:e=>{"use strict";e.exports={className:{default:{container:"D_B P_ZsfrCf I_ZkbNhI W_3v2sj",title:"A_6EqO u_e69",description:"A_6EqO Y_eo6 C_Z1YRXYn",cardsContainer:"Y_6Eb4 D_F eo_HB dh_6Eb4 c1D3vq7_6Fd5"},isRRCompactSize:{container:"W_3nyCk",cardsContainer:"Y_6Fd5 ga_"},isDarkTheme:{title:"C_ZkbNhI",description:"C_ZpQYvz"},"themeMode-MEDIUM":{container:"I_29psyX"},"themeMode-DARK":{container:"I_29psyX"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-DARK_SPRING":{container:"I_ZgFtst"},"themeCombo-MEDIUM_SPRING":{container:"I_ZgFtst"},"themeCombo-DARK_WINTER":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_WINTER":{container:"I_ZGiXN8"},"themeCombo-DARK_SUMMER":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_SUMMER":{container:"I_ZGiXN8"},"themeCombo-DARK_GALAXY":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_GALAXY":{container:"I_ZGiXN8"},"themeCombo-DARK_FALL":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_FALL":{container:"I_ZGiXN8"},"themeCombo-DARK_WESTERN":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_WESTERN":{container:"I_ZGiXN8"},"themeCombo-DARK_SUNSET":{container:"I_ZGiXN8"},"themeCombo-MEDIUM_SUNSET":{container:"I_ZGiXN8"}},_key:"Z29nHHb"}},8578:e=>{"use strict";e.exports={className:{default:{container:"H_7bcz M_6Fd5 P_kStwt e_eo6 D_F ab_C",heading:"u_e69 E_fq7 C_1YHari",suggested_title:"",add_btn:"A_6EqO b_0 q_n r_P C_Z29WjXl P_1Eu7sD u_e69 C4_Z2chSgW"},"theme-ATT":{container:"b_Z1eDl5i"},"theme-FRONTIER":{container:"b_Z16HkBA"},"theme-ROGERS":{container:"b_Im4Kn"},"theme-BT":{container:"b_Zckwln"},"theme-SKY":{container:"b_Z1RfU0N"},"theme-AOL":{container:"b_1vbPUP"},"theme-AOL_HIGH_CONTRAST":{container:"b_Im4Kn"},"theme-CLASSIC":{container:"b_Im4Kn"},"theme-SIMPLE":{container:"b_Im4Kn"},"theme-AIM":{container:"b_Im4Kn"},"theme-AOLCOM":{container:"b_Im4Kn"},"theme-HIGH_CONTRAST":{container:"b_Im4Kn"},"theme-DEFAULT":{container:"b_1KkVVd"},"theme-SUNRISE":{container:"b_Z1Vytm4"},"theme-AQUA_GREEN":{container:"b_1KWmv6"},"theme-AQUA_BLUE":{container:"b_sUyug"},"theme-DEEP_PURPLE":{container:"b_WzgI3"},"theme-BLUE_NIGHT":{container:"b_1oX8Dz"},"theme-DARK_GREY":{container:"b_Im4Kn"},"theme-NIGHT_LANDSCAPE":{container:"b_1QEPWE"},"theme-ROADTRIP":{container:"b_ZczmmE"},"theme-SUNSET_AUSSIE":{container:"b_ZWkmRs"},"theme-LIGHTHOUSE":{container:"b_ZSlozJ"},"theme-SPRING":{container:"b_ZSlozJ"},"theme-WINTER":{container:"b_ZSlozJ"},"theme-SUMMER":{container:"b_ZSlozJ"},"theme-GALAXY":{container:"b_ZSlozJ"},"theme-FALL":{container:"b_ZSlozJ"},"theme-WESTERN":{container:"b_ZSlozJ"},"theme-SUNSET":{container:"b_ZSlozJ"}},_key:"ZReFdN"}},98397:e=>{"use strict";e.exports={className:{default:{container:"M_6Fd5 P_1UqQqF e_eo6 D_F ab_C",section:"D_F F_N ek_BB gl_C M_1Eu7sD s_0",heading:"u_e69 A_6DUj C_1YHari",todo_item_summary:"u_e69 P_3HLUz o_h G_e J_x",todo_item_due_date:"C_Z29dUYT E_6Fd5",flex_center:"D_F ab_C",todo_item_description:"E_6Fd5 J_EO mq_AS",todo_item_reminder_icon:"E_6Eb4"},"theme-ATT":{container:"b_Z1eDl5i"},"theme-FRONTIER":{container:"b_Z16HkBA"},"theme-ROGERS":{container:"b_Im4Kn"},"theme-BT":{container:"b_Zckwln"},"theme-SKY":{container:"b_Z1RfU0N"},"theme-AOL":{container:"b_1vbPUP"},"theme-AOL_HIGH_CONTRAST":{container:"b_Im4Kn"},"theme-CLASSIC":{container:"b_Im4Kn"},"theme-SIMPLE":{container:"b_Im4Kn"},"theme-AIM":{container:"b_Im4Kn"},"theme-AOLCOM":{container:"b_Im4Kn"},"theme-HIGH_CONTRAST":{container:"b_Im4Kn"},"theme-DEFAULT":{container:"b_1KkVVd"},"theme-SUNRISE":{container:"b_Z1Vytm4"},"theme-AQUA_GREEN":{container:"b_1KWmv6"},"theme-AQUA_BLUE":{container:"b_sUyug"},"theme-DEEP_PURPLE":{container:"b_WzgI3"},"theme-BLUE_NIGHT":{container:"b_1oX8Dz"},"theme-DARK_GREY":{container:"b_Im4Kn"},"theme-NIGHT_LANDSCAPE":{container:"b_1QEPWE"},"theme-ROADTRIP":{container:"b_ZczmmE"},"theme-SUNSET_AUSSIE":{container:"b_ZWkmRs"},"theme-LIGHTHOUSE":{container:"b_ZSlozJ"},"theme-SPRING":{container:"b_ZSlozJ"},"theme-WINTER":{container:"b_ZSlozJ"},"theme-SUMMER":{container:"b_ZSlozJ"},"theme-GALAXY":{container:"b_ZSlozJ"},"theme-FALL":{container:"b_ZSlozJ"},"theme-WESTERN":{container:"b_ZSlozJ"},"theme-SUNSET":{container:"b_ZSlozJ"}},_key:"1jxPhK"}},44359:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(57938),l=s.n(i),c=s(37422),d=s(64546),_=s(56148),E=s(43007),u=s(76531),m=s(20305),S=s(92559),p=s(18685),C=s(30982),A=s(85927);function T(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class I extends a.Component{constructor(...e){super(...e),T(this,"state",{selectedIndex:-1}),T(this,"getRapidSectionValue",(()=>{const{isMenuMode:e,isCueMode:t}=this.props;let s=S.nJ.SETTINGS_CATEGORIZATION_TAB;return e?s=S.nJ.TABS_MENU:t&&(s=S.nJ.FEATURE_CUE),s})),T(this,"onChange",((e,t)=>{const{smartViews:s,isCueMode:a,onTryNow:n}=this.props,r=s.map(((t,s)=>s===e?{...t,status:t.status?0:1}:t)),o={mKey:S.JE.SETTINGS_CATEGORIZATION_CHANGE,sec:this.getRapidSectionValue(),interactionType:S.Rb.click,actionData:{smartView:r[e].name,status:r[e].status}};a&&n(t),this.saveSmartViews(r,o)})),T(this,"saveSmartViews",((e,t)=>{this.props.changeSettings({name:c.Zrf.SYSTEM_TABS,value:e.filter((({name:e})=>!!c.B_Z[e])).map((({name:e,status:t})=>c.B_Z[e]+":"+t)),i13nModel:t})})),T(this,"moveSmartViews",((e,t)=>{const{smartViews:s}=this.props,a=s.slice(),n=Object.assign({},a[t]),r=t+(e?-1:1),o={mKey:S.JE.SETTINGS_CATEGORIZATION_ORDER,sec:this.getRapidSectionValue(),interactionType:S.Rb.click,actionData:{direction:e?"up":"down"}};r>=0&&r<a.length&&(a[t]=Object.assign({},a[r]),a[r]=n,this.setState({selectedIndex:r},(()=>{this.saveSmartViews(a,o)})))})),T(this,"renderReorderControls",(()=>{const e=o()(l()),{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,r=s<=-1;return a.createElement("div",{className:e.categoriesReorderContainer},a.createElement("div",{className:e.categoriesReorderTitle},a.createElement(n.FormattedMessage,{id:"categories_list_header_text",defaultMessage:"Priority list"})),a.createElement("div",{className:e.categoriesReorderBtnsContainer},a.createElement(_.Z,{"data-test-id":"move-category-up",size:u.Sizes.XS,kind:u.Kinds.ARROW_UP,title:t(m.Z.moveCategoryUp),"aria-label":t(m.Z.moveCategoryUp),onClick:()=>{this.moveSmartViews(!0,s)},colorStates:{normal:r?u.ColorStates.DISABLED:u.ColorStates.NORMAL,hovered:r?u.ColorStates.DISABLED:u.ColorStates.SELECTED},disabled:r}),a.createElement(_.Z,{"data-test-id":"move-category-down",size:u.Sizes.XS,kind:u.Kinds.ARROW_UP,rotate:u.Rotate.D180,title:t(m.Z.moveCategoryDown),"aria-label":t(m.Z.moveCategoryDown),onClick:()=>{this.moveSmartViews(!1,s)},colorStates:{normal:r?u.ColorStates.DISABLED:u.ColorStates.NORMAL,hovered:r?u.ColorStates.DISABLED:u.ColorStates.SELECTED},disabled:r})))})),T(this,"setSelectedIndex",(e=>{this.setState({selectedIndex:e})})),T(this,"handleClick",((e,t)=>{const{isMenuMode:s,isCueMode:a}=this.props;t.stopPropagation(),a||s||this.setSelectedIndex(e)})),T(this,"renderCategories",(e=>{const{formatMessage:t}=this.context.intl,{selectedIndex:s}=this.state,{useCalloutButton:n,smartViews:r,isMenuMode:o,isCueMode:i,showHint:l,showToggleState:_}=this.props,S=o||i,p={[c.K8C.PEOPLE]:{kind:u.Kinds.PEOPLE,colorState:u.ColorStates.SMARTVIEW_PEOPLE},[c.K8C.COUPONS]:{kind:u.Kinds.SHOPPING,colorState:u.ColorStates.SMARTVIEW_SHOPPING},[c.K8C.UPDATES]:{kind:u.Kinds.TRAVEL,colorState:u.ColorStates.NORMAL},[c.K8C.SOCIAL]:{kind:u.Kinds.SHARE_SOCIAL,colorState:u.ColorStates.NORMAL},[c.K8C.NEWSLETTERS]:{kind:u.Kinds.NEWS,colorState:u.ColorStates.NORMAL}},C=r.length>1;return a.createElement("ol",{className:e.categoriesList},r.map((({name:r,status:o},i)=>{const A=C&&s===i,T=p[r],I=r===c.K8C.COUPONS?c.K8C.SHOPPING:r;let h="";return l&&(h=t(S?m.Z[`smart_view_${I}_SHORT_HINT`]:m.Z[`smart_view_${I}_HINT`])),a.createElement("li",{className:A?e.categorySelected:e.category,onClick:this.handleClick.bind(this,i),key:`category-${i}`},a.createElement(d.Z,{key:r,canToggle:!n,subHeader:!0,toggleEnabled:!!o,header:t(m.Z[`smart_view_${I}`]),hint:h,onToggle:this.onChange.bind(this,i),showToggleState:_,useCalloutButton:n,iconElement:a.createElement("span",{className:e.iconWrapper,"aria-hidden":"true"},a.createElement(E.Z,{kind:T.kind,colorState:T.colorState,size:u.Sizes.S}))}))})))}))}render(){const{isMenuMode:e,isCueMode:t,smartViews:s}=this.props,n=!t&&!e&&s.length>1,r=o()(l(),{isMenuMode:e,isCueMode:t});return a.createElement("div",{className:r.categoriesContainer},n&&this.renderReorderControls(),this.renderCategories(r))}}T(I,"contextTypes",{intl:n.intlShape.isRequired}),T(I,"defaultProps",{isMenuMode:!1,isCueMode:!1,showHint:!1,showToggleState:!1,onTryNow:()=>{}});const h=(0,p.connect)((e=>{const{getSetting:t}=(0,A.selectors)(e);return{smartViews:t(c.Zrf.SYSTEM_TABS)}}),(e=>({changeSettings:t=>e((0,C.Dy)(t))})))(I)},57938:e=>{"use strict";e.exports={className:{default:{categoriesContainer:"W_A",topSection:"D_F",categoriesHeader:"A_6EqO i_6Fd5 P_6Fd5 M_0",categoriesReorderContainer:"m_Z14vXdP D_F gl_FM",categoriesReorderTitle:"u_b A_6EqO i_6LEV M_E8xte",categoriesReorderBtnsContainer:"ab_C D_F",categoriesList:"hd_n M_0 P_0",category:"P_fq7 m_ZmUeFv D_F ab_C m8_n",categorySelected:"P_fq7 m_ZmUeFv D_F ab_C m8_n q_Z1gjd50",iconWrapper:"Q_eo6 Y_689y"},isMenuMode:{categoriesContainer:"W_3rBgu",category:"P_Z1E2XDm"},isCueMode:{category:"P_fq7"}},_key:"1Cqjxi"}},82789:e=>{"use strict";e.exports={className:{default:{properties:"D_F W_A",property:"D_F r_P M_Z1kd4S1 q_n b_n P_0 C_ZkbNhI cdPFi_Z1TsNbA cdPFi4_Z29WjXl",selectedProperty:"D_F r_P M_Z1kd4S1 q_n b_n P_0 C_ZkbNhI cdPFi_Z29WjXl",calendarIcon:"p_R C_q H_6LEV",calendarIconButton:"b_n P_0 p_R C_q H_6LEV r_P I_T",calendarDateText:"p_a A_pG c1AVi73_6EGz C_q u_e69 T_e5X L_e5X h_16Wm1O",helpMenuContainer:"M_0 hd_n W_3s0hC a_3vNsy P_0",helpMenuItem:"P_6EqO i_6CCo A_6EqO c1AVi73_6FsP c1AVi7H_6LEV u_e69 D_F ab_C",helpMenuText:"Q_6EqO p_R",helpMenuLink:"D_F",helpMenuLinkText:"C_Z29WjXl C4_Z2chSgW",helpMenuPhoneText:"C_Z281SGl S_n",separator:"m_Z14vXdP",calendarDayMonth:"D_n"},verticalLayout:{properties:"ab_C ek_BB Y_6EGz",property:"M_Z1bGli4"},"themeMode-MEDIUM":{property:"cdPFi_ak5m8 C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_ZkbNhI",selectedProperty:"cdPFi_ZkbNhI C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3",calendarIconButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{property:"cdPFi_ak5m8 C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_ZkbNhI",selectedProperty:"cdPFi_ZkbNhI C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3",calendarIconButton:"is_26ISAR cZdTOHS_ZXgLQ3"},"themeCombo-LIGHT_ATT":{selectedProperty:"cdPFi_2lcdKJ"},"themeCombo-LIGHT_FRONTIER":{selectedProperty:"cdPFi_Z1VoWer"},"themeCombo-LIGHT_ROGERS":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_BT":{selectedProperty:"cdPFi_2oLgFe"},"themeCombo-LIGHT_SKY":{selectedProperty:"cdPFi_1EhNce"},"themeCombo-LIGHT_AOL":{selectedProperty:"cdPFi_11nHQC"},"themeCombo-LIGHT_AOL_HIGH_CONTRAST":{selectedProperty:"cdPFi_1axX9e"},"themeCombo-LIGHT_CLASSIC":{selectedProperty:"cdPFi_1XjAJc"},"themeCombo-LIGHT_SIMPLE":{selectedProperty:"cdPFi_251yIq"},"themeCombo-LIGHT_AIM":{selectedProperty:"cdPFi_Z1Lc759"},"themeCombo-LIGHT_AOLCOM":{selectedProperty:"cdPFi_ZAvOMh"},"themeCombo-LIGHT_HIGH_CONTRAST":{selectedProperty:"cdPFi_1vx6Qa"},"themeCombo-LIGHT_SUNRISE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_AQUA_GREEN":{selectedProperty:"cdPFi_Z2q5fnY"},"themeCombo-LIGHT_AQUA_BLUE":{selectedProperty:"cdPFi_3AoN2"},"themeCombo-LIGHT_DEEP_PURPLE":{selectedProperty:"cdPFi_U7vu"},"themeCombo-LIGHT_BLUE_NIGHT":{selectedProperty:"cdPFi_ZqdWbg"},"themeCombo-LIGHT_DARK_GREY":{selectedProperty:"cdPFi_Z1KxAI3"},"themeCombo-LIGHT_NIGHT_LANDSCAPE":{selectedProperty:"cdPFi_2siI7q"},"themeCombo-LIGHT_ROADTRIP":{selectedProperty:"cdPFi_MHjSW"},"themeCombo-LIGHT_SUNSET_AUSSIE":{selectedProperty:"cdPFi_Z1dbuzs"},"themeCombo-LIGHT_LIGHTHOUSE":{selectedProperty:"cdPFi_Z23EoD8"},"themeCombo-LIGHT_SPRING":{selectedProperty:"cdPFi_Z1ckHGG"},"themeCombo-LIGHT_WINTER":{selectedProperty:"cdPFi_Z1GdU2d"},"themeCombo-LIGHT_SUMMER":{selectedProperty:"cdPFi_Z1u3eEd"},"themeCombo-LIGHT_GALAXY":{selectedProperty:"cdPFi_COF6q"},"themeCombo-LIGHT_FALL":{selectedProperty:"cdPFi_26wpEu"},"themeCombo-LIGHT_WESTERN":{selectedProperty:"cdPFi_Z4ob1W"},"themeCombo-LIGHT_SUNSET":{selectedProperty:"cdPFi_Z1u3eEd"}},_key:"Z1b4l7q"}},48626:e=>{"use strict";e.exports={className:{default:{properties:"D_F en_0 gl_FM je_6Fd5 jb_6Fd5 N_6Fd5 X_6Fd5 H_7bcz k_w I_ZkbNhI m_Z14vXdP U_67SN ab_C",container:"Z_qc",settingsMenu:"D_F",mailPlusIcon:"D_F ab_C M_Z1feokn cdPFi_Z1TsNbA cdPFi4_Z29WjXl C_ZkbNhI"},verticalLayout:{container:"H_6D6F",properties:"ek_BB gl_CI H_6D6F ab_C",settingsMenu:"ek_BB",mailPlusIcon:"D_F M_27m6vR cdPFi_Z1TsNbA cdPFi4_Z29WjXl C_ZkbNhI"},shorterHorizontalLayout:{properties:"H_72FG"},"themeMode-DARK":{properties:"I_ZS20V7 m_ZYfqDw U_0",mailPlusIcon:"cdPFi_ak5m8 C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_ZkbNhI"},"themeMode-MEDIUM":{properties:"I_ZS20V7 m_ZYfqDw U_0",mailPlusIcon:"cdPFi_ak5m8 C_Z281SGl is_26ISAR cZdTOHS_ZXgLQ3 cdPFi4_ZkbNhI"},"themeCombo-DARK_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{properties:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{properties:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{properties:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{properties:"I_t5YMW"},"themeCombo-DARK_SPRING":{properties:"I_ZgFtst"},"themeCombo-MEDIUM_SPRING":{properties:"I_ZgFtst"},"themeCombo-DARK_WINTER":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_WINTER":{properties:"I_ZGiXN8"},"themeCombo-DARK_SUMMER":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_SUMMER":{properties:"I_ZGiXN8"},"themeCombo-DARK_GALAXY":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_GALAXY":{properties:"I_ZGiXN8"},"themeCombo-DARK_FALL":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_FALL":{properties:"I_ZGiXN8"},"themeCombo-DARK_WESTERN":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_WESTERN":{properties:"I_ZGiXN8"},"themeCombo-DARK_SUNSET":{properties:"I_ZGiXN8"},"themeCombo-MEDIUM_SUNSET":{properties:"I_ZGiXN8"}},_key:"Z106gSs"}},79887:(e,t,s)=>{"use strict";s.d(t,{Gm:()=>r,J4:()=>o,SB:()=>l,Xk:()=>i,e5:()=>n});var a=s(78034);let n;!function(e){e.COMPOSE_DRAFT="composedraft",e.REPHRASE_BY_TONE="rephrasebytone",e.REPHRASE_BY_PROMPT="rephrasebyprompt",e.YAI_HIGHLIGHT="yaihighlight"}(n||(n={}));const r=[a.X.improve,a.X.shorten,a.X.makeFriendly,a.X.makeProfessional,a.X.addEmojis],o=[a.X.humorous,a.X.grateful,a.X.persuasive,a.X.curious,a.X.apologetic,a.X.urgent],i="yai-selection",l=`[class*=${i}]`},45124:(e,t,s)=>{"use strict";s.d(t,{W:()=>A,Z:()=>T});var a=s(67294),n=s(81732),r=s(85927),o=s(43007),i=s(76531),l=s(67498),c=s(7426),d=s(8701),_=s(28182),E=s(83034),u=s(79337),m=s.n(u),S=s(99095),p=s(56148),C=s(29911);let A;!function(e){e.MEDIA_SELECTED="MEDIA_SELECTED",e.CONTENT_VIOLATION="CONTENT_VIOLATION",e.OTHER="OTHER"}(A||(A={}));const T=({type:e,width:t=0,bottom:s=0,left:u=0,right:T=0,clearError:I,retryPreviousAction:h})=>{const{formatMessage:g}=(0,c.Y)(),{theme:O}=(0,a.useContext)(C.Z),D=(0,E.Z)(m(),{isInformational:false,["theme-"+O+"_isInformational-false"]:!0}),R=(0,n.v9)((e=>"rtl"===(0,r.selectors)(e).getEnvironmentSelectors().getPageDirection()));return a.createElement("div",{"data-test-id":"compose_assistant.error_message",className:D.container,style:{width:t+"px",bottom:s+"px",...!R&&{left:u+window.scrollX+"px"},...R&&{right:window.innerWidth-T-window.scrollX+"px"}}},a.createElement("div",{className:D.innerContainer},a.createElement("div",{className:D.iconWrapper},a.createElement(o.Z,{kind:i.Kinds.EXCLAMATION_ALT,colorState:i.ColorStates.WHITE,size:i.Sizes.XS})),a.createElement("div",{className:D.content},(()=>{switch(e){case A.MEDIA_SELECTED:return a.createElement(S.FormattedMessage,{id:"compose_assistant.error_media",defaultMessage:"This tool doesn't work with media. Select the text you'd like to change and try again."});case A.CONTENT_VIOLATION:return a.createElement(S.FormattedMessage,{id:"compose_assistant.error_content_violation",defaultMessage:'Write a valid prompt to create a draft. Like, "Ask Maria if she returned my library book"'})}return a.createElement(S.FormattedMessage,{id:"compose_assistant.error_other",defaultMessage:"Something went wrong. Please try again."})})()),e===A.OTHER&&a.createElement(l.Z,{kind:_.F.TEXT,onClick:h,marginLess:!0,overridingClass:D.cta},a.createElement(S.FormattedMessage,{id:"retryDocumentFetch",defaultMessage:"Retry"})),a.createElement("div",{className:D.close},a.createElement(p.Z,{kind:i.Kinds.CLOSE_MINI,size:i.Sizes.S,onClick:I,title:g(d.Z.close),colorStates:{normal:i.ColorStates.LESS_IMPORTANT,hovered:i.ColorStates.PRIMARY_HOVER}}))))}},8701:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(99095),n=s(78034);const r=(0,a.defineMessages)({writing_assistant:{id:"compose_assistant.writing_assistant",defaultMessage:"Writing assistant"},intent_header:{id:"compose_assistant.intent_header",defaultMessage:"Write something below to create a draft"},intent_placeholder:{id:"compose_assistant.intent_placeholder",defaultMessage:'For example, "I want to congratulate a friend who recently got engaged."'},rephrase_header:{id:"compose_assistant.rephrase_header",defaultMessage:"Make it..."},rephrase_placeholder:{id:"compose_assistant.rephrase_placeholder",defaultMessage:'Or write how you want to change this (for example, "make it funnier")'},["compose_tone_"+n.X.improve]:{id:"compose_assistant.compose_tone_polished",defaultMessage:"Polished"},["compose_tone_"+n.X.shorten]:{id:"compose_assistant.compose_tone_shorter",defaultMessage:"Shorter"},["compose_tone_"+n.X.makeFriendly]:{id:"compose_assistant.compose_tone_friendly",defaultMessage:"Friendly"},["compose_tone_"+n.X.makeProfessional]:{id:"compose_assistant.compose_tone_formal",defaultMessage:"Formal"},["compose_tone_"+n.X.addEmojis]:{id:"compose_assistant.compose_tone_add_emojis",defaultMessage:"Add emojis"},["compose_tone_"+n.X.humorous]:{id:"compose_assistant.compose_tone_humorous",defaultMessage:"Funnier"},["compose_tone_"+n.X.grateful]:{id:"compose_assistant.compose_tone_grateful",defaultMessage:"Grateful"},["compose_tone_"+n.X.persuasive]:{id:"compose_assistant.compose_tone_persuasive",defaultMessage:"Persuasive"},["compose_tone_"+n.X.curious]:{id:"compose_assistant.compose_tone_curious",defaultMessage:"Curious"},["compose_tone_"+n.X.apologetic]:{id:"compose_assistant.compose_tone_apologetic",defaultMessage:"Apologetic"},["compose_tone_"+n.X.urgent]:{id:"compose_assistant.compose_tone_urgent",defaultMessage:"Urgent"},intent_pending:{id:"compose_assistant.intent_pending",defaultMessage:"Creating your draft..."},["rephrase_"+n.X.improve]:{id:"compose_assistant.rephrase_pending_improve",defaultMessage:"Making it more polished..."},["rephrase_"+n.X.shorten]:{id:"compose_assistant.rephrase_pending_shorten",defaultMessage:"Making it shorter..."},["rephrase_"+n.X.makeFriendly]:{id:"compose_assistant.rephrase_pending_friendly",defaultMessage:"Making it friendlier..."},["rephrase_"+n.X.makeProfessional]:{id:"compose_assistant.rephrase_pending_formal",defaultMessage:"Making it more formal..."},["rephrase_"+n.X.addEmojis]:{id:"compose_assistant.rephrase_pending_add_emojis",defaultMessage:"Adding emojis..."},["rephrase_"+n.X.humorous]:{id:"compose_assistant.rephrase_pending_humorous",defaultMessage:"Making it funnier..."},["rephrase_"+n.X.grateful]:{id:"compose_assistant.rephrase_pending_grateful",defaultMessage:"Making it sound more grateful..."},["rephrase_"+n.X.persuasive]:{id:"compose_assistant.rephrase_pending_persuasive",defaultMessage:"Making it more persuasive..."},["rephrase_"+n.X.curious]:{id:"compose_assistant.rephrase_pending_curious",defaultMessage:"Making it sound more curious..."},["rephrase_"+n.X.apologetic]:{id:"compose_assistant.rephrase_pending_apologetic",defaultMessage:"Making it sound more apologetic..."},["rephrase_"+n.X.urgent]:{id:"compose_assistant.rephrase_pending_urgent",defaultMessage:"Making it sound more urgent..."},rephrase_pending_user_prompt:{id:"compose_assistant.rephrase_pending_user_prompt",defaultMessage:"Making your changes..."},close:{id:"close",defaultMessage:"Close"},more_options:{id:"more_button_title",defaultMessage:"More options"}})},79337:e=>{"use strict";e.exports={className:{default:{container:"k_w D_F p_a j_20lmjm I_ZkbNhI Z_7G9R e_dRA",innerContainer:"D_F W_6D6F",iconWrapper:"aw_d1iFJ I_uiV D_F en_0 ac_FT ab_C gl_C ba_6Eor P_1Eu5U7",content:"em_N D_F ab_C P_Z2baRGn A_6EGz i_6Mbr",cta:"ac_C A_6EGz i_6Mbr P_1Eu6qC",close:"ac_C"},isInformational:{iconWrapper:"aw_GUNgP I_kt4zd"},"theme-HIGH_CONTRAST_isInformational-true":{iconWrapper:"aw_GUNwA"}},_key:"ZOKbVd"}},83507:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB P_Z1usDNy c1D3vq7_6Eb4 W_18BTBD",buttonContainer:"D_F ab_C dh_6Fd5",titleText:"A_6FsP u_b i_6MGW",close:"M_0 R_fq7 T_6DEy p_a",laterText:"C_Z1YRXYn u_b r_P"}},_key:"5qFsn"}},93737:(e,t,s)=>{"use strict";s.d(t,{Bk:()=>c,Br:()=>_,DP:()=>d,Kj:()=>r,ZT:()=>l,bS:()=>i,tH:()=>o});var a=s(79887);function n(e){if(e.textContent&&/[^\t\n\r ]/.test(e.textContent))return!1;const t=document.createRange();t.selectNodeContents(e);const s=t.getClientRects();return!(s.length>0&&s[0].width>0)}function r(e){const t=function(){const e=navigator.userAgent.toLowerCase(),t=e.indexOf("windows")>-1,s=e.indexOf("mac")>-1,a=e.indexOf("linux")>-1;return e.indexOf("chrome")>-1?t?"#3390FF":s?"#B7DAFF":a?"#A8D1FF":"#3390FF":e.indexOf("firefox")>-1?t?"#3399FF":s?"#B4D5FE":a?"#4A90E2":"#3399FF":e.indexOf("safari")>-1&&-1===e.indexOf("chrome")?"#B7DAFF":e.indexOf("msie")>-1||e.indexOf("trident")>-1?"#3390FF":e.indexOf("edge")>-1?t?"#B7DAFF":s?"#C8E1FF":"#B7DAFF":"#3390FF"}();(function(){const e=window.getSelection();if(!e||0===(null==e?void 0:e.rangeCount))return[];const t=e.getRangeAt(0),s=[];if(t.startContainer===t.endContainer)if(t.endContainer.nodeType===Node.TEXT_NODE){const e=t.startContainer;e.splitText(t.endOffset);const a=e.splitText(t.startOffset);s.push(a)}else{const e=document.createNodeIterator(t.startContainer,NodeFilter.SHOW_TEXT);let a;for(;a=e.nextNode();)n(a)||s.push(a)}else{let e=t.startContainer,a=t.endContainer;t.endContainer.nodeType!==Node.TEXT_NODE&&t.endContainer.childNodes.length>t.endOffset&&(a=t.endContainer.childNodes[t.endOffset]),t.startContainer.nodeType!==Node.TEXT_NODE&&t.startOffset>0&&(e=t.startContainer.childNodes[t.startOffset-1]);const r=document.createNodeIterator(t.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:t=>t.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING&&t.compareDocumentPosition(a)===Node.DOCUMENT_POSITION_FOLLOWING?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});let o;for(;o=r.nextNode();)n(o)||s.push(o);t.endContainer.nodeType===Node.TEXT_NODE&&(t.endContainer.splitText(t.endOffset),s.push(t.endContainer)),t.startContainer.nodeType===Node.TEXT_NODE&&s.unshift(t.startContainer.splitText(t.startOffset))}return s})().forEach((s=>{const a=document.createElement("span");a.classList.add(e),a.setAttribute("style",`background-color:${t}`),s.before(a),a.appendChild(s)}))}const o=()=>{document.querySelectorAll(`span${a.SB}`).forEach((e=>{if(!e.parentElement)return;const t=e.textContent,s=document.createTextNode(t||"");e.replaceWith(s)}))},i=()=>{document.querySelectorAll(`span${a.SB}:empty`).forEach((e=>e.remove()))},l=()=>{const e=window.getSelection();if(e&&e.rangeCount>0&&e.toString().trim().length>0)return e.toString().trim();const t=document.querySelectorAll(a.SB);return t.length>0?(e=>{let t="";return e.forEach((e=>{t+=e.textContent||"",t+="\n"})),t.trim()})(t):null},c=e=>{if(!e)return!1;const t=e=>!!e.querySelector("img")||!!e.querySelector("video");if(e instanceof Selection&&e.rangeCount>0){return t(e.getRangeAt(0).cloneContents())}if(e instanceof NodeList)for(let s=0;s<e.length;s++)if(t(e[s]))return!0;return!1};function d(e){return e.nodeType===Node.TEXT_NODE?e:0===e.childNodes.length?null:d(e.childNodes[0])}function _(e){return e.nodeType===Node.TEXT_NODE?e:0===e.childNodes.length?null:_(e.childNodes[e.childNodes.length-1])}},25319:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>y});s(45697);var a=s(67294),n=s(99095),r=s(63352),o=s(64828),i=s(66679),l=s(21939),c=s(19822),d=s(76439),_=s.n(d),E=s(93332),u=s.n(E),m=s(76223),S=s.n(m),p=s(43007),C=s(76531),A=s(9333),T=s(67498),I=s(8470),h=s(94482),g=s(77078),O=s(78041),D=s(10728);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const N=S()(_()),L=S()(u()),f=(0,n.defineMessages)({foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class M extends a.Component{constructor(...e){super(...e),R(this,"handleBackButton",(e=>{e.stopPropagation(),this.props.goToMainMenu()})),R(this,"onColorChange",((e,t)=>{e(t)}))}render(){const{formatMessage:e}=this.context.intl,t=e(f.foreground_color_text_label),{onFGColorChange:s,onBGColorChange:r,swatchColors:d,selectedFGColor:_,selectedBGColor:E,applyHoverMenuButtonOverride:u}=this.props,m=e(f.background_color_text_label),S=(0,c.getSixDigitHexColor)(_),T=(0,c.getSixDigitHexColor)(E),h=d.map((e=>{const t=`#${e}`;return a.createElement(b,{key:"fc-"+e,name:"fc-"+e,color:t,selected:S===t,onClick:this.onColorChange.bind(this,s,t),isDark:P(e)})})),g=d.map((e=>{const t=`#${e}`;return a.createElement(b,{key:"bc-"+e,name:"bc-"+e,color:t,selected:T===t,onClick:this.onColorChange.bind(this,r,t),isDark:P(e)})}));return a.createElement(l.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu},this.props.parentMenu?a.createElement(i.Z,{style:{display:"none"}}):a.createElement(i.Z,{"data-test-id":"icon-btn-text_color",title:t,"aria-label":t,overridingClass:u?N.hoverMenuButton:""},a.createElement(p.Z,{kind:C.Kinds.TEXT_COLOR,size:C.Sizes.XS,colorState:C.ColorStates.NORMAL})),a.createElement(o.ZP,{menuLayout:O.A.VERTICAL,"data-test-id":"color-picker"},this.props.parentMenu?a.createElement(A.default,{title:e(f.back_button_text_label),kind:C.Kinds.ARROW_UP,size:C.Sizes.XS,rotate:C.Rotate.D270,colorState:C.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_color_back"},a.createElement("span",{className:L.backButtonLabel},a.createElement(n.FormattedMessage,f.back_button_text_label))):null,a.createElement("div",{className:this.props.parentMenu?N.subColorMenu:N.colorMenu},a.createElement(I.Z,{layout:O.A.HORIZONTAL},a.createElement("li",{className:N.swatchItem},a.createElement("div",{className:N.swatchTitleBase},a.createElement(n.FormattedMessage,f.foreground_color_text_label)),a.createElement("div",{className:N.swatchContent},a.createElement(I.Z,{layout:O.A.GRID},h))),a.createElement("li",{className:N.swatchItem},a.createElement("div",{className:N.swatchTitleBase},a.createElement(n.FormattedMessage,f.background_color_text_label)),a.createElement("div",{className:N.swatchContent},a.createElement(I.Z,{layout:O.A.GRID,title:m},g)))))))}}function P(e){(0,r.Z)(6===e.length,"Expect input to be 6 digit hex color");const t=parseInt(e.slice(0,2),16)/255,s=parseInt(e.slice(2,4),16)/255,a=parseInt(e.slice(4,6),16)/255;return(Math.max(t,s,a)+Math.min(t,s,a))/2<.55}function b({color:e,selected:t,name:s,isDark:n,onClick:r}){const o={backgroundColor:e,boxShadow:e===D.E6z.vzm_white?"inset 0 0 0 1px #e2e2e6":null};return a.createElement(h.Z,{name:s,kind:g.F.GRID},a.createElement("div",{className:N.colorElement},a.createElement(T.Z,{title:e,className:N.color,style:o,onClick:r},t&&a.createElement(p.Z,{kind:C.Kinds.CHECKMARK,size:C.Sizes.XXS,colorState:n?C.ColorStates.INVERTED:C.ColorStates.NORMAL}))))}R(M,"contextTypes",{intl:n.intlShape.isRequired}),R(M,"DEFAULTS",{FG_COLOR:D.E6z.vzm_black,BG_COLOR:D.E6z.vzm_white}),R(M,"defaultProps",{swatchColors:["000000","808080","ffffff","9d1811","cd232c","d36a53","a46016","dd902f","e4ac64","ac9e19","fdef2b","fdf869","5b8828","8fca40","add773","4c76a2","70aced","7dbef1","440062","652191","845aa7","9c005c","cb008e","d264aa"],parentMenu:null,applyHoverMenuButtonOverride:!1});const y=M},31953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>ce});var a=s(45697),n=s.n(a),r=s(67294),o=s(73935),i=s(29824),l=s(76223),c=s.n(l),d=s(99163),_=s.n(d),E=s(86460),u=s(99095),m=s(31280),S=s(43007),p=s(19822),C=s(37422),A=s(76531),T=s(70582),I=(s(95406),s(87771)),h=s(35960),g=s(67498),O=s(9333),D=s(69511),R=s(39195),N=s.n(R),L=s(51892),f=s(7449),M=s(64059);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const y=(0,u.defineMessages)({link_text_placeholder:{id:"compose.link_placeholder",defaultMessage:"Display text"},close:{id:"compose.link_close",defaultMessage:"Close"},error_title:{id:"compose.link_error_title",defaultMessage:"Error"},open_link_alert:{id:"compose.link_test_error",defaultMessage:"This link cannot be tested."}}),v=/^(?:https?|ftp|mailto):(?:\/\/)?/i;class F extends r.Component{constructor(...e){super(...e),b(this,"state",{focusOnLinkInput:!1,saveBtnEnabled:!1,showTestAlert:!1,isTextModified:!1}),b(this,"saveLink",(()=>{let e,t=this.linkInput.value.trim();const s=this.textInput.value.trim();!this.state.isTextModified&&s||(e=s||t.replace(v,"")),v.test(t)||(t="http://"+t),this.props.onSave(e,t)})),b(this,"handleClose",(()=>{this.props.onClose()})),b(this,"handleKeyDown",(e=>{e.stopPropagation(),"Enter"===e.key?(e.preventDefault(),this.saveLink()):"Escape"===e.key&&(e.preventDefault(),this.handleClose())})),b(this,"toggleTestLink",(e=>{this.setState({focusOnLinkInput:e})})),b(this,"openTestLink",(()=>{const e=this.linkInput.value.trim(),t=v.test(e);if(!e.replace(v,""))return;(0,M.x)(t?e:`http://${e}`)||this.setState({showTestAlert:!0})})),b(this,"handleTextInput",(()=>{this.state.isTextModified||this.setState({isTextModified:!0})})),b(this,"handleLinkInput",(()=>{const e=this.linkInput.value.trim();""===e||"http://"===e?this.setState({saveBtnEnabled:!1}):this.setState({saveBtnEnabled:!0})})),b(this,"hideTestAlertDialog",(()=>{this.setState({showTestAlert:!1})}))}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=(0,f.E)(e,this.dropdown);(s>document.getElementById("app").clientHeight||s<0)&&e.parentNode.scrollIntoView(),Object.assign(this.dropdown.style,{left:t+"px",top:(0,f.E)(e,this.dropdown).top+"px"}),this.timeout=setTimeout((()=>{const e=this.linkInput.value,t=e&&e.trim().length||0;this.linkInput.focus(),this.linkInput.setSelectionRange(t,t)}),0)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){var e;const{textInput:t,linkInput:s}=this.props,{saveBtnEnabled:a,focusOnLinkInput:n}=this.state,o=!(s||a),i=this.context.intl.formatMessage,l=i(y.link_text_placeholder),d=c()(N(),{saveBtnEnabled:!o,focusOnLinkInput:n}),_=(0,D.getTextDirection)(t||l),E=(null===(e=this.context.partner)||void 0===e?void 0:e.toUpperCase())===C.Bs7.AOL?"https://www.aol.com":"https://www.yahoo.com";return r.createElement(h.Z,null,r.createElement("div",{ref:e=>this.dropdown=e,className:d.container,onKeyDown:this.handleKeyDown,"data-test-id":"hyperlink-plugin"},this.state.showTestAlert?r.createElement(L.Z,{title:i(y.error_title),message:i(y.open_link_alert),onAccept:this.hideTestAlertDialog}):null,r.createElement("div",{className:d.close},r.createElement(O.default,{onClick:this.handleClose,kind:A.Kinds.CLOSE,size:A.Sizes.XXS,title:i(y.close),"aria-label":i(y.close)})),r.createElement("div",{className:d.item},r.createElement("input",P({ref:e=>this.textInput=e,className:d.textInput,placeholder:i(y.link_text_placeholder),onFocus:this.handleLinkInput,defaultValue:t,onChange:this.handleTextInput},_&&{dir:_}))),r.createElement("div",{className:d.item},r.createElement("input",{ref:e=>this.linkInput=e,className:d.linkInput,placeholder:E,onFocus:this.toggleTestLink.bind(this,!0),onBlur:this.toggleTestLink.bind(this,!1),onChange:this.handleLinkInput,defaultValue:s}),r.createElement("span",{"data-test-id":"testLinkInput",className:d.testLink,onMouseDown:this.openTestLink},r.createElement(u.FormattedMessage,{id:"compose.test_hyperlink",defaultMessage:"Test"}))),r.createElement("div",{className:d.item},r.createElement(g.Z,{onClick:this.saveLink,className:d.button,disabled:o},r.createElement(u.FormattedMessage,{id:"compose.save_hyperlink",defaultMessage:"Save"})))))}}b(F,"contextTypes",{intl:u.intlShape.isRequired,partner:n().string});const U=F;var k=s(2801),w=s.n(k);function G(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const H=/^(?:https?|ftp|mailto):/i,B=c()(w());class x extends r.Component{constructor(...e){super(...e),G(this,"editLink",(()=>{this.props.onEdit()})),G(this,"removeLink",(()=>{this.props.onRemove()}))}componentDidMount(){const{anchorNode:e}=this.props,{left:t,top:s}=(0,f.E)(e,this.container);Object.assign(this.container.style,{left:t+"px",top:s+"px"})}render(){const e=(this.props.goToLinkValue||"").trim(),t=H.test(e);return r.createElement(h.Z,null,r.createElement("div",{className:B.container,ref:e=>this.container=e},r.createElement("div",{className:B.linkWrapper},r.createElement(u.FormattedMessage,{id:"compose.link_go_to",defaultMessage:"Go to"}),"Â ",r.createElement("span",null,t?r.createElement("a",{className:B.link,href:e,rel:"noreferrer",target:"_blank","data-test-id":"anchor"},e):r.createElement("span",null,e))),r.createElement("div",{"data-test-id":"editControl",className:B.control,onClick:this.editLink},r.createElement(u.FormattedMessage,{id:"compose.link_edit",defaultMessage:"Edit"})),r.createElement("div",{"data-test-id":"removeControl",className:B.control,onClick:this.removeLink},r.createElement(u.FormattedMessage,{id:"compose.link_remove",defaultMessage:"Remove"}))))}}const V=x;var Z=s(69366),W=s.n(Z),K=s(63352),z=s(4832),Y=s(7187),j=s.n(Y);function q(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const X=c()(W());class Q extends r.Component{constructor(...e){super(...e),q(this,"state",{renderGoToLink:!1,renderHyperlinkDropdown:!1,textInput:"",linkInput:"",goToLinkValue:""}),q(this,"handleClick",(e=>{"A"===e.target.nodeName&&-1===e.target.className.indexOf(z.HYPERLINK_PLUGIN_IGNORE_CLASS)?this.props.editor.pushButton("clicklink",e.target):this.hideGoToLink()})),q(this,"_getFirstCurrentLinkNodes",(()=>this._currentLinkNodes[0])),q(this,"_setCurrentLinkNodes",(e=>{Array.isArray(e)?this._currentLinkNodes=e:"[object NodeList]"===Object.prototype.toString.call(e)?this._currentLinkNodes=Array.prototype.slice.call(e):this._currentLinkNodes=[e]})),q(this,"createNewLink",(e=>{let t=e;const s=t.parentNode;"A"===s.nodeName?t=s:(this.props.editor.pushButton("insertHTML","<a data-tmp>_</a>"),t=s.querySelector("[data-tmp]")),t&&(this._setCurrentLinkNodes(t),this._getFirstCurrentLinkNodes().innerHTML="",this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:t,textInput:t.textContent||"",linkInput:t.hasAttribute("href")?t.getAttribute("href").trim():"http://"}))})),q(this,"createLinkFromSelection",(e=>{let t=e;t.nodeType===Node.TEXT_NODE?"A"!==t.parentNode.nodeName?(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')):t=t.parentNode:"A"!==t.nodeName&&(document.execCommand("createlink",!1," "),t=this.props.editor.element.querySelectorAll('a[href=" "]')),(0,K.Z)(t,"Cannot find anchor element to create link"),this._setCurrentLinkNodes(t),this.showHyperLinkDropdown()})),q(this,"showHyperLinkDropdown",(()=>{var e;if(!this._currentLinkNodes&&this._currentLinkNodes.length<1)return;const t=this._getFirstCurrentLinkNodes(),s=(null==t||null===(e=t.getAttribute("href"))||void 0===e?void 0:e.trim())||"";this.setState({renderHyperlinkDropdown:!0,renderGoToLink:!1,anchorNode:this._currentLinkNodes[this._currentLinkNodes.length-1],textInput:this._currentLinkNodes[this._currentLinkNodes.length-1].textContent,linkInput:s})})),q(this,"hideHyperLinkDropdown",(()=>{this.setState({renderHyperlinkDropdown:!1})})),q(this,"updateLink",((e,t)=>{const{editor:s}=this.props;if(this.hideHyperLinkDropdown(),!this._currentLinkNodes)return;this.props.editor.focus(),this._getFirstCurrentLinkNodes().focus();const a=window.getSelection(),n=document.createRange();let r;const o=this._currentLinkNodes.length;this._currentLinkNodes.forEach(((s,a)=>{r=document.createElement("a"),r.innerHTML=a===o-1?j()(e)||s.innerHTML:s.innerHTML||j()(e),r.href=t,s.parentElement.replaceChild(r,s)})),this._currentLinkNodes=null,n.setStartAfter(r),n.setEndAfter(r),a.removeAllRanges(),a.addRange(n),n.collapse(),a.collapseToEnd(),s.contentChanged({type:"link",node:r}),document.execCommand("unlink",!1,!1)})),q(this,"cancelCreateOrEditLink",(()=>{this.hideHyperLinkDropdown(),!this._currentLinkNodes||this._getFirstCurrentLinkNodes().getAttribute("href")&&""!==this._getFirstCurrentLinkNodes().getAttribute("href").trim()||this.removeCurrentLinkNodes()})),q(this,"removeCurrentLinkNodes",(()=>{let e;this._currentLinkNodes.filter((e=>this.props.editor.element.contains(e))).forEach((t=>{e=t.parentElement;[].slice.call(t.childNodes).forEach((s=>{!s||s.nodeType===Node.TEXT_NODE&&""===s.textContent||e.insertBefore(s,t)})),e.removeChild(t),e.normalize(),window.getSelection().removeAllRanges();const s=document.createRange();s.setStartAfter(e),s.setEndAfter(e),window.getSelection().addRange(s),window.getSelection().collapseToEnd()})),this._currentLinkNodes=null})),q(this,"showGoToLink",(e=>{this.setState({renderHyperlinkDropdown:!1,renderGoToLink:!0,anchorNode:e,goToLinkValue:e.getAttribute("href")}),this._setCurrentLinkNodes(e)})),q(this,"hideGoToLink",(()=>{this.setState({renderGoToLink:!1})})),q(this,"editHyperLink",(()=>{this.showHyperLinkDropdown()})),q(this,"removeHyperLink",(()=>{this.hideGoToLink(),this.removeCurrentLinkNodes()}))}componentDidMount(){this.commands={createlink:{action:()=>{const e=window.getSelection();e.isCollapsed?this.createNewLink(e.anchorNode):this.createLinkFromSelection(e.anchorNode)}},clicklink:{action:(e,t)=>{this.showGoToLink(t)}}}}componentDidUpdate(e){this.props.editor!==e.editor&&this.props.editor.addPlugin({commands:this.commands})}render(){return r.createElement("div",{onClick:this.handleClick,className:X.container},this.props.children,this.state.renderHyperlinkDropdown?r.createElement(U,{onSave:this.updateLink,onClose:this.cancelCreateOrEditLink,textInput:this.state.textInput,linkInput:this.state.linkInput,anchorNode:this.state.anchorNode}):null,this.state.renderGoToLink?r.createElement(V,{onEdit:this.editHyperLink,onRemove:this.removeHyperLink,goToLinkValue:this.state.goToLinkValue,anchorNode:this.state.anchorNode}):null)}}const J=Q;var $=s(77953),ee=s(35456);class te{constructor(e){this.isScheduled=!1,this.interval=e,this.buckets=[[],[]]}initBucketCleaner(){this.bucketCleanerInterval=setInterval(this.cleanBuckets.bind(this),this.interval)}stopBucketCleaner(){clearInterval(this.bucketCleanerInterval),this.isScheduled=!1}addToBucket(e){this.buckets[0].push(e),this.isScheduled||(this.isScheduled=!0,this.initBucketCleaner())}cleanBuckets(){this.buckets[this.buckets.length-1].forEach(URL.revokeObjectURL),this.buckets.unshift([]),this.buckets.splice(this.buckets.length-1,1);this.buckets.some((e=>e.length>0))||this.stopBucketCleaner()}}let se;var ae=s(8106),ne=s(63144);function re(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const oe=C.sSc.Dispositions,ie=()=>{};class le extends r.Component{constructor(...e){super(...e),re(this,"state",{rtePlaceholderVisible:!0,hiddenQuotedText:"",showSendAsAttachmentBtn:!0,hoveredImage:null,layoutOverlay:null,hoveredElement:null,imageSize:z.CURRENT_IMAGE_SIZE_STATUS.SMALL,spellSuggestions:[],spellNode:null}),re(this,"editorSetup",(e=>{const t=this.refs.rte,{content:s,htmlAnnotations:a,undoStack:n,redoStack:r,initialFocus:o,selectedReplySuggestion:l,isRichTextMode:c,updateToolbarState:d=(()=>{})}=e;if(this.rte||(this.rte=new i.default({element:t,isRich:c,shouldTabIndent:!0,toolbarStateChangeHandler:d,whitelistedAttributes:["style","size","href","src","face","color"],skippedFromMutationObserver:["data-inlineimagemanipulating","data-spellcheckmanipulating"]}),this.rte.undoStack=n,this.rte.redoStack=r,this.rte.undoStack.length&&(this.rte.firstUndoSave=!1),this.rte.addPlugin({commands:{add_attachment:{action:()=>{e.onAttachmentShortcut(e.csid)}}},keydownCommands:{[z.RTEKeyModifier.SPECIAL|z.RTEKeyModifier.SHIFT]:{85:"add_attachment"},[z.RTEKeyModifier.SPECIAL]:{75:"createlink"}}})),s){const{quote:e,nonQuote:t}=(0,T._m)(s,a);this.setState({rtePlaceholderVisible:!1,hiddenQuotedText:e},(()=>{(this.props.cursorWithinQuotedText||this.props.autoExpandQuotedText)&&this.state.hiddenQuotedText&&this.expandQuote()})),l&&(this.isListeningForChanges=!0),this.rte.setHTML(t)}else this.isListeningForChanges=!0;this._lazyLoadedPlugins&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins,e),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),o&&this.rte.focus(),this.rte.addPlugin({onContentMutated:e=>{this.isListeningForChanges?this.onContentChange("content_mutation",e):this.isListeningForChanges=!0},contentChanged:e=>{e&&e.type&&z.EDITOR_EVENTS[e.type]&&this.onContentChange(e)}})})),re(this,"onContentChange",(e=>{if(this.isListeningForChanges){var t;if(null!=this&&null!==(t=this._spellCheckPlugin)&&void 0!==t&&t.spellSuggestionsApplied)return;const s=e=>"string"==typeof e?e:e&&e.type;this.props.onContentChange({format:{richTextMode:this.rte.isRich},caret:this.rte.getCaretCoordinates(),type:s(e),eventData:e&&e.eventData}),this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})}})),re(this,"handleSendAsAttachment",(e=>{if(!e)return;const t=e.getAttribute("data-id");t?this.props.onSendAsAttachment(!0,t,null):this.props.onSendAsAttachment(!1,null,(0,p.extractPidFromString)(e.src))})),re(this,"resizeHoverImage",(e=>{this._inlineImagePlugin.resizeHoverImage(e)})),re(this,"_resizeLinkEnhancerCard",(e=>{this._linkEnhancerPlugin.handleResizeCard({newSize:e})})),re(this,"_removeLinkEnhancerCard",(()=>{this._linkEnhancerPlugin.handleRemoveCard()})),re(this,"_moveLinkEnhancerCard",(()=>{this._linkEnhancerPlugin.handleMoveCardToBottom()})),re(this,"getInnerHtml",(()=>this.rte.getRawHTML())),re(this,"getPlainText",(()=>this.rte.getText())),re(this,"getUndoStack",(()=>this.rte.undoStack)),re(this,"getRedoStack",(()=>this.rte.redoStack)),re(this,"getRTEDOMNode",(()=>(0,o.findDOMNode)(this.rte.element))),re(this,"getRTEWrappedElement",(()=>(0,ee.X1)(this.rte.element))),re(this,"getRawMessageContent",(()=>this.rte.getRawHTML()+this.state.hiddenQuotedText)),re(this,"containsStationery",(()=>!!this._stationeryPlugin&&this._stationeryPlugin.isStationeryUsed())),re(this,"handleMouseDown",(()=>{this.state.rtePlaceholderVisible&&this.setState({rtePlaceholderVisible:!1})})),re(this,"handleKeyDown",(e=>{this.props.onKeyDown&&this.props.onKeyDown(e)})),re(this,"handleQuoteExpand",(e=>{e.preventDefault(),e.stopPropagation(),this.expandQuote()})),re(this,"expandQuote",(()=>{const{hiddenQuotedText:e}=this.state;let t="";if(this.props.cepForward){const s=e.indexOf("<div fwdid");if(-1===s)t=e;else{const a=e.indexOf(">",s);t=e.substring(0,s)+e.substring(a+1)}this.props.onExpandQuotedText({csid:this.props.csid})}else t=e;this.isListeningForChanges=!t,this.rte.setHTML(t,{isAppend:true,skipContentChanged:!0}),this.setState({hiddenQuotedText:""},(()=>{this.props.cursorWithinQuotedText&&this.props.restoreCursorPosition(!0)})),this.rte.undoStack.concat(this.rte.redoStack).forEach((e=>{const s=(0,$.UZ)(e.html);(0,$.c$)(s,t,true),e.html=s.innerHTML})),this.props.fixImgSrcURL&&this._inlineImagePlugin&&this._inlineImagePlugin.fixImgSrcDomain(),this._stationeryPlugin&&this._stationeryPlugin.checkAndSetDraft(),this._layoutPlugin&&this._layoutPlugin.checkAndSetDraft()})),re(this,"updateLayoutHoverOverlayProps",(e=>{this.setState((t=>({...t,...e})))})),re(this,"updateImgHoverOverlayProps",(e=>{this.setState({showSendAsAttachmentBtn:!1,imageSize:z.CURRENT_IMAGE_SIZE_STATUS.SMALL,...e})})),re(this,"updateCurrentCardState",(({newCardSize:e,hoveredCard:t})=>{this.setState({cardSize:e,hoveredCard:t})})),re(this,"handlePluginsLoaded",(e=>{this._lazyLoadedPlugins=e,this.rte&&this._initializeLazyLoadedPlugins(this._lazyLoadedPlugins)})),re(this,"handleSpellingSuggestions",((e,t)=>{this.setState({spellNode:e,spellSuggestions:t})})),re(this,"isPrefectSpelling",(()=>{var e;return null==this||null===(e=this._spellCheckPlugin)||void 0===e?void 0:e.isPrefectSpelling()})),re(this,"endSpellCheck",(()=>{var e;return null==this||null===(e=this._spellCheckPlugin)||void 0===e?void 0:e.endSpellCheck()})),re(this,"onContentMutatedFromCompose",(()=>{var e;return null==this||null===(e=this._spellCheckPlugin)||void 0===e?void 0:e.onContentMutated()})),re(this,"_initializeLazyLoadedPlugins",((e,t)=>{const{InlineImagePlugin:s,StationeryPlugin:a,LinkEnhancerPlugin:n,TableFormatterPlugin:r,SpellCheckPlugin:i,AIComposePlugin:l}=e;if(this.props.linkEnhancer&&!this._linkEnhancerPlugin&&(this._linkEnhancerPlugin=new n({rte:this.rte,overlay:(0,o.findDOMNode)(this.refs.linkEnhancerOverlay),apiClient:this.context.linkEnhancerClient,blocklist:this.props.linkEnhancerUrlBlocklist,enhancedLinks:this.props.enhancedLinks,scrollableArea:this.props.scrollableAreaRef,onCardHovered:this.updateCurrentCardState,context:this.context,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom}),this.rte.addPlugin(this._linkEnhancerPlugin)),this.props.stationery&&!this._stationeryPlugin){const{htmlAnnotations:e=[],initialFocus:s}=t||this.props,{onStationeryThemeChange:n,onStationeryDefaultThemeChange:r,rtl:o}=this.props;this._stationeryPlugin=new a({rte:this.rte,htmlAnnotations:e,onThemeChange:n,onDefaultThemeChange:r,context:this.context,fontFamily:this.props.composeFontFamily,rtl:o}),this.rte.addPlugin(this._stationeryPlugin),this._stationeryPlugin.checkAndSetDraft(),!this.containsStationery()&&this.props.canApplyDefaultStationery&&this._stationeryPlugin.update(this.props.getThemeConfig()),s&&this.rte.focus()}this.props.isSpellCheckEnabled&&!this._spellCheckPlugin&&(this._spellCheckPlugin=new i({rte:this.rte,handleSpellingSuggestions:this.handleSpellingSuggestions,overlay:(0,o.findDOMNode)(this.refs.spellCheckOverlay),scrollableArea:this.props.scrollableAreaRef,spellCheckSuggestionsRequest:this.props.spellCheckSuggestionsRequest,spellCheckActive:this.props.spellCheckActive,spellCheckAction:this.props.spellCheckAction,misspelledWordToolTip:this.formatMessage(E.Z.spellingCheckMisspelledWordTooltip)}),this.rte.addPlugin(this._spellCheckPlugin)),this.props.isComposeAssistantEnabled&&!this._aiComposePlugin&&(this._aiComposePlugin=new l({rte:this.rte,htmlAnnotations:this.props.htmlAnnotations||[],requestGeneratedDraftContent:this.props.requestGeneratedDraftContent,requestRephraseByTone:this.props.requestRephraseByTone,requestRephraseByPrompt:this.props.requestRephraseByPrompt,onInit:this.props.notifyAiComposePluginInitialized,updateComposeAssistantView:this.props.updateComposeAssistantView}),this.rte.addPlugin(this._aiComposePlugin)),this._inlineImagePlugin||(this._inlineImagePlugin=new s({rte:this.rte,getAttachmentInfo:()=>this.props.getAttachments().filter((({id:e="",disposition:t})=>t===oe.INLINE&&!e.includes("inlineImage"))),onImageRemove:this.props.onImageRemove,onImagePaste:this.props.onImagePaste,updateImgHoverOverlayProps:this.updateImgHoverOverlayProps,_overlay:(0,o.findDOMNode)(this.refs.imageOverlay),fixImgSrcURL:this.props.fixImgSrcURL,blobCleaner:ae.jU&&URL.revokeObjectURL&&(se||(se=new te(3e5)),se)}),this._inlineImagePlugin.setScrollableArea(this.props.scrollableAreaRef),this.props.fixImgSrcURL&&this._inlineImagePlugin.fixImgSrcDomain(),this.rte.addPlugin(this._inlineImagePlugin)),this._tableFormatterPlugin||(this._tableFormatterPlugin=new r,this.rte.addPlugin(this._tableFormatterPlugin))})),re(this,"formatMessage",((e,t={})=>this.context.intl.formatMessage(e,t))),re(this,"_notifyPlugins",(()=>{const{linkEnhancer:e}=this.props;this._layoutPlugin&&(this._layoutPlugin.setOverylayNode((0,o.findDOMNode)(this.refs.imageOverlayLayout)),this._layoutPlugin.contentChanged("sethtml")),this._inlineImagePlugin&&(this._inlineImagePlugin.setOverylayNode((0,o.findDOMNode)(this.refs.imageOverlay)),this._inlineImagePlugin.contentChanged("sethtml")),e&&this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setOverylayNode((0,o.findDOMNode)(this.refs.linkEnhancerOverlay)),this._linkEnhancerPlugin.contentChanged("sethtml"))}))}componentDidMount(){this.isListeningForChanges=!1,document.execCommand("enableObjectResizing",!1,"false"),this.editorSetup(this.props)}UNSAFE_componentWillReceiveProps(e){var t,s,a,n;if(e.csid!==this.props.csid&&this.editorSetup(e),(e.composeFontSize!==this.props.composeFontSize||e.composeFontFamily!==this.props.composeFontFamily)&&this.rte){const t=this.rte.element.style,s=(0,p.getFontSizeStyle)(e.composeFontSize),a=e.composeFontFamily.replace(/"/g,""),n=(0,ee.X1)(this.rte.element),r=(0,ee.yP)(n);if(t.fontSize=s,t.fontFamily=a,n&&!r){const e=n.style;e.fontSize=s,e.fontFamily=a}}this._layoutPlugin&&this._layoutPlugin.setScrollableArea(e.scrollableAreaRef),this._inlineImagePlugin&&this._inlineImagePlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin&&(this._linkEnhancerPlugin.setScrollableArea(e.scrollableAreaRef),this._linkEnhancerPlugin.setEnhancedLinks(e.enhancedLinks)),this._spellCheckPlugin&&(null==e||null===(t=e.spellCheckData)||void 0===t?void 0:t.timeStamp)!==(null===(s=this.props)||void 0===s||null===(a=s.spellCheckData)||void 0===a?void 0:a.timeStamp)&&null!=e&&null!==(n=e.spellCheckData)&&void 0!==n&&n.sets&&this._spellCheckPlugin.applySpellCheck(null==e?void 0:e.spellCheckData),e.isComposeAssistantEnabled&&!this._aiComposePlugin&&(this._aiComposePlugin=new ne.Z({rte:this.rte,htmlAnnotations:e.htmlAnnotations||[],requestGeneratedDraftContent:e.requestGeneratedDraftContent,requestRephraseByTone:e.requestRephraseByTone,requestRephraseByPrompt:e.requestRephraseByPrompt,onInit:e.notifyAiComposePluginInitialized,updateComposeAssistantView:e.updateComposeAssistantView}),this.rte.addPlugin(this._aiComposePlugin)),this._aiComposePlugin&&e.generatedComposeContent&&e.generatedComposeContent!==this.props.generatedComposeContent&&this._aiComposePlugin.applyToDraft(e.generatedComposeContent),this._aiComposePlugin&&e.generatedRephrasedContent&&e.generatedRephrasedContent!==this.props.generatedRephrasedContent&&this._aiComposePlugin.applySnippet(e.generatedRephrasedContent)}shouldComponentUpdate(e,t){const{props:s,state:a}=this;return e.csid!==s.csid||e.content!==s.content||t.hiddenQuotedText!==a.hiddenQuotedText||t.rtePlaceholderVisible!==a.rtePlaceholderVisible||t.showSendAsAttachmentBtn!==a.showSendAsAttachmentBtn||t.hoveredImage!==a.hoveredImage||t.hoveredCard!==a.hoveredCard||t.hoveredElement!==a.hoveredElement||t.layoutOverlay!==a.layoutOverlay||t.imageSize!==a.imageSize||t.cardSize!==a.cardSize||e.contentEditable!==s.contentEditable||t.spellSuggestions.join(",")!==a.spellSuggestions.join(",")||t.spellNode!==a.spellNode}componentWillUnmount(){this.rte&&this.rte.destroy()}render(){const{ariaLabel:e,kind:t,contentEditable:a,scrollableAreaRef:n,onImageRemove:o}=this.props,i=c()(_(),{kind:t}),{hiddenQuotedText:l,showSendAsAttachmentBtn:d,imageSize:E,cardSize:m}=this.state,C={fontFamily:this.props.composeFontFamily,fontSize:(0,p.getFontSizeStyle)(this.props.composeFontSize)};return r.createElement("div",{tabIndex:-1,onBlur:this.props.onBlur,"data-test-id":"editorWrapper",className:i.editorWrapper,ref:e=>this.editorWrapper=e},r.createElement("div",{className:i.placeholder,"data-test-id":"rte_placeholder"},this.state.rtePlaceholderVisible?r.createElement(u.FormattedMessage,{id:"compose.rte_placeholder",defaultMessage:"Write something..."}):null),r.createElement(J,{editor:this.rte},r.createElement(I.cr,{import:"./editor_plugin_loader",onLoad:this.handlePluginsLoaded,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,88541))},_moduleResolver:function(){return 88541}}),r.createElement("div",{className:i.editorContainer,id:"editor-container",ref:"editorContainer"},r.createElement("div",{"data-test-id":"rte",role:"textbox",spellCheck:!0,autoCorrect:"off","aria-multiline":!0,contentEditable:a,"aria-label":e,className:"rte "+i.rte,ref:"rte",style:C,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.props.onFocus}),r.createElement(I.cr,{import:"./img_hover_overlay",ref:"imageOverlay",onload:this._notifyPlugins,overlayType:z.RTEHoverOverlayTypes.IMAGE,onHoverImageRemove:this.removeHoverImage,onImageResize:this.resizeHoverImage,onSendAsAttachment:this.handleSendAsAttachment,showSendAsAttachmentBtn:d,hoveredElement:this.state.hoveredImage,onImageRemove:o,imageSize:E,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:n,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52703))},_moduleResolver:function(){return 52703}}),this.props.linkEnhancer?r.createElement(I.cr,{import:"./img_hover_overlay",onload:this._notifyPlugins,ref:"linkEnhancerOverlay",overlayType:z.RTEHoverOverlayTypes.LINK_ENHANCER_CARD,onCardResize:this._resizeLinkEnhancerCard,onCardRemove:this._removeLinkEnhancerCard,onCardMove:this._moveLinkEnhancerCard,hoveredElement:this.state.hoveredCard,cardSize:m,editor:this.rte,editorWrapperRef:this.editorWrapper,scrollableAreaRef:n,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,52703))},_moduleResolver:function(){return 52703}}):null,this.props.isSpellCheckEnabled?r.createElement(I.cr,{import:"./spell_check_overlay",ref:"spellCheckOverlay",handleSpellingSuggestions:this.handleSpellingSuggestions,spellCheckPlugin:this._spellCheckPlugin,scrollableArea:n,spellNode:this.state.spellNode,spellSuggestions:this.state.spellSuggestions,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,44536))},_moduleResolver:function(){return 44536}}):null)),l?r.createElement("div",null,r.createElement("button",{"data-test-id":"compose-show-quoted-text",onClick:this.handleQuoteExpand,className:i.button},r.createElement("span",{className:i.buttonInner},r.createElement(S.Z,{kind:A.Kinds.CHEVRON_UP,size:A.Sizes.XXS,rotate:A.Rotate.D90,colorState:A.ColorStates.DISABLED}),r.createElement(u.FormattedMessage,{id:"compose.show_quote",defaultMessage:"Show Original Message"})))):null)}}re(le,"contextTypes",{config:n().object,intl:u.intlShape.isRequired,executeAction:n().func,linkEnhancerClient:m.LinkEnhancerClientType}),re(le,"defaultProps",{kind:z.EditorTypes.COMPOSE,onStationeryThemeChange:ie,onStationeryDefaultThemeChange:ie,autoExpandQuotedText:!1,onExpandQuotedText:ie,contentEditable:!0,undoStack:[],redoStack:[],getThemeConfig:ie,onLayoutChange:ie,getAttachments:()=>[],canApplyDefaultStationery:!1,isRichTextMode:!0,isSpellCheckEnabled:!1});const ce=le},11583:(e,t,s)=>{"use strict";s.d(t,{Z:()=>F});s(45697);var a=s(67294),n=s(99095),r=s(43007),o=s(64692),i=s(9333),l=s(21939),c=s(66679),d=s(64828),_=s(77078),E=s(67498),u=s(28182),m=s(76531),S=s(94482),p=s(79069),C=s.n(p),A=s(76223),T=s.n(A);const I=function({kind:e,text:t,onClick:s,selected:n}){const o=T()(C(),{kind:e,selected:n});return a.createElement(S.Z,{key:e,kind:_.F.WRAP_CONTENT,name:e,text:t},a.createElement(E.Z,{kind:u.F.MENUITEM,onClick:s},a.createElement("div",{className:o.menuItem},a.createElement("span",{className:o.checkmarkWrapper},n&&a.createElement(r.Z,{kind:m.Kinds.CHECKMARK,size:m.Sizes.XS})),a.createElement("span",null,t))))};var h=s(4832),g=s(8470),O=s(78041),D=s(93332),R=s.n(D),N=s(19822),L=s(85927),f=s(37422),M=s(18685);function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const b=T()(R()),y=(0,n.defineMessages)({font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},font_size_label_tiny_pts:{id:"compose.font_size_label_tiny_pts",defaultMessage:"8pt"},font_size_label_small_pts:{id:"compose.font_size_label_small_pts",defaultMessage:"10pt"},font_size_label_medium_pts:{id:"compose.font_size_label_medium_pts",defaultMessage:"12pt"},font_size_label_mediumplus_pts:{id:"compose.font_size_label_mediumplus_pts",defaultMessage:"14pt"},font_size_label_large_pts:{id:"compose.font_size_label_large_pts",defaultMessage:"18pt"},font_size_label_xlarge_pts:{id:"compose.font_size_label_xlarge_pts",defaultMessage:"24pt"},font_size_label_huge_pts:{id:"compose.font_size_label_huge_pts",defaultMessage:"36pt"},back_button_text_label:{id:"compose.back_button_text_label",defaultMessage:"Back"}});class v extends a.Component{constructor(...e){super(...e),P(this,"state",{selectedFontSizeInMenu:this.props.selectedFontSize}),P(this,"handleBackButton",(e=>{e.stopPropagation(),this.props.goToMainMenu()})),P(this,"setSelectedFontSizeInMenu",(e=>{this.setState({selectedFontSizeInMenu:e||this.props.selectedFontSize})})),P(this,"handleMenuFocus",(()=>{const e=document.queryCommandValue("fontSize");this.setSelectedFontSizeInMenu(e)}))}render(){const{formatMessage:e}=this.context.intl,{showFontSizeInPts:t,showAdditionalFonts:s}=this.props,_=t?{[h.FontSizes[0].name]:e(y.font_size_label_tiny_pts),[h.FontSizes[1].name]:e(y.font_size_label_small_pts),[h.FontSizes[2].name]:e(y.font_size_label_medium_pts),[h.FontSizes[3].name]:e(y.font_size_label_mediumplus_pts),[h.FontSizes[4].name]:e(y.font_size_label_large_pts),[h.FontSizes[5].name]:e(y.font_size_label_xlarge_pts),[h.FontSizes[6].name]:e(y.font_size_label_huge_pts)}:{[h.FontSizes[0].name]:e(y.font_size_label_tiny),[h.FontSizes[1].name]:e(y.font_size_label_small),[h.FontSizes[2].name]:e(y.font_size_label_medium),[h.FontSizes[4].name]:e(y.font_size_label_large),[h.FontSizes[5].name]:e(y.font_size_label_xlarge),[h.FontSizes[6].name]:e(y.font_size_label_huge)},{selectedFontSizeInMenu:E}=this.state,u=parseInt(E,10),{applyHoverMenuButtonOverride:p=!1,selectedFontFamily:C}=this.props,A=h.FontSizes.map((({name:e,fontSize:s})=>{if(t||"mediumplus"!==e)return a.createElement(I,{key:e,kind:e,text:_[e]||"",onClick:this.props.onFontSizeChange.bind(null,s),selected:s===u})})),T=h.Fonts.map((({name:t,label:n,fontFamily:r})=>{const o=r.replace(/['," ]/g,"").toLowerCase()===(C&&C.replace(/['," ]/g,"").toLowerCase()||"");if(s||"comicsans"!==t&&"impact"!==t)return a.createElement(I,{key:t,kind:t,text:(0,N.getLocalizedFontFamilyName)(e,t)||n,onClick:this.props.onFontFamilyChange.bind(null,r),selected:o})}));return a.createElement(l.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1,parentMenu:this.props.parentMenu,onFocus:this.handleMenuFocus},this.props.parentMenu?a.createElement(c.Z,{style:{display:"none"}}):a.createElement(c.Z,{"aria-label":e(y.font_name_size),"data-test-id":"icon-btn-text",title:e(y.font_name_size),overridingClass:p?b.hoverMenuButton:""},p?a.createElement(o.Z,{kind:m.Kinds.TEXT,size:m.Sizes.XS,colorStates:{normal:m.ColorStates.TB_ICON_FILL_COLOR,hovered:m.ColorStates.BATCAVE_GRAY}}):a.createElement(r.Z,{kind:m.Kinds.TEXT,size:m.Sizes.XS,colorState:m.ColorStates.NORMAL})),a.createElement(d.ZP,{style:this.props.parentMenu?{marginLeft:"8px",marginTop:"4px"}:{},menuLayout:O.A.VERTICAL,"data-test-id":"font-picker"},this.props.parentMenu?a.createElement(i.default,{title:e(y.back_button_text_label),kind:m.Kinds.ARROW_UP,size:m.Sizes.XS,rotate:m.Rotate.D270,colorState:m.ColorStates.SECOND_LEVEL_GRAY,onClick:this.handleBackButton,"data-test-id":"icon-btn-text_back"},a.createElement("span",{className:b.backButtonLabel},a.createElement(n.FormattedMessage,y.back_button_text_label))):null,a.createElement(g.Z,{layout:O.A.HORIZONTAL},a.createElement(S.Z,{key:"font-families"},a.createElement(g.Z,null,T)),a.createElement(S.Z,{key:"font-sizes"},a.createElement(g.Z,null,A)))))}}P(v,"contextTypes",{intl:n.intlShape.isRequired}),P(v,"defaultProps",{parentMenu:null,applyHoverMenuButtonOverride:!1});const F=(0,M.connect)((e=>{const{isFeatureEnabled:t}=(0,L.selectors)(e);return{showFontSizeInPts:t(f.ANe.SHOW_FONT_SIZE_IN_PTS),showAdditionalFonts:t(f.ANe.SHOW_ADDITIONAL_FONTS)}}),void 0)(v)},97602:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(19341),l=s(43007),c=s(76531),d=s(79149),_=s.n(d),E=s(4832);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=(0,o.defineMessages)({from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},remove_contact:{id:"compose.btn_remove_contact",defaultMessage:"Remove"}});class S extends a.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1,xButtonHovered:!1}),u(this,"getDefaultprops",(()=>({isSelected:!1,allowContactRemoval:!0}))),u(this,"handleMouseOver",(()=>{this.setState({hovered:!0})})),u(this,"handleMouseLeave",(()=>{this.setState({hovered:!1})})),u(this,"renderHighlight",(({string:e="",highlightedTextClassName:t,highlightRange:s=[]})=>{const n=[];let r=0;return s.sort(((e,t)=>e.s===t.s?e.l-t.l:e.s-t.s)),s.forEach((({s,l:o},i,l)=>{const c=s+o;n.push(e.slice(r,s)),n.push(a.createElement("span",{className:t,"data-test-id":"result-match",key:e+i},e.slice(s,c))),r=c,i===l.length-1&&n.push(e.slice(r))})),a.createElement("span",null,n.length?n.map((e=>e)):e)})),u(this,"handleXButtonHover",(e=>{this.setState({xButtonHovered:e})}))}render(){const e=r()(_()),{formatMessage:t}=this.context.intl,s=this.state.xButtonHovered?c.ColorStates.NORMAL:c.ColorStates.DISABLED,{option:n,allowContactRemoval:o=!0}=this.props,{hovered:d}=this.state;return a.createElement("div",{className:e.typeaheadOptionContainer,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"suggest-contact-item-container"},a.createElement("span",{className:e.contactIcon},a.createElement(i.ZP,{contact:{id:n.id},size:i.u8.M})),a.createElement("div",{className:e.textContainer},a.createElement("div",{className:e.name,"data-test-id":"result-name"},this.renderHighlight({string:n.name,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.fullName})),a.createElement("div",{className:e.email,"data-test-id":"result-email"},n.list?t(m.from_group,{contactCount:n.list.length}):this.renderHighlight({string:n.email,highlightedTextClassName:e.highlight,highlightRange:n.filteredResults&&n.filteredResults.email}))),d&&o?a.createElement("span",{className:e.remove,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1),"data-test-id":"contact-remove-button-wrapper","data-action":E.DELETE_CONTACT},a.createElement(l.Z,{"data-iskeynav":!0,"data-test-id":"contact-remove-button",kind:c.Kinds.CLOSE,size:c.Sizes.XXS,disabled:d,title:t(m.remove_contact),colorState:s})):null)}}u(S,"contextTypes",{intl:o.intlShape.isRequired});const p=S},12897:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>dt});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(18685),l=s(67498),c=s(37422),d=s(94482),_=s(43007),E=s(9333),u=s(76531),m=s(21939),S=s(66679),p=s(64828),C=s(78041),A=s(76223),T=s.n(A),I=s(95004),h=s.n(I),g=s(86460);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=T()(h());class R extends r.Component{constructor(...e){super(...e),O(this,"_getColorState",(e=>e?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED))}render(){const{tooltip:e,onChange:t,showPlainTextToggle:s,strikeThrough:a,justifyleft:n,justifycenter:o,justifyright:i,insertorderedlist:l,insertunorderedlist:c,disabled:A}=this.props,{formatMessage:T}=this.context.intl;return r.createElement(m.Z,{afterMenuHide:this.props.focusBackEditor,showMenuActiveState:!1},r.createElement(S.Z,{"aria-label":e,"data-test-id":"icon-btn-more_tools",title:e},r.createElement(_.Z,{kind:u.Kinds.MORE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED})),r.createElement(p.ZP,{persistOnClick:!0,disabled:A,focusBackEditor:this.props.focusBackEditor,menuLayout:C.A.HORIZONTAL,"data-test-id":"more-tools"},r.createElement("span",{className:D.sectionDivider}),r.createElement("span",{className:D.rtlIgnoreDir},r.createElement(d.Z,{key:"align-l",name:"align-l"},r.createElement("span",{className:D.icon},r.createElement(E.default,{"aria-label":T(g.Z.leftAlign),title:T(g.Z.leftAlign),kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,onClick:t.bind(null,"left"),colorState:this._getColorState(n)}))),r.createElement(d.Z,{key:"align-c",name:"align-c"},r.createElement("span",{className:D.icon},r.createElement(E.default,{"aria-label":T(g.Z.centerAlign),title:T(g.Z.centerAlign),kind:u.Kinds.ALIGN_CENTER,size:u.Sizes.XS,onClick:t.bind(null,"center"),colorState:this._getColorState(o)}))),r.createElement(d.Z,{key:"align-r",name:"align-r"},r.createElement("span",{className:D.icon},r.createElement(E.default,{className:D.rightAlignIcon,"aria-label":T(g.Z.rightAlign),title:T(g.Z.rightAlign),kind:u.Kinds.ALIGN_LEFT,rotate:u.Rotate.D0,size:u.Sizes.XS,onClick:t.bind(null,"right"),colorState:this._getColorState(i)})))),r.createElement("span",{className:D.sectionDivider}),r.createElement(d.Z,{key:"bullet",name:"bullet"},r.createElement("span",{className:D.icon},r.createElement(E.default,{className:D.rtlRawScaleX,"aria-label":T(g.Z.bulletedList),title:T(g.Z.bulletedList),kind:u.Kinds.LIST_UNORDERED,size:u.Sizes.XS,onClick:t.bind(null,"bullet"),colorState:this._getColorState(c)}))),r.createElement(d.Z,{key:"number",name:"number"},r.createElement("span",{className:D.icon},r.createElement(E.default,{className:D.rtlRawHidden,"aria-label":T(g.Z.numberedList),title:T(g.Z.numberedList),kind:u.Kinds.LIST_ORDERED,size:u.Sizes.XS,onClick:t.bind(null,"number"),colorState:this._getColorState(l)}),r.createElement(E.default,{className:D.rtlRemoveHidden,"aria-label":T(g.Z.numberedList),title:T(g.Z.numberedList),kind:u.Kinds.LIST_ORDERED_FLIPPED,size:u.Sizes.XS,onClick:t.bind(null,"number"),colorState:this._getColorState(l)}))),r.createElement("span",{className:D.sectionDivider}),r.createElement(d.Z,{name:"indent",key:"indent"},r.createElement("span",{className:D.icon},r.createElement(E.default,{className:D.rtlRawScaleX,"aria-label":T(g.Z.increaseIndent),title:T(g.Z.increaseIndent),kind:u.Kinds.INDENT,size:u.Sizes.XS,onClick:t.bind(null,"indent")}))),r.createElement(d.Z,{name:"outdent",key:"outdent"},r.createElement("span",{className:D.icon},r.createElement(E.default,{className:D.rtlRawScaleX,"aria-label":T(g.Z.decreaseIndent),title:T(g.Z.decreaseIndent),kind:u.Kinds.OUTDENT,size:u.Sizes.XS,onClick:t.bind(null,"outdent")}))),r.createElement("span",{className:D.sectionDivider}),r.createElement(d.Z,{name:"strikethrough",key:"strikethrough"},r.createElement("span",{className:D.icon},r.createElement(E.default,{"aria-label":T(g.Z.strikeThrough),title:T(g.Z.strikeThrough),kind:u.Kinds.STRIKETHROUGH,size:u.Sizes.XS,onClick:t.bind(null,"strikeThrough"),colorState:this._getColorState(a)}))),s?r.createElement(d.Z,{name:"turn-off-richtext",key:"turn-off-richtext"},r.createElement("span",{className:D.icon},r.createElement(E.default,{"data-test-id":"richtext-off",onClick:t.bind(null,"plaintext"),title:T(g.Z.plaintext),"aria-label":T(g.Z.plaintext_icon_label),kind:u.Kinds.RICHTEXT_OFF,size:u.Sizes.XS})),r.createElement("span",{className:D.sectionDivider})):null))}}O(R,"contextTypes",{intl:o.intlShape.isRequired}),O(R,"defaultProps",{onMenuShow:()=>{}});const N=R;var L=s(11583),f=s(25319),M=s(93332),P=s.n(M);function b(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const y=T()(P());class v extends r.Component{constructor(...e){super(...e),b(this,"state",{showMainMenu:!0,showColorMenu:!1,showFontMenu:!1}),b(this,"onClickColor",(e=>{this.setState({showMainMenu:!1,showColorMenu:!0,showFontMenu:!1}),e.stopPropagation()})),b(this,"onClickFont",(e=>{this.setState({showMainMenu:!1,showColorMenu:!1,showFontMenu:!0}),e.stopPropagation()})),b(this,"onShowMenu",(()=>{this.props.onMenuShow(),this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})})),b(this,"focusBackEditor",(()=>{this.setState({showColorMenu:!1,showFontMenu:!1}),this.refs.expandedmoretoolsmenu.hideMenu(),this.props.focusBackEditor()})),b(this,"goToMainMenu",(()=>{this.setState({showMainMenu:!0,showColorMenu:!1,showFontMenu:!1})})),b(this,"_getColorState",(e=>e?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED))}render(){const{tooltip:e,onChange:t,isBold:s,isItalic:a,showPlainTextToggle:n,strikeThrough:i,justifyleft:c,justifycenter:E,justifyright:A,insertorderedlist:T,insertunorderedlist:I}=this.props,{formatMessage:h}=this.context.intl;return r.createElement("div",null,r.createElement(m.Z,{ref:"expandedmoretoolsmenu",afterMenuHide:this.focusBackEditor,showMenuActiveState:!1,onMenuShow:this.onShowMenu},r.createElement(S.Z,{"aria-label":e,"data-test-id":"icon-btn-expanded_more_tools",title:e},r.createElement(_.Z,{kind:u.Kinds.MORE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED})),this.state.showMainMenu?r.createElement(p.ZP,{menuLayout:C.A.VERTICAL,"data-test-id":"expanded-more-tools-menu"},r.createElement("div",{className:y.menuContainer},r.createElement("div",null,r.createElement(d.Z,{key:"link",name:"link",className:y.menuListItem,ariaLabel:h(g.Z.link_icon_label),onClick:this.props.onAddLink},r.createElement(l.Z,{className:y.button,title:h(g.Z.link),"data-test-id":"icon-btn-link"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.LINK,size:u.Sizes.XS})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.link))))),r.createElement(d.Z,{key:"font",name:"font",className:y.menuListItem,ariaLabel:h(g.Z.font_name_size),onClick:this.onClickFont,"data-test-id":"icon-btn-font"},r.createElement(l.Z,{className:y.button,title:h(g.Z.font_name_size),"data-test-id":"icon-btn-text_expanded"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.TEXT,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.font_name_size))))),r.createElement(d.Z,{key:"color",name:"color",className:y.menuListItem,ariaLabel:h(g.Z.color),onClick:this.onClickColor,"data-test-id":"icon-btn-color"},r.createElement(l.Z,{className:y.button,title:h(g.Z.color),"data-test-id":"icon-btn-text_color_expanded"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.TEXT_COLOR,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.color))))),n?r.createElement(d.Z,{key:"turn-off-richtext",name:"turn-off-richtext",className:y.menuListItem,ariaLabel:h(g.Z.plaintext_icon_label),onClick:t.bind(null,"plaintext")},r.createElement(l.Z,{className:y.button,title:h(g.Z.plaintext),"data-test-id":"richtext-off"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.RICHTEXT_OFF,size:u.Sizes.XS})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.plaintext_text_label))))):r.createElement(d.Z,{className:y.menuListItem}),r.createElement("span",{className:y.sectionDivider}),r.createElement(d.Z,{key:"align-l",name:"align-l",className:y.menuListItem,ariaLabel:h(g.Z.leftAlign),onClick:t.bind(null,"left")},r.createElement(l.Z,{className:y.button,title:h(g.Z.leftAlign)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,colorState:this._getColorState(c)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.leftAlign))))),r.createElement(d.Z,{key:"align-c",name:"align-c",className:y.menuListItem,ariaLabel:h(g.Z.centerAlign),onClick:t.bind(null,"center")},r.createElement(l.Z,{className:y.button,title:h(g.Z.centerAlign)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.ALIGN_CENTER,size:u.Sizes.XS,colorState:this._getColorState(E)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.centerAlign))))),r.createElement(d.Z,{key:"align-r",name:"align-r",className:y.menuListItem,ariaLabel:h(g.Z.rightAlign),onClick:t.bind(null,"right")},r.createElement(l.Z,{className:y.button,title:h(g.Z.rightAlign)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.rightAlignIcon},r.createElement(_.Z,{kind:u.Kinds.ALIGN_LEFT,size:u.Sizes.XS,colorState:this._getColorState(A)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.rightAlign))))),r.createElement(d.Z,{name:"indent",key:"indent",className:y.menuListItem,ariaLabel:h(g.Z.increaseIndent),onClick:t.bind(null,"indent")},r.createElement(l.Z,{className:y.button,title:h(g.Z.increaseIndent)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon+" "+y.rtlRawScaleX},r.createElement(_.Z,{kind:u.Kinds.INDENT,size:u.Sizes.XS})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.increaseIndent)))))),r.createElement("div",{className:y.spaceBetween}),r.createElement("div",null,r.createElement(d.Z,{key:"bold",name:"bold",className:y.menuListItem,ariaLabel:h(g.Z.bold_icon_label),onClick:this.props.onClickBold},r.createElement(l.Z,{className:y.button,title:h(g.Z.bold),"data-test-id":"icon-btn-bold"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.BOLD,size:u.Sizes.XS,colorState:this._getColorState(s)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.bold))))),r.createElement(d.Z,{key:"italic",name:"italic",className:y.menuListItem,ariaLabel:h(g.Z.italic_icon_label),onClick:this.props.onClickItalic},r.createElement(l.Z,{className:y.button,title:h(g.Z.italic),"data-test-id":"icon-btn-italic"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.ITALIC,size:u.Sizes.XS,colorState:this._getColorState(a)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.italic))))),r.createElement(d.Z,{key:"strikethrough",name:"strikethrough",className:y.menuListItem,ariaLabel:h(g.Z.strikeThrough),onClick:t.bind(null,"strikeThrough")},r.createElement(l.Z,{className:y.button,title:h(g.Z.strikeThrough),"data-test-id":"icon-btn-strikethrough"},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon},r.createElement(_.Z,{kind:u.Kinds.STRIKETHROUGH,size:u.Sizes.XS,colorState:this._getColorState(i)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.strikeThrough))))),r.createElement(d.Z,{className:y.menuListItem}),r.createElement("span",{className:y.sectionDivider}),r.createElement(d.Z,{key:"bullet",name:"bullet",className:y.menuListItem,ariaLabel:h(g.Z.bulletedList),onClick:t.bind(null,"bullet")},r.createElement(l.Z,{className:y.button,title:h(g.Z.bulletedList)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon+" "+y.rtlRawScaleX},r.createElement(_.Z,{kind:u.Kinds.LIST_UNORDERED,size:u.Sizes.XS,colorState:this._getColorState(I)})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.bulletedList))))),r.createElement(d.Z,{key:"number",name:"number",className:y.menuListItem,ariaLabel:h(g.Z.numberedList),onClick:t.bind(null,"number")},r.createElement(l.Z,{className:y.button,title:h(g.Z.numberedList)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon+" "+y.rtlRawHidden},r.createElement(_.Z,{kind:u.Kinds.LIST_ORDERED,size:u.Sizes.XS,colorState:this._getColorState(T)})),r.createElement("span",{className:y.menuIcon+" "+y.rtlRemoveHidden},r.createElement(_.Z,{kind:u.Kinds.LIST_ORDERED_FLIPPED,size:u.Sizes.XS})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.numberedList))))),r.createElement(d.Z,{key:"outdent",name:"outdent",className:y.menuListItem,ariaLabel:h(g.Z.decreaseIndent),onClick:t.bind(null,"outdent")},r.createElement(l.Z,{className:y.button,title:h(g.Z.decreaseIndent)},r.createElement("div",{className:y.menuItem},r.createElement("span",{className:y.menuIcon+" "+y.rtlRawScaleX},r.createElement(_.Z,{kind:u.Kinds.OUTDENT,size:u.Sizes.XS})),r.createElement("span",{className:y.menuLabel},r.createElement(o.FormattedMessage,g.Z.decreaseIndent)))))))):r.createElement(p.ZP,{style:{display:"none"}})),this.state.showColorMenu?r.createElement("span",null,r.createElement(f.ZP,{selectedFGColor:this.props.foreColor,selectedBGColor:this.props.backgroundColor,onFGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"forecolor"),onBGColorChange:this.props.onChooseColor.bind(this.props.toolbar,"backcolor"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):null,this.state.showFontMenu?r.createElement("span",null,r.createElement(L.Z,{selectedFontSize:this.props.fontSize,selectedFontFamily:this.props.fontFamily,onFontSizeChange:this.props.onChooseFont.bind(this.props.toolbar,"fontsize"),onFontFamilyChange:this.props.onChooseFont.bind(this.props.toolbar,"fontname"),focusBackEditor:this.focusBackEditor,goToMainMenu:this.goToMainMenu,parentMenu:this.refs.expandedmoretoolsmenu})):null)}}b(v,"contextTypes",{intl:o.intlShape.isRequired});const F=v;var U=s(73935);class k extends r.Component{render(){const{className:e,ariaLabel:t,multiple:s,onChange:a,accept:n=""}=this.props;return r.createElement("input",{role:"button",className:e,type:"file",ref:"input",value:"",title:t,"aria-label":t,multiple:s,onChange:a,accept:n})}}const w=k;var G=s(11160),H=s(31509),B=s(18030),x=s(65304),V=s(10728),Z=s(71628),W=s.n(Z),K=s(85927),z=s(66588),Y=s(1656),j=s(17016),q=s(92559),X=s(87771),Q=s(23279),J=s.n(Q),$=s(95588);function ee(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const te=()=>{},se=(0,o.defineMessages)({attach:{id:"compose.attach_label",defaultMessage:"Attach"},attachFile:{id:"compose.attach_file",defaultMessage:"Attach files"},close:{id:"compose.close_button_label",defaultMessage:"Close"}});class ae extends r.Component{constructor(e,t){super(e,t),ee(this,"state",{menuOpen:!1,showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}}),ee(this,"_getInitialState",(()=>({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",menuOpen:!1,path:{ymail:"/",gdrive:"/",dropbox:"/"},folderTreeState:{ymail:[],gdrive:[{id:"allFiles",name:"All Files",path:"/"}],dropbox:[{id:"allFiles",name:"All Files",path:"/"}]}}))),ee(this,"_toggleMenu",(()=>{this.setState({menuOpen:!this.state.menuOpen})})),ee(this,"onPopoverContentHide",(()=>{this.setState({showMainPopover:!0,showGDrivePopover:!1,showDropboxPopover:!1,showRecentFilesInMail:!1,searchBoxValue:"",menuOpen:!1})})),ee(this,"handleOpenPopover",(e=>{var t;e===c.hKF.GDRIVE?this.handleAttachFromGDrive():e===c.hKF.DROPBOX&&this.handleAttachFromDropbox(),this._toggleMenu(),null===(t=this.attachmentsPopoverContainer.current)||void 0===t||t.show(x.K2.CLICK)})),ee(this,"handleClosePopover",(()=>{var e;null===(e=this.attachmentsPopoverContainer.current)||void 0===e||e.hide(x.K2.CLICK)})),ee(this,"handleChange",(e=>{const t=Array.prototype.slice.call(e.target.files);this.props.onFileSelect({data:t})})),ee(this,"handleLoadItems",((e="",t="/",s="",a=!1,n=!1)=>{const r=e;this.props.fetchCloudStorageItems({source:r,query:s,path:t,fetchMoreItems:a,i13nModel:{mKey:n?q.JE.CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:q.JE.CLOUD_STORAGE_ITEMS_FETCHED,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.click,actionData:{source:r,query:s,fetchMoreItems:a}}})})),ee(this,"handleAttachFromComputer",(()=>{U.findDOMNode(this.inputFileBtn).click(),this.props.onFileSelectBtnClicked(),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:q.JE.ATTACH_FILES_FROM_COMPUTER,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.click}})})),ee(this,"handleAttachFromGDrive",(()=>{this.setState({showMainPopover:!1,showGDrivePopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:q.JE.ATTACH_FILES_FROM_GDRIVE,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.click}})})),ee(this,"handleAttachFromDropbox",(()=>{this.setState({showMainPopover:!1,showDropboxPopover:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:q.JE.ATTACH_FILES_FROM_DROPBOX,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.click}})})),ee(this,"handleAttachFromRecentEmails",(()=>{this.setState({showMainPopover:!1,showRecentFilesInMail:!0}),this.props.onAttachFilesMenuItemClick({i13nModel:{mKey:q.JE.ATTACH_FILES_FROM_RECENT_FILES,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.click}})})),ee(this,"handleGDriveConnect",(e=>{this.props.onConnect({url:"",provider:c.hKF.GDRIVE,i13nModel:{mKey:q.JE.CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:(0,j.getInteractionFromEvent)(e)}})})),ee(this,"handleDropboxConnect",(e=>{this.props.onConnect({url:"",provider:c.hKF.DROPBOX,i13nModel:{mKey:q.JE.CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:(0,j.getInteractionFromEvent)(e)}})})),ee(this,"handlePathChange",((e,t,s)=>{const a=this.state.path;a[e]=t,this.setState({path:{...a}},(()=>{this.handleLoadItems(e,t,s,!1,!0)}))})),ee(this,"searchCloudStorageItems",((e,t)=>{this.props.fetchCloudStorageItems(t),this.setState({query:e})})),ee(this,"handleSearchChange",((e,t)=>{const s=t||"",a=e,n=this.state.path[e];this.setState({searchBoxValue:s},(()=>this.debouncedSearch(s,{source:e,query:s,path:n,fromSearchBox:!0,i13nModel:{mKey:q.JE.CLOUD_STORAGE_ITEMS_SEARCHED,sec:q.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:q.Rb.keydown,actionData:{source:a,query:s,fromSearchBox:!0}}})))})),ee(this,"renderConnectMenu",((e,t)=>r.createElement(X.cr,{import:"../attach_files_menu/connect_cloud_storage_account",provider:e,onConnectHandler:t,handleClose:this.handleClosePopover,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,56229))},_moduleResolver:function(){return 56229}}))),ee(this,"renderResultsMenu",((e,t=te)=>r.createElement(X.cr,{import:"../attach_files_menu/cloud_storage_items",provider:e,fetchCloudStorageItems:this.props.fetchCloudStorageItems,searchBoxValue:this.state.searchBoxValue,handleSearchChange:this.handleSearchChange.bind(this,e),handlePathChange:this.handlePathChange,query:this.state.searchBoxValue,path:this.state.path[e],handleClose:this.handleClosePopover,insertLink:this.props.insertLink,handleLoadMoreItemsOnScroll:this.handleLoadItems,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment,folderTreeArray:this.state.folderTreeState[e],saveFolderState:this.saveFolderState.bind(this),savePathState:this.savePathState.bind(this),reconnectHandler:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39234))},_moduleResolver:function(){return 39234}}))),ee(this,"renderComposeAttachCue",(()=>{const{showComposeAttachCue:e}=this.props;return e?r.createElement(B.ZP,{popoverAnchor:this.state.imagesHeader,align:x.xM.START,triggerOn:x.K2.MOUNT,permittedArrowDirections:[x.Ji.DOWN],persistent:!0,offset:8,ref:e=>{this.popoverContent=e},zAltitude:V.LSY.POPOVER.HIGH},r.createElement(X.cr,{import:"../../../molecules/compose_attach_cue",cueName:c.ANe.COMPOSE_ATTACH_CUE,showComposeAttachCue:e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,20109))},_moduleResolver:function(){return 20109}})):null})),ee(this,"renderAttachFiles",(e=>{const{formatMessage:t}=this.context.intl,{withLabel:s,isEnhancedComposeToolbarExperience:a}=this.props;return r.createElement(G.Z,{className:e.popoverContainer,ref:this.attachmentsPopoverContainer},r.createElement(H.Z,{onClick:this.handleAttachFromComputer},r.createElement("div",{className:e.container,"data-test-id":"compose.attach-button"},a?r.createElement($.Z,{withLabel:s,localizedLabelText:t(se.attach),localizedTitleText:t(se.attachFile),iconKind:u.Kinds.ATTACH}):r.createElement(_.Z,{kind:u.Kinds.ATTACH,colorState:u.ColorStates.NORMAL,size:u.Sizes.XS}),r.createElement(w,{ref:e=>this.inputFileBtn=e,className:e.input,multiple:!0,onChange:this.handleChange,ariaLabel:t(se.attachFile)}))),this.renderComposeAttachCue())})),ee(this,"renderAttachFilesMenu",(e=>{const{formatMessage:t}=this.context.intl,{gDriveConnected:a,dropboxConnected:n,withLabel:o,isEnhancedComposeToolbarExperience:i}=this.props,{showMainPopover:l,showGDrivePopover:d,showDropboxPopover:_,showRecentFilesInMail:m,menuOpen:S}=this.state,p=d||_||m;return r.createElement("div",{onClick:this._toggleMenu,"data-test-id":"compose.attach-button"},r.createElement(G.Z,{className:e.popoverContainer,ref:this.attachmentsPopoverContainer},r.createElement(H.Z,null,r.createElement("div",{className:e.container},i?r.createElement($.Z,{withLabel:o,localizedLabelText:t(se.attach),localizedTitleText:t(se.attachFile),iconKind:u.Kinds.ATTACH,isClickedOpen:S}):r.createElement(E.default,{"data-iskeynav":!0,"aria-label":t(se.attachFile),title:t(se.attachFile),kind:u.Kinds.ATTACH,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}),r.createElement(w,{ref:e=>this.inputFileBtn=e,className:e.hiddenInput,multiple:!0,onChange:this.handleChange}))),l?r.createElement(B.ZP,{triggerOn:x.K2.CLICK,permittedArrowDirections:[x.Ji.DOWN],useMenuPositioning:!0,zAltitude:V.LSY.POPOVER.HIGH,onHide:this.onPopoverContentHide,isArrowVisible:!1,align:x.xM.START},r.createElement(X.cr,{import:"../attach_files_menu/index",handleEscape:this.handleClosePopover,handleAttachFromGDrive:this.handleAttachFromGDrive,handleAttachFromDropbox:this.handleAttachFromDropbox,handleAttachFromRecentEmails:this.handleAttachFromRecentEmails,handleAttachFromComputer:this.handleAttachFromComputer,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,36872))},_moduleResolver:function(){return 36872}})):null,p?r.createElement(B.ZP,{triggerOn:x.K2.CLICK,permittedArrowDirections:[x.Ji.DOWN],zAltitude:V.LSY.POPOVER.HIGH,isArrowVisible:!1,align:x.xM.START,onHide:this.onPopoverContentHide,hideOnContentClick:!1,outerClickFallthrough:!1,useMenuPositioning:!0},d&&!a?this.renderConnectMenu(c.hKF.GDRIVE,this.handleGDriveConnect):null,d&&a?this.renderResultsMenu(c.hKF.GDRIVE,this.handleGDriveConnect):null,_&&!n?this.renderConnectMenu(c.hKF.DROPBOX,this.handleDropboxConnect):null,_&&n?this.renderResultsMenu(c.hKF.DROPBOX,this.handleDropboxConnect):null,m?this.renderResultsMenu(c.hKF.YMAIL):null):null))})),this.state=this._getInitialState(),this.attachmentsPopoverContainer=r.createRef()}componentDidMount(){this.debouncedSearch=J()(this.searchCloudStorageItems,250)}saveFolderState(e,t){const s=this.state.folderTreeState;s[t]=e,this.setState({folderTreeState:{...s}})}savePathState(e,t){const s=this.state.path;s[t]=e,this.setState({path:{...s}})}render(){const e=T()(W(),{pointerEventsDisabled:this.props.cloudStorageEnabled,noPadding:this.props.isEnhancedComposeToolbarExperience});return this.props.cloudStorageEnabled?this.renderAttachFilesMenu(e):this.renderAttachFiles(e)}}ee(ae,"defaultProps",{isEnhancedComposeToolbarExperience:!1,withLabel:!1}),ee(ae,"contextTypes",{intl:o.intlShape.isRequired});const ne=(0,i.connect)(((e,t)=>{const{getFeaturesSelectors:s,getContentProviders:a}=(0,K.selectors)(e),{doesContentProviderExist:n,isContentProviderConnected:r}=a(),o=s(),i=o.isEnabled(c.ANe.CLOUD_STORAGE),l=o.isEnabled(c.ANe.COMPOSE_ATTACH_CUE);return{cloudStorageEnabled:i,gDriveConnected:n(c.hKF.GDRIVE)&&r(c.hKF.GDRIVE),dropboxConnected:n(c.hKF.DROPBOX)&&r(c.hKF.DROPBOX),showComposeAttachCue:l}}),(e=>({onAttachFilesMenuItemClick:t=>e((0,Y.ft)(t)),onConnect:t=>e((0,z.S9)(t)),fetchCloudStorageItems:t=>e((0,Y.dc)({...t,query:t.query.toLocaleLowerCase().trim(),path:t.path}))})),null,{withRef:!0})(ae);var re=s(62639),oe=s(88071),ie=s(28182),le=s(79483);function ce(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const de=(0,o.defineMessages)({gifPicker:{id:"gif.gifpicker.title",defaultMessage:"Insert animated GIFs"},gifPickerLabel:{id:"gif.gifpicker.label",defaultMessage:"Add GIF"}});class _e extends r.Component{constructor(e,t){super(e,t),ce(this,"_getDefaultCategory",(()=>{const{gifCategories:e}=this.props;return e.length?e[0]:{}})),ce(this,"_getInitialState",(()=>{const{queryString:e="",categoryId:t=""}=this._getDefaultCategory();return{query:e,searchBoxValue:"",selectedCategory:t,menuOpen:!1}})),ce(this,"handleGifClick",(e=>{this.props.onGifClick(e),this.toggleMenu()})),ce(this,"fetchGIF",(e=>{this.props.gifCategories.length&&this.props.fetchGIF(e)})),ce(this,"onCategoryClick",((e,t=!0)=>{this.fetchGIF({query:e.queryString,fromCategory:t,i13nModel:{mKey:q.JE.GIF_CATEGORY,sec:q.nJ.COMPOSE_TOOLBAR,interactionType:q.Rb.click}}),this.setState({query:e.queryString,selectedCategory:e.categoryId,searchBoxValue:""})})),ce(this,"toggleMenu",(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._gifPopoverContainer.hide(x.K2.MOUNT),this.setState(this._getInitialState(),(()=>this.props.focusBackEditor()))):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._gifPopoverContainer.show(x.K2.MOUNT),this.setState({menuOpen:!t}),le.ZP.sendI13nModel({i13nModel:{mKey:q.JE.GIF_OPEN,sec:q.nJ.COMPOSE_MSG,interactionType:q.Rb.click}}))})),ce(this,"handleSearchChange",(e=>{clearTimeout(this._timer);const{queryString:t="",categoryId:s=""}=this._getDefaultCategory();let a=t;e?(this.setState({searchBoxValue:e,selectedCategory:""}),a=e):this.setState({searchBoxValue:"",selectedCategory:s}),this._timer=setTimeout(function(e){this.fetchGIF({query:e,fromSearchBox:!0,i13nModel:{mKey:q.JE.GIF_SEARCH,sec:q.nJ.COMPOSE_TOOLBAR,interactionType:q.Rb.keydown}}),this.setState({query:e})}.bind(this,a),500)})),ce(this,"onPopoverContentHide",(()=>{this.setState(this._getInitialState())})),ce(this,"renderGifPopup",(()=>r.createElement(B.ZP,{permittedArrowDirections:[x.Ji.DOWN],triggerOn:x.K2.MOUNT,customPositioning:!0,"data-test-id":"gif-pop-up",onHide:this.onPopoverContentHide},r.createElement(X.cr,{import:"./atoms/gif_pop_up",fetchGIF:this.fetchGIF,fetchGifCategories:this.props.fetchGifCategories,gifCategories:this.props.gifCategories,handleGifClick:this.handleGifClick,handleSearchChange:this.handleSearchChange,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:document.documentElement.clientHeight-this.toolbarBoundingRect.top,onCategoryClick:this.onCategoryClick,searchBoxValue:this.state.searchBoxValue,selectedCategory:this.state.selectedCategory,query:this.state.query,toggleMenu:this.toggleMenu,width:this.toolbarBoundingRect.width,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,77277))},_moduleResolver:function(){return 77277}})))),this._timer=null,this.state=this._getInitialState(),this.scrollDebounce=J()(this.handleScroll.bind(this),100)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}UNSAFE_componentWillReceiveProps(e){if(!this.props.gifCategories.length&&e.gifCategories.length){const{queryString:t="",categoryId:s=""}=e.gifCategories[0];this.setState({query:t,selectedCategory:s})}}componentDidMount(){this.props.showGIFPicker&&setTimeout((()=>{this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.setState({menuOpen:!0})}),1e3),window.addEventListener("scroll",this.scrollDebounce,!0)}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}render(){const{menuOpen:e}=this.state,{formatMessage:t}=this.context.intl,{withLabel:s,isEnhancedComposeToolbarExperience:a}=this.props;return r.createElement("div",{"data-test-id":"gif-button",onClick:this.toggleMenu},r.createElement(G.Z,{ref:e=>this._gifPopoverContainer=e},r.createElement(H.Z,{"data-test-id":"gif-picker-anchor"},a?r.createElement($.Z,{withLabel:s,localizedTitleText:t(de.gifPicker),localizedLabelText:t(de.gifPickerLabel),iconKind:u.Kinds.GIF_BOX,isClickedOpen:e}):r.createElement(l.Z,{title:t(de.gifPicker),"aria-label":t(de.gifPicker),kind:e?ie.F.ICON_HIGHLIGHTED:ie.F.ICON},r.createElement(_.Z,{kind:u.Kinds.GIF_BOX,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}))),e?this.renderGifPopup():null))}}ce(_e,"defaultProps",{onGifClick:()=>{},showGIFPicker:!1,isEnhancedComposeToolbarExperience:!1,withLabel:!1}),ce(_e,"contextTypes",{executeAction:n().func,intl:o.intlShape.isRequired});const Ee=_e;const ue=(0,i.connect)(((e,t)=>{const{getGifCategoriesSelectors:s}=(0,K.selectors)(e),{isCategoryListLoaded:a,getGifCategoriesList:n}=s();return{gifCategories:a()?n():[]}}),(function(e){return{fetchGIF(t){e((0,oe.Dt)({...t,query:t.query.toLocaleLowerCase().trim()}))},fetchGifCategories(){e((0,oe.$B)())}}}))(Ee);var me=s(45191),Se=s(79940),pe=s.n(Se),Ce=s(4832),Ae=s(95406),Te=s(83034),Ie=s(32398),he=s.n(Ie),ge=s(7426);const Oe=(0,o.defineMessages)({spellingLabel:{id:"compose.spelling_label",defaultMessage:"Spelling"},spellingTooltip:{id:"compose.spelling_tooltip",defaultMessage:"Check spelling"}});const De=(0,i.connect)(((e,{onExecuteAction:t,isEnhancedComposeToolbarExperience:s,withLabel:a,isCompactSize:n,spellCheckActiveVal:r})=>({onExecuteAction:t,isEnhancedComposeToolbarExperience:s,withLabel:a,isCompactSize:n,spellCheckActiveVal:r})))((function(e){const{onExecuteAction:t,withLabel:s,isEnhancedComposeToolbarExperience:a,spellCheckActiveVal:n}=e,o=(0,Te.Z)(he()),{formatMessage:i}=(0,ge.Y)();return r.createElement("div",{onClick:()=>t(Ce.ToolbarActions.SPELL_CHECK),className:o.container,"data-test-id":"compose.spell-check-button-div"},a?r.createElement($.Z,{withLabel:s,localizedLabelText:i(Oe.spellingLabel),localizedTitleText:i(Oe.spellingTooltip),iconKind:u.Kinds.SPELL_CHECK,isClickedOpen:n,"data-test-id":"compose.spell-check-toolbar-action"}):r.createElement(l.Z,{title:i(Oe.spellingLabel),"aria-label":i(Oe.spellingTooltip),kind:n?ie.F.ICON_HIGHLIGHTED:ie.F.ICON,"data-test-id":"compose.spell-check-button"},r.createElement(_.Z,{kind:u.Kinds.SPELL_CHECK,colorState:u.ColorStates.NORMAL,size:u.Sizes.XS})))}));var Re=s(15719),Ne=s.n(Re),Le=s(40918),fe=s(8470),Me=s(82520),Pe=s(50621),be=s(48974),ye=s.n(be);const ve=(0,o.defineMessages)({moreMenuTitle:{id:"more_button_title",defaultMessage:"More options"},moreMenuLabel:{id:"more_menu_label",defaultMessage:"More"},toggleFormattingMenu:{id:"compose_toolbar.hide_formatting_menu",defaultMessage:"{toolbarIsVisible, select, true {Hide} other {Show}} formatting toolbar"},plainTextMode:{id:"compose_toolbar.plain_text_mode",defaultMessage:"Plain text mode"},plainTextModeTitle:{id:"compose_toolbar.plain_text_mode_title",defaultMessage:"Switch to plain text mode"}}),Fe=({focusBackEditor:e,canShowFormatToolbarInComposeHeader:t,updateComposeHeaderFormatToolbarVisibility:s,onMoreMenuChange:a,withLabel:n})=>{const{formatMessage:o}=(0,ge.Y)(),i=(0,Te.Z)(ye()),[l,c]=(0,r.useState)(!1),_=()=>{l||le.ZP.sendI13nModel({i13nModel:{mKey:q.JE.OPEN_COMPOSE_MORE_MENU,sec:q.nJ.COMPOSE_TOOLBAR}}),c((e=>!e))};return r.createElement(Me.U5,{isArrowVisible:!0,triggerOn:Pe.XU.CLICK,triggerOff:Pe.Es.CLICK,zAltitude:V.LSY.POPOVER.HIGH,align:x.xM.START,permittedArrowDirections:[x.Ji.DOWN],onShown:_,onHide:_},r.createElement("div",{"data-test-id":"compose-toolbar.more-btn"},r.createElement($.Z,{withLabel:n,localizedLabelText:o(ve.moreMenuLabel),localizedTitleText:o(ve.moreMenuTitle),iconKind:u.Kinds.MORE,isClickedOpen:l})),r.createElement("div",{className:i.menu,"data-test-id":"compose-toolbar.more-menu"},r.createElement(fe.Z,{kind:Le.F.MENU,focusOnMount:!0},r.createElement(d.Z,{name:"showHideToolbar"},r.createElement(E.default,{"data-iskeynav":!0,title:o(ve.toggleFormattingMenu,{toolbarIsVisible:t}),size:u.Sizes.XS,kind:u.Kinds.TEXT_HIGHLIGHT,colorState:u.ColorStates.BATCAVE_GRAY,className:i.menuItem,onClick:()=>{s(!t),e()}},o(ve.toggleFormattingMenu,{toolbarIsVisible:t}))),r.createElement(d.Z,{name:"plainTextMode"},r.createElement(E.default,{"data-iskeynav":!0,title:o(ve.plainTextModeTitle),size:u.Sizes.XS,kind:u.Kinds.RICHTEXT_OFF,colorState:u.ColorStates.BATCAVE_GRAY,className:i.menuItem,onClick:e=>a("plaintext",e)},o(ve.plainTextMode))))))},Ue=({uploaderRef:e,uploadEnabled:t,insertLink:s,previewAttachment:a,onFileSelectBtnClicked:n,onFileSelect:o,handleAttachmentFromRecentFiles:i,showGifButton:l,showGIFPicker:c,onGifClick:d,left:_,width:E,showStationeryButton:m,isCompactSize:S,onThemeChange:p,stationeryDefaultTheme:C,stationeryTheme:A,stationeryCategory:T,stationeryCategoriesToShow:I,showStationeryCue:h,stationeryRestrictedThemes:O,rtl:D,showStationeryPicker:R,showStationeryDefaultTheme:N,showStationeryThemeCategories:L,showStationerySetDefault:f,toolbarKind:M,getToolbarBoundingRect:P,focusBackEditor:b,canShowFormatToolbarInComposeHeader:y,updateComposeHeaderFormatToolbarVisibility:v,onMoreMenuChange:F,useRichText:U,isSpellCheckEnabled:k,spellCheckActiveVal:w,readabilityMode:G,onExecuteAction:H})=>{const B=(0,Te.Z)(Ne()),{formatMessage:x}=(0,ge.Y)(),V=E>=(G?Ce.COMPOSE_MIN_WIDTH_READABILITY_MODE+(k?124:0):Ce.COMPOSE_MIN_WIDTH+(k?108:0));return r.createElement("div",{className:B.container},t&&r.createElement(ne,{ref:e,isEnhancedComposeToolbarExperience:!0,withLabel:V,onFileSelect:o,onFileSelectBtnClicked:n,insertLink:s,handleAttachmentFromRecentFiles:i,previewAttachment:a}),l&&r.createElement(ue,{isEnhancedComposeToolbarExperience:!0,withLabel:V,onGifClick:d,focusBackEditor:b,left:_,width:E,getToolbarBoundingRect:P,showGIFPicker:c}),m&&r.createElement(re.Z,{isEnhancedComposeToolbarExperience:!0,withLabel:V,isCompactSize:S,getToolbarBoundingRect:P,onThemeChange:p,focusBackEditor:b,stationeryDefaultTheme:C,stationeryTheme:A,stationeryCategory:T,stationeryCategoriesToShow:I,showStationeryCue:h,stationeryRestrictedThemes:O,rtl:D,showStationeryPicker:R,showStationeryDefaultTheme:N,showStationeryThemeCategories:L,showStationerySetDefault:f,toolbarKind:M}),k?r.createElement(De,{isEnhancedComposeToolbarExperience:!0,withLabel:V,isCompactSize:S,onExecuteAction:e=>H(e),spellCheckActiveVal:w}):null,U?r.createElement(Fe,{withLabel:V,focusBackEditor:b,canShowFormatToolbarInComposeHeader:y,updateComposeHeaderFormatToolbarVisibility:v,onMoreMenuChange:F}):r.createElement($.Z,{"data-test-id":"toolbar_actions.switch_to_richtext",withLabel:V,localizedLabelText:x(g.Z.richtext_label),localizedTitleText:x(g.Z.richtext_icon_label),iconKind:u.Kinds.RICHTEXT_ON,onClick:e=>F("richtext",e)}))};var ke=s(32440),we=s(81732),Ge=s(14262),He=s.n(Ge);let Be;!function(e){e.SAVING="SAVING",e.SAVED="SAVED",e.NONE="NONE"}(Be||(Be={}));const xe=e=>{const{statusType:t,useDetailedDraftOperations:s,lastDraftSavedTime:a,isCompactSize:n}=e,{formatTime:i}=(0,ge.Y)(),l=(0,Te.Z)(He(),{statusType:t}),c=(()=>{switch(t){case Be.SAVING:return s?n?r.createElement(_.Z,{kind:u.Kinds.MORE,size:u.Sizes.XXXS,colorState:u.ColorStates.SECOND_LEVEL_GRAY}):r.createElement(o.FormattedMessage,{id:"compose.draft_saving_status_with_ellipsis",defaultMessage:"Saving..."}):r.createElement(o.FormattedMessage,{id:"compose.draft_saving_status",defaultMessage:"Saving"});case Be.SAVED:return s?n?r.createElement("div",{className:l.checkmarkIcon},r.createElement(_.Z,{kind:u.Kinds.CHECKMARK,size:u.Sizes.XS,colorState:u.ColorStates.SECOND_LEVEL_GRAY})):r.createElement(o.FormattedMessage,{id:"compose.draft_save_success_status_w_timestamp",defaultMessage:"Saved {lastSavedTime}",values:{lastSavedTime:i(a)}}):r.createElement(o.FormattedMessage,{id:"compose.draft_save_success_status",defaultMessage:"Saved"});default:return null}})();return c&&r.createElement("span",{role:"status","data-test-id":"status",className:l.status},c)},Ve=(0,o.defineMessages)({delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"}}),Ze=(0,i.connect)(((e,{isSessionDirty:t})=>{const{isFeatureEnabled:s}=(0,K.selectors)(e);return{isDraftDirty:t(),useDetailedDraftOperations:s(c.ANe.SHOW_DRAFT_OPERATIONS_IN_TOOLBAR)}}))((e=>{const{useDetailedDraftOperations:t,draftStatus:s=c.nuI.Status.DOES_NOT_EXIST,showSaveDeleteButtons:a,handleDraftDelete:n,lastDraftSavedTime:i,isDraftDirty:d,isCompactSize:_}=e,{formatMessage:m}=(0,ge.Y)(),S=(0,we.I0)(),p=(0,Te.Z)(He(),{draftStatus:s}),C=(0,r.useRef)(0),[A,T]=(0,r.useState)(Be.NONE),I=[c.nuI.Status.SAVED,c.nuI.Status.SAVED_PARTIAL,c.nuI.Status.SAVING].includes(s);(0,r.useEffect)((()=>{let e;switch(s){case c.nuI.Status.SAVING:C.current=Date.now(),T(Be.SAVING);break;case c.nuI.Status.SAVED_PARTIAL:case c.nuI.Status.SAVED:{const t=Date.now()-C.current;t<1e3?e=setTimeout((()=>{T(Be.SAVED)}),1e3-t):T(Be.SAVED);break}default:T(Be.NONE)}return()=>e&&clearTimeout(e)}),[s]);return a?r.createElement(r.Fragment,null,I&&r.createElement(xe,{isCompactSize:_,statusType:A,lastDraftSavedTime:i,useDetailedDraftOperations:t}),r.createElement(r.Fragment,null,t?r.createElement("div",{className:p.buttonContainer},r.createElement(l.Z,{"data-test-id":"compose-toolbar-save-now",kind:ie.F.SECONDARY,disabled:!d||A===Be.SAVING,overridingClass:p.button,onClick:e=>S((0,ke.I6)({i13nModel:{mKey:q.JE.MANUAL_SAVE_DRAFT,sec:q.nJ.COMPOSE_TOOLBAR,interactionType:(0,j.getInteractionFromEvent)(e)}}))},r.createElement(o.FormattedMessage,{id:"compose_toolbar_save",defaultMessage:"Save"})),r.createElement(l.Z,{"data-test-id":"compose-toolbar-delete-btn",kind:ie.F.DANGER,overridingClass:p.button,onClick:n},r.createElement(o.FormattedMessage,{id:"toolbar.delete",defaultMessage:"Delete"}))):r.createElement("span",{className:p.trashIcon},r.createElement(E.default,{title:m(Ve.delete_draft),"aria-label":m(Ve.delete_draft),kind:u.Kinds.DELETE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED,onClick:n})))):null}));var We=s(8106),Ke=s(12782),ze=s(59427),Ye=s(8701),je=s(45124),qe=s(32443),Xe=s(15523);const Qe=e=>{const{csid:t,getToolbarBoundingRect:a,execEditorCommand:n,fromEmail:o={},toEmails:i=[]}=e,[c,d]=(0,r.useState)(!0),[E,m]=(0,r.useState)(!0),S=(0,we.I0)(),{isPluginReady:p,view:C,errorType:A}=(0,we.v9)((e=>{const{getGeneratedContentSelectors:s}=(0,K.selectors)(e),{isPluginReady:a,getComposeAssistantView:n,getErrorTypeIfPresent:r}=s();return{isPluginReady:a(t),view:n(t),errorType:r(t)}}),Ae.wU),[T,I]=(0,r.useState)(null),{formatMessage:h}=(0,ge.Y)(),g=!!A;if((0,r.useEffect)((()=>{const e=setTimeout((()=>{m(!1)}),1e3);return function(){clearTimeout(e)}}),[]),!p)return null;const O=a()||{},D=()=>{g&&S((0,qe.eQ)({csid:t}))};return r.createElement(r.Fragment,null,r.createElement(l.Z,{kind:c?ie.F.ICON_HIGHLIGHTED:ie.F.ICON,title:h(Ye.Z.writing_assistant),"aria-label":h(Ye.Z.writing_assistant),onClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),D(),d(!c)}},r.createElement(_.Z,{kind:u.Kinds.MAGIC_QUILL,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL})),c&&r.createElement(ze.Z,null,r.createElement(Ke.Z,null,r.createElement(X.cr,{import:"./popup",csid:t,key:C,view:C,fromEmail:o,toEmails:i,width:O.width,left:O.left,right:O.right,bottom:((0,We.jU)()&&document.documentElement.clientHeight||0)-O.top+12,onClose:()=>d(!1),drawAttentionWithAnimation:E,clearErrorIfExists:D,execEditorCommand:(e,t)=>{I({action:e,value:t}),n(e,t)},_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,16483))},_moduleResolver:function(){return 16483}}),g&&r.createElement(je.Z,{width:O.width,left:O.left,right:O.right,bottom:((0,We.jU)()&&document.documentElement.clientHeight||0)-O.top+(C===Xe.J.REPHRASE?137:105),retryPreviousAction:()=>{D(),T&&n(T.action,T.value)},type:A,clearError:D}))))};var Je=s(83507),$e=s.n(Je),et=s(56148);const tt=(0,o.defineMessages)({title:{id:"ai_composer.privacy_nudge.title",defaultMessage:"Your privacy settings don't allow you to use this feature"},description:{id:"ai_composer.privacy_nudge.description",defaultMessage:"Go to your settings to enable this if you'd like to automatically create a draft."},settings:{id:"brandShortcuts.settings",defaultMessage:"Settings"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"close",defaultMessage:"Close"}});var st;!function(e){e.YourPrivacyChoices="Your Privacy Choices",e.PrivacyDashboard="Privacy Dashboard"}(st||(st={}));const at=(0,i.connect)((e=>{const{getEnvironmentSelectors:t}=(0,K.selectors)(e),{getPrivacyJurisdictionLinks:s}=t(),a=s();let n="";if(Array.isArray(a))for(const r of a)(null==r?void 0:r.label)===st.YourPrivacyChoices?n=null==r?void 0:r.url:n||(null==r?void 0:r.label)!==st.PrivacyDashboard||(n=null==r?void 0:r.url);return{privacyURL:n||c.Ure}}))((function(e){const{privacyURL:t}=e,[s,a]=(0,r.useState)(!1),n=(0,Te.Z)($e()),{formatMessage:i}=(0,ge.Y)();return r.createElement("div",{"data-test-id":"compose-assistant-privacy-nudge"},r.createElement(G.Z,null,r.createElement(H.Z,null,r.createElement(l.Z,{kind:s?ie.F.ICON_HIGHLIGHTED:ie.F.ICON,title:i(Ye.Z.writing_assistant),"aria-label":i(Ye.Z.writing_assistant),"data-test-id":"compose-assistant-privacy-nudge-anchor"},r.createElement(_.Z,{kind:u.Kinds.MAGIC_QUILL,size:u.Sizes.XS,colorState:u.ColorStates.NORMAL}))),r.createElement(B.ZP,{permittedArrowDirections:[x.Ji.DOWN],triggerOn:x.K2.CLICK,offset:12,arrowSize:x.Jk.M,zAltitude:V.LSY.POPOVER.HIGH,align:x.xM.START,onHide:()=>a(!1),onShow:()=>a(!0)},r.createElement("div",{className:n.container,"data-test-id":"compose-assistant-privacy-nudge-content"},r.createElement(et.Z,{tabIndex:0,kind:u.Kinds.CLOSE,size:u.Sizes.XXS,colorStates:{normal:u.ColorStates.BATCAVE_GRAY,hovered:u.ColorStates.PRIMARY_HOVER},title:i(tt.close),paddingLess:!0,className:n.close,"data-test-id":"compose-assistant-privacy-nudge-close"}),r.createElement("div",{className:n.titleText},r.createElement(o.FormattedMessage,tt.title)),r.createElement("div",null,r.createElement(o.FormattedMessage,tt.description)),r.createElement("div",{className:n.buttonContainer},r.createElement(l.Z,{marginLess:!0,onClick:()=>{window.open(t)},"data-test-id":"compose-assistant-privacy-nudge-open-settings"},r.createElement(o.FormattedMessage,tt.settings)),r.createElement("div",{className:n.laterText},r.createElement(o.FormattedMessage,tt.mayBeLater)))))))}));function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function rt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ot=c.nuI.Status,it={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"},lt=(0,o.defineMessages)({bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},select_more_tools:{id:"compose.select_more_tools",defaultMessage:"More options"},delete_draft:{id:"compose.delete_draft",defaultMessage:"Delete this draft"},send_button_title:{id:"compose.send_button_title",defaultMessage:"Send this email"}});class ct extends r.Component{constructor(...e){super(...e),rt(this,"state",{bold:!1}),rt(this,"_getToolbarStyle",(()=>{const e={};if(this.props.fixed&&this.props.width){const t=this.props.width-(this.props.considerComposePadding?Ce.HORIZONTAL_PADDING:0);e.maxWidth=`${t}px`}return e})),rt(this,"updateState",(e=>{this.setState(e)})),rt(this,"_renderToolbarPlaceholder",(e=>r.createElement("div",{className:e.toolbarPlaceholder,"data-test-id":"compose-toolbar-placeholder"}))),rt(this,"_renderRichTextOff",((e,t)=>r.createElement("span",{className:e.icon},r.createElement(E.default,{"data-test-id":"richtext-on",onClick:this.onMoreMenuChange.bind(this,"richtext"),title:t(lt.richtext),"aria-label":t(lt.richtext_icon_label),kind:u.Kinds.RICHTEXT_ON,size:u.Sizes.XS})))),rt(this,"getToolbarBoundingRect",(()=>{if(this.toolbar&&this.props.fixed){const e=this.toolbar.getBoundingClientRect();return{width:e.width,height:e.height,left:e.left,right:e.right,bottom:e.bottom,top:e.bottom>=window.innerHeight?window.innerHeight-e.height:e.top}}return this.toolbar?this.toolbar.getBoundingClientRect():{}})),rt(this,"_renderRichTextOn",((e,t,s,a)=>{const{fontSize:n,foreColor:o,fontFamily:i,backgroundColor:l}=this.getFormatState(),{bold:c,italic:d,foreColor:_=o,fontSize:m=n,fontName:S=i,backColor:p=l,...C}=this.state;return s?r.createElement("div",{className:e.formattingTools},r.createElement("span",{className:e.menuIcon},r.createElement(F,nt({onChange:this.onMoreMenuChange,onHandleChange:this.handleChange,tooltip:t(lt.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,onAddLink:this.onAddLink,onClickBold:this.onClickBold,onClickItalic:this.onClickItalic,onChooseColor:this.chooseColor,onChooseFont:this.chooseFont,foreColor:_||o,backgroundColor:p||l,fontSize:m||n,fontFamily:S||i,toolbar:this,isBold:c,isItalic:d},C)))):r.createElement("div",{className:e.formattingTools},r.createElement("span",{className:e.icon},r.createElement(E.default,{onClick:this.onAddLink,title:t(lt.link),"aria-label":t(lt.link_icon_label),kind:u.Kinds.LINK,size:u.Sizes.XS})),r.createElement("span",{className:e.icon},r.createElement(E.default,{onClick:this.onClickBold,title:t(lt.bold),"aria-label":t(lt.bold_icon_label),kind:u.Kinds.BOLD,size:u.Sizes.XS,colorState:c?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED})),r.createElement("span",{className:e.icon},r.createElement(E.default,{onClick:this.onClickItalic,title:t(lt.italic),"aria-label":t(lt.italic_icon_label),kind:u.Kinds.ITALIC,size:u.Sizes.XS,colorState:d?u.ColorStates.PRIMARY_HOVER:u.ColorStates.INHERITED})),r.createElement("span",{className:e.menuIcon},r.createElement(f.ZP,{selectedFGColor:_||o,selectedBGColor:p||l,onFGColorChange:this.chooseColor.bind(this,"forecolor"),onBGColorChange:this.chooseColor.bind(this,"backcolor"),focusBackEditor:this.props.focusOnEditor})),r.createElement("span",{className:e.menuIcon},r.createElement(L.Z,{selectedFontSize:m||n,selectedFontFamily:S||i,onFontSizeChange:this.chooseFont.bind(this,"fontsize"),onFontFamilyChange:this.chooseFont.bind(this,"fontname"),focusBackEditor:this.props.focusOnEditor})),r.createElement("span",{className:e.menuIcon},r.createElement(N,nt({},this.state,{onChange:this.onMoreMenuChange,tooltip:t(lt.select_more_tools),focusBackEditor:this.props.focusOnEditor,showPlainTextToggle:a,onMenuShow:this.props.onMoreMenuClick,disabled:this.props.disabled}))))})),rt(this,"onFileSelectBtnClicked",(()=>{const e={sec:q.nJ.COMPOSE_TOOLBAR,mKey:q.JE.COMPOSE_FILE_SELECT_BTN_CLICKED,interactionType:q.Rb.click};this.handleChange(Ce.ToolbarActions.FILE_SELECT_BTN_CLICKED,{i13nModel:e})})),rt(this,"onThemeChange",((e,t)=>this.handleChange(Ce.ToolbarActions.UPDATE_STATIONERY,{data:e,i13nModel:t}))),rt(this,"onLayoutChange",((e,t)=>this.handleChange(Ce.ToolbarActions.UPDATE_LAYOUT,{data:e,i13nModel:t}))),rt(this,"onAddLink",(e=>{const t={mKey:q.JE.COMPOSE_ADD_LINK,sec:q.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("createlink",{data:e,i13nModel:t})})),rt(this,"onClickBold",(e=>{const t={mKey:q.JE.COMPOSE_BOLD,sec:q.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("bold",{data:e,i13nModel:t}),this.props.focusOnEditor()})),rt(this,"onClickItalic",(e=>{const t={mKey:q.JE.COMPOSE_ITALIC,sec:q.nJ.RTE_TOOLBAR,actionData:{isFreshCompose:this.props.isFreshCompose}};this.handleChange("italic",{data:e,i13nModel:t}),this.props.focusOnEditor()})),rt(this,"chooseColor",((e,t)=>{const s={mKey:q.JE.COMPOSE_CHOOSE_COLOR,sec:q.nJ.RTE_TOOLBAR,actionData:{color:t,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:s})})),rt(this,"chooseFont",((e,t)=>{let s={size:t};"fontname"===e&&(s={font:t});const a={mKey:q.JE.COMPOSE_CHOOSE_FONT,sec:q.nJ.RTE_TOOLBAR,actionData:{...s,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:a})})),rt(this,"onMoreMenuChange",((e,t)=>{let s=q.JE.COMPOSE_OPEN_MORE_MENU,a="";switch(e){case"bullet":s=q.JE.COMPOSE_CHOOSE_LIST_TYPE,a="unordrd";break;case"number":s=q.JE.COMPOSE_CHOOSE_LIST_TYPE,a="ordrd";break;case"left":s=q.JE.COMPOSE_ALIGN_TEXT,a="lft";break;case"right":s=q.JE.COMPOSE_ALIGN_TEXT,a="rght";break;case"center":s=q.JE.COMPOSE_ALIGN_TEXT,a="cntr";break;case"strikeThrough":s=q.JE.COMPOSE_STRIKETHROUGH_TEXT,a="strikethrough";break;case"plaintext":s=q.JE.COMPOSE_PLAIN_TEXT_MODE,a="plaintext";break;case"richtext":s=q.JE.COMPOSE_RICH_TEXT_MODE,a="richtext"}const n={mKey:s,sec:q.nJ.RTE_TOOLBAR,actionData:{setTo:a,isFreshCompose:this.props.isFreshCompose}};this.handleChange(e,{data:t,i13nModel:n})})),rt(this,"handleChange",((e,t)=>{this.props.onExecuteAction(it[e]||e,t)})),rt(this,"getFormatState",(()=>Object.assign({foreColor:f.ZP.DEFAULTS.FG_COLOR,backgroundColor:f.ZP.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)))}render(){const{disabled:e,draftStatus:t,fixed:s,kind:a,showPlainTextMode:n,stationeryEnabled:i,gifFinderEnabled:c,uploadEnabled:d,width:_,stationeryRestrictedThemes:E,useRichText:u,isSpellCheckEnabled:m,spellCheckActiveVal:S,isCompactSize:p,isSendButtonDisabled:C,showComposeTray:A,canShowFormatToolbarInComposeHeader:I,updateComposeHeaderFormatToolbarVisibility:h,uploaderRef:g,readabilityMode:O,isComposeAssistantEnabled:D,potentialMailYAI:R,onExecuteAction:N}=this.props,L=T()(pe(),{kind:a,fixed:s,disabled:e,disabledButton:C,hasBottomMargin:A&&s}),{formatMessage:f}=this.context.intl,M=this._getToolbarStyle(),P=u&&i,b=u&&c,y=u,v=d||P,F=_<Ce.COMPOSE_MIN_WIDTH;return r.createElement("div",{"data-test-id":"compose-toolbar",ref:e=>this.toolbar=e},r.createElement("div",{"data-test-id":"compose-toolbar-styler",className:L.composeToolbar,style:M},this.props.showSendButton?r.createElement(l.Z,{"data-test-id":"compose-send-button",className:L.sendButton,disabled:t===ot.SENDING||this.props.disabled,onClick:this.handleChange.bind(this,Ce.ToolbarActions.SEND),title:f(lt.send_button_title)},r.createElement(o.FormattedMessage,{id:"compose.send_button_label",defaultMessage:"Send"})):null,this.props.enhancedCompose?r.createElement(Ue,{uploaderRef:g,uploadEnabled:this.props.uploadEnabled,insertLink:this.props.insertLink,onFileSelect:this.handleChange.bind(this,Ce.ToolbarActions.FILE_SELECT),onFileSelectBtnClicked:this.onFileSelectBtnClicked,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment,showGifButton:b,onGifClick:this.props.onGifClick,left:this.props.left,width:this.props.width,showGIFPicker:this.props.showGIFPicker,showStationeryButton:P,onThemeChange:this.onThemeChange,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:E,rtl:this.props.rtl,showStationeryPicker:!e&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind,isCompactSize:p,focusBackEditor:this.props.focusOnEditor,getToolbarBoundingRect:this.getToolbarBoundingRect,canShowFormatToolbarInComposeHeader:I,updateComposeHeaderFormatToolbarVisibility:h,onMoreMenuChange:this.onMoreMenuChange,useRichText:u,isSpellCheckEnabled:m,spellCheckActiveVal:S,onExecuteAction:N,readabilityMode:O}):r.createElement(r.Fragment,null,D&&!R&&r.createElement("span",{className:L.menuIcon},r.createElement(Qe,{getToolbarBoundingRect:this.getToolbarBoundingRect,csid:this.props.csid,execEditorCommand:N,fromEmail:this.props.fromEmail,toEmails:this.props.toEmails,potentialMailYAI:R})),R&&r.createElement("span",{className:L.menuIcon},r.createElement(at,null)),d?r.createElement("span",{className:L.icon+" "+L.rtlRawScaleX},r.createElement(ne,{ref:g,onFileSelect:this.handleChange.bind(this,Ce.ToolbarActions.FILE_SELECT),onFileSelectBtnClicked:this.onFileSelectBtnClicked,insertLink:this.props.insertLink,handleAttachmentFromRecentFiles:this.props.handleAttachmentFromRecentFiles,previewAttachment:this.props.previewAttachment})):null,b?r.createElement("span",{className:L.menuIcon},r.createElement(ue,{onGifClick:this.props.onGifClick,focusBackEditor:this.props.focusOnEditor,left:this.props.left,width:this.props.width,csid:this.props.csid,getToolbarBoundingRect:this.getToolbarBoundingRect,showGIFPicker:this.props.showGIFPicker})):null,P?r.createElement("span",{className:L.menuIcon+" "+L.rtlRawScaleX},r.createElement(re.Z,{isCompactSize:p,"data-test-id":"stationery-button",getToolbarBoundingRect:this.getToolbarBoundingRect,onThemeChange:this.onThemeChange,focusBackEditor:this.props.focusOnEditor,stationeryDefaultTheme:this.props.stationeryDefaultTheme,stationeryTheme:this.props.stationeryTheme,stationeryCategory:this.props.stationeryCategory,stationeryCategoriesToShow:this.props.stationeryCategoriesToShow,showStationeryCue:this.props.showStationeryCue,stationeryRestrictedThemes:E,rtl:this.props.rtl,showStationeryPicker:!e&&this.props.showStationeryPicker,showStationeryDefaultTheme:this.props.showStationeryDefaultTheme,showStationeryThemeCategories:this.props.showStationeryThemeCategories,showStationerySetDefault:this.props.showStationerySetDefault,toolbarKind:this.props.kind})):null,y?r.createElement("span",{className:L.menuIcon},r.createElement(me.Z,{ref:e=>this.emojiPicker=e,showEmojiCue:this.props.showEmojiCue,focusBackEditor:this.props.focusOnEditor,left:this.props.left,onEmojiClick:this.props.addEmoji})):null,v?r.createElement("span",{"data-test-id":"section-divider-contentSection",className:L.sectionDivider}):null,u?this._renderRichTextOn(L,f,F,n):this._renderRichTextOff(L,f)),r.createElement("span",{className:L.spacer}),r.createElement(Ze,{isCompactSize:p,isSessionDirty:this.props.isSessionDirty,draftStatus:t,showSaveDeleteButtons:this.props.showDeleteButton,lastDraftSavedTime:this.props.lastDraftSavedTime,handleDraftDelete:this.handleChange.bind(null,Ce.ToolbarActions.DELETE_DRAFT)})),this.props.fixed&&this._renderToolbarPlaceholder(L))}}rt(ct,"contextTypes",{intl:o.intlShape.isRequired}),rt(ct,"defaultProps",{isSessionDirty:()=>!1,uploadEnabled:!0,showDeleteButton:!0,showSendButton:!0,showPlainTextMode:!0,kind:Ce.ToolbarTypes.COMPOSE,fixed:!1,disabled:!1,onGifClick:()=>{},stationeryEnabled:!1,useRichText:!0,spellCheckActiveVal:!1,isFreshCompose:!0,potentialMailYAI:!1,isComposeDisabled:!1});const dt=(0,i.connect)(((e,{csid:t,getDraftStatus:s,kind:a=Ce.ToolbarTypes.COMPOSE})=>{const n=s?s():void 0,{getComposeFormat:r,isFeatureEnabled:o}=(0,K.selectors)(e);return{draftStatus:n,isCompactSize:r(t)===c.UeM.COMPACT,enhancedCompose:o(c.ANe.SHOW_LABELS_FOR_RICH_COMPOSE_OPTIONS)&&a===Ce.ToolbarTypes.COMPOSE,potentialMailYAI:o(c.ANe.POTENTIAL_MAIL_YAI)}}),null,null,{withRef:!0})(ct)},14262:e=>{"use strict";e.exports={className:{default:{status:"Q_fq7 E_fq7 C_Z1TsNbA",trashIcon:"D_Z1YJkyX gl_C en_0 P_0 q_n cdPFi_Zjpysv O4_N cdPFi4_ZmDiLl I4_Z1gjd5v it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",buttonContainer:"D_F",button:"H_6TFj M_ZmsKgw D_F ab_C",checkmarkIcon:"i_0"},"statusType-SAVED":{status:"ah_pYz2P"}},_key:"Zp3KWh"}},48974:e=>{"use strict";e.exports={className:{default:{menu:"P_3Y3Gk",menuItem:"W_6D6F P_Z1E2XDm C_Z29dUYT I4_Z1gjdjJ I3_Z1gjdjJ"}},_key:"Z1VjRKl"}},80377:e=>{"use strict";e.exports={className:{default:{item:"H_6TFj e_dRA C_Z1oI2WW u_e69 P_Z1otAne C4_Z2chSgW I4_Z1gjdjJ"},highlightWhenOpen:{item:"C_Z29dUYT I_Z1TzMme"}},_key:"ZAXV1O"}},95588:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var a=s(67294),n=s(61395),r=s.n(n),o=s(76531),i=s(56148),l=s(83034),c=s(17016),d=s(80377),_=s.n(d);const E=e=>{const{withLabel:t,localizedLabelText:s,localizedTitleText:n,iconKind:d,isClickedOpen:E=!1,onClick:u=c.NOOP}=e,m=(0,l.Z)(_(),{highlightWhenOpen:E});return a.createElement(i.Z,{"data-iskeynav":!0,"data-test-id":e["data-test-id"],title:n,"aria-label":n,kind:d,size:o.Sizes.XS,className:r()(e.className||"",m.item),onClick:u,colorStates:{normal:o.ColorStates.TB_ICON_FILL_COLOR,hovered:o.ColorStates.DARKER_PRIMARY_HOVER},flipRTL:o.RTLAwareIconKinds.indexOf(d)>=0},t&&s)}},98360:e=>{"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_ZkbNhI D_F el_QDCVj",header:"M_0 P_JMQ5f A_6FsP c1AVi73_6LUG u_e69 D_F el_Z1mLfFl ab_AJ gl_FM",btnLogo:"D_F ab_C ek_BB r_P",logo:"W_74JI H_74JI",icon:"p_a M_6Fd5",title:"em_N",close:"Q_6Eb4",message:"P_Z2fgN7g w_AS ix_AS",btnControls:"P_ZG120x",linkControls:"D_F gl_FL M_1Wxz6o P_ZG120x",link:"C_Z29WjXl A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV"}},_key:"Z1WNzs2"}},4832:(e,t,s)=>{"use strict";s.r(t),s.d(t,{COMPOSE_MIN_WIDTH:()=>L,COMPOSE_MIN_WIDTH_READABILITY_MODE:()=>f,CURRENT_IMAGE_SIZE_STATUS:()=>h,DELETE_CONTACT:()=>U,EDITOR_EVENTS:()=>b,EditorTypes:()=>m,FORMAT_DATE_OPTION:()=>T,FocusableRefs:()=>_,FontSizes:()=>o,Fonts:()=>r,HIDE_SELECTION_CLASS:()=>B,HORIZONTAL_PADDING:()=>A,HYPERLINK_PLUGIN_IGNORE_CLASS:()=>R,IMAGE_OVERLAY_INITIAL_LEFT:()=>I,IMAGE_STATUS:()=>x,INLINE_IMAGE_PLUGIN_CLASSES:()=>O,INLINE_IMAGE_PLUGIN_SIZE:()=>D,INLINE_IMAGE_SELECTOR:()=>w,KeyCodes:()=>E,LINK_EHANCER_CARD_SELECTOR:()=>H,NO_STATIONERY:()=>i,OutlookSupportHTMLAttributes:()=>M,OutlookSupportHTMLHeadContent:()=>P,PreviewTypes:()=>p,RELATED_CONTACTS_HEADER:()=>k,RTEHoverOverlayTypes:()=>g,RTEKeyModifier:()=>u,SPELL_CHECK_PLUGIN_CLASS:()=>N,STATIONERY_BODY_SELECTOR:()=>G,STATIONERY_MIN_WIDTH:()=>l,SpellCheckActions:()=>d,TOOLBAR_HEIGHT:()=>C,ToolbarActions:()=>c,ToolbarTypes:()=>S});var a=s(95406),n=s(4119);const r=n.F3,o=n.TS,i="no_stationery",l=480,c={FILE_SELECT:"fileselect",FILE_SELECT_BTN_CLICKED:"fileselectbtnclicked",SEND:"send",DELETE_DRAFT:"delete_draft",UPDATE_STATIONERY:"update_stationery",UPDATE_LAYOUT:"update_layout",CREATE_LINK:"createlink",PLAIN_TEXT:"plaintext",RICH_TEXT:"richtext",INSERT_ORDERED_LIST:"insertorderedlist",FONT_NAME:"fontname",FONT_SIZE:"fontsize",SPELL_CHECK:"spell_check"},d={END_SPELLCHECK_SYNC_STATE:"endspellchecksyncstate",PERFECT_SPELLING:"perfectspelling",SPELLCHECK_BEFORE_SEND_ERRORS:"spellcheckb4senderrors",SPELLCHECK_BEFORE_SEND_NO_ERRORS:"spellcheckb4sendnoerrors",SPELLCHECK_BEFORE_SEND_CORRECTED:"spellcheckb4sendcorrected"},_=n.vX,E={SEMICOLON:59,FF_SEMICOLON:186,FF_COMMA:188,COMMA:44,BREAK:13,SPACE:32,TAB:9,FWD_DEL:46},u={NO_MODIFIER:1,ALT:1,SHIFT:2,SPECIAL:4,NONSPECIAL:8},m=(0,a.gP)(["MESSAGE","COMPOSE","VACATION_RESPONSE_SETTINGS","JOURNAL"]),S={MESSAGE:"MESSAGE",COMPOSE:"COMPOSE",VACATION_RESPONSE_SETTINGS:"VACATION_RESPONSE_SETTINGS",JOURNAL:"JOURNAL"},p=(0,a.gP)(["MESSAGE","VACATION_RESPONSE"]),C=70,A=72,T={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"},I="-5000px",h=(0,a.gP)(["LARGE","SMALL"]),g=(0,a.gP)(["IMAGE","LINK_ENHANCER_CARD","LAYOUT_TEXT","LAYOUT_TITLE","LAYOUT_CAPTION","LAYOUT_IMAGE","LAYOUT_BACKGROUND","SPELL_CHECK"]),O={GIF_WRAPPER_CLASS:"yahoo-gif-wrapper",INLINE_IMAGE_CLASS:"yahoo-inline-image",IMAGE_OVERLAY_CLASS:"yahoo-inline-img-overlay",ONLINE_GIF_CLASS:"yahoo-online-gif",EMOJI_WRAPPER_CLASS:"yahoo-emoji-wrapper",IGNORE_CLASS:"yahoo-ignore-inline-image"},D={IMAGE_SMALL_WIDTH:400,IMAGE_BIG_WIDTH:800,TINY_IMAGE_WIDTH:100,IMAGE_BIG_PERCENTAGE:"100%",IMAGE_SMALL_PERCENTAGE:"50%"},R="yahoo-ignore-hyperlink",N="aol-spelling-check",L=670,f=740,M=['xmlns="http://www.w3.org/1999/xhtml"','xmlns:v="urn:schemas-microsoft-com:vml"','xmlns:o="urn:schemas-microsoft-com:office:office"'].join(" "),P="\x3c!--[if gte mso 9]><xml><o:OfficeDocumentSettings><o:AllowPNG/><o:PixelsPerInch>96</o:PixelsPerInch></o:OfficeDocumentSettings></xml><![endif]--\x3e",b=(0,a.gP)(["emoji_inserted","gif_inserted","gif_removed","gif_resized","inline_attachment_inserted","inline_image_removed","inline_image_resized","inline_to_non_inline_attachment","stationery_cleared","layout_cleared","default_stationery_cleared","link_enhancer_card_removed","link_enhancer_card_size_changed","link_enhancer_card_added","link_enhancer_card_moved","plaintext_paste_event"]),{INLINE_IMAGE_CLASS:y,ONLINE_GIF_CLASS:v,IGNORE_CLASS:F}=O,U="delete-contact",k="related_contacts_header",w=`img[class*="${y}"]:not([class*="${v}"]):not([class*="${F}"])`,G='[id$="middleBody"]',H='div[class*="yahoo-link-enhancr-card"]',B="hide-selection",x={loading:"yahoo-loading"}},98852:(e,t,s)=>{"use strict";s.d(t,{v:()=>m});var a=s(67294),n=s(549),r=s(37422),o=s(18685),i=s(11310),l=s(4119),c=s(92559),d=s(32440),_=s(85927),E=s(86460);const u=(0,o.connect)(((e,{csid:t})=>{const{getComposeHeaderFocus:s}=(0,_.selectors)(e);return{csid:t,lastFocusedElement:s(t)}}),(e=>({onSaveToDrafts:t=>e(d.I6(t)),onDraftDelete:t=>e(d.R5(t)),updateComposeHeaderFocus:t=>e(d.wy(t))})),null,{areStatePropsEqual:(e,t)=>e.csid===t.csid})((function(e){const{closeActionCallBack:t,updateComposeHeaderFocus:s,onDraftDelete:n,onSaveToDrafts:r,lastFocusedElement:o,onClose:d,csid:_}=e,u=(0,a.useCallback)((()=>{d()}),[d]),m=(0,a.useCallback)((()=>{t&&t()}),[t]),S={saveToDrafts:()=>{u(),r({csid:_,forceSync:!0,i13nModel:{mKey:c.JE.MANUAL_SAVE_DRAFT,sec:c.nJ.COMPOSE_CONFIRM_DLG,interactionType:c.Rb.click}}),m()},keepWriting:()=>{u(),s({csid:_,inputFocus:o===l.vX.EDITOR?l.vX.TO:o,i13nModel:{mKey:c.JE.KEEP_WRITING,sec:c.nJ.COMPOSE_CONFIRM_DLG,interactionType:c.Rb.click}})},deleteDraft:()=>{u(),n({csid:_,i13nModel:{mKey:c.JE.DELETE_DRAFT,sec:c.nJ.COMPOSE_CONFIRM_DLG,interactionType:c.Rb.click}}),m()}};return(0,a.useEffect)((()=>{o!==l.vX.EDITOR&&s({csid:_,inputFocus:l.vX.EDITOR})})),a.createElement(i.Z,{title:E.Z.draftCloseConfirmTitle,message:E.Z.draftCloseConfirmMessage,wideContainer:!0,showTertiaryButton:!0,primaryButtonLabel:E.Z.saveToDraftsBtn,secondaryButtonLabel:E.Z.keepWritingBtn,tertiaryButtonLabel:E.Z.deleteBtn,onPrimaryButtonClick:S.saveToDrafts,onSecondaryButtonClick:S.keepWriting,onTertiaryButtonClick:S.deleteDraft,onClose:S.keepWriting})}));function m({csid:e,showConfirmationOnDraftClose:t,isComposeDirty:s=!0,originalOnCloseHandler:o,context:i}){return s&&t?(0,n.C)(a.createElement(u,{csid:e,closeActionCallBack:o,onClose:r.MrV}),i):o&&o()}},71995:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Ea});var a=s(18685),n=s(14890),r=s(45697),o=s.n(r),i=s(67294),l=s(73935),c=s(99095),d=s(91966),_=s.n(d),E=s(25319),u=s(45578),m=s.n(u),S=(s(31280),s(10728)),p=s(67498),C=s(28182),A=s(23224),T=s(9333),I=s(76531),h=s(43007),g=s(19822),O=s(11160),D=s(31509),R=s(18030),N=s(65304),L=s(8470),f=s(40918),M=s(87771),P=s(76223),b=s.n(P),y=s(85786),v=s.n(y),F=s(67782),U=s(92559);function k(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const w=(0,c.defineMessages)({contactsMenu:{id:"contactsMenu",defaultMessage:"contacts"}});class G extends i.Component{constructor(){super(),k(this,"state",{isPickerOpen:!1}),k(this,"handleContactContainerClick",(e=>{this.pillContainerRef&&e.target&&(e.target.getAttribute("class")||"").indexOf("pill-list")>-1&&this.props.onContactContainerClick()})),k(this,"onOpen",(()=>{this.state.isPickerOpen||this.setState({isPickerOpen:!0},this.props.contactPickerClicked)})),k(this,"onClose",(()=>{this.state.isPickerOpen&&this.setState({isPickerOpen:!1})})),this.pillContainerRef=i.createRef()}render(){const e=b()(v(),{active:this.props.active});return i.createElement("div",{className:e.module,"data-test-id":"recipient-input"},i.createElement(O.Z,{ref:e=>this._container=e},i.createElement(D.Z,{onClick:this.togglePickerStatus},i.createElement("button",{"aria-haspopup":!0,className:e.label,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`,id:this.props.identifier,"aria-labelledby":`id-input-${this.props.label.props.defaultMessage}`},this.props.label,i.createElement("span",{className:e.idInputLabel,id:`id-input-${this.props.label.props.defaultMessage}`},this.props.label.props.defaultMessage,", ",i.createElement(c.FormattedMessage,w.contactsMenu)))),i.createElement(R.ZP,{isArrowVisible:!1,triggerOn:N.K2.CLICK,zAltitude:S.LSY.POPOVER.HIGH,onClick:e=>e.stopPropagation(),align:N.xM.START,onShow:this.onOpen,onHide:this.onClose,outerClickFallthrough:!1},i.createElement(M.cr,{import:"../../contact_picker/index",onClose:()=>this._container.hide(N.K2.CLICK),addContactsToField:this.props.addContactsToField,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,95822))},_moduleResolver:function(){return 95822}}))),i.createElement("div",{className:e.children,"data-test-id":this.props.childrenId,onClick:this.handleContactContainerClick,ref:this.pillContainerRef},this.props.children))}}k(G,"defaultProps",{active:!1});const H=(0,a.connect)(null,(e=>({contactPickerClicked:()=>e((0,F.openContactPickerDisplay)({i13nModel:{mKey:U.JE.OPEN_CONTACT_PICKER,sec:U.nJ.CONTACT_PICKER,interactionType:U.Rb.click}}))})))(G);class B extends i.Component{render(){const e=b()(v(),{active:this.props.active,columnLayout:this.props.columnLayout});return i.createElement("div",{className:e.module,"data-test-id":"labeled-input"},i.createElement("label",{htmlFor:this.props.for,className:e.label,onClick:this.props.onLabelClick,"data-test-id":`label-input-${this.props.label.props.defaultMessage}`},this.props.label),i.createElement("div",{className:e.children,"data-test-id":this.props.childrenId},this.props.children))}}var x,V,Z;Z={active:!1},(V="defaultProps")in(x=B)?Object.defineProperty(x,V,{value:Z,enumerable:!0,configurable:!0,writable:!0}):x[V]=Z;var W=s(21939),K=s(66679),z=s(64828),Y=s(94482),j=s(77078),q=s(44377),X=s.n(q);const Q=b()(X());function J({account:e,selected:t,onClick:s}){return i.createElement(Y.Z,{ariaLabel:e.email,kind:j.F.ACCOUNT_PICKER,name:e.email},i.createElement("span",{className:Q.rtlIgnoreDir},i.createElement(p.Z,{kind:C.F.MENUITEM,onClick:s,style:{backgroundColor:t?"#f9faff":""},overridingClass:Q.buttonOverride},i.createElement("div",{className:Q.buttonContent},i.createElement("span",{className:Q.checkmarkWrapper+" "+Q.rtlIgnoreMarginR},t&&i.createElement(h.Z,{kind:I.Kinds.CHECKMARK,size:I.Sizes.XS})),i.createElement("span",{className:Q.sendingName},e.sendingName),i.createElement("span",{className:Q.itemAddress+" "+Q.rtlIgnoreMarginL},e.email)))))}var $=s(70905),ee=s.n($);function te(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const se=()=>{};class ae extends i.Component{constructor(...e){super(...e),te(this,"handleAccountChange",(e=>{this.props.selected!==e&&this.props.onChange(e)})),te(this,"getMenuItems",(()=>{const{sendingAccounts:e,selected:t,dir:s}=this.props;return e.map((e=>i.createElement(J,{key:e.email,dir:s,account:e,selected:e===t,onClick:this.handleAccountChange.bind(this,e)})))}))}render(){const{selected:e,sendingAccounts:t,isCompactCompose:s}=this.props,a=b()(ee(),{isCompactCompose:s});if(!t.length)return null;const n="<"+e.email+">",r=i.createElement("div",{className:a.menuLabelEmail,"data-test-id":"compose-sending-address"},n);return 1===this.props.sendingAccounts.length?i.createElement("div",{tabIndex:0,"aria-label":this.props.selectLabel+" "+e.email,className:a.fromField,ref:"accountSelect"},i.createElement("span",null,e.sendingName,"Â "),r):i.createElement("div",{className:a.select},i.createElement(W.Z,{onFocus:this.props.onFocus,onBlur:this.props.onBlur,className:a.menuContainer},i.createElement(K.Z,{"aria-label":this.props.selectLabel+" "+e.email,hasText:!0,tabIndex:0},i.createElement("span",{className:a.label},i.createElement("span",{className:a.labelName},e.sendingName,"Â "),r,i.createElement(h.Z,{kind:I.Kinds.CHEVRON_UP,size:I.Sizes.XXS,rotate:I.Rotate.D180}))),i.createElement(z.ZP,null,this.getMenuItems(a))))}}te(ae,"defaultProps",{onFocus:se,onBlur:se,onChange:se,isCompactCompose:!1});const ne=ae;var re=s(23279),oe=s.n(re),ie=s(14256),le=s(79149),ce=s.n(le),de=s(70006),_e=s(28559),Ee=s(33364),ue=s(85927),me=s(72710),Se=s(4832),pe=s(18446),Ce=s.n(pe),Ae=s(17016),Te=s(97602);function Ie(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const he=s(4832).KeyCodes,ge=(0,c.defineMessages)({suggestions_available:{id:"compose.suggestions_available",defaultMessage:"{suggestionsNum, plural, =0 {No suggestions are available.} one {# suggestion is available.} other {# suggestions are available. Use up and down arrows to select.}}"},from_group:{id:"compose.from_group",defaultMessage:"{contactCount, plural, one {# contact} other {# contacts}}"},close_related_contacts:{id:"dropdown.close_related_contacts",defaultMessage:"Close"},related_contacts:{id:"dropdown.related_contacts",defaultMessage:"Related contacts:"}}),Oe=/([^\s,;]+?@[^\s,;]+?\.[a-z]+[>)]?)[\s,;]+([^\s,;])/gi,De=/[;,]+/,Re=()=>{};class Ne extends i.Component{constructor(e){super(e),Ie(this,"shouldComponentUpdate",((e,t)=>this.state.inputValue!==t.inputValue||!Ce()(e.getSuggestions(t.inputValue),this.props.getSuggestions(this.state.inputValue))||!(0,Ae.compareObjectsWithKeys)(this.props,e,["autoBidi","composePillCount","id","inputId","isDragged","isEditing","maxContactsVisible","placeholder","selectedPills","recipientContacts","shiftDelimiters","showCcBcc","showSuggestions","wasRelatedContactsDropdownClosed"]))),Ie(this,"createSearchRequest",(e=>oe()(this.requestContactSuggestions,e))),Ie(this,"inputValueToContact",(()=>{const{inputValue:e}=this.state;e.trim()&&(this.props.autoSuggestionDropdownWillAppear(),this.props.onInputContactAdd(e,this.props.isEditing),this.setState({inputValue:""}))})),Ie(this,"handleOnFocus",(e=>{this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0})})),Ie(this,"handleOnBlur",(e=>{document.hasFocus()&&this.inputValueToContact(),this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1})})),Ie(this,"handleInputKeyDown",(e=>{const{inputValue:t}=this.state,{shiftDelimiters:s,delimiters:a}=this.props,{ctrlKey:n,altKey:r,metaKey:o,shiftKey:i,which:l,keyCode:c}=e,d=this._isDelimiterKey(l||c);n||r||o||t&&(i&&d(s)||!i&&d(a))&&(e.preventDefault(),this.inputValueToContact())})),Ie(this,"_isDelimiterKey",(e=>t=>-1!==t.indexOf(e))),Ie(this,"handleInputChange",(e=>{const t=this.constructor.splitByDelimiters(e);t.length>1&&t.splice(0,t.length-1).map((e=>e.trim())).filter(Boolean).forEach((e=>{this.props.onInputContactAdd(e,!1)})),this.props.autoSuggestionDropdownWillAppear(),this.setState({inputValue:t[0]}),this.state.triggerSearchRequest(t[0])})),Ie(this,"handleManualPillRemoval",((e,t)=>{t.preventDefault(),this.handlePillRemoval([e])})),Ie(this,"handleManualPillEdit",(e=>{const t=(0,_e.preparePillContact)(e);this.props.onContactEdit(t)})),Ie(this,"handleManualPillUpdate",(e=>{this.props.onInputContactAdd(e,!0)})),Ie(this,"handlePillRemoval",(e=>{this.props.onContactRemove(e)})),Ie(this,"handleDropdownSelection",((e,t)=>{const s=t&&t.getAttribute("data-action");if(e.name!==Se.RELATED_CONTACTS_HEADER)if(s===Se.DELETE_CONTACT)this.requestDeleteContactSuggestions(e);else{this.setState({inputValue:""});const t=this.isRelatedContacts();e.disabled||this.props.onContactAdd({...e,createdTime:Date.now()},{isRelatedContacts:t})}})),Ie(this,"handleCloseRelatedContactsPopup",(e=>{const t={interactionType:U.Rb.click,mKey:U.JE.RELATED_CONTACTS_CLOSED,sec:U.nJ.COMPOSE_CONTACTS};this.props.closeRelatedContactsForCurrentSession({i13nModel:t}),this.handleOnBlur(e)})),Ie(this,"renderPill",((e,t,s,a)=>{const{name:n,email:r,title:o,isEditing:l,createdTime:c}=(0,_e.preparePillContact)(e);return i.createElement(Ee.default,{email:r,isCompose:!0,isDisabled:this.props.isDragged||a||l,name:n,createdTime:c,popoverDidAppear:this.props.emailPillPopoverDidAppear},i.createElement(de.default,{value:n,title:o,contactId:e.id,contactEmail:r,isEditing:l,isLastElement:t===s.length-1,isSelected:a,onPillUpdate:this.handleManualPillUpdate,onPillRemove:this.handleManualPillRemoval.bind(this,e),onPillEdit:this.handleManualPillEdit.bind(this,e),handleDrop:this.props.handleDrop,handleDragState:this.props.handleDragState,isDragged:this.props.isDragged&&a,inputField:this.props.id,isCompose:!0,selectedPills:this.props.selectedPills}))})),Ie(this,"requestContactSuggestions",(()=>{const e=this.state.inputValue,t=this.isRelatedContacts();this.props.requestContactSuggestions({i13nModel:{mKey:t?U.JE.CONTACT_SUGGEST_RELATED_CONTACTS:U.JE.CONTACT_SUGGEST,sec:U.nJ.COMPOSE_CONTACTS},query:e})})),Ie(this,"handleOnCopy",(e=>{const{selectedPills:t}=this.props;let s="";t.map((e=>{s+=(0,_e.preparePillContact)(e).title+"; "})),e.clipboardData.setData("text/plain",s)})),Ie(this,"requestDeleteContactSuggestions",(e=>{this.props.requestDeleteContactSuggestions({contactInfo:e})})),Ie(this,"state",{triggerSearchRequest:this.createSearchRequest(50),inputValue:"",isFocused:!1}),Ie(this,"isRelatedContacts",(()=>{const{composePillCount:e,wasRelatedContactsDropdownClosed:t}=this.props;return e>0&&!this.state.inputValue&&!t})),Ie(this,"handleDelContactSuggestionOnKeyDown",(e=>{const{keyCode:t}=e;if(!(he.FWD_DEL===t))return;const[s]=Object.keys(this.typeaheadOptions).filter((e=>{const{isActive:t}=this.typeaheadOptions[e].props;return t}));if(s){const{value:e}=this.typeaheadOptions[s].props;this.props.onSuggestContactDelete(!0),this.requestDeleteContactSuggestions(e)}})),Ie(this,"deleteKeyEventListener",(()=>{const{isFocused:e}=this.state;e?window.addEventListener("keydown",this.handleDelContactSuggestionOnKeyDown):window.removeEventListener("keydown",this.handleDelContactSuggestionOnKeyDown)})),Ie(this,"clearTypeaheadOptions",(()=>{for(const e of Object.keys(this.typeaheadOptions))delete this.typeaheadOptions[e]})),this.typeaheadOptions={}}static splitByDelimiters(e){return e.replace(Oe,"$1,$2").split(De)}componentDidUpdate(){this.deleteKeyEventListener(),this.props.onSuggestContactDelete(!1)}componentWillUnmount(){window.removeEventListener("keydown",this.handleDelContactSuggestionOnKeyDown)}UNSAFE_componentWillReceiveProps(e){e.composePillCount>0&&e.composePillCount!==this.props.composePillCount&&!e.wasRelatedContactsDropdownClosed&&this.state.triggerSearchRequest("")}render(){const{formatMessage:e}=this.context.intl,{getSuggestions:t,maxContactsVisible:s,filterSuggestions:a,recipientContacts:n,composePillCount:r,isEditing:o,showSuggestions:l,wasRelatedContactsDropdownClosed:c}=this.props,d=this.isRelatedContacts(),_=t(this.state.inputValue),E=d&&a(_).length>0?3:s,u=!l||0===r&&!this.state.inputValue||c&&!this.state.inputValue?[]:a(_).slice(0,E),m=b()(ce(),{showCcBcc:this.props.showCcBcc});return this.clearTypeaheadOptions(),i.createElement(ie.Pills,{ref:this.props.suggestionRef,id:this.props.id,inputId:this.props.inputId,autoBidi:this.props.autoBidi,tabIndex:this.props.tabIndex,selected:n,renderPill:this.renderPill,placeholder:0===n.length?this.props.placeholder:"",inputValue:this.state.inputValue,onInputKeyDown:this.handleInputKeyDown,onInputChange:this.handleInputChange,onBlur:this.handleOnBlur,onCopy:this.handleOnCopy,onFocus:this.handleOnFocus,onRemove:this.handlePillRemoval,onSelect:this.handleDropdownSelection,notifyPillSelection:this.props.onPillSelection,messageForIncomingOptions:e(ge.suggestions_available,{suggestionsNum:u.length}),className:m.pills,getMessageForOption:this.props.getMessageForOption,containerClassName:m.pillsContainer,containerChildClassName:m.pillsContainerChild,pillClassName:m.pillOuter,noInitialSelection:!0,dropdownVisibleByDefault:!0,typeaheadInputContainerClassName:m.typeahead,typeaheadInputClassName:`input-${this.props.id} ${m.typeaheadInput}`,typeaheadInputHintClassName:m.typeaheadInputHint,typeaheadAriaStatusClassName:m.typeaheadAriaStatus,typeaheadDropDownClassName:m.typeaheadDropDown,clearSelectedPills:this.props.clearSelectedPills,isEditing:o},d&&u.length>0?i.createElement(ie.Option,{className:m.relatedContactsContainer,value:{email:null,id:null,name:Se.RELATED_CONTACTS_HEADER}},i.createElement("span",{className:m.relatedContacts,"data-test-id":"related-contacts-dropdown-header"},e(ge.related_contacts)),i.createElement("span",{className:m.relatedContactsClose},i.createElement(T.default,{"data-iskeynav":!0,"data-test-id":"related-contacts-close-button",kind:I.Kinds.CLOSE,size:I.Sizes.XXS,onMouseDown:this.handleCloseRelatedContactsPopup,colorState:I.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:e(ge.close_related_contacts)}))):null,u.map((e=>i.createElement(ie.Option,{className:m.typeaheadOption,ref:t=>{t&&(this.typeaheadOptions[e.id]=t)},key:e.id,value:e},i.createElement(Te.default,{option:e})))))}}Ie(Ne,"contextTypes",{intl:c.intlShape.isRequired}),Ie(Ne,"defaultProps",{placeholder:"",tabIndex:-1,maxContactsVisible:6,recipientContacts:[],delimiters:[he.FF_COMMA,he.FF_SEMICOLON,he.SEMICOLON,he.COMMA,he.BREAK,he.TAB],shiftDelimiters:[he.BREAK,he.TAB],handleDrop:Re,handleDragState:Re,onPillSelection:Re,selectedPills:[],clearSelectedPills:Re,getSuggestions:Re,filterSuggestions:()=>[],isEditing:!1,requestDeleteContactSuggestions:Re,requestContactSuggestions:Re,showSuggestions:!0,autoSuggestionDropdownWillAppear:Re,emailPillPopoverDidAppear:Re,wasRelatedContactsDropdownClosed:!1});const Le=(0,a.connect)(((e,t)=>{const{getComposeSuggestions:s,getComposeSessionsSelectors:a}=(0,ue.selectors)(e),{wasRelatedContactsClosed:n}=a();return{getSuggestions:s,wasRelatedContactsDropdownClosed:n(t.csid)}}),((e,t)=>({requestContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e((0,me.contactSuggestionRequested)({...s,recipientList:r,contextFrom:o}))},requestDeleteContactSuggestions:s=>{const{getRecipientList:a,getContextFrom:n}=t,r=a(),o=n();e((0,me.deleteContactSuggestionRequested)({...s,recipientList:r,contextFrom:o}))},closeRelatedContactsForCurrentSession:s=>{e((0,me.closeRelatedContactsForCurrentSession)({...s,csid:t.csid}))}})))(Ne);var fe=s(22547),Me=s.n(fe);function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function be(e){const{hasFocus:t,...s}=e,a=b()(Me(),{hasFocus:t});return i.createElement("div",Pe({},s,{className:a.input}),e.children)}var ye=s(82249),ve=s.n(ye),Fe=s(95406),Ue=s(37422),ke=s(3405),we=s(7426),Ge=s(83034),He=s(82653),Be=s.n(He);const xe=(0,c.defineMessages)({collapse_recipient:{id:"compose.collapse_recipient",defaultMessage:"and {collapsedRecipientCount} more"}}),Ve=()=>{},Ze=e=>{const{recipients:t,onFocus:s}=e,{formatMessage:a}=(0,we.Y)(),[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(),[l,c]=(0,i.useState)(t.length);(0,i.useLayoutEffect)((()=>{let e=0,t=S.CT1;const{offsetWidth:s,children:a}=o.current;Array.from(a).some((a=>t+a.offsetWidth>s||(t+=a.offsetWidth)&&++e&&t>=s)),c(0===e?1:e)}),[o]);const d=t.slice(0,l),_=t.slice(l),E=(0,Ge.Z)(Be(),{hovered:n}),u=a(xe.collapse_recipient,{collapsedRecipientCount:_.length});return i.createElement("div",{"data-test-id":"collapsed-recipient-pills-container",onClick:s,onFocus:s,className:E.pillsContainer,tabIndex:0,ref:o},d.map((e=>(e=>{const{name:t,email:a,title:n}=(0,_e.preparePillContact)(e);return i.createElement(de.default,{value:t,title:n,contactId:e.id,contactEmail:a,isEditing:!1,isLastElement:!1,isSelected:!1,handleDrop:Ve,onPillClick:s,key:a})})(e))),!!_.length&&i.createElement("div",{"data-test-id":"collapsed-recipient-overflow-pill",className:E.overflowPill,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},u))};function We(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ke=(0,c.defineMessages)({save_draft_and_close:{id:"compose.save_draft_and_close",defaultMessage:"Close (and save to drafts)"},show_cc_button_label:{id:"compose.show_cc_button_label",defaultMessage:"CC / BCC"},hide_cc_button_label:{id:"compose.hide_cc_button_label",defaultMessage:"Hide CC / BCC"},show_cc_only_button_label:{id:"compose.show_cc_only_button_label",defaultMessage:"CC"},hide_cc_only_button_label:{id:"compose.hide_cc_only_button_label",defaultMessage:"Hide CC"},bcc_button_label:{id:"compose.bcc_button_label",defaultMessage:"bcc"},from_input_label:{id:"compose.from_input_label",defaultMessage:"From"},to_input_label:{id:"compose.to_input_label",defaultMessage:"To"},cc_input_label:{id:"compose.cc_input_label",defaultMessage:"CC"},bcc_input_label:{id:"compose.bcc_input_label",defaultMessage:"BCC"},select_contact:{id:"compose.select_contact",defaultMessage:"Select contact {email}. On Windows or Linux, press the Delete key to remove this contact. If on Mac, press FN and Delete."},subject_input_placeholder:{id:"compose.subject_input_placeholder",defaultMessage:"Subject"},additional_options:{id:"compose.additional_options",defaultMessage:"Additional options"},popout_compose:{id:"compose.popout",defaultMessage:"Pop out"},related_contacts_close:{id:"compose.related_contacts_close",defaultMessage:"Related contacts. Press the Escape key to close the dropdown"},suggested_contacted_deleted:{id:"compose.suggested_contact_deleted",defaultMessage:"Contact deleted."}});class ze extends i.Component{constructor(e){super(e),We(this,"handleSubjectChange",(e=>{const t=e.target.value;this.hideEmailHoverCards(!0),this.setState({subject:t},this.onHeaderChange)})),We(this,"handleCollapsedRecipientPillFocus",(()=>{const{updateComposeHeaderFocus:e,csid:t}=this.props;e({csid:t,inputFocus:this.state.prevFocus})})),We(this,"setDragState",(e=>{this.setState({isDragged:e})})),We(this,"handleDragOver",(e=>{this.shouldHandleDrop(e.target)&&e.preventDefault()})),We(this,"updateSelectedPills",(e=>{this.state.isEditing||this.setState({selectedPills:e})})),We(this,"clearSelectedPills",(e=>{e&&this.clearPillsCallbacks.push(e),this.clearPillsCallbacks.forEach((e=>e())),this.setState({selectedPills:[]})})),We(this,"getCollapsedRecipientGroup",(()=>{let e=[];return e=e.concat(this.state[Se.FocusableRefs.TO],this.state[Se.FocusableRefs.CC],this.state[Se.FocusableRefs.BCC]),e})),We(this,"handleDrop",((e,t,s,a)=>{if(e.stopPropagation(),e.preventDefault(),void 0===s&&(!this.shouldHandleDrop(e.target)||""===t))return;const n=e.dataTransfer.getData("text/pills"),r=document.getElementById("drag-img");let o=[],i={},l=0;if(r&&r.parentNode&&r.parentNode.removeChild(r),""===n||!(0,g.isJSONString)(n))return;const c=JSON.parse(n);c&&(i=c.contact),this.state.selectedPills.length>0&&(o=this.state.selectedPills),i&&(i.id||i.email||i.name)&&(l=o.findIndex((({name:e,email:t})=>i.name===e&&i.email===t)),-1===l&&o.push(i));const d={mKey:U.JE.DRAG_CONTACT,sec:U.nJ.COMPOSE_CONTACTS,actionData:{cnt:o.length,from:c.dragFromField.toUpperCase(),to:t.toUpperCase()}};this.props.dragDropContact({i13nModel:d}),this.handleDragContactAdd(t,o,{side:s,id:a}),c.dragFromField!==t&&this.handleContactRemove(c.dragFromField,o,!0),this.setDragState(!1),this.clearSelectedPills()})),We(this,"handleDragContactAdd",((e,t=[],{side:s="other",id:a})=>{const n=this.state[e],r=n.filter((e=>!t.find((({name:t,email:s})=>e.name===t&&e.email===s)))),o={left:0,right:1,other:n.length+1}[s],i=Math.max(0,r.findIndex((e=>e.id===a))+o),l=r.slice(0,i).concat(t).concat(r.slice(i));this.setState({[e]:l},this.onHeaderChange)})),We(this,"handleContactRemove",((e,t,s)=>{const a=this.state[e];let n=[];if(s){t.filter((e=>!!a.find((({name:t,email:s})=>e.name===t&&e.email===s)))).forEach((e=>{const t=a.findIndex((({name:t,email:s})=>e.name===t&&e.email===s));a.splice(t,1)})),n=a}else n=_()(a,t);this.setState({[e]:n},this.onHeaderChange)})),We(this,"handleContactEdit",((e,t)=>{const s=this.state[e].map((e=>e.email===t.email?Object.assign({},e,{isEditing:!0}):e));this.setState({[e]:s,isEditing:!0},this.onHeaderChange)})),We(this,"messageForOption",(e=>{const{suggestionContactDeleted:t}=this.state;return t?this.context.intl.formatMessage(Ke.suggested_contacted_deleted):e.name===Se.RELATED_CONTACTS_HEADER?this.context.intl.formatMessage(Ke.related_contacts_close):e.email?this.context.intl.formatMessage(Ke.select_contact,{email:e.email}):e})),We(this,"onSuggestContactDelete",(e=>{this.setState({suggestionContactDeleted:e})})),We(this,"toggleExtraRecipients",(()=>{const{CC:e,TO:t}=Se.FocusableRefs;this.toggleCcBcc(!this.state.showCcBcc,(()=>{this.focus(this.state.showCcBcc?e:t),this.handleFocusChange(this.state.showCcBcc?e:t,!0)}))})),We(this,"filterSuggestions",((e=[])=>{if(!e.length)return[];const t=this.state.to.concat(this.state.cc,this.state.bcc).reduce(((e,{email:t})=>(e[t]=1,e)),Object.create(null));return Object.keys(t).length&&(e=e.filter((({email:e})=>!t[e]))),e})),We(this,"handleContactAdd",((e,t,s={})=>{let a=this.state[e];const n=({email:e,id:t,name:s,createdTime:a})=>{const n={createdTime:a};return e&&(n.email=e),t&&(n.id=t),s&&(n.name=s),n};if(Array.isArray(t)||t.hasOwnProperty("list")){const e=Array.isArray(t)?t:t.list;a=a.concat(e.map(n))}else void 0===a.find((e=>e.email===t.email))&&(a.push(n(t)),this.props.addRecipient({i13nModel:{mKey:s.isRelatedContacts?U.JE.SELECT_CONTACT_RELATED_CONTACTS:U.JE.SELECT_CONTACT,sec:U.nJ.COMPOSE_CONTACTS}}));const r=[...a.reduce(((e,t)=>t.email&&e.set(t.email,t)),new Map).values()],o="cc"===e||"bcc"===e?{showCcBcc:!0}:{};this.setState({[e]:r,...o},this.onHeaderChange)})),We(this,"emailPillPopoverDidAppear",(e=>{this._popoverReference=e,this.state.isAutosuggestionHidden||this.setState({isAutosuggestionHidden:!0})})),We(this,"autoSuggestionDropdownWillAppear",(()=>{this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null),this.state.isAutosuggestionHidden&&this.setState({isAutosuggestionHidden:!1})})),We(this,"handleChangeReplyToSetting",(e=>{this.context.navigateTo({route:(0,ke.Tx)({settingsGroupId:Ue.u5h.ACCOUNTS}),i13nModel:{mKey:U.JE.CHANGE_REPLY_TO_SETTING,sec:U.nJ.REPLY_TO_ALERT_POPOVER,interactionType:(0,Ae.getInteractionFromEvent)(e)}})})),We(this,"getRecipientList",(()=>{const{to:e,cc:t,bcc:s}=this.state;return(0,g.buildRecipients)([e,t,s])})),We(this,"getContextFrom",(()=>this.state.from.email)),We(this,"handleFromChange",(e=>{this.setState({from:e},this.onHeaderChange)}));const{from:t={},to:s=[],cc:a=[],bcc:n=[],subject:r=""}=this.props;this.state={from:t,to:s,cc:a,bcc:n,subject:r,prevFocus:Se.FocusableRefs.TO,showCcBcc:!!a.length||!!n.length,xButtonHovered:!1,isDragged:!1,isEditing:!1,selectedPills:[],isAutosuggestionHidden:!1,suggestionContactDeleted:!1},this.clearPillsCallbacks=[],this.focusTimer=null}componentDidUpdate(e){const{csid:t,onComposeHeaderDelete:s,composeParams:a,inputFocus:n}=this.props,r=a&&a[n]&&a[n].length?a[n]:[];e.inputFocus!==n&&this.focus(n),this.setState((()=>null),(()=>{r.length&&(this.handleContactAdd(n,r),s({csid:t}))}))}handleXButtonHover(e){this.setState({xButtonHovered:e})}handleInputContactAdd(e,t,s=!1){const a=(0,_e.createAddress)(t.trim());s?this.handleContactUpdate(e,{email:a.email,name:a.name}):this.handleContactAdd(e,{email:a.email,name:a.name})}hideEmailHoverCards(e){e&&this._popoverReference&&(this._popoverReference.handlePopoverHide(),this._popoverReference=null)}handleFocusChange(e,t){const{csid:s}=this.props;this.hideEmailHoverCards(t),this.focusTimer&&clearTimeout(this.focusTimer),this.focusTimer=setTimeout((()=>this.props.updateComposeHeaderFocus({csid:s,inputFocus:e})),0),(0,g.isRecipientFieldsFocused)(e)&&this.setState({prevFocus:e})}shouldHandleDrop(e){return this.refs.composeHeaderTop.contains(e)}componentWillUnmount(){this.clearPillsCallbacks.length=0,this.focusTimer=null}addContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}editContactsToField(e){const{recipientGroup:t}=this.state;this.handleContactAdd(t,e)}focus(e){this.refs[e]?this.refs[e].focus():this[e]&&this[e].focus()}componentDidMount(){this.props.isHeaderFocusDisabled||this.focus(this.props.inputFocus)}toggleCcBcc(e=!1,t=(()=>{})){this.setState({showCcBcc:e},t)}onHeaderChange(){const{from:e,to:t,cc:s,bcc:a,subject:n}=this.state;this.props.onChange({from:e,to:t,cc:s,bcc:a,subject:n})}handleContactUpdate(e,t){const s=this.state[e].reduce(((e,s)=>s.isEditing?t.email?e.concat(Object.assign({},t)):e:e.concat(s)),[]);this.setState({[e]:s,isEditing:!1},this.onHeaderChange)}renderAutoSuggest(e,t){const{inputFocus:s}=this.props,a=this.state[e],n="message-"+e+"-field",r=this.props[Se.FocusableRefs.TO].length+this.props[Se.FocusableRefs.CC].length+this.props[Se.FocusableRefs.BCC].length;return i.createElement(H,{active:s===e,label:t,childrenId:"compose-header-field-"+e,identifier:e,"data-test-id":`contact-picker-${e}`,addContactsToField:this.handleContactAdd.bind(null,e),onContactContainerClick:this.focus.bind(this,e)},i.createElement(Le,{filterSuggestions:this.filterSuggestions,suggestionRef:t=>this[e]=t,id:e,inputId:n,autoBidi:!1,recipientContacts:a,onFocus:this.handleFocusChange.bind(this,e,!0),onInputContactAdd:this.handleInputContactAdd.bind(this,e),onContactRemove:this.handleContactRemove.bind(null,e),onContactAdd:this.handleContactAdd.bind(null,e),onContactEdit:this.handleContactEdit.bind(null,e),isEditing:this.state.isEditing,getMessageForOption:this.messageForOption,showCcBcc:this.state.showCcBcc,handleDrop:(t,s,a)=>this.handleDrop(t,e,s,a),handleDragState:this.setDragState,isDragged:this.state.isDragged,onPillSelection:this.updateSelectedPills,selectedPills:this.state.selectedPills,clearSelectedPills:this.clearSelectedPills,getRecipientList:this.getRecipientList,getContextFrom:this.getContextFrom,composePillCount:r,showSuggestions:!this.state.isAutosuggestionHidden&&s===e,emailPillPopoverDidAppear:this.emailPillPopoverDidAppear,autoSuggestionDropdownWillAppear:this.autoSuggestionDropdownWillAppear,csid:this.props.csid,inputFocus:s,onSuggestContactDelete:this.onSuggestContactDelete}))}renderCloseButton(e){const t=this.context.intl.formatMessage(Ke.save_draft_and_close),s=this.state.xButtonHovered?I.ColorStates.NORMAL:I.ColorStates.DISABLED;return i.createElement("span",{className:e.xButton},i.createElement(T.default,{onClick:this.props.onClose,title:t,"aria-label":t,kind:I.Kinds.CLOSE,colorState:s,size:I.Sizes.XXS,tabIndex:0}))}renderExtraRecipientBtn(e){if(this.state.cc.length>0||this.state.bcc.length>0)return null;const{formatMessage:t}=this.context.intl,{isBccDisabled:s}=this.props,a=this.state.showCcBcc?t(s?Ke.hide_cc_only_button_label:Ke.hide_cc_button_label):t(s?Ke.show_cc_only_button_label:Ke.show_cc_button_label);return i.createElement(p.Z,{ref:Se.FocusableRefs.CCBTN,className:e,tabIndex:-1,onClick:this.toggleExtraRecipients,kind:C.F.CHROMELESS,"data-test-id":"btn-cc"},a)}renderEditSubjectMenu(e){const{formatMessage:t}=this.context.intl;return i.createElement(O.Z,{className:e.additionalOptionsButtonWrapper},i.createElement(D.Z,null,i.createElement(T.default,{"data-test-id":"additional-compose-options-button",kind:I.Kinds.CHEVRON_UP,rotate:I.Rotate.D180,size:I.Sizes.XS,title:t(Ke.additional_options)})),i.createElement(R.ZP,{triggerOn:N.K2.CLICK,align:N.xM.START,offset:2*S.mg$},i.createElement("div",{className:e.additionalOptionsListWrapper},i.createElement(L.Z,{kind:f.F.MENU,focusOnMount:!0,"data-test-id":"additional-compose-options-menu"},i.createElement("li",null,i.createElement(p.Z,{"data-test-id":"edit-subject",kind:C.F.MENUITEM,onClick:this.props.onEditSubject},i.createElement(c.FormattedMessage,{id:"editSubject",defaultMessage:"Edit subject"})))))))}renderReplyToWarning(e){return i.createElement(O.Z,null,i.createElement(D.Z,null,i.createElement("div",{className:e.replyToAnchor,"data-test-id":"reply-to-warning-anchor"},i.createElement("div",{className:e.replyToAnchorLabel},i.createElement(c.FormattedMessage,{id:"compose.reply_to_label",defaultMessage:"Reply-to: {replyToAddress}",values:{replyToAddress:this.props.from.replyToAddress}})),i.createElement(h.Z,{kind:I.Kinds.ATTENTION,colorState:I.ColorStates.ADVISORY,size:I.Sizes.XXS}))),i.createElement(R.ZP,{triggerOn:N.K2.CLICK,isArrowVisible:!0},i.createElement("div",{className:e.replyToPopover,"data-test-id":"reply-to-warning-content"},i.createElement(c.FormattedMessage,{id:"compose.reply_to_description",defaultMessage:"Replies to this message will be sent to {replyToAddress}.",values:{replyToAddress:this.props.from.replyToAddress}}),i.createElement("div",null,i.createElement(p.Z,{kind:C.F.TEXT,onClick:this.handleChangeReplyToSetting},i.createElement(c.FormattedMessage,{id:"compose.reply_to_settings",defaultMessage:"Change in Settings"}))))))}renderCcBcc(e){const{inputFocus:t}=this.props;return i.createElement(i.Fragment,null,i.createElement(be,{hasFocus:t===Se.FocusableRefs.CC,"data-test-id":"container-cc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.CC)},i.createElement("div",{className:e.ccContainer},this.renderAutoSuggest(Se.FocusableRefs.CC,i.createElement(c.FormattedMessage,Ke.cc_input_label)))),!this.props.isBccDisabled&&i.createElement(be,{hasFocus:t===Se.FocusableRefs.BCC,"data-test-id":"container-bcc",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.BCC)},this.renderAutoSuggest(Se.FocusableRefs.BCC,i.createElement(c.FormattedMessage,Ke.bcc_input_label))))}renderRecipients(e){const{inputFocus:t}=this.props;return i.createElement("div",{"data-test-id":"compose-recipient-container"},i.createElement(be,{hasFocus:t===Se.FocusableRefs.TO,"data-test-id":"container-to",onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,Se.FocusableRefs.TO)},this.props.canEditSubject?null:this.renderEditSubjectMenu(e),this.renderAutoSuggest(Se.FocusableRefs.TO,i.createElement(c.FormattedMessage,Ke.to_input_label)),this.renderExtraRecipientBtn(e.extraRecipientsBtn)),this.state.showCcBcc&&this.renderCcBcc(e))}render(){const{inputFocus:e,from:t,showPopOutBtn:s,onComposePopOut:a,accounts:n,canEditSubject:r,isCompactCompose:o}=this.props,l=b()(ve(),{"filled-subject":this.state.subject.length>0,isSubjectDisabled:!r,isCompactCompose:o}),d=t.replyToAddress&&t.replyToAddress!==t.email,_=this.context.intl.formatMessage(Ke.popout_compose),E=this.getCollapsedRecipientGroup(),u=o&&!(0,g.isRecipientFieldsFocused)(e)&&E.length>0;return i.createElement("div",{className:"compose-header "+l.container},s&&i.createElement("div",{className:l.expandButton},i.createElement(T.default,{title:_,"aria-label":_,size:I.Sizes.XXS,kind:I.Kinds.WINDOW_BOX,onClick:a,colorState:I.ColorStates.INHERITED,tabIndex:0})),this.props.showCloseButton?i.createElement("div",{className:l.xButtonWrapper,onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},this.renderCloseButton(l)):null,i.createElement("div",{"data-test-id":"compose-header-top",className:l.composeHeaderTop,ref:"composeHeaderTop",onFocus:this.handleOnFocus},this.props.showFrom?i.createElement(be,{hasFocus:e===Se.FocusableRefs.FROM,"data-test-id":"container-from"},i.createElement(B,{active:e===Se.FocusableRefs.FROM,columnLayout:this.props.isCompactCompose,label:i.createElement(c.FormattedMessage,Ke.from_input_label)},i.createElement(ne,{dir:this.props.rtl?"rtl":"ltr",selectLabel:this.context.intl.formatMessage(Ke.from_input_label),onFocus:this.handleFocusChange.bind(this,Se.FocusableRefs.FROM,!0),sendingAccounts:n,selected:this.state.from,onChange:this.handleFromChange,isCompactCompose:this.props.isCompactCompose}),d&&this.renderReplyToWarning(l))):null,u?i.createElement(Ze,{recipients:E,onFocus:this.handleCollapsedRecipientPillFocus}):this.renderRecipients(l)),this.props.showSubject?i.createElement("div",{className:l.composeSubject},i.createElement(be,{hasFocus:e===Se.FocusableRefs.SUBJECT},this.props.canEditSubject||this.props.composeMode!==Ue.AGu.Modes.FORWARD?null:this.renderEditSubjectMenu(l),i.createElement(A.Z,{"data-test-id":"compose-subject",onFocus:this.handleFocusChange.bind(this,Se.FocusableRefs.SUBJECT,!0),ref:Se.FocusableRefs.SUBJECT,spellCheck:!0,autoCorrect:"off","aria-label":this.context.intl.formatMessage(Ke.subject_input_placeholder),className:l.subject,placeholder:this.context.intl.formatMessage(Ke.subject_input_placeholder),value:this.state.subject,onChange:this.handleSubjectChange,disabled:!this.props.canEditSubject,onDragOver:this.handleDragOver,onDrop:e=>this.handleDrop(e,"")}))):null)}}We(ze,"contextTypes",{config:o().object,navigateTo:o().func,intl:c.intlShape.isRequired}),We(ze,"defaultProps",{subject:"",from:{},to:[],cc:[],bcc:[],inputFocus:Se.FocusableRefs.TO,showSubject:!0,isBccDisabled:!1,canEditSubject:!0,onChange:()=>{}});const Ye=ze;var je=s(31953),qe=s(68878),Xe=s(96943);const{TAB:Qe,ENTER:Je,ESCAPE:$e,ARROW_UP:et,ARROW_DOWN:tt,ARROW_LEFT:st,ARROW_RIGHT:at}=Ue.R8U;class nt{constructor(e){this.args=e,this.TAG_REGEX=/^[\s]*[@+]([^\s\d\W][\w\s]*)$/,this.keyCodeMapper=[Qe,Je,$e,et,tt],this.dropdownRef=this.args.dropdownRef,this.activeIndexBeginAt=1,this.lineHeight=20}getEventName(e){return"string"==typeof e?e:e&&e.type}contentChanged(e){if("keydown"===this.getEventName(e)&&this.args.isContactSuggestionVisible()){const t=this.args.getContactSuggestions(),s=this.args.getDropdownActiveIndex();this.keyCodeMapper.indexOf(e.key)>-1?(e.preventDefault(),e.stopPropagation()):[at,st].indexOf(e.key)>-1&&this.args.toggleDropdown(!1);const a=t.length;if([Qe,Je].indexOf(e.key)>-1)this.args.insertContact(t[s-this.activeIndexBeginAt]);else if(e.key===tt){const e=s+1,t=e>a?this.activeIndexBeginAt:e;this.args.updateActiveIndex(t)}else if(e.key===et){const e=s-1,t=e<this.activeIndexBeginAt?a:e;this.args.updateActiveIndex(t)}else e.key===$e&&this.args.toggleDropdown(!1)}}onContentMutated(e,t){const s=e.filter((e=>"characterData"===e.type));if(!t.length&&s.length&&this.dropdownRef)try{const e=nt.getRangeFromStartToCursor().startContainer,t=e.textContent,s="Firefox"===(0,Fe.u9)(window,"AppBootstrapData.browserName","")?t.replace(/<br>/,""):t,a=this.TAG_REGEX.exec(s);if(a&&a.length){const t=e.parentElement.getBoundingClientRect(),s=a[a.length-1];if(1===s.length){const e={interactionType:U.Rb.keydown,mKey:U.JE.AUTOTAG_DROPDOWN_SHOWN,sec:U.nJ.COMPOSE_MSG};this.args.handleAutotagDropdownShown({i13nModel:e})}const{x:n}=this.args.rte.getCaretCoordinates(),r=this.getOffets(),o=t.top-this.args.rte.element.getBoundingClientRect().top,i=t.height;return this.dropdownRef.style.left=r.left+n+10+"px",this.dropdownRef.style.top=r.top+o+i+"px",void this.args.showContactSuggestion(s)}}catch(a){return}this.args.hideContactSuggestion()}static getRangeFromStartToCursor(){const e=window.getSelection(),t=document.createRange();return t.setStart(e.anchorNode,0),t.setEnd(e.anchorNode,e.anchorOffset),t}getOffets(){const{containerRef:e,rte:t}=this.args,s=t.element.getBoundingClientRect(),a=e.getBoundingClientRect();return{top:s.top-(a.top||0),left:s.left-(a.left||0)}}setDropdownElement(e){this.dropdownRef=e}insertContact(e=""){this.args.rte.restoreCaret(),this.args.rte.focus();const t=nt.getRangeFromStartToCursor(),s=t.toString(),a=this.TAG_REGEX.exec(s);let n="";if(a&&a.length&&a.input){n=-1!==a.input.indexOf("+")?"+":-1!==a.input.indexOf("@")&&"@";try{t.setStart(t.startContainer,a.input.indexOf(n))}catch(r){return void Xe.Z.error("Should not be inserting contact if it is not prefixed with +/@",r)}t.setEnd(t.endContainer,t.endOffset);const s=window.getSelection();s.removeAllRanges(),s.addRange(t);let o="initial";try{o=window.getComputedStyle(s.anchorNode.parentElement).getPropertyValue("font-size")}catch(r){Xe.Z.error("Unable to get font size",r)}const i=document.createElement("span");i.innerHTML=this._getHighlightedName(n+e,o),t.deleteContents(),t.insertNode(i),t.setStartAfter(i),t.setEndAfter(i),s.removeAllRanges(),s.addRange(t),t.startContainer.parentElement.style.fontSize=o}}_getHighlightedName(e,t){return`<span style="background-color: #DBEDFE;font-size: ${t}" contenteditable="false" tabIndex="-1">${e}</span>&nbsp;`}}const rt=nt;var ot=s(50566);function it(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class lt extends i.Component{constructor(e){super(e),it(this,"_onXButtonClick",(()=>{const e={interactionType:U.Rb.click,mKey:U.JE.AUTOTAG_DROPDOWN_CLOSED,sec:U.nJ.COMPOSE_MSG};this.props.closeAutotagForCurrentSession({i13nModel:e}),this._closeAutotag()})),it(this,"insertContact",(e=>{if(e.disabled)return;const t={interactionType:U.Rb.click,mKey:U.JE.AUTOTAG_CONTACT_SELECTED,sec:U.nJ.COMPOSE_MSG};this.toggleDropdown(!1),this.props.addInlineContactSuggestionToCcField(e),this._autotagPlugin.insertContact(e.name),this.props.handleAutotagContactSelected({i13nModel:t})})),it(this,"_closeAutotag",(()=>{this._dropdownRef&&this.toggleDropdown(!1)})),it(this,"_handleDropdownRef",(e=>{this._dropdownRef=this._dropdownRef||(0,l.findDOMNode)(e),this._autotagPlugin&&this._autotagPlugin.setDropdownElement(this._dropdownRef)})),this.state={contactActiveIndex:1,isContactSuggestionVisible:!1}}componentDidMount(){this.requestContactSuggestions=oe()(this.props.requestContactSuggestions,300,{leading:!0}),window.addEventListener("mousedown",this._closeAutotag)}UNSAFE_componentWillReceiveProps(e){if(!this._autotagPlugin&&e.editorReference&&e.editorReference.rte){const{containerRef:t,editorReference:s}=e,{rte:a}=s;this._autotagPlugin=new rt({showContactSuggestion:this.showContactSuggestion.bind(this),hideContactSuggestion:this.toggleDropdown.bind(this),handleAutotagDropdownShown:e=>this.props.handleAutotagDropdownShown(e),isContactSuggestionVisible:()=>this.isContactSuggestionVisible(),setEditorState:e=>this.setState(e),updateActiveIndex:e=>this.setState({contactActiveIndex:e}),getContactSuggestions:()=>this.props.contactSuggestions,getDropdownActiveIndex:()=>this.state.contactActiveIndex,wasDropdownClosed:()=>this.props.wasDropdownClosed,insertContact:this.insertContact,toggleDropdown:this.toggleDropdown.bind(this),dropdownRef:this._dropdownRef,containerRef:t,rte:a}),e.editorReference.rte.addPlugin(this._autotagPlugin)}}showContactSuggestion(e=""){e.trim().length>0&&(this.requestContactSuggestions({query:e}),this.toggleDropdown(!0))}toggleDropdown(e=!1){this.state.isContactSuggestionVisible!==e&&this.setState({isContactSuggestionVisible:e,contactActiveIndex:1})}componentWillUnmount(){window.removeEventListener("mousedown",this._closeAutotag)}_getContactOptionItems(e){const{formatMessage:t}=this.context.intl;return[i.createElement(qe.Option,{className:e.relatedContactsContainer,disabled:!0,value:{disabled:!0}},i.createElement("span",{className:e.relatedContacts},i.createElement(c.FormattedMessage,{id:"autotag_dropdown.add_recipient",defaultMessage:"Add a recipient"})),i.createElement("span",{className:e.relatedContactsClose},i.createElement(T.default,{"data-iskeynav":!0,"data-test-id":"autotag-close-button",kind:I.Kinds.CLOSE,size:I.Sizes.XXS,onMouseDown:this._onXButtonClick,colorState:I.ColorStates.FIRST_LEVEL_GRAY,paddingLess:!0,title:t(ge.close_related_contacts),id:"autotag-close"}))),...this.props.contactSuggestions.map((t=>i.createElement(qe.Option,{className:e.typeaheadOption,key:t.id,value:t},i.createElement(Te.default,{option:t,allowContactRemoval:!1}))))]}isContactSuggestionVisible(){return!(this.props.wasDropdownClosed||!this.props.contactSuggestions.length||!this.state.isContactSuggestionVisible)}render(){if(!this._autotagPlugin)return null;const e=b()(ce(),{autotag:!0});return i.createElement(qe.Dropdown,{ref:this._handleDropdownRef.bind(this),options:this._getContactOptionItems(e),activeIndex:this.state.contactActiveIndex,visible:this.isContactSuggestionVisible(),onMouseDown:this.insertContact,className:e.typeaheadDropDown})}}lt.defaultProps={containerRect:{},wasDropdownClosed:!1},lt.contextTypes={intl:c.intlShape.isRequired};const ct=(0,a.connect)(((e,t)=>{const{getAutotagSuggestions:s,getComposeSessionsSelectors:a}=(0,ue.selectors)(e),{wasAutotagDropdownClosed:n}=a();return{contactSuggestions:s(t.csid),wasDropdownClosed:n(t.csid)}}),((e,t)=>({requestContactSuggestions:s=>{e((0,me.contactSuggestionRequested)({...s,csid:t.csid}))},closeAutotagForCurrentSession:s=>{e((0,me.closeAutotagForCurrentSession)({...s,csid:t.csid}))},handleAutotagDropdownShown:t=>{e({type:ot.AUTOTAG_DROPDOWN_SHOWN,...t})},handleAutotagContactSelected:t=>{e({type:ot.AUTOTAG_CONTACT_SELECTED,...t})}})),null,{withRef:!0})(lt);var dt=s(24329),_t=s.n(dt);function Et(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ut extends i.Component{constructor(...e){super(...e),Et(this,"state",{dragOverlayVisible:!1}),Et(this,"handleDragOver",(e=>{e.dataTransfer&&Array.prototype.slice.call(e.dataTransfer.types).some((e=>"Files"===e))&&(this.state.dragOverlayVisible||this.setState({dragOverlayVisible:!0}),e.preventDefault(),e.stopPropagation())})),Et(this,"handleDragLeave",(e=>{e.preventDefault(),e.stopPropagation(),this.state.dragOverlayVisible&&this.setState({dragOverlayVisible:!1})})),Et(this,"handleDrop",(e=>{e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files;this.setState({dragOverlayVisible:!1},(()=>this.props.onDrop(Array.prototype.slice.call(t))))}))}render(){const e=b()(_t(),{isCompactCompose:this.props.isCompactCompose});return i.createElement("div",{onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,className:e.attachmentDragContainer},this.props.children,this.state.dragOverlayVisible?i.createElement("div",{className:e.dragOverlay},i.createElement("div",{className:e.dragDescriptionContainer},i.createElement(h.Z,{kind:I.Kinds.ATTACH_GENERIC_48,colorState:I.ColorStates.ATTACH_GENERIC,size:I.Sizes.L}),i.createElement("div",{className:e.dragTextDescription},i.createElement(c.FormattedMessage,{id:"compose.rte_dragdrop_overlay",defaultMessage:"Drag and drop files here"})))):null)}}const mt=ut;var St=s(61395),pt=s.n(St),Ct=s(10429),At=s.n(Ct),Tt=s(45191),It=s(64692),ht=s(48005),gt=s.n(ht),Ot=s(86460);function Dt(e){const{formatMessage:t}=(0,we.Y)(),s=(0,Ge.Z)(gt()),{focusBackEditor:a,onChange:n,justifyleft:r,justifycenter:o,justifyright:l,isRTL:c}=e,d=e=>e?I.ColorStates.DARKER_PRIMARY_HOVER:I.ColorStates.BATCAVE_GRAY;let _=c?Ue.KOI.ALIGN_RIGHT:Ue.KOI.ALIGN_LEFT;l?_=Ue.KOI.ALIGN_RIGHT:o&&(_=Ue.KOI.ALIGN_CENTER);const E=(e=>{switch(e){case Ue.KOI.ALIGN_CENTER:return{kind:I.Kinds.ALIGN_CENTER,title:t(Ot.Z.centerAlign),testId:"icon-btn-align_center"};case Ue.KOI.ALIGN_RIGHT:return{kind:I.Kinds.ALIGN_LEFT,title:t(Ot.Z.rightAlign),testId:"icon-btn-align_right",rightAlignIcon:!0};default:return{kind:I.Kinds.ALIGN_LEFT,title:t(Ot.Z.leftAlign),testId:"icon-btn-align_left"}}})(_);return i.createElement(W.Z,{afterMenuHide:a},i.createElement(K.Z,{"aria-label":E.title,"data-test-id":E.testId,title:E.title,overridingClass:E.rightAlignIcon?s.rightAlignIcon:s.hoverMenuButton},i.createElement(It.Z,{kind:E.kind,size:I.Sizes.XS,colorStates:{normal:I.ColorStates.TB_ICON_FILL_COLOR,hovered:I.ColorStates.BATCAVE_GRAY}})),i.createElement(z.ZP,{"data-test-id":"compose.alignment-picker"},i.createElement("span",{className:s.rtlIgnoreDir},i.createElement(Y.Z,{key:"align-l",name:"align-l",className:s.icon},i.createElement(T.default,{"aria-label":t(Ot.Z.leftAlign),title:t(Ot.Z.leftAlign),kind:I.Kinds.ALIGN_LEFT,size:I.Sizes.XS,onClick:e=>{n(Ue.KOI.ALIGN_LEFT,e)},colorState:d(r)})),i.createElement(Y.Z,{key:"align-c",name:"align-c",className:s.icon},i.createElement(T.default,{"aria-label":t(Ot.Z.centerAlign),title:t(Ot.Z.centerAlign),kind:I.Kinds.ALIGN_CENTER,size:I.Sizes.XS,onClick:e=>{n(Ue.KOI.ALIGN_CENTER,e)},colorState:d(o)})),i.createElement(Y.Z,{key:"align-r",name:"align-r",className:s.icon},i.createElement(T.default,{className:s.rightAlignIcon,"data-test-id":"icon-btn-align_right","aria-label":t(Ot.Z.rightAlign),title:t(Ot.Z.rightAlign),kind:I.Kinds.ALIGN_LEFT,size:I.Sizes.XS,rotate:I.Rotate.D0,onClick:e=>{n(Ue.KOI.ALIGN_RIGHT,e)},colorState:d(l)})))))}function Rt(e){const{formatMessage:t}=(0,we.Y)(),s=(0,Ge.Z)(gt()),{focusBackEditor:a,onChange:n,insertorderedlist:r,insertunorderedlist:o,isRTL:l}=e,c=e=>e?I.ColorStates.DARKER_PRIMARY_HOVER:I.ColorStates.BATCAVE_GRAY;let d={kind:I.Kinds.LIST_UNORDERED,title:t(Ot.Z.bulletedList),testId:"icon-btn-list_unordered",flipRTL:l};return r&&(d={kind:l?I.Kinds.LIST_ORDERED_FLIPPED:I.Kinds.LIST_ORDERED,title:t(Ot.Z.numberedList),testId:"icon-btn-list_ordered",flipRTL:!l}),i.createElement(W.Z,{afterMenuHide:a},i.createElement(K.Z,{"aria-label":d.title,"data-test-id":d.testId,title:d.title,overridingClass:s.hoverMenuButton},i.createElement(It.Z,{kind:d.kind,size:I.Sizes.XS,colorStates:{normal:I.ColorStates.TB_ICON_FILL_COLOR,hovered:I.ColorStates.BATCAVE_GRAY},flipRTL:d.flipRTL})),i.createElement(z.ZP,{"data-test-id":"compose.list-picker"},i.createElement(Y.Z,{key:"bullet",name:"bullet",className:s.icon},i.createElement(T.default,{className:s.rtlRawScaleX,"aria-label":t(Ot.Z.bulletedList),title:t(Ot.Z.bulletedList),kind:I.Kinds.LIST_UNORDERED,size:I.Sizes.XS,onClick:e=>n(Ue.KOI.UNORDERED_LIST,e),colorState:c(o)})),i.createElement(Y.Z,{key:"number",name:"number",className:s.icon},i.createElement(T.default,{"aria-label":t(Ot.Z.numberedList),title:t(Ot.Z.numberedList),kind:l?I.Kinds.LIST_ORDERED_FLIPPED:I.Kinds.LIST_ORDERED,size:I.Sizes.XS,onClick:e=>n(Ue.KOI.ORDERED_LIST,e),colorState:c(r)}))))}var Nt=s(56148),Lt=s(11583);function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Mt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Pt=b()(At()),bt={bullet:"insertunorderedlist",number:"insertorderedlist",left:"justifyleft",center:"justifycenter",right:"justifyright"};class yt extends i.Component{constructor(...e){super(...e),Mt(this,"state",{bold:!1,italic:!1,underline:!1,strikeThrough:!1,justifyleft:!1,justifycenter:!1,justifyright:!1,insertunorderedlist:!1,insertorderedlist:!1,foreColor:"",backColor:"",fontSize:"0",fontName:""}),Mt(this,"formattoolbar",null),Mt(this,"emojiPicker",null)}updateState(e){this.setState(e)}getFormatState(){return Object.assign({foreColor:E.ZP.DEFAULTS.FG_COLOR,backgroundColor:E.ZP.DEFAULTS.BG_COLOR,fontSize:"0",fontFamily:""},this.props.formatState)}invokeFormatOptions(e,t){const{onExecuteAction:s,focusOnEditor:a,isFreshCompose:n}=this.props;let r,o={};switch(e){case Ue.KOI.FONT_NAME:r=U.JE.COMPOSE_CHOOSE_FONT,o={font:t};break;case Ue.KOI.FONT_SIZE:r=U.JE.COMPOSE_CHOOSE_FONT,o={size:t};break;case Ue.KOI.BOLD:r=U.JE.COMPOSE_BOLD;break;case Ue.KOI.ITALIC:r=U.JE.COMPOSE_ITALIC;break;case Ue.KOI.UNDERLINE:r=U.JE.COMPOSE_UNDERLINE;break;case Ue.KOI.STRIKETHROUGH:r=U.JE.COMPOSE_STRIKETHROUGH_TEXT;break;case Ue.KOI.CREATE_LINK:r=U.JE.COMPOSE_ADD_LINK;break;case Ue.KOI.FORE_COLOR:r=U.JE.COMPOSE_CHOOSE_COLOR,o={setTo:"fg"};break;case Ue.KOI.BACK_COLOR:r=U.JE.COMPOSE_CHOOSE_COLOR,o={setTo:"bg"};break;case Ue.KOI.UNORDERED_LIST:r=U.JE.COMPOSE_CHOOSE_LIST_TYPE,o={setTo:"unordrd"};break;case Ue.KOI.ORDERED_LIST:r=U.JE.COMPOSE_CHOOSE_LIST_TYPE,o={setTo:"ordrd"};break;case Ue.KOI.ALIGN_LEFT:r=U.JE.COMPOSE_ALIGN_TEXT,o={setTo:"lft"};break;case Ue.KOI.ALIGN_RIGHT:r=U.JE.COMPOSE_ALIGN_TEXT,o={setTo:"rght"};break;case Ue.KOI.ALIGN_CENTER:r=U.JE.COMPOSE_ALIGN_TEXT,o={setTo:"cntr"};break;case Ue.KOI.OUTDENT:r=U.JE.COMPOSE_OUTDENT;break;case Ue.KOI.INDENT:r=U.JE.COMPOSE_INDENT}const i={mKey:r,sec:U.nJ.FRMT_TOOLBAR,actionData:{...o,isFreshCompose:n}};s(bt[e]||e,{data:t,i13nModel:i}),a()}render(){const{formatMessage:e}=this.context.intl,{toolbarIsVisible:t,showFormatOptions:s,focusOnEditor:a,addEmoji:n,showEmojiCue:r,isRTL:o}=this.props,{fontSize:l,foreColor:c,fontFamily:d,backgroundColor:_}=this.getFormatState(),{bold:u,italic:m,underline:S,strikeThrough:p,foreColor:C=c,fontSize:A=l,fontName:T=d,backColor:h=_}=this.state,g=e=>({normal:e?I.ColorStates.PRIMARY_HOVER:I.ColorStates.TB_ICON_FILL_COLOR,hovered:e?I.ColorStates.DARKER_PRIMARY_HOVER:I.ColorStates.BATCAVE_GRAY});return s&&t?i.createElement("div",{"data-test-id":"compose-formattoolbar",className:Pt.formatToolbarContainer},i.createElement("ul",{className:Pt.formatToolbar},i.createElement("li",{className:Pt.menuIcon},i.createElement(Lt.Z,{selectedFontSize:A||l,selectedFontFamily:T||d,onFontSizeChange:this.invokeFormatOptions.bind(this,Ue.KOI.FONT_SIZE),onFontFamilyChange:this.invokeFormatOptions.bind(this,Ue.KOI.FONT_NAME),focusBackEditor:a,applyHoverMenuButtonOverride:!0})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:Pt.hoverMenuButton,"data-test-id":"icon-btn-bold",title:e(Ot.Z.bold),"aria-label":e(Ot.Z.bold_icon_label),kind:I.Kinds.BOLD,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.BOLD),colorStates:g(u)})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:Pt.hoverMenuButton,"data-test-id":"icon-btn-italic",title:e(Ot.Z.italic),"aria-label":e(Ot.Z.italic_icon_label),kind:I.Kinds.ITALIC,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.ITALIC),colorStates:g(m)})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:Pt.hoverMenuButton,"data-test-id":"icon-btn-underline",title:e(Ot.Z.underline),"aria-label":e(Ot.Z.underline_icon_label),kind:I.Kinds.UNDERLINE,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.UNDERLINE),colorStates:g(S)})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:Pt.hoverMenuButton,"data-test-id":"icon-btn-strikethrough",title:e(Ot.Z.strikeThrough),"aria-label":e(Ot.Z.strikeThrough),kind:I.Kinds.STRIKETHROUGH,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.STRIKETHROUGH),colorStates:g(p)})),i.createElement("li",{className:Pt.menuIcon},i.createElement(E.ZP,{selectedFGColor:C||c,selectedBGColor:h||_,onFGColorChange:this.invokeFormatOptions.bind(this,Ue.KOI.FORE_COLOR),onBGColorChange:this.invokeFormatOptions.bind(this,Ue.KOI.BACK_COLOR),focusBackEditor:a,applyHoverMenuButtonOverride:!0})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:Pt.hoverMenuButton,"data-test-id":"icon-btn-link",title:e(Ot.Z.link),"aria-label":e(Ot.Z.link_icon_label),kind:I.Kinds.LINK,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.CREATE_LINK),colorStates:g(!1)})),i.createElement("li",{className:Pt.menuIcon},i.createElement(Tt.Z,{ref:e=>this.emojiPicker=e,showEmojiCue:r,focusBackEditor:a,onEmojiClick:n,applyHoverMenuButtonOverride:!0})),i.createElement("li",{className:Pt.menuIcon},i.createElement(Dt,ft({},this.state,{onChange:this.invokeFormatOptions.bind(this),focusBackEditor:a,isRTL:o}))),i.createElement("li",{className:Pt.menuIcon},i.createElement(Rt,ft({},this.state,{onChange:this.invokeFormatOptions.bind(this),focusBackEditor:a,isRTL:o}))),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:pt()(Pt.hoverMenuButton,Pt.rtlRawScaleX),"data-test-id":"icon-btn-indent",title:e(Ot.Z.increaseIndent),"aria-label":e(Ot.Z.increaseIndent),kind:I.Kinds.INDENT,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.INDENT),colorStates:g(!1)})),i.createElement("li",{className:Pt.icon},i.createElement(Nt.Z,{className:pt()(Pt.hoverMenuButton,Pt.rtlRawScaleX),"data-test-id":"icon-btn-outdent",title:e(Ot.Z.decreaseIndent),"aria-label":e(Ot.Z.decreaseIndent),kind:I.Kinds.OUTDENT,size:I.Sizes.XS,onClick:this.invokeFormatOptions.bind(this,Ue.KOI.OUTDENT),colorStates:g(!1)})))):null}}Mt(yt,"contextTypes",{intl:c.intlShape});const vt=(0,a.connect)((e=>{const{isFeatureEnabled:t,getEnvironmentSelectors:s}=(0,ue.selectors)(e),a="rtl"===s().getPageDirection();return{showFormatOptions:t(Ue.ANe.SHOW_FRMT_OPTNS_IN_COMPOSE_HEADER),isRTL:a}}),null,null,{withRef:!0})(yt);var Ft=s(12897),Ut=s(26453),kt=s(51892),wt=s(11310),Gt=s(89963),Ht=s(98360),Bt=s.n(Ht),xt=s(41546);function Vt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Zt=(0,c.defineMessages)({close:{id:"dualActionDialog.close",defaultMessage:"Close"},gdriveLogo:{id:"compose.gdrive_logo",defaultMessage:"Google Drive logo"},dropboxLogo:{id:"compose.dropbox_logo",defaultMessage:"Dropbox logo"},okButton:{id:"largeAttachmentDialog.ok",defaultMessage:"OK"},attachLargeFileFromGDrive:{id:"compose.attachLargeFileFromGDrive.btn",defaultMessage:"Connect Google Drive"},attachLargeFileFromDropbox:{id:"compose.attachLargeFileFromDropbox.btn",defaultMessage:"Connect Dropbox"},bigAttachmentSupport_title:{id:"compose.too_big_attachment_support_title",defaultMessage:"Attach large files from the cloud"}}),Wt={[Ue.hKF.GDRIVE]:(0,xt.A)("/img/google_drive.png"),[Ue.hKF.DROPBOX]:(0,xt.A)("/img/dropbox.png")},Kt={margin:`${4*S.mg$}px ${S.mg$}px ${5*S.mg$}px 0`};class zt extends i.Component{constructor(...e){super(...e),Vt(this,"handlePrimaryButtonClick",(e=>{e.stopPropagation(),this.props.onPrimaryButtonClick(e)})),Vt(this,"handleSecondaryButtonClick",(e=>{e.stopPropagation(),this.props.onSecondaryButtonClick(e)})),Vt(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose(e)}))}render(){const{formatMessage:e}=this.context.intl,{message:t}=this.props,s=b()(Bt());return i.createElement(Gt.Z,{onClose:this.handleClose},i.createElement("div",{className:s.container,"data-test-id":"large-attachment-support-dialog"},i.createElement("div",{className:s.header},i.createElement("div",{className:s.title,"data-test-id":"title"},e(Zt.bigAttachmentSupport_title)),i.createElement("div",{className:s.close},i.createElement(T.default,{onClick:this.handleClose,kind:I.Kinds.CLOSE,size:I.Sizes.XS,title:e(Zt.close),"aria-label":e(Zt.close),"data-test-id":"close-btn"}))),i.createElement("div",{className:s.message,"data-test-id":"message"},t),i.createElement("div",{className:s.linkControls},i.createElement("div",{className:s.btnLogo,onClick:this.handlePrimaryButtonClick},i.createElement("img",{className:s.logo,alt:e(Zt.gdriveLogo),src:Wt[Ue.hKF.GDRIVE]}),i.createElement("a",{className:s.link,"data-test-id":"primary-btn"},e(Zt.attachLargeFileFromGDrive))),i.createElement("div",{className:s.btnLogo,onClick:this.handleSecondaryButtonClick},i.createElement("img",{className:s.logo,alt:e(Zt.dropboxLogo),src:Wt[Ue.hKF.DROPBOX]}),i.createElement("a",{className:s.link,"data-test-id":"secondary-btn"},e(Zt.attachLargeFileFromDropbox)))),i.createElement("div",{className:s.btnControls},i.createElement(p.Z,{onClick:this.handleClose,style:Kt,"data-test-id":"ok-btn"},e(Zt.okButton)))))}}Vt(zt,"contextTypes",{intl:c.intlShape.isRequired}),Vt(zt,"defaultProps",{primaryButtonLabel:Zt.defaultprimaryButtonLabel,secondaryActionLabel:Zt.defaultsecondaryActionLabel});const Yt=zt;var jt=s(40564),qt=s(99124),Xt=s(31057),Qt=s(64059),Jt=s(32440);function $t(e,{csid:t,files:s,newContentIds:a,i13nModel:n}){e.dispatch(ot.FILE_ATTACHMENT_ADDED,{csid:t,files:s,newContentIds:a,i13nModel:n})}var es=s(61149),ts=s(77201),ss=(s(42655),s(29824)),as=s(40959),ns=s.n(as),rs=s(30982),os=s(23493),is=s.n(os),ls=s(549),cs=s(70582),ds=s(62760),_s=s(74630),Es=s(17673);function us(e){0===e.indexOf("mailto:")&&(e=e.substring(7));const t=function(e){if(e&&e.length){const t=e.indexOf("?");if(t>-1&&(e=e.substring(0,t)),e.length){if(0===(e=e.toLowerCase()).indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return"";if((0,Ae.isValidEmail)(e))return e}}return""}(e),s=e.indexOf("?");s>-1&&(e=e.substring(s+1));const a=Es.parse(e);return t&&Object.assign(a,{to:t}),["to","cc","bcc"].forEach((e=>{const t=a[e];t&&"string"==typeof t&&(a[e]=[].concat(t))})),["subject","body"].forEach((e=>{const t=a[e];t&&Array.isArray(t)&&(a[e]=t.pop())})),a}var ms=s(35456),Ss=s(8106),ps=s(7187),Cs=s.n(ps);const As="<div><br/></div>",Ts=["font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;","font-size:13px;","color:#26282a;"].join(""),Is=/^((?:re|fwd?): )*/i,hs=(e=[])=>{const t={},s=[];return e.forEach((e=>{t[e.email]||(t[e.email]=!0,s.push(e))})),s},gs=(e,t,{getForwardAttachmentIds:s,getAttachmentById:a})=>{const n=s(e)||[];return n.length&&(t.forwardAttachmentAdded=!0),n.forEach((({id:e})=>{const s=a(e),{disposition:n}=s;n===Ue.sSc.Dispositions.ATTACHMENT?t.attachmentsInfo=[...t.attachmentsInfo,s]:t.canApplyDefaultStationery=!1})),t},Os=({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n})=>r=>{const o=(({accounts:e=[],listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r)=>{const{getFeaturesSelectors:o,getMrdParams:i,getAdsSelectors:l,doesComposeSessionExist:c,findUnsyncedDataByCsid:d,doComposeFromRouteQueryParams:_,doComposeFromMailToLink:E,getComposeMailToLink:u,getDraftMessageId:m,getForwardCreativeId:S,isReplyOrReplyAll:p,getReplyingToMessageId:C,getSubjectAndSnippetSelectors:A,getMessageFromAddress:T,getMessageToAddress:I,getMessageCcAddress:h,getMessageBccAddress:O,getMessageTimeStamp:D,doesMessageBodyExist:R,getReplyToAddress:N,isReplyMessage:L,isReplyAllMessage:f,isForwardMessage:M,isMyEmailAddress:P,getAttachmentsByMessageId:b,getSignatureByAccountEmail:y,getMessageBody:v,getStationeryTheme:F,getComposeUndoStack:U,getComposeRedoStack:k,getComposeUiState:w,getTimeZoneName:G,getComposeSessionsSelectors:H,isSelectedAccount:B,getYaiRetroComposeMessage:x}=a,V=`${cs.dj}_${s}`,Z=o().isEnabled(Ue.ANe.PERSIST_COMPOSE_TEXT_MODE),W={from:(0,g.getFromAddress)(e),to:[],cc:[],bcc:[],subject:"",body:"",canApplyDefaultStationery:!0,stationeryTheme:"",attachmentsInfo:[],htmlAnnotations:[{divIds:[V]}],uiState:{useRichText:!Z||o().getSetting(Ue.Zrf.USE_RICH_TEXT),isQuotedTextExpanded:!1},undoStack:[],redoStack:[]},K=o("conversations"),z=y(W.from.email),Y=F(s);let j="";if(Y!==Se.NO_STATIONERY&&(W.stationeryTheme=Y),W.stationeryTheme||(W.stationeryTheme=o().getSetting(Ue.Zrf.STATIONERY_DEFAULT_THEME)),z&&(j=`<div><br/></div><div><br/></div><div class="signature">${z}</div>`),!c(s))return j&&(W.body+=`<div>${j}</div>`),W;const q=m(s),{getSubject:X}=A(),Q=d(s);if(Q)return W.from=Q.from||W.from,W.to=Q.to||W.to,W.cc=Q.cc||W.cc,W.bcc=Q.bcc||W.bcc,W.subject=Q.subject||W.subject,W.body=Q.html||(Q.text?`<div>${Cs()(Q.text)}</div>`:W.body),W.canApplyDefaultStationery=!W.body,W.attachmentsInfo=Q.attachmentsInfo||W.attachmentsInfo,W.uiState=Q.uiState||W.uiState,W.stationeryTheme=Q.stationeryTheme||W.stationeryTheme,W.undoStack=Q.undoStack||W.undoStack,W.redoStack=Q.redoStack||W.redoStack,gs(s,W,a);if(q){const{html:n="",text:r="",htmlAnnotations:o=[]}=R(q)?v(q):{},i=T(q)||[];return W.from=(0,g.getFromAddress)(e,(i[0]||{}).email),W.to=I(q),W.cc=h(q),W.bcc=O(q),W.subject=(0,ds.bR)(X(q,t)||""),W.body=n||`<div>${Cs()(r)}</div>`,W.canApplyDefaultStationery=!W.body,W.htmlAnnotations=o,W.attachmentsInfo=b(q),W.stationeryTheme=F(s)||W.stationeryTheme,W.undoStack=U(s)||[],W.redoStack=k(s)||[],W.uiState=w(s)||W.uiState,gs(s,W,a)}if(_(s)){var J;const e=i();return W.to=e.initialTo||[],W.cc=e.initialCc||[],W.bcc=e.initialBcc||[],W.subject=e.initialSubject||"",W.body=(null===(J=e.initialBody)||void 0===J?void 0:J.content)||(j?`<div>${j}</div>`:""),W.canApplyDefaultStationery=!0,W.stationeryTheme=e.initialStationeryTheme||W.stationeryTheme,W.showGIFPicker=e.showGIFPicker,W.showStationeryPicker=e.showStationeryPicker,W}if(E(s)){const e=us(u(s)||"");return{...W,to:(e.to||[]).map((e=>({email:e}))),cc:(e.cc||[]).map((e=>({email:e}))),bcc:(e.bcc||[]).map((e=>({email:e}))),subject:e.subject||"",body:e.body||(j?`<div>${j}</div>`:""),canApplyDefaultStationery:!0}}const{formatMessage:$}=r.intl,ee=S(s);if(ee){const{nativeAd:e={},pencilAd:t={}}=l().getSponsoredAd(ee);return W.subject=t.adHeadline||"",W.body=[`<div><br/></div>\n            <div><br/></div>\n            <div><br/></div>\n            <div style="${Ts}">\n                <div>----- ${$(Ot.Z.forwarded_message)} -----</div>\n                <div><br/></div>\n                <div>${e.geminiSponsoredAsset||""}</div>\n            </div>`].join(""),W.body+=`<div>${j}</div>`,W.canApplyDefaultStationery=!1,W}gs(s,W,a);const te=C(s),se=Object.assign({timeZone:G()},Se.FORMAT_DATE_OPTION);if(te){const a=L(s),i=f(s),l=M(s),c=[...N(te)]||[],d=T(te)||[],_=Boolean(!!w(s)&&w(s).isQuotedTextExpanded);c.length&&!c.name&&d.length&&c[0].email===d[0].email&&(c[0].name=d[0].name);const E=I(te),u=h(te),m=O(te);W.from=(0,g.getFromAddressForReplyForward)(e,{to:E,cc:u,bcc:m});let S="",C="",A="";if(o().isEnabled(Ue.ANe.YAI_RETRO_COMPOSE)){const e=x();S=e.messageId||"";const t=e.retroCompose||{};C=t.body||"",A=t.return_address||""}if(a||i){const e=-1!==d.findIndex((e=>P(e.email))),t=-1!==c.findIndex((e=>P(e.email)));if(a){const s=-1!==d.findIndex((e=>B(e.email)));W.to=e&&(!c.length||t&&s)?E.slice(0,1):[...c,...d].slice(0,1)}else if(i){const s=-1!==E.findIndex((e=>P(e.email))),a=(e||t)&&s?[...c,...d].find((e=>P(e.email))):[];W.to=hs([...E,...t?[]:c,...c.length||e?[]:d].filter((e=>e.email!==W.from.email)).concat(a)),W.cc=hs([...u].filter((e=>e.email!==W.from.email)).filter((e=>!W.to.find((t=>t.email===e.email)))))}}else S===te&&A&&(W.to=[{email:A}]);const R=(0,ds.bR)(X(te,t)||"");if(R){const e=p(s)?"Re: ":"Fw: ";W.subject=e+R.replace(Is,"")}const y=r.intl.formatDate(1e3*D(te),se),{html:F=""}=v(te),U=[];if(d.length)if(K&&p(s)){const{name:e="",email:t}=d[0];U.push(`<div>\n                    ${(0,_s.g)($(Ot.Z.quoted_draft,{date:y,quotedName:e,quotedAddress:t}))}\n                </div>\n                <div><br/></div>\n                <div><br/></div>`)}else U.push(`<div>${$(Ot.Z.quoted_message_from,{from:(0,_s.g)((0,g.addressHTMLString)(d[0]))})}</div>`),E.length&&U.push(`<div>${$(Ot.Z.quoted_message_to,{to:(0,_s.g)(E.map(g.addressHTMLString).join("; "))})}</div>`),u.length&&U.push(`<div>${$(Ot.Z.quoted_message_cc,{cc:(0,_s.g)(u.map(g.addressHTMLString).join("; "))})}</div>`),U.push(`<div>${$(Ot.Z.quoted_message_sentdate,{sentDate:y})}</div>`,`<div>${$(Ot.Z.quoted_message_subject,{subject:Cs()(R)})}</div>`,As);const k=p(s)?"":`<div>----- ${$(Ot.Z.forwarded_message)} -----</div>`,G=K?"":"<hr/>";let H=F;return o().isEnabled(Ue.ANe.CEP_FORWARD)&&l&&!_&&-1===F.indexOf(`<div fwdid=${s} src='mid://${te}'>`)&&(H=[`<div fwdid=${s} src='mid://${te}'>`,F,"</div>"].join("")),W.body=[n?`<div>${n}&nbsp;</div>`:"",S===te&&C?`<div>${C.replace(/\n/g,"<br>")}&nbsp;</div>`:"",`<div>${j}</div>\n        <div><br/></div><div><br/></div>\n        ${G}\n        <div id="${(0,_s.b)(V)}" class="${cs.dj}">\n            <div style="${Ts}">\n                ${k}\n                ${U.join("")}\n                <div>${H}</div>\n            </div>\n        </div>`].join(""),W.canApplyDefaultStationery=!0,W.attachmentsInfo=p(s)?[]:b(te),W}const ae=H().getComposeParams(s);return ae&&(W.to=ae.to||[],W.body=ae.body||W.body,W.subject=ae.subject||W.subject,W.isDirty=!0,W.feedbackImgs=ae.feedbackImgs||[],W.feedbackFiles=ae.feedbackFiles||[]),j&&(W.body+=`<div>${j}</div>`),W.stationeryTheme&&Y!==Se.NO_STATIONERY&&(W.showStationeryPicker=!0),W})({accounts:e,listId:t,csid:s,selectors:a,selectedReplySuggestion:n},r);return(0,Ss.jU)()&&(o.uiState.useRichText?o.body=(0,ms.ZK)(o.body,a):o.body=(0,ms.iT)(o.body)),o};var Ds=s(12630),Rs=s(99691),Ns=s(72942),Ls=s(90108),fs=s(62639),Ms=s(77163),Ps=s(1191),bs=s(4119),ys=s(62631),vs=s(98852),Fs=s(78735),Us=s(79483),ks=s(63465),ws=s(32443);function Gs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Hs=Ue.nuI.Status,Bs=Ue.AGu.Modes,{Dispositions:xs}=Ue.sSc,Vs={[ot.COMPOSE_NO_ADDRESS_DETECTED]:Ls.$6,[ot.COMPOSE_ADDRESSING_FAILED]:Ls.$i,[ot.COMPOSE_RECIPIENT_LIMIT_EXCEEDED]:Ls.s7},Zs=()=>{},Ws=b()(ns()),Ks={_data:{},get(e){return this._data[e]||{}},set(e,t={}){this._data[e]||(this._data[e]={}),Object.assign(this._data[e],t)}};class zs extends i.Component{constructor(e,t){super(e,t),Gs(this,"restoreCursorPosition",((e=!1)=>{const{cursorPositionDetails:t}=Ks.get(this.props.csid),s=t&&t.pathToNode||[],a=t&&t.anchorNodeIndex,n=t&&t.cursorWithinQuotedText||!1;if(s.length&&a>-1){let t=null;if(n){if(e){const e=(0,l.findDOMNode)(this.refs.editorContainer).querySelector("[class$=yahoo_quoted]");t=ts.Z.getNodeFromPath(e,s)}}else t=ts.Z.getNodeFromPath(this.refs.editor.getRTEWrappedElement()||this.refs.editor.getRTEDOMNode(),s);if(t&&ts.Z.isValidStartOffsetForNode(t,a)){t.parentNode.scrollIntoView();const e=document.createRange(),s=window.getSelection();return e.setStart(t,a),e.collapse(!0),s.removeAllRanges(),void s.addRange(e)}}})),Gs(this,"_updateWidth",(()=>{const e=(0,l.findDOMNode)(this.container),t=e&&e.getBoundingClientRect();t&&this.setState({composeWidth:t.width,composeLeft:t.left})})),Gs(this,"_restoreScrollPosition",(e=>{(0,l.findDOMNode)(this.refs.editorContainer).scrollTop=e})),Gs(this,"_handleWindowResize",(()=>{this._updateWidth(),this.props.onResize()})),Gs(this,"onChange",((e,t={})=>{this.spellCheckActive()&&this.endSpellCheck(),t.type&&(0,Ds.Z)(t),t.skipContentChanged||(this.lastEditedTimeStamp=Date.now(),this.props.onChange({...e,lastEditedTimeStamp:this.lastEditedTimeStamp},t),this.newContentIds=[])})),Gs(this,"isSessionDirty",(()=>{const{isComposeSessionDirty:e,csid:t}=this.props;return e({csid:t,lastEditedTimeStamp:this.lastEditedTimeStamp})})),Gs(this,"updateComposeHeaderFormatToolbarVisibility",(e=>{this.setState({canShowFormatToolbarInComposeHeader:e}),this.props.changeSettings({name:Ue.Zrf.HIDE_FORMAT_TOOLBAR,value:e?0:1,i13nModel:{mKey:e?U.JE.TOGGLE_TO_SHOW_FORMAT_TOOLBAR:U.JE.TOGGLE_TO_HIDE_FORMAT_TOOLBAR,sec:U.nJ.COMPOSE_TOOLBAR}})})),Gs(this,"handleHeaderChange",(e=>{const{from:t,to:s,cc:a,bcc:n,subject:r}=e;this.from=t,this.to=s,this.cc=a,this.bcc=n,this.subject=r,this.onChange(this._getUserInputtedValues(),{type:"header_changed"})})),Gs(this,"getUnsyncedData",(()=>({type:Ue.sKi.COMPOSE,id:this.props.csid,userInputtedValues:this._getUserInputtedValues()}))),Gs(this,"handleEditSubject",(()=>{const{csid:e,isCompactCompose:t,onEditSubject:s}=this.props;this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.lastEditedTimeStamp=Date.now(),t?s({csid:e,isReplyingMessageSubjectEdited:!0}):this.context.navigateTo({route:(0,ke.Rl)(e),isReplyingMessageSubjectEdited:!0})})),Gs(this,"handleEditorContentChange",(e=>{const{format:t,caret:s,type:a}=e;(0,Fe.wU)(this.formatState,t)||(this.formatState={...this.formatState,...t}),this.onChange(this._getUserInputtedValues(),e),this.props.onContentChanged({caret:s,type:a})})),Gs(this,"_getUserInputtedValues",(()=>{const e=this.refs.editor.getUndoStack(),t=this.refs.editor.getRedoStack();return{csid:this.props.csid,from:this.from,to:this.to,cc:this.cc,bcc:this.bcc,subject:this.subject,html:this.refs.editor.getRawMessageContent(),htmlAnnotations:this.htmlAnnotations,attachmentsInfo:this.attachmentsInfo,rawFiles:this.rawFiles,newContentIds:this.newContentIds,lastEditedTimeStamp:this.lastEditedTimeStamp,uiState:this.uiState,stationeryTheme:this.stationeryTheme||Se.NO_STATIONERY,undoStack:e,redoStack:t}})),Gs(this,"deleteDraftFromDraftActionsBar",(()=>{const{csid:e,onDraftDelete:t,showConfirmationOnDraftDelete:s}=this.props,a={csid:e,i13nModel:{mKey:U.JE.DELETE_DRAFT,sec:U.nJ.COMPOSE_CONFIRM_DLG,interactionType:U.Rb.click}};s?(0,ls.C)(i.createElement(wt.Z,{title:Ot.Z.draftDeleteConfirmTitle,message:Ot.Z.draftDeleteConfirmMessage,primaryButtonLabel:Ot.Z.deleteBtn,secondaryButtonLabel:Ot.Z.keepWritingBtn,overridingClass:{primaryButtonClass:Ws.deleteButton},onPrimaryButtonClick:()=>t(a),onSecondaryButtonClick:this.keepWriting,onClose:()=>this.focusOnSubject()}),this.context):t(a)})),Gs(this,"deleteDraftFromComposeToolbarIconBtn",(()=>{const{csid:e,onDraftDelete:t}=this.props,s=this.shouldshowConfirmationOnDeleteClick(),a={csid:e,i13nModel:{mKey:U.JE.DELETE_DRAFT,sec:U.nJ.COMPOSE_TOOLBAR,interactionType:U.Rb.click}};s?(0,ls.C)(i.createElement(wt.Z,{title:this.context.intl.formatMessage(Ot.Z.confirmDeleteTitle),message:this.context.intl.formatMessage(Ot.Z.delete_confirm),primaryButtonLabel:Ot.Z.confirmBtn,secondaryButtonLabel:Ot.Z.cancelBtn,onPrimaryButtonClick:()=>t(a),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject()}),this.context):t(a)})),Gs(this,"deleteDraft",(()=>{const{enhancedCompose:e}=this.props;e?this.deleteDraftFromDraftActionsBar():this.deleteDraftFromComposeToolbarIconBtn()})),Gs(this,"send",((e={})=>{var t;const{i13nModel:s={},forcedSend:a=!1,includeOriginalAttachments:n=!1}=e,{getSavedAttachment:r,getOriginalAttachments:o,csid:l,validReplyToAddresses:c,isCompactCompose:d,showInvalidReplyToAddressAlert:_,mailActionTimeDetails:E,composeMode:u}=this.props,{locale:m}=this.context.intl,S=o(l),p=this._getUserInputtedValues(),C=this.props.getDraftErrors(p),A=this.attachmentsInfo.map((e=>r(e)));let T=null;const{fromCompactToFullScrn:I,actionTimestamp:h}=E||{};T=I?Date.now()-I:Date.now()-h,s.actionData||(s.actionData={}),u===Bs.NEW&&(s.actionData.TTC=T),u!==Bs.REPLY&&u!==Bs.FORWARD&&u!==Bs.REPLY_ALL||(s.actionData.TTR=T);if(C){const{name:e,params:t}=C;return void(Vs[e]&&this.context.toast({data:t,message:Vs[e]}))}const g=null==p||null===(t=p.from)||void 0===t?void 0:t.replyToAddress;if(g&&!c.some((e=>e===g)))return void _();if(!a&&this.props.shouldShowEmptySubjectAlert(p))return void(0,ls.C)(i.createElement(wt.Z,{title:this.context.intl.formatMessage(Ot.Z.emptySubjectAlert),primaryButtonLabel:Ot.Z.emptySubjectAlertSend,secondaryButtonLabel:Ot.Z.emptySubjectAlertCancel,onPrimaryButtonClick:()=>this.send({forcedSend:!0}),onSecondaryButtonClick:()=>this.focusOnSubject(),onClose:()=>this.focusOnSubject(),hideIcon:!0}),this.context);if(!a&&this.props.shouldShowIncludeOriginalAttachmentsAlert(p))return void(0,ls.C)(i.createElement(wt.Z,{title:this.context.intl.formatMessage(Ot.Z.includeOriginalAttachmentsAlert),message:this.context.intl.formatMessage(Ot.Z.includeOriginalAttachmentsAlertMsg),primaryButtonLabel:Ot.Z.includeOriginalAttachmentsAlertYes,secondaryButtonLabel:Ot.Z.includeOriginalAttachmentsAlertNo,onPrimaryButtonClick:()=>{this.attachmentsInfo=S.concat(this.attachmentsInfo),this.onChange(this._getUserInputtedValues()),this.send({forcedSend:!0,includeOriginalAttachments:!0})},onSecondaryButtonClick:()=>this.send({forcedSend:!0,includeOriginalAttachments:!1}),onClose:()=>{},hideIcon:!0,dataTestId:"include-original-attachment"}),this.context);if(A.filter((({filename:e})=>!(0,Rs.wt)(e))).length)return(0,ls.C)(i.createElement(kt.Z,{title:this.context.intl.formatMessage(Ot.Z.error_title),message:this.unSupportedAttachmentAlertMessage(),helpLink:(0,Ue.ITc)(m),onAccept:()=>{},onClose:()=>{}}),this.context);if(this.props.isSpellCheckEnabled)if(this.props.spellCheckBeforeSend){if(!e.noSpellCheck)return void(this.spellCheckActive()?this.spellCheckAction(Se.SpellCheckActions.SPELLCHECK_BEFORE_SEND_ERRORS):this.handleToolbarAction(Se.ToolbarActions.SPELL_CHECK,{data:{spellCheckBeforeSend:!0}}))}else this.endSpellCheck();this.props.isYaiRetroCompose&&Us.ZP.sendI13nModel({i13nModel:{mKey:U.JE.YAI_RETRO_SEND,sec:U.nJ.COMPOSE_TOOLBAR}}),(()=>{this.props.onSend({includeOriginalAttachments:n,isCompactCompose:d,...p,i13nModel:{mKey:U.JE.SEND,sec:U.nJ.COMPOSE_TOOLBAR,...s}})})()})),Gs(this,"unSupportedAttachmentAlertMessage",(()=>{const{formatMessage:e,locale:t}=this.context.intl,s=e(Ot.Z.unsupportedFileType);return i.createElement("div",null,s,i.createElement(p.Z,{kind:C.F.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>(0,Qt.x)((0,Ue.ITc)(t))},i.createElement("span",{className:Ws.button},i.createElement(c.FormattedMessage,{id:"alert.learn_more_url",defaultMessage:"Learn more"}))))})),Gs(this,"getThemeConfig",(()=>(0,fs.I)(this.stationeryTheme,this.props.stationeryDefaultTheme))),Gs(this,"endSpellCheck",(()=>{var e,t;this.props.isSpellCheckEnabled&&this.spellCheckActive()&&(null===(e=this.refs)||void 0===e||null===(t=e.editor)||void 0===t||t.endSpellCheck())})),Gs(this,"spellCheckActive",(e=>{var t;return!!this.props.isSpellCheckEnabled&&("boolean"==typeof e&&(this.setState({spellCheckActive:e}),this.state.spellCheckActive=e),null===(t=this.state)||void 0===t?void 0:t.spellCheckActive)})),Gs(this,"spellCheckAction",(e=>{const{formatMessage:t}=this.context.intl;switch(e){case Se.SpellCheckActions.END_SPELLCHECK_SYNC_STATE:this.onChange(this._getUserInputtedValues());break;case Se.SpellCheckActions.PERFECT_SPELLING:(0,ls.C)(i.createElement(kt.Z,{title:t(Ot.Z.perfectSpellingTitle),message:t(Ot.Z.perfectSpellingMessage),hideIcon:!0,onAccept:Zs}),this.context);break;case Se.SpellCheckActions.SPELLCHECK_BEFORE_SEND_NO_ERRORS:this.send({noSpellCheck:!0,forcedSend:!0});break;case Se.SpellCheckActions.SPELLCHECK_BEFORE_SEND_ERRORS:(0,ls.C)(i.createElement(wt.Z,{title:t(Ot.Z.spellingCheckOnSendTitle),message:t(Ot.Z.spellingCheckOnSendMessage),primaryButtonLabel:Ot.Z.spellingCheckOnSendReviewBtn,secondaryButtonLabel:Ot.Z.spellingCheckOnSendNowBtn,onPrimaryButtonClick:Zs,onSecondaryButtonClick:()=>{this.onChange(this._getUserInputtedValues()),this.send({noSpellCheck:!0,forcedSend:!0})},onClose:Zs,hideIcon:!0}),this.context);break;case Se.SpellCheckActions.SPELLCHECK_BEFORE_SEND_CORRECTED:(0,ls.C)(i.createElement(wt.Z,{title:t(Ot.Z.perfectSpellingTitle),message:t(Ot.Z.spellingCheckOnSendMessageCorrected),primaryButtonLabel:Ot.Z.compose_dialog_ok,secondaryButtonLabel:Ot.Z.compose_dialog_cancel,onPrimaryButtonClick:()=>this.send({noSpellCheck:!0,forcedSend:!0}),onSecondaryButtonClick:Zs,onClose:Zs,hideIcon:!0}),this.context)}})),Gs(this,"execEditorCommand",((e,t)=>{switch(e){case Se.ToolbarActions.PLAIN_TEXT:this.stationeryTheme=Se.NO_STATIONERY,this.execEditorCommand(Se.ToolbarActions.UPDATE_STATIONERY,null),this.refs.editor.expandQuote(),this.uiState.useRichText=!1,this.forceUpdate();break;case Se.ToolbarActions.RICH_TEXT:this.uiState.useRichText=!0;break;case Se.ToolbarActions.UPDATE_STATIONERY:this.stationeryTheme=t?t.themeName:Se.NO_STATIONERY;break;case Se.ToolbarActions.FONT_NAME:this.formatState={...this.formatState,fontFamily:t};break;case Se.ToolbarActions.FONT_SIZE:this.formatState={...this.formatState,fontSize:t};break;case Se.ToolbarActions.SPELL_CHECK:this.spellCheckActive(!this.spellCheckActive())}const s=document.activeElement;if(this.refs.editor.rte.focus(),this.refs.editor.rte.pushButton(e,t),e===Se.ToolbarActions.INSERT_ORDERED_LIST){const e=window.getSelection().focusNode;if(e&&"FONT"===e.nodeName&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=window.getComputedStyle(e).fontFamily,s=window.getComputedStyle(e).fontSize;e.parentNode.style.fontFamily=t,e.parentNode.style.fontSize=s}if(e&&e.parentNode&&"LI"===e.parentNode.nodeName){const t=e.parentNode;window.getComputedStyle(t).fontSize===bs.N4.HUGE&&t.parentNode&&"OL"===t.parentNode.nodeName&&(t.parentNode.style.paddingLeft="1em")}}e===Se.ToolbarActions.UPDATE_STATIONERY&&this.refs.editor.rte.focus(),s.focus()})),Gs(this,"handleToolbarAction",((e,t={})=>{const{data:s,i13nModel:a}=t;switch(a&&this.props.handleToolbarActions({i13nModel:a}),e){case Se.ToolbarActions.FILE_SELECT:this.addFileAttachments(s);break;case Se.ToolbarActions.FILE_SELECT_BTN_CLICKED:break;case Se.ToolbarActions.SEND:this.send();break;case Se.ToolbarActions.DELETE_DRAFT:this.deleteDraft();break;case Se.ToolbarActions.CREATE_LINK:this.execEditorCommand(e,"");break;case Se.ToolbarActions.PLAIN_TEXT:return void this._renderPlainTextWarning();case Se.ToolbarActions.RICH_TEXT:return void this._switchToRichText(s);default:this.execEditorCommand(e,s)}})),Gs(this,"_renderPlainTextWarning",(()=>{const{formatMessage:e}=this.context.intl;(0,ls.C)(i.createElement(wt.Z,{title:e(Ot.Z.switch_to_plain_text_warning_title),message:e(Ot.Z.switch_to_plain_text_message),primaryButtonLabel:Ot.Z.compose_dialog_ok,secondaryButtonLabel:Ot.Z.compose_dialog_cancel,onPrimaryButtonClick:()=>this._switchToPlainText(),onSecondaryButtonClick:Zs,onClose:Zs,hideIcon:!0}),this.context)})),Gs(this,"_renderLargeAttachmentDialog",(()=>{const{cloudStorageEnabled:e}=this.props,t=this.context.intl.formatMessage(e?Ot.Z.bigAttachmentSupport:Ot.Z.bigAttachment,{maxFileSize:25});(0,ls.C)(e?i.createElement(Yt,{message:t,onPrimaryButtonClick:()=>this.openAttachFilesPopover(Ue.hKF.GDRIVE),onSecondaryButtonClick:()=>this.openAttachFilesPopover(Ue.hKF.DROPBOX),onClose:Zs}):i.createElement(kt.Z,{title:this.context.intl.formatMessage(Ot.Z.error_title),message:t,onAccept:Zs,onClose:Zs}),this.context)})),Gs(this,"_switchToRichText",(e=>{this.props.changeSettings({name:Ue.Zrf.USE_RICH_TEXT,value:!0}),this.execEditorCommand(Se.ToolbarActions.RICH_TEXT,e)})),Gs(this,"_switchToPlainText",(()=>{this.props.changeSettings({name:Ue.Zrf.USE_RICH_TEXT,value:!1}),this.execEditorCommand(Se.ToolbarActions.PLAIN_TEXT)})),Gs(this,"_handleStationeryDefaultThemeChange",(e=>{this.props.changeSettings({name:Ue.Zrf.STATIONERY_DEFAULT_THEME,value:e}),""===e&&(this.stationeryTheme=Se.NO_STATIONERY)})),Gs(this,"handleComposePopOut",(e=>{const{csid:t,onComposePopOut:s=Zs}=this.props;s({csid:t,i13nModel:{mKey:U.JE.COMPOSE_POP_OUT,sec:U.nJ.COMPOSE_TOPBAR,interactionType:(0,Ae.getInteractionFromEvent)(e)}})})),Gs(this,"handleClose",(()=>{const{csid:e,showConfirmationOnDraftClose:t,onClose:s=Zs}=this.props,a=this.isSessionDirty();return(0,vs.v)({csid:e,showConfirmationOnDraftClose:t,isComposeDirty:a,originalOnCloseHandler:()=>{s({csid:e,i13nModel:{mKey:U.JE.CANCEL_COMPOSE,sec:U.nJ.COMPOSE_TOPBAR,interactionType:U.Rb.click}})},context:this.context})})),Gs(this,"handleDrop",(e=>{const{ATTACHMENT:t,INLINE:s}=Ue.sSc.Dispositions,a={[t]:[],[s]:[]};e.forEach((e=>a[(0,g.getAttachmentDisposition)(e)].push(e))),a[t].length&&this.addFileAttachments(a[t]),a[s].length&&this.addInlineAttachments(a[s])})),Gs(this,"openAttachFilesPopover",(e=>{const t=this.uploaderRef.current;t&&t.getWrappedInstance()&&t.getWrappedInstance().handleOpenPopover(e)})),Gs(this,"addAttachments",((e,t,{disposition:s,i13nModel:a})=>{const n=s===xs.ATTACHMENT?e.map(Rs._n):e.map(Rs.N3);if(!this.isValidAttachmentsSize(e)){const e=n.map((({filename:e,size:t,type:s})=>({sizeInMB:(t/1024/1024).toFixed(0),type:s,extension:(e||"").split(".").pop()})));return this.props.addBigAttachment({i13nModel:{sec:U.nJ.COMPOSE_TOOLBAR,mKey:U.JE.COMPOSE_ADD_BIG_ATTACHMENT,actionData:{bigAttachmentInfo:e}}}),this._renderLargeAttachmentDialog()}n.filter((({disposition:e,isFromDataURI:t=!1})=>e===xs.INLINE&&!t)).forEach((e=>this.insertInlineAttachment(e))),this.newContentIds=n.map((e=>e.contentId)),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce(((t,s,a)=>({...t,[s]:e[a]})),this.rawFiles),this.onChange({...this._getUserInputtedValues(),files:e,i13nModel:Object.assign({interactionType:U.Rb.click},a)},{type:t,skipContentChanged:"addInlineAttachment"===t})})),Gs(this,"addInlineTemplateAttachments",((e,t,{i13nModel:s},a)=>{if(!this.isValidAttachmentsSize(e))return this.props.addBigAttachment(),this._renderLargeAttachmentDialog();const n=e.map(Rs.N3).filter((({disposition:e,isFromDataURI:t=!1})=>e===xs.INLINE&&!t));n.forEach((e=>{this.insertTemplateAttachment(e,a)})),this.newContentIds=n.map((e=>e.contentId)),this.attachmentsInfo=this.attachmentsInfo.concat(n),this.rawFiles=this.newContentIds.reduce(((t,s,a)=>({...t,[s]:e[a]})),this.rawFiles),this.onChange({...this._getUserInputtedValues(),files:e,i13nModel:Object.assign({interactionType:U.Rb.click},s)},{type:t,skipContentChanged:"addInlineAttachment"===t})})),Gs(this,"addInlineAttachments",(e=>{this.uiState.useRichText?this.addAttachments(e,"addInlineAttachment",{disposition:xs.INLINE,i13nModel:{mKey:U.JE.COMPOSE_DRAG_ATTACHMENT,sec:U.nJ.COMPOSE_MSG}}):this.addFileAttachments(e)})),Gs(this,"isValidAttachmentsSize",(e=>{const t=e.concat(this.attachmentsInfo);return this.getAttachmentSize(t)<=26214400})),Gs(this,"handleAttachmentFromRecentFiles",(e=>{if(!e)return;if(this.attachmentsInfo.some((({id:t})=>t===e.id)))return void this.context.toast({role:Ue._tT.STATUS,message:Ls.U4});const t=e;return this.isValidAttachmentsSize([t])?t.disposition===xs.INLINE?(this.insertInlineAttachment(t),void(this.attachmentsInfo=this.attachmentsInfo.concat(t))):(this.attachmentsInfo=this.attachmentsInfo.concat(t),this.onChange({...this._getUserInputtedValues(),files:[t],i13nModel:{mKey:U.JE.COMPOSE_ADD_ATTACHMENT,sec:U.nJ.COMPOSE_ATTACH_FILES_MENU,interactionType:U.Rb.click}},{type:"addAttachmentFromRecentFile"}),this.forceUpdate(),void setTimeout((()=>{const e=(0,l.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()}),0)):(this.props.addBigAttachment(),this._renderLargeAttachmentDialog())})),Gs(this,"getAttachmentSize",(e=>e.length?e.reduce(((e,{size:t=0})=>e+t),0):0)),Gs(this,"moveImageAttachmentInline",(e=>{this.attachmentsInfo=this.attachmentsInfo.map((t=>t.contentId===e.contentId?{...t,disposition:xs.INLINE}:t)),this.insertInlineAttachment(e),this.onChange(this._getUserInputtedValues(),{type:"attachment_to_inline"}),this.forceUpdate()})),Gs(this,"addFileAttachments",(e=>{this.addAttachments(e,"addAttachment",{disposition:xs.ATTACHMENT,i13nModel:{mKey:U.JE.COMPOSE_ADD_ATTACHMENT,sec:U.nJ.COMPOSE_TOOLBAR}}),setTimeout((()=>{const e=(0,l.findDOMNode)(this._attachmentTray);return e&&e.scrollIntoView()}),0)})),Gs(this,"handleAttachmentRemoval",(e=>{this.attachmentsInfo=this.attachmentsInfo.filter((({contentId:t})=>t!==e.contentId)),this.onChange({...this._getUserInputtedValues(),removedContentIds:[e.contentId]},{type:"attachment_removed"})})),Gs(this,"handleInlineAttachmentRemoval",(e=>{this.attachmentsInfo=this.attachmentsInfo.filter((({contentId:t,disposition:s})=>!(t===e&&s===xs.INLINE))),this.onChange({...this._getUserInputtedValues(),removedContentIds:[e]},{type:Se.EDITOR_EVENTS.inline_image_removed})})),Gs(this,"moveInlineAttachmentToTray",((e,t)=>{this.attachmentsInfo=this.attachmentsInfo.map((e=>e.contentId===t?{...e,disposition:xs.ATTACHMENT}:e)),this.onChange(this._getUserInputtedValues(),{type:"inlined_attachment_to_tray"})})),Gs(this,"handleAttachmentTray",(e=>{const t=document.createElement("input");t.type="file",t.multiple=!0,t.id="inputFile",t.click(),t.addEventListener("change",(t=>{const s=Array.prototype.slice.call(t.target.files);this.handleAttachmentTrayAdd(s,e)}))})),Gs(this,"handleAttachmentTrayAdd",((e,t)=>{this.context.executeAction($t,{files:e,csid:t,i13nModel:{mKey:U.JE.COMPOSE_ADD_ATTACHMENT,sec:U.nJ.COMPOSE_TOOLBAR,interactionType:U.Rb.shortcut}})})),Gs(this,"getDraftStatus",(()=>{if(this.lastEditedTimeStamp)return this.props.getDraftStatus(this._getUserInputtedValues())})),Gs(this,"renderEmojiPreloader",(()=>i.createElement(M.cr,{bundleName:"lazy_group2",import:"../emoji_picker/emoji_preloader",_moduleLoader:function(){return Promise.all([s.e(567),s.e(340)]).then(s.bind(s,30381))},_moduleResolver:function(){return 30381}}))),Gs(this,"onMoreMenuClick",(()=>{const e={mKey:U.JE.COMPOSE_OPEN_MORE_MENU,sec:U.nJ.RTE_TOOLBAR};this.props.onMoreMenuClick({i13nModel:e})})),Gs(this,"handleShortcuts",(e=>{e.preventDefault(),e.stopPropagation();const t="Unidentified"===e.key?String.fromCharCode(e.which):e.key,s=e.metaKey||e.ctrlKey,{csid:a,isCompactCompose:n,onCloseCompactCompose:r,isQuickReply:o}=this.props;if(s&&e.keyCode===Ms.P.ENTER)this.send({i13nModel:{interactionType:U.Rb.shortcut}});else if(s&&"S"===t.toUpperCase())this.context.executeAction(Ps.PV,{forceSync:!0,i13nModel:{mKey:U.JE.MANUAL_SAVE_DRAFT,sec:U.nJ.COMPOSE_MSG}});else if(e.keyCode===Ms.P.ESCAPE){if(this._autotag&&this._autotag.isContactSuggestionVisible())return void this._autotag._closeAutotag();if(this.refs.toolbar&&this.refs.toolbar.getWrappedInstance()){const{emojiPicker:e}=this.refs.toolbar.getWrappedInstance();if(e&&e.state.popoverOpen)return void e.closePicker()}if(n){const{showConfirmationOnDraftClose:e}=this.props,t=this.isSessionDirty();return(0,vs.v)({csid:a,showConfirmationOnDraftClose:e,isComposeDirty:t,originalOnCloseHandler:()=>{r({csids:[a]})},context:this.context})}o||this.handleClose()}})),Gs(this,"focusOnEditor",(()=>{this.refs.editor.rte.focus()})),Gs(this,"focusOnSubject",(()=>{this.header.focus(Se.FocusableRefs.SUBJECT)})),Gs(this,"keepWriting",(e=>{Us.ZP.sendI13nModel({i13nModel:{mKey:U.JE.KEEP_WRITING,sec:U.nJ.COMPOSE_CONFIRM_DLG,interactionType:(0,Ae.getInteractionFromEvent)(e)}}),this.focusOnSubject()})),Gs(this,"onGifClick",(e=>{const{editor:{rte:t}={}}=this.refs;t&&ts.Z.insertGif(t,this.context.intl.formatMessage,e)})),Gs(this,"addEmoji",(e=>{const{editor:{rte:t}={}}=this.refs;t&&ts.Z.insertEmoji(t,this.context.intl.formatMessage,e)})),Gs(this,"insertInlineAttachment",(e=>{const{editor:{rte:t}={}}=this.refs;t&&ts.Z.insertInlineAttachment(t,this.context.intl.formatMessage,e)})),Gs(this,"insertTemplateAttachment",((e,t)=>{const{editor:{rte:s}={}}=this.refs;s&&ts.Z.insertTemplateAttachment(s,this.context.intl.formatMessage,e,t)})),Gs(this,"insertLink",(e=>{const{editor:{rte:t}={}}=this.refs;t&&ts.Z.insertLink(t,e)})),Gs(this,"getAttachments",(()=>{const{getSavedAttachment:e}=this.props;return m()(this.attachmentsInfo,(({id:e,dataId:t})=>e||t)).map((t=>e(t)))})),Gs(this,"previewAttachment",((e,t,s,a=!1)=>{if(!e)return;const{getComposeMessageGroupId:n,routeName:r,draftFolderId:o,isFreshCompose:i,previewPaneSetting:l,routeQuery:c,csid:d,isCompactCompose:_}=this.props,E=n()||s;if(!E)return;const u=(0,Xt.Kw)(o),m=i&&r!==Ue.n8z.SEARCH||!(0,Xt.vQ)(this.props.listId)?u:this.props.listId,S=c.messagePreview||l!==Ue.EsZ.NO&&-1!==[Ue.n8z.FOLDER,Ue.n8z.BASE,Ue.n8z.SEARCH].indexOf(r),p=r===Ue.n8z.NEW_DRAFT,C=Object.assign({},p?{newCompose:"1"}:null,S?{messagePreview:"1"}:null,a?{fullscreen:"1"}:null,_?{fullscreen:"1",isCompactCompose:"1"}:null),A=(0,ke.Sk)(m,E,e,C,a?d:null),T={mKey:U.JE.OPEN_DOC_PREVIEW,sec:a?U.nJ.COMPOSE_ATTACH_FILES_MENU:U.nJ.ATTM_PREVIEW,interactionType:t};this.context.navigateTo({route:A,i13nModel:T})})),Gs(this,"addInlineContactSuggestionToCcField",(e=>{let t=Se.FocusableRefs.TO;this.props.isFreshCompose||(this.header.toggleCcBcc(!0),t=Se.FocusableRefs.CC),this.header.handleContactAdd(t,e)})),Gs(this,"handleEditorFocusChange",(()=>{this.props.updateComposeHeaderFocus({csid:this.props.csid,inputFocus:Se.FocusableRefs.EDITOR})})),Gs(this,"handleEditorFocus",(()=>{this.header&&this.header.hideEmailHoverCards(!0),this.handleEditorFocusChange()})),Gs(this,"handleEditorKeyDown",(()=>{this.header&&this.header.hideEmailHoverCards(!0)})),Gs(this,"handleEditorBlur",(()=>{this.cursorAnchorNode=window.getSelection().anchorNode;const e=ts.Z.getSelectionRange();this.cursorAnchorNodeIndex=e&&e.startOffset})),Gs(this,"moveCursorToSmartReplyLine",(()=>{const e=(0,l.findDOMNode)(this.refs.editorContainer),t=e?e.querySelector("[class$=yahoo-style-wrap]"):null;if(t)for(const s of t.childNodes)if(s&&s.firstChild&&s.firstChild.nodeType===Node.TEXT_NODE){const e=document.createRange(),t=window.getSelection();e.setStart(s.firstChild,s.firstChild.length),e.collapse(!0),t.removeAllRanges(),t.addRange(e);break}})),Gs(this,"_updateToolbarState",(e=>{const{toolbar:t,formatToolbar:s}=this.refs;t&&t.getWrappedInstance().updateState(e),s&&s.getWrappedInstance().updateState(e)})),Gs(this,"shouldshowConfirmationOnDeleteClick",(()=>{if(this.refs.editor){const e=this._getUserInputtedValues();return!(0,g.hasInvalidComposeHeader)(e)}return!1}));const{composeFontSize:a,composeFontFamily:n,isQuotedTextExpanded:r,attachmentsToForward:o,isPersistComposeTextModeEnabled:d,isRichTextModeEnabled:_,hideFormatToolbar:u}=e,{from:S,to:A,cc:T,bcc:I,subject:h="",body:O="",canApplyDefaultStationery:D=!1,htmlAnnotations:R=[],attachmentsInfo:N=[],stationeryTheme:L="",showGIFPicker:f=!1,showStationeryPicker:P=!1,uiState:b={useRichText:!d||_,isQuotedTextExpanded:r},undoStack:y=[],redoStack:v=[],forwardAttachmentAdded:F=!1,isDirty:k=!1,feedbackImgs:w=[],feedbackFiles:G=[]}=e.getContent(t),H=e=>e.name?e:{...e,name:e.email};this.from=S,this.to=A.map(H),this.cc=T.map(H),this.bcc=I.map(H),this.subject=h,this.content=O,this.forwardAttachmentAdded=F,this.canApplyDefaultStationery=!o.length&&D,this.htmlAnnotations=R,this.attachmentsInfo=N.concat(o.map((({attachment:e})=>e))).concat(w),this.rawFiles={},this.newContentIds=[],this.isDirty=k,this.forwardAttachments=o,this.stationeryTheme=L,this.showGIFPicker=f,this.showStationeryPicker=P,this.formatState={foreColor:E.ZP.DEFAULTS.FG_COLOR,backgroundColor:E.ZP.DEFAULTS.BG_COLOR,fontSize:a||"0",fontFamily:n||""},this.uiState=b,this.undoStack=y,this.redoStack=v,this.cursorAnchorNode=null,this.cursorAnchorNodeIndex=null,this.feedbackImgs=w,this.feedbackFiles=G,this.uploaderRef=i.createRef(),this.uiState.useRichText||(this.content=(0,ss.formatPlaintextForDisplay)(this.content)),this.state={imgHoverMenuVisible:!1,composeWidth:null,composeLeft:null,unsupportedFileTypeAlert:!1,canShowFormatToolbarInComposeHeader:!u,spellCheckActive:!1}}componentDidMount(){const{csid:e,isSendFailed:t,attachmentsToForward:s,onAttachmentForwarded:a,fileAttachments:n=[],inputFocus:r}=this.props,{scrollPosition:o}=Ks.get(e);(t(e)||this.forwardAttachmentAdded||this.isDirty)&&(this.lastEditedTimeStamp=Date.now()),this.mousetrap=this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts,this.container),void 0!==o&&this._restoreScrollPosition(o),this._updateWidth(),this._handleWindowResize=is()(this._handleWindowResize,40),window.addEventListener("resize",this._handleWindowResize),(n.length||s.length||this.forwardAttachmentAdded)&&(s.forEach((({attachment:e})=>this.insertInlineAttachment(e))),a(e),this.forwardAttachmentAdded=!0),this.feedbackImgs.length&&(this.newContentIds=this.feedbackImgs.map((e=>e.contentId)),this.rawFiles=this.newContentIds.reduce(((e,t,s)=>({...e,[t]:this.feedbackFiles[s]})),this.rawFiles)),this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),r===Se.FocusableRefs.EDITOR&&this.restoreCursorPosition(!1)}componentDidUpdate(e){const{csid:t,attachmentsToForward:s,onAttachmentForwarded:a,fileAttachments:n=[]}=this.props;e.hasAttachmentPreview!==this.props.hasAttachmentPreview&&this._handleWindowResize(),e.widthChanged!==this.props.widthChanged&&this._updateWidth(),e.composeFontFamily===this.props.composeFontFamily&&e.composeFontSize===this.props.composeFontSize||(this.formatState={...this.formatState,fontSize:this.props.composeFontSize||"0",fontFamily:this.props.composeFontFamily||""}),e.replySuggestion!==this.props.replySuggestion&&this.moveCursorToSmartReplyLine(),(n.length||s.length||this.forwardAttachmentAdded)&&(s.forEach((({attachment:e})=>this.insertInlineAttachment(e))),a(t),this.forwardAttachmentAdded=!1,this.lastEditedTimeStamp=Date.now());const r=this.getDraftStatus();this.props.csid===e.csid&&r===Hs.SENT&&this.props.onSendSuccess&&this.props.onSendSuccess()}UNSAFE_componentWillUpdate(e){const{fileAttachments:t=[]}=e;this.attachmentsInfo=this.attachmentsInfo.concat(t)}componentWillUnmount(){const e=(0,l.findDOMNode)(this.refs.editorContainer),{scrollTop:t}=e,s=this.refs.editor.getRTEDOMNode();let a=[],n=!1;if(s.contains(this.cursorAnchorNode)){const t=e.querySelector("[class$=yahoo_quoted]");t&&t.contains(this.cursorAnchorNode)?(a=ts.Z.getPathToNode(t,this.cursorAnchorNode,this.uiState.useRichText),n=!0):a=ts.Z.getPathToNode(this.refs.editor.getRTEWrappedElement()||s,this.cursorAnchorNode,this.uiState.useRichText)}this.context.unbindShortcut(this.props.listenKeys,this.mousetrap),Ks.set(this.props.csid,{scrollPosition:t,cursorPositionDetails:{pathToNode:a,anchorNodeIndex:this.cursorAnchorNodeIndex,cursorWithinQuotedText:n}}),clearInterval(this.saveInterval),window.removeEventListener("resize",this._handleWindowResize),this.props.isYaiRetroCompose&&this.props.clearYaiRetroCompose()}render(){var e,t,s;const{accounts:a,composeFontFamily:n,composeFontSize:r,conversations:o,csid:l,gif:c,isBccDisabled:d,canEditSubject:_,isQuotedTextExpanded:E,onExpandQuotedText:u,linkEnhancer:m,linkEnhancerUrlBlocklist:S,enhancedLinks:p,preloadEmoji:C,refToComposeContainer:A,refToComposeHeader:T,showCloseButton:I,showEmojiCue:h,showFrom:g,showStationeryCue:O,showSubject:D,simpleCompose:R,stationery:N,stationeryDefaultTheme:L,stationeryRestrictedThemes:f,toolbarFixed:M,uploadEnabled:P,cepForward:b,isFreshCompose:y,composeMode:v,addRecipient:F,dragDropContact:U,composeParams:k,onComposeHeaderDelete:w,inputFocus:G,updateComposeHeaderFocus:H,showPopOutBtn:B,isCompactCompose:x,isComposeDisabled:V,showComposeFormatCue:Z,showComposeTray:W,isMinimized:K,resizeWatcherRef:z,width:Y,isSpellCheckEnabled:j,spellCheckData:q,isComposeAssistantEnabled:X,generatedComposeContent:Q,generatedRephrasedContent:J,readabilityMode:$}=this.props,ee=this.getDraftStatus(),te=this.props.lastSavedTime||0,{formatMessage:se}=this.context.intl,ae=b?E||v!==Bs.FORWARD&&!o:v===Bs.FORWARD||!o,ne=ee!==Hs.SENDING,{to:re,cc:oe}=this,ie=this.attachmentsInfo,{cursorPositionDetails:le}=Ks.get(l),ce=le&&le.cursorWithinQuotedText||!1,de=(0,ys.Nu)(a),_e=K?Ws.compactComposeMinimized:Ws.compactCompose,Ee=pt()(Ws.compose,x?_e:""),ue=g&&(!x||de.length>1);return i.createElement(Ns.Z,{getUnsyncedData:this.getUnsyncedData},i.createElement("div",{"data-test-id":"compose",role:"main","aria-label":se(Ot.Z.compose_view),ref:e=>{this.container=e,z&&(z.current=e),A(e)},className:Ee},C?this.renderEmojiPreloader():null,i.createElement(ct,{addInlineContactSuggestionToCcField:this.addInlineContactSuggestionToCcField,editorReference:this.refs.editor,csid:this.props.csid,containerRef:this.container,ref:e=>{e&&(this._autotag=e.getWrappedInstance())}}),i.createElement(Ye,{ref:e=>{this.header=e,T(e)},composeMode:v,showPopOutBtn:B,onComposePopOut:this.handleComposePopOut,onChange:this.handleHeaderChange,onEditSubject:this.handleEditSubject,onClose:this.handleClose,showSubject:D,showFrom:ue,showCloseButton:I,from:this.from,composeParams:k,to:re,cc:oe,bcc:this.bcc,subject:this.subject,csid:l,accounts:de,inputFocus:G,isBccDisabled:d,canEditSubject:_,addRecipient:F,dragDropContact:U,onComposeHeaderDelete:w,updateComposeHeaderFocus:H,isCompactCompose:x,isHeaderFocusDisabled:V||Z}),i.createElement(vt,{ref:"formatToolbar",toolbarIsVisible:this.uiState.useRichText&&this.state.canShowFormatToolbarInComposeHeader,onExecuteAction:this.handleToolbarAction,focusOnEditor:this.focusOnEditor,isFreshCompose:y,addEmoji:this.addEmoji,formatState:this.formatState,showEmojiCue:h&&v===Bs.NEW}),i.createElement(mt,{onDrop:this.handleDrop,isCompactCompose:x},i.createElement("div",{className:Ws.editorContainer,ref:"editorContainer","data-test-id":"compose-editor-container"},i.createElement(je.Z,{updateToolbarState:this._updateToolbarState,onFocus:this.handleEditorFocus,restoreCursorPosition:this.restoreCursorPosition,ariaLabel:se(Ot.Z.message_body),autoExpandQuotedText:ae,onExpandQuotedText:u,cepForward:b,getAttachments:this.getAttachments,composeFontFamily:n,composeFontSize:r,content:this.content,canApplyDefaultStationery:this.canApplyDefaultStationery,contentEditable:ne,csid:l,cursorWithinQuotedText:ce,htmlAnnotations:this.htmlAnnotations,initialFocus:G===Se.FocusableRefs.EDITOR,linkEnhancer:m,linkEnhancerUrlBlocklist:S,enhancedLinks:p,onAttachmentShortcut:this.handleAttachmentTray,onContentChange:this.handleEditorContentChange,onImagePaste:this.addInlineAttachments,onImageRemove:this.handleInlineAttachmentRemoval,onKeyDown:this.handleEditorKeyDown,onSendAsAttachment:this.moveInlineAttachmentToTray,onStationeryDefaultThemeChange:this._handleStationeryDefaultThemeChange,onStationeryThemeChange:this.handleToolbarAction.bind(this,Se.ToolbarActions.UPDATE_STATIONERY),ref:Se.FocusableRefs.EDITOR,scrollableAreaRef:this.refs.editorContainer,stationery:N,getThemeConfig:this.getThemeConfig,undoStack:this.undoStack,redoStack:this.redoStack,linkEnhancerFetch:this.props.linkEnhancerFetch,onLinkEnhancerlinkRemoved:this.props.onLinkEnhancerlinkRemoved,onLinkEnhancerlinkMoveToInline:this.props.onLinkEnhancerlinkMoveToInline,onLinkEnhancerlinkAdded:this.props.onLinkEnhancerlinkAdded,onLinkEnhancerlinkResized:this.props.onLinkEnhancerlinkResized,onLinkEnhancerlinkMoveToBottom:this.props.onLinkEnhancerlinkMoveToBottom,selectedReplySuggestion:this.props.replySuggestion,isRichTextMode:this.uiState.useRichText,onBlur:this.handleEditorBlur,fixImgSrcURL:this.props.fixImgSrcURL,isSpellCheckEnabled:j,spellCheckSuggestionsRequest:this.props.spellCheckSuggestionsRequest,spellCheckActive:this.spellCheckActive,spellCheckAction:this.spellCheckAction,spellCheckData:q,isComposeAssistantEnabled:X,generatedComposeContent:Q,generatedRephrasedContent:J,requestGeneratedDraftContent:this.props.requestGeneratedDraftContent,requestRephraseByTone:this.props.requestRephraseByTone,requestRephraseByPrompt:this.props.requestRephraseByPrompt,notifyAiComposePluginInitialized:e=>this.props.notifyAiComposePluginInitialized({csid:l,...e}),updateComposeAssistantView:e=>this.props.updateComposeAssistantView({csid:l,...e})}),ie.length?i.createElement(Ut.ZP,{ref:e=>this._attachmentTray=e,onAttachmentRemove:this.handleAttachmentRemoval,onAttachmentPreview:this.previewAttachment,readOnly:!1,allowDownload:!0,onSendAsInlineImage:this.moveImageAttachmentInline,richTextMode:this.uiState.useRichText,getAttachments:this.getAttachments,csid:l}):null),i.createElement(Ft.ZP,{isSessionDirty:this.isSessionDirty,getDraftStatus:this.getDraftStatus,useRichText:this.uiState.useRichText,isSpellCheckEnabled:j,spellCheckActiveVal:this.spellCheckActive(),ref:"toolbar",showDeleteButton:!R,lastDraftSavedTime:te,formatState:this.formatState,onExecuteAction:this.handleToolbarAction,uploadEnabled:P,focusOnEditor:this.focusOnEditor,fixed:M,width:Y||this.state.composeWidth,considerComposePadding:M&&!Y,left:this.state.composeLeft,showStationeryCue:O&&v===Bs.NEW,showEmojiCue:h&&v===Bs.NEW,isFreshCompose:y,stationeryDefaultTheme:L,stationeryTheme:this.stationeryTheme,stationeryEnabled:N,gifFinderEnabled:c,csid:l,addEmoji:this.addEmoji,insertLink:this.insertLink,onMoreMenuClick:this.onMoreMenuClick,stationeryRestrictedThemes:f,onGifClick:this.onGifClick,showGIFPicker:this.showGIFPicker,showStationeryPicker:this.showStationeryPicker,handleAttachmentFromRecentFiles:this.handleAttachmentFromRecentFiles,previewAttachment:this.previewAttachment,isComposeDisabled:V,isSendButtonDisabled:V||Z,showComposeTray:W,canShowFormatToolbarInComposeHeader:this.state.canShowFormatToolbarInComposeHeader,updateComposeHeaderFormatToolbarVisibility:this.updateComposeHeaderFormatToolbarVisibility,uploaderRef:this.uploaderRef,readabilityMode:$,isComposeAssistantEnabled:X,fromEmail:{email:null===(e=this.from)||void 0===e?void 0:e.email,name:null===(t=this.from)||void 0===t?void 0:t.sendingName},toEmails:null===(s=this.to)||void 0===s?void 0:s.map((({email:e,name:t})=>({email:e,name:t})))}))))}}Gs(zs,"contextTypes",{executeAction:o().func,intl:c.intlShape.isRequired,config:o().object,navigateTo:o().func,toast:o().func,bindShortcut:o().func,unbindShortcut:o().func,getTheme:o().func,getStore:o().func,store:o().object}),Gs(zs,"defaultProps",{showSubject:!0,getDraftStatus:Zs,refToComposeContainer:Zs,refToComposeHeader:Zs,onChange:Zs,onSend:Zs,onMoreMenuClick:Zs,onExpandQuotedText:Zs,isQuotedTextExpanded:!1,handleToolbarActions:Zs,getComposeMessageGroupId:()=>{},getDraftFolderIdForPrimaryAccount:()=>{},shouldShowIncludeOriginalAttachmentsAlert:()=>!1,shouldShowEmptySubjectAlert:()=>!1,getContent:Zs,cepForward:!1,simpleCompose:!1,showFrom:!1,showCloseButton:!0,isQuickReply:!1,showDeleteButton:!0,styles:{},onContentChanged:Zs,toolbarFixed:!1,onResize:Zs,isBccDisabled:!1,canEditSubject:!0,widthChanged:0,onDraftDelete:Zs,onContactAdd:Zs,onContactRemove:Zs,onMultipleContactsAdd:Zs,getSavedAttachment:e=>e,isSendFailed:()=>!1,listenKeys:[],attachmentsToForward:[],addBigAttachment:Zs,isComposeDisabled:!1,hideFormatToolbar:!1,enhancedCompose:!1,showConfirmationOnDraftClose:!1,showConfirmationOnDraftDelete:!1});const Ys=({csid:e,selectors:t})=>s=>{if((0,g.hasInvalidComposeField)(s))return!1;const{doesComposeSessionExist:a,isReplyOrReplyAll:n,hasNonInlineAttachmentsByMessageId:r,getReplyingToMessageId:o,getMessageFromAddress:i,getMessageToAddress:l,getMessageCcAddress:c}=t;if(!a(e)||!n(e))return!1;const d=o(e),{to:E=[],cc:u=[],attachmentsInfo:m=[]}=s;if(m.some((e=>e.disposition===xs.ATTACHMENT)))return!1;if(!r(d))return!1;const S=(0,g.buildRecipients)([E,u]),p=(0,g.buildRecipients)([l(d),c(d),i(d)]),C=_()(S,p);return Boolean(C.length)},js=({csid:e,selectors:t})=>s=>{const a=(0,g.hasInvalidComposeField)(s),{subject:n}=s,{isReplyOrReplyAll:r,isForwardMessage:o,doesComposeSessionExist:i}=t;return!a&&(!(!i(e)||r(e)&&!o(e))&&Boolean(!n||!n.trim().length))},qs=(0,n.compose)((0,a.connect)(((e,{csid:t,listId:s,accounts:a,initialShowSubject:n=!1,canEditSubject:r=!0,composeMode:o,isCompactCompose:i=!1})=>{var l;const c=(0,ue.selectors)(e),{getRoute:d,getFeaturesSelectors:_,isComposeSaveDue:E,getComposeUiState:u,getAttachmentByContentId:m,getDraftErrors:S,getDraftStatus:p,isSendRequested:C,getGroupIdContainingMessageId:A,getComposeSessionsSelectors:T,isReplyOrReplyAll:I,isForwardMessage:h,getDraftMessageId:g,getAttachmentsByMessageId:O,getLinkEnhancerSelectors:D,getComposeParams:R,getComposeHeaderFocus:N,getSelectedAccountId:L,getDraftFolderIdByAccountId:f,getForwardAttachmentIds:M,getAttachmentById:P,getInlineImagesAttachmentsSelectors:b,getComposeFormat:y,getValidReplyToAddresses:v,isComposeSessionDirty:F,getSpellCheckSelectors:U,getGeneratedContentSelectors:k,getReplyingToMessageId:w,getYaiRetroComposeMessage:G,getMailActionTimeDetails:H}=c,{getInlineImageByAttachmentId:B}=b(),{isEnabled:x,getSetting:V}=_(),{getInReplyToMessageId:Z,getInReplyAllToMessageId:W,getLastSaveTimeStamp:K,isSendFailed:z,getSelectedReplySuggestion:Y}=T(),{name:j,query:q}=d(),X=M(t)||[],Q=x(Ue.ANe.CONVERSATIONS),J=i?!Q||o===Bs.NEW:n||r,$=x(Ue.ANe.CEP_FORWARD),ee=x(Ue.ANe.FIX_IMG_SRC),te=x(Ue.Zrf.STATIONERY_RESTRICTED_THEMES),se=V(Ue.Zrf.LINK_ENHANCER_URL_BLOCK_LIST),ae=D().getEnhancedLinks(),ne=x(Ue.ANe.RTL),re=x(Ue.ANe.PRELOAD_EMOJI),oe=x(Ue.ANe.GIF),ie=x(Ue.ANe.STATIONERY),le=x(Ue.ANe.PERSIST_COMPOSE_TEXT_MODE),ce=V(Ue.Zrf.USE_RICH_TEXT),de=1===V(Ue.Zrf.HIDE_FORMAT_TOOLBAR),_e=x(Ue.ANe.ENHANCED_COMPOSE),Ee=x(Ue.ANe.SHOW_CONFIRMATION_ON_DRAFT_CLOSE),me=x(Ue.ANe.SHOW_CONFIRMATION_ON_DRAFT_DELETE),Se=V(Ue.Zrf.READABILITY_MODE),pe=H(),Ce=x(Ue.ANe.AOL_USER),Ae=K(t),Te=f(L()),Ie=X.reverse().map((({id:e,timestamp:t})=>({id:e,timestamp:t,attachment:P(e)||B(e)}))).filter((({attachment:e})=>e.disposition===xs.INLINE)),he=X.map((({id:e,timestamp:t})=>({id:e,timestamp:t,...P(e)}))).filter((({disposition:e})=>Boolean(e))),ge=x(Ue.ANe.COMPACT_COMPOSE)&&!i&&Ue.UeM.COMPACT!==y(t),Oe=x(Ue.ANe.ENABLE_SPELL_CHECK),De=Oe&&V(Ue.Zrf.SPELL_CHECK_BEFORE_SEND),Re=Oe?U().getSpellCheckData():null,{getGeneratedContent:Ne,getGeneratedItemStatus:Le,getRephrasedContent:fe,getRephrasedItemStatus:Me}=k(),Pe=x(Ue.ANe.COMPOSE_ASSISTANT),be=Pe&&Le(t)===ks._Z.SUCCEEDED?Ne(t):null,ye=Pe&&Me(t)===ks._Z.SUCCEEDED?fe(t):null,ve=w(t);return{cepForward:$,fixImgSrcURL:ee,getDraftErrors:S,forwardAttachmentIds:X,fileAttachments:he,showPopOutBtn:ge,getContent:Os({accounts:a,csid:t,listId:s,selectors:c,selectedReplySuggestion:Y(t)}),replySuggestion:Y(t),shouldShowIncludeOriginalAttachmentsAlert:Ys({csid:t,selectors:c}),shouldShowEmptySubjectAlert:js({csid:t,selectors:c}),showSubject:J,conversations:Q,isSaveDue:E,isSendFailed:z,isSendRequested:C,isQuotedTextExpanded:Boolean(!!u(t)&&u(t).isQuotedTextExpanded),getDraftStatus:e=>p(e),stationeryRestrictedThemes:te,linkEnhancerUrlBlocklist:se,enhancedLinks:ae,rtl:ne,getSavedAttachment:e=>{const{contentId:t}=e,s=m(t);return s?{...e,...s,disposition:e.disposition}:e},preloadEmoji:re,gif:oe,stationery:ie,showStationeryCue:x(Ue.ANe.STATIONERY_CUE),showEmojiCue:x(Ue.ANe.EMOJI_CUE),stationeryDefaultTheme:V(Ue.Zrf.STATIONERY_DEFAULT_THEME),listenKeys:["ctrl+s","command+s","ctrl+enter","command+enter","escape"],getComposeMessageGroupId:()=>{const e=g(t);return e?A(e):void 0},routeName:j,isFreshCompose:!(I(t)||h(t)),composeMode:o,getOriginalAttachments:e=>{const t=Z(e)||W(e);return t?O(t):[]},lastSavedTime:Ae,attachmentsToForward:Ie,composeParams:R(t),inputFocus:N(t),draftFolderId:Te,routeQuery:q,previewPaneSetting:V(Ue.Zrf.PREVIEW_PANE),isPersistComposeTextModeEnabled:le,isRichTextModeEnabled:ce,hideFormatToolbar:de,cloudStorageEnabled:x(Ue.ANe.CLOUD_STORAGE),canEditSubject:i?J:r,validReplyToAddresses:v(),enhancedCompose:_e,showConfirmationOnDraftClose:Ee,showConfirmationOnDraftDelete:me,isComposeSessionDirty:F,isSpellCheckEnabled:Oe,spellCheckBeforeSend:De,spellCheckData:Re,generatedComposeContent:be,isComposeAssistantEnabled:Pe,generatedRephrasedContent:ye,readabilityMode:Se,mailActionTimeDetails:pe,isAolUser:Ce,isYaiRetroCompose:x(Ue.ANe.YAI_RETRO_COMPOSE)&&!!ve&&ve===(null===(l=G())||void 0===l?void 0:l.messageId)}})),(0,a.connect)(void 0,((e,{isSaveDue:t,isSendRequested:s})=>({onDraftDelete:t=>e(Jt.R5(t)),onMoreMenuClick:t=>e(Jt.Lz(t)),handleToolbarActions:t=>e(Jt.Q0(t)),onChange:s=>t(s)&&e(Jt.zE(s)),onSend:t=>!s(t.csid)&&e(Jt.bG(t)),onExpandQuotedText:t=>e(Jt.Jo(t)),linkEnhancerFetch:t=>e(jt.Rx(t)),onLinkEnhancerlinkRemoved:t=>e(jt.bL(t)),onLinkEnhancerlinkMoveToInline:t=>e(jt.Eq(t)),onLinkEnhancerlinkAdded:t=>e(jt.HZ(t)),onLinkEnhancerlinkResized:t=>e(jt.LW(t)),onLinkEnhancerlinkMoveToBottom:t=>e(jt.r0(t)),spellCheckSuggestionsRequest:t=>e((0,qt.oz)(t)),addRecipient:t=>e(Jt.hP(t)),dragDropContact:t=>e(Jt.jt(t)),onComposeHeaderDelete:t=>e(Jt.eW(t)),changeSettings:t=>e((0,rs.Dy)(t)),updateComposeHeaderFocus:t=>e(Jt.wy(t)),onAttachmentForwarded:t=>e(Jt.FU(t)),addBigAttachment:t=>e(Jt.M5(t)),onEditSubject:t=>e(Jt.yh(t)),onComposePopOut:t=>e(Jt.L3(t)),onCloseCompactCompose:t=>e(Jt.bU(t)),requestGeneratedDraftContent:t=>e((0,ws.Vy)(t)),requestRephraseByTone:t=>e((0,ws.rS)(t)),requestRephraseByPrompt:t=>e((0,ws.Jv)(t)),notifyAiComposePluginInitialized:t=>e((0,ws.n1)(t)),updateComposeAssistantView:t=>e((0,ws.zW)(t)),showInvalidReplyToAddressAlert:t=>e(Jt.Cr(t)),clearYaiRetroCompose:()=>e((0,es.KH)())}))))((0,Fs.H)(zs));var Xs=s(82702),Qs=s.n(Xs),Js=s(45282),$s=s(14196);const ea=b()(Qs());function ta(e){const{previewMessage:t,listId:s,messageId:a}=e;t({listId:s,messageIds:[a]})}function sa(e){const{listId:t,messageId:s}=e;return i.createElement("div",{"data-test-id":"compose",className:ea.errorContainer},s?i.createElement(Js.ZP,{expanded:!0,expandable:!1}):null,t&&s?function(e){return i.createElement("span",{className:ea.errorWrapper},i.createElement(h.Z,{kind:I.Kinds.EXCLAMATION_ALT,size:I.Sizes.S,colorState:I.ColorStates.COOL_FAINT}),i.createElement("span",{"data-test-id":"compose-app-error",className:ea.errorMessage},i.createElement(c.FormattedMessage,{id:"compose.draft_error_message_retry",defaultMessage:"We couldn't load this draft. {retry}",values:{retry:i.createElement("a",{className:ea.emptyBodyRetry,onClick:ta.bind(null,e),"data-test-id":"body-error-retry"},i.createElement(c.FormattedMessage,{id:"compose.retry_message",defaultMessage:"Retry!"}))}})))}(e):i.createElement("span",{className:ea.errorWrapper},i.createElement(h.Z,{kind:I.Kinds.EXCLAMATION_ALT,size:I.Sizes.S,colorState:I.ColorStates.COOL_FAINT}),i.createElement("span",{"data-test-id":"compose-app-error",className:ea.errorMessage},i.createElement(c.FormattedMessage,{id:"compose.draft_error_message_noretry",defaultMessage:"We couldn't load this draft."}))))}const aa=(0,a.connect)(void 0,(e=>({previewMessage:t=>e((0,$s.fP)(t))})))(sa);var na=s(26),ra=s(38325),oa=s.n(ra),ia=s(78737);function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ca=Ue.AGu.Modes,da=b()(oa());function _a(e){const{csid:t,composeDataState:a,composeMode:n,onClose:r,isComposeDisabled:o=!1,composeFormatCueEnabled:l,popOutCompose:c}=e;if(-1!==[Ue.DAQ.LOADING,Ue.DAQ.DOES_NOT_EXIST].indexOf(a))return i.createElement("div",{className:da.loadingContainer},i.createElement(na.Z,null));if(a===Ue.DAQ.ERROR)return i.createElement(aa,e);const d=`${t}-${n}-compose`;return i.createElement(i.Fragment,null,i.createElement(qs,la({key:d},e,{csid:t,composeMode:n,onSendSuccess:r,isComposeDisabled:o})),l&&i.createElement("div",{className:da.cueContainer},i.createElement(M.cr,{import:"../../molecules/compose_format_cue",cueName:Ue.ANe.COMPOSE_FORMAT_CUE,switchToCompactCompose:e=>{c({csid:t,i13nModel:{mKey:U.JE.COMPOSE_POP_OUT,sec:U.nJ.COMPOSE_TOPBAR,interactionType:(0,Ae.getInteractionFromEvent)(e)}})},_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,93658))},_moduleResolver:function(){return 93658}})))}const Ea=(0,a.connect)(((e,t)=>{const{doesComposeSessionExist:s,getDraftMessageId:a,getReplyingToMessageId:n,doesMessageFullBodyExist:r,doesMessageBodyHasError:o,isReplyMessage:i,isReplyAllMessage:l,isForwardMessage:c,getRoute:d,getCurrentListId:_,getFeaturesSelectors:E,getTimeZoneName:u,getSelectedAccountId:m,getSendAccountsByAccountId:S,hasMultipleRootAccounts:p,getLastEditedTimestampForCompose:C}=(0,ue.selectors)(e),{name:A,params:T}=d();let I,h=Ue.DAQ.DOES_NOT_EXIST,g=ca.NEW;if(t.isCompactCompose||-1===[Ue.n8z.NEW_DRAFT,Ue.n8z.EDIT_DRAFT].indexOf(A)||(I=T.csid),I=I||t.csid,!I||!s(I))return{csid:I,composeDataState:I?Ue.DAQ.DOES_NOT_EXIST:Ue.DAQ.ERROR,composeMode:g};const O=E(),D=m(),R=S(D);h=Ue.DAQ.LOADED;const N=a(I)||n(I);return N&&!C(I)&&(r(N)||(h=Ue.DAQ.LOADING),o(N)&&(h=Ue.DAQ.ERROR)),i(I)&&(g=ca.REPLY),l(I)&&(g=ca.REPLY_ALL),c(I)&&(g=ca.FORWARD),{csid:I,listId:_(),composeDataState:h,composeMode:g,accountId:D,accounts:R,showFrom:p()||R.length>1,dateFormattingOption:{timezone:u(),offset:0},saveInterval:O.getSetting(Ue.Zrf.COMPOSE_SAVE_INTERVAL),linkEnhancer:O.isEnabled(Ue.Zrf.LINK_ENHANCR),composeFontFamily:O.getSetting(Ue.Zrf.COMPOSE_FONT_FAMILY),composeFontSize:O.getSetting(Ue.Zrf.COMPOSE_FONT_SIZE),composeFormatCueEnabled:O.isEnabled(Ue.ANe.COMPOSE_FORMAT_CUE)}}),(e=>({onClose:t=>e((0,ia.I3)(t)),popOutCompose:t=>e((0,Jt.L3)(t))})))(_a)},63144:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(29824),n=s(70582),r=s(79887),o=s(15523),i=s(93737);function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c=`[class$="${n.dj}"]`;class d{constructor(e){l(this,"wordDensity",0),l(this,"surroundSelectionWithYaiSpan",(()=>{(0,i.Kj)(r.Xk)})),l(this,"getQuotedText",(()=>{const e=this.getQuotedTextContainer();return e?(0,a.convertToPlainText)(e):""})),this.rte=e.rte,this.htmlAnnotations=e.htmlAnnotations,this.requestGeneratedDraftContent=e.requestGeneratedDraftContent,this.requestRephraseByTone=e.requestRephraseByTone,this.requestRephraseByPrompt=e.requestRephraseByPrompt,this.onInit=e.onInit,this.updateComposeAssistantView=e.updateComposeAssistantView,this.requestedSelection=null,this.init()}init(){this.wordDensity=this.extractWordDensity(),this.wordDensity<1?setImmediate((()=>{this.onInit({view:o.J.INTENT})})):setImmediate((()=>{this.onInit({view:o.J.REPHRASE})}))}getComposableArea(){var e;return null!==(e=this.rte.element.querySelector("[contenteditable=true]"))&&void 0!==e?e:this.rte.element}getSignatureContainers(){return Array.from(this.rte.element.querySelectorAll("[class$=signature]"))}getInlineImageContainers(){return Array.from(this.rte.element.querySelectorAll('img[class*="yahoo-inline-image"]'))}getStationeryContainers(){return Array.from(this.rte.element.querySelectorAll('[class*="rte-stationery-core"]'))}getQuotedTextContainer(){return this.rte.element.querySelector(c)}getFixedComposeContainers(){return[...this.getSignatureContainers(),...this.getInlineImageContainers(),...this.getStationeryContainers(),this.getQuotedTextContainer()].filter(Boolean)}getUserEnteredTextNodes({includeBr:e=!1}){const t=this.getComposableArea(),s=this.getFixedComposeContainers().filter((e=>t.contains(e))),a=e?NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT:NodeFilter.SHOW_TEXT;return(e=>{const t=[],n=document.createTreeWalker(e,a,{acceptNode:e=>s.some((t=>t.contains(e)))?NodeFilter.FILTER_REJECT:e.nodeType===Node.ELEMENT_NODE?"BR"===e.nodeName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT});let r;for(;r=n.nextNode();)t.push(r);return t})(t)}selectRange({rangeStart:e,rangeEnd:t,startOffset:s=0,endOffset:a=0}){if(!e||!t)return;const n=window.getSelection(),r=document.createRange();r.setStart(e,s),r.setEnd(t,a),setImmediate((()=>{null==n||n.removeAllRanges(),null==n||n.addRange(r)}))}collectDisposableContentNodes(e){const t=this.getFixedComposeContainers();let s=[];return e.childNodes.forEach((e=>{if(e.nodeType===Node.TEXT_NODE)s.push(e);else if(e.nodeType===Node.ELEMENT_NODE){if(t.includes(e))return;t.some((t=>e.contains(t)))?s=s.concat(this.collectDisposableContentNodes(e)):s.push(e)}})),s}extractWordDensity(){return(this.getUserEnteredTextNodes({includeBr:!1}).map((e=>e.nodeValue)).join(" ").match(/\S{2,}/g)||[]).length}pushButton(e,t){if(e===r.e5.COMPOSE_DRAFT){const e=this.getQuotedText(),{csid:s,prompt:a,sender:n,recipients:r}=t;this.requestGeneratedDraftContent({csid:s,prompt:a,sender:n,recipients:r,additionalContext:e})}if(e===r.e5.REPHRASE_BY_TONE){const{csid:e,tone:s,draftText:a}=t,n=this.getQuotedText();if(a)this.requestRephraseByTone({csid:e,tone:s,draftText:a,additionalContext:n});else{const t=this.getUserEnteredTextNodes({includeBr:!0}).map((e=>e.nodeValue)).join("\n");this.requestRephraseByTone({csid:e,tone:s,draftText:t,additionalContext:n})}}if(e===r.e5.REPHRASE_BY_PROMPT){const{csid:e,prompt:s,draftText:a}=t,n=this.getQuotedText();if(a)this.requestRephraseByPrompt({csid:e,prompt:s,draftText:a,additionalContext:n});else{const t=this.getUserEnteredTextNodes({includeBr:!0}).map((e=>e.nodeValue)).join("\n");this.requestRephraseByPrompt({csid:e,prompt:s,draftText:t,additionalContext:n})}}e===r.e5.YAI_HIGHLIGHT&&this.surroundSelectionWithYaiSpan()}applyToDraft(e){if(0===e.length)return;const t=this.getComposableArea();this.collectDisposableContentNodes(this.getComposableArea()).forEach((e=>e.remove()));let s=null,a=null,n=null,r=null;if(e.split("\n").forEach((e=>{var a;(0===e.length?r=document.createElement("br"):(r=document.createElement("div"),r.textContent=e),n)?t.insertBefore(r,n.nextSibling):(t.prepend(r),s=null!==(a=(0,i.DP)(r))&&void 0!==a?a:r);n=r})),n){const e=document.createElement("br");t.insertBefore(e,n.nextSibling),a=e}s&&a&&(this.requestedSelection={rangeStart:s,rangeEnd:a,startOffset:0,endOffset:0})}applySnippet(e){if(0===e.length)return;const t=window.getSelection(),s=document.querySelectorAll(r.SB);if(!(t&&"Range"===t.type&&t.rangeCount>0)&&0===s.length)return void this.applyToDraft(e);let a;if(s.length){var n,o,l;const e=s[0],t=s[s.length-1];a=document.createRange(),a.setStart(e,0);const r=null!==(n=(0,i.Br)(t))&&void 0!==n?n:t,c=r.nodeType===Node.TEXT_NODE&&null!==(o=null===(l=r.textContent)||void 0===l?void 0:l.length)&&void 0!==o?o:0;a.setEnd(r,c)}else a=t.getRangeAt(0);const c=document.createDocumentFragment();let d=null,_=null,E=null,u=null;var m,S,p;(e.split("\n").forEach((e=>{var t;(0===e.length?u=document.createElement("br"):(u=document.createElement("div"),u.textContent=e),E)||(d=null!==(t=(0,i.DP)(u))&&void 0!==t?t:u);c.appendChild(u),E=u})),E)&&(_=null!==(m=(0,i.Br)(E))&&void 0!==m?m:E);(a.deleteContents(),a.insertNode(c),d&&_)&&(this.requestedSelection={rangeStart:d,rangeEnd:_,startOffset:0,endOffset:_.nodeType===Node.TEXT_NODE&&null!==(S=null===(p=_.textContent)||void 0===p?void 0:p.length)&&void 0!==S?S:0})}onContentMutated(){this.requestedSelection&&((0,i.bS)(),this.selectRange(this.requestedSelection),this.requestedSelection=null,this.rte.saveUndo());const e=this.extractWordDensity();e!==this.wordDensity&&(this.wordDensity<1&&e>=1?this.updateComposeAssistantView({view:o.J.REPHRASE}):this.wordDensity>=1&&e<1&&this.updateComposeAssistantView({view:o.J.INTENT}),this.wordDensity=e)}}},86460:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({error_title:{id:"compose.error_title",defaultMessage:"Error"},bigAttachment:{id:"compose.too_big_attachment",defaultMessage:"The file exceeds the {maxFileSize}MB attachment limit. Large attachment support coming soon!"},bigAttachmentSupport:{id:"compose.too_big_attachment_support",defaultMessage:"The file(s) you are trying to attach exceed the {maxFileSize}MB attachment size limit. You can upload files to Dropbox or Google Drive, connect your cloud service to Mail, and then add those files to emails you send."},compose_view:{id:"compose.view_aria_label",defaultMessage:"Compose view"},message_body:{id:"compose.message_body",defaultMessage:"Message body"},quoted_draft:{id:"quoted_draft",defaultMessage:"On {date}, {quotedName} &lt;{quotedAddress}&gt; wrote:"},forwarded_message:{id:"forwarded_message",defaultMessage:"Forwarded Message"},quoted_message_from:{id:"quoted_message_from",defaultMessage:"<b>From:</b> {from}"},quoted_message_to:{id:"quoted_message_to",defaultMessage:"<b>To:</b> {to}"},quoted_message_cc:{id:"quoted_message_cc",defaultMessage:"<b>Cc:</b> {cc}"},quoted_message_subject:{id:"quoted_message_subject",defaultMessage:"<b>Subject:</b> {subject}"},quoted_message_sentdate:{id:"quoted_message_sentdate",defaultMessage:"<b>Sent:</b> {sentDate}"},beingUploadedAlert:{id:"being_uploaded_alert",defaultMessage:"Attachment is still being uploaded. Wait and send?"},beingUploadedAlertOK:{id:"compose.beingUploadedAlert.ok",defaultMessage:"OK"},beingUploadedAlertSendWithout:{id:"compose.beingUploadedAlert.send_without",defaultMessage:"Send Without"},emptySubjectAlert:{id:"empty_subject_alert",defaultMessage:"Do you want to send the message without any subject?"},emptySubjectAlertSend:{id:"compose.emptySubjectAlert.send",defaultMessage:"Send"},emptySubjectAlertCancel:{id:"compose.emptySubjectAlert.cancel",defaultMessage:"Cancel"},includeOriginalAttachmentsAlert:{id:"include_original_attachments_alert",defaultMessage:"Include original attachments?"},includeOriginalAttachmentsAlertMsg:{id:"include_original_attachments_alert_msg",defaultMessage:"You added new recipients to your reply. Do you want to include attachments from the original message?"},includeOriginalAttachmentsAlertYes:{id:"compose.includeOriginalAttachmentsAlert.yes",defaultMessage:"Yes"},includeOriginalAttachmentsAlertNo:{id:"compose.includeOriginalAttachmentsAlert.no",defaultMessage:"No"},switch_to_plain_text_warning_title:{id:"compose.switch_to_plain_text_warning_title",defaultMessage:"Switch to Plain Text"},switch_to_plain_text_message:{id:"compose.switch_to_plain_text_message",defaultMessage:"Converting your message to plain text will remove all formatting and inline images. Continue?"},switch_to_plain_text_warning:{id:"compose.switch_to_plain_text_warning",defaultMessage:"Converting your message to plain text will lose all formatting and remove inserted items. Continue?"},compose_dialog_ok:{id:"compose.dialog_ok",defaultMessage:"OK"},compose_dialog_cancel:{id:"compose.dialog_cancel",defaultMessage:"Cancel"},font_family_label_modern:{id:"compose.font_family_label_modern",defaultMessage:"Modern"},font_family_label_modernwide:{id:"compose.font_family_label_modernwide",defaultMessage:"Modern Wide"},font_family_label_classic:{id:"compose.font_family_label_classic",defaultMessage:"Classic"},font_family_label_classicwide:{id:"compose.font_family_label_classicwide",defaultMessage:"Classic Wide"},unsupportedFileType:{id:"compose.unsupportedFileType",defaultMessage:"One or more of the file types you have attached is not supported. Please remove the unsupported file(s)."},plaintext_icon_label:{id:"compose.plaintext_icon_label",defaultMessage:"Switch to plain text mode"},plaintext:{id:"compose.plaintext",defaultMessage:"Switch to plain text mode"},plaintext_text_label:{id:"compose.plaintext_text_label",defaultMessage:"Plain Text"},leftAlign:{id:"compose.left_align_icon",defaultMessage:"Left align"},rightAlign:{id:"compose.right_align_icon",defaultMessage:"Right align"},centerAlign:{id:"compose.center_align_icon",defaultMessage:"Center align"},bulletedList:{id:"compose.bulleted_list_icon",defaultMessage:"Bulleted List"},numberedList:{id:"compose.numbered_list_icon",defaultMessage:"Numbered list"},increaseIndent:{id:"compose.increase_indent_icon",defaultMessage:"Increase indent"},decreaseIndent:{id:"compose.decrease_indent_icon",defaultMessage:"Decrease indent"},strikeThrough:{id:"compose.strikethrough_icon",defaultMessage:"Strikethrough"},bold_icon_label:{id:"compose.bold_icon_label",defaultMessage:"Make selection bold"},italic_icon_label:{id:"compose.italic_icon_label",defaultMessage:"Make selection italic"},underline_icon_label:{id:"compose.underline_icon_label",defaultMessage:"Make selection underlined"},link_icon_label:{id:"compose.link_icon_label",defaultMessage:"Make selection a hyperlink"},richtext_icon_label:{id:"compose.richtext_icon_label",defaultMessage:"Switch to rich text mode"},bold:{id:"compose.bold",defaultMessage:"Bold"},italic:{id:"compose.italic",defaultMessage:"Italic"},underline:{id:"compose.underline",defaultMessage:"Underline"},link:{id:"compose.link",defaultMessage:"Link"},richtext:{id:"compose.richtext",defaultMessage:"Switch to rich text mode"},richtext_label:{id:"compose.rich_text_mode_label",defaultMessage:"Rich text mode"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},foreground_color_text_label:{id:"compose.foreground_color_text_label",defaultMessage:"Text color"},background_color_text_label:{id:"compose.background_color_text_label",defaultMessage:"Highlight color"},color:{id:"compose.color",defaultMessage:"Color"},delete_confirm:{id:"confirm.delete_message_draft",defaultMessage:"Are you sure you want to permanently delete this message?"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"confirm_btn_text",defaultMessage:"Confirm"},confirmDeleteTitle:{id:"list.confirm_delete_title",defaultMessage:"Delete message"},draftCloseConfirmTitle:{id:"draft_close_confirm_title",defaultMessage:"You have not sent this message."},draftCloseConfirmMessage:{id:"draft_close_confirm_msg",defaultMessage:"What would you like to do with this draft?"},saveToDraftsBtn:{id:"save_to_drafts_btn_text",defaultMessage:"Save to Drafts"},keepWritingBtn:{id:"keep_writing_btn_text",defaultMessage:"Keep Writing"},deleteBtn:{id:"delete_button_text",defaultMessage:"Delete"},draftDeleteConfirmTitle:{id:"draft_delete_confirm_title",defaultMessage:"Are you sure you want to delete this message?"},draftDeleteConfirmMessage:{id:"draft_delete_confirm_msg",defaultMessage:"Discarding it will permanently delete it."},perfectSpellingTitle:{id:"perfect_spelling_title",defaultMessage:"No spelling errors"},perfectSpellingMessage:{id:"perfect_spelling_message",defaultMessage:"You have perfect spelling."},spellingCheckOnSendTitle:{id:"spelling_check_on_send_title",defaultMessage:"Spell check before sending"},spellingCheckOnSendMessage:{id:"spelling_check_on_send_message",defaultMessage:"There were spelling errors. Would you like to send the message now, or review your spelling errors?"},spellingCheckOnSendNowBtn:{id:"spelling_check_on_send_now_btn",defaultMessage:"Send Now"},spellingCheckOnSendReviewBtn:{id:"spelling_check_on_send_review_btn",defaultMessage:"Review Errors"},spellingCheckOnSendMessageCorrected:{id:"spelling_check_on_send_message_corrected",defaultMessage:"Would you like to send the message now?"},spellingCheckMisspelledWordTooltip:{id:"spelling_check_misspelled_word_tooltip",defaultMessage:"Click here to replace with a suggested word"}})},70905:e=>{"use strict";e.exports={className:{default:{select:"C_516e D_F ab_C ir_0 q_T b_0",menuContainer:"D_F",label:"D_F ab_C y_jyw3a A_6EqO c1AVi73_6FsP",labelName:"a_3He0m J_x",menuLabelEmail:"D_X ix_ZnEKB7",menu:"P_3zDxc l_ZufDBK j_20l77p",fromField:"q_T b_0 C3_4N1z"},isCompactCompose:{labelName:"a_3rBgu"}},_key:"Z2ehGFv"}},44377:e=>{"use strict";e.exports={className:{default:{itemAddress:"A_6DUj C_Z1Xxgu2 ix_ZnEKB7",checkmarkWrapper:"W_6LEV H_6LEV D_X",buttonOverride:"J_N",buttonContent:"D_F ab_C i_6LEV",rtlIgnoreDir:"rtlI_dz_sSg",rtlIgnoreMarginR:"rtlI_E_fq7",rtlIgnoreMarginL:"rtlI_Q_fq7",sendingName:"a_3He0m ix_AS"}},_key:"14L4kR"}},79149:e=>{"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_s s_3v1qi",pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_3HLUz ir_0 o_A K_3qWeB",pillsContainerChild:"em_N o_h s_3nx4N",pillOuter:"D_F ac_C",textContainer:"E_6LEV o_h",contactIcon:"o_q",name:"C_Z281SGl o_h G_e J_x Q_fq7 E_fq7",email:"C_Z1VRqsb o_h G_e J_x Q_fq7 E_fq7",remove:"o_h G_e J_x Q_fq7 E_fq7 p_a R_0 W_6LEV H_6LEV r_P",highlight:"u_eBE",typeahead:"M_0 p_R H_6NIX",typeaheadInput:"Z_N ir_0 j_n y_jyw3a q_ZkbNhI k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO c1AVi73_6FsP D_X p_a L_0 B_0",typeaheadInputHint:"Z_0 y_jyw3a q_ZkbNhI k_w W_6D6F H_6NIX M_0 b_0 P_SMJKi A_6EqO c1AVi73_6FsP D_X p_a L_0 B_0",typeaheadAriaStatus:"L_Z1yJMeR p_a",typeaheadDropDown:"Z_f8a I_ZkbNhI k_w ha_n M_0 P_3HLUz b_Z14vXdP e_dRA j_1zwO34 p_a o_A K_3vFsb W_3vVYr L_A T_6D6F",typeaheadOptionContainer:"D_F ab_C P_ZGAgNS k_w H_74JI r_P q4_Z1gjdjJ cZ1WADfW_Z1gjd50",relatedContactsContainer:"M_fq7 D_F gl_FM q_ZkbNhI q4_Z1gjdjJ cZ1WADo5_Z1gjd50",relatedContacts:"M_2gqwFT",relatedContactsClose:"P_eo6 r_P"},autotag:{typeaheadDropDown:"a_3rJgR",relatedContacts:"A_6EqO c1AVi73_6FsP C_Z1VRqsb u_e69 Q_6Eb4"},showCcBcc:{pillsContainer:"K_FB7P8"},editList:{typeaheadDropDown:"W_3s2lE"}},_key:"1BMyMQ"}},15719:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C C_Z29dUYT"}},_key:"Z4EH3E"}},82653:e=>{"use strict";e.exports={className:{default:{pillsContainer:"hd_n em_N eo_HB el_Z12c0F D_F M_0 P_ZuD4Fa ir_0 o_A K_3qWeB m_Z1a7UWG",overflowPill:"P_oRhLS r_P C_Z281SGl k_w e_6Eb4 M_dRA H_6MGW i_6Mbr p_R o_h I_ZkbNhI Z_N J_x G_e a_3nF5b"},hovered:{overflowPill:"b_2gzP8k I_Z29WjXl e_dRA P_3gIMd C_ZkbNhI"}},_key:"2ttxbw"}},76439:e=>{"use strict";e.exports={className:{default:{swatchItem:"D_F ek_BB ab_C M_eo6",swatchContent:"W_7rdk",swatchTitleBase:"J_x U_6Eb4 ac_CI",colorElement:"p_R",color:"D_F gl_C ab_C W_6LEV H_6LEV b_0 P_0 it_689y",colorMenu:"P_6DEy",subColorMenu:"P_Z2aXgbn Q_eTB",hoverMenuButton:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ"}},_key:"Z9a15"}},88760:e=>{"use strict";e.exports={className:{default:{container:"D_F Q_eo6 H_6D6F",subContainer:"Y_A ab_BZ D_F ek_BB j_1zwO34",composeStyler:"T_0 L_0 R_0 B_0 W_6D6F H_6D6F D_F p_R",topBar:"D_F H_6VdP cj_dRA ck_dRA ba_1v4W3v cZW7ROP_AB Y_A W_3He0m",content:"W_3He0m cZW7ROP_AB",subjectContainer:"em_N C_ZkbNhI D_F r_P o_h ab_C P_1EudUu",subjectStyle:"C_ZkbNhI u_e69 o_h J_x G_e",buttonsStyle:"D_F Q_A ab_C W_7He5 gl_2qpK5e"},"theme-DEFAULT":{topBar:"q_Z22yhkg q4_Z18gIbq"},isMinimized_DEFAULT:{topBar:"q_ZJUltL W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SUNRISE":{topBar:"q_Z22yhkg q4_Z18gIbq"},isMinimized_SUNRISE:{topBar:"q_ZJUltL W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AQUA_GREEN":{topBar:"q_Z22yhkg q4_Z18gIbq"},isMinimized_AQUA_GREEN:{topBar:"q_ZJUltL W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AQUA_BLUE":{topBar:"q_Z22yhkg q4_Z18gIbq"},isMinimized_AQUA_BLUE:{topBar:"q_ZJUltL W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-DEEP_PURPLE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_DEEP_PURPLE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-PURPLE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_PURPLE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AOL_HIGH_CONTRAST":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_AOL_HIGH_CONTRAST:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-BLUE_NIGHT":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_BLUE_NIGHT:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-DARK_GREY":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_DARK_GREY:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-HIGH_CONTRAST":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_HIGH_CONTRAST:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-CLASSIC":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_CLASSIC:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SIMPLE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SIMPLE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AIM":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_AIM:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AOLCOM":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_AOLCOM:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-NIGHT_LANDSCAPE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_NIGHT_LANDSCAPE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-ROADTRIP":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_ROADTRIP:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SUNSET_AUSSIE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SUNSET_AUSSIE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-LIGHTHOUSE":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_LIGHTHOUSE:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-GALAXY":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_GALAXY:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SPRING":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SPRING:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-WINTER":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_WINTER:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SUMMER":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SUMMER:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-FALL":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_FALL:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-WESTERN":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_WESTERN:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SUNSET":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SUNSET:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-ATT":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_ATT:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-AOL":{topBar:"q_Z22yhkg q4_Z18gIbq"},isMinimized_AOL:{topBar:"q_ZJUltL W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-FRONTIER":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_FRONTIER:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-ROGERS":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_ROGERS:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-BT":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_BT:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-SKY":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_SKY:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"},"theme-NEXTGENHOME":{topBar:"q_Z1MmtQ2 q4_Z1dMczV"},isMinimized_NEXTGENHOME:{topBar:"q_rOW4p W_3rJgR",container:"q_T j_n",subContainer:"Y_A",content:"W_3rJgR"}},_key:"ZyQupv"}},40959:e=>{"use strict";e.exports={className:{default:{compose:"I_ZkbNhI j_n k_w W_6D6F D_F ek_BB em_N P_ZzJed p_R",loadingContainer:"je_74JI",editorContainer:"em_N D_F ek_BB iz_A d_6VdP",compactCompose:"iz_A",compactComposeMinimized:"o_h",deleteButton:"I_ZnTFMv C_ZkbNhI l_ZnTFMv I3_ZoDrpC l3_ZnTFMv it3_eo6 I0_ZoDrpC l0_ZnTFMv I4_ZoDrpC l4_ZnTFMv"}},_key:"1rrlDi"}},24329:e=>{"use strict";e.exports={className:{default:{attachmentDragContainer:"em_N D_F ek_BB p_R o_h",dragOverlay:"cZW7ROP_n b_2eWfKw T_fq7 p_a L_0 R_0 B_eo6 D_F gl_C ab_C q_Z1gjdjJ",dragDescriptionContainer:"D_F A_6EWk c1AVi73_6FYl u_b O_cMr ek_BB ab_C C_Z29WjXl",dragTextDescription:"je_6LEV"},isCompactCompose:{dragOverlay:"H_1C18g9 B_fq7",attachmentDragContainer:"d_3nX9X"}},_key:"ZQVQ9s"}},99163:e=>{"use strict";e.exports={className:{default:{editorWrapper:"p_R em_N D_F ek_BB en_0 d_eik",editorContainer:"p_R cZ1RN91d_GG k_w W_6D6F em_N D_F",rte:"em_N ir_0 iy_A iz_h",placeholder:"p_a T_6LEV L_0 C_Z1TsNbA cZW7ROP_n",button:"b_0 ir_0 P_eo6 I_T y_jyw3a A_6DUj c1AVi73_6EWk C_Z1TsNbA M_6Fd5",buttonInner:"D_F ab_C r_P"},"kind-MESSAGE":{rte:"k_w P_6Fd5 d_7ALe",placeholder:"T_eTB P_1Eu7sD i_6VdP"},"kind-COMPOSE":{rte:"N_6Fd5"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"k_w P_6Fd5 d_3w6xl",placeholder:"T_eTB P_1Eu7sD i_6VdP"}},_key:"visay"}},82702:e=>{"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7",emptyBodyRetry:"r_P C_Z29WjXl"}},_key:"16m92q"}},93332:e=>{"use strict";e.exports={className:{default:{rightAlignIcon:"D_X H_6LEV P_eo6 O_cMu h_2gl0WC",menuIcon:"D_X H_6LEV P_eo6 O_cMu",button:"s_6D6F q_T b_0 P_0 r_P O_cMu I4_Z1gjd5v e4_dRA O4_N",hoverMenuButton:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ",menuLabel:"A_6EqO c1AVi73_6FsP C_Z281SGl Q_fq7",menuItem:"D_F N_fq7 ab_C",menuListItem:"Y_eTB H_6NIX",menuContainer:"D_F ek_EZ M_1ghjXT",spaceBetween:"W_fq7",sectionDivider:"D_B z_Z163u0T Y_6DEy U_eo6 E_69H5",backButtonLabel:"A_6DUj C_Z1TsNbA",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"19ob4F"}},22547:e=>{"use strict";e.exports={className:{default:{input:"D_F ab_CI je_eo6 em_N m_Z1a7UWG"},hasFocus:{input:"bj_Z29WjXl"}},_key:"OOpaq"}},79069:e=>{"use strict";e.exports={className:{default:{menuItem:"C_Z281SGl H_6UbO i_6UbO N_fq7 D_F ab_C",checkmarkWrapper:"D_X E_fq7 i_0"},"selected-false":{checkmarkWrapper:"W_6LEV"},"kind-tiny":{menuItem:"A_6DEy"},"kind-small":{menuItem:"A_6EqO"},"kind-medium":{menuItem:"A_6Fd5"},"kind-mediumplus":{menuItem:"A_6FIA"},"kind-large":{menuItem:"A_6MGW"},"kind-xlarge":{menuItem:"H_72FG i_72FG A_6UbO"},"kind-huge":{menuItem:"H_7ceA i_7ceA A_74JI"},"kind-modern":{menuItem:"y_1ACvVU"},"kind-modernwide":{menuItem:"y_ZISf5J"},"kind-classic":{menuItem:"y_ZYqQIR"},"kind-classicwide":{menuItem:"y_ZNDoVU"},"kind-courier":{menuItem:"y_16XJVH"},"kind-comicsans":{menuItem:"y_ZSrB6r"},"kind-garamond":{menuItem:"y_1i8dl0"},"kind-impact":{menuItem:"y_Z1vlzGx"},"kind-lucida":{menuItem:"y_Z2hYH8W"}},_key:"Z2vQYQW"}},48005:e=>{"use strict";e.exports={className:{default:{hoverMenuButton:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ",rightAlignIcon:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ h_2gl0WC",rtlIgnoreDir:"rtlI_dz_sSg",rtlRawScaleX:"rtlR_h_2gl0WC",icon:"D_F V_M I4_Z1gjdjJ I0_Z1gjd50 it3_dRA H_6TFj W_6VdP gl_C"}},_key:"Z26zVpf"}},10429:e=>{"use strict";e.exports={className:{default:{formatToolbarContainer:"m_Z1a7UWG",formatToolbar:"en_N J_x o_h cZ1RN91d_n H_6TFj M_1HOWpn P_0",rtlRawScaleX:"rtlR_h_2gl0WC",icon:"H_6D6F D_Z1YJkyX V_M k_w E_dBP gl_C",menuIcon:"H_6D6F D_Z1YJkyX V_M k_w E_dBP gl_C",hoverMenuButton:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ"}},_key:"Z1rMQL4"}},2801:e=>{"use strict";e.exports={className:{default:{container:"p_a D_F I_ZkbNhI b_Z14vXdP j_1zwO34 Z_e69 P_Z1E2YFn",linkWrapper:"C_Z1VRqsb",link:"C_Z29WjXl a_3rdfm J_x o_h G_e D_X f_r",control:"Q_6Eb4 u_b C_Z29WjXl r_P"}},_key:"YJBuB"}},82249:e=>{"use strict";e.exports={className:{default:{container:"en_0",inputDark:"C_Z281SGl",additionalOptionsButtonWrapper:"D_F p_a L_371PO B_dBP P_eo6",additionalOptionsListWrapper:"P_3Y3Gk",replyToAnchor:"Q_pM D_F ab_C r_P",replyToAnchorLabel:"E_Q",replyToPopover:"P_pM",ccContainer:"D_F ab_C em_N",subject:"G_e y_jyw3a A_6EqO c1AVi73_6FsP C_Z281SGl ir_0 P_0 X_0 bj3_Z281SGl b_0 j_n d_72FG em_N",extraRecipientsBtn:"en_0 Q_fq7 E_eo6 Y_6DEy U_6DEy A_6DUj c1AVi73_6EWk y_jyw3a C_Z1VRqsb P_ZvFAnJ b_n a_3mS2U q_T r_P",composeHeaderTop:"p_R",composeSubject:"p_R",ccButton:"C_Z1TsNbA je_0 jb_0 cn_0 q_T en_0 r_P",ccButtonNotLast:"x_ZGN9rt C_Z1TsNbA je_0 jb_0 cn_0 q_T en_0 r_P",expandButton:"Z_N p_a R_6UbO T_fq7 C4_Z29WjXl cdPFi4_Z29WjXl",xButton:"en_0",xButtonWrapper:"p_a R_fq7 T_fq7"},"filled-subject":{subject:"C_Z281SGl"},isSubjectDisabled:{subject:"C_Z1VRqsb I_T"},isCompactCompose:{replyToAnchor:"Q_0 U_U"}},_key:"Z1IUUB4"}},39195:e=>{"use strict";e.exports={className:{default:{container:"I_ZkbNhI b_Z14vXdP j_1zwO34 Z_e69 p_a D_F ek_BB P_1iBkeu",button:"q_ZpQYvz e_dRA k_w r_P H_6NIX s_7ceA Y_6Eb4 A_6EqO c1AVi73_6FsP b_0 C_Z1TsNbA",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",item:"H_6UbO s_3rBgu a_3vXwX jb_fq7 p_R D_F ab_C",testLink:"r_P C_Z29WjXl q_2uyuKK m_2tEIDu D_Z1YJkyX ab_C gl_CH J_x P_ZvFCc1 H_6D6F W_6D6F",textInput:"z_0 x_0 n_0 m_2tEIDu H_6D6F W_6D6F A_6EqO c1AVi73_6FsP bj3_Z29WjXl",linkInput:"z_0 x_0 n_0 m_2tEIDu H_6D6F s_3r5Ku N_eo6 A_6EqO c1AVi73_6FsP bj3_Z29WjXl",close:"t_r E_36JN3 Q_0"},saveBtnEnabled:{button:"q_Z29WjXl C_ZkbNhI"},focusOnLinkInput:{testLink:"bj_Z29WjXl"}},_key:"Z5L6wP"}},69366:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N"}},_key:"1Nkogp"}},38325:e=>{"use strict";e.exports={className:{default:{loadingContainer:"je_74JI W_6D6F",cueContainer:"q_T H_6D6F W_6D6F p_a B_0 D_F gl_C Z_7G9R"}},_key:"ZkwTAx"}},85786:e=>{"use strict";e.exports={className:{default:{module:"C_Z1VRqsb D_F ab_C em_N",label:"E_6Fd5 r_P en_0 ac_CI i_6VdP C4_Z29WjXl J_x b_n I_T P_0 C_Z1VRqsb A_6EqO c1AVi73_6FsP",children:"em_N D_F ab_C",idInputLabel:"D_n"},active:{module:"C_Z281SGl",label:"C_Z29WjXl"},columnLayout:{children:"ek_BB ab_CI"}},_key:"Z1XplAC"}},95004:e=>{"use strict";e.exports={className:{default:{icon:"D_X P_3gIMd O_cMu O4_N I4_Z1gjd5v O0_N I0_7l9bL e_dRA",sectionDivider:"M_3gIMd",rtlIgnoreDir:"rtlI_dz_sSg rtlI_D_F",rightAlignIcon:"h_2gl0WC",rtlRawScaleX:"rtlR_h_2gl0WC",rtlRawHidden:"rtlR_v_h rtlR_D_ATgVd",rtlRemoveHidden:"rtlRM_v_h rtlRM_D_ATgVd"}},_key:"2kcvng"}},32398:e=>{"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_1hcAFi o_h r_P"}},_key:"1C5dFk"}},79940:e=>{"use strict";e.exports={className:{default:{composeToolbar:"z_Z14vXdP D_F ab_C I_ZkbNhI W_6D6F p_R Z_e69 B_0",sendButton:"q_Z29WjXl e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_jyw3a A_6EqO c1AVi73_6FsP u_e69 b_0 C_52qC I4_Z2chSgW it3_dRA",status:"Q_fq7 E_fq7 C_Z1TsNbA",spacer:"em_N",sectionDivider:"M_1Eu7sD n_Z14vXdP H_6MGW",formattingTools:"en_N J_x o_h cZ1RN91d_n",icon:"D_Z1YJkyX ab_C gl_C P_3gIMd V_GI O_cMu O4_N I4_Z1gjd5v O0_N I0_7l9bL it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",menuIcon:"D_Z1YJkyX gl_C V_GI it3_dRA H_6NIX W_6VdP",rtlRawScaleX:"rtlR_h_2gl0WC",deleteButton:"D_Z1YJkyX gl_C en_0 P_0 q_n O4_N I4_Z1gjd5v it3_dRA H_6NIX W_6VdP k_w b_efTvb e_dRA",trashIcon:"cdPFi_Zjpysv cdPFi4_ZmDiLl"},"kind-MESSAGE":{composeToolbar:"W_A z_n i_N H_72FG",toolbarContainer:"gl_C z_2w4lU5"},"kind-VACATION_RESPONSE_SETTINGS":{composeToolbar:"W_A i_N H_7ceA P_2aKOEx",toolbarContainer:"gl_C z_2w4lU5"},disabled:{composeToolbar:"cZW7ROP_n O_od"},fixed:{composeToolbar:"p_f Z_e69",toolbarPlaceholder:"W_6D6F H_7qGO"},disabledButton:{sendButton:"q_ZpQYvz C_ZvsWfq cZW7ROP_n"},hasBottomMargin:{composeToolbar:"B_73HH"}},_key:"Z1uHsHj"}},71628:e=>{"use strict";e.exports={className:{default:{container:"p_R D_F ab_C P_eo6 o_h r_P",input:"p_a T_0 L_0 O_0 r_P o_h W_0 H_0 cZW7ROP_A",hiddenInput:"D_n"},pointerEventsDisabled:{input:"cZW7ROP_n"},noPadding:{container:"P_0"}},_key:"XelRc"}},77201:(e,t,s)=>{"use strict";s.d(t,{Z:()=>C});var a=s(99095),n=s(4832),r=s(10728),o=s(29824),i=s(18446),l=s.n(i);const c=()=>{},d=(0,a.defineMessages)({inlineImageAltText:{id:"compose.inline_image",defaultMessage:"Inline image"},emojiAltText:{id:"compose.emoji_image",defaultMessage:"Emoji"},gifPickerAttribution:{id:"compose.gif_picker_attr",defaultMessage:"Via {htmlImage}"}}),{IMAGE_BIG_WIDTH:_}=n.INLINE_IMAGE_PLUGIN_SIZE,{INLINE_IMAGE_CLASS:E,EMOJI_WRAPPER_CLASS:u,ONLINE_GIF_CLASS:m,GIF_WRAPPER_CLASS:S}=n.INLINE_IMAGE_PLUGIN_CLASSES;function p(e,t,s=c){try{const a=window.getSelection();e.restoreCaret(),a&&!e.element.contains(a.anchorNode)&&e.focus(),e.pushButton("insertHTML",t),e.saveUndo(),s()}catch(a){console.error(a)}}const C={findGifWrapper(e){for(;e&&-1===e.className.indexOf(S);)e=e.parentNode;return e},insertEmoji(e,t,s){const a=new Image;a.alt=a.title=t(d.emojiAltText),a.classList.add(u),a.height=s.height,a.src=s.downloadLink,a.style.padding="0px 2px",a.style.verticalAlign="middle",a.width=s.width,p(e,a.outerHTML,(()=>{e.contentChanged({type:"emoji_inserted",eventData:{emoji:s}})}))},insertGif(e,t,s){const a=new Image;a.alt=a.title=s.altText,a.src=s.downloadLink,a.className=E+" "+m,a.setAttribute("data-id",Date.now()),a.draggable=!1,p(e,function(e,t,{onlineContentLink:s}){const a=e(d.gifPickerAttribution,{htmlImage:'<img src="https://s.yimg.com/nq/gif-providers/1/gif-providers/tenor.png"/>'});let n={"font-size":r.qNP,color:r.E6z.vzm_gandalf,"margin-top":"8px","font-family":"Arial"};return n=Object.keys(n).map((e=>e+":"+n[e])).join(";"),`<div><br></div><div class="${S}" contentEditable="false">\n               <a rel="noreferrer"\n                   target="_blank"\n                   href="${s}"\n                   style="cursor:pointer;text-decoration: none;color:transparent"\n               >${t.outerHTML}\n                   <div style="${n}" class="rte-gif-attribution">${a}</div>\n               </a></div><div><br></div>`}(t,a,s),(()=>{e.contentChanged({type:"gif_inserted",eventData:{gif:s}}),e.scrollCaretIntoView()}))},getOffsetFromEditorContainer(e,t){const s={top:0,left:0};for(;t&&t!==e.element.parentNode&&t!==document.body;)s.top+=t.offsetTop,s.left+=t.offsetLeft,t=t.offsetParent;return s},insertLink(e,t){p(e,`<div class='pasted-link'><a href="${t}">${t}</a></div>`,(()=>e.scrollCaretIntoView()))},insertInlineAttachment(e,t,s){const{contentId:a}=s,n=new Image;n.setAttribute("data-id",a),n.alt=n.title=t(d.inlineImageAltText),n.src=s.downloadUrl,n.classList.add(E),n.style.maxWidth=_+"px",n.draggable=!1,p(e,n.outerHTML+"<br/>",(()=>e.scrollCaretIntoView()))},insertTemplateAttachment(e,t,s,a){const{contentId:n}=s,r=t(d.inlineImageAltText);a.setAttribute("data-id",n),a.alt=r,a.title=r,a.src=s.downloadUrl,a.classList.add(E),"50%"===a.style.width&&(a.style.width="100%"),a.style.padding="0px",a.draggable=!1},isGif:e=>e.className.indexOf(S)>-1||e.className.indexOf(m)>-1,putCursorBefore(e){const t=window.getSelection(),s=document.createRange();s.setStartBefore(e),s.collapse(!0),t.removeAllRanges(),t.addRange(s)},removeInlineImage(e,t,s=c){let a=n.EDITOR_EVENTS.inline_image_removed;this.isGif(t)&&(t=this.findGifWrapper(t.parentNode),a=n.EDITOR_EVENTS.gif_removed),t.parentNode.removeChild(t),e.contentChanged({type:a}),s()},resetLayoutBlock({rte:e,element:t,event:s,callback:a=c,placeholderText:r=""}){const o=n.EDITOR_EVENTS[s];t.textContent=r,e.contentChanged({type:o}),a()},removeLayoutBlock({rte:e,element:t,event:s,callback:a=c}){const r=n.EDITOR_EVENTS[s];t.remove(),e.contentChanged({type:r}),a()},changeLayoutImage({rte:e,callback:t=c,element:s,newSrc:a}){e.contentChanged({type:n.EDITOR_EVENTS.newsletter_creation_image_change,eventData:{newSrc:a}}),s.src=a,t()},fixOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:a}){if(e&&t&&s){const{scrollTop:n}=s,r=this.getOffsetFromEditorContainer(a,e);let o=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);r.left+o>a.element.clientWidth&&(o=a.element.clientWidth-r.left);let i=e.clientHeight;if(r.top<n){const e=r.top;r.top=n,i-=s.scrollTop-e}Object.assign(t.style,{left:r.left+"px",top:r.top+"px",width:o+"px",height:i+"px",position:"absolute"})}},getOverlayPosition({hoveredElement:e,overlay:t,scrollableContainer:s,editor:a}){if(e&&t&&s){const{scrollTop:t}=s,n=this.getOffsetFromEditorContainer(a,e);let r=Math.min(e.clientWidth,s&&s.clientWidth||Number.MAX_VALUE);n.left+r>a.element.clientWidth&&(r=a.element.clientWidth-n.left);let o=e.clientHeight;return n.top<t&&(n.top=t,o-=s.scrollTop-n.top),{left:n.left,top:n.top,width:r,height:o}}return{top:0,left:0,width:0,height:0}},getNodeFromPath(e,t){if(!e)return null;for(e.normalize();t.length&&e&&e.hasChildNodes();)e=e.childNodes[t.pop()];return e},getBoundingClientRectTextNode(e){const t=document.createRange();if(!t)return;t.selectNode(e);const{x:s,y:a}=t.getBoundingClientRect();return{x:s,y:a}},getPathToNode(e,t,s){if(!e)return null;e.normalize();const a=[];if(t&&!s){const{x:s,y:a}=this.getBoundingClientRectTextNode(t),n={x:s,y:a},r=(0,o.formatPlaintextForDisplay)((0,o.convertToPlainText)(e));e.innerHTML=r;const i=(e,t)=>l()(this.getBoundingClientRectTextNode(e),t),c=Array.from(e.childNodes).findIndex((e=>t.textContent===e.textContent&&i(e,n)));return c>-1?[c]:[]}for(;t&&t!==e;){const e=t.parentNode;if(!e||!e.hasChildNodes())break;{const s=Array.from(e.childNodes).indexOf(t);a.push(s),t=e}}return a},getSelectionRange(){if("function"==typeof window.getSelection){const e=window.getSelection();if(e&&e.rangeCount>0)return e.getRangeAt(0)}return null},isValidStartOffsetForNode(e,t){switch(e.nodeType){case Node.TEXT_NODE:return t<=e.length;case Node.ELEMENT_NODE:return t<=e.childNodes.length;default:return!1}}}},12630:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(79483),n=s(4832),r=s(92559);function o({type:e,eventData:t}){switch(e){case n.EDITOR_EVENTS.emoji_inserted:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.EMOJI_ADD,sec:r.nJ.RTE_TOOLBAR,interactionType:r.Rb.click,actionData:{emoji:t.emoji.source}}});break;case n.EDITOR_EVENTS.gif_inserted:if(a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.GIF_ADD,sec:r.nJ.RTE_TOOLBAR,interactionType:r.Rb.click}}),t.gif.feedbackUrl){const e=new Image;e.crossorigin="anonymous",e.src=t.gif.feedbackUrl}break;case n.EDITOR_EVENTS.gif_removed:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.GIF_REMOVE,sec:r.nJ.COMPOSE_MSG,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.gif_resized:a.ZP.sendI13nModel({setTo:t.size,i13nModel:{mKey:r.JE.GIF_CHANGE_SIZE,sec:r.nJ.COMPOSE_MSG,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.stationery_cleared:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.COMPOSE_CLEAR_STATIONERY,sec:t.sec,interactionType:r.Rb.click}});break;case n.EDITOR_EVENTS.default_stationery_cleared:a.ZP.sendI13nModel({i13nModel:{mKey:r.JE.COMPOSE_CLEAR_DEFAULT_STATIONERY,sec:t.sec,interactionType:r.Rb.click}})}}},19822:(e,t,s)=>{"use strict";s.r(t),s.d(t,{_getAccountFieldFromSelection:()=>A,addressHTMLString:()=>O,buildRecipients:()=>f,extractPidFromString:()=>P,getAttachmentDisposition:()=>M,getCaretCoordinates:()=>D,getFileFromDataURI:()=>b,getFontSizeStyle:()=>R,getFromAddress:()=>T,getFromAddressForReplyForward:()=>I,getInitialFocusRef:()=>g,getInvalidEmails:()=>C,getLocalizedFontFamilyName:()=>N,getSixDigitHexColor:()=>h,hasInvalidComposeField:()=>E,hasInvalidComposeFields:()=>m,hasInvalidComposeHeader:()=>u,hasTooFewComposeFields:()=>S,hasTooManyComposeFields:()=>p,imgAsDataUri:()=>v,isJSONString:()=>L,isRecipientFieldsFocused:()=>y,makeArray:()=>_});var a=s(17016),n=s(62631),r=s(4832),o=s(50566),i=s(99691),l=s(37422),c=s(4119),d=s(86460);function _(e){return""===e||null==e?[]:Array.isArray(e)?e.slice(0):[e]}function E(e){const{to:t,cc:s,bcc:a}=e,n=C(t,s,a)||[];return n.length?{name:o.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:t&&t.length||s&&s.length||a&&a.length?t.length+s.length+a.length>c.jQ?{name:o.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null:{name:o.COMPOSE_NO_ADDRESS_DETECTED}}function u(e){return m(e)||S(e)||p(e)}function m(e){const{to:t=[],cc:s=[],bcc:a=[]}=e,n=C(t,s,a)||[];return n.length?{name:o.COMPOSE_ADDRESSING_FAILED,params:{invalidAddresses:n}}:null}function S(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length<=0?{name:o.COMPOSE_NO_ADDRESS_DETECTED}:null}function p(e){const{to:t=[],cc:s=[],bcc:a=[]}=e;return t.length+s.length+a.length>c.jQ?{name:o.COMPOSE_RECIPIENT_LIMIT_EXCEEDED}:null}function C(){let e=[];return Array.prototype.slice.call(arguments).forEach((function(t){e=e.concat(t)})),e.map((({email:e})=>e)).filter((e=>!(0,a.isValidEmail)(e)))}function A(e,t){let s;const a=(0,n.Nu)(e);return t&&(s=a.find((({email:e})=>e===t))),s||(s=a.find((({isSending:e})=>!!e))),s||(s=a[0]||e[0]),s}function T(e,t){return A(e,t)}function I(e,t={}){const s=(0,n.Nu)(e);let a;return["to","cc","bcc"].forEach((e=>{a||(e=new Set(t[e].map((({email:e})=>e))),a=s.find((({email:t})=>e.has(t))))})),a||s.find((({isSending:e})=>!!e))||s.find((({isPrimary:e})=>!!e))||s[0]}function h(e){let t,s;if("number"==typeof e){for(e=e.toString(16);e.length<6;)e="0"+e;e="#"+(e=e.substr(4,2)+e.substr(2,2)+e.substr(0,2))}return"string"==typeof e&&(e.indexOf("rgb")>-1&&(t=e.split("(")[1].split(")")[0],t=t.split(","),s=t.map((function(e){return 1===(e=parseInt(e,10).toString(16)).length?"0"+e:e})),e="#"+s.join("")),4===e.length)?e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e}function g({focusSubject:e,initialTo:t=[],initialSubject:s=""}){let a=r.FocusableRefs.EDITOR;return e?a=r.FocusableRefs.SUBJECT:0===t.length?a=r.FocusableRefs.TO:0===s.length&&(a=r.FocusableRefs.SUBJECT),a}function O({name:e,email:t}){return e||(e=`"${t}"`),`${e} &lt;${t}&gt;`}function D(e){const t=window.getSelection(),s=e.getBoundingClientRect();let a=0,n=0;if(t&&t.rangeCount){const e=t.getRangeAt(0).cloneRange();if(e.getClientRects){e.collapse(!0);const t=e.getClientRects();if(t.length>0){const e=t[0];a=e.left-s.left,n=e.top-s.top}}if(0===a&&0===n){const t=document.createElement("span");if(t.getClientRects){t.appendChild(document.createTextNode("â")),e.insertNode(t);const r=t.getClientRects(),o=t.parentNode;if(r.length>0){const e=r[0];a=e.left-s.left,n=e.top-s.top}o.removeChild(t),o.normalize()}}}return{x:a,y:n}}function R(e){const t=Math.min(Number(e),7),s=c.TS.find((e=>e.fontSize===t));return s?s.value:c.N4.MEDIUM}function N(e,t=""){const s=d.Z["font_family_label_"+t.toLowerCase()];return s?e(s):null}function L(e){try{return JSON.parse(e),!0}catch(t){return!1}}function f(e){return e.reduce(((e,t=[])=>e.concat(t.map((({email:e})=>e)))),[]).filter((e=>(0,a.isValidEmail)(e)))}function M(e){const t=e.type.split("/");let s;return s=t.length>1?(0,i.SA)(t[0],t[1]):(0,i.SA)(e.type,e.subtype),s===l.sSc.SimplifiedTypes.IMAGE?l.sSc.Dispositions.INLINE:l.sSc.Dispositions.ATTACHMENT}function P(e){const t=/https:\/\/.*?mail.(yahoo|aol).com.*?(?:\?|&)pid=([0-9]*)/i;if(t.test(e)){const[,,s]=t.exec(e);return s}return""}function b(e){const t=e.match(/^(data):(.+)?;(.+?),/);if(!t||!window.atob)return null;const s=e.split(",")[1];let a;a="base64"===t[3]?atob(s):window.unescape(s);const n=a.length,r=t[2],o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=a.charCodeAt(l);const i=new Blob([o],{type:r});return i.name=`dataURI-${Date.now()}`,i.lastModifiedDate=new Date,i.isFromDataURI=!0,i}function y(e){return e===r.FocusableRefs.TO||e===r.FocusableRefs.BCC||e===r.FocusableRefs.CC}function v(e){return new Promise(((t,s)=>{try{const s=new Image,a=URL.createObjectURL(e);s.src=a,t({imgSrc:a,imgEl:s})}catch(a){s(`Error setting imgAsDataUri: ${a}`)}}))}},51404:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(45697),r=s.n(n),o=s(74449),i=s.n(o),l=s(19341),c=s(92559),d=s(37422),_=s(99095),E=s(85927),u=s(18685);const m=(e,t)=>{const{email:s,id:n,isBusiness:r,redirectToAffiliateLink:o,sectionValue:d,isAffiliatePartnerEnabled:_,website:E,isDarkMode:u}=e,m=d===c.nJ.MSG_BODY,S=d===c.nJ.MSG_LIST_SEARCH,p=t.getCss(i(),{websiteLinked:_||r&&!!E,isMerchantCard:m,isSearchContactCard:S});let C=l.u8.L;return m&&(C=l.u8.MEDIUM_PLUS),S&&(C=l.u8.UNIFY_DESIGN_L),a.createElement("div",{className:p.leftColElement},a.createElement("div",{title:_?E:null,className:p.avatarContainer,onClick:e=>{if(r&&E)return!_&&E?(window.open(E,"_blank","noreferrer"),void e.stopPropagation()):void o(e,d,"logo")},"data-test-id":"contact-card-avatar"},a.createElement(l.ZP,{contact:{email:s,id:n},size:C,isDarkMode:u})))};m.contextTypes={intl:_.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func};const S=(0,u.connect)(((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a}=(0,E.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&a(d.ANe.AFFILIATE_PARTNER)}}))(m)},19276:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(45697),r=s(99e3),o=s.n(r),i=s(9026),l=s(18685),c=s(85927),d=s(37422),_=s(99095),E=s(91742);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const m=({relationshipHistory:e,isBusiness:t,isEnabled:s,onContactClick:n,isFullPaneContactsActive:r},l)=>{if(!s||t||!e)return null;const{prose:c}=e;if(!c||0===c.length)return null;const{getCss:d}=l,_=(0,i.$o)({context:l,includeMedium:!r}),E=d(o(),{darkStyles:_});return a.createElement("div",{className:E.contactSummary,"data-test-id":"contact-card-summary"},c.map(((e,t)=>{const s={},{type:r,name:o=""}=e;return"contact"===r&&"you"!==o&&(s.className=E.contact,s.onClick=n.bind(void 0,e)),a.createElement("span",u({"data-test-id":`summary-part-${t}`,key:t},s),o||e||"")})))};m.defaultProps={isBusiness:!1},m.contextTypes={intl:_.intlShape,getCss:n.func,getThemeMode:n.func,getTheme:n.func};const S=(0,l.connect)((e=>{const{isFeatureEnabled:t}=(0,c.selectors)(e);return{isEnabled:t(d.ANe.CONTACT_SUMMARY)}}),(e=>({onContactClick:({name:t,smtp:s})=>e((0,E.lY)({smtp:s,name:t}))})))(m)},41590:(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});var a=s(67294),n=s(45697),r=s.n(n),o=s(86697),i=s.n(o),l=s(99095),c=s(76531),d=s(9333),_=s(9026),E=s(5359),u=s(69511),m=s(44278),S=s(17016);const p=()=>{},C=({name:e,onContactNameClick:t,onContactNameDoubleClick:s=p,email:n,isFullPaneContactsActive:r,isInRightRail:o,isMobile:l,isEnhancedContactCard:C=!1},A)=>{const{intl:{formatMessage:T}}=A,I=(0,_.$o)({context:A,includeMedium:!r})&&o,h=A.getCss(i(),{isEnhancedContactCard:C,darkVariations:I,isMobile:l,defaultName:!e&&!n}),g=e||n||T(E.j.default_contact_name),O="rtl"===(0,u.getTextDirection)(g)?h.rtlIgnoreDirRTL:h.rtlIgnoreDirLTR,D=(0,S.isBusinessOutboundLinkDisabled)(n);return a.createElement("div",{className:h.searchSection,"data-test-id":"contact-card-search"},a.createElement("div",{"data-test-id":"contact-card-name","data-id":"contact-card-name",className:h.name+" "+O,title:g,onClick:D?p:t,onDoubleClick:s},g),C?a.createElement("span",{className:h.groupedIconsSection,onClick:e=>e.stopPropagation()},a.createElement("span",{className:h.iconsSection,onClick:t},a.createElement(d.default,{paddingLess:!0,"data-test-id":"enhanced-contact-card-search-icon",className:h.searchIcon,title:T(E.j.search,{name:g}),kind:l?c.Kinds.SEARCH:c.Kinds.SEARCH_MINI,size:l?c.Sizes.S:c.Sizes.XS,colorState:c.ColorStates.INHERITED})),a.createElement("span",{className:h.partnerIcon},a.createElement(m.ZP,{isOnDarkBackground:I,size:c.Sizes.XS}))):a.createElement("span",{className:h.iconsSection,onClick:t},a.createElement(d.default,{paddingLess:!0,"data-test-id":"contact-card-search-icon",className:h.searchIcon,title:T(E.j.search,{name:g}),kind:l?c.Kinds.SEARCH:c.Kinds.SEARCH_MINI,size:l?c.Sizes.S:c.Sizes.XS,colorState:c.ColorStates.INHERITED})))};C.contextTypes={intl:l.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func},C.defaultProps={isInRightRail:!1};const A=C},7599:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(67294),n=s(45697),r=s.n(n),o=s(57677),i=s.n(o),l=s(9026);const c=({position:e,isFullPaneContactsActive:t,isInRightRail:s,isMobile:n},r)=>{if(!e)return null;const o=r.getCss(i(),{darkVariations:(0,l.$o)({context:r,includeMedium:!t})&&s,isMobile:n});return a.createElement("div",{"data-test-id":"contact-card-position",className:o.position,title:e},e)};c.contextTypes={getCss:r().func,getThemeMode:r().func,getTheme:r().func},c.defaultProps={isInRightRail:!1};const d=c},67265:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>b});var a=s(67294),n=s(18685),r=(s(45697),s(3727)),o=s.n(r),i=s(76223),l=s.n(i),c=s(99095),d=s(9333),_=s(18030),E=s(76531),u=s(65304),m=s(10728),S=s(8470),p=s(94482),C=s(11160),A=s(31509),T=s(85927),I=s(92559),h=s(37422),g=s(17016),O=s(78041),D=s(79483),R=s(40918),N=s(59959),L=s(72484);const f=l()(o()),M=(0,c.defineMessages)({merchantCardMenu:{id:"merchant_card_hide_deal_tooltip",defaultMessage:"Deal summaries options"}}),P=(e,t)=>{const{formatMessage:s}=t.intl,{onDealRecoClick:n,hideDealSetting:r,toggleDealRecommendationsPreview:o,showDealsRecommendControlCue:i}=e;return a.createElement("div",{className:f.container},a.createElement(C.Z,null,a.createElement(A.Z,null,a.createElement(d.default,{kind:E.Kinds.MORE,size:E.Sizes.XS,colorState:E.ColorStates.INHERITED,title:s(M.merchantCardMenu),"aria-haspopup":!0})),a.createElement(_.ZP,{offset:8,arrowSize:u.Jk.M,triggerOn:u.K2.CLICK,permittedArrowDirections:[u.Ji.UP],zAltitude:m.LSY.POPOVER.HIGH,align:u.xM.END},a.createElement("div",{className:f.menu},a.createElement(S.Z,{focusOnMount:!0,layout:O.A.VERTICAL,kind:R.F.MENU},a.createElement(p.Z,null,a.createElement("a",{"data-test-id":"deals-toggle-contact-card",className:f.menuOption,onClick:e=>{i?o({dealsRecommendationsAllowed:!r,i13nModel:{mKey:I.JE.MERCHANT_CARD_TOGGLE_PREVIEW_DEALS,sec:I.nJ.CONTACT_CARD,interactionType:I.Rb.click,actionData:{previewValue:r}}}):n(e,I.nJ.CONTACT_CARD)},tabIndex:-1},a.createElement(c.FormattedMessage,{id:"merchant_card.toggle_deal_summaries",defaultMessage:"{hideDealSetting, select,\n                                                                            true {Show}\n                                                                            false {Hide}\n                                                                            } deal summaries",values:{hideDealSetting:r}}),a.createElement(L.ZP,null))),a.createElement(p.Z,null,a.createElement("a",{"data-test-id":"privacy-policy-contact-card",target:"_blank",rel:"noopener noreferrer",className:f.menuOption,href:e.privacyUrl,onClick:e=>{D.ZP.sendI13nModel({i13nModel:{mKey:I.JE.MERCHANT_CARD_MENU_PRIVACY_CLICKED,sec:I.nJ.CONTACT_CARD,interactionType:(0,g.getInteractionFromEvent)(e)}})},tabIndex:-1},a.createElement(c.FormattedMessage,{id:"merchant_card_menu.privacy_policy",defaultMessage:"Privacy policy"}))))))))};P.contextTypes={intl:c.intlShape.isRequired},P.defaultProps={hideDealSetting:!0};const b=(0,n.connect)((e=>{const{getSetting:t,isFeatureEnabled:s}=(0,T.selectors)(e);return{privacyUrl:t(h.Zrf.PRIVACY_URL),hideDealSetting:s(h.ANe.HIDE_DEALS_ENABLED),showDealsRecommendControlCue:s(h.ANe.DEALS_RECOMMEND_CONTROL_CUE)}}),(e=>({onDealRecoClick:t=>e((0,N.co)(t)),toggleDealRecommendationsPreview:t=>e((0,N.Oc)(t))})))(P)},8153:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(67294),n=s(45697),r=s(76531),o=s(41205),i=s.n(o),l=s(99095),c=s(43007),d=s(9026);const _=(0,l.defineMessages)({backyard:{id:"contact_card.backyard",defaultMessage:"backyard profile"},flickr:{id:"contact_card.flickr",defaultMessage:"flickr profile"},facebook:{id:"contact_card.facebook",defaultMessage:"facebook profile"},linkedin:{id:"contact_card.linkedin",defaultMessage:"linkedin profile"},twitter:{id:"contact_card.twitter",defaultMessage:"twitter profile"}}),E=e=>{e.stopPropagation()},u=(e,t)=>{const{formatMessage:s}=t.intl,{isInRightRail:n,contextOfUse:o=""}=e,l=(0,d.$o)({context:t,includeMedium:!0}),u=n&&l,m=t.getCss(i(),{darkVariations:u,isEnhancedContactCard:"enhancedContactCard"===o}),{contact:{backyard:S,facebook:p,twitter:C,linkedin:A,flickr:T}={}}=e,I=m.socialIcon,h=[{href:S&&`https://directory.ouryahoo.com/view/vzm/${S}`,iconType:r.Kinds.HOME,iconClassName:m.backyardIcon,title:s(_.backyard)},{href:p,iconType:r.Kinds.FACEBOOK,colorState:u?r.ColorStates.INHERITED:r.ColorStates.FACEBOOK_ENABLED,iconClassName:I,title:s(_.facebook)},{href:C,iconType:r.Kinds.TWITTER,colorState:u?r.ColorStates.INHERITED:r.ColorStates.TWITTER_ENABLED,iconClassName:I,title:s(_.twitter)},{href:A,iconType:r.Kinds.LINKEDIN,colorState:u?r.ColorStates.INHERITED:r.ColorStates.LINKEDIN_ENABLED,iconClassName:I,title:s(_.linkedin)},{href:T,iconType:u?r.Kinds.FLICKR_MONOCHROME:r.Kinds.FLICKR,iconClassName:I,title:s(_.flickr)}].filter((({href:e})=>e));return h&&0!==h.length?a.createElement("div",{className:m.social},h.map((e=>(e=>{const{iconType:t,href:s,title:n,iconClassName:o,colorState:i}=e;return a.createElement("a",{"data-test-id":"contact-card-social",key:t,className:o,href:s,target:"_blank",onClick:E,title:n,rel:"noreferrer"},a.createElement(c.Z,{kind:t,size:r.Sizes.XS,colorState:i||r.ColorStates.INHERITED}))})(e)))):null};u.defaultProps={isInRightRail:!1},u.contextTypes={intl:l.intlShape,getCss:n.func,getThemeMode:n.func,getTheme:n.func};const m=u},40343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(67294),n=s(45697),r=s.n(n),o=s(5061),i=s.n(o),l=s(37422),c=s(99095),d=s(85927),_=s(18685);const E=(e,t)=>{const{contextOfUse:s="",isAffiliatePartnerEnabled:n,redirectToAffiliateLink:r,sectionValue:o,website:l,isMerchantCard:c=!1}=e,d=t.getCss(i(),{websiteLinked:n||!!l,isEnhancedContactCard:"enhancedContactCard"===s});if(!l)return c?a.createElement("div",{className:d.placeHolder}):null;return a.createElement("div",{title:l,className:d.website,onClick:e=>{if(!n||l&&!r)return window.open(l,"_blank","noreferrer"),void e.stopPropagation();r(e,o,"weblink")}},l.split("://").pop().replace(/\/+$/,""))};E.contextTypes={intl:c.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func};const u=(0,_.connect)(((e,{website:t,isBusiness:s})=>{const{isFeatureEnabled:a}=(0,d.selectors)(e);return{isAffiliatePartnerEnabled:s&&t&&a(l.ANe.AFFILIATE_PARTNER)}}))(E)},5359:(e,t,s)=>{"use strict";s.d(t,{j:()=>a,s:()=>n});const a=(0,s(99095).defineMessages)({sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},search:{id:"contact_card.search",defaultMessage:"Search for emails from {name}"},default_contact_name:{id:"contact.unknown_name",defaultMessage:"# Unknown name"}}),n=["ebay.be","ebay.ca","ebay.ch","ebay.co.uk","ebay.com.au","ebay.com.hk","ebay.com.my","ebay.com.sg","ebay.com","ebay.de","ebay.es","ebay.fr","ebay.ie","ebay.in","ebay.it","ebay.nl","ebay.ph"]},44763:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Le,j2:()=>Re});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(99095),l=(s(31280),s(30426)),c=s(18091),d=s(92559),_=s(17016),E=s(3405),u=s(9026),m=s(66488),S=s.n(m),p=s(85927),C=s(78737),A=s(8153),T=s(20045),I=s.n(T),h=s(76223),g=s.n(h);const O=g()(I()),D=e=>{const{allowAddToContacts:t}=e;return t?r.createElement("div",{"data-test-id":"contact-card-footer",className:O.containerFooter},r.createElement("div",{className:O.footerText},r.createElement(i.FormattedMessage,{id:"contact_card.footer",defaultMessage:"Auto generated card visible only to you"}))):r.createElement("span",{className:O.footer})};D.defaultProps={allowAddToContacts:!1};const R=D;var N,L,f,M=s(19276),P=s(51404),b=s(41590),y=s(7599),v=s(40343),F=s(44278),U=s(37422),k=s(91742),w=s(69511),G=s(9333),H=s(76531),B=s(45481),x=s(79483),V=s(67498),Z=s(28182),W=s(19341),K=s(10728),z=s(11396),Y=s.n(z);class j extends r.Component{render(){const{formatMessage:e}=this.context.intl,t=g()(Y());return r.createElement("div",{className:t.merchantCardContainer},r.createElement("span",{className:t.textWrapper},r.createElement("span",{className:t.textLeft},r.createElement(W.ZP,{contact:{},size:W.u8.MEDIUM_PLUS,useFallbackImage:!1})),r.createElement("span",{className:t.textRight},r.createElement("span",{className:t.textName},this.props.name),r.createElement("span",{className:t.textLink}))),r.createElement("span",{className:t.actionWrapper},r.createElement(V.Z,{kind:Z.F.PRIMARY,disabled:!0,style:{display:"flex",padding:`0 ${4*K.mg$}px`,margin:`0 ${2*K.mg$}px 0 ${3*K.mg$}px`,height:7.5*K.mg$+"px",lineHeight:6.75*K.mg$+"px"}},e(Re.visit_site))))}}N=j,L="contextTypes",f={intl:i.intlShape.isRequired},L in N?Object.defineProperty(N,L,{value:f,enumerable:!0,configurable:!0,writable:!0}):N[L]=f;var q=s(67265),X=s(40818),Q=s(27828),J=s.n(Q);function $(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ee={LOGO:"logo",TITLE:"title",VIEW_MORE_DEALS:"view_more_deals",VISIT_SITE:"visit_site",WEBLINK:"weblink"},te=(0,i.defineMessages)({prime_day_sale_text:{id:"search_contact_card.prime_day_sale_text",defaultMessage:"PRIME DAY SALE"},openNewTab:{id:"aria.openNewTab",defaultMessage:"open a new tab"}});class se extends r.Component{constructor(...e){super(...e),$(this,"state",{showCompactContactCard:!1}),$(this,"handleScroll",(()=>{var e,t;const{isStorefrontView:s,storefrontContainer:a}=this.props;s&&(null===(e=a.current)||void 0===e?void 0:e.scrollTop)<94&&this.state.showCompactContactCard&&this.setState({showCompactContactCard:!1}),s&&(null===(t=a.current)||void 0===t?void 0:t.scrollTop)>=94&&!this.state.showCompactContactCard&&this.setState({showCompactContactCard:!0})})),$(this,"i13nModel",(({mKey:e,interactedItem:t})=>{const{contact:s,email:a}=this.props,n={brandurl:null==s?void 0:s.website,featurefamily:U.lMo.IC,interactedItem:t,interactiontype:d.Rb.click,kpidriven:U.bf3,moment:"na",slot:d.KJ.BRAND_SEARCH,sndr:a,xpname:U.pdX.CONTACT_CARD};x.ZP.sendI13nModel({i13nModel:{mKey:e,sec:d.nJ.MSG_LIST_SEARCH,actionData:n}})})),$(this,"handleStorefrontBrandFollow",((e,t,s)=>{e.preventDefault(),e.stopPropagation();const{requestStorefrontBrandFollow:a,requestStorefrontBrandUnfollow:n,selectedAccountId:r}=this.props;s?n({accountId:r,brandId:t}):a({accountId:r,brandId:t})})),$(this,"_renderSearchContactCardBodyText",(()=>{const{contact:e,redirectToAffiliateLink:t,storefrontBrandInfo:s,storefrontBrandDeals:a}=this.props,{isBusiness:n=!1,website:o}=e||{},l=(null==s?void 0:s.numberOfMessages)||0;return!s||s&&!a||0===(null==a?void 0:a.length)?r.createElement(v.Z,{contextOfUse:"enhancedContactCard",isBusiness:n,isMerchantCard:!0,redirectToAffiliateLink:t,sectionValue:d.nJ.MSG_LIST_SEARCH,website:o}):a?r.createElement(i.FormattedMessage,{id:"search_contact_card.emails_deals",defaultMessage:"{numberOfMessages} {numberOfMessages, plural, =1 {email} other {emails}} | {numberOfDeals} {numberOfDeals, plural, =1 {deal} other {deals}}",values:{numberOfMessages:l,numberOfDeals:a.length}}):null})),$(this,"_renderLinkButton",(e=>{const{context:t}=this,{intl:s}=t,{formatMessage:a}=s;return r.createElement(V.Z,{"data-test-id":"visit_site_button",kind:Z.F.PRIMARY,onClick:e=>this.props.redirectToAffiliateLink(e,d.nJ.MSG_LIST_SEARCH,ee.VISIT_SITE),overridingClass:e.visitSite,role:"link","aria-label":a(te.openNewTab)},r.createElement(i.FormattedMessage,{id:"search_contact_card.visit_site",defaultMessage:"Visit site"}))})),$(this,"renderPrimeDayLabel",(e=>r.createElement("div",{className:e.label,"data-test-id":"prime_day_label"},r.createElement(G.default,{kind:H.Kinds.BOX,size:H.Sizes.XXXS,colorState:H.ColorStates.INHERITED,className:e.labelIcon}),r.createElement("span",{className:e.textPadding},r.createElement(i.FormattedMessage,te.prime_day_sale_text)))))}componentDidMount(){window.addEventListener("scroll",this.handleScroll,!0)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll,!0)}render(){const{contact:e,email:t,isCompactView:s,isDarkTheme:a,isStorefrontView:n,redirectToAffiliateLink:o,storefrontBrandInfo:i,isPrimeDayLabelEnabled:l}=this.props,c=null==i?void 0:i.logo,_=null==i?void 0:i.name,E=null==i?void 0:i.followed,u=null==i?void 0:i.brandId,m=(null==e?void 0:e.name)||_,S=null==e?void 0:e.isBusiness,p=null==e?void 0:e.id,C=(null==e?void 0:e.website)||(null==i?void 0:i.website),{showCompactContactCard:A}=this.state,T=g()(J(),{isStorefrontView:n,isCompactView:s,isDarkTheme:a}),I="Amazon"===(null==e?void 0:e.firstName)&&l;return r.createElement(r.Fragment,null,(()=>r.createElement("div",{className:T.cardContainer},r.createElement("span",{className:T.textWrapper},e&&r.createElement(P.Z,{email:t,id:p,isBusiness:S,redirectToAffiliateLink:o,sectionValue:d.nJ.MSG_LIST_SEARCH,website:C}),n&&!e&&c&&r.createElement("div",{"data-test-id":"brand-logo",onClick:e=>o(e,ee.logo)},r.createElement("img",{src:c,alt:_,width:W.u8.MEDIUM_PLUS.imageSize,height:W.u8.MEDIUM_PLUS.imageSize,className:T.avatarImg})),r.createElement("div",{className:T.textRight},r.createElement("span",{className:T.textName,"data-test-id":"coupon_head_name",onClick:C?e=>o(e,d.nJ.MSG_BODY,ee.TITLE):()=>{}},e&&m,!e&&n&&m,r.createElement(G.default,{"data-test-id":"star-brand",className:T.starButton,"aria-label":"star-brand",colorState:E?H.ColorStates.STARRED:H.ColorStates.LESS_IMPORTANT,kind:E?H.Kinds.BIG_STAR:H.Kinds.BIG_STAR_OUTLINE,size:H.Sizes.XXS,onClick:e=>this.handleStorefrontBrandFollow(e,u,E),"aria-selected":E?"selected":"unselected"}),I&&this.renderPrimeDayLabel(T)),r.createElement("span",{className:T.textLink},this._renderSearchContactCardBodyText()))),r.createElement("span",{className:T.actionWrapper},s&&r.createElement("div",{"data-test-id":"compact-view",className:T.viewStorePage}),C&&this._renderLinkButton(T))))(),n&&A&&(()=>r.createElement("div",{className:T.compactContainer},r.createElement("div",{"data-test-id":"compact-brand-logo",className:T.compactLogoImageContainer,onClick:e=>o(e,ee.logo)},r.createElement("img",{className:T.compactLogoImage,src:c,alt:_})),r.createElement("div",{className:T.compactBrandInfo},r.createElement("div",{"data-test-id":"compact-brand-name",className:T.textName,onClick:e=>o(e,ee.TITLE)},_)),r.createElement("div",{className:T.actionArea},this._renderLinkButton(T))))())}}$(se,"contextTypes",{intl:i.intlShape.isRequired});const ae=(0,o.connect)(((e,t)=>{const{email:s,selectedBrandId:a=""}=t,{getCouponsSelectors:n,getSelectedAccountId:r,getStorefrontBrandsSelectors:o,isFeatureEnabled:i}=(0,p.selectors)(e),{doesDealExist:l,getDealFromCmid:c}=n(),d=(0,_.getRootDomainFromEmailAddress)(s),{getBrandIdFromDomain:E,getBrandInfoFromBrandId:u,getStorefrontDealCmidsFromBrandId:m}=o(),S=E(d)||a,C=u(S),A=(m(S)||[]).filter((e=>l(e))).map((e=>c(e)));return{isStorefrontEnabled:i(U.ANe.STOREFRONT),selectedAccountId:r(),storefrontBrandDeals:A,storefrontBrandInfo:C,isPrimeDayLabelEnabled:i(U.ANe.PRIME_DAY_LABEL)}}),(e=>({navigateToRoute:t=>e((0,C.Ch)(t)),requestStorefrontBrandFollow:t=>e((0,X.qs)(t)),requestStorefrontBrandUnfollow:t=>e((0,X.O$)(t))})))(se);var ne=s(7387),re=s.n(ne);function oe(){const e=g()(re());return r.createElement("div",{className:e.cardContainer},r.createElement("span",{className:e.textWrapper},r.createElement(W.ZP,{contact:{},size:W.u8.UNIFY_DESIGN_L,useFallbackImage:!1})))}var ie=s(55831),le=s(6097),ce=s(96943);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let Ee=null,ue=!1;var me=s(5156),Se=s(83034),pe=s(58599),Ce=s.n(pe),Ae=s(7426),Te=s(94070);const Ie=(0,i.defineMessages)({verified_sender:{id:"verified_sender",defaultMessage:"Verified Sender"},bimi_message_first_paragraph:{id:"bimi_message_first_paragraph",defaultMessage:"{mailBrandNameString} has verified that this email was sent by the brand owning the logo being shown."},bimi_message_second_paragraph:{id:"bimi_message_second_paragraph",defaultMessage:"We use the BIMI (Brand Indicators for Message Identification) standard for verification."},bimi_verified_sender:{id:"bimi_verified_sender",defaultMessage:"Sender verified by {mailBrandNameString}"}}),he=({bimiHelpUrl:e,email:t,name:s})=>{const a=(0,Se.Z)(Ce()),{formatMessage:n}=(0,Ae.Y)(),{mailBrandNameString:o}=(0,Te.B)();return r.createElement("div",{className:a.bimiFlexAll},r.createElement("p",{className:a.bimiDescription},n(Ie.bimi_message_first_paragraph,{mailBrandNameString:o})," ",r.createElement("a",{"data-test-id":"bimi_learn_more_link",className:a.bimiButton,href:e,target:"_blank",referrerPolicy:"strict-origin",onClick:()=>{const a=d.JE.BIMI_EXPERIMENT,n={mailBrandNameString:o,bimiHelpUrl:e,email:t,name:s,bimiLearnMoreLinkClicked:!0};x.ZP.sendI13nModel({i13nModel:{mKey:a,sec:d.nJ.MSG_BODY,actionData:n}})}},r.createElement(i.FormattedMessage,{id:"settings_learn_more",defaultMessage:"Learn more"}))))};function ge(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Oe="title",De="visit_site",Re=(0,i.defineMessages)({addToContacts:{id:"add_to_contacts",defaultMessage:"Add to contacts"},editContact:{id:"edit_contact",defaultMessage:"Edit contact"},see_fewer_deals:{id:"contact_card.see_fewer_deals",defaultMessage:"See fewer deals"},see_all_deals:{id:"contact_card.see_all_deals",defaultMessage:"See all deals"},visit_site:{id:"contact_card.visit_site",defaultMessage:"Visit site"},welcome_back:{id:"contact_card.welcome_back",defaultMessage:"Welcome back!"},welcome_back_body:{id:"contact_card.welcome_back_body",defaultMessage:"Didn't find what you were looking for? You might likeâ¦"}});class Ne extends r.Component{constructor(...e){super(...e),ge(this,"merchantCardRef",r.createRef()),ge(this,"handleClick",(e=>{e.stopPropagation()})),ge(this,"_i13nModel",((e,t,s,a)=>{const{affiliateFeatures:n,contact:r,domainMap:o,email:i,isAffiliatePartnerEnabled:l,isInRightRail:c,isMerchantCard:_,isPotentialContactCard:E,isSearchContactCard:u,merchantCardFeature:m,messageIds:S=[],name:p,isStorefrontView:C,i13nMeta:A,selectedBrandId:T,storefrontBrandWebsite:I,isRelatedSearchContactCard:h}=this.props,{name:g,website:O,isBusiness:D,isInUserContactList:R}=r||{},N=this.getSlot();let L,f=!1,M=U.pdX.CONTACT_CARD;if(_?L=d.nJ.MSG_BODY:u?(L=d.nJ.MSG_LIST_SEARCH,M=U.pdX.SEARCH_CONTACT_CARD):(L=c?t||d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,h&&(M=U.pdX.SEARCH_CONTACT_CARD)),E&&(f=(0,B.Fg)(o,i,n).isMonetizable,M=U.pdX.POTENTIAL_CONTACT_CARD),l||E){const t={brandurl:O||"",featurefamily:U.lMo.IC,isBusiness:D,isInUserContactList:R,isMonetizable:f,kpidriven:U.bf3,merchantCardFeature:m,moment:"na",msgId:S[0],name:g||p,slot:N,sndr:i,xpname:C?U.pdX.SHORTCUTS_STORE_BRAND_HEADER:M,i13nMeta:e===d.JE.CARD_VIEW&&N===d.KJ.TOM&&A?A:void 0};T&&!r&&C&&(t.brandurl=I||"",t.isBusiness=!0,t.selectedBrandId=T),e===d.JE.CARD_INTERACT&&(t.interactiontype=d.Rb.click,t.affiliatePartner=a,t.interacteditem=s),x.ZP.sendI13nModel({i13nModel:{mKey:e,sec:L,actionData:t}})}})),ge(this,"getSlot",(()=>{const{isMerchantCard:e,isSearchContactCard:t,isInRightRail:s}=this.props;return e?d.KJ.TOM:t?d.KJ.BRAND_SEARCH:s?d.KJ.RIGHT_RAIL:d.KJ.HOVER})),ge(this,"redirectToAffiliateLink",((e,t,s)=>{const{contact:a,inboxCommerceFeatureClicked:n,isAffiliatePartnerEnabled:r,locale:o,partner:i,appId:l,route:c,storefrontBrandWebsite:_,affiliateCrumb:E,commerceIntentPageId:u}=this.props,m=(null==a?void 0:a.website)||_,{affiliatePartnerName:S,affiliatePartnerUrl:p}=r?(0,B.sx)({affiliateLink:m,locale:o,region:this.context.region,partner:i,appId:l,clickRef:U.pdX.CONTACT_CARD,route:c,affiliateCrumb:E,pageId:u,interactedItem:s,slot:this.getSlot()}):{affiliatePartnerName:"",affiliatePartnerUrl:""};this._i13nModel(d.JE.CARD_INTERACT,t,s,S),n({clicked:!0}),window.open(r?p:m,"_blank","noreferrer"),e.stopPropagation()})),ge(this,"openComposeView",(e=>{e.stopPropagation(),e.preventDefault();const{isCompose:t,email:s,onOpenComposeView:a}=this.props;t||a({route:(0,E.Rl)((0,_.generateUID)()),mailtoAttr:`mailto:${s}`,i13nModel:{mKey:d.JE.CONTACT_CARD_EMAIL_CLICKED,sec:d.nJ.CONTACT_CARD,interactionType:(0,_.getInteractionFromEvent)(e)}})})),ge(this,"handleContactNameClick",(e=>{e.stopPropagation(),e.preventDefault();const{contact:{name:t},email:s,onSearchRequested:a,isEnhancedContactCard:n,isInRightRail:r}=this.props;n&&e.target&&"contact-card-name"===e.target.getAttribute("data-id")?this.redirectToAffiliateLink(e,r?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,"title"):a({name:t,email:s})})),ge(this,"handleAddToContacts",(e=>{e.stopPropagation(),e.preventDefault();const{email:t,isCompose:s,contact:a}=this.props;this.props.addToContacts({id:a?a.id:void 0,email:t,isCompose:s,name:U.Qk$.CONTACTS_PANE,i13nModel:{mKey:d.JE.CONTACT_CARD_ADD_TO_CONTACTS,sec:d.nJ.CONTACT_CARD,interactionType:(0,_.getInteractionFromEvent)(e)}})})),ge(this,"handleEditContact",(e=>{const{isCompose:t,contact:s}=this.props;this.props.editContact({id:s?s.id:void 0,isCompose:t,name:U.Qk$.CONTACTS_PANE,i13nModel:{mKey:d.JE.CONTACT_CARD_EDIT_CONTACT,sec:d.nJ.CONTACT_CARD,interactionType:(0,_.getInteractionFromEvent)(e)}})})),ge(this,"_renderMerchantCard",(e=>{const{contact:t,email:s,hasMoreButton:a,isCompactView:n,isMerchantCardExpanded:o,name:i,showOutAndBackExpansionText:l,toggleMerchantCardExpandState:c,showMerchantCardMenu:_}=this.props,{formatMessage:E}=this.context.intl,{isBusiness:u=!1,website:m,id:S}=t||{},p=t.name||i,C=o?Re.see_fewer_deals:Re.see_all_deals;return r.createElement("div",{ref:this.merchantCardRef},r.createElement("div",{className:e.merchantCardContainer},r.createElement("span",{className:e.textWrapper},r.createElement("span",{className:e.textLeft},r.createElement(P.Z,{email:s,id:S,isBusiness:u,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:d.nJ.MSG_BODY,website:m})),t&&r.createElement("div",{className:e.textRight},r.createElement("span",{className:e.textName,"data-test-id":"coupon_head_name",onClick:l||!m?()=>{}:e=>this.redirectToAffiliateLink(e,d.nJ.MSG_BODY,Oe)},l?E(Re.welcome_back):p),!(n&&l)&&r.createElement("span",{className:e.textLink},l?E(Re.welcome_back_body):r.createElement(v.Z,{contextOfUse:"enhancedContactCard",isBusiness:u,isMerchantCard:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:d.nJ.MSG_BODY,website:m})))),r.createElement("span",{className:e.actionWrapper},a&&r.createElement(V.Z,{"data-test-id":"merchant_expand_button",kind:Z.F.SECONDARY,onClick:()=>c(),overridingClass:e.expandButton},E(C)),m&&r.createElement(V.Z,{"data-test-id":"visit_site_button",kind:Z.F.PRIMARY,onClick:e=>this.redirectToAffiliateLink(e,d.nJ.MSG_BODY,De),overridingClass:e.visitSite},E(Re.visit_site)),_?r.createElement(q.ZP,null):r.createElement("span",{className:e.partnerAttributionIcon},r.createElement(F.ZP,{size:H.Sizes.XXS})))))}))}componentDidMount(){this._getContactDetailsTimer=setImmediate((()=>{this.props.getContactDetails(this.props.contact)}))}componentDidUpdate(e){const{domainMap:t,onUpdateFinished:s,isAffiliatePartnerEnabled:a,isPotentialContactCard:n}=this.props;e.contact&&(e.domainMap||!t)||!a&&!n||this._i13nModel(d.JE.CARD_VIEW),s&&s()}componentWillUnmount(){this._getContactDetailsTimer&&clearImmediate(this._getContactDetailsTimer),this.props.showDealsRecommendControlCue&&this.props.closeDealsRecommendControlCue({name:U.ANe.DEALS_RECOMMEND_CONTROL_CUE,i13nModel:{mKey:`cue_${U.ANe.DEALS_RECOMMEND_CONTROL_CUE}_close`,sec:d.nJ.CONTACT_CARD},userAction:"close"})}render(){const{contact:e,email:t,enableAddToContacts:s,enableEditContacts:a,hasCoupons:n,isAffiliatePartnerEnabled:o,isCompactView:l,isCompose:c,isEnhancedContactCard:E,isInRightRail:m,isMerchantCard:p,isSearchContactCard:C,isStorefrontView:T,selectedBrandId:I,name:h,onDealsExpand:g,relationshipHistory:O,showOutAndBackExpansionText:D,storefrontContainer:N,hasBimiFeature:L,bimiHelpUrl:f}=this.props;if(!e&&!I)return p?r.createElement(j,{name:h}):T?r.createElement(oe,null):null;const{facebook:U,id:k,isBusiness:B=!1,linkedin:x,name:V,phonesWithType:Z=[],position:W,twitter:K,website:z}=e||{},Y=m?(0,u.OW)(this.context,!0):{},q=(0,u.$o)({context:this.context,includeMedium:!0}),X=m&&(n||o),Q=this.context.getCss(S(),{isInRightRail:m,isCompose:c,partnerIconEnabled:X,isEnhancedContactCard:E,isEnhancedInRightRail:m&&E,hasWebsiteLink:!!z,showOutAndBackExpansionText:D,...Y}),J=Z[0],$=U||x||K,ee="ltr"===(0,w.getTextDirection)(t)?Q.rtlIgnoreDirLTR:Q.rtlIgnoreDirRTL,{formatMessage:te}=this.context.intl,se=(0,_.isBusinessOutboundLinkDisabled)(t);return L?r.createElement(he,{bimiHelpUrl:f,email:t,name:h}):p?this._renderMerchantCard(Q):C||T?r.createElement(ae,{contact:e,email:t,isCompactView:!T&&l,isDarkTheme:!T&&(0,u.$o)({context:this.context}),isStorefrontView:T,selectedBrandId:I,onDealsExpand:g,redirectToAffiliateLink:this.redirectToAffiliateLink,storefrontContainer:N}):r.createElement("div",{"data-test-id":"contact-card",className:Q.container,onClick:this.handleClick,key:t},r.createElement("div",null,X&&!E&&r.createElement(F.ZP,{isOnDarkBackground:q,size:H.Sizes.S}),r.createElement("div",{className:Q.contactFlexContainer},r.createElement(P.Z,{email:t,id:k,isBusiness:B,isDarkMode:m&&q,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:m?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,website:se?"":z}),r.createElement("div",{className:Q.rightColElement},r.createElement("div",{className:Q.header},r.createElement(b.Z,{name:V||h,email:t,isInRightRail:m,onContactNameClick:this.handleContactNameClick,isEnhancedContactCard:E}),r.createElement(y.Z,{position:W,isInRightRail:m})),B&&!se&&r.createElement(v.Z,{contextOfUse:E?"enhancedContactCard":"",isBusiness:!0,redirectToAffiliateLink:this.redirectToAffiliateLink,sectionValue:m?d.nJ.RIGHT_RAIL:d.nJ.MSG_HEADER,website:z}),E&&B?null:r.createElement("a",{"data-test-id":"contact-card-email",className:Q.email+" "+ee,title:t,onClick:this.openComposeView},t),J&&r.createElement("div",{"data-test-id":"contact-card-phone",className:Q.phone,title:J.number},J.number),r.createElement("div",{className:E?Q.unclickableArea:null},E&&B?r.createElement("span",{className:Q.sharingPanel},r.createElement(G.default,{kind:H.Kinds.INBOX,size:H.Sizes.XS,onClick:this.openComposeView,colorState:H.ColorStates.INHERITED,className:Q.openComposeIcon,paddingLess:!0,title:t,"data-test-id":"open-email-icon"}),$&&r.createElement("span",{className:Q.vertical}),r.createElement(A.Z,{contact:e,isInRightRail:m,contextOfUse:"enhancedContactCard"})):r.createElement(A.Z,{contact:e,isInRightRail:m}),s&&r.createElement("a",{"data-test-id":"add-to-contacts",title:te(Re.addToContacts),className:Q.contacts,onClick:this.handleAddToContacts},r.createElement(i.FormattedMessage,{id:"add_to_contacts_from_card",defaultMessage:"+ Add to contacts"})),a&&r.createElement("a",{"data-test-id":"edit-contacts",title:te(Re.editContact),className:Q.contacts,onClick:this.handleEditContact},r.createElement(i.FormattedMessage,{id:"edit_contacts_from_card",defaultMessage:"Edit contact"}))))),r.createElement(M.Z,{relationshipHistory:O,isBusiness:B})),!m&&r.createElement(R,{allowAddToContacts:s}))}}ge(Ne,"contextTypes",{executeAction:n().func.isRequired,intl:i.intlShape,region:n().string,getCss:n().func,getThemeMode:n().func,getTheme:n().func,config:n().object}),ge(Ne,"defaultProps",{hasMoreButton:!1,isInRightRail:!1,isMerchantCard:!1,isMerchantCardExpanded:!1,isStorefrontView:!1,selectedBrandId:"",showOutAndBackExpansionText:!1,hasBimiFeature:!1,contactImage:"",bimiHelpUrl:"",bimiName:""});const Le=function(e){class t extends r.Component{constructor(...e){super(...e),_e(this,"state",{dataFetched:!1}),_e(this,"fetchJSON",(e=>new le.Z("GET",e).setHeader("Accept","application/json").send().then((e=>e.body))))}componentDidMount(){Ee||ue?this.setState({dataFetched:ue}):(ue=!0,this.fetchJSON(this.props.affiliateUrl).then((({affiliateDomains:e={},awinMerchantIds:t={},commissionJunctionUrls:s={},impactRadiusUrls:a={}})=>{Ee={affiliateDomains:e,awinMerchantIds:t,commissionJunctionUrls:s,impactRadiusUrls:a}})).then((()=>this.setState({dataFetched:ue}))).catch((e=>{ce.Z.error("Unable to fetch given affiliateUrl",{err:e,affiliateUrl:this.props.affiliateUrl})})))}render(){return this.state.dataFetched?r.createElement(e,de({},this.props,{domainMap:Ee})):r.createElement(e,this.props)}}return _e(t,"displayName",`WithDomainContext<${e.displayName||e.name||"Component"}>`),(0,o.connect)((e=>{const{getSetting:t}=(0,p.selectors)(e);return{affiliateUrl:t(U.Zrf.AFFILIATE_URL)}}))(t)}((0,o.connect)(((e,t)=>{const{email:s,messageIds:a=[],isInRightRail:n,selectedBrandId:r,isStorefrontView:o}=t,{getContactListSelectors:i,getCouponsSelectors:l,getEnvironmentSelectors:c,getMessagesSelectors:d,getSetting:_,isFeatureEnabled:E,isMessageRoute:u,getRoute:m,getStorefrontBrandsSelectors:S,getAffiliateCrumb:C,getFalconRelatedCardSelectors:A}=(0,p.selectors)(e),{isUserAddedContact:T,getContactIdByEmail:I,isEditable:h,getContactByEmail:g}=i(),O=I(s),D=g(s),R=D&&t.showContactSummary,{emailHasCoupons:N}=l(),L=N(),f=D&&D.website&&D.isBusiness,M=C();let P=D&&D.isBusiness&&D.website&&E(U.ANe.AFFILIATE_PARTNER);const b=_(U.Zrf.ENABLED_AFFILIATE_PARTNERS),y=E(U.ANe.ADD_EDIT_FROM_LIST_CARD),{getLoggerParams:v,getPartner:F,getAppId:k}=c(),{getDecos:w}=d(),G=w(a[0])||[],H=n&&D&&G.length&&!(0,ie.m3)(G,U.Jd6.PE);let B="";const{getCommerceIntentPageIdByBrandName:x}=A();if(r&&!D&&o){const{getBrandInfoFromBrandId:e}=S();B=e(r).website,P=!!B&&E(U.ANe.AFFILIATE_PARTNER)}return{affiliateFeatures:b,appId:k(),contact:D,enableAddToContacts:y&&!T(O)&&h(O),enableEditContacts:y&&T(O)&&h(O),hasCoupons:L,isAffiliatePartnerEnabled:P,isCompactView:_(U.Zrf.PREVIEW_PANE)===U.EsZ.RIGHT&&!u(),isEnhancedContactCard:f,isPotentialContactCard:H,locale:v().locale,merchantCardFeature:E(U.ANe.SHOW_MERCHANT_CARD),partner:F(),relationshipHistory:R&&D.relationshipHistory?D.relationshipHistory:void 0,route:m(),showDealsRecommendControlCue:E(U.ANe.DEALS_RECOMMEND_CONTROL_CUE),storefrontBrandWebsite:B,affiliateCrumb:M,commerceIntentPageId:x(null==D?void 0:D.name)}}),((e,t)=>{const{email:s,isCompose:a}=t;return{getContactDetails:t=>{null!=t&&t.editToken||e((0,l.KI)({email:s,isCompose:a}))},onSearchRequested:({name:t,email:s})=>e((0,k.lY)({smtp:s,name:t})),addToContacts:t=>e((0,l.XQ)(t)),editContact:t=>e((0,l.FT)(t)),inboxCommerceFeatureClicked:t=>e((0,c.c5)(t)),onOpenComposeView:t=>e((0,C.Hg)(t)),closeDealsRecommendControlCue:t=>e((0,me.hN)(t))}}))(Ne))},74449:e=>{"use strict";e.exports={className:{default:{avatarContainer:"W_A o_v H_tQ r_BN",leftColElement:"D_B gl_C"},websiteLinked:{avatarContainer:"r_P"},isMerchantCard:{avatarContainer:"H_rd"},isSearchContactCard:{avatarContainer:"H_rj"}},_key:"ZgD63r"}},66488:e=>{"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",container:"D_F ek_BB en_0 I_ZkbNhI r_BN W_3v1qi cZ1RN91d_GG X_6Fd5 N_6Fd5",email:"o_h J_x mq_CZ G_e r_P C_Z29WjXl S4_U ac_CI",phone:"Y_dRA",header:"U_fq7 p_R",rightColElement:"D_F ek_BB i_6EWk Q_6Eb4 o_h gl_C W_3o4BO",contactFlexContainer:"D_F A_6DUj c1AVi73_6EWk je_6Fd5 U_fq7",contacts:"r_P C_Z29WjXl S4_U ac_CI Y_eo6",merchantCardContainer:"ab_C D_F ek_EZ u_b gl_FM M_6Fd5 H_72FG p_R",textWrapper:"ab_C D_F",textLeft:"b_Z12rHwq e_e5X E_6Eb4",textRight:"D_F ek_BB",textName:"r_BN A_6FsP c1AVi73_6LUG C_Z281SGl",textLink:"A_6DUj c1AVi73_6EWk u_e69 C_Z29WjXl",actionWrapper:"D_F ab_C M_ZmsKgw",expandButton:"D_F gl_C P_1Eu7sD H_6TFj i_6Ntd J_x M_Z1feoPS",visitSite:"D_F H_6TFj i_6Ntd M_Z1feoPS P_1Eu7sD",partnerAttributionIcon:"Q_6Eb4"},isInRightRail:{container:"je_6LEV jb_6LEV k_w M_ZmdUJf W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz K_3I1y8 o_A",contactFlexContainer:"je_dm5 U_dm5"},partnerIconEnabled:{container:"je_eo6"},isCompose:{email:"r_BN C_Z281SGl S4_n"},isEnhancedContactCard:{container:"jb_0",contactFlexContainer:"A_6EqO c1AVi73_6FsP U_0",sharingPanel:"D_F gl_l",header:"U_dRA",phone:"Y_eo6 A_6EqO c1AVi73_6FsP",openComposeIcon:"P_Z1mVhPY cdPFi_Z1WGv5u",vertical:"n_Z1a7UWG H_6LEV M_1xQvDX",unclickableArea:"W_CD jb_fq7",contacts:"C4_Z29WjXl S4_n P_Z1mVhPY U_6Eb4"},isEnhancedInRightRail:{contactFlexContainer:"Y_6Eb4",unclickableArea:"jb_6MGW"},hasWebsiteLink:{textName:"r_P"},showOutAndBackExpansionText:{textName:"r_BN A_6MGW U_eo6",textLink:"r_BN u_b A_6EWk c1AVi73_6FYl C_Z281SGl"},darkModeNonPhotoTheme:{container:"I_ZS20V7 C_ZpQYvz l_T",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_NIGHT_LANDSCAPE:{container:"I_cOYF6 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_ROADTRIP:{container:"I_1iaDt1 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_SUNSET_AUSSIE:{container:"I_2woj1H C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_LIGHTHOUSE:{container:"I_t5YMW C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_SPRING:{container:"I_ZgFtst C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_WINTER:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_SUMMER:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_GALAXY:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_FALL:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_WESTERN:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"},darkModePhotoTheme_SUNSET:{container:"I_ZGiXN8 C_ZpQYvz l_a0xJ8",email:"C_Z2bg7IA",contacts:"C_Z2bg7IA",openComposeIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"}},_key:"1ggWaV"}},99e3:e=>{"use strict";e.exports={className:{default:{contactSummary:"gl_C A_6EqO c1AVi73_6FsP C_Z1YRXYn o_h je_6Fd5",contact:"r_P C_Z29WjXl"},darkStyles:{contactSummary:"C_ZvsWfq",contact:"C_Z2bg7IA"}},_key:"Z2m0imk"}},86697:e=>{"use strict";e.exports={className:{default:{rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg",name:"C_Z281SGl i_6MGW A_6EWk c1AVi73_6FYl u_b cZ1RN91d_GG w_AS k_w D_X a_3nHoX o_h",searchSection:"r_P D_F cdPFi_Z1YRXYn cdPFi4_Z29WjXl C4_Z29WjXl p_R",searchIcon:"Q_dRA cdPFi_q P_Z1nnkYl",iconsSection:"ac_CI"},isMobile:{name:"A_6FIA",searchSection:"gl_FM ab_C",searchIcon:"P_3gJOe"},isEnhancedContactCard:{iconsSection:"cdPFi4_Z29WjXl",searchSection:"cdPFi4_Z1YRXYn",groupedIconsSection:"r_BN D_F",partnerIcon:"P_Z1jFCVf",searchIcon:"P_xCFNf"},darkVariations:{name:"C_ZpQYvz",searchSection:"cdPFi_ZpQYvz cdPFi4_ZkbNhI C4_ZkbNhI"},defaultName:{name:"fd_i"}},_key:"Z1O7pAU"}},57677:e=>{"use strict";e.exports={className:{default:{position:"i_6LEV C_Z1VRqsb Y_dRA A_6EqO c1AVi73_6FsP c1AVi7H_6LEV q_T w_AS"},isMobile:{position:"A_6Fd5"},darkVariations:{position:"C_ZvsWfq"}},_key:"Z26EQi7"}},20045:e=>{"use strict";e.exports={className:{default:{containerFooter:"H_A z_Z12nDQf je_eTB jb_6DEy C_Z1YRXYn A_6DUj c1AVi73_6EWk",footerText:"X_eo6 N_eo6 i_6EqO",footer:"U_fq7"}},_key:"YWa4Q"}},3727:e=>{"use strict";e.exports={className:{default:{container:"Q_fq7 I_T cdPFi_Z1VRqsb cdPFi4_Z29WjXl r_P",menu:"je_fq7 jb_fq7 W_A H_A a_3v1qi",menuOption:"r_P D_F cZW7ROP_A je_eo6 jb_eo6 X_6Fd5 N_6Fd5 I4_Z1gjdjJ I3_Z1gjdjJ",menuOptionText:"ix_AS"}},_key:"2fnDWQ"}},27828:e=>{"use strict";e.exports={className:{default:{cardContainer:"ab_C I_ZkbNhI e_eo6 j_22SMn6 D_F ek_EZ u_b H_7qGO gl_FM M_1Wxz6o P_1EudUu",textWrapper:"ab_C D_F",textRight:"D_F ek_BB Q_6Eb4",textName:"D_F ab_C C_Z281SGl r_P A_6FsP u_b H_6MGW",starButton:"P_82XEY Q_ZyNtEn lv4_1IWXzk h4_2d9T5e",textLink:"C_Z1YRXYn A_6DUj c1AVi73_6EWk u_e69 Y_eo6",actionWrapper:"D_F ab_C",visitSite:"ab_C D_F H_6TFj i_6CC0 M_82XEY P_1Eu7sD J_x",compactContainer:"j_22SMn6 D_F gl_FM ab_C W_6D6F I_ZkbNhI H_7aVO p_a T_dm5 Z_pG",compactLogoImageContainer:"r_P p_a B_6Eb4 b_Z12rHwq e_e5X T_fq7 L_6LEV W_6UbO H_6UbO",compactLogoImage:"e_e5X W_6UbO H_6UbO",compactBrandInfo:"X_7iGr",actionArea:"D_F ab_C E_6LEV",avatarImg:"e_e5X",label:"Q_6DEy u_elT D_F ab_C C_Z2dxMf3 cdPFi_Z2dxMf3 i_6Fd5 A_6DUj",textPadding:"X_dRA"},isStorefrontView:{compactContainer:"T_7aVO L_dm5"},isCompactView:{cardContainer:"ab_CI ek_BB H_7Ig6 gl_FM P_6Eb4",textRight:"Q_fq7",viewStorePage:"E_fq7 W_74ed"},isDarkTheme:{cardContainer:"I_ZS20V7",textName:"C_ZkbNhI",textLink:"C_Zw4K57",visitSite:"I_ZamTeg l_ZamTeg",label:"C_Z287E9E cdPFi_Z287E9E"}},_key:"1Xaeu7"}},7387:e=>{"use strict";e.exports={className:{default:{cardContainer:"ab_C I_ZkbNhI e_eo6 j_22SMn6 D_F ek_EZ u_b H_7qGO gl_FM M_1Wxz6o P_1EudUu",textWrapper:"ab_C D_F"}},_key:"1nkjfz"}},41205:e=>{"use strict";e.exports={className:{default:{social:"D_F gl_l Y_fq7 Q6_67SN",socialIcon:"D_F E_6Eb4 cdPFi_ZpQYvz",backyardIcon:"D_F E_6Eb4 cdPFi_Z1oI2WW cdPFi4_Z29WjXl"},isEnhancedContactCard:{social:"Y_0",socialIcon:"E_eo6 P_IdQyw"},darkVariations:{backyardIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI",socialIcon:"cdPFi_ak5m8 cdPFi4_ZkbNhI"}},_key:"Z1myjCA"}},5061:e=>{"use strict";e.exports={className:{default:{website:"o_h J_x mq_CZ G_e r_A Y_dRA i_6EWk C_Z29WjXl S4_U",placeHolder:"H_6EGz"},websiteLinked:{website:"r_P"},isEnhancedContactCard:{website:"S4_n C4_Z29WjXl"},"themeMode-DARK":{website:"C_Z2bg7IA"},"themeMode-MEDIUM":{website:"C_Z2bg7IA"}},_key:"Z1oYPGa"}},95370:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(35723),c=s.n(l),d=s(8061),_=s(18685),E=s(91742),u=s(9026),m=s(17016),S=s(85927),p=s(37422),C=s(10728),A=s(9333),T=s(76531),I=s(92559);const h=({handleBackBtnClick:e,heading:t,nextBtn:s,backBtni13nModel:a,applyTheme:n,currentPaneView:o,contactsFullPaneEnabled:l,isFullPaneContactsActive:_,moveRightRailContactsToFullPane:E},S)=>{const h=n&&(0,u.$o)({context:S,includeMedium:!_}),g=i()(c(),{darkVariations:h,isFullPane:_}),O=t=>{let s;a&&(s={i13nModel:{...a,interactionType:(0,m.getInteractionFromEvent)(t)}}),e(s)},D=_?null:r.createElement(d.Z,{onClick:O,showText:!1,isOnDarkBackground:h,tabIndex:o===p.UA.CONTACT_DETAILS?C.iUz.CONTACTS_PANE_HEADER:0}),R=_?r.createElement(A.default,{kind:T.Kinds.CLOSE,size:T.Sizes.XS,onClick:O,colorState:T.ColorStates.INHERITED,isOnDarkBackground:h}):s;return r.createElement("div",{className:g.navigation},r.createElement("span",null,D),r.createElement("h2",{className:g.heading,"data-test-id":"contacts-pane-heading-title"},t),r.createElement("span",{className:g.rightAlign},l&&!_&&r.createElement("span",{className:g.rightAlignedItems,"data-test-id":"contacts-pane-heading-title"},r.createElement(A.default,{kind:T.Kinds.EXPAND,size:T.Sizes.XS,colorState:T.ColorStates.INHERITED,isOnDarkBackground:h,onClick:e=>E({i13nModel:{mKey:I.JE.CONTACTS_RR_MOVE_TO_FULL_PANE,sec:I.nJ.CONTACTS_FULL_PANE,interactionType:(0,m.getInteractionFromEvent)(e)}})})),r.createElement("span",{className:g.rightAlignedItems,"data-test-id":"contacts-pane-heading-next"},R)))};h.contextTypes={getThemeMode:n().func,getTheme:n().func};const g=(0,_.connect)((e=>{const{getContactListSelectors:t,isFeatureEnabled:s}=(0,S.selectors)(e),{getCurrentPaneView:a}=t(),{type:n}=a();return{currentPaneView:n,contactsFullPaneEnabled:s(p.ANe.CONTACTS_FULL_PANE)}}),((e,{backBtnPayload:t={}})=>({handleBackBtnClick:s=>e((0,E.Qx)({...s,...t})),moveRightRailContactsToFullPane:t=>e((0,E.lf)(t))})))(h)},35723:e=>{"use strict";e.exports={className:{default:{navigation:"F_n m_Z14vXdP H_72FG D_F ab_C gl_FM X_6Eb4 N_6Eb4",rightAlign:"D_F",rightAlignedItems:"F_27sF7m r_P",heading:"A_q c1AVi73_6FsP u_N"},isFullPane:{navigation:"H_6UbO"},darkVariations:{navigation:"C_ZpQYvz cdPFi_ZpQYvz cdPFi4_ZkbNhI m_Z1Hd0YK"}},_key:"hCqcG"}},7837:(e,t,s)=>{"use strict";s.d(t,{Aj:()=>u,HU:()=>m,KF:()=>E,PR:()=>o,Y7:()=>A,_t:()=>l,eB:()=>_,ec:()=>S,hx:()=>p,id:()=>C,j2:()=>r,qL:()=>i,rv:()=>c});var a=s(99095),n=s(37422);const r=(0,a.defineMessages)({addADate:{id:"contact_details.addADate",defaultMessage:"Add a date"},addAddress:{id:"contact_details.addAddress",defaultMessage:"Add address"},addEmail:{id:"contact_details.addEmail",defaultMessage:"Add email"},addPhone:{id:"contact_details.addPhone",defaultMessage:"Add phone"},address:{id:"contact_details.address",defaultMessage:"Address"},anniversary:{id:"contact_details.anniversary",defaultMessage:"Anniversary"},birthday:{id:"contact_details.birthday",defaultMessage:"Birthday"},cancelBtn:{id:"contact_details.cancelBtn",defaultMessage:"Cancel"},city:{id:"contact_details.city",defaultMessage:"City"},company:{id:"additional_contact_info.company",defaultMessage:"Employer"},contactDetails:{id:"contact_details.contactDetails",defaultMessage:"Contact details"},country:{id:"contact_details.country",defaultMessage:"Country"},create:{id:"contact_details.create",defaultMessage:"Create"},delete:{id:"contact_details.delete",defaultMessage:"Contact edit delete field"},edit:{id:"contact_details.edit",defaultMessage:"Edit"},email:{id:"contact_details.email",defaultMessage:"Email"},facebook:{id:"contact_details.facebook",defaultMessage:"Facebook"},fax:{id:"contact_details.fax",defaultMessage:"Fax"},home:{id:"contact_details.home",defaultMessage:"Home"},homeAddress:{id:"contact_details.homeAddress",defaultMessage:"Home Address"},homeEmail:{id:"contact_details.homeEmail",defaultMessage:"Home email"},homeFax:{id:"contact_details.homeFax",defaultMessage:"Home Fax"},homePhone:{id:"contact_details.homePhone",defaultMessage:"Home Phone"},linkedin:{id:"contact_details.linkedin",defaultMessage:"LinkedIn"},main:{id:"contact_details.main",defaultMessage:"Main"},mainPhone:{id:"contact_details.mainPhone",defaultMessage:"Main Phone"},maxLengthError:{id:"contact_details.maxLengthError",defaultMessage:"Maximum allowed number of characters is 4095"},mobile:{id:"contact_details.mobile",defaultMessage:"Mobile"},mobilePhone:{id:"contact_details.mobilePhone",defaultMessage:"Mobile Phone"},firstName:{id:"contact_details.firstName",defaultMessage:"First Name"},middleName:{id:"contact_details.middleName",defaultMessage:"Middle Name"},lastName:{id:"contact_details.lastName",defaultMessage:"Last Name"},nickname:{id:"contact_details.nickname",defaultMessage:"Nickname"},category:{id:"contacts.aolCategory",defaultMessage:"Group"},[n.Ygm.AUTO_ADDED]:{id:"contacts.category_auto_added",defaultMessage:"Auto-added"},[n.Ygm.CO_WORKERS]:{id:"contacts.category_co_workers",defaultMessage:"Co-workers"},[n.Ygm.FAMILY]:{id:"contacts.category_family",defaultMessage:"Family"},[n.Ygm.FRIENDS]:{id:"contacts.category_friends",defaultMessage:"Friends"},[n.Ygm.UNCATEGORIZED]:{id:"contacts.category_uncategorized",defaultMessage:"Uncategorized"},[n.Ygm.GENERAL]:{id:"contacts.category_general",defaultMessage:"General"},notes:{id:"contact_details.notes",defaultMessage:"Notes"},other:{id:"contact_details.other",defaultMessage:"Other"},otherPhone:{id:"contact_details.otherPhone",defaultMessage:"Other Phone"},pager:{id:"contact_details.pager",defaultMessage:"Pager"},personalDetails:{id:"contact_details.personal_details",defaultMessage:"Personal details"},phone:{id:"contact_details.phone",defaultMessage:"Phone"},position:{id:"contact_details.job_title",defaultMessage:"Job title"},removeEmail:{id:"contact_details.remove_email_btn",defaultMessage:"Remove email"},removePhone:{id:"contact_details.remove_phone_btn",defaultMessage:"Remove phone"},removeAddress:{id:"contact_details.remove_address_btn",defaultMessage:"Remove address"},saveBtn:{id:"contact_details.saveBtn",defaultMessage:"Save"},state:{id:"contact_details.state",defaultMessage:"State or Province"},street:{id:"contact_details.street",defaultMessage:"Street"},twitter:{id:"contact_details.twitter",defaultMessage:"Twitter"},website:{id:"contact_details.website",defaultMessage:"Website"},work:{id:"contact_details.work",defaultMessage:"Work"},workAddress:{id:"contact_details.workAddress",defaultMessage:"Work Address"},workDetails:{id:"contact_details.workDetails",defaultMessage:"Work details"},workEmail:{id:"contact_details.workEmail",defaultMessage:"Work email"},workFax:{id:"contact_details.workFax",defaultMessage:"Work Fax"},workPhone:{id:"contact_details.workPhone",defaultMessage:"Work Phone"},RequiredNameFieldError:{id:"contact_details.RequiredNameFieldError",defaultMessage:"At least one name is required"},emailIInvalidError:{id:"contact_details.emailIInvalidError",defaultMessage:"Invalid email"},phoneInvalidError:{id:"contact_details.phoneInvalidError",defaultMessage:"Invalid phone number"},invalidDateError:{id:"contact_details.invalidDateError",defaultMessage:"Invalid date"},zipcode:{id:"contact_details.zipcode",defaultMessage:"Postal code"}}),o={HOME:{label:r.home,ariaLabel:r.homePhone},WORK:{label:r.work,ariaLabel:r.workPhone},PHONE:{label:r.phone,ariaLabel:r.phone},MOBILE:{label:r.mobile,ariaLabel:r.mobilePhone},FAX:{label:r.fax,ariaLabel:r.fax},OTHER:{label:r.other,ariaLabel:r.otherPhone},MAIN:{label:r.main,ariaLabel:r.mainPhone},PAGER:{label:r.pager,ariaLabel:r.pager},"WORK FAX":{label:r.workFax,ariaLabel:r.workFax},"HOME FAX":{label:r.homeFax,ariaLabel:r.homeFax}},i={HOME:{label:r.home,ariaLabel:r.homeEmail},WORK:{label:r.work,ariaLabel:r.workEmail},EMAIL:{label:r.email,ariaLabel:r.email}},l={HOME:{label:r.home,ariaLabel:r.homeAddress},WORK:{label:r.work,ariaLabel:r.workAddress},ADDRESS:{label:r.address,ariaLabel:r.address}},c={STREET:"street",CITY:"city",STATE:"state",ZIPCODE:"zipcode",COUNTRY:"country"},d={COMPANY:{label:r.company,attribute:"company"},WEBSITE:{label:r.website,attribute:"website"},BIRTHDAY:{label:r.birthday,attribute:"birthday"},ANNIVERSARY:{label:r.anniversary,attribute:"anniversary"},NOTES:{label:r.notes,attribute:"notes"}},_=[d.COMPANY,d.BIRTHDAY,d.ANNIVERSARY,d.WEBSITE,d.NOTES],E=[d.COMPANY,d.BIRTHDAY,d.ANNIVERSARY,d.NOTES],u={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin",POSITION:"position",COMPANY:"company",WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes"},m={...u,NAME:"name",FIRSTNAME:"firstName",MIDDLENAME:"middleName",LASTNAME:"lastName",NICKNAME:"nickname",EMAIL:"email",PHONE:"phone",ADDRESS:"address",AOLCATEGORY:"category"},S=2,p=1,C=({typesList:e,customType:t,defaultType:s,type:a,formatMessage:n})=>{let r=e[s.toUpperCase()],o=a,i=a;if(a){const s=e[a.toUpperCase()];r=s||t}return r&&(i=n(r.ariaLabel),o=n(r.label)),{ariaLabel:i,label:o}},A=4095},56232:(e,t,s)=>{"use strict";s.d(t,{T:()=>n,o:()=>a});const a=(0,s(99095).defineMessages)({"":{id:"contacts_country.no_country",defaultMessage:"(Not Specified)"},US:{id:"contacts_country.united_states",defaultMessage:"United States"},AF:{id:"contacts_country.afghanistan",defaultMessage:"Afghanistan"},AL:{id:"contacts_country.albania",defaultMessage:"Albania"},DZ:{id:"contacts_country.algeria",defaultMessage:"Algeria"},AS:{id:"contacts_country.american_samoa",defaultMessage:"American Samoa"},AD:{id:"contacts_country.andorra",defaultMessage:"Andorra"},AO:{id:"contacts_country.angola",defaultMessage:"Angola"},AI:{id:"contacts_country.anguilla",defaultMessage:"Anguilla"},AQ:{id:"contacts_country.antarctica",defaultMessage:"Antarctica"},AG:{id:"contacts_country.antigua_and_barbuda",defaultMessage:"Antigua and Barbuda"},AR:{id:"contacts_country.argentina",defaultMessage:"Argentina"},AM:{id:"contacts_country.armenia",defaultMessage:"Armenia"},AW:{id:"contacts_country.aruba",defaultMessage:"Aruba"},AU:{id:"contacts_country.australia",defaultMessage:"Australia"},AT:{id:"contacts_country.austria",defaultMessage:"Austria"},AZ:{id:"contacts_country.azerbaijan",defaultMessage:"Azerbaijan"},BS:{id:"contacts_country.bahamas",defaultMessage:"Bahamas"},BH:{id:"contacts_country.bahrain",defaultMessage:"Bahrain"},BD:{id:"contacts_country.bangladesh",defaultMessage:"Bangladesh"},BB:{id:"contacts_country.barbados",defaultMessage:"Barbados"},BY:{id:"contacts_country.belarus",defaultMessage:"Belarus"},BE:{id:"contacts_country.belgium",defaultMessage:"Belgium"},BZ:{id:"contacts_country.belize",defaultMessage:"Belize"},BJ:{id:"contacts_country.benin",defaultMessage:"Benin"},BM:{id:"contacts_country.bermuda",defaultMessage:"Bermuda"},BT:{id:"contacts_country.bhutan",defaultMessage:"Bhutan"},BO:{id:"contacts_country.bolivia",defaultMessage:"Bolivia"},BQ:{id:"contacts_country.bonaire,_sint_eustatius_and_saba",defaultMessage:"Bonaire, Sint Eustatius and Saba"},BA:{id:"contacts_country.bosnia_and_herzegovina",defaultMessage:"Bosnia and Herzegovina"},BW:{id:"contacts_country.botswana",defaultMessage:"Botswana"},BV:{id:"contacts_country.bouvet_island",defaultMessage:"Bouvet Island"},BR:{id:"contacts_country.brazil",defaultMessage:"Brazil"},IO:{id:"contacts_country.british_indian_ocean_territory",defaultMessage:"British Indian Ocean Territory"},VG:{id:"contacts_country.british_virgin_islands",defaultMessage:"British Virgin Islands"},BN:{id:"contacts_country.brunei",defaultMessage:"Brunei"},BG:{id:"contacts_country.bulgaria",defaultMessage:"Bulgaria"},BF:{id:"contacts_country.burkina_faso",defaultMessage:"Burkina Faso"},BI:{id:"contacts_country.burundi",defaultMessage:"Burundi"},KH:{id:"contacts_country.cambodia",defaultMessage:"Cambodia"},CM:{id:"contacts_country.cameroon",defaultMessage:"Cameroon"},CA:{id:"contacts_country.canada",defaultMessage:"Canada"},CV:{id:"contacts_country.cape_verde",defaultMessage:"Cape Verde"},KY:{id:"contacts_country.cayman_islands",defaultMessage:"Cayman Islands"},CF:{id:"contacts_country.central_african_republic",defaultMessage:"Central African Republic"},TD:{id:"contacts_country.chad",defaultMessage:"Chad"},CL:{id:"contacts_country.chile",defaultMessage:"Chile"},CN:{id:"contacts_country.china",defaultMessage:"China"},CX:{id:"contacts_country.christmas_island",defaultMessage:"Christmas Island"},CC:{id:"contacts_country.cocos_islands",defaultMessage:"Cocos Islands"},CO:{id:"contacts_country.colombia",defaultMessage:"Colombia"},KM:{id:"contacts_country.comoros",defaultMessage:"Comoros"},CG:{id:"contacts_country.congo",defaultMessage:"Congo"},CK:{id:"contacts_country.cook_islands",defaultMessage:"Cook Islands"},CR:{id:"contacts_country.costa_rica",defaultMessage:"Costa Rica"},HR:{id:"contacts_country.croatia",defaultMessage:"Croatia"},CU:{id:"contacts_country.cuba",defaultMessage:"Cuba"},CW:{id:"contacts_country.curaÃ§ao",defaultMessage:"CuraÃ§ao"},CY:{id:"contacts_country.cyprus",defaultMessage:"Cyprus"},CZ:{id:"contacts_country.czech_republic",defaultMessage:"Czech Republic"},CI:{id:"contacts_country.cÃ´te_d'ivoire",defaultMessage:"CÃ´te d'Ivoire"},DK:{id:"contacts_country.denmark",defaultMessage:"Denmark"},DJ:{id:"contacts_country.djibouti",defaultMessage:"Djibouti"},DM:{id:"contacts_country.dominica",defaultMessage:"Dominica"},DO:{id:"contacts_country.dominican_republic",defaultMessage:"Dominican Republic"},EC:{id:"contacts_country.ecuador",defaultMessage:"Ecuador"},EG:{id:"contacts_country.egypt",defaultMessage:"Egypt"},SV:{id:"contacts_country.el_salvador",defaultMessage:"El Salvador"},GQ:{id:"contacts_country.equatorial_guinea",defaultMessage:"Equatorial Guinea"},ER:{id:"contacts_country.eritrea",defaultMessage:"Eritrea"},EE:{id:"contacts_country.estonia",defaultMessage:"Estonia"},ET:{id:"contacts_country.ethiopia",defaultMessage:"Ethiopia"},FK:{id:"contacts_country.falkland_islands",defaultMessage:"Falkland Islands"},FO:{id:"contacts_country.faroe_islands",defaultMessage:"Faroe Islands"},FJ:{id:"contacts_country.fiji",defaultMessage:"Fiji"},FI:{id:"contacts_country.finland",defaultMessage:"Finland"},FR:{id:"contacts_country.france",defaultMessage:"France"},GF:{id:"contacts_country.french_guiana",defaultMessage:"French Guiana"},PF:{id:"contacts_country.french_polynesia",defaultMessage:"French Polynesia"},TF:{id:"contacts_country.french_southern_territories",defaultMessage:"French Southern Territories"},GA:{id:"contacts_country.gabon",defaultMessage:"Gabon"},GM:{id:"contacts_country.gambia",defaultMessage:"Gambia"},GE:{id:"contacts_country.georgia",defaultMessage:"Georgia"},DE:{id:"contacts_country.germany",defaultMessage:"Germany"},GH:{id:"contacts_country.ghana",defaultMessage:"Ghana"},GI:{id:"contacts_country.gibraltar",defaultMessage:"Gibraltar"},GR:{id:"contacts_country.greece",defaultMessage:"Greece"},GL:{id:"contacts_country.greenland",defaultMessage:"Greenland"},GD:{id:"contacts_country.grenada",defaultMessage:"Grenada"},GP:{id:"contacts_country.guadeloupe",defaultMessage:"Guadeloupe"},GU:{id:"contacts_country.guam",defaultMessage:"Guam"},GT:{id:"contacts_country.guatemala",defaultMessage:"Guatemala"},GG:{id:"contacts_country.guernsey",defaultMessage:"Guernsey"},GN:{id:"contacts_country.guinea",defaultMessage:"Guinea"},GW:{id:"contacts_country.guinea-bissau",defaultMessage:"Guinea-Bissau"},GY:{id:"contacts_country.guyana",defaultMessage:"Guyana"},HT:{id:"contacts_country.haiti",defaultMessage:"Haiti"},HM:{id:"contacts_country.heard_island_and_mcdonald_islands",defaultMessage:"Heard Island And McDonald Islands"},HN:{id:"contacts_country.honduras",defaultMessage:"Honduras"},HK:{id:"contacts_country.hong_kong",defaultMessage:"Hong Kong"},HU:{id:"contacts_country.hungary",defaultMessage:"Hungary"},IS:{id:"contacts_country.iceland",defaultMessage:"Iceland"},IN:{id:"contacts_country.india",defaultMessage:"India"},ID:{id:"contacts_country.indonesia",defaultMessage:"Indonesia"},IR:{id:"contacts_country.iran",defaultMessage:"Iran"},IQ:{id:"contacts_country.iraq",defaultMessage:"Iraq"},IE:{id:"contacts_country.ireland",defaultMessage:"Ireland"},IM:{id:"contacts_country.isle_of_man",defaultMessage:"Isle Of Man"},IL:{id:"contacts_country.israel",defaultMessage:"Israel"},IT:{id:"contacts_country.italy",defaultMessage:"Italy"},JM:{id:"contacts_country.jamaica",defaultMessage:"Jamaica"},JP:{id:"contacts_country.japan",defaultMessage:"Japan"},JE:{id:"contacts_country.jersey",defaultMessage:"Jersey"},JO:{id:"contacts_country.jordan",defaultMessage:"Jordan"},KZ:{id:"contacts_country.kazakhstan",defaultMessage:"Kazakhstan"},KE:{id:"contacts_country.kenya",defaultMessage:"Kenya"},KI:{id:"contacts_country.kiribati",defaultMessage:"Kiribati"},KW:{id:"contacts_country.kuwait",defaultMessage:"Kuwait"},KG:{id:"contacts_country.kyrgyzstan",defaultMessage:"Kyrgyzstan"},LA:{id:"contacts_country.laos",defaultMessage:"Laos"},LV:{id:"contacts_country.latvia",defaultMessage:"Latvia"},LB:{id:"contacts_country.lebanon",defaultMessage:"Lebanon"},LS:{id:"contacts_country.lesotho",defaultMessage:"Lesotho"},LR:{id:"contacts_country.liberia",defaultMessage:"Liberia"},LY:{id:"contacts_country.libya",defaultMessage:"Libya"},LI:{id:"contacts_country.liechtenstein",defaultMessage:"Liechtenstein"},LT:{id:"contacts_country.lithuania",defaultMessage:"Lithuania"},LU:{id:"contacts_country.luxembourg",defaultMessage:"Luxembourg"},MO:{id:"contacts_country.macao",defaultMessage:"Macao"},MK:{id:"contacts_country.macedonia",defaultMessage:"Macedonia"},MG:{id:"contacts_country.madagascar",defaultMessage:"Madagascar"},MW:{id:"contacts_country.malawi",defaultMessage:"Malawi"},MY:{id:"contacts_country.malaysia",defaultMessage:"Malaysia"},MV:{id:"contacts_country.maldives",defaultMessage:"Maldives"},ML:{id:"contacts_country.mali",defaultMessage:"Mali"},MT:{id:"contacts_country.malta",defaultMessage:"Malta"},MH:{id:"contacts_country.marshall_islands",defaultMessage:"Marshall Islands"},MQ:{id:"contacts_country.martinique",defaultMessage:"Martinique"},MR:{id:"contacts_country.mauritania",defaultMessage:"Mauritania"},MU:{id:"contacts_country.mauritius",defaultMessage:"Mauritius"},YT:{id:"contacts_country.mayotte",defaultMessage:"Mayotte"},MX:{id:"contacts_country.mexico",defaultMessage:"Mexico"},FM:{id:"contacts_country.micronesia",defaultMessage:"Micronesia"},MD:{id:"contacts_country.moldova",defaultMessage:"Moldova"},MC:{id:"contacts_country.monaco",defaultMessage:"Monaco"},MN:{id:"contacts_country.mongolia",defaultMessage:"Mongolia"},ME:{id:"contacts_country.montenegro",defaultMessage:"Montenegro"},MS:{id:"contacts_country.montserrat",defaultMessage:"Montserrat"},MA:{id:"contacts_country.morocco",defaultMessage:"Morocco"},MZ:{id:"contacts_country.mozambique",defaultMessage:"Mozambique"},MM:{id:"contacts_country.myanmar",defaultMessage:"Myanmar"},NA:{id:"contacts_country.namibia",defaultMessage:"Namibia"},NR:{id:"contacts_country.nauru",defaultMessage:"Nauru"},NP:{id:"contacts_country.nepal",defaultMessage:"Nepal"},NL:{id:"contacts_country.netherlands",defaultMessage:"Netherlands"},AN:{id:"contacts_country.netherlands_antilles",defaultMessage:"Netherlands Antilles"},NC:{id:"contacts_country.new_caledonia",defaultMessage:"New Caledonia"},NZ:{id:"contacts_country.new_zealand",defaultMessage:"New Zealand"},NI:{id:"contacts_country.nicaragua",defaultMessage:"Nicaragua"},NE:{id:"contacts_country.niger",defaultMessage:"Niger"},NG:{id:"contacts_country.nigeria",defaultMessage:"Nigeria"},NU:{id:"contacts_country.niue",defaultMessage:"Niue"},NF:{id:"contacts_country.norfolk_island",defaultMessage:"Norfolk Island"},KP:{id:"contacts_country.north_korea",defaultMessage:"North Korea"},MP:{id:"contacts_country.northern_mariana_islands",defaultMessage:"Northern Mariana Islands"},NO:{id:"contacts_country.norway",defaultMessage:"Norway"},OM:{id:"contacts_country.oman",defaultMessage:"Oman"},PK:{id:"contacts_country.pakistan",defaultMessage:"Pakistan"},PW:{id:"contacts_country.palau",defaultMessage:"Palau"},PS:{id:"contacts_country.palestine",defaultMessage:"Palestine"},PA:{id:"contacts_country.panama",defaultMessage:"Panama"},PG:{id:"contacts_country.papua_new_guinea",defaultMessage:"Papua New Guinea"},PY:{id:"contacts_country.paraguay",defaultMessage:"Paraguay"},PE:{id:"contacts_country.peru",defaultMessage:"Peru"},PH:{id:"contacts_country.philippines",defaultMessage:"Philippines"},PN:{id:"contacts_country.pitcairn",defaultMessage:"Pitcairn"},PL:{id:"contacts_country.poland",defaultMessage:"Poland"},PT:{id:"contacts_country.portugal",defaultMessage:"Portugal"},PR:{id:"contacts_country.puerto_rico",defaultMessage:"Puerto Rico"},QA:{id:"contacts_country.qatar",defaultMessage:"Qatar"},RE:{id:"contacts_country.reunion",defaultMessage:"Reunion"},RO:{id:"contacts_country.romania",defaultMessage:"Romania"},RU:{id:"contacts_country.russia",defaultMessage:"Russia"},RW:{id:"contacts_country.rwanda",defaultMessage:"Rwanda"},BL:{id:"contacts_country.saint_barthÃ©lemy",defaultMessage:"Saint BarthÃ©lemy"},SH:{id:"contacts_country.saint_helena",defaultMessage:"Saint Helena"},KN:{id:"contacts_country.saint_kitts_and_nevis",defaultMessage:"Saint Kitts And Nevis"},LC:{id:"contacts_country.saint_lucia",defaultMessage:"Saint Lucia"},MF:{id:"contacts_country.saint_martin",defaultMessage:"Saint Martin"},PM:{id:"contacts_country.saint_pierre_and_miquelon",defaultMessage:"Saint Pierre And Miquelon"},VC:{id:"contacts_country.saint_vincent_and_the_grenadines",defaultMessage:"Saint Vincent And The Grenadines"},WS:{id:"contacts_country.samoa",defaultMessage:"Samoa"},SM:{id:"contacts_country.san_marino",defaultMessage:"San Marino"},ST:{id:"contacts_country.sao_tome_and_principe",defaultMessage:"Sao Tome And Principe"},SA:{id:"contacts_country.saudi_arabia",defaultMessage:"Saudi Arabia"},SN:{id:"contacts_country.senegal",defaultMessage:"Senegal"},RS:{id:"contacts_country.serbia",defaultMessage:"Serbia"},SC:{id:"contacts_country.seychelles",defaultMessage:"Seychelles"},SL:{id:"contacts_country.sierra_leone",defaultMessage:"Sierra Leone"},SG:{id:"contacts_country.singapore",defaultMessage:"Singapore"},SX:{id:"contacts_country.sint_maarten_(dutch_part)",defaultMessage:"Sint Maarten (Dutch part)"},SK:{id:"contacts_country.slovakia",defaultMessage:"Slovakia"},SI:{id:"contacts_country.slovenia",defaultMessage:"Slovenia"},SB:{id:"contacts_country.solomon_islands",defaultMessage:"Solomon Islands"},SO:{id:"contacts_country.somalia",defaultMessage:"Somalia"},ZA:{id:"contacts_country.south_africa",defaultMessage:"South Africa"},GS:{id:"contacts_country.south_georgia_and_the_south_sandwich_islands",defaultMessage:"South Georgia And The South Sandwich Islands"},KR:{id:"contacts_country.south_korea",defaultMessage:"South Korea"},SS:{id:"contacts_country.south_sudan",defaultMessage:"South Sudan"},ES:{id:"contacts_country.spain",defaultMessage:"Spain"},LK:{id:"contacts_country.sri_lanka",defaultMessage:"Sri Lanka"},SD:{id:"contacts_country.sudan",defaultMessage:"Sudan"},SR:{id:"contacts_country.suriname",defaultMessage:"Suriname"},SJ:{id:"contacts_country.svalbard_and_jan_mayen",defaultMessage:"Svalbard And Jan Mayen"},SZ:{id:"contacts_country.swaziland",defaultMessage:"Swaziland"},SE:{id:"contacts_country.sweden",defaultMessage:"Sweden"},CH:{id:"contacts_country.switzerland",defaultMessage:"Switzerland"},SY:{id:"contacts_country.syria",defaultMessage:"Syria"},TW:{id:"contacts_country.taiwan",defaultMessage:"Taiwan"},TJ:{id:"contacts_country.tajikistan",defaultMessage:"Tajikistan"},TZ:{id:"contacts_country.tanzania",defaultMessage:"Tanzania"},TH:{id:"contacts_country.thailand",defaultMessage:"Thailand"},CD:{id:"contacts_country.the_democratic_republic_of_congo",defaultMessage:"The Democratic Republic Of Congo"},TL:{id:"contacts_country.timor-leste",defaultMessage:"Timor-Leste"},TG:{id:"contacts_country.togo",defaultMessage:"Togo"},TK:{id:"contacts_country.tokelau",defaultMessage:"Tokelau"},TO:{id:"contacts_country.tonga",defaultMessage:"Tonga"},TT:{id:"contacts_country.trinidad_and_tobago",defaultMessage:"Trinidad and Tobago"},TN:{id:"contacts_country.tunisia",defaultMessage:"Tunisia"},TR:{id:"contacts_country.turkey",defaultMessage:"Turkey"},TM:{id:"contacts_country.turkmenistan",defaultMessage:"Turkmenistan"},TC:{id:"contacts_country.turks_and_caicos_islands",defaultMessage:"Turks And Caicos Islands"},TV:{id:"contacts_country.tuvalu",defaultMessage:"Tuvalu"},VI:{id:"contacts_country.u.s._virgin_islands",defaultMessage:"U.S. Virgin Islands"},UG:{id:"contacts_country.uganda",defaultMessage:"Uganda"},UA:{id:"contacts_country.ukraine",defaultMessage:"Ukraine"},AE:{id:"contacts_country.united_arab_emirates",defaultMessage:"United Arab Emirates"},GB:{id:"contacts_country.united_kingdom",defaultMessage:"United Kingdom"},UM:{id:"contacts_country.united_states_minor_outlying_islands",defaultMessage:"United States Minor Outlying Islands"},UY:{id:"contacts_country.uruguay",defaultMessage:"Uruguay"},UZ:{id:"contacts_country.uzbekistan",defaultMessage:"Uzbekistan"},VU:{id:"contacts_country.vanuatu",defaultMessage:"Vanuatu"},VA:{id:"contacts_country.vatican",defaultMessage:"Vatican"},VE:{id:"contacts_country.venezuela",defaultMessage:"Venezuela"},VN:{id:"contacts_country.vietnam",defaultMessage:"Vietnam"},WF:{id:"contacts_country.wallis_and_futuna",defaultMessage:"Wallis And Futuna"},EH:{id:"contacts_country.western_sahara",defaultMessage:"Western Sahara"},YE:{id:"contacts_country.yemen",defaultMessage:"Yemen"},ZM:{id:"contacts_country.zambia",defaultMessage:"Zambia"},ZW:{id:"contacts_country.zimbabwe",defaultMessage:"Zimbabwe"},AX:{id:"contacts_country.Ã¥land_islands",defaultMessage:"Ãland Islands"}}),n=({country:e=""},t)=>t(a[e]||a[""])},45370:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Ee,yf:()=>de});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(85927),l=s(50306),c=s.n(l),d=s(99095),_=s(28937),E=s.n(_),u=s(32665),m=s(30454),S=s(15038),p=s(54754),C=s(9333),A=s(7837),T=s(40315),I=s(65354),h=s(10728),g=s(76531),O=s(56232),D=s(95406);function R(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class N extends r.Component{constructor(...e){super(...e),R(this,"onInputChange",((e,t)=>{const{onInputChange:s,inputIndex:a}=this.props;s(t,e,a)})),R(this,"selectCountry",((e,t)=>{const{onInputChange:s,inputIndex:a}=this.props;s(t,e,a)})),R(this,"handleKeyPress",(e=>{const{onPressEnter:t}=this.props;"Enter"===e.key&&t(e)}))}render(){const{value:e}=this.props,{getCss:t}=this.context,s=t(E()),{formatMessage:a}=this.context.intl;return r.createElement("div",{"data-test-id":"contact-edit-address"},(0,D.VO)(A.rv).map((t=>r.createElement("fieldset",{key:t,className:s.inputWrapper},r.createElement("p",{className:s.inputLabel},a(A.j2[t])),t!==A.rv.COUNTRY?r.createElement(u.Z,{className:s.inputField,type:t,tabIndex:0,id:"contact-edit-"+t,"data-test-id":"contact-edit-"+t,value:e[t],isClearable:!1,onChange:e=>this.onInputChange(e,t),maxLength:A.Y7,onKeyPress:this.handleKeyPress}):r.createElement(m.Z,{classNames:s,selected:e[t],onChange:e=>this.selectCountry(e,A.rv.COUNTRY),"data-test-id":"contact-edit-"+t,onKeyPress:this.handleKeyPress},Object.keys(O.o).map((t=>r.createElement(S.Z,{key:t,value:t,isSelected:t===e.country},a(O.o[t]))))),e[t].length>=A.Y7&&r.createElement("div",{"data-test-id":"edit-input-error",className:s.error},a(A.j2.maxLengthError))))))}}R(N,"defaultProps",{value:{}}),R(N,"contextTypes",{getCss:n().func,intl:d.intlShape.isRequired});const L=N;var f=s(56148),M=s(37422);function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class b extends r.Component{constructor(...e){super(...e),P(this,"onInvalidInputEntered",(e=>{if(!e){const{onInputChange:t,actionType:s}=this.props;return void t(s,e)}const{onInvalidInputEntered:t,actionType:s}=this.props;t(s,e)})),P(this,"onDatePickerChange",(e=>{const{onInputChange:t,actionType:s,inputIndex:a}=this.props;t(s,(0,T.Ij)(e),a)})),P(this,"onLabelChange",(e=>{const{onLabelChange:t,actionType:s,inputIndex:a}=this.props;t(s,e,a)})),P(this,"onInputChange",(e=>{const{onInputChange:t,actionType:s,inputIndex:a}=this.props;t(s,e,a)})),P(this,"onClickRemove",(()=>{const{onRemoveClick:e,actionType:t,inputIndex:s}=this.props;e(t,s)})),P(this,"onAddField",(()=>{const{addField:e,actionType:t}=this.props;({[A.HU.EMAIL]:!0,[A.HU.PHONE]:!0,[A.HU.ADDRESS]:!0})[t]&&e(t)})),P(this,"handleKeyPress",(e=>{const{onPressEnter:t}=this.props;"Enter"===e.key&&t(e)})),P(this,"getInputType",(()=>{switch(this.props.actionType){case A.HU.EMAIL:return"text";case A.HU.PHONE:return"tel";case A.HU.WEBSITE:return"url";case A.HU.BIRTHDAY:case A.HU.ANNIVERSARY:return"date";default:return"text"}})),P(this,"nop",(()=>{}))}render(){const{label:e,value:t,types:s,LabelsList:a,removeBtn:n,removeBtnTitle:o,errorMessages:i,onInputChange:l,inputIndex:c,actionType:d,isLast:_,showDatePicker:T,preventAutoFocus:O,addressFields:D,onPressEnter:R}=this.props,{getCss:N}=this.context,{formatMessage:P}=this.context.intl,b=N(E()),y=[A.HU.EMAIL,A.HU.PHONE,A.HU.ADDRESS].indexOf(d)>-1,v=d.charAt(0).toUpperCase()+d.slice(1);return r.createElement("fieldset",{className:b.inputWrapper,"data-test-id":"contacts-edit-input"},s.length>0?r.createElement(m.Z,{inline:!0,selected:e.toLowerCase(),onChange:this.onLabelChange},s.map((e=>r.createElement(S.Z,{key:e,value:e.toLowerCase()},P(a[e].ariaLabel))))):r.createElement("p",{className:b.inputLabel},P(A.j2[e])),T&&r.createElement(p.Z,{zAltitude:h.LSY.OVERLAY,label:e,classNames:{datepickerInput:b.datepickerInput},onStartEdit:this.nop,onDoneEdit:this.nop,onChange:this.onDatePickerChange,onInvalidDateEntered:this.onInvalidInputEntered,onKeyPress:this.handleKeyPress,useISODateFormat:!0,value:t&&(0,I.v8)(t)&&(0,I.fQ)(t)||t}),d!==A.HU.ADDRESS&&d!==A.HU.AOLCATEGORY&&!T&&r.createElement(u.Z,{focusOnMount:!O&&d===A.HU.FIRSTNAME,className:b.inputField,type:this.getInputType(),tabIndex:0,"data-test-id":"contact-edit-"+e,value:t,isClearable:!1,onChange:this.onInputChange,onKeyPress:this.handleKeyPress,maxLength:A.Y7}),d===A.HU.AOLCATEGORY&&r.createElement(m.Z,{classNames:b,selected:t.toLowerCase(),onChange:this.onInputChange,onKeyPress:this.handleKeyPress},Object.values(M.Ygm).filter((e=>e!==M.Ygm.ALL_CONTACTS)).map((e=>r.createElement(S.Z,{key:e,value:e,isSelected:e===t},e in A.j2&&P(A.j2[e]))))),d===A.HU.ADDRESS&&r.createElement(L,{value:D,onInputChange:l,inputIndex:c,onPressEnter:R}),n&&r.createElement("span",{className:b.removeBtn},r.createElement(f.Z,{paddingLess:!0,title:o,onClick:this.onClickRemove,"data-test-id":"contacts-field-remove",size:g.Sizes.XS,kind:g.Kinds.DELETE,"aria-label":P(A.j2.delete),colorStates:{normal:g.ColorStates.INHERITED,hovered:g.ColorStates.WARNING},tabIndex:0})),i&&i.map(((e,t)=>r.createElement("div",{key:e+t,"data-test-id":"edit-input-error",className:b.error},e))),y&&_&&r.createElement("div",{className:b.addFieldBtn},r.createElement(C.default,{"data-test-id":"contact-add-field-btn-"+d,size:g.Sizes.XS,kind:g.Kinds.ADD,colorState:g.ColorStates.NORMAL,onClick:this.onAddField,paddingLess:!0,title:P(A.j2[`add${v}`]),"aria-label":P(A.j2[`add${v}`]),tabIndex:0},r.createElement("span",{className:b.addFieldBtnTxt},P(A.j2[`add${v}`])))))}}P(b,"defaultProps",{label:"",value:"",types:[],showDatePicker:!1,preventAutoFocus:!1}),P(b,"contextTypes",{getCss:n().func,intl:d.intlShape.isRequired});const y=b;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const F=({name:e,list:t,onPressEnter:s,preventAutoFocus:a},n)=>{const{getCss:o}=n,i=o(c());return r.createElement("div",{className:i.sectionWrapper},r.createElement("h4",{"data-test-id":"contacts-edit-section-label"},e),r.createElement("section",{className:i.inputWrapper},t.map(((e,t)=>r.createElement(y,v({key:"contacts-edit-input-"+t},e,{onPressEnter:s,preventAutoFocus:a}))))))};F.contextTypes={getCss:n().func};const U=F;var k=s(19341),w=s(43007),G=s(2088),H=s.n(G);const B=(e,t)=>{const{getCss:s}=t,a=s(H());return r.createElement("div",{className:a.wrapper},r.createElement("span",{className:a.circularIcon},r.createElement("svg",{viewBox:"0 0 20 20",className:a.circularGradient},r.createElement("circle",{r:"10",cx:"10",cy:"10"}))),r.createElement("div",{className:a.cameraIcon},r.createElement(w.Z,{size:g.Sizes.S,kind:g.Kinds.CAMERA_FILL,colorState:g.ColorStates.WHITE})))};B.contextTypes={getCss:n().func.isRequired};const x=B;function V(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Z=(0,d.defineMessages)({uploadPhoto:{id:"contact_details.uploadPhoto",defaultMessage:"Upload photo"},photoMaxSizeExceeds:{id:"contact_details.photoMaxSizeExceeds",defaultMessage:"Maximum photo size exceeded"}});class W extends r.Component{constructor(...e){super(...e),V(this,"state",{error:!1}),V(this,"onChange",(e=>{e.preventDefault();const{onChange:t}=this.props,s=new FileReader,a=e.target.files[0];a.size>5e6?this.setState({error:!0}):(s.onloadend=()=>{this.setState({error:!1},t(s.result))},s.readAsDataURL(a))}))}render(){const{error:e}=this.state,{id:t,isBusiness:s,uploadedImageUrl:a}=this.props,{getCss:n,intl:o}=this.context,{formatMessage:i}=o,l=n(c());let d,_;return s&&t?r.createElement("div",{className:l.uploadPhoto},r.createElement("div",{className:l.img},r.createElement(k.ZP,{contact:{id:t},size:k.u8.L}))):(a?d=r.createElement(k.ZP,{useFallbackImage:!0,size:k.u8.L,customFallbackImageData:a}):(d=r.createElement(x,null),_=t?r.createElement(k.ZP,{contact:{id:t},size:k.u8.L}):r.createElement(k.ZP,{useFallbackImage:!0,size:k.u8.L})),r.createElement("div",{className:l.uploadPhoto},r.createElement("div",{className:l.img},r.createElement("input",{type:"file",name:"file",id:"file",accept:"image/png, image/jpeg",onChange:this.onChange,className:l.inputfile}),r.createElement("label",{htmlFor:"file",className:l.iconHolder,title:i(Z.uploadPhoto)},d),_),e&&r.createElement("div",{"data-test-id":"edit-photo-error",className:l.error},i(Z.photoMaxSizeExceeds))))}}V(W,"contextTypes",{getCss:n().func,intl:d.intlShape.isRequired});const K=W;var z=s(18446),Y=s.n(z),j=s(91742),q=s(92559),X=s(17016),Q=s(7732),J=s(26766),$=s(50361),ee=s.n($),te=s(16980),se=s(55636),ae=s(77346),ne=s(57557),re=s.n(ne),oe=s(95370);function ie(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const le=/^[0-9\+-;#(),\s]+$/,ce={};(0,D.VO)(A.Aj).forEach((e=>ce[e]=""));const de=e=>le.test(e);class _e extends r.Component{constructor(e){super(e),ie(this,"componentDidMount",(()=>{document.body.classList.add("edit-contact-view")})),ie(this,"updateStateFromProps",(()=>{const{name:e,firstName:t,middleName:s,lastName:a,nickname:n,emailsWithType:r,phonesWithType:o,addressesWithType:i,aolCategory:l,...c}=this.props.contact;this.setState({firstName:t,middleName:s,lastName:a,nickname:n,emailsWithType:r,phonesWithType:o,addressesWithType:i,aolCategory:l,otherFields:c,formChanged:!this.props.isEditView})})),ie(this,"componentDidUpdate",((e,t)=>{const s=e.contact.emailsWithType,a=this.props.contact.emailsWithType;if(!Y()(s,a)&&(1!==s.length||""!==s[0].value||0!==a.length))return void this.updateStateFromProps();const{firstName:n,middleName:r,lastName:o,nickname:i,emailsWithType:l,phonesWithType:c,addressesWithType:d,aolCategory:_,otherFields:E,uploadedImageUrl:u,formChanged:m}=this.state;if(m)return;const S=(0,te.DD)({emailsWithType:l,phonesWithType:c,addressesWithType:d}),p=(0,te.DD)(t);t.firstName===n&&t.middleName===r&&t.lastName===o&&t.nickname===i&&Y()(p.emailsWithType,S.emailsWithType)&&Y()(p.phonesWithType,S.phonesWithType)&&Y()(p.addressesWithType,S.addressesWithType)&&t.aolCategory===_&&Y()(p.otherFields,E)&&p.uploadedImageUrl===u||this.setState({formChanged:!0})})),ie(this,"componentWillUnmount",(()=>{document.body.classList.remove("edit-contact-view")})),ie(this,"onInvalidInputEntered",((e,t)=>{const{otherFields:s}=ee()(this.state);s[e]=t,this.setState({otherFields:s})})),ie(this,"updateContactDetailValueHandler",((e,t,s)=>{const{emailsWithType:a,phonesWithType:n,otherFields:r}=ee()(this.state);let o=this.state.firstName,i=this.state.middleName,l=this.state.lastName,c=this.state.nickname,d=this.state.aolCategory;switch(e){case A.HU.FIRSTNAME:o=t;break;case A.HU.MIDDLENAME:i=t;break;case A.HU.LASTNAME:l=t;break;case A.HU.NICKNAME:c=t;break;case A.HU.AOLCATEGORY:d=t;break;case A.HU.EMAIL:t.trim()?a[s]={value:t,type:a[s].type||A.HU.EMAIL}:a[s]={value:"",type:a[s].type||A.HU.EMAIL};break;case A.HU.PHONE:t.trim()?n[s]={number:t,type:n[s]&&n[s].type||A.HU.PHONE}:n[s]={number:"",type:n[s]&&n[s].type||A.HU.PHONE};break;default:r[e]=t.trim()?t:""}this.setState({firstName:o,middleName:i,lastName:l,nickname:c,emailsWithType:a,phonesWithType:n,otherFields:r,aolCategory:d})})),ie(this,"validateContactDetails",(({firstName:e,middleName:t,lastName:s,emailsWithType:a,phonesWithType:n,otherFields:r})=>{const o=!(0,se.Wq)(e)||!(0,se.Wq)(t)||!(0,se.Wq)(s),i=!a.length||a.filter((e=>!(0,se.Wq)(e.value))).every((e=>(0,X.isValidEmail)(e.value))),l=!n.length||n.filter((e=>!(0,se.Wq)(e.number))).every((e=>de(e.number))),c=(0,se.Wq)(r[A.HU.BIRTHDAY])||(0,I.v8)(r[A.HU.BIRTHDAY]),d=(0,se.Wq)(r[A.HU.ANNIVERSARY])||(0,I.v8)(r[A.HU.ANNIVERSARY]);return o&&i&&l&&c&&d})),ie(this,"createEmptyAddress",(()=>{const e={};return(0,D.VO)(A.rv).forEach((t=>e[t]="")),e})),ie(this,"updateContactDetailLabelHandler",((e,t,s)=>{const{emailsWithType:a,phonesWithType:n,addressesWithType:r}=ee()(this.state);switch(e){case A.HU.EMAIL:a[s]={...a[s],type:t};break;case A.HU.PHONE:n[s]={...n[s],type:t};break;case A.HU.ADDRESS:r[s]={...r[s],type:t}}this.setState({emailsWithType:a,phonesWithType:n,addressesWithType:r})})),ie(this,"removeContactDetailHandler",((e,t)=>{const{emailsWithType:s,phonesWithType:a,addressesWithType:n}=ee()(this.state);switch(e){case A.HU.EMAIL:s.splice(t,1);break;case A.HU.PHONE:a.splice(t,1);break;case A.HU.ADDRESS:n.splice(t,1)}this.setState({emailsWithType:s,phonesWithType:a,addressesWithType:n})})),ie(this,"updateAddress",((e,t,s)=>{const{addressesWithType:a}=ee()(this.state);t.trim()?a[s].addrFields[e]=t:(a[s].addrFields[e]="",a[s].type=a[s]&&a[s].type||A.HU.ADDRESS),this.setState({addressesWithType:a})})),ie(this,"handleAddField",(e=>{const{emailsWithType:t,phonesWithType:s,addressesWithType:a}=ee()(this.state);switch(e){case A.HU.EMAIL:t.push({value:"",type:A.HU.EMAIL});break;case A.HU.PHONE:s.push({number:"",type:A.HU.PHONE});break;case A.HU.ADDRESS:a.push({addrFields:this.createEmptyAddress(),type:A.HU.ADDRESS})}this.setState({emailsWithType:t,phonesWithType:s,addressesWithType:a})})),ie(this,"getErrorMessages",((e,t)=>{const{formatMessage:s}=this.context.intl,a=[];switch(e){case A.HU.NAME:return(0,se.Wq)(t.firstName)&&(0,se.Wq)(t.middleName)&&(0,se.Wq)(t.lastName)&&a.push(s(A.j2.RequiredNameFieldError)),!(0,se.Wq)(t.firstName)&&t.firstName.length>=A.Y7&&a.push(s(A.j2.maxLengthError)),a;case A.HU.EMAIL:(0,se.Wq)(t)||(0,X.isValidEmail)(t)||a.push(s(A.j2.emailIInvalidError));break;case A.HU.PHONE:(0,se.Wq)(t)||de(t)||a.push(s(A.j2.phoneInvalidError));break;case A.HU.BIRTHDAY:case A.HU.ANNIVERSARY:(0,se.Wq)(t)||(0,I.v8)(t)||a.push(s(A.j2.invalidDateError))}return!(0,se.Wq)(t)&&t.length>=A.Y7&&a.push(s(A.j2.maxLengthError)),a})),ie(this,"getContactDetails",(()=>{const{firstName:e,middleName:t,lastName:s,nickname:a,emailsWithType:n,phonesWithType:r,aolCategory:o}=this.state,{formatMessage:i}=this.context.intl,l=[{label:A.HU.FIRSTNAME,value:e,actionType:A.HU.FIRSTNAME,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.NAME,{firstName:e,middleName:t,lastName:s})},{label:A.HU.MIDDLENAME,value:t,actionType:A.HU.MIDDLENAME,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.MIDDLENAME,t)},{label:A.HU.LASTNAME,value:s,actionType:A.HU.LASTNAME,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.LASTNAME,s)}];return l.push({label:A.HU.NICKNAME,value:a,actionType:A.HU.NICKNAME,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.NICKNAME,a)}),0===n.length&&n.push({value:"",type:A.HU.EMAIL}),n.map(((e,t)=>{const s=e.type,a=e.value;l.push({types:Object.keys(A.qL),LabelsList:A.qL,value:a,label:s||A.HU.EMAIL,removeBtn:n.length>1,actionType:A.HU.EMAIL,removeBtnTitle:i(A.j2.removeEmail),onInputChange:this.updateContactDetailValueHandler,onLabelChange:this.updateContactDetailLabelHandler,onRemoveClick:this.removeContactDetailHandler,errorMessages:this.getErrorMessages(A.HU.EMAIL,a,t),inputIndex:t,addField:this.handleAddField,isLast:t+1===n.length})})),0===r.length&&r.push({number:"",type:A.HU.PHONE}),r.map(((e,t)=>{const s=e.type,a=e.number;l.push({types:Object.keys(A.PR),LabelsList:A.PR,value:a,label:s||A.HU.PHONE,removeBtn:r.length>1,actionType:A.HU.PHONE,removeBtnTitle:i(A.j2.removePhone),onInputChange:this.updateContactDetailValueHandler,onLabelChange:this.updateContactDetailLabelHandler,onRemoveClick:this.removeContactDetailHandler,inputIndex:t,errorMessages:this.getErrorMessages(A.HU.PHONE,a),addField:this.handleAddField,isLast:t+1===r.length})})),this.props.aolCategoriesEnabled&&l.push({label:A.HU.AOLCATEGORY,value:o,actionType:A.HU.AOLCATEGORY,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.AOLCATEGORY,o)}),l})),ie(this,"getAddresses",(()=>{const e={addrFields:this.createEmptyAddress(),type:A.HU.ADDRESS},{addressesWithType:t}=this.state,s=[],{formatMessage:a}=this.context.intl;return t.length||t.push(e),t.map(((e,n)=>{const r=e.addrFields,o=e.type;s.push({types:Object.keys(A._t),LabelsList:A._t,addressFields:r,label:o||A.HU.ADDRESS,removeBtn:t.length>1,actionType:A.HU.ADDRESS,removeBtnTitle:a(A.j2.removeAddress),onInputChange:this.updateAddress,onLabelChange:this.updateContactDetailLabelHandler,onRemoveClick:this.removeContactDetailHandler,inputIndex:n,addField:this.handleAddField,isAddress:!0,isLast:n+1===t.length})})),s})),ie(this,"getWorkDetails",(()=>{const{position:e,company:t}=this.state.otherFields;return[{label:A.HU.POSITION,value:e,actionType:A.HU.POSITION,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.POSITION,e)},{label:A.HU.COMPANY,value:t,actionType:A.HU.COMPANY,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(A.HU.COMPANY,t)}]})),ie(this,"getPersonalDetails",(()=>{const{birthday:e,anniversary:t,website:s,notes:a}=this.state.otherFields,n={[A.HU.BIRTHDAY]:e,[A.HU.ANNIVERSARY]:t},r={[A.HU.WEBSITE]:s},{isMobile:o}=this.props;return[...Object.keys(n).map((e=>({label:e,value:n[e],showDatePicker:!o,actionType:e,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(e,n[e]),onInvalidInputEntered:this.onInvalidInputEntered}))),...Object.keys(r).map((e=>({label:e,value:r[e],actionType:e,onInputChange:this.updateContactDetailValueHandler,errorMessages:this.getErrorMessages(e,r[e])}))),{label:A.HU.NOTES,value:a,actionType:A.HU.NOTES,onInputChange:this.updateContactDetailValueHandler}]})),ie(this,"getContactSections",(()=>({contactDetails:this.getContactDetails(),addresses:this.getAddresses(),workDetails:this.getWorkDetails(),personalDetails:this.getPersonalDetails()}))),ie(this,"handleCancelBtnClick",(e=>{const{isEditView:t}=this.props;this.props.handleCancelBtnClick({i13nModel:{mKey:t?q.JE.CONTACT_EDIT_CANCEL:q.JE.CONTACT_CREATE_CANCEL,sec:q.nJ.CONTACTS_PANE,interactionType:(0,X.getInteractionFromEvent)(e)}})})),ie(this,"handleSaveBtnClick",(e=>{const{onSaveClick:t,id:s,isEditView:a}=this.props,n=!!s&&!a,{firstName:r,middleName:o,lastName:i,nickname:l,emailsWithType:c,addressesWithType:d,phonesWithType:_,aolCategory:E,otherFields:u,formChanged:m}=this.state;if(!(m&&this.validateContactDetails({firstName:r,middleName:o,lastName:i,emailsWithType:c,phonesWithType:_,otherFields:u})))return;const S=(0,te.DD)({emailsWithType:c,addressesWithType:d,phonesWithType:_});t({oldContact:re()((0,te.DD)(this.props.contact),A.HU.NAME),newContact:{firstName:r,middleName:o,lastName:i,nickname:l,aol_tag:E,...S,...u},image:this.state.uploadedImageUrl.replace(/^data:image\/[a-z]+;base64,/,""),i13nModel:{mKey:a?q.JE.CONTACT_EDIT_SAVE:q.JE.CONTACT_CREATE_SAVE,sec:q.nJ.CONTACTS_PANE,interactionType:(0,X.getInteractionFromEvent)(e)},skipContactDiffCheck:n})})),ie(this,"onUploadPhoto",(e=>{this.setState({uploadedImageUrl:e})}));const{name:t,firstName:s,middleName:a,lastName:n,nickname:r,emailsWithType:o,phonesWithType:i,addressesWithType:l,aolCategory:c,...d}=e.contact;this.state={firstName:s,middleName:a,lastName:n,nickname:r,emailsWithType:o,phonesWithType:i,addressesWithType:l,aolCategory:c,otherFields:d,formChanged:!this.props.isEditView,uploadedImageUrl:""}}renderHeader(e){const{formatMessage:t}=this.context.intl;return r.createElement(Q.ZP,{compactRightMargin:!0,headerStyle:Q.OA.LIGHT,isTwoColumnLayoutContact:this.props.isTwoColumnLayout,headerLeft:r.createElement(C.default,{title:t(A.j2.cancelBtn),kind:g.Kinds.CLOSE,size:g.Sizes.S,rotate:g.Rotate.D270,onClick:this.handleCancelBtnClick}),headerRight:r.createElement(J.ZP,{kind:J.Fd.TEXT,onClick:this.handleSaveBtnClick,"data-test-id":"contact-form-save-btn",disabled:!e},t(A.j2.saveBtn))})}renderFooter(e,t){return r.createElement(ae.Z,{enableSaveButton:e,isFullPaneContactsActive:t,handleSave:this.handleSaveBtnClick,handleCancel:this.handleCancelBtnClick})}render(){const{id:e,isMobile:t,isTwoColumnLayout:s,contact:a,isEditView:n,isFullPaneContactsActive:o}=this.props,{formatMessage:i}=this.context.intl,l=this.getContactSections(),d=t&&s,_=this.context.getCss(c(),{isMobile:t,isMobileAndIsTwoColumnLayout:d,isFullPaneContactsActive:o}),{firstName:E,middleName:u,lastName:m,emailsWithType:S,phonesWithType:p,otherFields:C,formChanged:T}=this.state,I=T&&this.validateContactDetails({firstName:E,middleName:u,lastName:m,emailsWithType:S,phonesWithType:p,otherFields:C});return r.createElement("div",{className:_.editDetails,"data-test-id":"contact-edit-screen"},t?this.renderHeader(I):r.createElement(oe.Z,{"data-test-id":"contact-form-header",isFullPaneContactsActive:o,heading:i(n?A.j2.edit:A.j2.create),backBtni13nModel:{mKey:n?q.JE.CONTACT_EDIT_CANCEL:q.JE.CONTACT_CREATE_CANCEL,sec:q.nJ.CONTACTS_PANE}}),r.createElement("div",{className:_.editBody},r.createElement(K,{id:e,onChange:this.onUploadPhoto,isBusiness:a.isBusiness,uploadedImageUrl:this.state.uploadedImageUrl}),Object.keys(l).map(((e,s)=>{const a="addresses"===e?null:i(A.j2[e]);return r.createElement(U,{key:"contacts-edit-section-"+s,name:a,list:l[e],preventAutoFocus:t,onPressEnter:this.handleSaveBtnClick})}))),!t&&this.renderFooter(I,o))}}ie(_e,"contextTypes",{intl:d.intlShape,getCss:n().func}),ie(_e,"defaultProps",{contact:{id:"",name:"",firstName:"",middleName:"",lastName:"",nickname:"",emailsWithType:[],phonesWithType:[],addressesWithType:[],aolCategory:M.Ygm.UNCATEGORIZED,...ce},isMobile:!1,isEditView:!1,isFullPane:!1});const Ee=(0,o.connect)(((e,{id:t,isEditView:s,isFullPaneContactsActive:a})=>{const{getPrescribedNumberOfColumns:n,getContactListSelectors:r,isFeatureEnabled:o}=(0,i.selectors)(e),{getContactById:l,getCurrentPaneView:c,isUserAddedContact:d}=r(),{contact:_}=c(),E=o(M.ANe.ENABLE_AOL_CONTACTS_CATEGORIES);if(_)return{contact:_,isFullPaneContactsActive:a,isTwoColumnLayout:2===n(),aolCategoriesEnabled:E};if(t){const{emails:e,emailType:r,...o}=ee()(l(t));return d(t)||(s=!1),{id:t,isEditView:s,isFullPaneContactsActive:a,contact:{...o,emailsWithType:e.map((e=>({value:e,type:r[e]})))},isTwoColumnLayout:2===n(),aolCategoriesEnabled:E}}return{isFullPaneContactsActive:a,isTwoColumnLayout:2===n(),aolCategoriesEnabled:E}}),(e=>({handleCancelBtnClick:t=>e((0,j.mM)(t)),onSaveClick:t=>e((0,j.gK)(t))})))(_e)},2088:e=>{"use strict";e.exports={className:{default:{circularGradient:"W_tQ H_tQ",cameraIcon:"p_a H_qJ T_6VdP L_6VdP",wrapper:"p_R H_tQ W_tQ cdPFi_2vHirC",circularIcon:"cZ1thBBO_cMr"},"theme-ATT":{wrapper:"cdPFi_1qpjVj"},"theme-FRONTIER":{wrapper:"cdPFi_Z1jptjq"},"theme-ROGERS":{wrapper:"cdPFi_Z1Ay7v5"},"theme-BT":{wrapper:"cdPFi_2uTSlm"},"theme-SKY":{wrapper:"cdPFi_1qrDKQ"},"theme-AOL":{wrapper:"cdPFi_1qpizt"},"theme-AOL_HIGH_CONTRAST":{wrapper:"cdPFi_nR9Ro"},"theme-CLASSIC":{wrapper:"cdPFi_Z2v0DQK"},"theme-SIMPLE":{wrapper:"cdPFi_ZJr2rP"},"theme-AIM":{wrapper:"cdPFi_1qph2s"},"theme-AOLCOM":{wrapper:"cdPFi_RRUsB"},"theme-HIGH_CONTRAST":{wrapper:"cdPFi_ZhUdf6"},"theme-DEFAULT":{wrapper:"cdPFi_2vHirC"},"theme-SUNRISE":{wrapper:"cdPFi_ZgWACV"},"theme-AQUA_GREEN":{wrapper:"cdPFi_2mfD3F"},"theme-AQUA_BLUE":{wrapper:"cdPFi_2cnSd3"},"theme-DEEP_PURPLE":{wrapper:"cdPFi_ZQUlkG"},"theme-BLUE_NIGHT":{wrapper:"cdPFi_ZhA5rE"},"theme-DARK_GREY":{wrapper:"cdPFi_ZBotVF"},"theme-NIGHT_LANDSCAPE":{wrapper:"cdPFi_AhNTn"},"theme-ROADTRIP":{wrapper:"cdPFi_Z2sLG6y"},"theme-SUNSET_AUSSIE":{wrapper:"cdPFi_1reUcd"},"theme-LIGHTHOUSE":{wrapper:"cdPFi_Z1xTjjd"},"theme-SPRING":{wrapper:"cdPFi_ZuDGq6"},"theme-WINTER":{wrapper:"cdPFi_Z1Catby"},"theme-SUMMER":{wrapper:"cdPFi_ZkCSSv"},"theme-GALAXY":{wrapper:"cdPFi_1CjVK1"},"theme-FALL":{wrapper:"cdPFi_Z1kCla3"},"theme-WESTERN":{wrapper:"cdPFi_1uNgzv"},"theme-SUNSET":{wrapper:"cdPFi_Zky2Dx"}},_key:"1J6Sbj"}},50306:e=>{"use strict";e.exports={className:{default:{detailsWrapper:"H_6D6F",editDetails:"D_F ek_BB em_N H_6D6F W_3vpWV I_ZkbNhI A_6EqO c1AVi73_6FsP d_3z5BY C_Z1YRXYn",editBody:"o_A",inputWrapper:"D_B",removeBtn:"r_P e_e5X D_X W_6Fd5 H_6Fd5 i_6Fd5 p_a R_0 M_0 B_3Gs07",img:"D_F gl_C ab_C H_3nj85",iconHolder:"p_a D_F gl_C ab_C r_P",inputfile:"D_n",uploadPhoto:"p_R D_F ek_BB gl_C m_Z14vXdP",sectionWrapper:"P_2qBHIh p_R m_Z14vXdP",section_label:"A_6EqO c1AVi73_6FsP u_eBE C_Z1YRXYn M_Z1stIkB H_6MGW",error:"D_B Y_eo6 Q_eo6 A_6DUj c1AVi73_6EWk C_ZmDiLl t_C",addField:"S_U r_P"},isMobile:{editDetails:"H_6D6F W_6D6F o_h",editBody:"F_N K_1BObGP Y_7ceA iz_A"},isFullPaneContactsActive:{editDetails:"W_6D6F F_1Lmexn iy_h"},isMobileAndIsTwoColumnLayout:{editDetails:"e_fq7 H_1BFwhW o_h I_ZkbNhI W_eBt M_1eaihC",editBody:"F_N K_1BObGP Y_7ceA iz_A"}},_key:"1J7rYn"}},28937:e=>{"use strict";e.exports={className:{default:{inputWrapper:"W_6D6F P_0 p_R ek_EZ gl_FM U_6LEV b_n",inputLabel:"A_6EqO C_Z1YRXYn i_6FIA c1AVi73_6FsP c1AVi7H_6LEV M_Ic91E W_6D6F",inputField:"A_6EqO C_Z281SGl i_6FIA c1AVi73_6FsP c1AVi7H_6LEV N_0 X_0 W_6D6F U_eo6 H_6TFj z_n n_n x_n m_Z1a7UWG",selectedValue:"cZ2l7Ups_3rCO1 em_N o_h J_x D_X G_e C_Z281SGl",removeBtn:"r_P D_X W_6LEV H_6LEV i_6Fd5 p_a R_fq7 M_0 T_dm5 cdPFi_Z1TsNbA cdPFi4_Z29WjXl",addFieldBtn:"Y_6Fd5",addFieldBtnTxt:"A_6EqO c1AVi73_6FsP C_Z29WjXl",error:"D_B Y_eo6 Q_eo6 A_6DUj c1AVi73_6EWk C_ZmDiLl"}},_key:"Z2oBtjq"}},80826:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var a=s(67294),n=s(45697),r=s.n(n),o=s(99095),i=s(85927),l=s(11160),c=s(31509),d=s(65304),_=s(10728),E=s(8470),u=s(9333),m=s(76531),S=s(78041),p=s(18685),C=s(18030),A=s(94482),T=s(40918),I=s(92559),h=s(91742),g=s(17016),O=s(94168),D=s.n(O),R=s(9026),N=s(91869),L=s(67498),f=s(28182);function M(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P=(0,o.defineMessages)({contactDetailsMenu:{id:"contact_details.menu",defaultMessage:"More contact options"},confirmDeleteTitle:{id:"contact_details.confirmDeleteTitle",defaultMessage:"Delete contact"},confirmDeleteMessage:{id:"contact_details.confirmDeleteMessage",defaultMessage:"Are you sure you want to permanently delete this contact?"},editContactLink:{id:"contact_details.editContactLink",defaultMessage:"Edit contact"},addContactLink:{id:"contact_details.addContactLink",defaultMessage:"Add to Contacts"},deleteContactLink:{id:"contact_details.deleteContactLink",defaultMessage:"Delete contact"}});class b extends a.Component{constructor(...e){super(...e),M(this,"state",{menuOpen:!1,showDeleteConfirm:!1}),M(this,"onDeleteBtnClick",(()=>{this.setState({showDeleteConfirm:!0})})),M(this,"hideDeleteConfirm",(()=>{this.setState({showDeleteConfirm:!1})})),M(this,"onDeleteConfirmed",(e=>{const{handleDeleteBtnClick:t,listId:s,id:a}=this.props;this.setState({showDeleteConfirm:!1},(()=>t({streamItem:{streamId:s,id:a},i13nModel:{mKey:I.JE.CONFIRM_DELETE_CONTACT,sec:I.nJ.CONTACTS_PANE,interactionType:(0,g.getInteractionFromEvent)(e)}})))})),M(this,"onMenuOpen",(()=>{this.state.menuOpen||this.setState({menuOpen:!0})})),M(this,"onMenuClose",(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})})),M(this,"renderDeleteConfirm",(()=>{const{intl:{formatMessage:e}}=this.context;return a.createElement(N.Z,{title:e(P.confirmDeleteTitle),message:e(P.confirmDeleteMessage),onConfirm:this.onDeleteConfirmed,onAbort:this.hideDeleteConfirm,onOuterClick:this.hideDeleteConfirm})})),M(this,"renderAsContactEditLink",(e=>{const{isEditable:t,isUserAddedContact:s,handleEditBtnClick:n}=this.props,{intl:{formatMessage:r}}=this.context;return a.createElement(L.Z,{kind:f.F.TEXT,className:e.contactEditLink,disabled:!t,onClick:n,"data-test-id":"edit-contact-option",isOnDarkBackground:!0},r(s?P.editContactLink:P.addContactLink))})),M(this,"renderAsContactDeleteLink",(e=>{const{isDeletable:t}=this.props,{intl:{formatMessage:s}}=this.context;return t?a.createElement(a.Fragment,null,a.createElement("span",null,a.createElement(L.Z,{kind:f.F.TEXT,className:e.contactDeleteLink,onClick:this.onDeleteBtnClick,"data-test-id":"edit-contact-option"},s(P.deleteContactLink))),this.state.showDeleteConfirm&&this.renderDeleteConfirm()):null}))}render(){const{isEditable:e,isUserAddedContact:t,isDeletable:s,handleEditBtnClick:n,showAsContactEditLink:r,showAsContactDeleteLink:o,isFullPaneContactsActive:i}=this.props,{intl:{formatMessage:p},getCss:I}=this.context,h=(0,R.$o)({context:this.context,includeMedium:!i}),g=I(D(),{darkVariations:h,menuButtonSelected:this.state.menuOpen&&(h?"dark":"light")});return r?this.renderAsContactEditLink(g):o?this.renderAsContactDeleteLink(g):a.createElement(a.Fragment,null,a.createElement(l.Z,null,a.createElement(c.Z,null,a.createElement("span",{className:g.menuButton,"data-test-id":"contact-details-menu-button"},a.createElement(u.default,{kind:m.Kinds.MORE,size:m.Sizes.XS,colorState:m.ColorStates.INHERITED,isOnDarkBackground:h,title:p(P.contactDetailsMenu),"aria-haspopup":!0,tabIndex:_.iUz.CONTACTS_PANE_HEADER}))),a.createElement(C.ZP,{offset:8,arrowSize:d.Jk.M,triggerOn:d.K2.CLICK,permittedArrowDirections:[d.Ji.UP],zAltitude:_.LSY.POPOVER.HIGH,align:d.xM.END,onShow:this.onMenuOpen,onHide:this.onMenuClose},a.createElement("div",{className:g.menu},a.createElement(E.Z,{focusOnMount:!0,layout:S.A.VERTICAL,kind:T.F.MENU},a.createElement(A.Z,null,a.createElement(L.Z,{kind:f.F.MENUITEM,disabled:!e,onClick:n,"data-test-id":"edit-contact-option"},p(t?P.editContactLink:P.addContactLink))),s?a.createElement(A.Z,null,a.createElement(L.Z,{kind:f.F.MENUITEM,onClick:this.onDeleteBtnClick,"data-test-id":"delete-contact-option"},p(P.confirmDeleteTitle))):null)))),this.state.showDeleteConfirm&&this.renderDeleteConfirm())}}M(b,"contextTypes",{intl:o.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func});const y=(0,p.connect)((e=>{const{getContactListSelectors:t}=(0,i.selectors)(e),{getCurrentPaneView:s,getCurrentPaneListId:a,isDeletable:n,isEditable:r,isUserAddedContact:o}=t(),{id:l}=s(),c=a();return{isEditable:r(l),isUserAddedContact:o(l),id:l,listId:c,isDeletable:n(l)}}),(e=>({handleEditBtnClick:t=>{e((0,h.q7)({i13nModel:{mKey:I.JE.OPEN_EDIT_CONTACT,sec:I.nJ.CONTACTS_PANE,interactionType:(0,g.getInteractionFromEvent)(t)}}))},handleDeleteBtnClick:t=>e((0,h.GK)(t))})))(b)},94168:e=>{"use strict";e.exports={className:{default:{menuButton:"I_T b_0 r_P D_F gl_C cdPFi4_Z29WjXl",menu:"P_1HT1B4 s_74JI W_A H_A a_3v1qi",contactDeleteLink:"p_R E_72FG f_r b_n q_T C_ZmDiLl r_P D_X H_6TFj V_M y_jyw3a A_6EqO c1AVi73_6FsP u_e69",contactEditLink:"b_n q_T C_Z29WjXl r_P D_X H_6TFj y_jyw3a A_6EqO c1AVi73_6FsP u_e69"},darkVariations:{menuButton:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",contactEditLink:"C_Z2bg7IA"},"menuButtonSelected-light":{menuButton:"cdPFi_Z29WjXl"},"menuButtonSelected-dark":{menuButton:"cdPFi_Z2bg7IA"}},_key:"1RtoXG"}},77346:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(57321),l=s.n(i),c=s(67498),d=s(7426),_=s(80826),E=s(47172),u=s(28182);const m=(0,o.defineMessages)({saveButton:{id:"contact_groups_edit.save_button",defaultMessage:"Save"},cancelButton:{id:"contact_groups_edit.cancel_button",defaultMessage:"Cancel"}}),S=e=>{const{formatMessage:t}=(0,d.Y)(),s=r()(l()),{enableSaveButton:n,isFullPaneContactsActive:o,isFullPaneContactsGroup:i,id:S,handleCancel:p,handleSave:C,formId:A}=e,T=i||o,I=T?s.contactsFullPaneButton:s.saveBtn,h=T?u.F.PRIMARY:u.F.PLAIN,g=T?s.contactsFullPaneButton:s.cancelBtn,O=T?u.F.SECONDARY:u.F.PLAIN;return a.createElement("footer",{className:s.footer,"data-test-id":"contact-group-edit-footer"},a.createElement(c.Z,{"data-test-id":"contact-form-save-btn",overridingClass:I,kind:h,onClick:e=>{e.preventDefault(),C&&C(e)},disabled:!n,form:A,type:"submit",tabIndex:0},t(m.saveButton)),a.createElement(c.Z,{"data-test-id":"contact-form-cancel-btn",onClick:p,form:A,overridingClass:g,kind:O,type:"button",tabIndex:0},t(m.cancelButton)),o&&a.createElement(_.Z,{showAsContactDeleteLink:!0}),i&&a.createElement(E.Z,{id:S,showAsGroupDeleteLink:!0}))}},57321:e=>{"use strict";e.exports={className:{default:{footer:"j_ZdTte5 B_0 I_ZkbNhI W_6D6F P_Z1Ve0sQ",saveBtn:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_jyw3a A_6EqO c1AVi73_6FsP c1AVi7a_6UbO u_e69 cZ1RN91d_n ir3_1JO2M7 I_Z29WjXl E_fq7 e_dRA b_0 C_ZkbNhI I4_Z29WjXl I1_Z29WjXl r1_DZ O1_cMr",cancelBtn:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_jyw3a A_6EqO c1AVi73_6FsP c1AVi7a_6UbO u_e69 cZ1RN91d_n ir3_1JO2M7 I_ZkbNhI b_0 C_Z29WjXl I4_Z1gjdjJ C4_Z29WjXl",contactsFullPaneButton:"Y_dm5 U_dm5"}},_key:"ZkMkrE"}},47172:(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var a=s(67294),n=s(45697),r=s.n(n),o=s(99095),i=s(11160),l=s(31509),c=s(65304),d=s(10728),_=s(8470),E=s(9333),u=s(76531),m=s(78041),S=s(18685),p=s(18030),C=s(94482),A=s(40918),T=s(92559),I=s(17016),h=s(86458),g=s.n(h),O=s(9026),D=s(91869),R=s(67498),N=s(28182),L=s(91742);function f(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const M=(0,o.defineMessages)({contactGroupMenu:{id:"contact_group_edit.menu",defaultMessage:"More list options"},confirmDeleteTitle:{id:"contact_group_edit.confirmDeleteTitle",defaultMessage:"Delete list"},confirmDeleteMessage:{id:"contact_group_edit.confirmDeleteMessage",defaultMessage:"Are you sure you want to permanently delete this list?"},deleteListLink:{id:"contact_group_edit.deleteListLink",defaultMessage:"Delete list"}});class P extends a.Component{constructor(...e){super(...e),f(this,"state",{menuOpen:!1,showDeleteConfirm:!1}),f(this,"onDeleteBtnClick",(()=>{this.setState({showDeleteConfirm:!0})})),f(this,"hideDeleteConfirm",(()=>{this.setState({showDeleteConfirm:!1})})),f(this,"onDeleteConfirmed",(e=>{const{handleDeleteBtnClick:t,id:s}=this.props;this.setState({showDeleteConfirm:!1},(()=>t({groupId:s,i13nModel:{mKey:T.JE.DELETE_USER_GROUP,sec:T.nJ.EDIT_CREATE_USER_GROUP,interactionType:(0,I.getInteractionFromEvent)(e)}})))})),f(this,"onMenuOpen",(()=>{this.state.menuOpen||this.setState({menuOpen:!0})})),f(this,"onMenuClose",(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})})),f(this,"renderDeleteConfirm",(()=>{const{intl:{formatMessage:e}}=this.context;return a.createElement(D.Z,{title:e(M.confirmDeleteTitle),message:e(M.confirmDeleteMessage),onConfirm:this.onDeleteConfirmed,onAbort:this.hideDeleteConfirm,onOuterClick:this.hideDeleteConfirm})})),f(this,"renderAsContactDeleteLink",((e,t,s)=>{const{intl:{formatMessage:n}}=this.context;return e?a.createElement(a.Fragment,null,a.createElement("span",null,a.createElement(R.Z,{kind:N.F.TEXT,className:s.contactDeleteLink,onClick:t,"data-test-id":"edit-contact-option"},n(M.deleteListLink))),this.state.showDeleteConfirm&&this.renderDeleteConfirm()):null}))}render(){const{intl:{formatMessage:e},getCss:t}=this.context,{id:s,isFullPaneContactsActive:n,showAsGroupDeleteLink:r}=this.props,o=(0,O.$o)({context:this.context,includeMedium:!n}),S=t(g(),{menuButtonSelected:this.state.menuOpen&&(o?"dark":"light")}),T=!!s;return r?this.renderAsContactDeleteLink(T,this.onDeleteBtnClick,S):a.createElement(a.Fragment,null,a.createElement(i.Z,null,a.createElement(l.Z,null,a.createElement("span",{className:S.menuButton,"data-test-id":"contact-group-menu-button"},a.createElement(E.default,{kind:u.Kinds.MORE,size:u.Sizes.XS,colorState:u.ColorStates.INHERITED,isOnDarkBackground:o,title:e(M.contactGroupMenu),"aria-haspopup":!0,tabIndex:0}))),a.createElement(p.ZP,{offset:8,arrowSize:c.Jk.M,triggerOn:c.K2.CLICK,permittedArrowDirections:[c.Ji.UP],zAltitude:d.LSY.POPOVER.HIGH,align:c.xM.END,onShow:this.onMenuOpen,onHide:this.onMenuClose},a.createElement("div",{className:S.menu},a.createElement(_.Z,{focusOnMount:!0,layout:m.A.VERTICAL,kind:A.F.MENU},T&&a.createElement(C.Z,null,a.createElement(R.Z,{kind:N.F.MENUITEM,onClick:this.onDeleteBtnClick,"data-test-id":"delete-group-option"},e(M.confirmDeleteTitle))))))),this.state.showDeleteConfirm&&this.renderDeleteConfirm())}}f(P,"contextTypes",{intl:o.intlShape,getCss:r().func,getThemeMode:r().func,getTheme:r().func});const b=(0,S.connect)(void 0,(e=>({handleDeleteBtnClick:t=>e((0,L.iE)(t))})))(P)},86458:e=>{"use strict";e.exports={className:{default:{menuButton:"I_T b_0 r_P D_F gl_C cdPFi4_Z29WjXl",menu:"P_1HT1B4 s_74JI W_A H_A a_3v1qi",contactDeleteLink:"p_R E_72FG f_r b_n q_T C_ZmDiLl r_P D_X H_6TFj V_M y_jyw3a A_6EqO c1AVi73_6FsP u_e69"},"menuButtonSelected-light":{menuButton:"cdPFi_Z29WjXl"},"menuButtonSelected-dark":{menuButton:"cdPFi_Z2bg7IA"}},_key:"ZK9QDC"}},67782:(e,t,s)=>{"use strict";s.r(t),s.d(t,{contactPickerGroupChanged:()=>r,openContactPickerDisplay:()=>n});var a=s(50566);const n=e=>({...e,type:a.CONTACT_PICKER_OPENED}),r=e=>({...e,type:a.CONTACT_PICKER_GROUP_CHANGED})},61106:(e,t,s)=>{"use strict";s.d(t,{Ir:()=>n,RC:()=>a});const a=100,n="CONTACT_PICKER_DROPDOWN"},38700:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(38856),l=s(16707),c=s.n(l),d=s(9026);const _=(0,o.defineMessages)({label:{id:"contacts_list.loading_indicator",defaultMessage:"Loading"}}),E=({includeHeaders:e,applyTheme:t,isFullPaneContactsActive:s},a)=>{const{getCss:n,intl:o}=a,l=t&&(0,d.$o)({context:a,includeMedium:!s}),E=n(c(),{includeHeaders:e,darkStyles:l}),u=[E.wrapper];return e&&u.push(E.withBackground),r.createElement("div",{className:u.join(" "),"aria-label":o.formatMessage(_.label)},e&&r.createElement("div",{className:E.search,"aria-hidden":!0}),e&&r.createElement("div",{className:E.tabs,"aria-hidden":!0}),!e&&r.createElement("div",{className:E.separator,"aria-hidden":!0},r.createElement("span",{className:E.separatorText})),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null),!e&&r.createElement("div",{className:E.separator,"aria-hidden":!0},r.createElement("span",{className:E.separatorText})),r.createElement(i.Z,null),r.createElement(i.Z,null),r.createElement(i.Z,null))};E.contextTypes={intl:o.intlShape,getCss:n().func,getThemeMode:n().func};const u=E},38856:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});var a=s(45697),n=s.n(a),r=s(67294),o=s(43007),i=s(76531),l=s(15226),c=s.n(l),d=s(9026);const _=({applyTheme:e,isFullPaneContactsActive:t},s)=>{const a=s.getCss(c(),{darkVariations:e&&(0,d.$o)({context:s,includeMedium:!t})});return r.createElement("div",{className:a.container},r.createElement("span",{className:a.orb,"aria-hidden":!0},r.createElement(o.Z,{kind:i.Kinds.ORB,colorState:i.ColorStates.INHERITED,size:i.Sizes.M})),r.createElement("span",{className:a.content,"aria-hidden":!0},r.createElement("span",{className:a.name}),r.createElement("span",{className:a.emails})))};_.contextTypes={getCss:n().func,getThemeMode:n().func};const E=_},73498:(e,t,s)=>{"use strict";s.d(t,{XY:()=>o,ap:()=>l,df:()=>i});var a=s(92559),n=s(37422),r=s(95406);const o={[n.ukn.TOP_CONTACTS]:a.nJ.TOP_CONTACTS_TAB,[n.ukn.USER_CREATED_CONTACTS]:a.nJ.USER_CREATED_CONTACTS_TAB,[n.ukn.PEOPLE]:a.nJ.PEOPLE_CONTACTS_TAB,[n.ukn.NOT_PEOPLE]:a.nJ.BUSINESS_CONTACTS_TAB,[n.ukn.WITH_KEYWORD]:a.nJ.CONTACTS_PANE_SEARCH,[n.ukn.RELATED]:a.nJ.RELATED_CONTACTS,[n.ukn.GROUPS]:a.nJ.GROUPS_CONTACTS_TAB},i={ID:"ID",EMAIL:"EMAIL",PHONE:"PHONE",ADDRESS:"ADDRESS",HIDDEN:"HIDDEN"},l=({value:e,type:t,id:s})=>(t===i.ADDRESS?(0,r.VO)(e||{}).join("-"):e)+"_"+s},16707:e=>{"use strict";e.exports={className:{default:{wrapper:"F_N",search:"H_72FG k_w m_Z12nDQf",tabs:"H_6UbO m_Z12nDQf",separator:"H_6MWH D_F ab_C P_Z1feoPS",separatorText:"ah_Z1tF3s4 D_X H_fq7 W_7kKt e_eo6 q_ZpQYvz",withBackground:"q_ZkbNhI"},includeHeaders:{wrapper:"W_3vpWV"},darkStyles:{withBackground:"q_ZS20V7",search:"m_1iPdY0",tabs:"m_1iPdY0",separatorText:"q_Z1WBuqm"},"themeCombo-DARK_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{withBackground:"q_cOYF6"},"themeCombo-DARK_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{withBackground:"q_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{withBackground:"q_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{withBackground:"q_t5YMW"},"themeCombo-DARK_SPRING":{withBackground:"q_ZgFtst"},"themeCombo-MEDIUM_SPRING":{withBackground:"q_ZgFtst"},"themeCombo-DARK_WINTER":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_WINTER":{withBackground:"q_ZGiXN8"},"themeCombo-DARK_SUMMER":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_SUMMER":{withBackground:"q_ZGiXN8"},"themeCombo-DARK_GALAXY":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_GALAXY":{withBackground:"q_ZGiXN8"},"themeCombo-DARK_FALL":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_FALL":{withBackground:"q_ZGiXN8"},"themeCombo-DARK_WESTERN":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_WESTERN":{withBackground:"q_ZGiXN8"},"themeCombo-DARK_SUNSET":{withBackground:"q_ZGiXN8"},"themeCombo-MEDIUM_SUNSET":{withBackground:"q_ZGiXN8"}},_key:"2aoCJj"}},15226:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_7jIs c1AVi7a_7rdk W_6D6F P_0 M_0 k_w b_n q_n",content:"D_F ek_BB gl_C F_N A_6EqO c1AVi73_6FsP i_6MGW C_Z281SGl H_6MGW m_Z12nDQf",orb:"ah_Z1tF3s4 F_n p_R cdPFi_ZpQYvz P_0 M_20hyCR W_1M2iaA H_1M2iaA",name:"ah_Z1tF3s4 W_7rdk H_6DEy q_ZpQYvz e_eDQ",emails:"ah_Z1tF3s4 Y_6Eb4 W_3nH9d H_fq7 q_ZpQYvz e_eo6"},darkVariations:{content:"m_1iPdY0",orb:"cdPFi_Z1WBuqm",name:"q_Z1WBuqm",emails:"q_Z1WBuqm"}},_key:"ZMEyMi"}},70757:(e,t,s)=>{"use strict";s.d(t,{V:()=>C,Z:()=>A});var a=s(67294),n=s(99095),r=s(30884),o=s(83034),i=s(7426),l=s(18907),c=s.n(l),d=s(37422),_=s(79483),E=s(17016),u=s(92559),m=s(10728);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const p=(0,n.defineMessages)({addedContacts:{id:"csv_import_status_bar.added_contacts",defaultMessage:"{contactsCount} added"},inProgress:{id:"csv_import_status_bar.in_progress",defaultMessage:"Importing CSV file ..."},done:{id:"csv_import_status_bar.done",defaultMessage:"CSV import completed"},tryAgain:{id:"csv_import_status_bar.try_again",defaultMessage:"Try again"},fail:{id:"csv_import_status_bar.fail",defaultMessage:"CSV import failed. {tryAgainLink}"}}),C=({i13nModel:e,overrideTryAgainText:t},{intl:s})=>{const{formatMessage:n}=s,i=(0,o.Z)(c()),l=(0,a.useRef)(null),d=(0,a.useCallback)((t=>{null!=l&&l.current&&(l.current.click(),e&&_.ZP.sendI13nModel({i13nModel:{...e,interactionType:(0,E.getInteractionFromEvent)(t)}}))}),[e]),u=(0,a.useCallback)((e=>{switch(e.key){case"Enter":d(e)}}),[d]);return a.createElement("span",{onClick:d,onKeyDown:u,className:i.tryLink,tabIndex:m.iUz.COMMS_PROPERTIES_BAR,role:"link"},t||n(p.tryAgain),a.createElement(r.Z,{ref:l}))};C.contextTypes={intl:n.intlShape.isRequired};const A=e=>{const{csvContactImportStatus:{status:t,numContactsAdded:s=0,importCompleteInThisSession:r=!1}}=e,{formatMessage:l}=(0,i.Y)(),_=(0,o.Z)(c());let E,A;const T=s>999?"999+":s;switch(t){case d.woE.DONE:E=l(p.done);break;case d.woE.IN_PROGRESS:E=l(p.inProgress);break;case d.woE.FAIL:A=l(p.fail,{tryAgainLink:l(p.tryAgain)}),E=a.createElement(n.FormattedMessage,S({},p.fail,{values:{tryAgainLink:a.createElement(C,{i13nModel:{mKey:u.JE.IMPORT_CSV_CONTACTS_CLICKED,sec:u.nJ.CSV_CONTACTS_IMPORT_STATUS_BAR}})}}))}const I=t===d.woE.IN_PROGRESS||r,h=l(p.addedContacts,{contactsCount:T});return E&&I?a.createElement("div",{className:_.container,tabIndex:m.iUz.COMMS_PROPERTIES_BAR,title:`${A||E} ${h}`},a.createElement("div",null,E),a.createElement("div",null,h)):null}},30884:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var a=s(67294),n=s(18685),r=s(76223),o=s.n(r),i=s(92559),l=s(17016),c=s(70500),d=s.n(c),_=s(30426);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const u=(0,n.connect)(null,{importCsvContacts:_.XF,importCsvContactsSizeFailed:_.r})((e=>{const t=o()(d()),{importCsvContacts:s,importCsvContactsSizeFailed:n,forwardedRef:r}=e,c=(0,a.useCallback)((e=>{var t;const a=Array.prototype.slice.call(e.target.files),{name:o,size:c}=a[0]||{};null!=r&&null!==(t=r.current)&&void 0!==t&&t.value&&(r.current.value=""),c>=5242880?n({i13nModel:{mKey:i.JE.IMPORT_CSV_CONTACTS_SIZE_EXCEEDED,sec:i.nJ.CONTACTS_PANE,interactionType:(0,l.getInteractionFromEvent)(e),actionData:{name:o,size:c}}}):s({name:o,file:a[0],i13nModel:{mKey:i.JE.IMPORT_CSV_CONTACTS_REQUESTED,sec:i.nJ.CONTACTS_PANE,interactionType:(0,l.getInteractionFromEvent)(e)}})}),[s,n,r]);return a.createElement("input",{ref:r,type:"file",onChange:c,className:t.hiddenUploader,accept:".csv,.tsv",multiple:!1})})),m=(0,a.forwardRef)(((e,t)=>a.createElement(u,E({},e,{forwardedRef:t}))));m.displayName="ForwardedRefConnected<ContactsImportUploader>";const S=m},18907:e=>{"use strict";e.exports={className:{default:{container:"D_F gl_FM ab_C H_72FG P_1Eu7sD I_ZpQYvz",tryLink:"C_Z29WjXl r_P"}},_key:"24QTGE"}},70500:e=>{"use strict";e.exports={className:{default:{menuButton:"I_T b_0 r_P D_F gl_C je_dRA cdPFi4_Z29WjXl",menu:"P_1HT1B4 s_3nG7c W_A H_A a_3v1qi",menuOption:"r_P D_F P_fQq0A cZW7ROP_A I4_Z1gjdjJ I3_Z1gjdjJ",menuOptionText:"ix_AS",separator:"m_Z14vXdP M_3HLUz",hiddenUploader:"D_n",disableMessage:"P_fq7 a_3qWeB",disableDL:"r_q O_cMq C4_q"},isSelected:{menuOption:"I_Z1gjd50"},darkVariations:{menuButton:"cdPFi_ZpQYvz cdPFi4_ZkbNhI"},"menuButtonSelected-light":{menuButton:"cdPFi_Z29WjXl"},"menuButtonSelected-dark":{menuButton:"cdPFi_ZkbNhI"},disablePrint:{menuOption:"O_cMq r_BN I4_ZkbNhI"}},_key:"Z29VFV"}},4887:(e,t,s)=>{"use strict";s.d(t,{F:()=>A,Z:()=>I});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(39644),l=s.n(i),c=s(84328),d=s(37422),_=s(98217),E=s(17016),u=s(92559),m=s(43007),S=s(76531);const p=(e,t)=>{const{accountStatus:s,lastImportedTime:r}=e,{formatDate:o}=t.intl;switch(s){case d.UcZ.CONNECTED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.connectedImportMessage",defaultMessage:"Importing new contacts everyday."});case d.UcZ.EXPIRED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.expiredImportMessage",defaultMessage:"Last imported on {date}.",values:{date:o(r)}});case d.UcZ.QUEUED:return a.createElement(n.FormattedMessage,{id:"importAccountItem.queuedImportMessage",defaultMessage:"Import in progress"});case d.UcZ.FAILED:return a.createElement(a.Fragment,null,a.createElement(m.Z,{kind:S.Kinds.EXCLAMATION_ALT,size:S.Sizes.XXS,colorState:S.ColorStates.WARNING_GRAD_RED}),a.createElement(n.FormattedMessage,{id:"importAccountItem.errorImportMessage",defaultMessage:"Error importing contacts. Try importing again."}));case d.UcZ.NOT_CONNECTED:default:return null}};p.contextTypes={intl:n.intlShape.isRequired};const C=p,A={[d.zoT.GOOGLE]:{importMKey:u.JE.IMPORT_GMAIL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_GMAIL_CONTACTS,displayName:_.Z.gmail_account_description},[d.zoT.YAHOO]:{importMKey:u.JE.IMPORT_YMAIL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_YMAIL_CONTACTS,displayName:_.Z.yahoo_account_description},[d.zoT.AOL]:{importMKey:u.JE.IMPORT_AOL_CONTACTS,disconnectMKey:u.JE.DISCONNECT_AOL_CONTACTS,displayName:_.Z.aol_account_description},[d.zoT.OUTLOOK]:{importMKey:u.JE.IMPORT_OUTLOOK_CONTACTS,disconnectMKey:u.JE.DISCONNECT_OUTLOOK_CONTACTS,displayName:_.Z.outlook_account_description}},T=(e,t)=>{const{provider:s,accountStatus:r,lastImportedTime:i,onConnect:_,onDisconnect:m,stickyOnboarding:S}=e,p=o()(l(),{stickyOnboarding:S}),{formatMessage:T}=t.intl,I=A[s]||{},h=r===d.UcZ.CONNECTED||r===d.UcZ.QUEUED;return a.createElement("li",{className:p.listItem,onClick:e=>{let t,a;h?(t=I.disconnectMKey,a=m):(t=I.importMKey,a=_),a({url:"",provider:s,providerType:"EMAIL_PROVIDERS",providerName:I.displayName?T(I.displayName):s,i13nModel:{mKey:t,sec:u.nJ.SETTINGS_CONTACTS_TAB,interactionType:(0,E.getInteractionFromEvent)(e)}})},role:"button"},a.createElement(c.Z,{accountType:s,"aria-hidden":!0}),a.createElement("div",{className:p.accountInfo},a.createElement("div",{className:p.accountName},I.displayName?T(I.displayName):s),a.createElement("div",{className:p.accountStatusInfo},a.createElement(C,{accountStatus:r,lastImportedTime:i}))),a.createElement("div",{className:p.accountStatus,"data-test-id":(h?"disconnect-":"import-")+s},h?a.createElement(n.FormattedMessage,{id:"import_account_item.disconnectButtonText",defaultMessage:"Stop importing"}):a.createElement(n.FormattedMessage,{id:"import_account_item.importButtonText",defaultMessage:"Import"})))};T.contextTypes={intl:n.intlShape.isRequired};const I=T},39644:e=>{"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5 D_F ek_BB",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountStatus:"Q_A A_6EqO C_Z29WjXl t_r u_dPo i_6FIA c1AVi73_6FsP c1AVi7H_6Mrc",accountStatusInfo:"A_6EqO C_Z1YRXYn D_F i_6EGz Y_eo6 c1AVi73_6FsP c1AVi7H_6LEV"},stickyOnboarding:{listItem:"H_72FG"}},_key:"ZOHB5A"}},72103:(e,t,s)=>{"use strict";s.d(t,{K:()=>d,ZP:()=>E,ZS:()=>_,c_:()=>c,f9:()=>l});var a=s(18685),n=s(18352),r=s(85927),o=s(37422),i=(s(45481),s(17591));const l=e=>{const{getSetting:t}=(0,r.selectors)(e),s=t(o.Zrf.ABOUT_AD_URL);return{adVersion:t(o.Zrf.DEALS_SHOPPING_CART_AD_VERSION),aboutAdsUrl:s}},c=e=>({onAdClicked:t=>e((0,i.og)(t)),onAdRendered:t=>e((0,i.wu)(t))}),d=e=>{const{getEnvironmentSelectors:t,getMainContentWidth:s,getSetting:a,isFeatureEnabled:n,getAffiliateCrumb:i,getFalconRelatedCardSelectors:l}=(0,r.selectors)(e),c=a(o.Zrf.ENABLED_AFFILIATE_PARTNERS),{getLoggerParams:d,getPartner:_,getAppId:E}=t(),u=i(),{getCommerceIntentBrands:m}=l();return{affiliateFeatures:c,isAffiliatePartnerEnabled:n(o.ANe.AFFILIATE_PARTNER),locale:d().locale,mainContentWidth:s(),partner:_(),appId:E(),affiliateCrumb:u,commerceIntentBrands:m()}},_=(e,{onCouponClick:t})=>({clip:({mailboxId:t,cardMid:s,i13nModel:a={},recommendations:n=!1})=>e((0,i.Oz)({mailboxId:t,cardMid:s,i13nModel:a,recommendations:n})),unclip:({mailboxId:t,cardMid:s,i13nModel:a={},recommendations:n=!1})=>e((0,i.Ai)({mailboxId:t,cardMid:s,i13nModel:a,recommendations:n})),getParentGroupId:t=>e((0,i.lX)(t)),onCouponClick:t,couponRecommendationsOpened:({i13nModel:t,sectionId:s="",spaceId:a=0})=>e({...(0,i.uv)(),i13nModel:t,sectionId:s,spaceId:a}),couponRecommendationsClosed:({i13nModel:t,cardMid:s=""})=>e({...(0,i.Wf)(s),i13nModel:t}),couponRecommendationsViglinkClicked:t=>e({...(0,i.rz)(),...t}),unusualDiscountViglinkClicked:t=>e((0,n.QP)(t))}),E=(0,a.connect)(((e,{cardMid:t=""})=>{const{getCouponsSelectors:s,getEnvironmentSelectors:a,isFeatureEnabled:n,getSetting:i,getAffiliateCrumb:l,getFalconRelatedCardSelectors:c}=(0,r.selectors)(e),{getCouponExpirationTime:d,getDealLink:_,getUnusualDiscount:E,getDescription:u,getFromAddress:m,isSavedDeal:S}=s(),p=l(),{getCommerceIntentPageIdByBrandName:C}=c(),A=n(o.ANe.AFFILIATE_PARTNER),{name:T="",email:I=""}=m(t),h=S(t),g=E(t),O=u(t),{dateDiff:D,isInferred:R}=d(t,new Date),N=_(t),L=i(o.Zrf.ENABLED_AFFILIATE_PARTNERS),{getLoggerParams:f,getPartner:M,getAppId:P}=a();return{affiliateFeatures:L,cardMid:t,saved:h,daysUntilExpiry:D,dealLink:N,description:O,fromEmail:I,fromName:T,isAffiliatePartnerEnabled:A,appId:P(),isInferredDate:R,locale:f().locale,partner:M(),unusualDiscount:g,affiliateCrumb:p,commerceIntentPageId:C(T)}}),_)},79918:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R X_eo6 h_Z1H3PfF I4_Z1gjdjJ",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_fq7 E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F a_3nq6r em_pO ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_th ej_0",vendorName:"Q_fq7 o_h G_e J_EN",clippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_Z287E9E C_ZkbNhI",unclippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_ZkbNhI cdPFi_Z287E9E",description:"J_x Q_6Eb4 o_h G_e em_N",affiliatePartnerDescription:"J_x Q_6Eb4 o_h G_e em_N C4_Z29WjXl",dateWrapper:"D_F gl_CH en_N A_6DUj Q_6Eb4 J_EN s_3mS2U",unclippedCpnExpiryInfo:"C_Z1VRqsb",openEmailIcon:"cdPFi_Z1VRqsb cdPFi4_Z29WjXl"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",vigLinkDescription:"C4_Z2bg7IA",subContainer:"bj_a0xtn",unclippedButton:"I_T cdPFi_29F7yW l_29F7yW",clippedButton:"I_29F7yW l_29F7yW",unclippedCpnExpiryInfo:"C_ak5l7",openEmailIcon:"cdPFi_ak5l7 cdPFi4_29F7yW"},hideBottomBorder:{subContainer:"bj_T"}},_key:"Zxsgtm"}},16107:e=>{"use strict";e.exports={className:{default:{row:"D_F H_d4J P_3Y3Gk k_w",container:"W_Z2wlC3b D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_Z1gjd50 Q_3nVE4",image:"W_3mS2U H_3mS2U im_BH eh_1AmJOD",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6LUG u_b",description:"cZ1zaJgg_B o_h J_x G_e A_6EGz i_6FsP M_Z26RiTK",adActivity:"M_ZuD6o1 A_6EGz C_Z1VRqsb a_3nVBr o_h J_x",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_0 C_Z2drWk6 cdPFi_Z2drWk6",adContainer:"W_6D6F D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_Z1gjd50",viewabilityTracker:"W_Z2wlC3b",cta:"v_h I_ZamTeg C_ZkbNhI P_eo6 u_b e_dRA K_6FIA o_h a_eE1",imageContainer:"W_3mS2U H_3mS2U ba_BH ay_C",ctaBackground:"W_6D6F H_6D6F D_F ab_C gl_C",fromNameContainer:"D_F gl_FM"},isWideView:{container:"W_1FMBJO",viewabilityTracker:"W_1FMBJO"},isCompactView:{container:"W_6D6F",viewabilityTracker:"W_6D6F"},themedAdActivity:{adActivity:"b_n H_6NIX M_ZuD6o1 u_b e_6LEV q_Z1XPDyi C_ZkbNhI t_C i_6NIX ac_CI W_6D6F"},ctaOnImg:{ctaBackground:"I4_ZS20V7"},"themeMode-DARK":{container:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",adContainer:"q_1YEmYj C_ZpQYvz q4_ZFyHXD",expiration:"C_ak5l7",adActivity:"C_ak5l7"},marginLess:{container:"Q_0"}},_key:"181hVQ"}},87246:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(45697);var a=s(67294),n=s(99095),r=s(40315);function o(e,t){return new Date(t).getUTCFullYear()===e.getUTCFullYear()}class i extends a.Component{shouldComponentUpdate(e){const t=this.props;return e.date.getTime()!==t.date.getTime()||e.timezone!==t.timezone||e.long!==t.long}render(){const{date:e,long:t,timezone:s="UTC",weekday:i}=this.props,{intl:l}=this.context,{locale:c}=l;let d;try{d=(0,r.oe)({timezone:s})}catch(_){return function(e,t,s){return e?a.createElement(n.FormattedDate,{value:t,timeZone:s,minute:"numeric",hour:"numeric",hour12:"true",month:"short",day:"numeric"}):a.createElement(n.FormattedDate,{value:t,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(t,e,s)}return t?function(e,t,s,i,l,c){const d={timeZone:s,day:"numeric",month:(0,r.ze)(l),weekday:c};return o(e,t)||(d.year="numeric"),a.createElement(n.FormattedMessage,{id:"date_at_time",defaultMessage:"\n                {date} at {time}\n            ",values:{date:i.formatDate(e,d),time:i.formatTime(e,{timeZone:s,hour:"numeric",minute:"numeric"})}})}(e,d,s,l,c,i||void 0):function(e,t,s,i){return function(e,t){return e.getTime()>=t}(e,t)?a.createElement(n.FormattedTime,{value:e,timeZone:s,hour:"numeric",minute:"2-digit"}):o(e,t)?a.createElement(n.FormattedDate,{value:e,timeZone:s,day:"numeric",month:(0,r.ze)(i)}):a.createElement(n.FormattedDate,{value:e,timeZone:s,day:"numeric",month:"numeric",year:"numeric"})}(e,d,s,c)}}i.contextTypes={intl:n.intlShape};const l=i},54733:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>l});var a=s(87246),n=s(67294),r=s(85927),o=s(18685);class i extends n.Component{render(){const e=this.props;return n.createElement(a.Z,e)}}const l=(0,o.connect)((e=>{const{getEnvironmentSelectors:t}=(0,r.selectors)(e),{getTimeZoneName:s}=t();return{timezone:s()}}))(i)},12779:(e,t,s)=>{"use strict";s.d(t,{BW:()=>l,j4:()=>o,ow:()=>i});var a=s(45697),n=s.n(a),r=s(95406);let o,i;!function(e){e.MODAL="Modal",e.OVERLAY="Overlay"}(o||(o={})),function(e){e.BIG_PURPLE_HEADER="bigPurpleHeader",e.SMALL_PURPLE_HEADER="smallPurpleHeader",e.BACKGROUND_IMAGE="backgroundImage",e.SIDE_HEADER="sideHeader",e.FALLBACK="fallback"}(i||(i={}));const l=(0,r.VO)(i),c=n().shape({oneX:n().string.isRequired,twoX:n().string,width:n().number,height:n().number});n().string.isRequired,n().oneOf((0,r.VO)(o)).isRequired,n().oneOf(l),c.isRequired,n().string,n().string,n().string,n().string,n().string,n().string.isRequired,n().string,n().string,n().string,n().string.isRequired,n().string.isRequired,n().string.isRequired,n().string.isRequired,n().string,n().string},30643:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F D_F ek_BB",header:"m_Z14vXdP t_C P_1e4LJ9 A_6FsP W_6D6F d_7bcz o_h G_e k_w J_x"},"themeMode-DARK":{header:"C_ZkbNhI cdPFi_ZkbNhI m_ZYfqD1"}},_key:"piO1w"}},64341:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG t_C o_FF",topbarContainer:"m_Z14vXdP D_F P_1IaimO gl_C ab_C",topbarText:"A_6FsP i_6LEV c1AVi73_6LUG c1AVi7H_6MWH u_dPo G_e o_h J_x a_eRe",segmentContainer:"F_n P_1g7oPJ M_0 m_Z14vXdP D_F",contentContainer:"D_F ek_BB W_6D6F gl_FL ab_C",logo:"W_7ALe Y_3mS2U U_6LEV",linkStyle:"A_6EqO c1AVi73_6FsP I_Z29WjXl b_n C_ZkbNhI I4_Z2chSgW r_P D_X H_6TFj e_dRA k_w en_0 V_M s_7yHc P_2jIJWF",title:"A_6FsP C_Z1YRXYn i_6LEV c1AVi73_6LUG c1AVi7H_6MWH u_e69 U_fq7 a_eRe",description:"W_3v9Wb A_6EqO C_Z1YRXYn i_6FIA c1AVi73_6FsP c1AVi7H_6LEV u_dPo U_6LEV",upgradeBtn:"M_0"},"themeMode-DARK":{container:"C_ZkbNhI cdPFi_ZkbNhI",topbarContainer:"m_ZYfqD1",segmentContainer:"m_ZYfqD1",title:"C_ZkbNhI",description:"C_ZkbNhI",linkStyle:"I_ak5jA b_n C_ZkbNhI I4_ak5jA b4_n C4_ZkbNhI"}},_key:"Z1r82fv"}},97530:(e,t,s)=>{"use strict";s.d(t,{bz:()=>o,nX:()=>n,q8:()=>r});var a=s(50566);function n(e,t){e.dispatch(a.EMOJI_PICKER_CLOSED,t)}function r(e,t){e.dispatch(a.EMOJI_PICKER_OPENED,t)}function o(e,t){e.dispatch(a.EMOJI_CATEGORY_CHANGED,t)}},45191:(e,t,s)=>{"use strict";s.d(t,{Z:()=>M});var a=s(45697),n=s.n(a),r=s(67294),o=s(92559),i=s(99095),l=s(97530),c=s(10728),d=s(76531),_=s(43007),E=s(64692),u=s(67498),m=s(28182),S=s(87771),p=s(11160),C=s(18030),A=s(31509),T=s(26),I=s(65304),h=s(76223),g=s.n(h),O=s(95764),D=s.n(O),R=s(37422);function N(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const L=(0,i.defineMessages)({emojiPicker:{id:"emoji.emojipicker.title",defaultMessage:"Insert emojis"}});class f extends r.Component{constructor(e){super(e),N(this,"togglePopover",(()=>{const{popoverOpen:e}=this.state;this.state.popoverOpen&&this.props.focusBackEditor(),this.setState({popoverOpen:!e})})),N(this,"onPopoverContentHide",(()=>{this.setState({popoverOpen:!1},(()=>this.props.focusBackEditor()))})),N(this,"closePicker",(()=>{this.refs.emojiPopoverContainer.hide(I.K2.CLICK);const e={mKey:o.JE.EMOJI_CLOSE,sec:o.nJ.COMPOSE_MSG,interactionType:o.Rb.click};this.setState({popoverOpen:!1}),this.props.focusBackEditor(),this.context.executeAction(l.nX,{i13nModel:e})})),N(this,"renderEmojiCue",(()=>r.createElement(C.ZP,{align:I.xM.CENTER,triggerOn:I.K2.MOUNT,zAltitude:c.LSY.POPOVER.HIGH,persistent:!0},r.createElement(S.cr,{import:"../compose/atoms/emoji_cue",cueName:R.ANe.EMOJI_CUE,onTryNow:()=>{this.refs.emojiPopoverContainer.hide(I.K2.MOUNT),this.refs.emojiPopoverContainer.show(I.K2.CLICK)},onMayBeLater:()=>{},_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,9620))},_moduleResolver:function(){return 9620}})))),N(this,"renderEmojiPopup",(e=>r.createElement(C.ZP,{permittedArrowDirections:[I.Ji.DOWN,I.Ji.UP],triggerOn:I.K2.CLICK,"data-test-id":"emoji-pop-up",onShow:()=>{this.props.showEmojiCue&&this.refs.emojiPopoverContainer.hide(I.K2.MOUNT)},onHide:this.onPopoverContentHide,align:I.xM.ANY},r.createElement(S.cr,{import:"./emoji_popup",bundleName:"lazy_group2",onEmojiClick:this.props.onEmojiClick,closePicker:this.closePicker,"data-test-id":"emoji-lazy-component",tooltipEmoji:this.props.tooltipEmoji,_moduleLoader:function(){return Promise.all([s.e(567),s.e(340)]).then(s.bind(s,62761))},_moduleResolver:function(){return 62761}},r.createElement(S.nA,{loading:!0},r.createElement("div",{className:e.lazyStyle},r.createElement(T.Z,null))))))),this.timer=null,this.state={popoverOpen:!1}}componentWillUnmount(){clearTimeout(this.timer)}render(){const{formatMessage:e}=this.context.intl,{popoverOpen:t}=this.state,s=g()(D()),{applyHoverMenuButtonOverride:a=!1}=this.props;return r.createElement("div",{onClick:this.togglePopover},r.createElement(p.Z,{ref:"emojiPopoverContainer"},r.createElement(A.Z,{"data-test-id":"emoji-picker-anchor"},r.createElement(u.Z,{"data-test-id":"emoji-picker-button",title:e(L.emojiPicker),"aria-label":e(L.emojiPicker),kind:t?m.F.ICON_HIGHLIGHTED:m.F.ICON,overridingClass:a?s.hoverMenuButton:""},a?r.createElement(E.Z,{kind:d.Kinds.COMPOSE_EMOJI,size:d.Sizes.XS,colorStates:{normal:d.ColorStates.TB_ICON_FILL_COLOR,hovered:d.ColorStates.BATCAVE_GRAY}}):r.createElement(_.Z,{kind:d.Kinds.COMPOSE_EMOJI,size:d.Sizes.XS,colorState:d.ColorStates.NORMAL}))),this.props.showEmojiCue?this.renderEmojiCue():null,this.renderEmojiPopup(s)))}}N(f,"contextTypes",{executeAction:n().func.isRequired,intl:i.intlShape.isRequired});const M=f},95764:e=>{"use strict";e.exports={className:{default:{headerContainer:"H_6UbO D_F ek_EZ ab_C gl_FM",header:"A_6EqO c1AVi73_6FsP u_elT i_6Fd5 X_6LEV C_Z281SGl",categoryTitle:"k_w H_6Nds A_6EqO c1AVi73_6FsP P_Z14hUor C_Z1TsNbA",emojiBox:"H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiRow:"D_F ab_C k_w P_0 H_72FG",emojiLi:"D_X Q_6LEV W_6MGW H_6MGW Q4_6Fd5 E4_68F4 W4_6UbO H4_6UbO",emojiDiv:"W_6D6F H_6D6F r_P",emojiContainer:"k_w D_F ek_BB j_20lmjm I_ZkbNhI",activeCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_jyw3a A_6EqO c1AVi73_6FsP r_P C_q ir3_1JO2M7",inactiveCategoryButton:"c27KHO0_n b_0 M_0 P_0 i_0 I_T y_jyw3a A_6EqO c1AVi73_6FsP r_P C_q ir3_1JO2M7 O_6uB4",categoryContent:"D_F ab_C gl_C W_6D6F",categoryImage:"D_X em_N W_6Fd5 H_6Fd5",categoryContainer:"ha_n M_28w24u D_F P_Z1SeCye aw_cKow3 az_DW ba_ZVBCBL lv_Z1smGsJ",categories:"r_P D_X Q_6NIX H_6Fd5 Q6_6MGW",closeWrapper:"D_F ab_C N_6DEy",lazyStyle:"k_w D_F ek_BB j_20lmjm I_ZkbNhI H_3vxXj ab_C gl_C",emojiBoxV1:"p_R Z_0 iy_h iz_A k_w em_N c22hqzz_GN H_3s0hC z_Z14vXdP m_Z14vXdP N_6MGW",emojiListV1:"M_0 P_0",emojiListItemV1:"H_A hd_n",searchSection:"U_6LEV P_2aKOEx",searchInput:"X_6NIX N_6VdP H_6UbO",emojiPage:"D_F ek_BB ab_C gl_C W_3vFXG H_3rBM0",emojiMessage:"C_Z1TsNbA",pageEmojiWrapper:"P_0",pageEmoji:"Q_0 W_6UbO H_6UbO",hoverMenuButton:"i_q O_q H_6TFj e_dRA u_e69 P_Z1otAne O4_q C4_Z2chSgW I4_Z1gjdjJ"}},_key:"Z1HyetJ"}},52463:e=>{"use strict";e.exports={className:{default:{container:"o_A W_6D6F P_1Eu7sD",adContainer:"D_F gl_CI o_A W_6D6F",header:"t_l A_6FsP C_Z281SGl Y_6MGW U_6LEV I_ZkbNhI W_6D6F"},"themeMode-DARK":{header:"I_T C_ZpQYvz"}},_key:"1ITfz1"}},94697:e=>{"use strict";e.exports={className:{default:{container:"H_6D6F D_F ek_BB I_ZkbNhI",contentContainer:"p_R iz_A H_1HKkit",videoContainer:"M_1EAG48 D_B W_3DVPV H_3rRhf cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy",header:"t_C A_6FsP C_Z281SGl Y_6MGW U_6LEV I_ZkbNhI",subHeader:"A_6EqO C_Z1VRqsb W_3vVYr Q_A E_A Y_eTB"},videoHidden:{subHeader:"C_Z29WjXl C4_Z29WjXl r4_P",header:"Y_7sfl H_1HKkit"},aolVideoPlayer:{videoContainer:"W_3HK1R H_3vNsy cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy"},isDarkTheme:{container:"I_T",header:"I_T C_ZpQYvz",subHeader:"C_ZvsWfq"}},_key:"9oE3d"}},26482:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F bn_dBP bj_ZpQYvz bm_FJ k_w D_F je_6MGW X_6MGW N_6LEV H_7bcz en_0 p_R",closeWrapper:"p_R B_fq7",categoryFilterContainer:"r_P I_ZnIF8Y e_dRA H_6D6F P_Zl3sKS U_fq7 D_F ab_C p_R B_fq7",categoryFilterHeader:"M_82XEY E_A y_jyw3a A_6EqO c1AVi73_6FsP W_3rui8 J_x G_e o_h",checkMark:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",channelTab:"W_3rv4o X_6LEV J_x G_e o_h"},isDarkTheme:{container:"bj_ak5iz"}},_key:"1QfENQ"}},68085:(e,t,s)=>{"use strict";s.d(t,{_:()=>E});var a=s(57557),n=s.n(a),r=s(45697),o=s.n(r),i=s(67294),l=s(18685),c=s(5156),d=s(92559),_=s(37422);function E(e,t,s=!0){const a=e.displayName||e.name;function r(){i.Component.apply(this,arguments)}Object.assign(r.prototype,i.Component.prototype),r.displayName="featureCueConnector("+a+")",r.contextTypes=t,r.propTypes={cueName:o().string.isRequired,onShow:o().func,close:o().bool,onClick:o().func,closeFeatureCue:o().func,markFeatureAsShown:o().func,computeActionData:o().func,computeUserResponse:o().func},r.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({}),computeUserResponse:()=>""},Object.assign(r.prototype,{componentDidMount(){const{cueName:e,computeActionData:t,computeUserResponse:s,markFeatureAsShown:a,onShow:n}=this.props,r={sec:d.nJ.FEATURE_CUE,mKey:"cue_"+e+"_invoke"};r.actionData=t(r.mKey),e!==_.ANe.AMAZON_PRIME_DAY_CUE&&e!==_.ANe.TOM_ONBOARDING_CUE||(r.mKey=d.JE.CARD_VIEW);const o=s(),i={name:e,i13nModel:r};o&&(i.userResponse=o),setImmediate((()=>{a(i),n()}))},handleCloseFeatureCue(e,t={}){const s=Object.assign({sec:d.nJ.FEATURE_CUE,mKey:`cue_${this.props.cueName}_${e}`},t.i13nModel),{userResponse:a}=t,n={name:this.props.cueName,i13nModel:s,userAction:e};a&&(n.userResponse=a),this.props.closeFeatureCue(n)},UNSAFE_componentWillReceiveProps(e){e.close&&this.handleCloseFeatureCue("close",{i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:d.Rb.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,s=n()(this.props,["onShow","onClose"]);return i.createElement(e,{...s,...t,onClose:this.handleCloseFeatureCue.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseFeatureCue.bind(this,"click")})}});return s?(0,l.connect)(null,(e=>({closeFeatureCue:t=>e((0,c.hN)(t)),markFeatureAsShown:t=>e((0,c.tF)(t))})),null,{withRef:!0})(r):r}},3176:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(40199),i=s.n(o),l=s(9333),c=s(76531),d=s(99095),_=s(78603),E=s(9026);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=(0,d.defineMessages)({create_new_folder:{id:"create_new_folder",defaultMessage:"Create new folder"},create_folder_label:{id:"create_folder_label",defaultMessage:"New Folder"},create_folder_input_aria_label:{id:"create_folder_input_aria_label",defaultMessage:"Enter folder name [Press enter to create folder]"}});class S extends r.Component{constructor(...e){super(...e),u(this,"state",{createMode:!1}),u(this,"enableCreateMode",(()=>{this.setState({createMode:!0})})),u(this,"disableCreateMode",(()=>{this.setState({createMode:!1})})),u(this,"createFolder",(({folderName:e,i13nModel:t})=>{t=Object.assign({actionData:{depth:0}},t),this.disableCreateMode(),this.props.onCreate({folderName:e,i13nModel:t})})),u(this,"handleKeyDown",(e=>{"Enter"!==e.key||this.state.createMode||(e.stopPropagation(),this.enableCreateMode())})),u(this,"getIconColorState",(()=>{const{viewsUnderInboxEnabled:e}=this.props;return this.context.getThemeMode()===E.zg.LIGHT?e?c.ColorStates.FIRST_LEVEL_GRAY:c.ColorStates.IMPROVED_GRAY_DARK:c.ColorStates.INHERITED})),u(this,"renderNewFolderButton",(e=>{const{formatMessage:t}=this.context.intl,{viewsUnderInboxEnabled:s}=this.props,{iconKind:a,iconSize:n}=s?{iconKind:c.Kinds.ADDATTACHMENT,iconSize:c.Sizes.XMS}:{iconKind:c.Kinds.ADD,iconSize:c.Sizes.XS},o=this.getIconColorState();return r.createElement("div",{"data-iskeynav":!0,onClick:this.enableCreateMode,className:e.newFolderContainer},r.createElement(l.default,{"data-test-id":"icon-btn-add",kind:a,size:n,colorState:o,"aria-label":t(m.create_new_folder),title:t(m.create_new_folder),paddingLess:!0}),t(m.create_folder_label))}))}render(){const{indentation:e,fullWidth:t,noHoverColor:s,whiteBackground:a,activeAccountId:n,viewsUnderInboxEnabled:o,origin:l}=this.props,c=this.context.getThemeMode(),d=c===E.zg.DARK||c===E.zg.MEDIUM,u=this.context.getCss(i(),{indentation:e,fullWidth:t,noHoverColor:s,useDarkVariations:!a&&d,viewsUnderInboxStyles:o,viewsUnderInboxDarkStyles:o&&d}),{formatMessage:S}=this.context.intl;return r.createElement("div",{className:u.container,onKeyDown:this.handleKeyDown,"data-test-id":"create-folder-container"},this.state.createMode?r.createElement(_.ZP,{onInputSubmit:this.createFolder,onDismiss:this.disableCreateMode,ariaLabel:S(m.create_folder_input_aria_label),indentation:e,activeAccountId:n,whiteBackground:a,origin:l}):this.renderNewFolderButton(u))}}u(S,"contextTypes",{intl:d.intlShape.isRequired,getCss:n().func,getThemeMode:n().func}),u(S,"defaultProps",{fullWidth:!1,noHoverColor:!1,whiteBackground:!1});const p=S},78603:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>k});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(3539),l=s.n(i),c=s(76223),d=s.n(c),_=s(9333),E=s(53373),u=s(76531),m=s(10728),S=s(9026),p=s(95406),C=s(17016),A=s(23224),T=s(11160),I=s(31509),h=s(18030),g=s(65304),O=s(85927),D=s(18685),R=s(42907),N=s(49124),L=s(89506);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function M(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P=27,b=13,y=9,v=(0,p.gP)(["InvalidFolderName","DuplicateFolderName"]),F=(0,o.defineMessages)({folder_dismiss_input:{id:"folder_dismiss_input",defaultMessage:"Dismiss input"},folder_submit_input:{id:"folder_submit_input",defaultMessage:"Submit input"},folder_invalid_chars:{id:"folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"},duplicate_foldername:{id:"duplicate_foldername",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."}});class U extends r.Component{constructor(...e){super(...e),M(this,"state",{folderName:this.props.initialFolderName||"",folderError:null}),M(this,"handleKeyDown",(e=>{e.keyCode===P&&this.props.onDismiss(),e.keyCode!==b&&e.keyCode!==y||this.performFolderOperation(e)})),M(this,"handleChange",(e=>{const t=e.target.value;let s=null;this.props.origin!==L.WA&&t&&!(0,C.isValidFolderName)(t)&&(s=v.InvalidFolderName),this.setState({folderName:t,folderError:s})})),M(this,"handleBlur",(e=>{if(e.relatedTarget&&e.relatedTarget.parentNode!==this.containerNode)return""===this.state.folderName.trim()?this.props.onDismiss():void this.performFolderOperation(e)})),M(this,"performFolderOperation",(e=>{const{initialFolderName:t,isFolderNameExistInParentFolder:s,parentFolderId:a,origin:n,doesNotebookNameExist:r}=this.props,o=this.state.folderName.trim();let i=this.state.folderError;if(n===L.WA?o!==t&&r(o)&&(i=v.DuplicateFolderName,this.setState({folderError:i})):o!==t&&s(o,a)&&(i=v.DuplicateFolderName,this.setState({folderError:i})),o&&null===i){const t={interactionType:(0,C.getInteractionFromEvent)(e)};this.props.onInputSubmit({folderName:o,i13nModel:t})}})),M(this,"focusInput",(e=>{e&&e.focus()})),M(this,"getFolderError",(()=>{const{folderName:e,folderError:t}=this.state;return null===t?null:t===v.InvalidFolderName?r.createElement(o.FormattedMessage,f({},F.folder_invalid_chars,{values:{invalid_chars:R.Nk}})):t===v.DuplicateFolderName?r.createElement(o.FormattedMessage,f({},F.duplicate_foldername,{values:{folder_name:r.createElement("b",null,e)}})):void 0}))}render(){const{formatMessage:e}=this.context.intl,{getThemeMode:t}=this.context,{onDismiss:s,whiteBackground:a}=this.props,n=null===this.state.folderError,o=d()(l(),{invalidFolderName:!n,validFolderName:n,indentation:this.props.indentation}),i=t()===S.zg.LIGHT||a?u.ColorStates.NORMAL:u.ColorStates.INVERTED,c=e(F.folder_submit_input),E=e(F.folder_dismiss_input);return r.createElement("div",{className:o.container,ref:e=>this.containerNode=e},r.createElement(_.default,{onClick:s,kind:u.Kinds.CLOSE_MINI,size:u.Sizes.XS,colorState:i,"aria-label":E,title:E,"data-test-id":"icon-btn-close",className:o.closeButton,paddingLess:!0}),r.createElement(T.Z,{className:o.popoverContainer},r.createElement(I.Z,null,r.createElement("div",{className:o.inputSubmitContainer},r.createElement("div",{className:o.inputContainer},r.createElement(A.Z,{className:o.input,type:"text",ref:this.focusInput,value:this.state.folderName,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,placeholder:this.props.placeholder,"aria-label":this.props.ariaLabel})),r.createElement(_.default,{onClick:this.performFolderOperation,kind:u.Kinds.ENTER,colorState:u.ColorStates.INVERTED,size:u.Sizes.XXS,className:o.okIcon,title:c,"aria-label":c}))),this.state.folderName&&!n?r.createElement(h.ZP,{triggerOn:g.K2.MOUNT,permittedArrowDirections:[g.Ji.UP,g.Ji.DOWN],zAltitude:m.LSY.MODAL},r.createElement("div",{className:o.popover},this.getFolderError())):null))}}M(U,"defaultProps",{indentation:E.Vc,parentFolderId:"",whiteBackground:!1}),M(U,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func});const k=(0,D.connect)((e=>{const{getFoldersSelectors:t,getFolderIdsByNameForSelectAccountId:s,getNotesSelectors:a}=(0,O.selectors)(e),{getFolderName:n,getFolderPath:r}=t(),{getFolders:o}=a();return{isFolderNameExistInParentFolder:(e,t)=>s(e).some((s=>t?r(s)===`${r(t)}/${e}`:n(s)===e)),doesNotebookNameExist:e=>o().some((t=>(0,N.Tz)(t.name)===e))}}))(U)},53373:(e,t,s)=>{"use strict";s.d(t,{$n:()=>l,Fn:()=>i,Vc:()=>n,cE:()=>c,gG:()=>a,p_:()=>o,yr:()=>r});const a="INDENTATION_NORMAL",n="INDENTATION_NONE",r="TOPFOLDER_WITH_ICON",o="TOPFOLDER_WITHOUT_ICON",i="SUBFOLDER_WITH_ICON",l="SUBFOLDER_WITHOUT_ICON",c="PLACE_AT_TOP_LEVEL"},20305:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({UNREAD:{id:"smart_view_unread_tooltip",defaultMessage:"Unread - Click to see unread mails"},smart_view_selected_UNREAD:{id:"smart_view_selected_unread_tooltip",defaultMessage:"Unread, selected - Showing unread mails"},STARRED:{id:"smart_view_starred_tooltip",defaultMessage:"Starred - Click to see starred mails"},smart_view_selected_STARRED:{id:"smart_view_selected_starred_tooltip",defaultMessage:"Starred, selected - Showing starred mails"},DOCUMENTS:{id:"smart_view_document_tooltip",defaultMessage:"Documents - Click to see all documents"},smart_view_selected_DOCUMENTS:{id:"smart_view_selected_document_tooltip",defaultMessage:"Documents, selected - Showing all documents"},PHOTOS:{id:"smart_view_photos_tooltip",defaultMessage:"Photos - Click to see all Photos"},smart_view_selected_PHOTOS:{id:"smart_view_selected_photos_tooltip",defaultMessage:"Photos, selected - Showing all Photos"},TUTORIAL:{id:"smart_view_tutorial_tooltip",defaultMessage:"Tutorials - Click to see all tutorial videos"},COUPONS:{id:"smart_view_coupons_tooltip",defaultMessage:"Deals - Click to see all deals"},COUPON_EMAILS:{id:"smart_view_coupon_emails_tooltip",defaultMessage:"Deals - Click to see all deals"},RECEIPTS:{id:"smart_view_receipts_tooltip",defaultMessage:"Receipts - Click to see all receipts"},WALLET:{id:"smart_view_wallet_tooltip",defaultMessage:"Credits - Click to see credits"},SUBSCRIPTIONS:{id:"smart_view_subscriptions_tooltip",defaultMessage:"Subscriptions - Click to see all subscriptions"},STOREFRONT:{id:"smart_view_storefront_tooltip",defaultMessage:"Shopping - Click to browse all stores"},smart_view_selected_TUTORIAL:{id:"smart_view_selected_tutorial_tooltip",defaultMessage:"Tutorial, selected - Showing the tutorial video"},TRAVEL:{id:"smart_view_travel_tooltip",defaultMessage:"Travel - Click to see your travel details"},ATTACHMENTS:{id:"smart_view_attachments_tooltip",defaultMessage:"Attachments - Click to see your attachments"},smart_view_UNREAD:{id:"smart_view_unread",defaultMessage:"Unread"},smart_view_STARRED:{id:"smart_view_starred",defaultMessage:"Starred"},show_folder_menu:{id:"show_folder_menu",defaultMessage:"Show folder menu"},smart_view_DOCUMENTS:{id:"smart_view_document",defaultMessage:"Documents"},smart_view_PHOTOS:{id:"photos_label",defaultMessage:"Photos"},smart_view_TUTORIAL:{id:"smart_view_tutorial",defaultMessage:"Tutorials"},smart_view_COUPONS:{id:"smart_view_coupons",defaultMessage:"Deals"},smart_view_COUPON_EMAILS:{id:"smart_view_coupon_emails",defaultMessage:"Deals"},smart_view_selected_COUPONS:{id:"smart_view_selected_coupons_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_selected_COUPON_EMAILS:{id:"smart_view_selected_coupon_emails_tooltip",defaultMessage:"Deals, selected - Showing your deals"},smart_view_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"},smart_view_selected_TRAVEL:{id:"smart_view_selected_travel_tooltip",defaultMessage:"Travel, selected - Showing all flights"},smart_view_RECEIPTS:{id:"smart_view_receipts",defaultMessage:"Receipts"},smart_view_selected_RECEIPTS:{id:"smart_view_selected_receipts_tooltip",defaultMessage:"Receipts, selected - Showing your receipts"},smart_view_WALLET:{id:"smart_view_wallet",defaultMessage:"Credits"},smart_view_selected_WALLET:{id:"smart_view_selected_wallet_tooltip",defaultMessage:"Credits, selected - Showing your credits"},smart_view_SUBSCRIPTIONS:{id:"smart_view_subscriptions",defaultMessage:"Subscriptions"},smart_view_selected_SUBSCRIPTIONS:{id:"smart_view_selected_subscriptions_tooltip",defaultMessage:"Subscriptions, selected - Showing your subscriptions"},smart_view_STOREFRONT:{id:"smart_view_storefront",defaultMessage:"Shopping"},smart_view_selected_STOREFRONT:{id:"smart_view_selected_storefront",defaultMessage:"Shopping, selected - Showing your stores"},smart_view_ATTACHMENTS:{id:"smart_view_attachments",defaultMessage:"Attachments"},smart_view_selected_ATTACHMENTS:{id:"smart_view_selected_attachments_tooltip",defaultMessage:"Attachments, selected - Showing your attachments"},smart_view_ALL:{id:"category.all_header",defaultMessage:"All"},smart_view_PEOPLE:{id:"category.primary_header",defaultMessage:"Primary"},smart_view_PEOPLE_HINT:{id:"category.primary_hint",defaultMessage:"Messages from real people, not businesses or promotions"},smart_view_PEOPLE_SHORT_HINT:{id:"category.primary_short_hint",defaultMessage:"Turn on <strong>Primary View</strong> to see messages from people in one place."},smart_view_SHOPPING:{id:"category.promotions_header",defaultMessage:"Promotions"},smart_view_SHOPPING_HINT:{id:"category.promotions_hint",defaultMessage:"Subscriptions, coupons, deals and order confirmations"},smart_view_SHOPPING_SHORT_HINT:{id:"category.promotions_short_hint",defaultMessage:"Subscriptions, coupons, deals and orders"},smart_view_UPDATES:{id:"category.updates_header",defaultMessage:"Updates"},smart_view_UPDATES_HINT:{id:"category.updates_header",defaultMessage:"Updates"},smart_view_UPDATES_SHORT_HINT:{id:"category.updates_header",defaultMessage:"Updates"},smart_view_NEWSLETTERS:{id:"category.newsletters_header",defaultMessage:"Newsletters"},smart_view_NEWSLETTERS_HINT:{id:"category.newsletters_header",defaultMessage:"Newsletters"},smart_view_NEWSLETTERS_SHORT_HINT:{id:"category.newsletters_header",defaultMessage:"Newsletters"},smart_view_SOCIAL:{id:"category.social_header",defaultMessage:"Social"},smart_view_SOCIAL_HINT:{id:"category.social_hint",defaultMessage:"Updates from social networks like Facebook, LinkedIn and others"},smart_view_SOCIAL_SHORT_HINT:{id:"category.social_short_hint",defaultMessage:"Updates from social networks"},smart_view_FINANCE:{id:"category.finance_header",defaultMessage:"Finance"},smart_view_FINANCE_HINT:{id:"category.finance_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_FINANCE_SHORT_HINT:{id:"category.finance_short_hint",defaultMessage:"Banks, credit card and transaction notifications"},smart_view_TRAVEL_HINT:{id:"category.travel_hint",defaultMessage:"Flights, hotel reservations and travel confirmations"},smart_view_TRAVEL_SHORT_HINT:{id:"category.travel_short_hint",defaultMessage:"Messages about flights, hotel reservations"},moveCategoryUp:{id:"move_category_up",defaultMessage:"Move view up"},moveCategoryDown:{id:"move_category_down",defaultMessage:"Move view down"},categorization_header:{id:"categorization_header",defaultMessage:"Inbox views"},categorization_hint:{id:"categorization_hint",defaultMessage:"Automatically group messages by views for easier organization"},categorization_onboarding:{id:"categorization_onboarding",defaultMessage:"Automatically group messages by category for easier organization"},EMAILS_TO_MYSELF:{id:"emails_to_myself",defaultMessage:"Emails to myself - click to see all mails sent to myself"},smart_view_EMAILS_TO_MYSELF:{id:"smart_view_emails_to_myself",defaultMessage:"Emails to myself"},smart_view_selected_EMAILS_TO_MYSELF:{id:"smart_view_selected_emails_to_myself",defaultMessage:"Emails to myself - see all mails sent to myself"},emails_to_myself_upsell_label:{id:"sidebar_new_notification",defaultMessage:"NEW"},NEWMAIL:{id:"smart_view_newmail_tooltip",defaultMessage:"{count, plural, =-1 {} =0 {New Mail - No emails} =1 {New Mail - # email} other {New Mail - # emails}}"},smart_view_NEWMAIL:{id:"smart_view_newmail",defaultMessage:"New Mail"},smart_view_selected_NEWMAIL:{id:"smart_view_selected_newmail",defaultMessage:"{count, plural, =-1 {} =0 {New Mail, selected - No emails} =1 {New Mail, selected - # email} other {New Mail, selected - # emails}}"},OLDMAIL:{id:"smart_view_oldmail_tooltip",defaultMessage:"{count, plural, =-1 {} =0 {Old Mail - No emails} =1 {Old Mail - # email} other {Old Mail - # emails}}"},smart_view_OLDMAIL:{id:"smart_view_oldmail",defaultMessage:"Old Mail"},smart_view_selected_OLDMAIL:{id:"smart_view_selected_oldmail",defaultMessage:"{count, plural, =-1 {} =0 {Old Mail, selected - No emails} =1 {Old Mail, selected - # email} other {Old Mail, selected - # emails}}"},CONTACTS_FULL_PANE:{id:"smart_view_contacts_full_pane_tooltip",defaultMessage:"Contacts - Select to view and edit your contacts"},smart_view_CONTACTS_FULL_PANE:{id:"smart_view_contacts_full_pane",defaultMessage:"Contacts"},smart_view_selected_CONTACTS_FULL_PANE:{id:"smart_view_selected_contacts_full_pane",defaultMessage:"Contacts, selected - Showing your contacts"}})},40199:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C A_6EqO H_6NIX c1AVi7a_6UbO c1AVi73_6FsP N_fq7 C_Z281SGl I4_2tvNsT",newFolderContainer:"D_F ab_C r_P cdPFi_Z281SGl it3_dRA I4_T"},"indentation-INDENTATION_NORMAL":{newFolderContainer:"P_ZmsKgw"},fullWidth:{newFolderContainer:"W_6D6F"},noHoverColor:{container:"I4_T"},viewsUnderInboxStyles:{newFolderContainer:"X_6DEy crqN_6EWk"},viewsUnderInboxDarkStyles:{newFolderContainer:"cdPFi_ak5m8 X_6DEy crqN_6EWk"},useDarkVariations:{container:"C_ZkbNhI",newFolderContainer:"cdPFi_ak5m8 is_26ISAR cZdTOHS_ZXgLQ3"}},_key:"2h3uzx"}},3539:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C",closeButton:"en_0",inputContainer:"D_F b_0 em_N",inputSubmitContainer:"D_F em_N ab_C b_2w4lU5",input:"W_6D6F k_w H_6LEV c1AVi7a_6MGW y_jyw3a X_eo6 b_0 I_ZOHqTQ",okIcon:"I_ZroviD en_0 W_6LEV H_6LEV c1AVi7a_6MGW c1AVi7p_6MGW",popoverContainer:"D_F",popover:"P_eTB C_ZnTFMv W_3nh43 k_w A_6Eb4 c1AVi73_6Fd5"},invalidFolderName:{inputSubmitContainer:"b_ZXX6Fk"},validFolderName:{okIcon:"I_Z29WjXl"},"indentation-INDENTATION_NORMAL":{container:"P_ZmsKgw"}},_key:"Z1YMbF2"}},58073:e=>{"use strict";e.exports={className:{default:{container:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT",activeContainer:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_Z1YKD9t I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT I_1kC8gG",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_Z1YKD9t I_1kC8gG",labelContainer:"D_F W_6D6F ab_C i_6FIA A_6EqO c1AVi7H_6LEV c1AVi73_6FsP p_R G_e J_x o_h",activeLabelContainer:"D_F W_6D6F ab_C i_6FIA A_6EqO c1AVi7H_6LEV c1AVi73_6FsP p_R",label:"G_e J_x o_h H_6FIA c1AVi7a_6LEV",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F cdPFi_Z1YRXYn",folderMenu:"c27KHO0_n I_T b_0 X_fq7 v_h D_F em_N gl_CH je_e8l",folderMenuIcon:"cdPFi_Zjpyu2 r_P cdPFi4_Z281SGl",loader:"E_6Eb4",unreadWrapper:"",unreadFadeIn:"ah_ZPQR1p",unreadFadeOut:"ah_Z1DNnWG",navContainer:"W_6D6F C_Z281SGl D_F",activeNavContainer:"W_6D6F C_Z281SGl D_F u_b",trashIconWrapper:"P_3PUiW D_F em_N gl_CH cdPFi_Zjpyu2 r_P cdPFi4_ZmDiLl",folderViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N"},isActive:{labelContainer:"Q_689y",unreadWrapper:"T_eDQ"},"indentation-TOPFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-TOPFOLDER_WITHOUT_ICON":{container:"X_6LEV",activeContainer:"X_6LEV",dragoverContainer:"X_6LEV",activeDragoverContainer:"X_6LEV"},"indentation-SUBFOLDER_WITH_ICON":{container:"X_0",activeContainer:"X_0",dragoverContainer:"X_0",activeDragoverContainer:"X_0"},"indentation-SUBFOLDER_WITHOUT_ICON":{container:"X_6EGz",activeContainer:"X_6EGz",dragoverContainer:"X_6EGz",activeDragoverContainer:"X_6EGz"},indentationViewsUnderInbox:{container:"X_6Eb4",activeContainer:"X_6Eb4",dragoverContainer:"X_6Eb4",activeDragoverContainer:"X_6Eb4",folderMenuIcon:"X_6Fd5"},showFolderMenu:{folderMenu:"v_v"},"themeMode-MEDIUM":{container:"C_ak5m8 is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",navContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",activeNavContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",dragoverContainer:"C_ak5m8",activeDragoverContainer:"C_ZkbNhI",chevron:"cdPFi_ak5m8",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},"themeMode-DARK":{container:"C_ak5m8 is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",navContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",activeNavContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",dragoverContainer:"C_ak5m8",activeDragoverContainer:"C_ZkbNhI",chevron:"cdPFi_ak5m8",folderMenuIcon:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",trashIconWrapper:"cdPFi_ZpQYvz cdPFi4_Zkij7I"},viewsUnderInboxEnabled:{container:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_ZnMIOa e4_dRA crqN_fq7",activeContainer:"W_6D6F C_Z281SGl D_F n_n u_b crqN_fq7 e_dRA I_1kC8gG",dragoverContainer:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_n e_dRA",activeDragoverContainer:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C I4_2tvNsT n_n e_dRA I_1kC8gG",navContainer:"W_6D6F C_Z281SGl D_F H_6NIX crqN_fq7 X_dm5 ab_C gl_C I4_ZnMIOa e4_dRA",activeNavContainer:"W_6D6F C_Z281SGl D_F crqN_6DEy H_6NIX u_b gl_C ab_C",label:"G_e J_x o_h H_6FIA c1AVi7a_6LEV u_DO C_Z281SGl A_6EqO",labelContainer:"crqN_6DEy",trashIconWrapper:"cdPFi_Z1VRqsb",folderMenuIcon:"N_fq7"},viewsUnderInboxDark:{container:"D_F p_R k_w r_P H_6NIX c1AVi7a_6UbO W_6D6F X_6DEy N_fq7 ab_C e4_dRA I4_2tvNsT C_ZkbNhI",activeContainer:"W_6D6F C_Z281SGl D_F n_n u_b crqN_fq7 e_dRA I_1kC8gG",navContainer:"W_6D6F C_ZkbNhI D_F e4_dRA I4_n",activeNavContainer:"W_6D6F C_ZkbNhI D_F crqN_6DEy H_6NIX u_b gl_C ab_C",label:"G_e J_x o_h H_6FIA c1AVi7a_6LEV u_DO C_ZkbNhI A_6EqO",chevron:"I_T b_0 P_0 E_eo6 D_F cdPFi_ZkbNhI",labelContainer:"crqN_6DEy",trashIconWrapper:"cdPFi_ak5l7",folderMenuIcon:"N_fq7"}},_key:"1U9wzh"}},20529:e=>{"use strict";e.exports={className:{default:{scrollOuter:"p_R k_w W_6D6F U_3mS2U",listSpacer:"H_6Fd5"},showMailproFreeTrialUpsell:{scrollOuter:"U_3n1yN"}},_key:"1NY9BG"}},42981:e=>{"use strict";e.exports={className:{default:{container:"P_3Y3Gk",separator:"m_Z14vXdP M_3HLUz"}},_key:"220Q4E"}},68537:e=>{"use strict";e.exports={className:{default:{folderTree:"hd_n P_0 M_0",folderContainer:"H_6NIX A_6EqO c1AVi7a_6UbO c1AVi73_6FsP D_F ab_C r_P X_6DEy it3_689y I4_2tvNsT",toggleFolderTreeHeading:"em_N G_e J_x o_h H_6FIA c1AVi7a_6LEV",toggleFolderTree:"N_fq7 A_6EqO c1AVi73_6FsP C_Z1YRXYn C4_Z1VRqsb J_x",toggle:"D_F ab_C",collapseFolders:"H_6MWH X_eDQ A_6EqO c1AVi7a_6UbO c1AVi73_6FsP C_Z1YRXYn cdPFi_Z1YRXYn r_P D_F ab_C C4_Z1VRqsb it3_dBP"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{folderContainer:"is_26ISAR cZdTOHS_ZXgLQ3",toggleFolderTree:"C_ZkbNhI cdPFi_ZkbNhI C4_ak5m8",collapseFolders:"C_ZkbNhI cdPFi_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3 C4_ak5m8"},"themeMode-DARK":{folderContainer:"is_26ISAR cZdTOHS_ZXgLQ3",toggleFolderTree:"C_ZkbNhI cdPFi_ZkbNhI C4_ak5m8",collapseFolders:"C_ZkbNhI cdPFi_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3 C4_ak5m8"},viewsUnderInboxEnabled:{toggleFolderTreeHeading:"em_N G_e J_x o_h H_6FIA c1AVi7a_6LEV C_Z1WBuqm",toggle:"D_F ab_C cdPFi_Z1VRqsb N_e8l",lineviews:"D_F gl_FT ab_C P_nymj2",lineviewsImage:"a_6D6F H_dBP em_N"},viewsUnderInboxDark:{viewsUnderLine:"bn_dBP bm_FJ bj_a0xJ8 P_ZlKroq U_fq7",toggleFolderTreeHeading:"C_ZkbNhI",toggle:"D_F ab_C N_e8l cdPFi_ak5l7",lineviews:"D_n"}},_key:"2vbWlz"}},38569:e=>{"use strict";e.exports={className:{default:{menuContainer:"p_a K_q o_h a_3wdvH Z_3mRud q_ZkbNhI e_dRA j_ZUs0f0",itemLabel:"em_N P_0 o_h G_e",folderContainer:"K_3rehn iz_A iy_h P_cFf",searchContainer:"hd_n P_cFf M_0 m_Z14vXdP",emptyMessageContainer:"hd_n P_cFf M_0 m_0",fullLabel:"D_F W_6D6F",noResultContainer:"D_F ab_C C_Z1WBuqm i_6VdP k_w",searchInputContainer:"D_F ab_C k_w X_6EGz N_eo6 W_3wdvH A_6EqO c1AVi73_6FsP",searchInput:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO c1AVi73_6FsP C_Z281SGl ir3_0",highlightedListItem:"I_Z1gjd50 O_N I4_Z1gjd50",listItem:"I_ZkbNhI",placeAtTopLevel:"m_Z14vXdP",selectPlaceholder:"F_N o_h J_x D_X G_e C_Z1TsNbA",selectLabel:"D_F gl_FL C_Z281SGl m_2w4lU5 H_6VdP i_6VdP X_fq7",selectedValue:"em_N o_h J_x D_X G_e C_Z281SGl",inputWrapper:"em_N D_F o_h gl_FL H_6VdP i_6VdP",selectInput:"O_0 W_dBP H_dBP b_n ir_n p_a D_X",arrowDown:"r_P D_F gl_C ab_C"}},_key:"2vVEq"}},49999:e=>{"use strict";e.exports={className:{default:{container:"ci33_ak5iz D33_B cl33_FJ cm33_dBP Y33_U U33_U dq33_hP"},"themeMode-LIGHT":{container:"ci33_ZS20W8 D33_B cl33_FJ cm33_dBP Y33_U U33_U dq33_hP"}},_key:"Z2kF05d"}},67350:e=>{"use strict";e.exports={className:{default:{container:"D_F k_w W_6D6F H_6NIX A_6EqO c1AVi7a_6UbO c1AVi73_6FsP X_6DEy N_fq7 ab_C C_Z281SGl I4_2tvNsT",labelContainer:"D_F W_6D6F ab_C i_6FIA c1AVi7H_6LEV",activeContainer:"D_F k_w W_6D6F H_6NIX A_6EqO c1AVi7a_6UbO c1AVi73_6FsP X_6DEy N_fq7 ab_C C_Z281SGl I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG",label:"G_e J_x o_h E_6LEV H_6FIA c1AVi7a_6LEV",smartViewIcon:"c27KHO0_n I_T N_fq7 b_0 D_F em_N gl_CH",badgeContainer:"a_6NIX h_1UBaXG",rtlRawScaleX:"rtlR_h_2gl0WC rtlR_N_fq7 rtlR_X_2vNgMj",starAnimation:"N_fq7 ab_C Q_A i_6FIA c1AVi7H_6LEV W_72FG H_6LEV D_F k_w",sparkleGuidedStarAnimation:"p_a H_6VdP Q_69H5"},"animation-slideUp":{starAnimation:"v_h ah_Z2d532X ai_qM"},isActive:{smartViewIcon:"Q_68F4"},isActiveAndNoIcon:{labelContainer:"Q_689y"},hasIcon:{container:"X_fq7"},showEmailsToMyselfUpsell:{label:"E_0",cueLabelContainer:"Q_eTB P_wppXF I_Z29WjXl e_dRA",cueLabel:"A_6DUj u_e69 i_6EGz C_ZkbNhI"},"themeMode-MEDIUM":{container:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{container:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3",activeContainer:"C_ZkbNhI is_26ISAR cZdTOHS_ZXgLQ3"},isActiveDefaultViews:{container:"D_F k_w W_6D6F H_6NIX A_6EqO c1AVi7a_6UbO c1AVi73_6FsP X_6DEy N_fq7 ab_C C_Z281SGl I4_2tvNsT u_b n_Z1YKD9t I_1kC8gG"},viewsUnderInbox:{container:"crqN_fq7 I4_ZnMIOa e4_dRA",label:"C_Z281SGl A_6EqO"},isActiveviewsUnderInbox:{container:"D_F k_w W_6D6F H_6NIX A_6EqO c1AVi7a_6UbO c1AVi73_6FsP X_6Eb4 N_fq7 ab_C C_Z281SGl I4_2tvNsT u_b crqN_fq7 e_dRA n_n I_1kC8gG"},viewsUnderInboxDark:{container:"crqN_fq7 I4_2tvNsT e4_dRA",label:"C_ZkbNhI A_6EqO"}},_key:"Z1CkAwk"}},63234:e=>{"use strict";e.exports={className:{default:{smartviewList:"hd_n P_0 M_0",smartviewContainer:"H_6NIX A_6EqO c1AVi73_6FsP D_F ab_C X_6DEy r_P ir3_1JO2M7 it3_dRA I4_2tvNsT",toggleSmartViews:"N_fq7 A_6EqO c1AVi73_6FsP C_Z1YRXYn C4_Z1VRqsb",labelContainer:"D_F W_6D6F ab_C i_6FIA c1AVi7H_6LEV",label:"em_N G_e J_x o_h E_fq7 H_6FIA A_6EqO c1AVi7a_6LEV c1AVi73_6FsP",chevron:"c27KHO0_n I_T b_0 P_0 E_0 D_F",toggle:"D_F ab_C W_6D6F N_fq7 crqN_6FIA H_6NIX"},viewsUnderInbox:{smartviewContainer:"I4_ZnMIOa e4_dRA",moreLesslabel:"C_Z281SGl"},viewsUnderInboxDark:{smartviewContainer:"e4_dRA I4_2tvNsT",moreLesslabel:"C_ZkbNhI",toggleSmartViews:"C_ZkbNhI C4_ak5m8"},"indentation-INDENTATION_NONE":{folderTree:"P_0"},"themeMode-MEDIUM":{smartviewContainer:"C_ZkbNhI ir3_Z1FS2Mn",toggleSmartViews:"C_ZkbNhI C4_ak5m8"},"themeMode-DARK":{smartviewContainer:"C_ZkbNhI ir3_Z1FS2Mn",toggleSmartViews:"C_ZkbNhI C4_ak5m8"}},_key:"Z1GsoBt"}},51487:(e,t,s)=>{"use strict";s.d(t,{Ar:()=>n,C7:()=>o,Ej:()=>u,IK:()=>r,LW:()=>R,Ly:()=>a,Oc:()=>h,QT:()=>C,S_:()=>m,TJ:()=>A,WZ:()=>g,_H:()=>c,dt:()=>i,kh:()=>_,oi:()=>O,q1:()=>D,sU:()=>I,u3:()=>d,vE:()=>p,x9:()=>l,xG:()=>T,xP:()=>E,zw:()=>S});const a=["geolocation 'none'","fullscreen 'none'","autoplay 'none'","camera 'none'","display-capture 'none'","document-domain 'none'","microphone 'none'","gyroscope 'none'","magnetometer 'none'","midi 'none'","payment 'none'","serial 'none'","speaker-selection 'none'"],n=["allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts"];let r,o,i,l,c,d;!function(e){e.APP="APP",e.IFRAME="IFRAME"}(r||(r={})),function(e){e.REQ="REQ",e.RES="RES"}(o||(o={})),function(e){e.REFRESH="refresh",e.LOADED="loaded",e.INIT_ERROR="initError",e.NUKE="nuke"}(i||(i={})),function(e){e.MAIL="mail",e.BASIC_MAIL="basicMail",e.LOGIN="login",e.AOL_LOGIN="aolLogin",e.AOL_MAIL="aolMail"}(l||(l={})),function(e){e.CLIENT="client",e.VERSION="version",e.LIMITED="limited",e.HEADER_BIDDER="headerBidder",e.YMREQID="ymreqid",e.HAQ="haq",e.CACHE="cache"}(c||(c={})),function(e){e.CONFIG="config"}(d||(d={}));const _="gpt-passback";let E;!function(e){e.SLOT_RENDER_ENDED="slotRenderEnded",e.SLOT_REQUESTED="slotRequested",e.SLOT_RESPONSE_RECEIVED="slotResponseReceived",e.SLOT_VISIBILITY_CHANGED="slotVisibilityChanged",e.IMPRESSION_VIEWABLE="impressionViewable"}(E||(E={}));const u={RIGHT_RAIL:"top_right",EMPTY_FOLDER:"empty_folder",SEND_CONFIRMATION:"send_confirm"};let m;!function(e){e.LREC="LREC",e.MON="MON",e.SKY="SKY",e.FULL_PANE="FULL_PANE",e.FULL_SCREEN="FULL_SCREEN",e.FLUID="FLUID"}(m||(m={}));const S={[m.LREC]:[300,250],[m.MON]:[300,600],[m.SKY]:[160,600],[m.FULL_PANE]:[1200,800],[m.FULL_SCREEN]:[1440,1024],[m.FLUID]:["fluid"]},p="gam",C="axids",A="gam_id",T=150,I="abp",h="other",g=15e3,O=5,D=0,R=0;l.MAIL,l.BASIC_MAIL,l.AOL_MAIL,l.LOGIN,l.AOL_LOGIN},87972:e=>{"use strict";e.exports={className:{default:{mainAd:"k_w W_3vpWV a_3vpWV iz_A iy_h P_6Fd5",iframe:"W_3v1qi H_3He0m b_n I_T",adText:"A_6EqO c1AVi73_6FsP C_Z1VRqsb"},isRRCompactSize:{mainAd:"W_3o4BO a_3o4BO",iframe:"W_3nF5b H_3He0m"},fullPaneAd:{mainAd:"W_6D6F a_6D6F P_0",iframe:"W_1HKkit H_3PmnJ"}},_key:"Z1yKobP"}},33364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DELAY_FOR_CONTACT_CARD:()=>S,default:()=>A});s(45697);var a=s(67294),n=s(50621),r=s(65304),o=s(17016),i=s(72328),l=s.n(i),c=s(76223),d=s.n(c),_=s(44763),E=s(10728),u=s(69511);function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const S=300,p=d()(l());class C extends a.Component{constructor(...e){super(...e),m(this,"popoverDidAppear",(()=>{this._popover&&this.props.popoverDidAppear(this._popover)})),m(this,"setPopoverRef",(e=>{this._popover=e})),m(this,"rerenderIfPopoverNotEnabled",(()=>{this.tooSoonToRender&&this.forceUpdate()})),m(this,"tooSoonToRenderPopover",(()=>{const{createdTime:e}=this.props;return this.tooSoonToRender=e&&Date.now()-e<1e3,this.tooSoonToRender}))}render(){const{email:e,isCompose:t,isDisabled:s,name:i,popoverZIndex:l,isRelatedSearchContactCard:c,contactImage:d,hasBimiFeature:E,bimiHelpUrl:m,bimiName:C}=this.props,A="ltr"===(0,u.getTextDirection)(i+" "+e)?p.rtlIgnoreDirLTR:p.rtlIgnoreDirRTL,T=s=>a.createElement(_.ZP,{key:e,email:e,isCompose:t,withBackground:!1,name:i,onUpdateFinished:s,isRelatedSearchContactCard:c,hasBimiFeature:E,contactImage:d,bimiHelpUrl:m,bimiName:C});return this.tooSoonToRenderPopover()||t&&!(0,o.isValidEmail)(e)?a.createElement("span",{className:p.anchor,onMouseEnter:this.rerenderIfPopoverNotEnabled,onMouseLeave:this.rerenderIfPopoverNotEnabled,"data-test-id":"email-pill-without-popover"},this.props.children):a.createElement(n.ZP,{arrowSize:r.Jk.M,permittedArrowDirections:[r.Ji.ANY],triggerOn:n.XU.HOVER_DELAYED,triggerDelayTime:S,triggerOff:n.Es.HOVER_OUT|n.Es.DRAG_START|n.Es.CLICK,disabled:s,zAltitude:l,onShown:this.popoverDidAppear,ref:this.setPopoverRef},a.createElement("span",{"data-test-id":"email-pill",className:p.anchor+" "+A},this.props.children),T)}}m(C,"defaultProps",{isDisabled:!1,popoverZIndex:E.LSY.POPOVER.HIGH,popoverDidAppear:()=>{},hasBimiFeature:!1,contactImage:"",bimiHelpUrl:"",bimiName:""});const A=C},72328:e=>{"use strict";e.exports={className:{default:{anchor:"D_F",rtlIgnoreDirRTL:"rtlI_dz_uqG",rtlIgnoreDirLTR:"rtlI_dz_sSg"}},_key:"uHY9u"}},72489:e=>{"use strict";e.exports={className:{default:{tabWrapper:"D_F ac_FT ab_C F_N e_DXm5P I_ZnMIOa k_w I4_Z1vTeI4",activeTabWrapper:"D_F ac_FT ab_C F_N e_DXm5P I_ZkbNhI k_w u_eBE",tab:"b_n I_T u_q H_6D6F W_6D6F D_F ab_C k_w it_689y P_Z1E2XDm a_3qWeB r_P o_h G_e J_x"},"themeMode-DARK":{tabWrapper:"I_Z221Kk7 I4_Z221K4R",activeTabWrapper:"I_ZS20V7",tab:"C_ZkbNhI"},photoTheme_NIGHT_LANDSCAPE_DARK:{tabWrapper:"I_cOYCy I4_cOYDz",activeTabWrapper:"I_cOYF6"},photoTheme_ROADTRIP_DARK:{tabWrapper:"I_1iaDqt I4_1iaDru",activeTabWrapper:"I_1iaDt1"},photoTheme_SUNSET_AUSSIE_DARK:{tabWrapper:"I_2woiYa I4_2woj0b",activeTabWrapper:"I_2woj1H"},photoTheme_LIGHTHOUSE_DARK:{tabWrapper:"I_t5YKp I4_t5YLq",activeTabWrapper:"I_t5YMW"},photoTheme_SPRING_DARK:{tabWrapper:"I_ZgFtv1 I4_ZgFtu0",activeTabWrapper:"I_ZgFtst"},photoTheme_WINTER_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},photoTheme_SUMMER_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},photoTheme_GALAXY_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},photoTheme_FALL_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},photoTheme_WESTERN_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},photoTheme_SUNSET_DARK:{tabWrapper:"I_ZGiXPF I4_ZGiXOE",activeTabWrapper:"I_ZGiXN8"},highContrastThemeDark:{tabWrapper:"I_a0xIC I4_ak5iz"}},_key:"21hmdt"}},39374:e=>{"use strict";e.exports={className:{default:{nav:"D_F",container:"W_6D6F M_0 P_0 D_F ab_C H_72FG ha_n crqN_dRA I_ZpQYvz"},"themeMode-DARK":{container:"I_T"}},_key:"2dSWlR"}},2502:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>g,j2:()=>h});var a=s(67294),n=s(18685),r=s(76223),o=s.n(r),i=s(99095),l=s(85927),c=s(94230),d=s.n(c),_=s(7426),E=s(79483),u=s(92559),m=s(64059),S=s(56148),p=s(76531),C=s(37422),A=s(68085),T=s(8757),I=s(17016);const h=(0,i.defineMessages)({message:{id:"inline_prompt_ad_target_cue.message",defaultMessage:"Enable ad and content personalization"},primaryBtnText:{id:"inline_prompt_ad_target_cue.primaryBtn",defaultMessage:"Turn on"},learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"},close:{id:"close",defaultMessage:"Close"},done:{id:"restore_button.done",defaultMessage:"Done"},header:{id:"privacy_redirect_dialog.header",defaultMessage:"Sending you to the Privacy Dashboard"},redirectMessage:{id:"privacy_redirect_dialog.redirectLink",defaultMessage:"If you are not redirected, click {redirectLink}."},here:{id:"privacy_redirect_dialog.here",defaultMessage:"here"}}),g=(0,A._)((0,n.connect)((e=>{const{getSetting:t}=(0,l.selectors)(e);return{themeMode:t(C.Zrf.THEME_MODE),helpUrl:t(C.Zrf.INLINE_PROMPT_HELP_URL),privacyDashBoardUrl:t(C.Zrf.INLINE_PROMPT_DASHBOARD_URL)}}))((e=>{const{cueName:t,themeMode:s,onClose:n,helpUrl:r,privacyDashBoardUrl:i}=e,{formatMessage:l}=(0,_.Y)(),[c,A]=(0,a.useState)(!1),g=-1!==[C.zgU.MEDIUM,C.zgU.DARK].indexOf(s),O=o()(d(),{isDark:g}),D=(0,a.useCallback)((e=>{(0,m.x)(i),E.ZP.sendI13nModel({i13nModel:{sec:t,mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_TURN_ON,interactionType:(0,I.getInteractionFromEvent)(e)}}),A(!0)}),[t,i]),R=(0,a.useCallback)((e=>{(0,m.x)(r),E.ZP.sendI13nModel({i13nModel:{mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_LEARN_MORE,sec:t,interactionType:(0,I.getInteractionFromEvent)(e)}})}),[r,t]),N=(0,a.useCallback)((e=>{n({i13nModel:{sec:t,mKey:u.JE.INLINE_PROMPT_AD_TARGET_CUE_CLOSE,interactionType:(0,I.getInteractionFromEvent)(e)}})}),[n,t]),L=(0,a.useCallback)((e=>{A(!1),n({i13nModel:{sec:u.nJ.INLINE_PROMPT_REDIRECT_DIALOG,mKey:u.JE.INLINE_PROMPT_DONE_BUTTON_CLICK,interactionType:(0,I.getInteractionFromEvent)(e)}}),location.reload()}),[n]);return c?a.createElement(T.Z,{handleDoneButton:L,privacyDashBoardUrl:i}):a.createElement("div",{"data-test-id":t,className:O.container},a.createElement("div",{className:O.close},a.createElement(S.Z,{"data-test-id":"close-cue-button",onClick:N,kind:p.Kinds.CLOSE,colorStates:{normal:p.ColorStates.SECOND_LEVEL_GRAY,hovered:g?p.ColorStates.DARK:p.ColorStates.WHITE},size:p.Sizes.XXS,title:l(h.close),"aria-label":l(h.close),paddingLess:!0,tabIndex:0})),a.createElement("div",{className:O.message},l(h.message)),a.createElement("button",{"data-test-id":"turn-on-cue-btn",onClick:D,className:O.primaryButton},l(h.primaryBtnText)),a.createElement("button",{"data-test-id":"learn-more-cue-button",onClick:R,className:O.button},l(h.learnMore)))})))},8757:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var a=s(67294),n=s(76223),r=s.n(n),o=s(99095),i=s(12405),l=s.n(i),c=s(7426),d=s(89963),_=s(67498),E=s(28182),u=s(43007),m=s(76531),S=s(2502),p=s(79483),C=s(92559),A=s(17016);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const I=e=>{const{handleDoneButton:t,privacyDashBoardUrl:s,isSingleColumnLayoutMobile:n=!1}=e,{formatMessage:i}=(0,c.Y)(),I=r()(l(),{isSingleColumnLayoutMobile:n}),h=(0,a.useCallback)((e=>{p.ZP.sendI13nModel({i13nModel:{mKey:C.JE.INLINE_PROMPT_REDIRECT_LINK_CLICK,sec:C.nJ.INLINE_PROMPT_REDIRECT_DIALOG,interactionType:(0,A.getInteractionFromEvent)(e)}})}),[]);return a.createElement(d.Z,{onClose:t},a.createElement("div",{className:I.modalContainer,"data-test-id":"privacy-redirect-dialog-modal"},a.createElement("div",{className:I.iconBorder,"aria-hidden":!0},a.createElement(u.Z,{kind:m.Kinds.LOCK,size:m.Sizes.M,colorState:m.ColorStates.SELECTED})),a.createElement("header",{className:I.header},i(S.j2.header)),a.createElement("div",{className:I.message},a.createElement(o.FormattedMessage,T({},S.j2.redirectMessage,{values:{redirectLink:a.createElement("a",{"data-test-id":"privacy-redirect-dialog-redirect-link",className:I.link,href:s,target:"_blank",rel:"noopener noreferrer",onClick:h},i(S.j2.here))}}))),a.createElement(_.Z,{"data-test-id":"privacy-redirect-dialog-done-btn",onClick:t,title:i(S.j2.done),kind:E.F.PRIMARY,"aria-label":i(S.j2.done),tabIndex:0,overridingClass:I.button},i(S.j2.done))))}},94230:e=>{"use strict";e.exports={className:{default:{container:"I_Z1YRXYn d_3n2AO C_ZkbNhI D_F ek_BB ab_C k_w P_2tGDG3 e_dRA",close:"ac_CH",message:"t_C u_e69 A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV U_6Eb4",button:"H_6MGW W_CD s_7HtP P_fQoXz A_6DUj c1AVi73_6EWk u_b C_ZkbNhI r_P cn_0 e_dRA M_Z26RiTK I_T C4_ZtwOFC",primaryButton:"H_6MGW W_CD s_7HtP P_fQoXz A_6DUj c1AVi73_6EWk u_b C_ZkbNhI r_P cn_0 e_dRA I_ak5j5 C4_ZkbNhI I4_a0yf8"},isDark:{container:"I_ZkbNhI C_Z281SGl",button:"C_Z29WjXl C4_Z2dyg2z",primaryButton:"C_Z29WjXl I_Z1gjd5v C4_Z29WjXl I4_Z1gjcOK"}},_key:"1Ytyg"}},12405:e=>{"use strict";e.exports={className:{default:{modalContainer:"W_3A1b8 d_3s0hC e_dRA k_w I_ZkbNhI D_F el_QDCVj ab_C t_C P_1EueWv",iconBorder:"e_e5X b_opneY W_7yHc H_7yHc Y_72FG D_F ab_C gl_C",header:"A_6FsP u_e69 i_6MGW M_Z69yVg",message:"A_6EqO",link:"C_Z29WjXl r_P"},isSingleColumnLayoutMobile:{modalContainer:"W_3v3uk",button:"W_3rvk9"}},_key:"ZjbcHi"}},51418:e=>{"use strict";e.exports={className:{default:{loadMoreContainer:"H_sL D_F ab_C gl_C",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C",loadingContainer:"T_dRK W_6D6F p_R",errorContainer:"je_74JI W_6D6F t_C A_6FsP",listLoadingRetry:"S_U r_P",container:"W_6D6F H_6D6F"},"themeMode-DARK":{emptyListText:"C_ZkbNhI",errorContainer:"C_ZkbNhI",listLoadingRetry:"C_ZkbNhI"}},_key:"Z11gH2U"}},81660:(e,t,s)=>{"use strict";s.d(t,{Wo:()=>_,GQ:()=>u,Kq:()=>m,$E:()=>T,UU:()=>C,IX:()=>S});var a=s(67294),n=(s(37422),s(95406));(0,n.gP)(["TIMECHUNK"]);const r=(0,n.gP)(["LEFT","CENTER","RIGHT","NONE"]);var o=s(55636),i=s(7187),l=s.n(i);const c=/^\^_+|\^_+$/g,d=(()=>{try{return new RegExp("(?<=pattern)","g"),!0}catch(e){return!1}})();function _(e,t){let s=-1;if(t&&e){const t=e.indexOf("^_");if(-1!==t){s=t/e.length}}return s>.66?r.RIGHT:s>.33?r.CENTER:s>=0?r.LEFT:r.NONE}function E(e){return e.split(/(\^_[^^]*?\^_)/g)}function u(e=null,t,s){return e&&t?function(e,t){return E(e).map((function(e){return 0===e.indexOf("^_")?a.createElement("span",{key:e,className:t,"data-test-id":"highlight"},e.replace(c,"")):e}))}(e,s):e}function m(e,t,s){if(e&&t&&s){return u(p(t,e,!1,"^_"),!0,s)}return e}function S(e=null){if(e){return E(e).map((function(e){return 0===e.indexOf("^_")?e.replace(c,""):e})).join("")}return e}function p(e,t,s,a){const n=(e=e.trim()).length;let r=t;if(0===n)return t;s||(r=r.toLowerCase(),e=e.toLowerCase());const o=r.indexOf(e,0);return o>-1&&(t=t.slice(0,o)+a+t.slice(o,o+n)+a+t.slice(o+n)),t}function C(e,t,s,a){if(!e)return s;return u(p(t,s,!1,"^_"),!0,a)}const A=(e,t,s)=>{if(!t)return e;const a=l()(t).replace(/(?:(?![0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10107}-\u{10133}\u{10140}-\u{10178}\u{1018A}\u{1018B}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{103A0}-\u{103C3}\u{103C8}-\u{103CF}\u{103D1}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10858}-\u{10876}\u{10879}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A60}-\u{10A7E}\u{10A80}-\u{10A9F}\u{10AC0}-\u{10AC7}\u{10AC9}-\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EB0}\u{10EB1}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F54}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11003}-\u{11037}\u{11052}-\u{1106F}\u{11083}-\u{110AF}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{11136}-\u{1113F}\u{11144}\u{11147}\u{11150}-\u{11172}\u{11176}\u{11183}-\u{111B2}\u{111C1}-\u{111C4}\u{111D0}-\u{111DA}\u{111DC}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122B}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A8}\u{112B0}-\u{112DE}\u{112F0}-\u{112F9}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}\u{11350}\u{1135D}-\u{11361}\u{11400}-\u{11434}\u{11447}-\u{1144A}\u{11450}-\u{11459}\u{1145F}-\u{11461}\u{11480}-\u{114AF}\u{114C4}\u{114C5}\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115AE}\u{115D8}-\u{115DB}\u{11600}-\u{1162F}\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116B8}\u{116C0}-\u{116C9}\u{11700}-\u{1171A}\u{11730}-\u{1173B}\u{11800}-\u{1182B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{1192F}\u{1193F}\u{11941}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D0}\u{119E1}\u{119E3}\u{11A00}\u{11A0B}-\u{11A32}\u{11A3A}\u{11A50}\u{11A5C}-\u{11A89}\u{11A9D}\u{11AC0}-\u{11AF8}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2E}\u{11C40}\u{11C50}-\u{11C6C}\u{11C72}-\u{11C8F}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D89}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11FB0}\u{11FC0}-\u{11FD4}\u{12000}-\u{12399}\u{12400}-\u{1246E}\u{12480}-\u{12543}\u{13000}-\u{1342E}\u{14400}-\u{14646}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16AD0}-\u{16AED}\u{16B00}-\u{16B2F}\u{16B40}-\u{16B43}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16E40}-\u{16E96}\u{16F00}-\u{16F4A}\u{16F50}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18D00}-\u{18D08}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D7FF}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1EC71}-\u{1ECAB}\u{1ECAD}-\u{1ECAF}\u{1ECB1}-\u{1ECB4}\u{1ED01}-\u{1ED2D}\u{1ED2F}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10C}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DD}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}])[\s\S])/gu,""),n=(0,o.hr)(a),r=(0,o.Dk)(t)?new RegExp(`(?<!<[^>]+)(?<!\\p{L}\\p{N})(${n})(?!\\p{L}\\p{N})(?![^<]*>)`,"gui"):new RegExp(`(?<!<[^>]+)(?<![\\p{L}\\p{N}])(${n})(?![\\p{L}\\p{N}])(?![^<]*>)`,"gui");return e.replace(r,`<mark class=${s} id="highlight">$1</mark>`)},T=(e="",t="",s)=>{if(!d||!t)return e;const a=t.split(/\s+/);return a.length>1?((e,t,s)=>t.reduce(((e,t)=>A(e,t,s)),e))(e,a,s):A(e,t,s)}},3115:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(9333),l=s(76531),c=s(18768),d=s.n(c),_=s(76223),E=s.n(_);const u=(0,o.defineMessages)({close:{id:"shortcut.close",defaultMessage:"Close the keyboard shortcut cheatsheet"},headerText:{id:"shortcuts.header",defaultMessage:"Keyboard Shortcuts"}});function m({headerText:e,showSubheader:t,onClose:s},a){const{formatMessage:n}=a.intl,c=E()(d(),{[`${a.getTheme()}`]:!0});return r.createElement("header",{className:c.header},r.createElement("div",{className:c.text},"string"==typeof e?r.createElement("div",{className:c.heading,"aria-label":e},e):r.createElement("div",{className:c.heading,"aria-label":n(e)},r.createElement(o.FormattedMessage,e)),t?r.createElement("div",{className:c.subheading},r.createElement(o.FormattedMessage,{id:"shortcuts.open_close",defaultMessage:"Press '?' to open this window"})):null),r.createElement("div",null,r.createElement("div",null,r.createElement(i.default,{onClick:s,kind:l.Kinds.CLOSE,size:l.Sizes.XS,colorState:l.ColorStates.INVERTED,title:n(u.close)}))))}m.defaultProps={showSubheader:!0,headerText:u.headerText},m.contextTypes={intl:o.intlShape,getTheme:n().func}},88950:e=>{"use strict";e.exports={className:{default:{container:"s_3Lic3 H_HMYSt k_w I_ZkbNhI D_F ek_BB ab_FT",cheatContent:"P_1EutVf U_72FG D_F ek_BB en_N ej_0 em_N",keysetContainer:"iz_A W_6D6F em_N ej_0",header:"en_0",filterSection:"en_0"}},_key:"2gg7F0"}},18768:e=>{"use strict";e.exports={className:{default:{header:"D_F ab_C W_6D6F k_w C_ZkbNhI aw_Z1Skzn2 P_nzg7u",text:"em_N D_F ek_BB ab_CI",heading:"A_6FsP u_b U_fq7",subheading:"A_6Eb4"},ATT:{header:"aw_ZvJQac"},FRONTIER:{header:"aw_Z21mNgp"},ROGERS:{header:"aw_cqhYR"},BT:{header:"aw_fyCuS"},SKY:{header:"aw_2i3i9C"},AOL:{header:"aw_1vEUx2"},AOL_HIGH_CONTRAST:{header:"aw_2uYa87"},CLASSIC:{header:"aw_Z2j89gd"},SIMPLE:{header:"aw_1sxCjm"},AIM:{header:"aw_Z1rxJgm"},AOLCOM:{header:"aw_12N4Fw"},HIGH_CONTRAST:{header:"aw_2uYa87"},DEFAULT:{header:"aw_Z1oGKIG"},SUNRISE:{header:"aw_j5A3N"},AQUA_GREEN:{header:"aw_Z1QxX0Y"},AQUA_BLUE:{header:"aw_lYTmB"},DEEP_PURPLE:{header:"aw_Z2r9M2j"},BLUE_NIGHT:{header:"aw_ZhWBiv"},DARK_GREY:{header:"aw_cqhYR"},NIGHT_LANDSCAPE:{header:"aw_Z1wLEpd"},ROADTRIP:{header:"aw_Z1DvGqD"},SUNSET_AUSSIE:{header:"aw_1bjVkK"},LIGHTHOUSE:{header:"aw_4GXi2"},SPRING:{header:"aw_2x1JVo"},WINTER:{header:"aw_12Vhsx"},SUMMER:{header:"aw_Z1SXqf4"},GALAXY:{header:"aw_2dTTRc"},FALL:{header:"aw_3wzys"},WESTERN:{header:"aw_1k2u4P"},SUNSET:{header:"aw_1rQGo3"}},_key:"2unevr"}},70808:e=>{"use strict";e.exports={className:{default:{twoColumnList:"D_F ha_n P_0 gl_FM eo_HB o_h M_1A1TYO",column:"em_N en_N s_3rRhf",spacer:"ej_6LEV en_0",sectionContainer:"U_6TFj",sectionHeading:"A_6EWk C_Z281SGl U_6Fd5",listView:"hd_n X_0"},searching:{twoColumnList:"ek_BB"}},_key:"2iQpu0"}},96464:e=>{"use strict";e.exports={className:{default:{keyRow:"D_F ab_C M_3Y3Gk em_N",description:"A_6Eb4 C_Z281SGl E_fq7"}},_key:"ZVMVx3"}},60919:e=>{"use strict";e.exports={className:{default:{searchContainer:"H_6UbO M_1JP1a2 p_R",input:"W_6D6F H_6D6F k_w li_6UbO y_jyw3a",magnifying:"p_a L_0 T_0 cZW7ROP_n H_6D6F D_F ab_C P_3gJOe"}},_key:"ZdGdDq"}},97845:e=>{"use strict";e.exports={className:{default:{delimit:"M_3gJOe A_6DUj",keyGroups:"D_F",keyGroup:"D_F ab_C",vertical:"D_F ek_BB ab_CI",key:"A_6DUj i_6DUj I_ZnkeaL j_Z11lovb y_2tAGiz H_6FIA P_3gJOe k_w e_dRA J_x D_F ab_C",marginTop:"Y_fq7"}},_key:"Z132g0I"}},98907:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F"}},_key:"OgOlY"}},73744:e=>{"use strict";e.exports={className:{default:{attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"vDuNx"}},35567:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Ce});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(99095),l=s(3405),c=s(31280),d=s(37422),_=s(31057),E=s(73924),u=s(79159),m=s(78737),S=s(549),p=s(89963),C=s(9333),A=s(56148),T=s(43007),I=s(67498),h=s(45282),g=s(26453),O=s(11160),D=s(31509),R=s(18030),N=s(65304),L=s(10728),f=s(85927),M=s(78263);const P=(0,o.connect)(((e,{messageId:t,listId:s})=>{const{doesMessageIdExist:a,getMessageSnippet:n,getMessageSubject:r,getAttachmentsByMessageId:o,getMessageFlags:i}=(0,f.selectors)(e),l=a(t),c=o(t);return{isLoaded:l,flags:l?i(t):{},attachments:c,contentType:(0,_.WN)(s),subject:l?r(t):"",snippet:l?n(t):""}}),((e,{listId:t,onClose:s})=>{const a=(0,M.BA)([t]);return{onCancel:({i13nModel:t})=>{e((0,u.Ht)({i13nModel:t})),s()},onDeleteMessage:({i13nModel:n,groupId:r,messageId:o})=>{e((0,u.CV)({conversations:!1,streamId:a,i13nModel:n,streamItem:{id:r,messageIds:[o],listId:(0,_.tE)(t,{listContentType:d.F6k.MESSAGES}),isAffected:!0},triageActionType:d.Ewo.DELETE_SELECTED_ITEMS})),s()}}}));var b=s(28182),y=s(26),v=s(17016),F=s(92559),U=s(76531),k=s(18722),w=s.n(k),G=s(76223),H=s.n(G);function B(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const x=H()(w()),V=(0,i.defineMessages)({delete_message_warning:{id:"delete_preview.delete_message_warning",defaultMessage:"Delete the message containing this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}?"},delete_message_button:{id:"delete_preview.delete_message_button",defaultMessage:"Delete message"},delete_warning_tooltip:{id:"delete_preview.delete_warning_tooltip",defaultMessage:"To delete this {contentType, select, IMAGES {photo} DOCUMENTS {document} other {attachment}}, the message it's attached to and any other attachments below must also be deleted."},view_original:{id:"delete_preview.view_message",defaultMessage:"View original message"},cancel:{id:"confirm.cancel",defaultMessage:"Cancel"},close:{id:"confirm.close",defaultMessage:"Close"},info:{id:"confirm.info",defaultMessage:"Information"}});class Z extends r.Component{constructor(...e){super(...e),B(this,"handleDeleteMessage",(e=>{e.stopPropagation(),this.props.onDeleteMessage({i13nModel:{interactionType:(0,v.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?F.JE.PHOTO_MESSAGE_DELETE:F.JE.DOC_MESSAGE_DELETE,sec:this.props.contentType===d.F6k.IMAGES?F.nJ.PHOTO_LIST:F.nJ.DOC_LIST},messageId:this.props.messageId,groupId:this.props.groupId})})),B(this,"handleClose",(e=>{e.stopPropagation(),this.props.onCancel({i13nModel:{interactionType:(0,v.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?F.JE.PHOTO_DELETE_PREVIEW_CLOSE:F.JE.DOC_DELETE_PREVIEW_CLOSE,sec:this.props.contentType===d.F6k.IMAGES?F.nJ.PHOTO_LIST:F.nJ.DOC_LIST}})})),B(this,"navigateToMessage",(e=>{e.stopPropagation(),e.preventDefault();const{listId:t,groupId:s,messageId:a,attachments:n}=this.props;let r,o;if(s)r=(0,l.m9)(t,s);else{if(!n.find((e=>(o=e.csid,e.csid))))return;r=(0,l.Rl)(o,{})}this.context.navigateTo({hashParams:{messageId:a},route:r,i13nModel:{interactionType:(0,v.getInteractionFromEvent)(e),mKey:this.props.contentType===d.F6k.IMAGES?F.JE.PHOTO_DELETE_PREVIEW_READ_MSG:F.JE.DOC_DELETE_PREVIEW_READ_MSG,mKeyGroup:F.rO.openMsg,sec:this.props.contentType===d.F6k.IMAGES?F.nJ.PHOTO_LIST:F.nJ.DOC_LIST}}),this.props.onClose()})),B(this,"renderAttachments",(()=>{const{attachments:e,subject:t}=this.props,s={headers:{subject:t}};return e&&e.length?r.createElement(g.ZP,{attachments:e,readOnly:!0,allowDownload:!1,mayContainVirus:!1,message:s,onAttachmentPreview:this.navigateToMessage,shouldShowSpamAttachmentWarning:!1,allowInline:!0,isCompact:!0}):null}))}render(){const{formatMessage:e}=this.context.intl,t={margin:"16px 8px 16px 0"},{isLoaded:s,subject:a,snippet:n,flags:o,contentType:i}=this.props;return r.createElement(p.Z,{onClose:this.handleClose},r.createElement("div",{className:x.container,"data-test-id":"delete-preview-dialog"},r.createElement("div",{className:x.header},r.createElement("div",{className:x.heading},r.createElement(T.Z,{kind:U.Kinds.EXCLAMATION_ALT,size:U.Sizes.XS,colorState:U.ColorStates.WARNING,title:e(V.close),"aria-label":e(V.close)}),r.createElement("div",{className:x.title,"data-test-id":"title"},e(V.delete_message_warning,{contentType:i})),r.createElement("div",{className:x.info},r.createElement(O.Z,{className:x.popoverContainer},r.createElement(D.Z,null,r.createElement("div",{className:x.popoverAnchor},r.createElement(A.Z,{kind:U.Kinds.INFO,size:U.Sizes.XS,colorStates:{normal:U.ColorStates.SECOND_LEVEL_GRAY,hovered:U.ColorStates.TOUCH_PRIMARY},className:x.spacing,"aria-label":e(V.info),paddingLess:!0}))),r.createElement(R.ZP,{ignorePointerEvents:!0,permittedArrowDirections:[N.Ji.UP],isArrowVisible:!0,triggerOn:N.K2.HOVER,align:N.xM.START,zAltitude:L.LSY.MODAL,offset:12},r.createElement("div",{className:x.tooltip},e(V.delete_warning_tooltip,{contentType:i})))))),r.createElement("div",{className:x.close},r.createElement(C.default,{onClick:this.handleClose,kind:U.Kinds.CLOSE,size:U.Sizes.XS,title:e(V.close),"aria-label":e(V.close),"data-test-id":"close-btn"}))),r.createElement("div",{className:x.messageContent,"data-test-id":"mail-content"},s?r.createElement("div",{className:x.content},r.createElement("div",{className:x.subject,"data-test-id":"subject"},a),r.createElement("div",{className:x.msgHeader},r.createElement(h.ZP,{conversations:!1,message:{id:this.props.messageId,flags:o},expanded:!0,idx:0,onToggleRead:()=>{},onToggleStar:()=>{},isOnModal:!0,onAttachmentClick:()=>{}})),r.createElement("div",{className:x.snippet,"data-test-id":"snippet"},n),r.createElement("div",{className:x.attachments},this.renderAttachments())):r.createElement("div",{className:x.spinner},r.createElement(y.Z,null))),r.createElement("div",{className:x.controls},r.createElement("div",{className:x.buttonContainer},r.createElement(I.Z,{onClick:this.handleDeleteMessage,style:t,"data-test-id":"delete-btn"},e(V.delete_message_button)),r.createElement(I.Z,{onClick:this.handleClose,kind:b.F.SECONDARY,style:t,"data-test-id":"cancel-btn"},e(V.cancel))),r.createElement("div",{className:x.viewMessageContainer},r.createElement("a",{onClick:this.navigateToMessage,className:x.viewMessage,"data-test-id":"view-link"},e(V.view_original))))))}}B(Z,"contextTypes",{intl:i.intlShape.isRequired,navigateTo:n().func.isRequired});const W=P(Z);var K=s(24659),z=s.n(K),Y=s(18446),j=s.n(Y),q=s(99691),X=s(30814);function Q(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const J=(0,i.defineMessages)({read:{id:"photo.grid.read_message",defaultMessage:"Read message"},download:{id:"photo.grid.download",defaultMessage:"Download"},forward:{id:"photo.grid.forward",defaultMessage:"Forward"},delete:{id:"photo.grid.delete",defaultMessage:"Delete"}}),$=e=>{e.preventDefault(),e.stopPropagation()};class ee extends r.Component{constructor(e){super(e),Q(this,"state",{hovered:!1}),Q(this,"handleHover",(e=>{this.setState({hovered:e})})),Q(this,"handleAttachmentPreviewOpen",(e=>{$(e);const{attachment:t,item:s,onAttachmentPreviewOpen:a}=this.props;a({i13nModel:{interactionType:F.Rb.click,mKey:F.JE.PHOTO_OPEN,sec:F.nJ.PHOTO_LIST},attachment:t,attachmentMessageId:s.messageGroupId||s.messageId,previewable:s.previewable})})),Q(this,"handleMessageOpen",(e=>{$(e);const{attachment:t,messageRoute:s,item:a,onMessageOpen:n}=this.props;n({i13nModel:{interactionType:F.Rb.click,mKey:F.JE.PHOTO_READ_MSG,mKeyGroup:F.rO.openMsg,sec:F.nJ.PHOTO_LIST},attachment:t,messageRoute:s,messageId:a.messageId||a.messageGroupId})})),Q(this,"handleDownloadClick",(e=>{$(e);const{attachment:t,onAttachmentDownload:s}=this.props;s({attachment:t,i13nModel:{interactionType:F.Rb.click,mKey:F.JE.PHOTO_DOWNLOAD,sec:F.nJ.PHOTO_LIST,mKeyGroup:F.rO.dwnldAttmnt}})})),Q(this,"handleMessageDelete",(()=>{const{item:e,onMessageDelete:t}=this.props,s={interactionType:F.Rb.click,mKey:F.JE.PHOTO_DELETE_PREVIEW_OPEN,sec:F.nJ.PHOTO_LIST};t({messageId:e.messageId,messageGroupId:e.messageGroupId,i13nModel:s})})),Q(this,"handleForward",((e,t)=>{const{attachment:s,onForwardAttachments:a}=this.props,n={mKey:F.JE.PHOTO_SHARE,mKeyGroup:F.rO.composeMsg,sec:F.nJ.PHOTO_LIST,interactionType:F.Rb.click};a({route:t,payload:{csid:e,attachments:s?[{...s,disposition:d.sSc.Dispositions.INLINE}]:[],i13nModel:n}})})),this.photoItem=r.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.photoItem.current.focus()}render(){const{attachment:e,messageRoute:t,active:s,isBriefView:a}=this.props,{formatMessage:n}=this.context.intl,{thumbnailUrl:o,filename:i,downloadUrl:l,conversationId:c}=e,d=!!c,_=H()(z(),{isMessageDeleteEnabled:d,isBriefView:a});return r.createElement("div",{tabIndex:s?L.iUz.MESSAGE_LIST_MAIN:-1,className:_.photoGrid+" photo-list-item","data-test-id":"photo-list-item",role:"button",onClick:this.handleAttachmentPreviewOpen,onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),"aria-label":i,title:i,ref:this.photoItem},r.createElement("div",{className:_.photoItemImg,style:{backgroundImage:`url(${(0,q.gu)(o,L.oqp)})`},"data-test-id":"photo-item-img"}),r.createElement("div",{className:_.photoOverlay}),this.state.hovered&&!a?r.createElement("div",{className:_.iconContainer,onClick:e=>$(e)},t&&c?r.createElement("div",{className:_.photoActionBtn},r.createElement("a",{"data-test-id":"icon-btn-open-message",href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen,rel:"noopener"},r.createElement(A.Z,{title:n(J.read),kind:U.Kinds.INBOX,size:U.Sizes.XS,colorStates:{normal:U.ColorStates.INVERTED_LESS_DIM,hovered:U.ColorStates.INVERTED}}))):null,r.createElement("div",{className:_.photoActionBtn},r.createElement("a",{"data-test-id":"icon-btn-download-photo",href:l,onClick:this.handleDownloadClick,rel:"noopener"},r.createElement(A.Z,{title:n(J.download),kind:U.Kinds.DOWNLOAD,size:U.Sizes.XS,colorStates:{normal:U.ColorStates.INVERTED_LESS_DIM,hovered:U.ColorStates.INVERTED}}))),d?r.createElement("div",{className:_.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},r.createElement(A.Z,{title:n(J.delete),kind:U.Kinds.DELETE,size:U.Sizes.XS,colorStates:{normal:U.ColorStates.INVERTED_LESS_DIM,hovered:U.ColorStates.INVERTED}})):null,r.createElement("div",{className:_.forwardButton+" "+_.rtlRawScaleX},r.createElement(X.Z,{"data-test-id":"icon-btn-forward-photo",onForward:this.handleForward}))):null)}}Q(ee,"defaultProps",{isBriefView:!1}),Q(ee,"contextTypes",{intl:i.intlShape,getUrlFromRoute:n().func.isRequired});const te=(0,o.connect)(((e,t)=>{const{item:s,listId:a,streamId:n}=t,{getAttachmentsSelectors:r,isFeatureEnabled:o,doesStreamExist:i,getCursorItem:c}=(0,f.selectors)(e),{getAttachmentById:_}=r(),E=o(d.ANe.CONVERSATIONS),u=_(s.id),m=(0,l.F6)({attachment:u,listId:a,isConversationMode:E}),S=i(n)&&c(n)||{};return{attachment:u,messageRoute:m,active:S.id===s.id&&S.listId===s.listId}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&j()(e.attachment,t.attachment)&&e.active===t.active})(ee);var se=s(32481),ae=s.n(se),ne=s(94766),re=s(54733),oe=s(87195),ie=s(81660),le=s(9026);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function de(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const _e=(0,i.defineMessages)({openMessage:{id:"document.item.open_message",defaultMessage:"Open Message"},openLink:{id:"document.item.open_link",defaultMessage:"Open the link"},download:{id:"document.item.download",defaultMessage:"Download"},forward:{id:"document.item.forward",defaultMessage:"Forward Document"},delete:{id:"document.item.delete",defaultMessage:"Delete message"}}),Ee=e=>{e.preventDefault(),e.stopPropagation()};class ue extends r.Component{constructor(e){super(e),de(this,"state",{hovered:!1}),de(this,"handleHover",(e=>{this.setState({hovered:e})})),de(this,"handleAttachmentPreviewOpen",(e=>{Ee(e);const{onAttachmentPreviewOpen:t,attachment:s,item:a}=this.props;t({i13nModel:{interactionType:F.Rb.click,mKey:F.JE.DOC_OPEN,sec:F.nJ.DOC_LIST},attachment:s,attachmentMessageId:a.messageGroupId||a.messageId,previewable:a.previewable})})),de(this,"renderAttachmentIcon",(e=>{const{attachment:t}=this.props;return r.createElement(ne.Z,ce({},t,{isInverted:e}))})),de(this,"handleMessageOpen",(e=>{Ee(e);const{attachment:t,item:s,messageRoute:a,onMessageOpen:n}=this.props;n({i13nModel:{interactionType:F.Rb.click,mKey:F.JE.DOC_READ_MSG,mKeyGroup:F.rO.openMsg,sec:F.nJ.DOC_LIST},attachment:t,messageRoute:a,messageId:s.messageId||s.messageGroupId})})),de(this,"handleDownloadClick",(e=>{Ee(e);const{onAttachmentDownload:t,attachment:s}=this.props;t({i13nModel:{mKey:F.JE.DOC_OPEN_LINK,sec:F.nJ.DOC_LIST,interactionType:F.Rb.click},attachment:s})})),de(this,"handleMessageDelete",(e=>{Ee(e);const{onMessageDelete:t,item:s}=this.props;t({i13nModel:{interactionType:F.Rb.click,mKey:F.JE.DOC_DELETE_PREVIEW_OPEN,sec:F.nJ.DOC_LIST},messageGroupId:s.messageGroupId,messageId:s.messageId})})),de(this,"handleForward",((e,t)=>{const{onForwardAttachments:s,attachment:a}=this.props;s({route:t,payload:{csid:e,attachments:a?[a]:[],i13nModel:{mKey:F.JE.DOC_SHARE,mKeyGroup:F.rO.composeMsg,sec:F.nJ.DOC_LIST,interactionType:F.Rb.click}}})})),de(this,"renderActions",(e=>{const{messageRoute:t,attachment:s}=this.props,{formatMessage:a}=this.context.intl;return r.createElement("div",{className:e.documentAction,onClick:e=>Ee(e)},t&&s.conversationId?r.createElement("div",{className:e.documentActionBtn},r.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:a(_e.openMessage),href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen},r.createElement(T.Z,{kind:U.Kinds.INBOX,size:U.Sizes.XS,colorState:U.ColorStates.INHERITED}))):null,r.createElement("div",{className:e.documentActionBtn},r.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:s.downloadUrl,target:s.isExternal?"_blank":null,title:a(s.isExternal?_e.openLink:_e.download),download:s.name,onClick:this.handleDownloadClick},r.createElement(T.Z,{kind:s.isExternal?U.Kinds.LINK:U.Kinds.DOWNLOAD,size:U.Sizes.XS,colorState:U.ColorStates.INHERITED}))),r.createElement("div",{className:e.documentActionBtn},r.createElement(C.default,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:U.Kinds.DELETE,size:U.Sizes.XS,title:a(_e.delete),colorState:U.ColorStates.INHERITED,paddingLess:!0})),r.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},r.createElement(X.Z,{"data-test-id":"icon-btn-forward-document",onForward:this.handleForward,colorStates:{normal:U.ColorStates.INHERITED,hovered:U.ColorStates.INHERITED}})))})),de(this,"renderDateTime",(e=>{const{attachment:t}=this.props,s=new Date(t.creationDate);return r.createElement("div",{className:e.documentTimeStamp,title:s.toLocaleString(this.context.intl.locale)},r.createElement(re.ZP,{date:s}))})),this.documentItem=r.createRef()}componentDidUpdate(e){this.props.active&&!e.active&&this.documentItem.current.focus()}render(){const{getCss:e,getThemeMode:t}=this.context,{attachment:s,messageSubject:a,active:n,isBriefView:o,documentPreviewEnabled:i}=this.props,l=t(),c=l===le.zg.DARK,d=l!==le.zg.LIGHT&&o,_=e(ae(),{isDarkThemeMode:c,isDarkBriefView:d}),E=s.size&&(0,oe.Xx)(s.size);return r.createElement("div",{className:_.documentContainer+" document-list-item",onMouseOver:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),onClick:i?this.handleAttachmentPreviewOpen:this.handleMessageOpen,tabIndex:n?L.iUz.MESSAGE_LIST_MAIN:-1,"data-test-id":"document-list-item",ref:this.documentItem},this.renderAttachmentIcon(c),r.createElement("div",{className:_.documentInfo},r.createElement("span",{className:_.filename,title:s.filename,"data-test-id":"filename"},s.filename),E?r.createElement("span",{className:_.filesize,title:E,"data-test-id":"filesize"},E):null,r.createElement("div",{className:_.messageSubject,title:(0,ie.IX)(a),"data-test-id":"file-message-subject"},r.createElement("span",null,(0,ie.GQ)(a,!0,_.highlightSearchTerm)))),this.state.hovered&&!o?this.renderActions(_):null,this.renderDateTime(_))}}de(ue,"defaultProps",{isBriefView:!1}),de(ue,"contextTypes",{intl:i.intlShape,getUrlFromRoute:n().func,getThemeMode:n().func,getCss:n().func});const me=(0,o.connect)(((e,t)=>{const{item:s,streamId:a}=t,{listId:n,id:r}=s,{getAttachmentsSelectors:o,isFeatureEnabled:i,doesMessageIdExist:c,getMessageSubject:_,doesStreamExist:E,getCursorItem:u}=(0,f.selectors)(e),{getAttachmentById:m}=o(),S=i(d.ANe.CONVERSATIONS),p=i(d.ANe.DOCUMENT_PREVIEW),C=m(r),A=(0,l.F6)({attachment:C,listId:n,isConversationMode:S}),T=c(s.messageId)?_(s.messageId,n):void 0,I=E(a)&&u(a)||{};return{listId:n,attachment:C,messageRoute:A,messageSubject:T,active:I.id===s.id&&I.listId===s.listId,documentPreviewEnabled:p}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&j()(e.attachment,t.attachment)&&e.active===t.active})(ue);function Se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class pe extends r.Component{constructor(...e){super(...e),Se(this,"handleAttachmentPreviewOpen",(({i13nModel:e,attachment:t,attachmentMessageId:s,previewable:a})=>{const{onOpenAttachmentLink:n,listId:r}=this.props;if(!a)return n({i13nModel:e}),void window.open(t.downloadUrl,"_blank");this.props.navigateToRoute({route:(0,l.Sk)(r,s,t.id,{fullscreen:"1"}),itemId:t.id,i13nModel:e})})),Se(this,"handleMessageOpen",(({i13nModel:e,attachment:t,messageRoute:s,messageId:a})=>{this.props.navigateToRoute({route:s,hashParams:{messageId:a},itemId:t.id,i13nModel:e,full:!0})})),Se(this,"handleDownloadClick",(({i13nModel:e,attachment:t})=>{const{onAttachmentDownload:s}=this.props;s({attachment:t,i13nModel:e})})),Se(this,"renderDeletePreview",(({messageId:e,messageGroupId:t})=>{(0,S.C)(r.createElement(W,{listId:this.props.listId,messageId:e,groupId:t}),this.context)})),Se(this,"handleMessageDelete",(({i13nModel:e,messageGroupId:t,messageId:s})=>{const{listId:a,onDeleteMessage:n}=this.props;n({messageId:s,messageGroupId:t,listId:a,i13nModel:e}),this.renderDeletePreview({messageId:s,messageGroupId:t})})),Se(this,"handleForward",(({route:e,payload:t})=>{this.props.onOpenComposeView({...t,route:e})}))}render(){const{listId:e,item:t,streamId:s,isBriefView:a}=this.props,n=t.listContentType||(0,_.WN)(e);return r.createElement("div",{"data-test-id":"attachment-list-item"},n===d.F6k.IMAGES?r.createElement(te,{item:t,listId:e,streamId:s,isBriefView:a,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}):r.createElement(me,{item:t,listId:e,streamId:s,isBriefView:a,onAttachmentPreviewOpen:this.handleAttachmentPreviewOpen,onMessageOpen:this.handleMessageOpen,onAttachmentDownload:this.handleDownloadClick,onMessageDelete:this.handleMessageDelete,onForwardAttachments:this.handleForward}))}}Se(pe,"defaultProps",{isBriefView:!1}),Se(pe,"contextTypes",{navigateTo:n().func.isRequired,intl:i.intlShape.isRequired,executeAction:n().func,config:n().object,getStore:n().func.isRequired,store:n().object.isRequired,timezone:c.TimezoneType,getTheme:n().func.isRequired,getThemeMode:n().func.isRequired,getCss:n().func.isRequired,appId:n().string.isRequired});const Ce=(0,o.connect)(void 0,(e=>({onOpenAttachmentLink(t){e((0,E.AV)(t))},onAttachmentDownload({attachment:t,i13nModel:s}){e((0,E.Ve)({attachment:t,i13nModel:s}))},onDeleteMessage(t){e((0,u.xF)(t))},navigateToRoute(t){e((0,m.Ch)(t))},onOpenComposeView:t=>e((0,m.Hg)(t))})))(pe)},1349:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_ZPBfWW k_efEYO m_Z14vXdP C_Z281SGl r_BN I_ZkbNhI p_R",filterItem:"I_T b_n W_6D6F i_6DEy D_B C_q r_q y_q u_q P_1Eu7sD A_6EqO it_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",tabs:"P_2iGizO M_0 m_Z14vXdP D_F",categoryFilterContainer:"D_F p_a T_6Eb4 R_6LEV P_fQq0A I_ZnIF8Y e_dRA",categoryFilterAnchor:"D_F ab_C",categoryFilterAnchorLabel:"A_6EqO r_P",categoryFilterCheckIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",categoryFilterLabel:"Q_6Eb4"},"themeMode-DARK":{heading:"m_ZYfqDw I_T C_ZkbNhI cdPFi_ZkbNhI",tabs:"m_Z6DFj8",categoryFilterContainer:"I_ZS20V7"}},_key:"oPau4"}},32481:e=>{"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA c1AVi73_6FsP c1AVi7a_7rdk r_P I3_Z1gjd50 it3_689y I4_Z1gjdjJ",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg c1AVi73_6FsP",filename:"A_6EqO c1AVi73_6FsP c1AVi7H_6LEV C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj c1AVi73_6EWk c1AVi7H_6LEV C_Z1TsNbA D_X",messageSubject:"A_6EqO c1AVi73_6FsP c1AVi7H_6LEV C_Z1TsNbA J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1WBuqm cdPFi4_Z29WjXl",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1WBuqm cdPFi4_Z29WjXl",highlightSearchTerm:"I_Z1gjd5v D_X P_3zDxc",rtlRawScaleX:"rtlR_h_2gl0WC"},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},isDarkThemeMode:{documentContainer:"C_ak5m8 is_26ISAR cZdTOHS_ZXgLQ3 I3_1YEmYj I4_ZFyHXD",messageSubject:"C_ak5l7",highlightSearchTerm:"I_ak5kB",forwardButton:"cdPFi_ak5m8 cdPFi4_ZkbNhI",documentActionBtn:"cdPFi_ak5m8 cdPFi4_ZkbNhI",filename:"C_ZkbNhI"},isDarkBriefView:{filename:"C_ZkbNhI",documentContainer:"C_ak5m8 is_26ISAR cZdTOHS_ZXgLQ3 I3_1YEmYj I4_ZFyHXD"}},_key:"Z2chIT8"}},521:e=>{"use strict";e.exports={className:{default:{documentsViewHeader:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_ZkbNhI",documentsViewTitle:"A_6FsP c1AVi73_6LUG c1AVi7H_6MWH u_dPo D_F gl_C em_N",sortMenuContainer:"E_eo6"},"themeMode-DARK":{documentsViewHeader:"I_T m_ZYfqDw C_ZkbNhI cdPFi_ZkbNhI"}},_key:"fam4Y"}},12076:e=>{"use strict";e.exports={className:{default:{draftIndicator:"J_x A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 c1AVi73_6Eb4 c1AVi7H_6EGz c1AVi7T_dPo",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"Z2jKkiJ"}},82406:e=>{"use strict";e.exports={className:{default:{counter:"C_ZkbNhI en_0 P_3gJiI e_fFR A_6DUj I_Z29WjXl O_N D_X",dragIcon:"Z_3n0uA cdPFi_Z281SGl"}},_key:"1MV1Gh"}},8205:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>D,j2:()=>g});s(45697);var a=s(67294),n=s(99095),r=s(18685),o=s(25244),i=s(34866),l=s(92110),c=s(41546),d=s(37422),_=s(92559),E=s(9026),u=s(45794),m=s(31057),S=s(3405),p=s(85927),C=s(3226),A=s.n(C),T=s(62631),I=s(20561);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const g=(0,n.defineMessages)({flights_no_upcoming:{id:"empty_results.flights_no_upcoming",defaultMessage:"No upcoming flights"},flights_empty_desc:{id:'empty_results.flights_empty_desc"',defaultMessage:"Connect another mailbox to see all of your {viewType, select, TRAVEL_VIEW_UPCOMING {upcoming} TRAVEL_VIEW_PAST {past}} flights in one place"},flights_no_past:{id:"empty_results.flights_no_past",defaultMessage:"No past flights"},add_a_mailbox:{id:"empty_results.add_a_mailbox",defaultMessage:"Add a mailbox"},coupons_empty_heading:{id:"empty_results.coupons_empty_heading",defaultMessage:"No deals found"},coupons_empty_desc:{id:"empty_results.coupons_empty_desc",defaultMessage:"Connect another mailbox to see all of your deals in one place"},receipts_empty_heading:{id:"empty_results.receipts_empty_heading",defaultMessage:"Have receipts in another email account?"},receipts_empty_desc:{id:"empty_results.receipts_empty_desc",defaultMessage:"Get your order confirmations organized in one place and we can help you save on purchases."},empty_list_alt:{id:"empty_results.empty_list_alt",defaultMessage:"No items"},empty_emails_to_myself_des_emails:{id:"empty_emails_to_myself_des",defaultMessage:"When you send emails to yourself, maybe as a reminder or to bump something up on your to-do list, you can find them all here."},empty_emails_to_myself_des_photos:{id:"empty_emails_to_myself_des_images",defaultMessage:"When you send emails with photos to yourself, you can find those photos here."},empty_emails_to_myself_des_documents:{id:"empty_emails_to_myself_des_document",defaultMessage:"When you send emails with documents to yourself, you can find those documents here."},empty_emails_to_myself_header_emails:{id:"empty_results.empty_list_emails",defaultMessage:"No emails sent to yourself"},empty_emails_to_myself_header_document:{id:"empty_results.empty_list_documents",defaultMessage:"No documents sent to yourself"},empty_emails_to_myself_header_photos:{id:"empty_results.empty_list_photos",defaultMessage:"No photos sent to yourself"},sync_message:{id:"sync_folder_message",defaultMessage:"We're syncing your mailbox."}});class O extends a.Component{constructor(e){super(e),h(this,"renderAddMailbox",(()=>{const{appContext:e}=this.props,t=e.getStyles(A()),{formatMessage:s}=e.intl;return a.createElement("div",{className:t.addMailbox},a.createElement(I.Z,{"data-test-id":"add-mailbox",className:t.addMailboxLink,i13nModel:{mKey:_.JE.SETTINGS_LEFT_RAIL_ACCOUNTS,sec:this.sec},route:(0,S.Tx)({settingsGroupId:d.u5h.ACCOUNTS})},s(g.add_a_mailbox)))})),h(this,"renderEmailsToMyselfEmptyResult",(e=>{const{listId:t,appContext:s}=this.props,n=s.getThemeMode(),{formatMessage:r}=s.intl,o=(0,m.WN)(t);let l=g.empty_emails_to_myself_header_emails,_=g.empty_emails_to_myself_des_emails;switch(o){case d.F6k.IMAGES:l=g.empty_emails_to_myself_header_photos,_=g.empty_emails_to_myself_des_photos;break;case d.F6k.DOCUMENTS:l=g.empty_emails_to_myself_header_document,_=g.empty_emails_to_myself_des_documents}const u=r(l),S=r(_);return a.createElement("div",{className:e.container,"data-test-id":"empty-results"},a.createElement("div",{className:e.subContainer,"data-test-id":"list-result-empty"},a.createElement(i.Z,null),a.createElement("img",{src:(0,c.A)(n===E.zg.DARK?"/img/paper_worker_dark.png":"/img/paper_worker.png"),srcSet:`${(0,c.A)(n===E.zg.DARK?"/img/paper_worker_dark_2x.png":"/img/paper_worker_2x.png")} 2x`}),a.createElement("div",{className:e.emptyListText,"data-test-id":"empty-list-message"},u),a.createElement("div",{className:e.emptyListDes,"data-test-id":"empty-list-des"},S),a.createElement(i.Z,null)))}))}render(){const{listId:e,isAccountSyncing:t,isEmailsToMyselfView:s,isImapinEnabled:r,appContext:u}=this.props,S=(0,m.C4)(e),p=(0,m.WN)(e),{formatMessage:C}=u.intl,T=u.getThemeMode(),I=u.getStyles(A(),{moreDescriptionPadding:p===d.F6k.COUPON_CARDS,isEmailsToMyselfView:s,themeMode:T});if(s)return this.renderEmailsToMyselfEmptyResult(I);switch(p){case d.F6k.TRAVEL_CARDS:return this.sec=_.nJ.TRAVEL_LIST,a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-travel-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:S===d.ukn.TRAVEL_VIEW_UPCOMING?(0,c.A)("/img/flights_upcoming.png"):(0,c.A)("/img/flights_past.png"),"aria-hidden":!0,className:I.travelImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_upcoming_travel_wait_message",defaultMessage:"Check back soon to see your travel."})))):a.createElement("div",{className:I.subContainer},a.createElement("div",null,a.createElement("img",{"data-test-id":"empty-img",src:S===d.ukn.TRAVEL_VIEW_UPCOMING?(0,c.A)("/img/flights_upcoming.png"):(0,c.A)("/img/flights_past.png"),className:I.travelImage,"aria-hidden":!0})),a.createElement("div",{className:I.heading,"data-test-id":"empty-heading"},S===d.ukn.TRAVEL_VIEW_UPCOMING?C(g.flights_no_upcoming):C(g.flights_no_past)),r?a.createElement(a.Fragment,null,a.createElement("div",{className:I.description,"data-test-id":"empty-desc"},C(g.flights_empty_desc,{viewType:S})),this.renderAddMailbox()):null));case d.F6k.COUPON_CARDS:return this.sec=_.nJ.COUPONS_LIST,a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-coupons-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:(0,c.A)("/img/sync_deals_1x.png"),srcSet:(0,c.A)("/img/sync_deals_2x.png"),"aria-hidden":!0,className:I.couponImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_coupon_wait_message",defaultMessage:"Check back soon to see your coupons."})))):a.createElement("div",{className:I.subContainer},a.createElement("div",null,a.createElement("img",{"data-test-id":"empty-img",src:T===E.zg.DARK?(0,c.A)("/img/coupon_emptystate_dark.png"):(0,c.A)("/img/coupon_emptystate_light.png"),className:I.couponImage})),a.createElement("div",{className:I.heading,"data-test-id":"empty-heading"},C(g.coupons_empty_heading)),a.createElement("div",{className:I.description,"data-test-id":"empty-desc"},C(g.coupons_empty_desc)),this.renderAddMailbox()));case d.F6k.REFUND_CARDS:return a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-receipts-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:(0,c.A)("/img/receipt_empty_state.png"),"aria-hidden":!0,className:I.receiptImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_receipts_wait_message",defaultMessage:"Check back soon to see your receipts."})))):a.createElement("div",{className:I.subContainer},a.createElement("div",null,a.createElement("img",{"data-test-id":"empty-img",src:(0,c.A)("/img/receipt_empty_state.png"),className:I.receiptImage})),a.createElement("div",{className:I.heading,"data-test-id":"empty-heading"},C(g.receipts_empty_heading)),a.createElement("div",{className:I.description,"data-test-id":"empty-desc"},C(g.receipts_empty_desc)),this.renderAddMailbox()));case d.F6k.IMAGES:return a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-photo-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:(0,c.A)("/img/sync_photos_1x.png"),srcSet:(0,c.A)("/img/sync_photos_2x.png"),"aria-hidden":!0,className:I.documentImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_photos_wait_message",defaultMessage:"Check back soon to see your photos."})))):a.createElement("div",{className:I.subContainer,"data-test-id":"list-result-empty"},a.createElement(i.Z,null),a.createElement("div",{className:I.emptyListText,"data-test-id":"empty-list-message"},a.createElement(n.FormattedMessage,{id:"empty_photos_result",defaultMessage:"There are no Photos!"})),a.createElement("div",{className:I.emptyListImage},a.createElement(l.Z,{kind:o.F.EMPTY_FOLDER,width:160,height:160,altText:C(g.empty_list_alt)})),a.createElement(i.Z,null)));case d.F6k.DOCUMENTS:return a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-documents-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:(0,c.A)("/img/sync_documents_1x.png"),srcSet:(0,c.A)("/img/sync_documents_2x.png"),"aria-hidden":!0,className:I.documentImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_documents_wait_message",defaultMessage:"Check back soon to see your documents."})))):a.createElement("div",{className:I.subContainer,"data-test-id":"list-result-empty"},a.createElement(i.Z,null),a.createElement("div",{className:I.emptyListText,"data-test-id":"empty-list-message"},a.createElement(n.FormattedMessage,{id:"empty_documents_result",defaultMessage:"There are no documents!"})),a.createElement("div",{className:I.emptyListImage},a.createElement(l.Z,{kind:o.F.EMPTY_FOLDER,width:160,height:160,altText:C(g.empty_list_alt)})),a.createElement(i.Z,null)));case d.F6k.SENDERS:case d.F6k.MESSAGES:return a.createElement("div",{className:I.container,"data-test-id":"empty-results"},t?a.createElement("div",{className:I.subContainer,"data-test-id":"sync-documents-results"},a.createElement("div",null,a.createElement("img",{"data-test-id":"sync-img",src:(0,c.A)("/img/sync_message_1x.png"),srcSet:(0,c.A)("/img/sync_message_2x.png"),"aria-hidden":!0,className:I.syncInboxImage})),a.createElement("div",{className:I.syncMessage},a.createElement("div",null,C(g.sync_message)),a.createElement("div",{className:I.syncWaitMessage},a.createElement(n.FormattedMessage,{id:"sync_inbox_wait_message",defaultMessage:"Check back soon to see your messages."})))):a.createElement("div",{className:I.subContainer,"data-test-id":"list-result-empty"},a.createElement(i.Z,null),a.createElement("div",{className:I.emptyListText,"data-test-id":"empty-list-message"},a.createElement(n.FormattedMessage,{id:"empty_results.search_result_empty",defaultMessage:"Nothing to see here!"})),a.createElement("div",{className:I.emptyListImage},a.createElement(l.Z,{kind:o.F.EMPTY_FOLDER,width:160,height:160,altText:C(g.empty_list_alt)})),a.createElement(i.Z,null)))}return null}}const D=(0,r.connect)(((e,{listId:t})=>{const{getAccountById:s,getSelectedAccountId:a,isFeatureEnabled:n}=(0,p.selectors)(e),r=s(a());return{isAccountSyncing:(0,T.hE)(r),isEmailsToMyselfView:(0,m.aY)(t)===d.qd8.EMAILS_TO_MYSELF,isImapinEnabled:n(d.Zrf.IMAPIN)}}))((0,u.N)(O))},3226:e=>{"use strict";e.exports={className:{default:{container:"D_F em_N gl_C ab_C W_6D6F H_6D6F",subContainer:"D_F em_N ek_BB ab_C gl_C W_3v9Wb a_3v9Wb",syncMessage:"Y_6MGW C_Z1VRqsb t_C",syncWaitMessage:"Y_eo6",syncInboxImage:"W_3v9Wb H_3nH9d",documentImage:"W_3zlCJ H_3o4BO",travelImage:"W_3v9Wb H_3nxAj",couponImage:"W_3zlCJ H_3o4BO",receiptImage:"W_3s13S H_3n37k",offerImage:"W_3s13S H_3n9zb",heading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW c1AVi73_6LUG c1AVi7H_6MWH P_28NWDt C_Z1YRXYn",description:"A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV gl_C t_C C_Z1YRXYn",addMailbox:"je_6DEy",addMailboxLink:"C_Z29WjXl A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV",emptyListContainer:"D_F em_N ek_BB p_R T_e5X h_ZBOl0O",emptyListText:"t_C A_6FsP U_6MGW",emptyListImage:"t_C"},moreDescriptionPadding:{heading:"je_72FG"},isEmailsToMyselfView:{emptyListText:"u_e69 i_6LEV C_Z1YRXYn U_6DEy",emptyListDes:"A_6EqO u_dPo i_6FIA c1AVi73_6FsP c1AVi7H_6LEV C_Z1YRXYn t_C"},"themeMode-DARK":{heading:"C_ak5m8",description:"C_ak5m8",emptyListText:"C_ZkbNhI",emptyListDes:"C_ZkbNhI"}},_key:"Z9pDTh"}},39959:e=>{"use strict";e.exports={className:{default:{unusualDiscountPill:"D_F ab_C r_BN J_Z1e9hjJ M_Z1kkfxo",unusualDiscountPillText:"D_F ab_C W_7ILB H_6DUj y_jyw3a A_fFR u_b gp_1Fq47g C_Z2dxMf3"},isDarkNotHovered:{unusualDiscountPillText:"C_Z287E9E"},isDarkHovered:{unusualDiscountPillText:"C_Z287E9E"}},_key:"tTjF4"}},64681:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",forwardIcon:"cAll3f_0 cAll3M_T cAll3x_0 cAll3N_P cAll33_F cZ1QVRpD_0 cZ1QVRrR_C cAll30_0 cAll3m_6LEV cZ2hFlUN_ZpQYvz cZjAtd1_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{forwardIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1Uazq6"}},64343:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({ariaEmailSummary:{id:"aria_email_summary_v2",defaultMessage:"{verifiedDomain, select, true {Verified message from {yahooBrandNameString}} other {}}\n            {isRecent, select, true {Recent } other {}}\n            {isRead, select, true {} other {Unread }}\n            From: {senderNames}.\n            {formattedDate} {formattedTime}.\n            {isDraft, select, true {Draft.} other {}}\n            {attachmentsLength, plural, =0 {} one {# attachment} other {# attachments}}\n            {isStarred, select, true {Starred.} other {}}\n            Subject: {subject}.\n            Summary: {showSnippets, select, true {{snippet}.} other {}}"}})},86423:(e,t,s)=>{"use strict";s.d(t,{K:()=>d,Z:()=>_});var a=s(18685),n=s(85927),r=s(18247),o=s(31057),i=s(3405),l=s(37422),c=s(55831);const d=(e,t)=>{const{streamId:s}=t,{getAttachmentIdsByMessageId:a,getAttachmentById:d,getMessageIdsFromMessageGroupId:_,getMessagesSelectors:E,getSubjectAndSnippetSelectors:u,getFoldersSelectors:m,doesStreamExist:S,doesMessageBodyExist:p,getCursorItem:C,isStreamItemSelected:A,isFeatureEnabled:T,getSetting:I,getRouteName:h,getAccountSelectors:g,getAccountIdByFolderId:O,getMessageGroupParticipantsInfo:D,getMessageFlags:R,getMessagesFlagSelectors:N,getMessageFolderId:L,isDraftFolder:f,getMessageCsid:M,isPermDeleteFolderType:P,getCouponsSelectors:b,getCategoryFollowingSelectors:y,getCardGroupsSelectors:v,getCardConversationIdByMessageId:F,hasSelectedStreamItems:U,getStorefrontBrandsSelectors:k,isStorefrontRoute:w,isTrashMessage:G,isSpamMessage:H,enableSmartReply:B,getFeaturesSelectors:x,getCardConversationIdsFromMessageGroupId:V}=(0,n.selectors)(e),{getSetting:Z}=x(),{groupId:W,listId:K,relevantMessageId:z,recentMessageId:Y,firstMessageId:j}=t,q=g(),{getPrimaryFolderTypeByFolderId:X}=m(),{getSubject:Q,getSnippet:J}=u(),{shouldNudgeToReply:$,isOfficialDomain:ee,isCertifiedDomain:te,getSchemaOrg:se,getDecos:ae}=E(),{isMessageReadByContext:ne}=N(),re=_(W),oe=(0,o.Fh)(K),ie=oe?X(oe):void 0,le=!T(l.ANe.CONVERSATIONS),ce=S(s)&&C(s)||{},de={id:W,listId:K},_e=ie===l.Sck.INBOX,Ee=S(s)&&U(s),ue=!!Ee&&A(s,de),me=ce.id===de.id&&ce.listId===de.listId,Se=ue||me&&!Ee,pe=V(W)||[],Ce=ae(re[0]);let Ae=!1,Te=!1,Ie=!1,he=!0,ge=!0,Oe=!1,De=!1,Re=[],Ne="",Le=!1,fe=!1;const Me=T(l.ANe.UNUSUAL_DISCOUNT)&&(0,c.m3)(Ce,l.Jd6.XDL);re.forEach((e=>{const t=R(e),s=L(e),a=se(e);if(T(l.ANe.TAX_SEASON_MESSAGE_TAG)&&(Le=(0,r.EK)({schemas:a})),t.answered&&(Ae=!0,Te=!1),t.forwarded&&(Ae=!1,Te=!0),t.flagged&&(Ie=!0),t.read||(he=!1),T(l.ANe.PINNED_EMAILS)){const t=I(l.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS);fe=t.some((t=>t.startsWith(`${e}${l.Vky}`)))}ne(e,K)||(ge=!1),De=De||f(s)}));const Pe=L(z),be=O(Pe),ye=re[re.length-1],ve=B(W,ye),{isCategoryFollowed:Fe,isCategoryListLoaded:Ue}=y(),ke=q.getAccountDescriptionByAccountId(be),we=q.getProviderFromAccount(be),Ge=T(l.ANe.RSVP),He=1===re.length&&f(Pe)?(0,i.fq)(t.listId,M(re[0])):(0,i.m9)(t.listId,t.groupId);let Be=!0;T(l.ANe.NUDGE_TO_REPLY_ELIGIBLE)&&T(l.Zrf.NUDGE_TO_REPLY_SETTING)&&(Oe=$(ye)&&!G(ye)&&!H(ye)&&!R(ye).answered,Oe&&(Be=!1));const{doesDealExist:xe,getUnusualDiscount:Ve,getCouponCategoriesForMessageGroup:Ze}=b(),We=Ze(W);if(_e&&p(ye)+Ue()>=[l.ANe.DEALS,l.ANe.UNUSUAL_DISCOUNT].filter((e=>T(e))).length&&(Be&&T(l.ANe.SHOW_USER_FOLLOWED_CATEGORIES)&&(Re=We.filter((e=>Fe(e.id))),Re.length>0&&(Be=!1)),Be&&T(l.ANe.UNUSUAL_DISCOUNT))){const{getMessageIdsFromCardGroupId:e}=v(),t=(e(F(z))||[]).filter((e=>xe(e))).find((e=>!!Ve(e)));t&&(Ne=Ve(t))}const Ke={};if(w()){var ze;const{getAllStorefrontBrands:e}=k(),t=e();Ke.currentBrandId=(0,o.Yy)(K),Ke.currentBrandPosition=t.findIndex((e=>e.brandId===Ke.currentBrandId)),Ke.currentBrandBadge=null===(ze=t[Ke.currentBrandPosition])||void 0===ze?void 0:ze.newDealsCount}return{messageIds:re,subject:Q(j||z,K),snippet:J(Y||z,K),isRead:he,isRecent:ge,isReplied:Ae,isForwarded:Te,isStarred:Ie,getParticipantsInfo:()=>D(W,K),active:me,selected:ue,showHighlightColor:Se,isOfficialDomain:ee(z),isCertifiedDomain:te(z),showSnippets:T(l.Zrf.SNIPPETS),messageListDensity:I(l.Zrf.MSG_LIST_DENSITY),listItemHeight:Z(l.Zrf.LIST_ITEM_HEIGHT,{isMessageTag:Le||Me}),isSpam:ie===l.Sck.BULK,hasDraft:De,showContactSearch:(e=[])=>1===((0,r.ln)(e)||[]).length&&1===re.length&&!(0,o.lG)(K),showSubjectSearch:le,showDestinationLabel:()=>h()===l.n8z.SEARCH,productCategoryList:Re,folderId:Pe,folderType:ie,getAttachments:()=>{const e=re.reduce(((e,t)=>e.concat(a(t).map(d))),[]).filter((({filename:e})=>e)),t=e.map((e=>e.filename+e.size));return e.filter((({filename:e,size:s},a)=>a===t.indexOf(e+s)))},accountProvider:we,accountDescription:ke,rsvpEnabled:Ge,messageRoute:He,permanentDelete:!!oe&&P(oe),showNudgeToReply:Oe,unusualDiscount:Ne,fullGPTCategoryList:We,isStorefrontRoute:w(),currentStorefrontBrand:Ke,showSmartReply:ve,showOfficialDomainLogo:T(l.ANe.SHOW_OFFICIAL_DOMAIN_LOGO),showTodoOnboardingCue:T(l.ANe.TODO_ONBOARDING_CUE_PART2),highlightSearchResultsPage:T(l.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),isTaxMessage:Le,decos:Ce,ccid:pe,isGreatSavingMessage:Me,isPinned:fe}},_=(0,a.connect)(d,void 0,void 0,{areStatePropsEqual:(e,t)=>e.messageIds===t.messageIds&&e.folderId===t.folderId&&e.isRead===t.isRead&&e.isRecent===t.isRecent&&e.isReplied===t.isReplied&&e.isForwarded===t.isForwarded&&e.isStarred===t.isStarred&&e.tabIndex===t.tabIndex&&e.selected===t.selected&&e.active===t.active&&e.listItemHeight===t.listItemHeight&&e.showNudgeToReply===t.showNudgeToReply&&e.brandId===t.brandId&&e.showTodoOnboardingCue===t.showTodoOnboardingCue&&e.isTaxMessage===t.isTaxMessage&&e.productCategoryList.length===t.productCategoryList.length&&!!e.unusualDiscount==!!t.unusualDiscount&&e.isPinned===t.isPinned})},81680:e=>{"use strict";e.exports={className:{default:{container:"r_P p_R D_F A_6FIA i_6LEV Y_eo6",check:"k_w D_F ab_CI gl_C P_Pmuoy",checkbox:"P_Z1S5Ugg",starButtonStyle:"P_3HLUz E_0",attachmentIcon:"D_F ek_BB gl_CH i_0",gridB1:"H_6D6F P_2v4Pah k_w D_F ek_BB W_6LEV Q_689y ab_C",participants:"o_h J_x G_AY",dateWrapper:"s_7jIs M_3gJOe A_6DUj i_6FIA c1AVi73_6EWk c1AVi7H_6LEV D_F gl_CH C_Z281SGl",message:"em_N D_F ek_BB gl_CI o_h N_eo6",senderRow:"D_F gl_FM je_fq7",groupSection:"D_F o_h a_e91",bottomRight:"D_F J_x a_faw gl_FM",infoGroup:"D_F o_h ek_BB",subject:"A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV J_x",snippet:"A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV C_Z1YRXYn J_x G_e",messageCount:"D_X P_3gJiI Q_fq7 e_fFR A_6DUj i_6FIA c1AVi73_6EWk c1AVi7H_6LEV I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"J_x C_ZnTFMv s_6NIX A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69 Q_fq7",senders:"D_F o_h G_e en_N ab_CI A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV",highlightedTerm:"I_Z1gjd5v D_X P_3zDxc",trashIconContainer:"D_F gl_C ab_C",ybadgeIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",trustedIcon:"P_0 W_6LEV H_6LEV D_F ab_C gl_C",readIcon:"d_6LEV",extractedInfo:"A_6EqO c1AVi73_6FsP",contactSearchIcon:"Y_67SN",addLinkedTodoIcon:"Y_67SN Q_eo6 P_dRA",messageTag:"cdPFi_Z2dxMf3 C_Z2dxMf3 je_e8l A_6DUj"},"isRecent-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},hasAttachment:{attachmentIcon:"s_6LEV M_3gJOe"},"themeMode-DARK":{highlightedTerm:"I_a0xJ8",messageCount:"C_ZkbNhI I_ak5j5",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",selected:"I_iJ8JF I4_iJ8JF",messageTag:"cdPFi_Z287E9E C_Z287E9E"},useTouchTargets:{check:"Q_eo6 W_6UbO gl_FO I_T",message:"N_74JI",starIcon:"p_a B_dRA R_eo6"},"msgListDensity-1":{gridB1:"je_eo6",check:"je_dm5",senderRow:"H_6FYl je_eo6",starButtonStyle:"Y_67SN",subject:"Y_dRA",highlightedTerm:"P_0"},"msgListDensity-2":{senderRow:"H_6FYl je_fam",subject:"Y_dRA"},"msgListDensity-3":{message:"i_6LEV",subject:"i_6LEV",snippet:"i_6LEV",check:"je_eo6",gridB1:"je_fq7",senders:"i_6LEV",messageCount:"P_Z1Felua"}},_key:"Z1asor7"}},50214:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",check:"W_6EGz H_6EGz q_ZpQYvz M_1F09u0",gridB1:"D_F H_6D6F a_3vhr3 em_pG ej_0",gridB2:"D_F o_h H_6D6F em_tK ej_0 ek_BB Y_6EqO",senderRow:"D_F H_6Eb4 gl_FM W_f7Y",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B",date:"q_ZpQYvz W_djH H_6Eb4 e_3mS2U D_B",subject:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_6DEy",snippet:"q_ZpQYvz W_f7Y H_6Eb4 e_3mS2U D_B Y_fq7"},isDarkMode:{container:"bj_a0xJ8",check:"q_7l9bL",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"Z1TNzzn"}},64732:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA c1AVi73_6FsP c1AVi7H_6LEV o_h X_eo6 Y_eo6",check:"en_0 i_0 E_689y Z_f8a k_w",readIcon:"M_SkAgv",ybadgeIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",trustedIcon:"P_0 M_SkAgv W_6LEV H_6LEV D_F en_0 em_0 ab_C gl_C",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj c1AVi73_6EWk C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",snippetContainer:"Q_fq7 en_qh",snippet:"C_Z1YRXYn",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 s_6NIX Q_fq7 C_ZnTFMv",messageDestinationLabel:"M_3gJOe W_7yHc en_0",messageTag:"cdPFi_Z2dxMf3 C_Z2dxMf3 A_3TcCH",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",extractedInfo:"s_CD"},hideCheckbox:{readIcon:"M_bKjpP",ybadgeIcon:"M_bKjpP",trustedIcon:"M_bKjpP"},"isRecent-false":{subject:"u_Z13VSE6",participants:"u_Z13VSE6",participantSolo:"u_Z13VSE6"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},activateDarkThemeMode:{container:"C_ZnIF8Y",highlightedTerm:"I_a0xJ8",messageCount:"C_ZkbNhI I_ak5j5",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",messageTag:"cdPFi_Z287E9E C_Z287E9E"}},_key:"Z2sVeCu"}},11388:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_ZpQYvz p_R o_h X_eo6",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",sender:"q_ZpQYvz W_elI H_6Eb4 e_3mS2U D_B M_1FEVlA",subject:"q_ZpQYvz W_eRe H_6Eb4 e_3mS2U D_B M_1FEOne",date:"q_ZpQYvz W_d3W H_6Eb4 e_3mS2U D_B M_1FEoi4"},isDarkMode:{container:"bj_a0xJ8",sender:"q_7l9bL",subject:"q_7l9bL",snippet:"q_7l9bL",date:"q_7l9bL"}},_key:"1xLozn"}},93603:e=>{"use strict";e.exports={className:{default:{link:"D_B bn_dBP bm_FJ bj_ZpQYvz I4_Z1gjdjJ",highlight:"I_Z1gjd50",active:"p_R",contextMenuAnchor:"p_a",contextMenuContainer:"s_3qWeB"},activateDarkThemeMode:{link:"C_ZpQYvz bj_a0xJ8 is_26ISAR cZdTOHS_ZXgLQ3 I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"ZzzFxJ"}},4274:e=>{"use strict";e.exports={className:{default:{highlightedTerm:"I_ZkchTG D_X",highlightedTermDarkMode:"I_ZkchTG D_X C_6Lklp"}},_key:"24I6wN"}},74960:e=>{"use strict";e.exports={className:{default:{tabs:"P_1g7oPJ M_0 m_Z14vXdP D_F"},"themeMode-DARK":{tabs:"m_Z6DFj8"}},_key:"Z12uiOC"}},3029:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 C_Z1YRXYn A_6EqO u_b c1AVi7a_73HH c1AVi73_6FsP c1AVi7H_6LEV",listDivider:"W_6D6F H_dRA I_ZpQYvz M_Z3ND8M",couponHeader:"u_b C_Z281SGl E_eo6 A_6EWk c1AVi73_6FYl"},shadow:{container:"I_ZkbNhI j_1OUMqq"},leftPadded:{container:"X_6MGW"},stickyTimechunk:{container:"X_6MGW U_dRA"},fixedInTravelCard:{container:"X_6MGW"},gray:{container:"D_F ab_C I_ZnIF8Y A_6EGz i_6FIA c1AVi7H_6LEV u_N C_Z1VRqsb N_6Fd5 X_6Fd5 je_0 m_Z14vXdP"},longAndWideDivider:{container:"je_0 X_0 U_6Fd5",listDivider:"H_eo6 U_6LEV"},spacedHeader:{container:"je_6LEV U_fq7"},isDarkThemeMode:{container:"I_T C_ZkbNhI",listDivider:"I_a0xtn",couponHeader:"C_ZkbNhI"},flex:{container:"D_F ab_C gl_FM"},couponSeparator:{container:"gl_BZ"},isTimechunk:{container:"D_F ab_C"}},_key:"29Yblk"}},75018:e=>{"use strict";e.exports={className:{default:{container:"q_ZkbNhI D_F ab_C gl_C H_7ceA"},"themeMode-DARK":{container:"q_T"}},_key:"Z1LKhSv"}},10769:e=>{"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_1BKo3v Z_qc p_a I_Z29WjXl ah_5h53M",loadingBarEnd:"W_6D6F h_ZEpajT H_dRA Z_qc p_a I_Z29WjXl ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"1OA0Ha"}},46533:e=>{"use strict";e.exports={className:{default:{messageCount:"e_fFR A_6DUj c1AVi73_6EWk",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"1DxMT7"}},44526:e=>{"use strict";e.exports={className:{default:{messageDestinationLabel:"o_h J_x G_e"}},_key:"Z24rH8W"}},33801:e=>{"use strict";e.exports={className:{default:{messageTag:"D_F ab_C y_jyw3a u_b gp_1Fq47g M_Z1kkfxo r_BN",messageTagText:"D_F ab_C X_e8l M_Z1kkfxo W_7ILB H_6DUj"}},_key:"Z1fc7Y1"}},5026:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>He,p7:()=>we});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(56971),l=s(67498),c=s(28182),d=s(76531),_=s(77078),E=s(65304),u=s(9333),m=s(94482),S=s(8470),p=s(31509),C=s(11160),A=s(18030),T=s(37422),I=s(79483),h=s(92559),g=s(9026),O=s(10728),D=(s(95406),s(25629)),R=s.n(D);const N=(0,o.defineMessages)({select_group_messages:{id:"selection_controls_group.menu",defaultMessage:"Menu, select groups of messages. Press Enter to expand menu. Press right arrow for more functions"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"}});class L extends r.Component{constructor(e){super(e),this.handleCheckboxClicked=this.handleCheckboxClicked.bind(this)}handleCheckboxClicked(e){e.preventDefault();const{onSelectNone:t,onSelectAll:s,selectedItemsCount:a,streamId:n}=this.props;a>0?t(n):(s(n),I.ZP.sendI13nModel({i13nModel:{mKey:h.JE.TOOLBAR_BULK_SELECT_MESSAGE,sec:h.nJ.MSG_LIST_BULK_ACTION,interactionType:h.Rb.click}}))}render(){const{selectedItemsCount:e,previewpane:t,checkboxType:s,streamId:a,tabIndex:n,isStorefrontRoute:I,isConversationMode:h,disabled:D}=this.props,L=!I&&this.context.getThemeMode()===g.zg.DARK,f=this.context.getCss(R(),{activateDarkThemeMode:L}),{formatMessage:M,formatNumber:P}=this.context.intl,b=e;return r.createElement("div",{className:f.container},r.createElement("ul",{className:f.list},r.createElement(m.Z,{kind:_.F.MESSAGE_SELECTION_CHECKBOX},r.createElement("span",{className:f.checkboxWrapper},r.createElement(i.Z,{isSelectionControlGroup:!0,type:s,highContrast:!0,isInverted:L,isOnDarkBackground:L,"data-iskeynav":!0,paddingLess:!0,onClick:e=>this.handleCheckboxClicked(e),tabIndex:n,disabled:D,selectionCount:P(b)}))),r.createElement(m.Z,{kind:_.F.MESSAGE_SELECTION_CHEVRON},r.createElement(C.Z,null,r.createElement(p.Z,null,r.createElement("span",{className:f.chevronWrapper},r.createElement(u.default,{kind:d.Kinds.CHEVRON_UP,size:d.Sizes.XS,rotate:d.Rotate.D180,title:M(N.select_group_messages),"aria-label":M(N.select_group_messages),colorState:d.ColorStates.INHERITED,isOnDarkBackground:L,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0,disabled:D}))),r.createElement(A.ZP,{permittedArrowDirections:[E.Ji.UP,E.Ji.DOWN],triggerOn:E.K2.CLICK,offset:4*O.mg$,align:E.xM.START,zAltitude:O.LSY.POPOVER.HIGH},r.createElement("div",{className:f.popoverListWrapper},r.createElement(S.Z,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},r.createElement(m.Z,{name:"select-all"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectAll(a),"data-test-id":"select-all-btn"},r.createElement(o.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),r.createElement(m.Z,{name:"select-none"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectNone(a),"data-test-id":"select-none-btn"},r.createElement(o.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),r.createElement(m.Z,{name:"select-read"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectAllRead(a),"data-test-id":"select-all-read-btn"},r.createElement(o.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),r.createElement(m.Z,{name:"select-unread"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectAllUnread(a),"data-test-id":"select-all-unread-btn"},r.createElement(o.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),r.createElement(m.Z,{name:"select-starred"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectAllStarred(a),"data-test-id":"select-all-starred-btn"},r.createElement(o.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),r.createElement(m.Z,{name:"select-unstarred"},r.createElement(l.Z,{kind:c.F.MENUITEM,onClick:()=>this.props.onSelectAllUnstarred(a),"data-test-id":"select-all-unstarred-btn"},r.createElement(o.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),r.createElement(m.Z,null,r.createElement("div",{"aria-live":"polite",id:"announcedSelectionCount"},t===T.EsZ.NO&&b>0?r.createElement(r.Fragment,null,r.createElement("span",{"aria-hidden":!0},P(b)),r.createElement("span",{className:f.accessible},r.createElement(o.FormattedMessage,{id:"selection_controls.selectionCountAnnouncement",defaultMessage:"{isConversationMode, select, true {{count, plural, one {conversation} other {# conversations} }} false {{count, plural, one {message} other {# messages} }} } selected.",values:{isConversationMode:h,count:b}}))):null))))}}var f,M,P;P={tabIndex:-1},(M="defaultProps")in(f=L)?Object.defineProperty(f,M,{value:P,enumerable:!0,configurable:!0,writable:!0}):f[M]=P,L.contextTypes={intl:o.intlShape.isRequired,getCss:n().func,getThemeMode:n().func};const b=L;function y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const v=(0,o.defineMessages)({archive_selected_msgs:{id:"archive_selected_msgs",defaultMessage:"Archive the selected {conversations, select, true {conversations} false {messages}}"}});class F extends r.Component{constructor(...e){super(...e),y(this,"_renderLabel",(()=>r.createElement(o.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n,conversations:o}=this.props,i=e(v.archive_selected_msgs,{conversations:o}),l=this.context.getThemeMode()===g.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive","aria-label":i,title:i,kind:d.Kinds.ARCHIVE,disabled:t,onClick:s,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:l,isCompact:n},a&&this._renderLabel())}}y(F,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func}),y(F,"defaultProps",{showLabel:!0,conversations:!1});const U=F;function k(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const w=(0,o.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"}});class G extends r.Component{constructor(...e){super(...e),k(this,"_renderLabel",(()=>r.createElement(o.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n,conversations:o}=this.props,i=e(w.restore_msgs,{conversations:o}),l=this.context.getThemeMode()===g.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-archive-restore","aria-label":i,title:i,kind:d.Kinds.RESTORE_TO_INBOX,disabled:t,onClick:s,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:l,isCompact:n},a&&this._renderLabel())}}k(G,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func}),k(G,"defaultProps",{showLabel:!0,conversations:!1});const H=G;var B=s(44528);function x(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const V=(0,o.defineMessages)({perm_delete_selected_msgs:{id:"perm_delete_selected_msgs",defaultMessage:"Permanently delete the selected {conversations, select, true {conversations} false {messages}}"},delete_selected_msgs:{id:"delete_selected_msgs",defaultMessage:"Delete the selected {conversations, select, true {conversations} false {messages}}"}});class Z extends r.Component{constructor(...e){super(...e),x(this,"_renderLabel",(()=>r.createElement(o.FormattedMessage,{id:"delete_button.delete_label",defaultMessage:"Delete"})))}render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:s,onClick:a,showLabel:n,isCompact:o,conversations:i}=this.props,l=e(t?V.perm_delete_selected_msgs:V.delete_selected_msgs,{conversations:i}),c=t?"perm-delete":"delete",_=this.context.getThemeMode()===g.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":l,title:l,kind:d.Kinds.DELETE,disabled:s,onClick:a,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:_,isCompact:o},n&&this._renderLabel())}}x(Z,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func}),x(Z,"defaultProps",{showLabel:!0,conversations:!1});const W=Z;function K(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const z=(0,o.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"}});class Y extends r.Component{constructor(...e){super(...e),K(this,"_renderLabel",(()=>r.createElement(o.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n}=this.props,o=e(z.mark_msgs_as_spam),i=this.context.getThemeMode()===g.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-spam","aria-label":o,title:o,kind:d.Kinds.SPAM,disabled:t,onClick:s,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}K(Y,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func}),K(Y,"defaultProps",{showLabel:!0});const j=Y;function q(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const X=(0,o.defineMessages)({mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class Q extends r.Component{constructor(...e){super(...e),q(this,"_renderLabel",(()=>r.createElement(o.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:s,showLabel:a,isCompact:n}=this.props,o=e(X.mark_msgs_as_not_spam),i=this.context.getThemeMode()===g.zg.DARK;return r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-not-spam","aria-label":o,title:o,kind:d.Kinds.SPAM,disabled:t,onClick:s,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())}}q(Q,"contextTypes",{intl:o.intlShape.isRequired,getThemeMode:n().func}),q(Q,"defaultProps",{showLabel:!0});const J=Q;var $=s(87771),ee=s(26),te=s(36920),se=s.n(te);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const ne=(0,o.defineMessages)({more_button_title:{id:"more_button_title",defaultMessage:"More options"}});class re extends r.Component{constructor(e){super(e)}_renderLabel(){return r.createElement(o.FormattedMessage,{id:"more_button",defaultMessage:"More"})}render(){const{formatMessage:e}=this.context.intl,{disabled:t,showLabel:a,isCompact:n}=this.props,o=e(ne.more_button_title),i=this.context.getThemeMode()===g.zg.DARK,l=this.context.getCss(se());return r.createElement(C.Z,{className:l.popoverContainer},r.createElement(p.Z,null,r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-more","aria-label":o,title:o,kind:d.Kinds.MORE,disabled:t,size:d.Sizes.XS,colorState:d.ColorStates.INHERITED,isOnDarkBackground:i,isCompact:n},a&&this._renderLabel())),r.createElement(A.ZP,{triggerOn:E.K2.CLICK,permittedArrowDirections:[E.Ji.UP,E.Ji.DOWN],zAltitude:O.LSY.POPOVER.HIGH},r.createElement($.cr,ae({import:"../action_menu_items/index"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82175))},_moduleResolver:function(){return 82175}}),r.createElement($.nA,{loading:!0},r.createElement(ee.Z,null)))))}}re.contextTypes={intl:o.intlShape.isRequired,getThemeMode:n().func,getCss:n().func},re.defaultProps={showLabel:!1};const oe=re;var ie=s(41111),le=s(42698),ce=s.n(le),de=s(68003);const _e=(e,t)=>{const{renderSelectionControls:s,renderListFilter:a,renderTriageActions:n,renderSortMenu:o,renderConfirmDialog:i,enableTriageActions:l,activateDarkThemeMode:c,renderEmailsToMyselfMailBoxSelector:d}=e,_=t.getCss(ce(),{activateDarkThemeMode:c});return r.createElement(de.Z,{axis:de.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:O.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:_.container,"data-test-id":"message-toolbar"},s(_),d(),a(_),r.createElement("div",{className:_.mainActionControls},r.createElement("div",{className:l?_.actionListActive:_.actionListDefault},n(_))),o(_),i())};_e.contextTypes={getCss:n().func};const Ee=_e,ue=(e,t)=>{const{renderSelectionControls:s,renderTriageActions:a,renderSortMenu:n,renderSingleGroupActions:o,renderUsabiltyOptions:i,renderConfirmDialog:l,previewpane:c,enableGroupActions:d,enableTriageActions:_,horizontalOffset:E,renderListFilter:u,previewpaneInPixels:m,activateDarkThemeMode:S,renderEmailsToMyselfMailBoxSelector:p}=e,C=t.getCss(ce(),{previewpane:c,groupActionsActive:d,previewpaneInPixels:m,activateDarkThemeMode:S}),A={flexBasis:E>100&&m?`${E}px`:`${E}%`};return r.createElement(de.Z,{axis:de.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:O.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:C.container,"data-test-id":"message-toolbar"},r.createElement("div",{className:C.leftHalfContainer,style:A},r.createElement("div",{className:C.leftGrid},s(C),p(),u(C)),n(C)),r.createElement("div",{className:C.rightHalfContainer},o(C),r.createElement("div",{className:C.mainActionControls},r.createElement("div",{className:_?C.actionListActive:C.actionListDefault},a(C))),i(C),l()))};ue.contextTypes={getCss:n().func};const me=ue,Se=(e,t)=>{const{renderSelectionControls:s,renderListFilter:a,renderTriageActions:n,renderSortMenu:o,renderSingleGroupActions:i,renderUsabiltyOptions:l,renderConfirmDialog:c,previewpane:d,enableGroupActions:_,enableTriageActions:E,activateDarkThemeMode:u,renderEmailsToMyselfMailBoxSelector:m}=e,S=t.getCss(ce(),{previewpane:d,groupActionsActive:_,activateDarkThemeMode:u});return r.createElement(de.Z,{axis:de.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:O.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar",className:S.container,"data-test-id":"message-toolbar"},s(S),m(),a(S),i(S),r.createElement("div",{className:S.mainActionControls},r.createElement("div",{className:E?S.actionListActive:S.actionListDefault},n(S))),l(S),o(S),c())};Se.contextTypes={getCss:n().func};const pe=Se;var Ce=s(17016),Ae=s(31057),Te=s(18685),Ie=s(85927),he=s(55831);const ge=["d","shift+d","r","a","f","p","escape"],Oe=(0,Te.connect)(((e,t)=>{const{listId:s,streamId:a,actions:n,route:r}=t,{getCursorItem:o,getSelectedStreamItems:i,doesStreamExist:l,getStreamSelectionType:c,isAllCardsExpanded:d,canShowToolbarItem:_,canEnableToolbarItem:E,shouldEnableGroupActions:u,shouldEnableTriageActions:m,getListsSelectors:S,isPermDeleteFolderType:p,getAvailableSortOrders:C,isFeatureEnabled:A,getNumberOfSelectedItemsInList:I,getFeaturesSelectors:h,isStorefrontRoute:O,getMessageIdsFromMessageGroupId:D,getMessagesSelectors:R,isSpamMessage:N,isTrashMessage:L,isSpamFolder:f}=(0,Ie.selectors)(e),{getItemIdsSelectors:M}=S(),P=l(a),b=P?i(a):[],y=P?o(a):void 0,v=!!P&&c(a)===T.ie0.BULK,F=I(s),U=F>0?b:[];y&&0===F&&U.push(y);const k=F>0&&M(s).getItemIds().length===b.length,w=(0,Ae.Fh)(s),G=!!y&&d(y.listId,y.id);let H=T.zae.NONE;const B=h(),x=B.getSetting(T.Zrf.BULK_ACTION_DIALOG_THRESHOLD),V=F>=x,Z=A(T.ANe.SELECT_ALL)&&V;F&&k?H=T.zae.ALL:F&&(H=T.zae.PARTIAL);const W=A(T.ANe.PREVIEW_PANE_IN_PIXELS),K=B.getSetting(T.Zrf.THEME_MODE)===g.zg.DARK,z=U.map((({id:e})=>e)),Y=1===z.length?D(z[0]):[],j=1===Y.length&&Y[0]||"",q=Boolean(A(T.ANe.UNSUBSCRIBE_FROM_MESSAGE)&&j&&(0,he.m3)(R().getDecos(j),T.Jd6.USB)&&!N(j)&&!L(j)&&A(T.ANe.UNSUBSCRIBE_FOR_SPAM)),X=(0,Ae.ju)(r),Q=O();return{listenKeys:ge,canShowToolbarItem:_(a),canEnableToolbarItem:E(a),allItemsSelected:k,selectAllBulkEnabled:Z,selectedItemsCount:F,cursorItem:y,allCardsExpanded:G,permanentDelete:!!w&&p(w),enableGroupActions:u(a),enableTriageActions:m(a),currentSortOrder:(0,Ae.WW)(t.listId),availableSortOrders:C(),checkboxType:H,routeName:r.name,enableSingleGroupActions:1===U.length,previewpaneInPixels:W,...n.TOOLBAR,bulkActionDialogThreshold:x,isStorefrontRoute:Q,hideSortMenu:Q||(0,Ae.n4)(r)&&(0,Ae.C4)(s)!==T.ukn.ALL_INBOX,mid:j,showUnsubscribeFlowForSpam:q,isDarkTheme:K,isSelectAll:v,emailsToMyselfView:X,isSpamFolder:f}}));var De=s(44865),Re=s(43007),Ne=s(91869),Le=s(77163),fe=s(18446),Me=s.n(fe),Pe=s(57557),be=s.n(Pe),ye=s(549),ve=s(66462),Fe=s(27077),Ue=s(45686);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const we=e=>{e.stopPropagation(),e.preventDefault()};class Ge extends r.Component{constructor(e){super(e),this.componentRenderers={renderTriageActions:this.renderTriageActions.bind(this),renderEmailsToMyselfMailBoxSelector:this.renderEmailsToMyselfMailBoxSelector.bind(this),renderSelectionControls:this.renderSelectionControls.bind(this),renderSortMenu:this.renderSortMenu.bind(this),renderSingleGroupActions:this.renderSingleGroupActions.bind(this),renderUsabiltyOptions:this.renderUsabiltyOptions.bind(this),renderListFilter:this.renderListFilter.bind(this),renderConfirmDialog:this.renderConfirmDialog.bind(this)},this.state={moveMenuActive:!1,moveMenuFilterFocused:!1,confirmState:null},this.handleSort=this.handleSort.bind(this),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleMoveMenuShow=this.handleMoveMenuShow.bind(this),this.handleMoveMenuHide=this.handleMoveMenuHide.bind(this),this.handleMoveMenuToggle=this.handleMoveMenuToggle.bind(this),this.handleReplyForward=this.handleReplyForward.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleSpam=this.handleSpam.bind(this),this.handleHam=this.handleHam.bind(this),this.handleRestoreToInbox=this.handleRestoreToInbox.bind(this),this.handleMove=this.handleMove.bind(this),this.handleClosePreviewMessage=this.handleClosePreviewMessage.bind(this),this.handleExpandContractClick=this.handleExpandContractClick.bind(this),this.hideConfirm=this.hideConfirm.bind(this),this.handlePrint=this.handlePrint.bind(this)}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts)}shouldComponentUpdate(e,t){const s=this.props.previewpane!==T.EsZ.NO&&this.props.allCardsExpanded!==e.allCardsExpanded,a=["canShowToolbarItem","canEnableToolbarItem","allCardsExpanded"];return this.props.routeName===e.routeName&&e.routeName!==T.n8z.SEARCH&&a.push("cursorItem"),!Me()(be()(this.props,a),be()(e,a))||!Me()(this.state,t)||s}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys)}handleShortcuts(e){we(e);const t=e.which||e.keyCode||-1,s=String.fromCharCode(t).toLowerCase(),{canShowToolbarItem:a,canEnableToolbarItem:n}=this.props,r=a(T.Egu.RAF),o=n(T.Egu.RAF);if(t!==Le.P.ESCAPE)switch(s){case Le.y.KEYD:n(T.Egu.MOVE)&&this.handleMoveMenuShow(e.shiftKey);break;case Le.y.KEYR:o&&r&&this.handleReplyForward(e,T.AGu.Modes.REPLY);break;case Le.y.KEYF:o&&r&&this.handleReplyForward(e,T.AGu.Modes.FORWARD);break;case Le.y.KEYA:o&&r&&this.handleReplyForward(e,T.AGu.Modes.REPLY_ALL);break;case Le.y.KEYP:this.props.enableSingleGroupActions&&this.handlePrint(e)}else{if(this.props.routeName===T.n8z.FOLDER)return;this.props.onClosePage({listId:this.props.listId,i13nModel:{mKey:h.JE.TOOLBAR_CLOSE_MSG,sec:h.nJ.MSG_READ_TOOLBAR,interactionType:(0,Ce.getInteractionFromEvent)(e)}})}}handleMoveMenuShow(e){if(!this.props.enableTriageActions)return;const t={moveMenuActive:!0};e&&(t.moveMenuFilterFocused=!0),this.setState(t)}handleMoveMenuToggle(e){e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}handleMoveMenuHide(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}handleSort(e,t){const{listId:s,onSortOrderChange:a}=this.props;a({listId:s,sortOrder:t,i13nModel:{interactionType:(0,Ce.getInteractionFromEvent)(e)}})}handleReplyForward(e,t){we(e);const{onReplyForward:s,streamId:a,listId:n}=this.props;let r,o;switch(t){case T.AGu.Modes.REPLY:r=h.JE.TOOLBAR_REPLY,o=h.rO.replyMsg;break;case T.AGu.Modes.REPLY_ALL:r=h.JE.TOOLBAR_REPLYALL,o=h.rO.replyAllMsg;break;case T.AGu.Modes.FORWARD:r=h.JE.TOOLBAR_FORWARD,o=h.rO.forwardMsg}s({streamId:a,listId:n,composeMode:t,triggeredFromMessageToolbar:!0,i13nModel:{mKey:r,sec:h.nJ.MSG_READ_TOOLBAR,mKeyGroup:o,interactionType:(0,Ce.getInteractionFromEvent)(e)}})}handleClosePreviewMessage(e){we(e);const{listId:t,streamId:s,onClosePreviewMessage:a}=this.props;a({streamId:s,listId:t,i13nModel:{mKey:h.JE.TOOLBAR_CLOSE_MSG,sec:h.nJ.MSG_READ_TOOLBAR,interactionType:(0,Ce.getInteractionFromEvent)(e)}})}handleExpandContractClick(e){we(e);const{onChangeAllMessageCardExpansion:t,listId:s,streamId:a,canShowToolbarItem:n}=this.props;t({listId:s,streamId:a,expansionState:n(T.Egu.COLLAPSEALL)?T.Lvq.COLLAPSED:T.Lvq.EXPANDED})}handleArchive(e){we(e);const{streamId:t,onArchive:s,selectedItemsCount:a,bulkActionDialogThreshold:n}=this.props;if(!this.state.confirmState&&a>=n)return void this.setState({confirmState:{title:De.Z.list_archive_title,message:De.Z.list_archive_message,onConfirm:this.handleArchive,onAbort:this.hideConfirm}});s({streamId:t,triageActionType:T.Ewo.ARCHIVE_SELECTED_ITEMS,i13nModel:{mKey:h.JE.TOOLBAR_ARCHIVE,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.archiveMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)}}),this.hideConfirm()}handleRestoreToInbox(e){we(e);const{streamId:t,moveToInbox:s}=this.props;s({streamId:t,triageActionType:T.Ewo.RESTORE_SELECTED_ITEMS,i13nModel:{mKey:h.JE.TOOLBAR_RESTORE,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.moveMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)}})}handleDelete(e){we(e);const{streamId:t,onDelete:s,permanentDelete:a,selectedItemsCount:n,bulkActionDialogThreshold:r}=this.props;if(!this.state.confirmState&&(a||n>=r))return void this.setState({confirmState:{title:De.Z.list_delete_title,message:a?De.Z.list_perm_delete_message:De.Z.list_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm}});s({streamId:t,triageActionType:T.Ewo.DELETE_SELECTED_ITEMS,i13nModel:{mKey:h.JE.TOOLBAR_DELETE,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.deleteMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)}}),this.hideConfirm()}hideConfirm(){this.state.confirmState&&this.setState({confirmState:null})}handleSpam(e){const{streamId:t,onSpam:s,selectedItemsCount:a,bulkActionDialogThreshold:n,mid:o,showUnsubscribeFlowForSpam:i,isSelectAll:l}=this.props;if(l)return;if(!this.state.confirmState&&a>=n)return void this.setState({confirmState:{title:De.Z.list_spam_title,message:De.Z.list_spam_message,onConfirm:this.handleSpam,onAbort:this.hideConfirm}});const c=(a={})=>s({streamId:t,triageActionType:T.Ewo.SPAM_SELECTED_ITEMS,i13nModel:{mKey:h.JE.TOOLBAR_SPAM,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.markSpam,interactionType:(0,Ce.getInteractionFromEvent)(e),...a}});i?(0,ye.C)(r.createElement(ve.ZP,{messageId:o,onSpam:c}),this.context):c(),this.hideConfirm()}handleHam(e){const{streamId:t,moveToInbox:s}=this.props;s({streamId:t,triageActionType:T.Ewo.NOT_SPAM_SELECTED_ITEMS,i13nModel:{mKey:h.JE.TOOLBAR_NOT_SPAM,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.markUnspam,interactionType:(0,Ce.getInteractionFromEvent)(e)}})}handleMove(e,t){const{streamId:s,onMove:a,selectedItemsCount:n,isSpamFolder:r,bulkActionDialogThreshold:o,isSelectAll:i}=this.props,l=!this.state.confirmState&&n>=o;if(i&&r(e))return;if(l)return void this.setState({confirmState:{title:De.Z.list_move_title,message:De.Z.list_move_message,onConfirm:()=>this.handleMove(e,t),onAbort:this.hideConfirm}});a({streamId:s,...{triageActionType:T.Ewo.MOVE_SELECTED_ITEMS,destinationFolderId:e,i13nModel:{mKey:h.JE.TOOLBAR_MOVE,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.moveMsg,interactionType:(0,Ce.getInteractionFromEvent)(t)}}}),this.hideConfirm()}handleOnRead(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onRead:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:De.Z.list_mark_read_bulk_title,message:De.Z.list_mark_read_bulk_messages,onConfirm:()=>this.handleOnRead(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnUnread(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onUnread:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:De.Z.list_mark_unread_bulk_title,message:De.Z.list_mark_unread_bulk_messages,onConfirm:()=>this.handleOnUnread(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnStar(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onStar:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:De.Z.list_mark_starred_bulk_title,message:De.Z.list_mark_starred_bulk_messages,onConfirm:()=>this.handleOnStar(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handleOnUnstar(e){const{moreMenuActions:t,allItemsSelected:s,selectAllBulkEnabled:a}=this.props,{onUnstar:n}=t;!this.state.confirmState&&s&&a?this.setState({confirmState:{title:De.Z.list_mark_unstarred_bulk_title,message:De.Z.list_mark_unstarred_bulk_messages,onConfirm:()=>this.handleOnUnstar(e),onAbort:this.hideConfirm}}):(n(e),this.hideConfirm())}handlePrint(e){e.preventDefault();const{moreMenuActions:t,streamId:s,listId:a}=this.props,n={mKey:h.JE.TOOLBAR_PRINT,sec:h.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:h.rO.printMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};t.onPrint({i13nModel:n,streamId:s,listId:a})}renderSelectionControls(e){const{selectionActions:t,selectedItemsCount:s,previewpane:a,checkboxType:n,streamId:o,isConversationMode:i,isStorefrontRoute:l,listLength:c}=this.props;return r.createElement("div",{className:e.cboxWrapper},r.createElement("div",{className:e.selectionControlsWrapper},r.createElement(b,ke({},t,{selectedItemsCount:s,previewpane:a,checkboxType:n,streamId:o,tabIndex:O.iUz.MESSAGE_LIST_TOOLBAR,isStorefrontRoute:l,isConversationMode:i,disabled:0===c}))))}renderArchive(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,partner:n}=this.props,o=t(T.Egu.ARCHIVE,n),i=s(T.Egu.ARCHIVE);return o?r.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},r.createElement(U,{disabled:!i,showLabel:a,onClick:this.handleArchive})):null}renderRestoreToInbox(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,isConversationMode:n}=this.props,o=t(T.Egu.RESTORE),i=s(T.Egu.RESTORE);return o?r.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},r.createElement(H,{disabled:!i,showLabel:a,onClick:this.handleRestoreToInbox,isConversationMode:n})):null}renderMove(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,isSelectAll:a,showLabels:n,listId:o}=this.props,i=t(T.Egu.MOVE),l=s(T.Egu.MOVE);return i?r.createElement("div",{className:l?e.toolbarItem:e.toolbarItemDisabled},r.createElement(B.ZP,{disabled:!l,showLabel:n,listId:o,onClick:this.handleMove,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,hasShortcuts:!this.state.moveMenuFilterFocused,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,isSelectAll:a})):null}renderDelete(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,permanentDelete:n}=this.props,o=t(T.Egu.DELETE),i=s(T.Egu.DELETE);return o?r.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},r.createElement(W,{disabled:!i,showLabel:a,permanent:n,onClick:this.handleDelete})):null}renderSpam(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a,isSelectAll:n}=this.props,o=t(T.Egu.SPAM),i=s(T.Egu.SPAM)&&!n;return o?r.createElement("div",{className:i?e.toolbarItem:e.toolbarItemDisabled},r.createElement(j,{disabled:!i,showLabel:a,onClick:this.handleSpam})):null}renderHam(e){const{canShowToolbarItem:t,showLabels:s,canEnableToolbarItem:a}=this.props,n=t(T.Egu.HAM),o=a(T.Egu.HAM);return n?r.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},r.createElement(J,{disabled:!o,showLabel:s,onClick:this.handleHam})):null}renderMore(e){const{listId:t,canShowToolbarItem:s,canEnableToolbarItem:a,moreMenuActions:n,streamId:o,enableSingleGroupActions:i,selectedItemsCount:l,previewpane:c,showLabels:d,partner:_}=this.props,E=s(T.Egu.MORE),u=a(T.Egu.MORE),m={...n,onRead:e=>this.handleOnRead(e),onUnread:e=>this.handleOnUnread(e),onStar:e=>this.handleOnStar(e),onUnstar:e=>this.handleOnUnstar(e)};return E?r.createElement("div",{className:u?e.toolbarItem:e.toolbarItemDisabled},r.createElement(oe,ke({disabled:!u,showLabel:d&&_===T.Ql2.AOL},m,{listId:t,streamId:o,enableSingleGroupActions:i,selectedItemsCount:l,previewpane:c}))):null}renderSortMenu(e){return this.props.hideSortMenu?null:r.createElement("div",{className:e.viewMenu},r.createElement("div",{className:e.sortMenuContainer},r.createElement(ie.Z,{currentSortOrder:this.props.currentSortOrder,availableSortOrders:this.props.availableSortOrders,onClick:this.handleSort})))}renderTriageActions(e){const{canShowToolbarItem:t,canEnableToolbarItem:s,showLabels:a}=this.props;return r.createElement(r.Fragment,null,t(T.Egu.KEEP_AS_NEW)&&r.createElement(Fe.Z,{className:s(T.Egu.KEEP_AS_NEW)?e.toolbarItem:e.toolbarItemDisabled,disabled:!s(T.Egu.KEEP_AS_NEW),showLabel:a}),this.renderArchive(e),this.renderRestoreToInbox(e),this.renderMove(e),this.renderDelete(e),this.renderSpam(e),this.renderHam(e),this.renderMore(e))}renderEmailsToMyselfMailBoxSelector(){return this.props.emailsToMyselfView?r.createElement(Ue.Z,null):null}renderSingleGroupActions(e){const{canShowToolbarItem:t,canEnableToolbarItem:s}=this.props,a=t(T.Egu.RAF),n=s(T.Egu.RAF),{formatMessage:o}=this.context.intl,i=this.context.getThemeMode()===g.zg.DARK,l=[{kind:d.Kinds.REPLY,composeMode:T.AGu.Modes.REPLY,stringKey:"message_reply"},{kind:d.Kinds.REPLY_ALL,composeMode:T.AGu.Modes.REPLY_ALL,stringKey:"message_reply_all"},{kind:d.Kinds.FORWARD,composeMode:T.AGu.Modes.FORWARD,stringKey:"message_forward"}],c=n?e.singleGroupItem:e.singleGroupItem+" "+e.disabledItem,_=l.map((({kind:e,stringKey:t,composeMode:s})=>{const a=o(De.Z[t]);return r.createElement(m.Z,{name:e,key:e,className:c,onClick:e=>this.handleReplyForward(e,s)},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${e}`,"aria-label":a,title:a,kind:e,size:d.Sizes.XS,disabled:!n,colorState:d.ColorStates.INHERITED,isOnDarkBackground:i}))}));return a?r.createElement("div",{className:e.singleGroupActions,"data-test-id":"single-group-action"},r.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},_)):null}renderExpandMessages(e){const{canShowToolbarItem:t}=this.props,{formatMessage:s}=this.context.intl,a=this.context.getThemeMode()===g.zg.DARK,n=t(T.Egu.EXPANDALL),o=t(T.Egu.COLLAPSEALL);return n||o?r.createElement("div",{className:e.expandCollapse,"data-test-id":"expand-messages",onClick:this.handleExpandContractClick},r.createElement(u.default,{title:s(De.Z[o?"collapse_list":"expand_list"]),"aria-label":s(De.Z[o?"list_is_expanded":"list_is_collapsed"]),kind:o?d.Kinds.COLLAPSE_LIST:d.Kinds.EXPAND_LIST,size:d.Sizes.XS,paddingLess:!1,colorState:d.ColorStates.INHERITED,"data-iskeynav":!0,isOnDarkBackground:a})):r.createElement("div",{className:e.hiddenItem})}renderClosePreview(e){const{formatMessage:t}=this.context.intl,s=this.context.getThemeMode()===g.zg.DARK,{enableGroupActions:a}=this.props;return a?r.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper,onClick:this.handleClosePreviewMessage},r.createElement(u.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",kind:d.Kinds.CLOSE,size:d.Sizes.XS,disabled:!1,title:t(De.Z.close),"aria-label":t(De.Z.close),colorState:d.ColorStates.INHERITED,isOnDarkBackground:s})):null}renderUsabiltyOptions(e){return r.createElement("div",{className:e.usabiltyOptions,"data-test-id":"usabilty-options"},this.renderExpandMessages(e),this.renderClosePreview(e))}renderListFilter(e){const{onListFilterChange:t,showListFilter:s}=this.props,a=this.context.getThemeMode()===g.zg.DARK;if(!s)return null;const{formatMessage:n}=this.context.intl,o=(0,Ae.C4)(this.props.listId).toLowerCase(),i=r.createElement(m.Z,{key:o,name:"list-filter-"+o},r.createElement(l.Z,{"data-test-id":"list-filter-from",kind:c.F.MENUITEM,onClick:e=>t(e,T.ukn.FROM)},n(De.Z.list_filter_from)),r.createElement(l.Z,{"data-test-id":"list-filter-to",kind:c.F.MENUITEM,onClick:e=>t(e,T.ukn.TO)},n(De.Z.list_filter_to)),r.createElement(l.Z,{"data-test-id":"list-filter-all",kind:c.F.MENUITEM,onClick:e=>t(e,T.ukn.ALL)},n(De.Z.list_filter_all)));return r.createElement("div",{className:e.listFilterViewMenu,"data-test-id":"toolbar-list-filter"},r.createElement(C.Z,null,r.createElement(p.Z,null,r.createElement(l.Z,{"data-test-id":"toolbar-list-filter-button",kind:c.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:a},r.createElement("span",{className:e.listFilterMenu},n(De.Z["list_filter_"+o]),r.createElement(Re.Z,{kind:d.Kinds.CHEVRON_UP,size:d.Sizes.XS,rotate:d.Rotate.D180,colorState:d.ColorStates.INHERITED})))),r.createElement(A.ZP,{triggerOn:E.K2.CLICK,hideOnContentClick:!0,offset:5*O.mg$,align:E.xM.CENTER,zAltitude:O.LSY.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},r.createElement("div",{className:e.popoverListWrapper},r.createElement(S.Z,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},i)))))}renderConfirmDialog(){if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl;let s=0;this.props.selectedItemsCount>0?s=this.props.selectedItemsCount:this.props.cursorItem&&(s=1);const a={conversations:this.props.isConversationMode,count:s};return r.createElement(Ne.Z,{title:t(e.title),message:t(e.message,a),onConfirm:e.onConfirm,onAbort:e.onAbort})}render(){const{previewpane:e,isStorefrontRoute:t}=this.props,s=!t&&this.context.getThemeMode()===g.zg.DARK;switch(e){case T.EsZ.RIGHT:return r.createElement(me,ke({},this.componentRenderers,this.props,{activateDarkThemeMode:s}));case T.EsZ.BOTTOM:return r.createElement(pe,ke({},this.componentRenderers,this.props,{activateDarkThemeMode:s}));default:return r.createElement(Ee,ke({},this.componentRenderers,this.props,{activateDarkThemeMode:s}))}}}Ge.defaultProps={isConversationMode:!1},Ge.contextTypes={intl:o.intlShape.isRequired,navigateTo:n().func.isRequired,getThemeMode:n().func,bindShortcut:n().func,unbindShortcut:n().func,getCss:n().func,getTheme:n().func,executeAction:n().func,getStore:n().func,store:n().object};const He=Oe(Ge)},44865:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},close:{id:"close",defaultMessage:"Close"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},list_filter_from:{id:"list.filter_from",defaultMessage:"From"},list_filter_to:{id:"list.filter_to",defaultMessage:"To"},list_filter_all:{id:"list.filter_all",defaultMessage:"All"},list_delete_title:{id:"list.confirm_delete_title",defaultMessage:"Delete message"},list_delete_message:{id:"list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},list_perm_delete_message:{id:"list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},list_bulk_delete_message:{id:"list.confirm_bulk_delete_messages",defaultMessage:"Are you sure you want to delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},list_archive_title:{id:"list.confirm_archive_title",defaultMessage:"Archive message"},list_archive_message:{id:"list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive all {conversations, select, true {conversations} false {messages}}?"},list_move_title:{id:"list.confirm_move_title",defaultMessage:"Move message"},list_move_message:{id:"list.confirm_move_messages",defaultMessage:"Are you sure you want to move all {conversations, select, true {conversations} false {messages}}?"},list_spam_title:{id:"list.confirm_spam_title",defaultMessage:"Spam message"},list_spam_message:{id:"list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as spam?"},list_mark_read_bulk_title:{id:"list_mark_read_bulk_title",defaultMessage:"Mark messages read"},list_mark_read_bulk_messages:{id:"list_mark_read_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} as read?"},list_mark_unread_bulk_title:{id:"list_mark_unread_bulk_title",defaultMessage:"Mark messages unread"},list_mark_unread_bulk_messages:{id:"list_mark_unread_bulk_messages",defaultMessage:"Are you sure you want to mark all {conversations, select, true {conversations} false {messages}} unread?"},list_mark_starred_bulk_title:{id:"list_mark_starred_bulk_title",defaultMessage:"Star messages"},list_mark_starred_bulk_messages:{id:"list_mark_starred_bulk_messages",defaultMessage:"Are you sure you want to star all {conversations, select, true {conversations} false {messages}}?"},list_mark_unstarred_bulk_title:{id:"list_mark_unstarred_bulk_title",defaultMessage:"Unstar messages"},list_mark_unstarred_bulk_messages:{id:"list_mark_unstarred_bulk_messages",defaultMessage:"Are you sure you want to clear the star from all {conversations, select, true {conversations} false {messages}}?"}})},42698:e=>{"use strict";e.exports={className:{default:{container:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_ZkbNhI",leftHalfContainer:"D_F gl_FM",rightHalfContainer:"D_F em_N",leftGrid:"D_F ab_C",mainActionControls:"D_F em_N gl_C",selectionControlsWrapper:"D_F Q_6EGz",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1oI2WW cdPFi4_Z29WjXl",disabledItem:"O_6uB4",usabiltyOptions:"D_F t_r",closeWrapper:"O_6uB4 cdPFi4_Z29WjXl",listFilterViewMenu:"D_F en_0",listFilterMenu:"D_F ab_C y_jyw3a X_6FIA A_6EqO c1AVi73_6FsP lo_AT cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",popoverListWrapper:"P_3Y3Gk",viewMenu:"jb_eo6 M_bKltR",expandCollapse:"M_0 cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",actionListDefault:"hd_n D_F ab_C M_0 P_0 r_n cZW7ROP_n",actionListActive:"hd_n D_F ab_C r_BN cZW7ROP_A",toolbarItem:"M_1MYwXA cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",toolbarItemWithLabel:"M_1MYwXA",toolbarItemDisabled:"M_1MYwXA cdPFi_Z1oI2WW C_Z1oI2WW r_n O_6uB4 cZW7ROP_n",hiddenItem:"W_6NIX H_6NYI v_h"},"previewpane-1":{cboxWrapper:"ej_d70",viewMenu:"t_r ej_d70 E_0 jb_0",singleGroupActions:"Q_fq7",mainActionControls:"em_N",sortMenuContainer:"N_6MGW"},"previewpane-2":{container:"gl_FM",viewMenu:"Q_fq7"},groupActionsActive:{singleGroupActionList:"hd_n D_F ab_C r_BN cZW7ROP_A",closeWrapper:"O_N"},activateDarkThemeMode:{container:"I_T m_ZYfqDw C_ZkbNhI cdPFi_ZkbNhI",toolbarItem:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",toolbarItemDisabled:"M_1MYwXA cdPFi_ZpQYvz C_ZpQYvz O_6uB4 r_n cZW7ROP_n",listFilterMenu:"C_ZpQYvz cdPFi_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",closeWrapper:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI"},previewpaneInPixels:{leftHalfContainer:"a_ZEtPz3"}},_key:"1iNa2"}},36920:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_Z1gjdjJ I3_Z1gjdjJ",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_ZkbNhI"}},_key:"1kBw3l"}},44528:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>re});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(85927),l=s(99095),c=s(9333),d=s(43007),_=s(23224),E=s(11160),u=s(31509),m=s(18030),S=s(37422),p=s(94482),C=s(67498),A=s(28182),T=s(65304),I=s(9026),h=s(10728),g=s(76531),O=s(75673),D=s.n(O),R=s(31057),N=s(94184),L=s.n(N),f=(s(95406),s(18446)),M=s.n(f),P=s(8470),b=s(73935),y=s(549),v=s(76223),F=s.n(v),U=(s(31280),s(32665)),k=s(91869),w=s(92559),G=s(85458),H=s(13556),B=s(42907),x=s(17016);function V(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Z=F()(D()),W=(0,l.defineMessages)({createNewFolderDescription:{id:"create_new_folder_text",defaultMessage:"Please enter a new folder name:"},duplicate_foldername:{id:"move_new_folder_duplciate_name",defaultMessage:"A folder named {folder_name} already exists. Please choose a different name."},newFolderLabel:{id:"new_folder_lable",defaultMessage:"Create new folder"},createButton:{id:"create_btn_text",defaultMessage:"Create"},folderNameText:{id:"folder_name_text",defaultMessage:"Folder name"},folder_invalid_chars:{id:"new_folder_invalid_chars",defaultMessage:"Folder names may not contain {invalid_chars}"}}),K=()=>{};class z extends r.Component{constructor(...e){super(...e),V(this,"state",{error:"",value:""}),V(this,"handleConfirm",(e=>{e.stopPropagation();const{value:t}=this.state;if(!(0,x.isValidFolderName)(t))return;const{formatMessage:s}=this.context.intl,{activeAccount:a,allFolders:n}=this.props;n.some((({name:e})=>e===t))?this.setState({error:s(W.duplicate_foldername,{folder_name:t})}):this.context.executeAction(H.L6,{folderName:(0,B.R_)(t,a),alertFromModalDialog:!0,accountId:a.id,i13nModel:{mKey:w.JE.ADD_FOLDER,sec:w.nJ.FILTER_MESSAGES,mKeyGroup:w.rO.createFldr}})})),V(this,"handleClose",(e=>{e.stopPropagation(),this.props.onClose()})),V(this,"handleOnChange",(e=>{const{formatMessage:t}=this.context.intl,s=!e||(0,x.isValidFolderName)(e);this.setState({value:e,error:s?null:t(W.folder_invalid_chars,{invalid_chars:B.Nk})})}))}componentDidUpdate(e){const{value:t}=this.state,{customFolders:s}=this.props,{customFolders:a}=e,n=a.some((({name:e})=>e===t)),{id:r}=s.find((({name:e})=>e===t))||{};if(t&&!n&&r){const e={destinationFolderId:r,triageActionType:S.Ewo.MOVE_SELECTED_ITEMS,i13nModel:{mKey:w.JE.TOOLBAR_MOVE,sec:w.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:w.rO.moveMsg,interactionType:"click"}};this.props.onMove(e),this.props.onClose()}}render(){const{value:e,error:t}=this.state,{formatMessage:s}=this.context.intl;return r.createElement(k.Z,{hideIcon:!0,onOuterClick:K,onAbort:this.handleClose,onConfirm:this.handleConfirm,acceptLabel:W.createButton,disablePrimaryButton:!e||!!t,title:s(W.newFolderLabel)},r.createElement("div",{className:Z.description},r.createElement(l.FormattedHTMLMessage,W.createNewFolderDescription)),r.createElement(U.Z,{type:"text",isClearable:!0,focusOnMount:!0,value:e,error:t,id:"create-new-folder",onChange:this.handleOnChange,"data-test-id":"create-new-folder",placeholder:s(W.folderNameText)}))}}V(z,"contextTypes",{intl:l.intlShape.isRequired,executeAction:n().func.isRequired});const Y=(0,o.connect)(((e,t)=>{const{getRoute:s,getAccountById:a,getCustomFolderList:n,getSelectedAccountIdByRoute:r}=(0,i.selectors)(e),o=r(s()),l=a(o),c=n(o),{allFolders:d}=t;return{allFolders:d,customFolders:c,activeAccount:l}}),(e=>({onMove:t=>e((0,G.B6)(t))})))(z);var j=s(42523),q=s(41143),X=s.n(q),Q=s(1974),J=s(81732),$=s(83034);function ee(e){const{disabled:t,type:s,onClick:a,children:n}=e,o=(0,$.Z)(D()),i=(0,J.I0)();X()(-1!==[S.K8C.NEWMAIL,S.K8C.OLDMAIL].indexOf(s),"panic: MoveToSmartViewListItem only works with NEWMAIL and OLDMAIL types.");const l=s===S.K8C.NEWMAIL;return r.createElement(p.Z,{key:s,name:"item-move-to-smart-view-"+s},r.createElement(C.Z,{id:s,disabled:t,"data-test-id":"item-move-to-smart-view-"+s,kind:A.F.MENUITEM,onClick:e=>{i((0,G.xN)({triageActionType:S.Ewo.MOVE_SELECTED_ITEMS,isRead:l,i13nModel:{mKey:w.JE.TOOLBAR_MOVE_MENU,sec:w.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:w.rO.moveMsg,interactionType:(0,x.getInteractionFromEvent)(e)}})),a()},"aria-hidden":!0},r.createElement("span",{className:o.fullLabel},r.createElement("span",{className:o.itemLabel},r.createElement(Q.Z,{type:s,shouldShowCount:!1})),n)))}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function se(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ae=(0,l.defineMessages)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},move_selected_msgs:{id:"move_selected_msgs",defaultMessage:"Move the selected {conversations, select, true {conversations} false {messages}} to another folder"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class ne extends r.Component{constructor(e){super(e),se(this,"_getListStyle",(e=>{let t=4*h.mg$,s=2*h.mg$*(e+2)+h.mg$;return this.props.isRTL&&(t=2*h.mg$*(e+2)+h.mg$,s=4*h.mg$),{paddingLeft:`${s}px`,paddingRight:`${t}px`,width:62.5*h.mg$+"px"}})),se(this,"_handleMenuShow",(()=>{this.selectedFolderId=null,this.firstFolderId=null,this.selectedItem=null,setTimeout((()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer()),0),this.props.onMenuShow()})),se(this,"_handleMenuHide",(()=>{this.setState({filterString:"",isFilterActive:!1,selectedFolderId:null},(()=>{this.firstFolderId=null,this.selectedFolderId=null,this.selectedItem=null,this.props.onMenuHide()}))})),se(this,"handleKeyDownOnInputField",(e=>{if(this.state.isFilterActive&&e.key===S.R8U.ENTER){const t=this.selectedFolderId;if("create-new-folder"===t)return this._handleMenuHide(),void this.renderNewFolderCreationModal();t&&this.handleClick(t,e)}this.state.isFilterActive&&e.shiftKey&&e.key===S.R8U.BACKSPACE&&this.handleClearInput()})),se(this,"handleClearInput",(()=>{this.resetSelectedItem(),this.setState({filterString:""}),this._focusFirstMenuItem()})),se(this,"selectItem",(e=>{if(this.customFoldersList){const t=(0,b.findDOMNode)(e),s=this.customFoldersList.getBoundingClientRect(),a=t.getBoundingClientRect();(a.top<s.top||a.bottom>s.bottom)&&t.scrollIntoView()}null!=e&&e.textContent&&(this.selectedItem=e.textContent),this.selectedFolderId=e.id,this.setState({selectedFolderId:e.id})})),se(this,"resetSelectedItem",(()=>{this.selectedFolderId=null,this.selectedItem=null,this.foldersList.resetCursorIndex()})),se(this,"renderMenuItems",((e,t)=>{const s=[],{formatFolderName:a,isSelectAll:n}=this.props,{formatMessage:o}=this.context.intl;return e.forEach((({id:e,type:i,kind:l,level:c,disabled:d,shortcut:_})=>{const E=null===this.selectedFolderId&&this.firstFolderId===e&&this.state.isFilterActive&&""!==this.state.filterString;E&&(this.selectedFolderId=d?null:e);const u=this.selectedFolderId===e;if("smartview"===l)return void s.push(r.createElement(ee,{type:i,disabled:d,onClick:()=>this._handleMenuHide()},this.renderDisplayShortcut(i,t,_)));const m=i===S.Sck.BULK;s.push(r.createElement(p.Z,{key:e,name:"item-move-to-folder-id-"+e},r.createElement(C.Z,{id:e,"data-test-id":"item-move-to-folder-id-"+e,kind:A.F.MENUITEM,onClick:this.handleClick.bind(this,e),style:this._getListStyle(c),disabled:!!(E||m&&n)||d,title:a(e)(o),overridingClass:u&&!d?t.highlightedListItem:t.listItem,"data-iskeynav":!0,"aria-hidden":!0},r.createElement("span",{className:t.fullLabel},r.createElement("span",{className:t.itemLabel},r.createElement(j.Z,{folderId:e})),this.renderDisplayShortcut(i,t,_)))))})),s})),this.state={filterString:"",isFilterActive:!1,selectedFolderId:null},this._handleMenuHide=this._handleMenuHide.bind(this),this._handleMenuShow=this._handleMenuShow.bind(this),this._focusFirstMenuItem=this._focusFirstMenuItem.bind(this),this._focusContainer=this._focusContainer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this),this.renderNewFolderCreationModal=this.renderNewFolderCreationModal.bind(this)}_renderLabel(){return r.createElement(l.FormattedMessage,{id:"move_button.move_label",defaultMessage:"Move"})}_focusFirstMenuItem(){if(!this.listContainer)return!1;setImmediate((()=>{var e;null===(e=this.listContainer.querySelector("[data-iskeynav]"))||void 0===e||e.focus()}))}_focusContainer(){setImmediate((()=>{var e;null===(e=this.listContainer)||void 0===e||e.focus()}))}handleClick(e,t){t.preventDefault(),e===S.K8C.NEWMAIL?this.props.dispatch((0,G.xN)({triageActionType:S.Ewo.MOVE_SELECTED_ITEMS,isRead:!0,i13nModel:{mKey:w.JE.TOOLBAR_MOVE_MENU,sec:w.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:w.rO.moveMsg,interactionType:(0,x.getInteractionFromEvent)(t)}})):this.props.onClick(e,t),this._handleMenuHide()}handleKeyDown(e,t){if(!this.listContainer.contains(t.target)&&!t.target.contains(this.listContainer))return;if(t.target===this.input.bidiInput)return void this.handleKeyDownOnInputField(t);if(t.key===S.R8U.ARROW_DOWN||t.shiftKey&&"d"===t.key.toLowerCase())return t.preventDefault(),t.stopPropagation(),this._focusFirstMenuItem();const s=t.keyCode-48,a=t.keyCode-96,n=e[s]||e[a];n&&this.handleClick(n,t)}renderSearchInput(e){const{hasShortcuts:t}=this.props,s=t?"Shift+D":null,{filterString:a,isFilterActive:n}=this.state,{formatMessage:o}=this.context.intl,i=s&&!n&&""===a,l=Object.assign({},i?{}:{paddingRight:`${h.mg$}px`});return r.createElement(p.Z,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},r.createElement("div",{className:e.inputContainer,style:l,onClick:e=>e.stopPropagation()},r.createElement(d.Z,{kind:g.Kinds.SEARCH_MINI,size:g.Sizes.XS,colorState:g.ColorStates.DISABLED}),r.createElement(_.Z,{ref:e=>this.input=e,className:e.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:a,onClear:this.handleClearInput,onChange:e=>{this.resetSelectedItem(),this.setState({filterString:e.target.value})},onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),onKeyDown:e=>{this.foldersList.handleKeyDown(e)},isClearable:!0,placeholder:o(ae.search_placeholder),"data-iskeynav":!0,autoComplete:"off"}),r.createElement("span",{"aria-live":"polite",className:e.accessible,id:"move_menu_search_input",tabIndex:"-1"},this.selectedItem||""),i?r.createElement("span",{className:e.shortcut},s):null))}renderEmptyResult(e){const{formatMessage:t}=this.context.intl;return r.createElement(p.Z,null,r.createElement("div",{className:e.noResultContainer,style:this._getListStyle(0)},t(ae.no_result_label)))}renderDisplayShortcut(e,t,s){const{hasShortcuts:a}=this.props;let n;return this.state.isFilterActive||!a||0!==s&&!s||(n=s,"number"==typeof s&&(n=r.createElement(l.FormattedMessage,te({},ae.multikey_shortcut,{values:{primaryShortcutKey:"d",secondaryShortcutKey:""+s}})))),n?r.createElement("span",{className:t.shortcut},n):null}renderNewFolderCreationModal(){const{customFolders:e,systemFolders:t}=this.props,s=[].concat(e).concat(t);(0,y.C)(r.createElement(Y,{allFolders:s}),this.context)}renderAnchorButton(){const{disabled:e,showLabel:t,isCompact:s,onMenuToggle:a,title:n,conversations:o}=this.props,{formatMessage:i}=this.context.intl,l=n||i(ae.move_selected_msgs,{conversations:o}),d=this.context.getThemeMode()===I.zg.DARK;return r.createElement("span",null,r.createElement(c.default,{"data-iskeynav":!0,"data-test-id":"folder-menu-button","aria-label":l,title:l,kind:g.Kinds.MOVE_TO_FOLDER,disabled:e,onClick:a,size:g.Sizes.XS,colorState:g.ColorStates.INHERITED,isOnDarkBackground:d,isCompact:s},t&&this._renderLabel()))}renderPopoverContent(e){const t=this.context.getCss(D()),{formatMessage:s}=this.context.intl,{folderShortcutMap:a,formatFolderName:n,systemSmartViews:o,customFolders:i,systemFolders:c}=this.props,{filterString:d=""}=this.state,_=i.filter((({id:e})=>-1!==n(e)(s).toLowerCase().indexOf(d.toLowerCase()))),E=c.filter((({id:e})=>-1!==n(e)(s).toLowerCase().indexOf(d.toLowerCase()))),u=_.length+E.length,S=[].concat(_).concat(E),I=S?S[0]:{};return this.firstFolderId=I?I.id:null,r.createElement(m.ZP,{triggerOn:e,permittedArrowDirections:[T.Ji.UP],zAltitude:h.LSY.POPOVER.HIGH,onShow:this._handleMenuShow,onHide:this._handleMenuHide},r.createElement("div",{className:t.clippedContainer},r.createElement("div",{"data-test-id":"folder-menu",className:t.popoverContent,onKeyDown:this.handleKeyDown.bind(this,a),tabIndex:h.iUz.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},r.createElement("ul",{className:t.systemGroup},this.renderSearchInput(t)),r.createElement(P.Z,{ref:e=>this.foldersList=e,tabIndex:h.iUz.FOLDER_SELECTION_MENU,selectItemInsteadOfFocus:this.selectItem,onEscape:this._handleMenuHide,listNavigationOnInputEnabled:!0},0===u&&r.createElement("ul",{className:t.lastGroup},this.renderEmptyResult(t)),r.createElement("div",null,_.length>0&&r.createElement("ul",{ref:e=>this.customFoldersList=e,className:L()(t.customGroup,{[t.lastGroup]:!(E.length>0),[t.systemGroup]:E.length>0})},this.renderMenuItems(_,t)),o.length>0&&r.createElement("ul",{className:t.lastGroup},this.renderMenuItems(o,t)),E.length>0&&r.createElement("ul",{className:t.lastGroup},this.renderMenuItems(E,t)),r.createElement("ul",{className:t.createFolderAction},r.createElement(p.Z,{key:"new-folder",name:"item-move-to-folder-id-new-folder"},r.createElement(C.Z,{"data-iskeynav":!0,id:"create-new-folder",kind:A.F.MENUITEM,"data-test-id":"item-move-to-folder-id-new-folder",onClick:this.renderNewFolderCreationModal,overridingClass:"create-new-folder"===this.selectedFolderId?t.highlightedListItem:t.listItem,"aria-hidden":!0},r.createElement("span",{className:t.fullLabel},r.createElement("span",{className:t.itemLabel},r.createElement(l.FormattedMessage,{id:"move.new_folder",defaultMessage:"Create new folder"})))))))))))}renderPopoverContainer(e){const t=this.context.getCss(D());return r.createElement(E.Z,{className:t.popoverContainer},r.createElement(u.Z,null,this.renderAnchorButton()),this.renderPopoverContent(e))}render(){const{isMenuActive:e,onMenuToggle:t}=this.props;return t?e?this.renderPopoverContainer(T.K2.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(T.K2.CLICK)}}ne.contextTypes={intl:l.intlShape.isRequired,getThemeMode:n().func,getCss:n().func,getTheme:n().func,executeAction:n().func,getStore:n().func,store:n().object,navigateTo:n().func},ne.defaultProps={showLabel:!0};const re=(0,o.connect)(((e,t)=>{const{getFeaturesSelectors:s,getEnvironmentSelectors:a,getFoldersSelectors:n,getSelectedAccountId:r,getSystemFolderListWithSmartView:o,getCustomFolderListForDisplaying:l,formatFolderName:c}=(0,i.selectors)(e),d=s().isEnabled(S.ANe.CONVERSATIONS),{listId:_}=t,E=(0,R.Fh)(_),u=(0,R.kw)(_),{getAccountIdByFolderId:m}=n(),p=E?m(E):r(),C=o(p);let A=0;const T={},I=({id:e,type:t,disabled:s})=>t===S.Sck.ARCHIVE?"e":A>=10?void 0:(s||(T[A]=e),A++);return{formatFolderName:c,systemSmartViews:C.filter((({kind:e})=>"smartview"===e)).filter((({type:e})=>[S.K8C.NEWMAIL,S.K8C.OLDMAIL].includes(e))).map((e=>({...e,disabled:u===e.type}))).map((e=>({...e,shortcut:S.K8C.NEWMAIL===e.type&&I(e)}))),systemFolders:C.filter((({kind:e})=>"folder"===e)).filter((({type:e})=>![S.Sck.DRAFT,S.Sck.SENT].includes(e))).map((e=>({...e,disabled:E===e.id}))).map((e=>({id:e.id,type:e.type,disabled:e.disabled,shortcut:S.Sck.INBOX===e.type&&I(e)}))),customFolders:l(p).map((e=>({...e,disabled:E===e.id}))).map((e=>({id:e.id,type:e.type,level:e.level,disabled:e.disabled,shortcut:e.disabled||I(e)}))),folderShortcutMap:T,conversations:d,isRTL:"rtl"===a().getPageDirection()}}),void 0,void 0,{areStatePropsEqual:(e,t)=>M()(e.systemFolders,t.systemFolders)&&M()(e.customFolders,t.customFolders)&&e.folderCount===t.folderCount&&M()(e.folderShortcutMap,t.folderShortcutMap)&&e.conversations===t.conversations})(ne)},75673:e=>{"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h a_3rBgu",label:"D_F ab_C y_jyw3a A_6EqO c1AVi73_6FsP P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_cFf",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_cFf M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1WBuqm i_6VdP k_w",inputContainer:"D_F ab_C k_w X_6EGz N_6Fd5 W_3rBgu A_6EqO c1AVi73_6FsP",inputField:"em_N cn_0 W_6D6F H_6VdP X_0 A_6EqO c1AVi73_6FsP C_Z281SGl",highlightedListItem:"I_Z1gjd50 O_N I4_Z1gjd50",listItem:"I_ZkbNhI",createFolderAction:"hd_n P_cFf M_0 m_0 z_Z14vXdP je_eo6",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h A_6EqO c1AVi73_6FsP"}},_key:"2jNScw"}},24307:e=>{"use strict";e.exports={className:{default:{nudgeToReply:"D_F ab_C W_CD a_3nqRH H_6MGW r_P e_dRA b_0 M_Z1kkfxo I_T C_Z29WjXl cdPFi_Z29WjXl P_3gK4Y C4_Z29WjXl cdPFi4_Z29WjXl I4_Z20yP2X",nudgeToReplyText:"y_jyw3a A_fFR u_b o_h G_e J_x"},isDarkNotHovered:{nudgeToReply:"C_Z2bg7IA cdPFi_Z2bg7IA C4_ZkbNhI cdPFi4_ZkbNhI"},isLightHovered:{nudgeToReply:"I_Z1gjd72"},isDarkHovered:{nudgeToReply:"I_ZS20VC I4_ZS20V7 C4_ZkbNhI cdPFi4_ZkbNhI"}},_key:"Z1L7r4A"}},24659:e=>{"use strict";e.exports={className:{default:{photoGrid:"H_3nx4N W_3nx4N p_R M_eo6 r_BN",photoItemImg:"W_6D6F H_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_h_2gl0WC"},isMessageDeleteEnabled:{iconContainer:"P_Z2rzCvT"},isBriefView:{photoGrid:"H_7He5 W_7He5"}},_key:"fcHSR"}},9723:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a,n,r,o=s(67294),i=(s(45697),s(74480)),l=s.n(i),c=s(76223),d=s.n(c),_=s(35567);class E extends o.Component{render(){const{items:e,listId:t,streamId:s,isBriefView:a}=this.props,n=d()(l(),{isBriefView:a});return o.createElement("div",{className:n.gridsContainer},e.map((e=>o.createElement(_.Z,{key:e.id,item:e,listId:t,streamId:s,isBriefView:a}))))}}r={isBriefView:!1},(n="defaultProps")in(a=E)?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r;const u=E},74480:e=>{"use strict";e.exports={className:{default:{gridsContainer:"D_F P_3gIMd"},isBriefView:{gridsContainer:"P_0"}},_key:"Z1yJcAi"}},4450:e=>{"use strict";e.exports={className:{default:{photosViewHeader:"D_F ek_EZ ab_C k_w en_0 H_7bcz P_2bJhi m_Z14vXdP",photosViewTitle:"A_6FsP c1AVi73_6LUG c1AVi7H_6MWH u_dPo D_F gl_C ab_C em_N",sortMenuContainer:"en_0 E_eo6"},"themeMode-DARK":{photosViewHeader:"I_T m_ZYfqDw C_ZkbNhI cdPFi_ZkbNhI"}},_key:"Z2e3xFS"}},64684:(e,t,s)=>{"use strict";s.d(t,{Z:()=>T});var a=s(67294),n=s(56513),r=s.n(n),o=s(67498),i=s(43007),l=s(76531),c=s(83034),d=s(31950),_=s(37422),E=s(91745),u=s(5026),m=s(81732),S=s(30982),p=s(99095),C=s(7426);const A=(0,p.defineMessages)({pinMessage:{id:"pinned_email",defaultMessage:"Pin this message"},unpinMessage:{id:"unpinned_email",defaultMessage:"Unpin this message"}}),T=({messageIds:e,groupId:t,listId:s,streamId:n,isHovered:p,i13nModel:T})=>{const I=(0,c.Z)(r()),h=(0,d.Z)(_.ANe.PINNED_EMAILS),g=(0,E.Z)(_.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS),O=(0,m.I0)(),D=e[0],R=(0,E.Z)(_.Zrf.THEME_MODE)===_.zgU.DARK,{formatMessage:N}=(0,C.Y)(),L=g.some((e=>e.startsWith(`${D}${_.Vky}`)));if(!h||!p&&!L)return null;const f=R?l.ColorStates.FAINT:l.ColorStates.DISABLED,M=R?l.ColorStates.STARRED_DARK:l.ColorStates.STARRED;return a.createElement(o.Z,{title:N(L?A.unpinMessage:A.pinMessage),onClick:a=>{(0,u.p7)(a);const r={listId:s,id:t};O((0,S.eM)({messageIds:e,isPinned:L,streamId:n,streamItem:r,i13nModel:T}))},className:I.pinIcon},a.createElement("span",{className:I.pinCenter},a.createElement(i.Z,{size:l.Sizes.XXS,kind:L?l.Kinds.PIN:l.Kinds.PIN_OUTLINE,colorState:L?M:f,"aria-label":N(L?A.unpinMessage:A.pinMessage)})))}},56513:e=>{"use strict";e.exports={className:{default:{pinIcon:"I_T r_P b_0 P_eo6",pinCenter:"D_F ab_C gl_C H_6D6F"}},_key:"Z1I9NgX"}},33604:e=>{"use strict";e.exports={className:{default:{messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F"},"themeMode-DARK":{blank:"I_T"}},_key:"1r9yYy"}},13240:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNbA"},"isRead-false":{readIcon:"cdPFi_Z29WjXl cdPFi4_Z29WjXl"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z12VEof"}},43715:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_ZkbNhI",container:"P_8secV D_F gl_C",actionContainer:"D_F M_Z2gjVIH",svgStyle:"D_F ab_C Q_6Fd5 E_6Eb4 em_0",listDivider:"H_dRA I_ZpQYvz M_Z2eeeeR"},"themeMode-DARK":{heading:"m_ZYfqDw I_T C_ZkbNhI cdPFi_ZkbNhI",listDivider:"I_a0xtn"}},_key:"1QylMi"}},18452:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_ZkbNhI D_F ab_C gl_FM",expandButton:"i_6EWk P_Z2rzCvT",iconContainer:"D_F ab_C",partnerAttributionIcon:"Q_eo6",header:"u_b C_Z281SGl A_6EWk"},"themeMode-DARK":{container:"I_T",header:"C_ZkbNhI"}},_key:"Z221H0d"}},63350:e=>{"use strict";e.exports={className:{default:{trashIcon:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_eo6 Q_6Fd5 W_7jIs",trashIconAccessible:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY P_0",trashCenter:"D_F ab_C gl_C H_6D6F",trashIconCompact:"I_T r_P b_0 cdPFi_Z9gXaW cdPFi4_Z1rB5pY D_F gl_F W_6D6F P_fq7 M_18qTTf"},isDarkThemeMode:{trashIcon:"cdPFi_1cIiP7 cdPFi4_Z1rAFli",trashIconCompact:"cdPFi_1cIiP7 cdPFi4_Z1rAFli"}},_key:"1jQ2Sd"}},46316:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",replyIcon:"cZ17HJts_0 cZ17HJsU_T cZ17HJta_0 cZ17HJsT_P cZ17HJtE_F cF9SWM_0 cF9SUy_C cZ17HJtH_0 cZ17HJtl_6LEV cNhr4M_ZpQYvz c1Lk3cu_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{replyIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1GKNgw"}},83168:e=>{"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNbA cdPFi4_Z29WjXl P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNbA cdPFi4_Z29WjXl Q_eo6 P_0"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"1KOEEN"}},25629:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1WBuqm cdPFi4_Z29WjXl"},activateDarkThemeMode:{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_ZkbNhI"}},_key:"Om2IE"}},61209:e=>{"use strict";e.exports={className:{default:{senderRollupHeader:"ab_C C_Z281SGl D_F H_6Mrc gl_C m_Zhnraq i_6Mrc P_2bJhi p_R",senderBackContainer:"L_6Eb4 p_a",senderRollupTitle:"A_6FsP u_dPo gl_C a_eBt o_h G_e J_x mq_N",senderSortMenuContainer:"p_a R_6Eb4"},"themeMode-DARK":{senderRollupHeader:"m_ZYfqDw I_T C_ZpQYvz",senderBackContainer:"I_T C_ZpQYvz cdPFi_ZpQYvz"}},_key:"ZtwdBa"}},19302:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});s(45697);var a=s(67294),n=(s(31280),s(66229)),r=s.n(n),o=s(76223),i=s.n(o),l=s(99095),c=s(60030),d=s(81660),_=s(83034),E=s(4274),u=s.n(E),m=s(29911),S=s(37422);const p=e=>{const t=(0,_.Z)(u()),{keyword:s,text:n}=e,{themeMode:r}=(0,a.useContext)(m.Z),o=r===S.zgU.DARK;if(!s)return a.createElement("span",null,n);const i=o?(0,d.Kq)(n,s,t.highlightedTermDarkMode):(0,d.Kq)(n,s,t.highlightedTerm);return a.createElement("span",{"data-test-id":"highlighted_item"},i)};p.defaultProps={keyword:""};const C=p;function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class T extends a.Component{constructor(...e){super(...e),A(this,"getLabel",((e,t,s)=>{if(this.props.highlightSearchResultsPage){const{keyword:n}=this.props;return e?a.createElement(C,{keyword:n,text:t}):a.createElement("strong",{className:s.strong,id:"senders.bolded_sender_label"},a.createElement(C,{keyword:n,text:t}))}return e?a.createElement("span",null,t):a.createElement("strong",{className:s.strong},t)}))}shouldComponentUpdate(e){const{senders:t,isRead:s,myAddresses:a,transparent:n,layoutClassNames:r,visibleNum:o}=this.props,i=Object.keys(a),l=Object.keys(e.myAddresses);return e.senders.length!==t.length||e.senders[0].name!==t[0].name||e.isRead!==s||e.visibleNum!==o||e.transparent!==n||e.layoutClassNames.senders!==r.senders||l.length!==i.length}render(){const e=i()(r(),{transparent:this.props.transparent}),{senders:t,onClick:s,layoutClassNames:n,myAddresses:o,isRead:l,visibleNum:d}=this.props,{formatMessage:_}=this.context.intl,E=(0,c.TX)({senders:t,myAddresses:o},_),u=(0,c.sl)({senders:t,myAddresses:o,visibleNum:d},_);return a.createElement("div",{className:n.senders,"data-test-id":"senders",role:"gridcell"},a.createElement("span",{className:e.participants,onClick:s,role:"gridcell",title:E,"data-test-id":"senders_list"},u?this.getLabel(l,u,e):null))}}A(T,"defaultProps",{myAddresses:{},transparent:!1,visibleNum:3}),A(T,"contextTypes",{intl:l.intlShape});const I=T},66229:e=>{"use strict";e.exports={className:{default:{participants:"o_h J_x em_N G_e",strong:"u_Z13VSE6"},transparent:{participants:"em_0 v_h"}},_key:"ZDOKbg"}},32778:e=>{"use strict";e.exports={className:{default:{snippet:"J_x o_h G_e",snippetContainer:"J_x o_h",highlightedTerm:"I_Z1gjd5v D_X"},highlightSearchResultsPage:{highlightedTerm:"I_eWWBN D_X C_ZD6UvE"}},_key:"28rbVv"}},41111:(e,t,s)=>{"use strict";s.d(t,{Z:()=>R});var a=s(45697),n=s.n(a),r=s(67294),o=s(99095),i=s(10728),l=s(91472),c=s.n(l),d=s(11160),_=s(31509),E=s(18030),u=s(65304),m=s(67498),S=s(94482),p=s(28182),C=s(43007),A=s(76531),T=s(8470),I=s(9026),h=s(67612),g=s(37422);s(95406);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class D extends r.Component{render(){const e=this.context.getThemeMode()===I.zg.DARK,t=this.context.getCss(c()),{formatMessage:s}=this.context.intl,{availableSortOrders:a,currentSortOrder:n,showLabel:o,tabIndex:l}=this.props,g=o?s(h.Z.sort_menu):null,O=a.map((e=>r.createElement(S.Z,{key:e,name:"sort-by-"+e},r.createElement(m.Z,{"data-test-id":"sort-by-"+e,kind:p.F.MENUITEM,onClick:t=>this.props.onClick(t,e),style:{position:"relative"}},e===n?r.createElement("span",{className:t.sortByMenuItemIcon},r.createElement(C.Z,{kind:A.Kinds.CHECKMARK,size:A.Sizes.XXS,colorState:A.ColorStates.NORMAL})):null,r.createElement("span",{className:t.sortByMenuItemLabel},s(h.Z["sort_by_"+e]))))));return r.createElement(d.Z,null,r.createElement(_.Z,null,r.createElement(m.Z,{"data-test-id":"toolbar-sort-menu-button",kind:p.F.CHROMELESS,tabIndex:l,"data-iskeynav":!0,isOnDarkBackground:e},r.createElement("span",{className:t.sortByMenu},g,r.createElement(C.Z,{kind:A.Kinds.CHEVRON_UP,size:A.Sizes.XS,rotate:A.Rotate.D180,colorState:A.ColorStates.INHERITED})))),r.createElement(E.ZP,{triggerOn:u.K2.CLICK,permittedArrowDirections:[u.Ji.UP],offset:4*i.mg$,align:u.xM.END,zAltitude:i.LSY.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},r.createElement("div",{className:t.popoverListWrapper},r.createElement(T.Z,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},O))))}}O(D,"contextTypes",{intl:o.intlShape.isRequired,getCss:n().func,getThemeMode:n().func}),O(D,"defaultProps",{availableSortOrders:[],currentSortOrder:g.Asd.DATE_DESC,showLabel:!0,tabIndex:-1});const R=D},8069:e=>{"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C A_0 h_Z13pql2 lv_1IWXzk h4_2d9T5e P_ZmsLO3 E_fq7"},"starBurstingLayout-true_false":{starIcon:"p_R T_1zlqaY L_c4Y E_eDQ T4_1zlqqJ L4_c5u"},"starBurstingLayout-true_true":{starIcon:"p_R T_689y"}},_key:"O5fDp"}},31745:e=>{"use strict";e.exports={className:{default:{subject:"o_h G_e J_x",highlightedTerm:"I_Z1gjd5v D_X"},highlightSearchResultsPage:{highlightedTerm:"I_eWWBN D_X C_ZD6UvE"}},_key:"1SEUkz"}},31291:e=>{"use strict";e.exports={className:{default:{container:"F_n P_2bJhi H_6Mrc i_6Mrc m_Zhnraq D_F ab_C gl_C p_R",linkBack:"C_Z281SGl f_l A_6EqO P_3gIMd F_n D_F ab_C L_6Eb4 p_a",linkBackLabel:"Q_eo6",title:"ab_C C_Z281SGl A_6FsP gl_C a_eBt o_h G_e J_x mq_N"},"themeMode-DARK":{linkBack:"I_T C_ZpQYvz cdPFi_ZpQYvz",title:"C_ZpQYvz"}},_key:"Z22ahx2"}},75668:e=>{"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_w m_Z14vXdP C_Z281SGl H_7bcz c1AVi73_6LUG",tabs:"P_1g7oPJ M_cFf m_Z14vXdP D_F"},"themeMode-DARK":{heading:"C_ZkbNhI m_ZYfqDw",tabs:"m_Z6DFj8"}},_key:"2oQVAw"}},65161:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(45697),n=s.n(a),r=s(67294),o=s(55146),i=s.n(o),l=s(43007),c=s(37422),d=s(76531),_=s(9026);const E=({layoutClassNames:e={ybadgeIcon:""}},{partner:t,getCss:s,getThemeMode:a})=>{const n=t===c.Bs7.AOL.toLowerCase(),o=s(i(),{isAolUser:n}),E=a()===_.zg.DARK?d.ColorStates.WHITE:d.ColorStates.NORMAL,u=d.ColorStates.YBANG;return r.createElement("span",{"data-test-id":"icon-btn-ybadge",className:`${o.ybadgeIcon} ${e.ybadgeIcon}`},r.createElement(l.Z,{kind:n?d.Kinds.AOL_OFFICIAL:d.Kinds.YBANG,size:n?d.Sizes.XXS:d.Sizes.XS,colorState:n?E:u}))};E.contextTypes={getCss:n().func,getThemeMode:n().func,partner:n().string};const u=r.memo(E)},55146:e=>{"use strict";e.exports={className:{default:{ybadgeIcon:"q_T r_P D_F en_0 ab_C W_6LEV k_BF A_0 b_n"}},_key:"ZIMuu5"}},13957:(e,t,s)=>{"use strict";s.d(t,{Ur:()=>m,fx:()=>S,vt:()=>p});var a=s(45697),n=s.n(a),r=s(95406),o=s(41546),i=s(37422);const{string:l,arrayOf:c,shape:d,bool:_,func:E,oneOf:u}=n(),m=(n().oneOf((0,r.VO)(i.DAQ)).isRequired,l.isRequired,l.isRequired,n().object,n().bool,n().object,n().array,n().func,c(d({id:l.isRequired,listId:l.isRequired})).isRequired,u((0,r.VO)(i.EsZ)),n().number,n().object,n().bool,n().bool,n().number,n().bool,n().bool,n().bool,n().func,n().number,n().number,n().bool,n().number,n().number,n().func,n().func,n().func,n().func,n().number,n().number,n().bool,n().bool,n().bool,n().object,n().number,n().func,n().func,n().func,n().func,n().bool,n().bool,n().func,n().func,n().bool,n().string,n().bool,n().number,n().bool,n().string,n().bool,{timeout:800,lightGifURL:(0,o.A)("/img/star_jiggle.gif"),darkGifURL:(0,o.A)("/img/star_jiggle_dark.gif")}),S={READ:"READ",UNREAD:"UNREAD",STAR:"STAR",UNSTAR:"UNSTAR",DELETE:"DELETE",ARCHIVE:"ARCHIVE",RESTORE:"RESTORE",OPEN_MSG:"OPEN_MSG",OPEN_PHOTO:"OPEN_PHOTO",OPEN_DOC:"OPEN_DOC",CHK_MAIL:"CHK_MAIL",ROTATE_PREVIEWPANE:"ROTATE_PREVIEWPANE",SELECTION_CHANGE:"SELECTION_CHANGE"},p={INTERACTION_GROUP_UNREAD:"INTERACTION_GROUP_UNREAD",INTERACTION_GROUP_FLAGGED:"INTERACTION_GROUP_FLAGGED"}},23222:(e,t,s)=>{"use strict";s.d(t,{Z:()=>mc});var a=s(12913),n=s(23279),r=s.n(n),o=s(57557),i=s.n(o),l=s(45697),c=s.n(l),d=s(67294),_=s(76223),E=s.n(_),u=s(73935),m=s(99095),S=s(18685),p=s(72942),C=s(95406),A=s(37422),T=s(78107),I=s.n(T),h=s(90521),g=s(8106),O=s(10728),D=s(63352),R=(s(23493),s(50985)),N=s(99647);function L(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f=!1,{H_SLIDER_POS:M,V_SLIDER_POS:P,H_SLIDER_POS_V2:b,V_SLIDER_POS_V2:y}=A.a1v,v={x:{min:{percent:O.tsr},max:{percent:O.ogS}},y:{min:{pixels:O.GdE},max:{pixels:O.qVV}}};class F extends d.Component{constructor(...e){super(...e),L(this,"state",{dragging:!1}),L(this,"_getLocalStorageKey",((e,t=!1)=>e===A.EsZ.RIGHT?t?b:M:t?y:P)),L(this,"_writePreviewPaneSetting",((e,t)=>{this.props.previewpaneCookie&&this.props.previewpaneInPixels&&new N.t2({window}).setClientParam(e,t),(0,R.rl)(e,t)})),L(this,"_readPreviewPaneSetting",(e=>{const{previewpaneCookie:t,previewpaneInPixels:s}=this.props,a=this._getLocalStorageKey(e,s);return t&&s?new N.t2({window}).getClientParam(a)||(0,R.zP)(this._getLocalStorageKey(e,!0))||(0,R.zP)(this._getLocalStorageKey(e,!1)):(0,R.zP)(a)})),L(this,"getLimits",(e=>{const{previewpane:t,isRTL:s}=this.props,a=t===A.EsZ.RIGHT?v.x:v.y;let n,r,o,i,l=(0,C.u9)(a,"min.percent",0)||0,c=(0,C.u9)(a,"min.pixels",0)||0,d=(0,C.u9)(a,"max.percent",100)||100,_=(0,C.u9)(a,"max.pixels",0)||0;if(s){const t=l,s=c;l=100-d,c=e.width-_,d=100-t,_=e.width-s}t===A.EsZ.RIGHT?(n=e.left+e.width*l/100,r=e.left+c,o=e.left+e.width*d/100,i=e.left+e.width-_):t===A.EsZ.BOTTOM?(n=e.top+e.height*l/100,r=e.top+c,o=e.top+e.height*d/100,i=e.top+e.height-_):(0,D.Z)(!1,`Unexpected orientation of preview pane during resize: ${t}`);let E=Math.max(n,r),u=Math.max(Math.min(o,i),E);return s&&(E=Math.min(n,r),u=Math.max(Math.max(o,i),E)),{min:E,max:u}})),L(this,"getLimitsV2",(e=>{const{previewpane:t,isRTL:s}=this.props;let a,n;return t===A.EsZ.RIGHT?s?(a=e.left+O.bA8,n=Math.max(e.left+e.width-O.XpS,a)):(a=e.left+O.XpS,n=Math.max(e.left+e.width-O.bA8,a)):t===A.EsZ.BOTTOM?(a=e.top+O.Yw5,n=Math.max(e.top+e.height-O.dEt,a)):(0,D.Z)(!1,`Unexpected orientation of preview pane during resize: ${t}`),{min:a,max:n}})),L(this,"resize",(()=>{if(!this.resizer)return;const{previewpane:e,previewpaneInPixels:t,isRTL:s}=this.props,{resize:a,dragStart:n,resizerStart:r,parent:o}=this.state,i=this.resizer.getBoundingClientRect();let l,c,d;e===A.EsZ.RIGHT?(c=r.left-o.rect.left+a.x-n.x,d=o.width,s&&(c=d-c),l=M):e===A.EsZ.BOTTOM?(c=r.top-o.rect.top+a.y-n.y,d=o.height,l=P):(0,D.Z)(!1,`Unexpected orientation of preview pane during resize: ${e}`);let _=100*c/d;t?this.props.resize(l,c,d):this.props.resize(l,_,d),this.setState({dragStart:{x:a.x,y:a.y},resizerStart:{left:i.left,top:i.top}}),this.resizer.style.marginTop="",this.resizer.style.marginLeft="",this.resizer.style.marginRight="",this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),_),t?(this._writePreviewPaneSetting(this._getLocalStorageKey(e,!0),c),e===A.EsZ.RIGHT&&(_=_<O.tsr?O.tsr:_,_=_>O.ogS?O.ogS:_),this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),_)):this._writePreviewPaneSetting(this._getLocalStorageKey(e,!1),_)})),L(this,"onDragStart",(e=>{const t=u.findDOMNode(this.resizer),s=null==t?void 0:t.parentNode;if(!t||!s)return;const a=t.getBoundingClientRect(),n=s.getBoundingClientRect(),r=this.props.previewpaneInPixels?this.getLimitsV2(n):this.getLimits(n),{clientX:o,clientY:i}=e;e.stopPropagation(),e.preventDefault(),this.resizer.style.backgroundColor=O.E6z.ycolorGrayG,this.setState({dragging:!0,dragStart:{x:o,y:i},resize:{x:o,y:i},resizerStart:{left:a.left,top:a.top},parent:{rect:n,width:s.clientWidth,height:s.clientHeight},limits:r}),e.dataTransfer&&(this.dragIcon=(0,g.av)(e.dataTransfer,this.dragIcon),e.dataTransfer.setData("text","anything")),this._ffDragFunc=e=>this.onDrag(e),this._ffDragEndFunc=e=>this.onDragEnd(e),document.addEventListener("mousemove",this._ffDragFunc),document.addEventListener("mouseup",this._ffDragEndFunc)})),L(this,"drag",(e=>{const{previewpane:t,isRTL:s}=this.props,{dragStart:a,limits:n}=this.state;let{clientX:r,clientY:o}=e;t===A.EsZ.RIGHT?(r>n.max&&(r=n.max),r<n.min&&(r=n.min),this.setState({resize:{x:r,y:o}}),this.resizer&&(s?this.resizer.style.marginRight=a.x-r+"px":this.resizer.style.marginLeft=r-a.x+"px")):t===A.EsZ.BOTTOM?(o>n.max&&(o=n.max),o<n.min&&(o=n.min),this.setState({resize:{x:r,y:o}}),this.resizer&&(this.resizer.style.marginTop=o-a.y+"px")):(0,D.Z)(!1,`We should not be dragging when there is no preview pane: ${t}`)})),L(this,"onDrag",(e=>{this.state.dragging&&(e.stopPropagation(),e.preventDefault(),0!==e.clientX&&0!==e.clientY&&(this.throttledDrag?this.throttledDrag(e):this.drag(e),this.throttledResize&&this.throttledResize()))})),L(this,"onDragEnd",(e=>{e.stopPropagation(),e.preventDefault(),(0,g.xq)(this.dragIcon),this.dragIcon=null,this.resizer&&(this.resizer.style.backgroundColor=""),this.setState({dragging:!1}),this.resize(),document.removeEventListener("mousemove",this._ffDragFunc),document.removeEventListener("mouseup",this._ffDragEndFunc)}))}shouldComponentUpdate(e,t){const s=this.props;this.state;return s.isEmpty!==e.isEmpty||s.previewpane!==e.previewpane||f}componentDidMount(){const{previewpane:e,previewpaneInPixels:t}=this.props,s=u.findDOMNode(this.resizer).parentNode,a=this._getLocalStorageKey(A.EsZ.RIGHT,t),n=this._getLocalStorageKey(A.EsZ.BOTTOM,t);this.sliderPos={hSliderPos:parseFloat(this._readPreviewPaneSetting(A.EsZ.RIGHT))||O.Q3u,vSliderPos:parseFloat(this._readPreviewPaneSetting(A.EsZ.BOTTOM))||O.TQs},t&&(this.sliderPos.hSliderPos<100&&(this.sliderPos.hSliderPos=Math.floor(this.sliderPos.hSliderPos*s.clientWidth/100)),this.sliderPos.vSliderPos<100&&(this.sliderPos.vSliderPos=Math.floor(this.sliderPos.vSliderPos*s.clientHeight/100)),this.sliderPos.hSliderPos&&this._writePreviewPaneSetting(a,this.sliderPos.hSliderPos),this.sliderPos.vSliderPos&&this._writePreviewPaneSetting(n,this.sliderPos.vSliderPos)),e===A.EsZ.RIGHT?this.props.resize(M,this.sliderPos.hSliderPos,s.clientWidth):e===A.EsZ.BOTTOM?this.props.resize(P,this.sliderPos.vSliderPos,s.clientHeight):(0,D.Z)(!1,`Unexpected orientation of preview pane during resize: ${e}`),this._ffDragStartFunc=e=>this.onDragStart(e),this.resizer.addEventListener("mousedown",this._ffDragStartFunc)}componentDidUpdate(e){const{previewpane:t}=this.props,s=u.findDOMNode(this.resizer).parentNode;t===A.EsZ.BOTTOM&&e.previewpane===A.EsZ.RIGHT&&this.props.resize(P,this.sliderPos.vSliderPos,s.clientHeight)}componentWillUnmount(){this.resizer.removeEventListener("mousedown",this._ffDragStartFunc),this._ffDragFunc&&document.removeEventListener("mousemove",this._ffDragFunc),this._ffDragEndFunc&&document.removeEventListener("mouseup",this._ffDragEndFunc)}render(){const{previewpane:e,isEmpty:t,isRTL:s}=this.props,a=this.context.getCss(I(),{previewpane:e}),{resize:n,dragStart:r}=this.state;if(!t){const e={};return d.createElement("div",{ref:e=>this.resizer=e,style:e,className:a.resizer,"data-test-id":"resizer"})}return d.createElement("div",{ref:e=>this.resizer=e,className:a.deadResizer,"data-test-id":"resizer"})}}L(F,"contextTypes",{getCss:c().func}),L(F,"defaultProps",{previewpaneInPixels:!1,previewpaneCookie:!1});const U=h.JJ(F);var k=s(76531),w=s(77163),G=s(9333),H=s(41920),B=s.n(H),x=s(66891),V=s(31280);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class W extends d.Component{constructor(e,t){super(e,t),this.onScroll=this.onScroll.bind(this),this.handleScrollToTopClick=this.handleScrollToTopClick.bind(this),this.elementContainer=d.createRef(),this.scrollToTopRendered=!1}handleScrollToTopClick(){const{forceScrollToTop:e}=this.props;e()}onScroll(e){const{onScroll:t,config:s}=this.props,a=s.scrollThresholdPercentage||5,n=e.getScrollPercent();n>a&&!this.scrollToTopRendered?(u.render(s.render(),this.elementContainer.current),this.scrollToTopRendered=!0):n<a&&this.scrollToTopRendered&&(u.unmountComponentAtNode(this.elementContainer.current),this.scrollToTopRendered=!1),t(e)}render(){const e=E()(B()),{WrappedList:t,scrollTop:s}=this.props;return d.createElement("div",{className:e.listContainer},d.createElement(t,Z({},this.props,{onScroll:this.onScroll,scrollTop:s})),d.createElement("div",{ref:this.elementContainer,onClick:this.handleScrollToTopClick}))}}var K,z,Y;K=W,z="defaultProps",Y={onScroll:()=>{},WrappedList:x.Z,config:{},scrollTop:0},z in K?Object.defineProperty(K,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):K[z]=Y;const j=W;var q=s(26),X=s(92559),Q=s(9026),J=s(17016),$=s(31057),ee=s(63523),te=s(27945),se=s.n(te),ae=s(43007),ne=s(67498),re=s(19341),oe=s(98109),ie=s(17272),le=s(41546),ce=s(27052),de=s.n(ce),_e=s(18352);const Ee=(0,m.defineMessages)({flash_sale_countdown_in_seconds:{id:"ad.flash_sale_countdown_in_seconds",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins, plural, =0 {} other {{mins} mins : }}\n            {secs} secs"},flash_sale_countdown:{id:"ad.flash_sale_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days : }}\n            {hrs, plural, =0 {} other {{hrs} hrs : }}\n            {mins} mins"},deal_extension_countdown:{id:"ad.deal_extension_countdown",defaultMessage:"{days, plural, =0 {} other {{days} days }}\n            {hrs, plural, =0 {} other {{hrs} hrs }}\n            {mins} mins"},ending_soon:{id:"ad.flash_sale_ending_soon",defaultMessage:"Sale ends in {duration}"},expire_in:{id:"ad.expire_in",defaultMessage:"Expires in {duration}"}});class ue extends d.Component{constructor(e){super(e),this.timerId=0,this.clearTimers=this.clearTimers.bind(this),this.startTimers=this.startTimers.bind(this),this.state={now:Date.now()}}clearTimers(){this.timerId&&(clearTimeout(this.timerId),this.timerId=0)}startTimers(){if(!this.timerId){const e=this.props.countdownInSeconds?1e3:6e4,t=this.props.flashSaleEndTime-this.state.now;this.timerId=setInterval((()=>{t<=e&&(this.clearTimers(),this.props.flashSaleAdEnded()),this.setState({now:this.state.now+e})}),e)}}componentDidMount(){this.startTimers()}componentWillUnmount(){this.clearTimers()}getFormatedTime(e){return e<0&&(e=0),{days:Math.floor(e/864e5),hrs:Math.floor(e/36e5)%24,mins:Math.floor(e/6e4)%60,secs:Math.round(e/1e3)%60}}render(){const{formatMessage:e}=this.context.intl,{flashSaleTextStyles:t,flashSaleEndTime:s,countdownInSeconds:a,isMobile:n,flashSaleStyles:r,isDealExtension:o}=this.props,i=s-this.state.now,l=E()(de(),{isDarkTheme:this.context.getThemeMode()===Q.zg.DARK,flashSaleHighlight:i<864e5}),c=e(a?Ee.flash_sale_countdown_in_seconds:Ee.flash_sale_countdown,this.getFormatedTime(i));let _=c;if(n){const t=e(Ee.deal_extension_countdown,this.getFormatedTime(i));_=o?e(Ee.expire_in,{duration:t}):e(Ee.ending_soon,{duration:c})}return d.createElement("div",{className:r||l.flashSaleCountdown},d.createElement(ae.Z,{kind:n?k.Kinds.STOPWATCH:k.Kinds.CLOCK,colorState:o?k.ColorStates.WHITE:k.ColorStates.STARRED,size:k.Sizes.XXS}),d.createElement("span",{className:t||l.flashSaleCountdownText},_))}}ue.contextTypes={intl:m.intlShape,getThemeMode:c().func};const me=(0,S.connect)(null,(e=>({flashSaleAdEnded:()=>e((0,_e.K5)())})))(ue);var Se=s(99972),pe=s(79483),Ce=s(336);function Ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Te=(0,m.defineMessages)({learn_more_btn_label:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch_btn_label:{id:"watch_btn_label",defaultMessage:"Watch"}}),Ie="https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.326962751;dc_trk_aid=490102767;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;ltd=",he="https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.326962751;dc_trk_aid=490102767;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ltd=?";class ge extends d.Component{constructor(...e){super(...e),Ae(this,"state",{previewVideoEnded:!1}),Ae(this,"onAdChoiceClicked",(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)})),Ae(this,"renderSponsoredIcon",((e,t)=>d.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(ae.Z,{kind:k.Kinds.SPONSORED,size:t,colorState:k.ColorStates.INHERITED})))),Ae(this,"onPreviewVideoEnd",(()=>{this.setState({previewVideoEnded:!0})})),Ae(this,"renderSponsoredImg",(e=>{const{isCompactLayout:t,msgListDensity:s,pencilAdData:a,isAdblockPencilAd:n}=this.props;if(a.type===oe.aB.VideoAdType&&a.previewVideoUrl&&!n)return d.createElement("div",{className:e.previewVideo},this.state.previewVideoEnded?d.createElement("img",{"data-test-id":"play-icon",className:e.videoOverlay,src:(0,le.A)("/img/gemini_pencil_play.png")}):null,d.createElement("video",{muted:!0,className:e.previewVideoPlayer,ref:e=>this.previewVideoPlayer=e},d.createElement("source",{src:a.previewVideoUrl,type:a.previewVideoContentType})));if(a.adImg){let n=re.u8.UNIFY_DESIGN_M;return s!==A.Ds1.SLIM||t||(n=re.u8.UNIFY_DESIGN_S),s!==A.Ds1.RELAXED||t||(n=re.u8.UNIFY_DESIGN_L),s===A.Ds1.RELAXED&&t&&(n=re.u8.UNIFY_DESIGN_COMPACT_SECOND_AD),d.createElement("div",{className:e.favicon},d.createElement(Se.Z,{size:n,imageSrc:a.adImg,overridingClass:e.faviconImg}))}})),Ae(this,"renderActionButton",((e,{type:t,callToAction:s},a,n,r)=>{const{isNormalizedSecondPencilAd:o,msgListDensity:i,isCompactLayout:l,adPosition:c}=this.props;if(c===A.e$m.MESSAGE_LIST&&!a&&!n&&!r)return null;if(r&&l)return null;if(c===A.e$m.MESSAGE_LIST_2&&!s)return null;const{formatMessage:_}=this.context.intl,E=t===oe.aB.VideoAdType?Te.watch_btn_label:Te.learn_more_btn_label,u=s||_(E);return o?i!==A.Ds1.RELAXED?d.createElement("div",null,d.createElement(ne.Z,{className:e.ctaButtonText,title:u,"data-test-id":"cta-btn"},u),l?null:d.createElement("span",{className:e.arrowContainer},d.createElement(ae.Z,{kind:k.Kinds.ARROW_UP,size:k.Sizes.XXS,colorState:k.ColorStates.GRAD_BLUE,rotate:k.Rotate.D90}))):d.createElement(ne.Z,{className:e.ctaButton,title:u,"data-test-id":"cta-btn"},u):d.createElement(ne.Z,{className:e.actionButton,title:u,"data-test-id":"cta-btn"},u)})),Ae(this,"renderFeedbackMenu",(e=>{const{isCompactLayout:t,sectionId:s}=this.props;return d.createElement("div",{className:e.feedbackContainer,"data-test-id":"ad-feedback-menu"},d.createElement(ie.Z,{size:k.Sizes.XXS,sectionId:s,isCompactLayout:t}))})),Ae(this,"renderCompactAd",(({classNames:e,pencilAdData:t,isSponsoredAd:s,isVideoAd:a,isFlashSaleAd:n,flashSaleAdInSecondsEnabled:r})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},d.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked,tabIndex:"-1"},"Ad"))),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},d.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":t.adSource,title:t.adSource},t.adSource),d.createElement("div",{className:e.sponsoredContainer},this.renderFeedbackMenu(e))),d.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":t.adHeadline,title:t.adHeadline},t.adHeadline),d.createElement("div",{className:e.snippetContainer},n?d.createElement(me,{flashSaleEndTime:t.flashSaleEndTime,countdownInSeconds:r}):null,!n&&d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":t.adSummary,title:t.adSummary},t.adSummary),this.renderActionButton(e,t,s,a,n))))))),Ae(this,"renderNormalAd",(({classNames:e,pencilAdData:t,isSponsoredAd:s,isVideoAd:a,isFlashSaleAd:n,flashSaleAdInSecondsEnabled:r})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),d.createElement("div",{className:e.advertiserContainer},d.createElement("span",{"aria-label":t.adSource,title:t.adSource,className:e.advertiser},t.adSource))),d.createElement("div",{className:e.spacerContainer},d.createElement("button",{className:e.adTextContainer,onClick:this.onAdChoiceClicked,tabIndex:"-1"},"Ad")),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("span",{className:e.subject,"aria-label":t.adHeadline,title:t.adHeadline},t.adHeadline),d.createElement("div",{className:e.snippetContainer},n&&d.createElement(me,{flashSaleEndTime:t.flashSaleEndTime,countdownInSeconds:r}),!n&&d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":t.adSummary,title:t.adSummary},t.adSummary),this.renderActionButton(e,t,s,a,n))),this.renderFeedbackMenu(e)))))}componentDidMount(){if(this.previewVideoPlayer&&this.previewVideoPlayer.play&&(this.previewVideoPlayer.play(),this.previewVideoPlayer.onended=this.onPreviewVideoEnd),this.props.isMisclickSponsoredAd){const e={mKey:X.JE.MAIL_PLUS_SPONSORED_AD_RENDERED,sec:X.nJ.MSG_LIST_AD,interactionType:X.Rb.view};pe.ZP.sendI13nModel({i13nModel:e}),(0,Ce.Z)(he,!1)}}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:a,msgListDensity:n,flashSaleAdInSecondsEnabled:r,flashSaleAdEnabled:o,isMailPlusUpsellAd:i,isMisclickSponsoredAd:l,isNormalizedSecondPencilAd:c}=this.props,{formatMessage:_}=this.context.intl,E=o&&e.type===oe.aB.FlashSaleAdType&&e.flashSaleEndTime>Date.now(),u=e.type===oe.aB.NativeAdType,m=e.type===oe.aB.VideoAdType,S=u&&s,p=this.context.getCss(se(),{isCompactLayout:s,sponsoredCompactLayout:S,secondPencilAd:a===A.e$m.MESSAGE_LIST_2&&!c,msgListDensity:`${s?"compact_":""}${n}`,isNormalizedSecondPencilAd:c,isFlashSaleAd:E}),C=s?"renderCompactAd":"renderNormalAd";return d.createElement("a",{rel:"noreferrer","data-test-id":`pencil-ad-${a}`,className:i||l?p.mailPlusUpsellLink:p.link,href:l?Ie:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t},this[C]({classNames:p,formatMessage:_,pencilAdData:e,isSponsoredAd:u,isVideoAd:m,msgListDensity:n,isFlashSaleAd:E,flashSaleAdInSecondsEnabled:r,isNormalizedSecondPencilAd:c}))}}Ae(ge,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func,getTheme:c().func});const Oe=ge;var De=s(7426),Re=s(83034),Ne=s(13594),Le=s.n(Ne),fe=s(28182);const Me=(0,m.defineMessages)({learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"},watch:{id:"watch_btn_label",defaultMessage:"Watch"}}),Pe=e=>{const{formatMessage:t}=(0,De.Y)(),{handleAdClicked:s,pencilAdData:a,flashSaleAdEnabled:n,sectionId:r,isCompactLayout:o,isAdblockPencilAd:i}=e,l=(0,Re.Z)(Le(),{isCompactLayout:o}),c=(0,d.useRef)(null),[_,E]=(0,d.useState)(!1),u=a.type,m=u===oe.aB.VideoAdType,S=n&&u===oe.aB.FlashSaleAdType&&a.flashSaleEndTime>Date.now(),p=()=>{E(!0)};(0,d.useEffect)((()=>{var e;m&&null!=c&&null!==(e=c.current)&&void 0!==e&&e.play&&(c.current.play(),c.current.onended=p)}),[m]);const C=()=>{const{adImg:e,previewVideoUrl:t,previewVideoContentType:s}=a;return m&&t&&!i?d.createElement("div",{className:l.previewVideo},_?d.createElement("img",{"data-test-id":"play-icon",className:l.videoOverlay,src:(0,le.A)("/img/gemini_pencil_play.png")}):null,d.createElement("video",{muted:!0,className:l.previewVideoPlayer,ref:c},d.createElement("source",{src:t,type:s}))):e?d.createElement(Se.Z,{size:o?re.u8.UNIFY_DESIGN_L:re.u8.UNIFY_DESIGN_XL,imageSrc:e,overridingClass:o?l.roundedAdImage:""}):void 0},A=()=>d.createElement("div",{id:"tall-pencil-ad-brand-name",className:l.adSource},"Ad",d.createElement("span",{className:l.bullet},"â¢"),a.adSource),T=()=>d.createElement("header",{id:"tall-pencil-ad-title",className:l.adTitle},a.adHeadline),I=()=>d.createElement("div",{className:l.adDescriptionContainer},d.createElement("span",{className:l.adDescription},a.adSummary),S?d.createElement("div",{className:l.countDownContainer,"data-test-id":"flash-sale-countdown"},d.createElement(me,{flashSaleEndTime:a.flashSaleEndTime,countdownInSeconds:!1})):null),h=()=>{const e=u===oe.aB.VideoAdType?Me.watch:Me.learnMore,s=a.callToAction||t(e);return d.createElement("div",{className:l.actionButtonContainer},d.createElement(ne.Z,{marginLess:!0,kind:fe.F.TEXT,overridingClass:l.actionButton,title:s},s),d.createElement(ae.Z,{kind:k.Kinds.ARROW_UP,rotate:k.Rotate.D90,colorState:k.ColorStates.SELECTED,size:k.Sizes.S}))},g=()=>d.createElement("div",{className:l.feedbackContainer},d.createElement(ie.Z,{size:k.Sizes.XS,sectionId:r,isCompactLayout:o,marginLess:!0}));return d.createElement("article",{"aria-labelledby":"tall-pencil-ad-brand-name tall-pencil-ad-title"},d.createElement("a",{rel:"noreferrer",href:a.clickUrl,target:"_blank",tabIndex:"-1","aria-hidden":!0,"data-test-id":"tall-pencil-ad",className:l.container,onClick:s},o?d.createElement(d.Fragment,null,d.createElement("div",{className:l.rowOne},A(),g()),d.createElement("div",{className:l.rowWrapper},d.createElement("figure",{className:l.adImage},C()),d.createElement("section",{className:l.contentContainer},d.createElement("div",{className:l.rowTwo},T()),d.createElement("div",{className:l.rowThree},I(),h())))):d.createElement(d.Fragment,null,d.createElement("figure",{className:l.adImage},C()),d.createElement("section",{className:l.contentContainer},d.createElement("div",{className:l.rowOne},A(),g()),d.createElement("div",{className:l.rowTwo},T()),d.createElement("div",{className:l.rowThree},I(),h())))))};Pe.defaultProps={};const be=Pe;var ye=s(17414),ve=s(81660);function Fe(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ue=(0,m.defineMessages)({ad_text_unified:{id:"ad_text_unified",defaultMessage:"Ad"}});class ke extends d.Component{constructor(...e){super(...e),Fe(this,"onAdChoiceClicked",(e=>{e.stopPropagation(),this.props.onAdChoiceClicked(e)})),Fe(this,"renderSponsoredIcon",((e,t)=>d.createElement("button",{className:e.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(ae.Z,{kind:k.Kinds.SPONSORED,size:t,colorState:k.ColorStates.INHERITED})))),Fe(this,"renderSponsoredImg",(e=>{const{pencilAdData:t,msgListDensity:s,adPosition:a}=this.props;if(t.adImg){const n=[re.u8.UNIFY_DESIGN_SECOND_AD_L,re.u8.UNIFY_DESIGN_S,re.u8.UNIFY_DESIGN_M,re.u8.UNIFY_DESIGN_L];let r=n[s];return a===A.e$m.MESSAGE_LIST_2&&r===re.u8.UNIFY_DESIGN_L&&(r=n[0]),d.createElement("div",{className:e.favicon},d.createElement(Se.Z,{size:r,imageSrc:t.adImg,doNotScaleUpImages:!0}))}})),Fe(this,"renderRating",((e,t)=>d.createElement("div",{className:t.starRatingContainer},d.createElement(ye.Z,{value:parseInt(e,10)/2})))),Fe(this,"renderCompactAd",(({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:a})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredIcon(e,k.Sizes.XXS))),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},d.createElement("span",{"data-test-id":"ad-subject",className:e.subject,"aria-label":s.adSource,title:s.adSource},s.adSource),d.createElement("div",{className:e.sponsoredContainer},d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(Ue.ad_text_unified)))),d.createElement("div",{"data-test-id":"ad-compact-headline",className:e.adHeadline,"aria-label":s.adHeadline,title:s.adHeadline},(0,ve.UU)(!0,a,s.adHeadline,e.highlightedTerm)),d.createElement("div",{className:e.snippetContainer},d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},(0,ve.UU)(!0,a,s.adSummary,e.highlightedTerm)),s.rating&&this.renderRating(s.rating,e))))))),Fe(this,"renderNormalAd",(({classNames:e,formatMessage:t,pencilAdData:s,searchKeyword:a,msgListDensity:n})=>d.createElement(d.Fragment,null,d.createElement("div",{className:e.gridB1},d.createElement("div",{className:e.imageContainer},this.renderSponsoredImg(e)),d.createElement("div",{className:e.advertiserContainer},d.createElement("span",{"aria-label":s.adSource,title:s.adSource,className:e.advertiser},s.adSource))),d.createElement("div",{className:e.spacerContainer},this.renderSponsoredIcon(e,n===A.Ds1.SLIM?k.Sizes.XS:k.Sizes.S)),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("span",{className:e.subject,"aria-label":s.adHeadline,title:s.adHeadline},(0,ve.UU)(!0,a,s.adHeadline,e.highlightedTerm)),d.createElement("div",{className:e.snippetContainer},d.createElement("span",{className:e.snippet,"data-test-id":"ad-summary","aria-label":s.adSummary,title:s.adSummary},(0,ve.UU)(!0,a,s.adSummary,e.highlightedTerm)),s.rating?this.renderRating(s.rating,e):null)),d.createElement("div",{className:e.adContainer},d.createElement("button",{className:e.sponsored,onClick:this.onAdChoiceClicked},t(Ue.ad_text_unified)))))))}render(){const{pencilAdData:e,onClick:t,isCompactLayout:s,adPosition:a,msgListDensity:n,searchKeyword:r,highlightSearchResultsPage:o}=this.props,{formatMessage:i}=this.context.intl,l=this.context.getCss(se(),{noAdFeedback:!0,isCompactLayout:s,secondPencilAd:a===A.e$m.MESSAGE_LIST_2,msgListDensity:`${s?"compact_":""}${n}`,highlightSearchResultsPage:o}),c=s?"renderCompactAd":"renderNormalAd";return d.createElement("a",{rel:"noreferrer","data-test-id":`pencil-ad-${a}`,className:`${l.link} ${l.transparentBackgroundLink}`,href:e.clickUrl,tabIndex:"-1","aria-hidden":!0,role:"row",target:"_blank",onClick:t},this[c]({classNames:l,searchKeyword:r,formatMessage:i,pencilAdData:e,msgListDensity:n}))}}Fe(ke,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func,getTheme:c().func});const we=ke;var Ge=s(3405),He=s(85927),Be=s(64059),xe=s(70302),Ve=s(67109),Ze=s(24947),We=s(87771);function Ke(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ze=(0,m.defineMessages)({mailplus_sponsor_summary:{id:"mailplus_sponsor_summary",defaultMessage:"{mailPlusMonthlyPrice}/month"},mailplus_sponsor_headline:{id:"mailplus_sponsor_headline",defaultMessage:"Treat yourself to an ad-free inbox and so many mail upgrades."},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"}});class Ye extends d.Component{constructor(...e){super(...e),Ke(this,"handleAdClicked",(e=>{const{pencilAdData:t,listId:s,sectionId:a,pencilAdClicked:n,isMailPlusUpsellAd:r,isMisclickSponsoredAd:o}=this.props;if(n({i13nModel:{mKey:o?X.JE.MAIL_PLUS_SPONSORED_AD_CLICK:X.JE.PENCIL_AD_CLICKED,sec:X.nJ.MSG_LIST_AD,interactionType:(0,J.getInteractionFromEvent)(e),actionData:{sectionId:t.sectionId||a,type:t.type}}}),-1!==[oe.aB.NativeAdType,oe.aB.VideoAdType].indexOf(t.type)||r){e.preventDefault();const a=(0,C.u9)(t,"actionUrls.IMPR_INTERNAL",[]);switch(t.type){case oe.aB.NativeAdType:case oe.aB.VideoAdType:(0,Ce.Z)(t.clickUrl,!1),a.forEach((function(e){e=e.replace("$(impr_label)","msm_open"),(0,Ce.Z)(e,!1)}))}this.context.navigateTo({route:(0,Ge.Q0)(s,t.creativeId)})}})),Ke(this,"onAdChoiceClicked",(e=>{e.preventDefault(),e.stopPropagation(),(0,Be.x)(this.props.aboutAdsUrl)})),Ke(this,"prepareMisclickSponsoredAd",(()=>{const{formatMessage:e}=this.context.intl,{yahooMailPlusBrandName:t}=this.context,{mailPlusMonthlyPrice:s,themeMode:a}=this.props,n=a===Q.zg.DARK;return{adImg:(0,le.A)(n?"/img/y_plus_badge_white.svg":"/img/y_plus_badge_color.svg"),adSource:t,adHeadline:e(ze.mailplus_sponsor_headline),adSummary:e(ze.mailplus_sponsor_summary,{mailPlusMonthlyPrice:s}),callToAction:e(ze.go_ad_free)}}))}shouldComponentUpdate(e){return e.pencilAdData.clickUrl!==this.props.pencilAdData.clickUrl||e.isCompactLayout!==this.props.isCompactLayout||e.viewabiltyContainerNode!==this.props.viewabiltyContainerNode||e.msgListDensity!==this.props.msgListDensity||e.feedbackStatus!==this.props.feedbackStatus||e.showMessageListBanner!==this.props.showMessageListBanner||e.isMisclickSponsoredAd!==this.props.isMisclickSponsoredAd}renderAdListItem(){const{isCompactLayout:e,adPosition:t,pencilAdData:s,flashSaleAdEnabled:a,flashSaleAdInSecondsEnabled:n,msgListDensity:r,sectionId:o,searchKeyword:i,isMailPlusUpsellAd:l,isAdblockPencilAd:c,isMisclickSponsoredAd:_,isTallPencilAd:E,highlightSearchResultsPage:u,isNormalizedSecondPencilAd:m}=this.props;return s.type===oe.aB.SearchAdType?d.createElement(we,{key:s.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:s,isCompactLayout:e,adPosition:t,msgListDensity:r,searchKeyword:i,highlightSearchResultsPage:u}):E&&t===A.e$m.MESSAGE_LIST?d.createElement(be,{key:s.type,handleAdClicked:this.handleAdClicked,pencilAdData:_?this.prepareMisclickSponsoredAd():s,sectionId:o,isCompactLayout:e,flashSaleAdEnabled:a,isAdblockPencilAd:c}):d.createElement(Oe,{key:s.type,onClick:this.handleAdClicked,onAdChoiceClicked:this.onAdChoiceClicked,pencilAdData:_?this.prepareMisclickSponsoredAd():s,isCompactLayout:e,adPosition:t,flashSaleAdEnabled:a,flashSaleAdInSecondsEnabled:n,msgListDensity:r,sectionId:o,isMailPlusUpsellAd:l,isMisclickSponsoredAd:_,isAdblockPencilAd:c,highlightSearchResultsPage:u,isNormalizedSecondPencilAd:m})}render(){const{pencilAdData:e,viewabiltyContainerNode:t,sectionId:a,feedbackStatus:n,isCompactLayout:r,msgListDensity:o,themeMode:i,purchaseMailproFreeTrial:l,showMessageListBanner:c,isMisclickSponsoredAd:_}=this.props;if(c&&(!e||e.type!==oe.aB.SearchAdType)){const e={upsellId:this.props.upsellId};return d.createElement(We.cr,{import:"../../atoms/mailpro_free_trial/message_list_banner",isCompactLayout:r,msgListDensity:o,themeMode:i,purchaseMailproFreeTrial:l,cueName:A.ANe.MAILPRO_FREE_TRIAL_UPSELLS,computeUserResponse:()=>this.props.upsellId,computeActionData:()=>e,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,93745))},_moduleResolver:function(){return 93745}})}if(!e||!e.clickUrl)return null;return n===A._re.STARTED||n===A._re.SUBMITTED||n===A._re.DELETED||n===A._re.LIKED?d.createElement(Ve.ZP,{sectionId:a}):_?this.renderAdListItem():d.createElement(xe.ZP,{pencilAdData:e,sectionId:a,rootNode:t},this.renderAdListItem())}}Ke(Ye,"contextTypes",{navigateTo:c().func,intl:m.intlShape.isRequired,yahooMailPlusBrandName:c().string});const je=(0,S.connect)(((e,t)=>{const{getAdsSelectors:s,isFeatureEnabled:a,getSetting:n,getRoute:r,getMailPremiumFreeTrialSelectors:o}=(0,He.selectors)(e),{sectionId:i}=t,l=s(),c=r(),d=n(A.Zrf.PREVIEW_PANE)===A.EsZ.RIGHT,_=n(A.Zrf.GEMINI_SECTION_IDS),{MESSAGE_LIST:E,MESSAGE_LIST_2:u,ADBLOCK_MESSAGE_LIST:m}=A.e$m,S=(0,$.LY)(c),p=(0,$.Q7)(S),C=l.getAdFeedbackStatus(),T=o().getUpsellId(),I=a(A.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&T===A.$AH.PRE_SIGNUP_PENCIL_BANNER,h=l.getPencilAdData(i);let{creativeId:g}=h;g=parseInt(g,10)||0;const O=n(A.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS),D=l.isABPDetected(),R=n(A.Zrf.MAIL_PLUS_MONTHLY_PRICE),N=a(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&l.hasAdBeenMisclicked(),L=a(A.ANe.NORMALIZED_SECOND_PENCIL_AD);return{aboutAdsUrl:n(A.Zrf.ABOUT_AD_URL),pencilAdData:h,flashSaleAdEnabled:a(A.ANe.FLASH_SALE_AD),flashSaleAdInSecondsEnabled:a(A.ANe.FLASH_SALE_AD_IN_SECONDS),msgListDensity:n(A.Zrf.MSG_LIST_DENSITY),isCompactLayout:d,adPosition:i===_[E]||i===_[m]?E:u,searchKeyword:p,feedbackStatus:C[i],themeMode:n(A.Zrf.THEME_MODE),showMessageListBanner:I,upsellId:T,isMailPlusUpsellAd:a(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE)&&-1!==O.indexOf(g),isMisclickSponsoredAd:N,isAdblockPencilAd:D,mailPlusMonthlyPrice:R,isTallPencilAd:a(A.ANe.TALL_PENCIL_AD),highlightSearchResultsPage:a(A.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),isNormalizedSecondPencilAd:L}}),(e=>({pencilAdClicked:t=>e((0,_e.gB)(t)),purchaseMailproFreeTrial:t=>e((0,Ze.A)(t))})))(Ye);var qe=s(33266),Xe=s.n(qe),Qe=s(56148);const Je=(0,m.defineMessages)({hide_ad:{id:"hide_ad",defaultMessage:"Hide Ad"}}),$e=e=>{const{handleAdClicked:t,pencilAdData:s,flashSaleAdEnabled:a,sectionId:n,isCompactLayout:r,toggleBottomStickyPencilAd:o,bottomStickyPencilAdIsCollapsed:i,isDarkTheme:l,isAdblockPencilAd:c,handleHideAdByUser:_,isAdWithHideOption:E}=e,{formatMessage:u}=(0,De.Y)(),m=(0,Re.Z)(Xe(),{isCompactLayout:r}),S=(0,d.useRef)(null),[p,C]=(0,d.useState)(!1),A=s.type,T=A===oe.aB.VideoAdType,I=a&&A===oe.aB.FlashSaleAdType&&s.flashSaleEndTime>Date.now(),h=()=>{C(!0)},g=e=>{e.stopPropagation(),e.preventDefault(),o({i13nModel:{mKey:X.JE.TOGGLE_BOTTOM_STICKY_PENCIL_AD,sec:X.nJ.BOTTOM_STICKY_PENCIL_AD,actionData:{clickToExpand:i}}})};(0,d.useEffect)((()=>{var e;T&&null!=S&&null!==(e=S.current)&&void 0!==e&&e.play&&(S.current.play(),S.current.onended=h)}),[T]);const O=()=>{const{adImg:e,hqImage:t,previewVideoUrl:a,previewVideoContentType:n}=s;return T&&a&&!c?d.createElement("div",{className:i?m.collapsePreviewVideo:m.previewVideo},p?d.createElement("img",{"data-test-id":"play-icon",className:i?m.collapseVideoOverlay:m.videoOverlay,src:(0,le.A)("/img/gemini_pencil_play.png")}):null,d.createElement("video",{muted:!0,className:i?m.collapseAdImage:m.adImage,ref:S},d.createElement("source",{src:a,type:n}))):r?e?d.createElement("img",{className:m.adImage,src:e}):null:t?d.createElement("img",{className:i?m.collapseAdImage:m.adImage,src:t}):null},D=()=>d.createElement("div",{id:"bottom-sticky-pencil-ad-brand-name",className:m.adSource},"Ad",d.createElement("span",{className:m.bullet},"â¢"),s.adSource),R=()=>d.createElement("header",{id:"bottom-sticky-pencil-ad-title",className:m.adTitle},s.adHeadline),N=()=>d.createElement("div",{className:m.adDescriptionContainer},d.createElement("span",{className:m.adDescription},s.adSummary),I?d.createElement("div",{className:m.countDownContainer,"data-test-id":"flash-sale-countdown"},d.createElement(me,{flashSaleEndTime:s.flashSaleEndTime,countdownInSeconds:!1})):null),L=()=>d.createElement("section",{className:m.chevronContainer},d.createElement(Qe.Z,{kind:k.Kinds.CHEVRON_UP,colorStates:l?{normal:k.ColorStates.THIRD_LEVEL_GRAY,hovered:k.ColorStates.WHITE}:{normal:k.ColorStates.IMPROVED_GRAY_DARK,hovered:k.ColorStates.SELECTED},size:k.Sizes.S,rotate:i?null:k.Rotate.D180,onClick:g,paddingLess:!0,tabIndex:0})),f=()=>d.createElement("section",{className:m.hideBtnContainer},d.createElement(G.default,{title:u(Je.hide_ad),kind:k.Kinds.EYE_SLASH,colorState:l?k.ColorStates.THIRD_LEVEL_GRAY:k.ColorStates.IMPROVED_GRAY_DARK,size:k.Sizes.XS,onClick:_,paddingLess:!0,tabIndex:0})),M=()=>d.createElement("div",{className:m.feedbackContainer},d.createElement(ie.Z,{size:k.Sizes.XS,sectionId:n,isCompactLayout:r,marginLess:!0}));return d.createElement("article",{"aria-labelledby":"bottom-sticky-pencil-ad-brand-name bottom-sticky-pencil-ad-title"},d.createElement("a",{rel:"noreferrer",href:s.clickUrl,target:"_blank",tabIndex:"-1","aria-hidden":!0,"data-test-id":"bottom-sticky-pencil-ad",onClick:t},r?i?d.createElement("div",{className:m.collapseContainer},d.createElement("div",{className:m.rowOne},D(),M()),d.createElement("div",{className:m.collapseRowWrapper},R(),L())):d.createElement("div",{className:m.container},d.createElement("div",{className:m.rowOne},D(),M()),d.createElement("div",{className:m.rowWrapper},O(),d.createElement("section",{className:m.contentContainer},d.createElement("div",{className:m.rowTwo},d.createElement("header",{id:"bottom-sticky-pencil-ad-title",className:m.adTitleWrap},s.adHeadline)),d.createElement("div",{className:m.rowThree},N())),E?f():L())):i?d.createElement("div",{className:m.collapseContainer},O(),d.createElement("div",{className:m.collapseAdLable},D()),d.createElement("div",{className:m.collapseAdTitle},R()),d.createElement("div",{className:m.collapseChevron},L())):d.createElement("div",{className:m.container},O(),d.createElement("section",{className:m.contentContainer},d.createElement("div",{className:m.rowOne},D(),M()),d.createElement("div",{className:m.adContentContainer},d.createElement("div",{className:m.leftContainer},d.createElement("section",{className:m.adContent},R(),N()),d.createElement("div",{className:m.arrowIconContainer},d.createElement(ae.Z,{kind:k.Kinds.ARROW_UP,rotate:k.Rotate.D90,colorState:k.ColorStates.SELECTED,size:k.Sizes.XS}))),E?f():L())))))};$e.defaultProps={toggleBottomStickyPencilAd:()=>{},bottomStickyPencilAdIsCollapsed:!1};const et=$e;var tt=s(78737),st=s(94070);const at=(0,m.defineMessages)({mailplus_sponsor_summary:{id:"mailplus_sponsor_summary",defaultMessage:"{mailPlusMonthlyPrice}/month"},mailplus_sponsor_headline:{id:"mailplus_sponsor_headline",defaultMessage:"Treat yourself to an ad-free inbox and so many mail upgrades."},go_ad_free:{id:"ad_upsell_label",defaultMessage:"Go ad-free"}}),nt=(0,S.connect)((e=>{const{getAdsSelectors:t,isFeatureEnabled:s,getSetting:a,getRoute:n,getCurrentListId:r}=(0,He.selectors)(e),o=a(A.Zrf.GEMINI_SECTION_IDS)[A.e$m.MESSAGE_LIST],i=t(),l=n(),c=a(A.Zrf.PREVIEW_PANE)===A.EsZ.RIGHT,d=i.getAdFeedbackStatus(),_=i.getPencilAdData(o);let{creativeId:E}=_;E=parseInt(E,10)||0;const u=a(A.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS),m=i.isABPDetected(),S=a(A.Zrf.MAIL_PLUS_MONTHLY_PRICE),p=s(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&i.hasAdBeenMisclicked(),C=d[o],T=C===A._re.STARTED||C===A._re.SUBMITTED||C===A._re.DELETED||C===A._re.LIKED,I=r(),h=s(A.ANe.BOTTOM_STICKY_PENCIL_AD_WITH_HIDE_OPTION);return{bottomStickyPencilAdEnabled:s(A.ANe.BOTTOM_STICKY_PENCIL_AD),sectionId:o,pencilAdData:_,flashSaleAdEnabled:s(A.ANe.FLASH_SALE_AD),isCompactLayout:c,isAdDeletedByFeedbackStatus:T,themeMode:a(A.Zrf.THEME_MODE),isMailPlusUpsellAd:s(A.ANe.MAIL_PLUS_SPONSORED_MESSAGE)&&-1!==u.indexOf(E),isMisclickSponsoredAd:p,isAdblockPencilAd:m,mailPlusMonthlyPrice:S,bottomStickyPencilAdIsCollapsed:i.isBottomStickyPencilAdCollapsed(),listId:I,route:l,isAdblockDelayDismissShowing:s(A.ANe.ADBLOCK_DELAY_DISMISS)&&m,isAdWithHideOption:h}}),(e=>({navigateToRoute:t=>e((0,tt.Ch)(t)),pencilAdClicked:t=>e((0,_e.gB)(t)),toggleBottomStickyPencilAd:t=>e((0,_e.F$)(t))})))((e=>{const{pencilAdData:t,sectionId:s,isMisclickSponsoredAd:a,viewabiltyContainerNode:n,themeMode:r,isCompactLayout:o,flashSaleAdEnabled:i,isAdblockPencilAd:l,bottomStickyPencilAdIsCollapsed:c,mailPlusMonthlyPrice:_,isMailPlusUpsellAd:E,listId:u,toggleBottomStickyPencilAd:m,pencilAdClicked:S,navigateToRoute:p,isAdDeletedByFeedbackStatus:T,bottomStickyPencilAdEnabled:I,route:h,isAdblockDelayDismissShowing:g,isAdWithHideOption:O}=e,D=r===Q.zg.DARK,{formatMessage:R}=(0,De.Y)(),{yahooMailPlusBrandName:N}=(0,st.B)(),[L,f]=(0,d.useState)(!1);(0,d.useEffect)((()=>{f((e=>!e&&e))}),[t]);const M=(0,d.useCallback)((()=>({adImg:(0,le.A)(D?"/img/y_plus_badge_white.svg":"/img/y_plus_badge_color.svg"),adSource:N,adHeadline:R(at.mailplus_sponsor_headline),adSummary:R(at.mailplus_sponsor_summary,{mailPlusMonthlyPrice:_}),callToAction:R(at.go_ad_free)})),[D,N,_,R]);return I&&t&&t.clickUrl&&(0,$.WN)(u)===A.F6k.MESSAGES&&h.name!==A.n8z.STOREFRONT&&(h.name!==A.n8z.SEARCH||(0,$.rB)(h)||(0,$.Qo)(u))&&!g&&!L?T?d.createElement(Ve.ZP,{sectionId:s}):d.createElement(xe.ZP,{pencilAdData:t,sectionId:s,rootNode:n},d.createElement(et,{key:t.type,handleAdClicked:e=>{if(S({i13nModel:{mKey:a?X.JE.MAIL_PLUS_SPONSORED_AD_CLICK:X.JE.PENCIL_AD_CLICKED,sec:X.nJ.MSG_LIST_AD,interactionType:(0,J.getInteractionFromEvent)(e),actionData:{sectionId:t.sectionId||s,type:t.type}}}),-1!==[oe.aB.NativeAdType,oe.aB.VideoAdType].indexOf(t.type)||E){e.preventDefault();const s=(0,C.u9)(t,"actionUrls.IMPR_INTERNAL",[]);switch(t.type){case oe.aB.NativeAdType:case oe.aB.VideoAdType:(0,Ce.Z)(t.clickUrl,!1),s.forEach((function(e){e=e.replace("$(impr_label)","msm_open"),(0,Ce.Z)(e,!1)}))}p({route:(0,Ge.Q0)(u,t.creativeId)})}},pencilAdData:a?M():t,sectionId:s,isDarkTheme:D,isCompactLayout:o,flashSaleAdEnabled:i,isAdblockPencilAd:l,toggleBottomStickyPencilAd:m,bottomStickyPencilAdIsCollapsed:c,handleHideAdByUser:e=>{e.stopPropagation(),e.preventDefault(),f(!0),pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.HIDE_BOTTOM_STICKY_PENCIL_AD,sec:X.nJ.BOTTOM_STICKY_PENCIL_AD,actionData:{}}})},isAdWithHideOption:O})):null}));var rt=s(45481),ot=s(40902),it=s(72103),lt=s(79918),ct=s.n(lt);function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Et=(0,m.defineMessages)({coupon_aria_label:{id:"coupon_aria_label",defaultMessage:"{fromName}'s coupon"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"}});class ut extends d.Component{constructor(...e){super(...e),_t(this,"state",{hovered:!1,openMailClicked:!1,parentMessageRequested:!1}),_t(this,"handleOpenMail",(e=>{const{openMailClicked:t}=this.state;e.preventDefault(),e.stopPropagation(),t||this.setState({openMailClicked:!0})})),_t(this,"openParentMessage",(()=>{const{cardMid:e,fromEmail:t,saved:s,isAffiliatePartnerEnabled:a,listId:n,groupId:r,cardConversationId:o,getParentGroupId:i}=this.props,{parentMessageRequested:l}=this.state;if(r){const o={mKey:X.JE.COUPON_OPENED,sec:X.nJ.COUPONS_LIST,actionData:{cardMid:e,fromEmail:t,isSavedDeal:s,isAffiliatePartnerEnabled:a}};this.props.onCouponClick({route:(0,Ge.m9)(n,r),streamItem:{listId:n,id:r},i13nModel:o,full:!0}),this.setState({openMailClicked:!1})}else l||(i(o),this.setState({parentMessageRequested:!0}))})),_t(this,"handleAffiliateLinkClick",(e=>{const{cardMid:t,dealLink:s,fromEmail:a}=this.props;pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_INTERACT,sec:X.nJ.COUPONS_LIST,actionData:{xpname:A.pdX.COUPON_SMART_VIEW_COUPON_LIST_ITEM,msgId:t,brandurl:s,cardId:t,slot:X.KJ.COUPON_SMART_VIEW,sndr:a,affiliatePartner:e,featurefamily:A.lMo.IC,interactiontype:X.Rb.click,interacteditem:"deal_email"}}})})),_t(this,"clipCoupon",(e=>{e.preventDefault(),e.stopPropagation();const{cardMid:t}=this.props,s={mKey:X.JE.COUPON_CLIPPED,sec:X.nJ.COUPONS_LIST};this.props.clip({cardMid:t,i13nModel:s})})),_t(this,"unclipCoupon",(e=>{e.preventDefault(),e.stopPropagation();const t={mKey:X.JE.COUPON_UNCLIPPED,sec:X.nJ.COUPONS_LIST},{cardMid:s}=this.props;this.props.unclip({cardMid:s,i13nModel:t})}))}componentDidUpdate(){const{openMailClicked:e}=this.state;e&&this.openParentMessage()}render(){const{saved:e,cardMid:t,daysUntilExpiry:s,dealLink:a,description:n,fromEmail:r,fromName:o,hideBottomBorder:i,isAffiliatePartnerEnabled:l,isInferredDate:c,locale:_,partner:u,appId:m,affiliateCrumb:S,commerceIntentBrands:p}=this.props;if(!r||!o||!n)return null;const{formatMessage:C}=this.context.intl,T=this.context.getTheme(),I=this.context.getThemeMode(),h=E()(ct(),{themeCombo:`${I}_${T}`,themeMode:I,hideBottomBorder:i}),g={target:"_blank",title:n,rel:"noreferrer"};if(l&&a){let e="";(null==o?void 0:o.toLowerCase())in p?e="commerce_brand_intent":"all"in p&&(e="commerce_intent");const{affiliatePartnerName:t="",affiliatePartnerUrl:s=""}=(0,rt.sx)({affiliateLink:a,locale:_,region:this.context.region,partner:u,appId:m,clickRef:A.pdX.COUPON_SMART_VIEW_COUPON_LIST_ITEM,affiliateCrumb:S,pageId:e});g.href=s,g.onClick=()=>this.handleAffiliateLinkClick(t)}else a&&(g.href=a);return d.createElement("a",dt({role:"row","data-test-id":"coupon-list-item","aria-label":C(Et.coupon_aria_label,{fromName:o}),onClick:this.handleOpenMail,className:h.container,key:t,onMouseOver:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),rel:"noreferrer"},g),d.createElement("span",{className:h.avatar},d.createElement(re.ZP,{"data-test-id":"coupon-vendor-xavatar",contact:{email:r},size:re.u8.C,useFallbackImage:!1})),d.createElement("div",{className:h.subContainer},d.createElement("div",{className:h.vendorGrid},d.createElement("span",{"data-test-id":"coupon-vendor-name",className:h.vendorName,title:r},o)),d.createElement("div",{className:h.infoGrid},e?d.createElement(ne.Z,{className:h.clippedButton,onClick:this.unclipCoupon,"data-test-id":"unclip-coupon-btn"},d.createElement(ae.Z,{kind:k.Kinds.SCISSORS,size:k.Sizes.XXS,colorState:k.ColorStates.INVERTED})):d.createElement(ne.Z,{className:h.unclippedButton,onClick:this.clipCoupon,"data-test-id":"clip-coupon-btn"},d.createElement(ae.Z,{kind:k.Kinds.SCISSORS,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED})),d.createElement("span",{"data-test-id":"coupon-description",className:l&&a?h.affiliatePartnerDescription:h.description},n),this.state.hovered?d.createElement(G.default,{kind:k.Kinds.SELECTED,size:k.Sizes.XS,onClick:this.handleOpenMail,colorState:k.ColorStates.INHERITED,className:h.openEmailIcon,title:C(Et.openMessage),"data-test-id":"open-email-icon"}):null,d.createElement("div",{className:h.dateWrapper,"data-test-id":"expiry-date-wrapper"},e?d.createElement("strong",{"data-test-id":"clipped-cpn-expiry-info"},d.createElement(ot.Z,{daysUntilExpiry:s,isInferred:c})):d.createElement("span",{className:h.unclippedCpnExpiryInfo,"data-test-id":"unclipped-cpn-expiry-info"},d.createElement(ot.Z,{daysUntilExpiry:s,isInferred:c}))))))}}_t(ut,"contextTypes",{intl:m.intlShape.isRequired,region:c().string,getUrlFromRoute:c().func,getThemeMode:c().func,getTheme:c().func,executeAction:c().func});const mt=(0,S.connect)(it.K,it.ZS)(ut);var St=s(16107),pt=s.n(St),Ct=s(57801);function At(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Tt=(0,m.defineMessages)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"},learnMore:{id:"learn_more_btn_label",defaultMessage:"Learn More"}}),It={};class ht extends d.Component{constructor(...e){super(...e),At(this,"state",{adImageHover:!1}),At(this,"listNode",document.querySelector('[data-test-id="mail-reader-list-container"]')),At(this,"onAdChoiceClicked",(e=>{e.preventDefault(),e.stopPropagation(),(0,Be.x)(this.props.aboutAdsUrl)})),At(this,"onAdImageHoverChange",((e,t)=>{e.preventDefault(),e.stopPropagation(),this.props.adVersion===A.C96.CTR_ON_IMG&&this.setState({adImageHover:t})})),At(this,"onAdClicked",(()=>{this.props.onAdClicked({i13nModel:{mKey:X.JE.DEALS_SHOPPING_CART_AD_CLICKED,sec:X.nJ.COUPONS_LIST}})}))}componentDidMount(){const e=this.props.pencilAd&&this.props.pencilAd.clickUrl;e&&!It[e]&&(this.shoppingCartBeaconTimer=setImmediate((()=>{It[e]||(this.props.onAdRendered({i13nModel:{mKey:X.JE.DEALS_SHOPPING_CART_AD_RENDERED,sec:X.nJ.SHOPPING_CART}}),It[e]=!0)})))}componentWillUnmount(){clearImmediate(this.shoppingCartBeaconTimer)}render(){const{pencilAd:e,isWideView:t,adVersion:s,isCompactView:a}=this.props,n=s===A.C96.THEMED_BUTTON,r=this.context.getCss(pt(),{isWideView:t,isCompactView:a,themedAdActivity:n,ctaOnImg:!n}),{formatMessage:o}=this.context.intl,{clickUrl:i,origImg:l,productAdActivity:c,productAdActivityMessage:_,adHeadline:E,adSource:u,sectionId:m,callToAction:S}=e,p=Tt[c]?o(Tt[c]):_,C=n?{color:O.Cjz}:{},T=this.state.adImageHover?{visibility:"visible"}:{};return i?d.createElement(xe.ZP,{rootNode:this.listNode,pencilAdData:e,sectionId:m,className:r.viewabilityTracker},d.createElement("a",{className:r.adContainer,href:i,target:"_blank",rel:"noreferrer",onClick:this.onAdClicked},d.createElement("div",{className:r.imageContainer,style:{backgroundImage:`url(${l})`},onMouseEnter:e=>this.onAdImageHoverChange(e,!0),onMouseLeave:e=>this.onAdImageHoverChange(e,!1)},s===A.C96.CTR_ON_IMG?d.createElement("div",{className:r.ctaBackground},d.createElement("span",{className:r.cta,style:T},S)):null),d.createElement("span",{className:r.content},d.createElement("div",{className:r.fromNameContainer},d.createElement("span",{className:r.fromName},u),d.createElement("button",{className:r.sponsoredIcon,onClick:this.onAdChoiceClicked,tabIndex:"-1"},d.createElement(ae.Z,{kind:k.Kinds.SPONSORED,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED}))),d.createElement("span",{className:r.description},E),d.createElement("span",{className:r.adActivity,style:C},p||o(Tt.RECOMMENDATION))))):null}}At(ht,"defaultProps",{pencilAd:{}}),At(ht,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired});const gt=(0,S.connect)(it.f9,it.c_)(ht);function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Rt extends d.Component{constructor(...e){super(...e),Dt(this,"handleAffiliateLinkClick",(e=>{const{cmid:t,parentMessageId:s,dealLink:a,retailer:n,relevanceScore:r}=this.props;pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_INTERACT,sec:X.nJ.COUPONS_LIST,actionData:{xpname:A.pdX.COUPON_SMART_VIEW_DEAL_ITEM,msgId:s,cardId:t,brandurl:a,slot:X.KJ.COUPON_SMART_VIEW,sndr:n,affiliatePartner:e,featurefamily:A.lMo.IC,interactiontype:X.Rb.click,interacteditem:"deal_card",score:r}}})}))}render(){const{creativeId:e,dealLink:t,description:s,imageUrl:a,isAffiliatePartnerEnabled:n,locale:r,mainContentWidth:o,marginLess:i,partner:l,retailer:c="",retailerLogoUrl:_,appId:E,affiliateCrumb:u,commerceIntentBrands:m}=this.props,S=o>Ct.v4,p=o<Ct.Si,C=this.context.getCss(pt(),{isWideView:S,isCompactView:p,marginLess:i}),T=!e;let I="";(null==c?void 0:c.toLowerCase())in m?I="commerce_brand_intent":"all"in m&&(I="commerce_intent");const{affiliatePartnerName:h,affiliatePartnerUrl:g}=n&&t?(0,rt.sx)({affiliateLink:t,locale:r,region:this.context.region,partner:l,appId:E,clickRef:A.pdX.COUPON_SMART_VIEW_DEAL_ITEM,affiliateCrumb:u,pageId:I}):{affiliatePartnerName:"",affiliatePartnerUrl:""},O={target:"_blank",title:s,rel:"noreferrer"};return n&&t?(O.href=g||t,O.onClick=()=>this.handleAffiliateLinkClick(h)):t&&(O.href=t),T?d.createElement("a",Ot({className:C.container},O),d.createElement("img",{className:C.image,src:a||_||(0,le.A)("/img/deal_image_placeholder.png")}),d.createElement("span",{className:C.content},d.createElement("span",{className:C.fromName},c),d.createElement("span",{className:C.description},s))):d.createElement(gt,Ot({},this.props,{isWideView:S,isCompactView:p}))}}Dt(Rt,"contextTypes",{getCss:c().func,region:c().string});const Nt=(0,S.connect)(it.K,it.ZS)(Rt);function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class ft extends d.Component{componentDidMount(){const{items:e=[]}=this.props,t=e.map((e=>e.cmid||"")),s=e.map((e=>e.relevanceScore||0)),a={featurefamily:A.lMo.IC,slot:X.KJ.COUPON_SMART_VIEW,cardId:t,score:s,xpname:A.pdX.RECOMMENDED_DEALS};pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_VIEW,sec:X.nJ.COUPONS_LIST,actionData:a}})}render(){const e=this.context.getCss(pt()),{items:t=[]}=this.props;return d.createElement("div",{className:e.row,"data-test-id":"top-deals-row"},t.map(((e,t)=>d.createElement(Nt,Lt({key:e.cmid||e.creativeId},e,{marginLess:0===t})))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(ft,"contextTypes",{getCss:c().func});var Mt=s(51418),Pt=s.n(Mt);function bt({onRetry:e,route:t,isOnline:s},a){const n=a.getCss(Pt());return s?d.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.createElement("p",null,d.createElement(m.FormattedMessage,{id:"folder_loading_error",defaultMessage:"An error occurred while trying to fetch the items in this list."})),d.createElement("a",{"data-test-id":"list-loading-error-retry",className:n.listLoadingRetry,onClick:()=>e({route:t})},d.createElement(m.FormattedMessage,{id:"list_loading_error_retry",defaultMessage:"Retry"}))):d.createElement("div",{"data-test-id":"message-group-list-error",className:n.errorContainer},d.createElement("p",null,d.createElement(m.FormattedMessage,{id:"list_offline_loading_error",defaultMessage:"You are offline."})))}bt.contextTypes={getCss:c().func};const yt=(0,S.connect)((e=>{const{getRoute:t,normalizeRoute:s,isOnline:a}=(0,He.selectors)(e);return{route:s(t()),isOnline:a()}}),(e=>({onRetry:t=>e((0,tt.Ch)({...t,retry:!0,forceSync:!0}))})))(bt);var vt=s(82406),Ft=s.n(vt);const Ut=E()(Ft());class kt extends d.Component{render(){const{count:e,formatNumber:t}=this.props;return(this.props.x||this.props.y)&&(this.iconStyles={left:this.props.x,top:this.props.y}),d.createElement("div",{className:this.iconStyles&&Ut.dragIcon,style:this.iconStyles?this.iconStyles:{}},d.createElement(ae.Z,{kind:k.Kinds.INBOX,size:k.Sizes.XS}),d.createElement("b",{className:Ut.counter},t(e)))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(kt,"defaultProps",{formatNumber:e=>""+e});const wt=(0,S.connect)((e=>{const{getNumberOfSelectedItemsInList:t,getRoute:s}=(0,He.selectors)(e),a=s();return{count:t((0,$.LY)(a))}}))(kt),Gt=(0,S.connect)(((e,t)=>{const{cardMid:s,conversationId:a,messageId:n}=t,{getMessagesSelectors:r,getFeaturesSelectors:o}=(0,He.selectors)(e),{getFromAddresses:i}=r(),l=o().isEnabled(A.ANe.CONVERSATIONS)?a:n,c=i(s);let d="",_="";return c&&c.length>0&&(d=c[0].email,_=c[0].name),{fromEmail:d,fromName:_,groupId:l}}));var Ht=s(60275),Bt=s.n(Ht);function xt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Vt=(0,m.defineMessages)({receipt_aria_label:{id:"receipt_aria_label",defaultMessage:"{fromName}'s receipt"},receipt_multiple_items:{id:"receipt_multiple_items",defaultMessage:"& {numItems} other {numItems, plural, =1 {item} other {items}}"}});class Zt extends d.Component{constructor(...e){super(...e),xt(this,"handleReceiptClick",(e=>{e.preventDefault();const{cardMid:t,fromEmail:s,listId:a,groupId:n}=this.props,r={mKey:X.JE.RECEIPT_OPENED,sec:X.nJ.RECEIPTS_LIST,actionData:{cardMid:t,fromEmail:s}};this.props.onReceiptClick({route:(0,Ge.m9)(a,n),streamItem:{listId:a,id:n},i13nModel:r})}))}render(){const{fromEmail:e,fromName:t,itemName:s,hideBottomBorder:a,price:n,currency:r,orderDate:o,numItems:i}=this.props,{formatMessage:l,formatNumber:c}=this.context.intl,_=this.context.getTheme(),u=this.context.getThemeMode(),S=i<2?null:l(Vt.receipt_multiple_items,{numItems:i-1}),p=E()(Bt(),{themeCombo:`${u}_${_}`,themeMode:u,hideBottomBorder:a,noItemName:!s}),C=()=>{return r?c(n,{style:"currency",currency:r}):`${e=n,parseFloat(e.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]).toFixed(2)}`;var e};return d.createElement("a",{role:"row","data-test-id":"receipt-list-item","aria-label":l(Vt.receipt_aria_label,{fromName:t}),onClick:this.handleReceiptClick,className:p.container},d.createElement("span",{className:p.avatar},d.createElement(re.ZP,{"data-test-id":"receipt-vendor-xavatar",contact:{email:e},size:re.u8.C,useFallbackImage:!1})),d.createElement("div",{className:p.subContainer},d.createElement("div",{className:p.vendorGrid},d.createElement("span",{"data-test-id":"receipt-vendor-name",className:p.vendorName,title:e},t)),d.createElement("div",{className:p.infoGrid},d.createElement("span",{"data-test-id":"receipt-itemName",className:p.itemName},s," ",S),(e=>null!==e&&!isNaN(e))(n)?d.createElement("span",{"data-test-id":"receipt-price",className:p.price,"aria-label":C()},C()):null,d.createElement("div",{className:p.dateWrapper,"data-test-id":"date-received-wrapper"},d.createElement("span",{className:p.date,"data-test-id":"date-received-info"},d.createElement(m.FormattedDate,{value:new Date(o).toUTCString(),timeZone:"UTC",day:"2-digit",month:"short"}))))))}}xt(Zt,"contextTypes",{intl:m.intlShape.isRequired,getUrlFromRoute:c().func,getThemeMode:c().func,getTheme:c().func,executeAction:c().func});const Wt=Gt(Zt);var Kt=s(96862),zt=s.n(Kt),Yt=s(16488),jt=s(69954),qt=s(4846),Xt=s.n(qt);function Qt(e,t){const s=t.getCss(Xt());return d.createElement("div",{"data-test-id":"did-you-mean",className:s.didYouMean},d.createElement(m.FormattedMessage,{id:"search.did_you_mean",defaultMessage:"No results found. Showing search results for: {suggestedWord}.",values:{suggestedWord:d.createElement("span",{className:s.didYouMeanWord,"data-test-id":"did-you-mean-word"},e.suggestedWord)}}))}Qt.contextTypes={getCss:c().func};var Jt=s(55376),$t=s.n(Jt),es=s(33364),ts=s(70006);function ss(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const as=(0,m.defineMessages)({related_searches:{id:"search.related_searches",defaultMessage:"Related searches:"},related_search:{id:"search.related_search",defaultMessage:"Related search:"}});class ns extends d.Component{constructor(...e){super(...e),ss(this,"renderPill",((e,t,s,a)=>{const{name:n,position:r,id:o,email:i,emails:l=[]}=e,c=i||l[0],_=this.context.getThemeMode()===Q.zg.DARK;return d.createElement(es.default,{key:o+c,email:c,isCompose:!1,name:n,isRelatedSearchContactCard:!0},d.createElement(ts.default,{value:n,title:r,contactId:o,contactEmail:c,isLastElement:t===s.length-1,isSelected:a,onPillClick:()=>this.props.onClick(e),contact:e,useEllipsis:!0,maxWidth:O.hMM.S,isDark:_}))}))}static filterContacts(e){return e.length&&(e=e.filter((e=>{const{email:t,emails:s=[]}=e;return!!(t||s[0])}))),e}render(){const e=this.props.maxContactsVisible,t=ns.filterContacts(this.props.contacts).slice(0,e),s=t.length>1?as.related_searches:as.related_search,a=this.context.getCss($t());return t.length>0&&d.createElement("div",{className:a.container,"data-test-id":"search-suggest-contact"},d.createElement("div",{className:a.labelPadding},d.createElement(m.FormattedMessage,s)),t.map(((e,s)=>this.renderPill(e,s,t,!1))))}}ss(ns,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func}),ss(ns,"defaultProps",{tabIndex:-1,maxContactsVisible:2,selectedContacts:[],contacts:[]});const rs=ns;var os=s(18030),is=s(65304),ls=s(31208),cs=s.n(ls),ds=s(39239);c().func.isRequired,c().func.isRequired;const _s=(0,S.connect)(void 0,(e=>({toggleAdvancedSearchPane:t=>e((0,ds.p)(t))})))((({handleClick:e,toggleAdvancedSearchPane:t})=>{const s=(0,Re.Z)(cs());return d.createElement("div",{"data-iskeynav":!0,"data-test-id":"advanced-search-link",className:s.linkContainer,role:"button",onClick:s=>{t(),e(s)},onKeyDown:s=>{s.preventDefault(),s.stopPropagation(),s.key===A.R8U.ENTER&&(t(),e(s))}},d.createElement(m.FormattedMessage,{id:"search_header.advanced_search_label",defaultMessage:"Advanced search"}))}));var Es=s(90406),us=s(68003);function ms(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ss=(0,m.defineMessages)({content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_documents:{id:"search.content_filter_documents",defaultMessage:"Documents"}});class ps extends d.Component{constructor(...e){super(...e),ms(this,"state",{imagesHeader:null}),ms(this,"handleContentTypeChange",((e,t)=>{const s=X.JE["FILTER_"+t],a=s?{mKey:s,sec:X.nJ.HEADER_LIST,interactionType:(0,J.getInteractionFromEvent)(e)}:null;this.props.onContentTypeChange({listContentType:t,i13nModel:a})})),ms(this,"handleAdvancedSearchLinkClick",(e=>{const t={mKey:X.JE.ADVANCED_SEARCH,interactionType:(0,J.getInteractionFromEvent)(e)};this.props.focusSearchBar({i13nModel:t})})),ms(this,"renderContentTypeFilter",(()=>{const{activeContentType:e}=this.props,{formatMessage:t}=this.context.intl,s=e===A.F6k.MESSAGES,a=e===A.F6k.IMAGES,n=e===A.F6k.DOCUMENTS;return d.createElement(Yt.Z,null,d.createElement(jt.Z,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,A.F6k.MESSAGES),"data-test-id":"btn-messages-tab",tabIndex:-1,title:t(Ss.content_filter_messages)}),d.createElement(jt.Z,{isSelected:a,onClick:e=>this.handleContentTypeChange(e,A.F6k.IMAGES),"data-test-id":"btn-photos-tab",title:t(Ss.content_filter_images),tabIndex:-1,ref:e=>{this.state.imagesHeader||this.setState({imagesHeader:e})}}),d.createElement(jt.Z,{isSelected:n,onClick:e=>this.handleContentTypeChange(e,A.F6k.DOCUMENTS),"data-test-id":"btn-documents-tab",tabIndex:-1,title:t(Ss.content_filter_documents)}),this.renderSearchCue())})),ms(this,"updateContent",(()=>{this.popoverContent&&this.popoverContent.updatePosition()})),ms(this,"renderSearchCue",(()=>this.props.showSearchCue&&this.state.imagesHeader?d.createElement(os.yk,{popoverAnchor:this.state.imagesHeader,align:is.xM.CENTER,triggerOn:is.K2.MOUNT,permittedArrowDirections:[is.Ji.UP],offset:16,ref:e=>{this.popoverContent=e},zAltitude:O.LSY.POPOVER.HIGH},d.createElement(We.cr,{import:"../molecules/search_header/atoms/search_cue",cueName:A.ANe.SEARCH_CUE,onShow:this.updateContent,close:this.props.activeContentType!==A.F6k.MESSAGES,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,75531))},_moduleResolver:function(){return 75531}})):null)),ms(this,"renderSuggestedWords",(()=>{const{suggestedWords:e}=this.props,[t]=e;return t?d.createElement(Qt,{suggestedWord:t}):null})),ms(this,"renderSuggestedContacts",(()=>{const{suggestedContacts:e,suggestedWords:t}=this.props;return t.length?null:!this.props.isPeopleSearch&&e&&e.length>0&&d.createElement(rs,{contacts:e,onClick:this.props.onContactClick})}))}render(){const{showAdvancedSearchInSearchHeader:e}=this.props,t=this.context.getCss(zt());return d.createElement(us.Z,{axis:us.U.HORIZONTAL,circularNavigation:!1,groupTabIndex:O.iUz.SEGMENTED_CONTROL_FILTERS,role:"toolbar",className:t.searchHeader,"data-test-id":"search-header"},this.renderContentTypeFilter(),e&&d.createElement(_s,{handleClick:this.handleAdvancedSearchLinkClick}),this.renderSuggestedWords(),this.renderSuggestedContacts())}}ms(ps,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired});const Cs=(0,S.connect)((e=>{const{isFeatureEnabled:t}=(0,He.selectors)(e);return{showAdvancedSearchInSearchHeader:t(A.ANe.ADVANCED_SEARCH_IN_SEARCH_HEADER)}}),(e=>({focusSearchBar:({i13nModel:t})=>e((0,Es.tB)({i13nModel:{sec:X.nJ.HEADER_SEARCH,...t}}))})))(ps);function As(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ts extends d.Component{constructor(...e){super(...e),As(this,"handleContentTypeChange",(({listContentType:e,i13nModel:t})=>{this.context.navigateTo({route:(0,Ge.dM)((0,$.tE)(this.props.listId,{listContentType:e})),i13nModel:t})})),As(this,"handleContactClick",(e=>{const{name:t,email:s,emails:a=[]}=e,n=s||a[0];this.context.navigateTo({route:(0,Ge.jq)({emailAddresses:n,name:t})})}))}render(){return d.createElement(Cs,{suggestedWords:this.props.suggestedWords,onContentTypeChange:this.handleContentTypeChange,onContactClick:this.handleContactClick,isPeopleSearch:(0,$.lG)(this.props.listId),activeContentType:(0,$.WN)(this.props.listId),keyword:(0,$.Q7)(this.props.listId),suggestedContacts:this.props.suggestedContacts,showSearchCue:this.props.showSearchCue})}}As(Ts,"contextTypes",{executeAction:c().func,navigateTo:c().func.isRequired});const Is=(0,S.connect)(((e,t)=>{const s=(0,$.tE)(t.listId,{listContentType:A.F6k.PEOPLE,listFilter:A.ukn.WITH_KEYWORD}),{getFeaturesSelectors:a,doesListExist:n,getPeopleListItems:r,getListSuggestedWords:o,getCurrentListId:i}=(0,He.selectors)(e),l=a(),c=n(s)?r(s):[],d=i();return{suggestedWords:n(d)?o(d):[],suggestedContacts:c,showSearchCue:l.isEnabled(A.ANe.SEARCH_CUE)}}))(Ts),hs=(0,S.connect)(((e,t)=>{const{schemaId:s}=t,{getFlightsSelectors:a,isFeatureEnabled:n,getSetting:r}=(0,He.selectors)(e),{getFlightCard:o}=a(),{departureAirportDesc:i,departureAirportCode:l,departureAirportName:c,arrivalAirportDesc:d,arrivalAirportCode:_,arrivalAirportName:E,departureTime:u,arrivalTime:m,flightNumber:S,passengers:p,providerName:C,providerIataCode:T,reservationId:I}=o(s);return{departureAirportDesc:i,departureAirportCode:l,departureAirportName:c,arrivalAirportDesc:d,arrivalAirportCode:_,arrivalAirportName:E,departureTime:u,arrivalTime:m,flightNumber:S,passengers:p,providerName:C,providerIataCode:T,reservationId:I,enableReadabilityMode:n(A.ANe.ENABLE_READABILITY_MODE),readabilityModeSetting:r(A.Zrf.READABILITY_MODE)}}));var gs=s(90775);function Os(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ds=(0,m.defineMessages)({viewEmail:{id:"flight.viewEmail",defaultMessage:"View email"},flightNumber:{id:"flight.flightNumber",defaultMessage:"Flight {flightNumber}"},confirmationNumber:{id:"flight.confirmation",defaultMessage:"Confirmation: {reservationId}"},depart:{id:"flight.depart",defaultMessage:"Depart"},arrive:{id:"flight.arrive",defaultMessage:"Arrive"}}),Rs={container:{width:"100%",maxWidth:197*O.mg$+"px",minWidth:109*O.mg$+"px",border:`1px solid ${O.NzJ}`,borderRadius:"2px",margin:`0 ${6*O.mg$}px ${3*O.mg$}px ${2*O.mg$}px`},logo:{padding:3*O.mg$+"px",verticalAlign:"top"},heading:{padding:3*O.mg$+"px 0 0 0",fontSize:O.bG1,fontWeight:O.Plh,color:O.E54,verticalAlign:"middle",width:"88%"},headingCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"inline-flex",flexFlow:"row nowrap",maxWidth:"100%",verticalAlign:"middle",lineHeight:"28px",padding:0},headingLeft:{flexGrow:1,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"},headingRight:{whiteSpace:"nowrap",minWidth:"48px"},dateTimeGroup:{width:"25%",padding:0},airlineGroup:{padding:`0 0 0 ${8*O.mg$}px`,width:"50%"},date:{color:O.h_d,fontSize:O.qNP,padding:0,lineHeight:"20px"},time:{fontSize:O.EDd,padding:0},bottomRow:{backgroundColor:O.jh8,height:"32px"},centerInfo:{padding:`0 0 ${3*O.mg$}px 0`},passengers:{padding:0,fontSize:O.yN,verticalAlign:"middle",width:"50%",maxWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},reservation:{fontWeight:O.M2k,padding:`0 0 0 ${8*O.mg$}px`},tableBasic:{width:"100%",border:0,borderSpacing:0,padding:0},tableFixed:{width:"100%",border:0,borderSpacing:0,padding:0,tableLayout:"fixed"},tdBasic:{padding:0},tdLastColumn:{padding:`0 ${3*O.mg$}px 0 0`,width:"99%"},viewEmail:{textAlign:"right",padding:4*O.mg$+"px 0 0 0",width:"99%"},viewEmailLink:{color:O.nGq,fontSize:O.qNP}},Ns={container:{...Rs.container,border:`1px solid ${(0,gs.m)(O.Cjz,.2)}`},heading:{...Rs.heading,color:O.Cjz,opacity:.8},date:{...Rs.date,color:O.Cjz,opacity:.6},time:{...Rs.time,color:O.Cjz,opacity:.8},bottomRow:{...Rs.bottomRow,backgroundColor:(0,gs.m)(O.Cjz,.1),color:O.Cjz,opacity:.8},viewEmailLink:{...Rs.viewEmailLink,color:O.CHL}},Ls={heading:{...Rs.heading,fontSize:"19px"},headingCell:{...Rs.headingCell,lineHeight:"32px"},date:{...Rs.date,fontSize:O.bG1,lineHeight:"24px"},time:{...Rs.time,fontSize:"21px",lineHeight:"22px"},passengers:{...Rs.passengers,fontSize:O.EDd},viewEmailLink:{...Rs.viewEmailLink,fontSize:O.bG1},reservation:{...Rs.reservation,fontSize:O.EDd}},fs={heading:{...Ns.heading,fontSize:"19px"},date:{...Ns.date,fontSize:O.bG1,lineHeight:"25px"},time:{...Ns.time,fontSize:"21px",lineHeight:"24px"},viewEmailLink:{...Ns.viewEmailLink,fontSize:O.bG1}},Ms=(e,t)=>{let s=Rs.heading,a=Rs.headingCell,n=Rs.date,r=Rs.time,o=Rs.passengers,i=Rs.viewEmailLink,l=Rs.reservation;return e&&(s=Ns.heading,n=Ns.date,r=Ns.time,i=Ns.viewEmailLink),t&&(s=Ls.heading,a=Ls.headingCell,n=Ls.date,r=Ls.time,o=Ls.passengers,i=Ls.viewEmailLink,l=Ls.reservation),e&&t&&(s=fs.heading,n=fs.date,r=fs.time,i=fs.viewEmailLink),{headingCss:s,headingCellCss:a,dateCss:n,timeCss:r,passengersCss:o,viewEmailLinkCss:i,reservationCss:l}},Ps=({actualTime:e,dateFallback:t,isDarkMode:s,isReadabilityModeOn:a})=>{const n=25===(r=e).length?Date.parse(r.substr(0,r.length-6)+"-00:00"):Date.parse(r);var r;const o=Number.isNaN(n),{dateCss:i,timeCss:l}=Ms(s,a);return d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:i},o?t:d.createElement(m.FormattedDate,{value:n,timeZone:"UTC",weekday:"short",day:"numeric",month:"short"}))),d.createElement("tr",null,d.createElement("td",{style:l},o?"--":d.createElement(m.FormattedTime,{value:n,timeZone:"UTC",hour:"numeric",minute:"2-digit"})))))};class bs extends d.Component{constructor(...e){super(...e),Os(this,"handleViewEmail",((e,t)=>{e.preventDefault();const{listId:s,groupId:a}=this.props;this.context.navigateTo({route:t,streamItem:{listId:s,id:a},i13nModel:{interactionType:X.Rb.click,mKey:X.JE.TRAVEL_READ_MSG,sec:X.nJ.TRAVEL_LIST,mKeyGroup:X.rO.openMsg}})}))}render(){const{departureAirportDesc:e,departureAirportCode:t,departureAirportName:s,arrivalAirportDesc:a,arrivalAirportCode:n,arrivalAirportName:r,departureTime:o,arrivalTime:i,flightNumber:l,passengers:c,providerName:_,providerIataCode:E,reservationId:u,listId:m,groupId:S,enableReadabilityMode:p,readabilityModeSetting:C}=this.props,A=(0,Ge.m9)(m,S),{formatMessage:T}=this.context.intl,I=e||s,h=a||r,g=this.context.getThemeMode()===Q.zg.DARK,O=p&&C,{headingCss:D,headingCellCss:R,dateCss:N,timeCss:L,passengersCss:f,viewEmailLinkCss:M,reservationCss:P}=Ms(g,O);return d.createElement("div",{style:g?Ns.container:Rs.container,"data-test-id":"flight-card"},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:Rs.logo},d.createElement(re.ZP,{contact:{iataCode:E},size:re.u8.C,useFallbackImage:!1,customFallbackImageData:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrsmlFLAkEUhVVWcimNBJdWiAiKCgsq6sf30GNPQU9ZEYaUkaChZUWGG3Six3ZmZ/XujtK57JO7DOebmXvuvWD2+OQ0M8uRy8x4EIAABCAAAQhAAAIQgAAE+L8AjtRCe7tb+Xz4atc3zde392kHKC+VHCd8taOD2tl5PSEGsSsEicpNchwwFBfmpxoAG3xx1UifQTKJH9ud9BmEXSh9BnkbBQMePYMq3YVdCM7oVcpj7Pfvj1Xf0zAg6YMgSBYAeakHgER8c9dqhzKMgq9SUXlbVlf822YrWQAog0S3MKf5ZnNjDUKHw8+/r7pPPTza0rGoetXrvwgA4IixSTvb6/olIj8YLzrd3v1DO5IkF5mRH2G7m0Lg9h7u11SJFMOF6mpbTCFwvJqbZgSAQ+w/DywyVJcrk9YBtJMWAVy3MCkAvFJTm5KO0SgQqMQinj2mHWm92BQAXmSFIfLwY/RCqGsixd88YB6aMSP2RAb1aBBMeklYuGHLiTVDOxH8jkJmUoLidYVYFE+E6/meufrJR03hdhrqDTsLEfWSQ30s9T/z52VDZMx3rKiXGgbErpAt9TIAFtULAGDcsaheJgdMelX0M6ghSdTBLP+tQgACEIAABCAAAQhAAAIQgACW4luAAQAJVQdmI18HzQAAAABJRU5ErkJggg=="})),d.createElement("td",{style:Rs.tdLastColumn},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:Rs.tdBasic},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:D,"data-test-id":"card-heading"},d.createElement("table",{style:Rs.tableFixed},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:R},d.createElement("span",{style:Rs.headingLeft},I,t?` (${t})`:""," - ",h," "),d.createElement("span",{style:Rs.headingRight},n?`(${n})`:"")))))),d.createElement("td",{style:Rs.viewEmail},d.createElement("a",{href:this.context.getUrlFromRoute(A),style:M,onClick:e=>this.handleViewEmail(e,A),"data-test-id":"view-email"},T(Ds.viewEmail)))))))),d.createElement("tr",null,d.createElement("td",{style:Rs.centerInfo},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:Rs.dateTimeGroup,"data-test-id":"depart-date"},d.createElement(Ps,{actualTime:o,dateFallback:T(Ds.depart),isDarkMode:g,isReadabilityModeOn:O})),d.createElement("td",{style:Rs.dateTimeGroup,"data-test-id":"arrive-date"},d.createElement(Ps,{actualTime:i,dateFallback:T(Ds.arrive),isDarkMode:g,isReadabilityModeOn:O})),d.createElement("td",{style:Rs.airlineGroup},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:N,"data-test-id":"airline-name"},_)),d.createElement("tr",null,d.createElement("td",{style:L,"data-test-id":"flight-no"},T(Ds.flightNumber,{flightNumber:l}))))))))))))))),d.createElement("tr",{style:g?Ns.bottomRow:Rs.bottomRow},d.createElement("td",null,"Â "),d.createElement("td",{style:Rs.tdLastColumn},d.createElement("table",{style:Rs.tableBasic},d.createElement("tbody",null,d.createElement("tr",null,d.createElement("td",{style:f},c.join(", ")),d.createElement("td",{style:P,"data-test-id":"confirmation"},T(Ds.confirmationNumber,{reservationId:u}))))))))))}}Os(bs,"contextTypes",{intl:m.intlShape.isRequired,navigateTo:c().func,getUrlFromRoute:c().func,getThemeMode:c().func});const ys=hs(bs);var vs=s(35567),Fs=s(1349),Us=s.n(Fs),ks=s(8470),ws=s(94482),Gs=s(11160),Hs=s(31509);function Bs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const xs=(0,m.defineMessages)({heading:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},coupons:{id:"Coupons_header.coupons",defaultMessage:"Deals"},emails:{id:"Coupons_header.emails",defaultMessage:"Emails"},categories:{id:"Coupons_header.categories",defaultMessage:"Categories"}}),Vs="All";class Zs extends d.Component{constructor(...e){super(...e),Bs(this,"handleTabChange",((e,{mKey:t,smartViewType:s})=>{const a=(0,Ge.jK)(s,{accountIds:(0,$.Er)(this.props.listId)});this.props.onTabChange({route:a,i13nModel:{mKey:t,sec:X.nJ.SHOPPING_VIEW,interactionType:(0,J.getInteractionFromEvent)(e)}})})),Bs(this,"getActiveIndex",(()=>(0,$.WN)(this.props.listId)===A.F6k.COUPON_CARDS?0:1)),Bs(this,"handleCategoryClick",(e=>{let t;if(e===Vs)t=(0,Ge.jK)(A.K8C.COUPONS,{accountIds:this.props.activeAccountId});else{const s=(0,$.Ez)((0,ee.qt)(A.K8C.COUPONS,{keyword:e,accountIds:this.props.activeAccountId})),a=(0,$.tr)(s);t={name:A.n8z.SEARCH,params:{query:a}}}this.context.navigateTo({route:t,i13nModel:{mKey:X.JE.CATEGORY_FILTER_CLICKED,sec:X.nJ.SHOPPING_VIEW,actionData:{category:e}}})})),Bs(this,"renderCategoryFilter",(()=>{const{categories:e,listId:t}=this.props,s=this.context.getThemeMode(),{formatMessage:a}=this.context.intl,n=E()(Us(),{themeMode:s}),r=(0,$.Q7)(t);if(0!==this.getActiveIndex()||!e||!e.length)return null;const o=[Vs].concat(e).map((e=>d.createElement(ws.Z,{key:e,name:e},d.createElement(ne.Z,{kind:fe.F.MENUITEM,onClick:()=>this.handleCategoryClick(e)},r===e||!r&&e===Vs?d.createElement("span",{className:n.categoryFilterCheckIcon},d.createElement(ae.Z,{kind:k.Kinds.CHECKMARK,size:k.Sizes.XS,colorState:k.ColorStates.NORMAL})):null,d.createElement("span",{className:n.categoryFilterLabel},e)))));return d.createElement("div",{className:n.categoryFilterContainer},d.createElement(Gs.Z,null,d.createElement(Hs.Z,null,d.createElement("div",{className:n.categoryFilterAnchor},d.createElement("span",{className:n.categoryFilterAnchorLabel},a(xs.categories)),d.createElement(G.default,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"category-filter-dropdown-button",kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.INHERITED,size:k.Sizes.XS,rotate:k.Rotate.D180,className:n.categoryFilterAnchorButton}))),d.createElement(os.ZP,{triggerOn:is.K2.CLICK,isArrowVisible:!0},d.createElement("div",null,d.createElement(ks.Z,{focusOnMount:!0,"data-test-id":"category-filter"},[o])))))}))}render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=E()(Us(),{themeMode:t}),a=e(xs.heading),n=this.getActiveIndex();return d.createElement("div",null,d.createElement("div",{className:s.container},this.props.showShoppingHeader?d.createElement("div",{className:s.tabs},d.createElement(Yt.Z,null,d.createElement(jt.Z,{isSelected:0===n,title:e(xs.coupons),onClick:e=>this.handleTabChange(e,{mKey:X.JE.SHOPPING_COUPONS_VIEW_CLICKED,smartViewType:A.K8C.COUPONS}),"data-test-id":"coupons-tab"}),d.createElement(jt.Z,{isSelected:2===n,title:e(xs.emails),onClick:e=>this.handleTabChange(e,{mKey:X.JE.SHOPPING_EMAILS_VIEW_CLICKED,smartViewType:A.K8C.SHOPPING_EMAILS}),"data-test-id":"shopping-emails-tab"})),this.renderCategoryFilter()):d.createElement("div",{className:s.heading,"data-test-id":"coupons-heading","aria-label":a,title:a},a,this.renderCategoryFilter())))}}Bs(Zs,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func,getTheme:c().func,navigateTo:c().func});const Ws=(0,S.connect)((e=>{const{getSmartViewTypeFromRoute:t,getRoute:s,getSmartViewPosition:a,getDealsViewSelectors:n,getSelectedAccountId:r}=(0,He.selectors)(e),o=s(),i=t(o),l=(0,$.LY)(o),c=n().getTopDealCategories();return{listId:l,showShoppingHeader:i===A.K8C.COUPONS&&a(i)===A.sDs.TAB_BAR,categories:c,activeAccountId:r()}}),(e=>({onTabChange:t=>e((0,tt.Ch)(t))})))(Zs);var Ks=s(18446),zs=s.n(Ks),Ys=s(41111),js=s(521),qs=s.n(js);const Xs=e=>(t,s)=>{const{isFeatureEnabled:a}=(0,He.selectors)(s()),n=a(A.ANe.SENDER_ROLLUP),r=a(A.ANe.CONVERSATIONS);let o={};const{listId:i,sortOrder:l,i13nModel:c}=e;n&&r&&l===A.Asd.SENDER&&(0,$.WN)(i)===A.F6k.MESSAGES&&(o={listContentType:A.F6k.SENDERS});const d=(0,Ge.KI)(i,{sortOrder:l,...o});return t((0,tt.Ch)({route:d,i13nModel:{mKey:{[A.Asd.DATE_DESC]:X.JE.TOOLBAR_SORT_NEW,[A.Asd.DATE_ASC]:X.JE.TOOLBAR_SORT_OLD,[A.Asd.UNREAD]:X.JE.TOOLBAR_SORT_UNREAD,[A.Asd.STARRED]:X.JE.TOOLBAR_SORT_STARRED}[l],sec:X.nJ.MSG_LIST_SORT,...c}}))},Qs=(0,m.defineMessages)({documents:{id:"document_label",defaultMessage:"Documents from email"}}),Js=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(qs(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,listId:_}=e;return d.createElement("div",{className:o.documentsViewHeader},d.createElement("div",{className:o.documentsViewTitle},r(Qs.documents)),d.createElement("div",{className:o.sortMenuContainer},d.createElement(Ys.Z,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:_,sortOrder:t,i13nModel:{interactionType:(0,J.getInteractionFromEvent)(e)}})},tabIndex:O.iUz.MESSAGE_LIST_TOOLBAR})))};Js.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const $s=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,He.selectors)(e);return{currentSortOrder:(0,$.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(Xs(t))})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&zs()(e.availableSortOrders,t.availableSortOrders)})(Js);var ea=s(8205),ta=s(62760),sa=s(1249),aa=s(54733),na=s(19302),ra=s(13240),oa=s.n(ra);const ia=(0,m.defineMessages)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"}}),la=({isDarkThemeMode:e,layoutClassNames:t,isHovered:s,isRead:a,readOnly:n,onClick:r},{getCss:o,intl:i})=>{const l=o(oa(),{isDarkThemeMode:e}),{formatMessage:c}=i,_=c(a?ia.markAsUnread:ia.markAsRead);let E,u;return a?s?(E=d.createElement(ae.Z,{"data-test-read":a,kind:k.Kinds.CIRCLE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED}),u=d.createElement("span",{className:l.accessible,"aria-label":c(a?ia.msgIsRead:ia.msgIsNotRead)})):u=d.createElement("span",{className:l.accessible,"aria-label":c(ia.msgIsRead)}):(E=d.createElement(ae.Z,{"data-test-read":a,kind:k.Kinds.CIRCLE,size:k.Sizes.XS,colorState:e?k.ColorStates.SELECTED_DARK_THEME_MODE:k.ColorStates.SELECTED}),u=d.createElement("span",{className:l.accessible,"aria-label":c(ia.msgIsNotRead)})),n?d.createElement("div",{"data-test-id":"icon-btn-read",title:_,className:l.readIcon,role:"gridcell"},E,u):d.createElement("div",{className:t.readIcon,role:"gridcell"},d.createElement(ne.Z,{"data-test-id":"icon-btn-read",title:c(a?ia.markAsUnread:ia.markAsRead),onClick:r,onDoubleClick:r,className:l.readIcon},E,u))},ca=(e,t)=>t.isRead?t.isRead===e.isRead&&t.isHovered===e.isHovered&&t.readOnly===e.readOnly&&t.isDarkThemeMode===e.isDarkThemeMode&&t.layoutClassNames.readIcon===e.layoutClassNames.readIcon:t.isRead===e.isRead;la.defaultProps={isHovered:!1},la.contextTypes={intl:m.intlShape,getCss:c().func};const da=d.memo(la,ca);var _a=s(46316),Ea=s.n(_a);const ua=(0,m.defineMessages)({msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"}}),ma=(e,t)=>{const{isDarkThemeMode:s,layoutClassNames:a}=e,{formatMessage:n}=t.intl,r=t.getCss(Ea(),{isDarkThemeMode:s});return d.createElement(ne.Z,{"data-test-id":"icon-btn-reply","data-test-isreplied":!0,className:`${r.replyIcon} ${a.readIcon}`,role:"gridcell"},d.createElement("span",{className:r.indicator},d.createElement(ae.Z,{kind:k.Kinds.REPLY,size:k.Sizes.XXXS,colorState:s?k.ColorStates.INHERITED:k.ColorStates.SECOND_LEVEL_GRAY}),d.createElement("span",{className:r.accessible,"aria-label":n(ua.msgIsReplied)})))};ma.contextTypes={intl:m.intlShape,getCss:c().func};const Sa=d.memo(ma);var pa=s(64681),Ca=s.n(pa);const Aa=(0,m.defineMessages)({msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),Ta=(e,t)=>{const{isDarkThemeMode:s,layoutClassNames:a}=e,{formatMessage:n}=t.intl,r=t.getCss(Ca(),{isDarkThemeMode:s});return d.createElement(ne.Z,{"data-test-isforwarded":!0,"data-test-id":"icon-btn-forward",className:`${r.forwardIcon} ${a.readIcon}`,role:"gridcell"},d.createElement("span",{className:r.indicator},d.createElement(ae.Z,{kind:k.Kinds.FORWARD,size:k.Sizes.XXXS,colorState:s?k.ColorStates.INHERITED:k.ColorStates.SECOND_LEVEL_GRAY}),d.createElement("span",{className:r.accessible,"aria-label":n(Aa.msgIsForwarded)})))};Ta.contextTypes={intl:m.intlShape,getCss:c().func};const Ia=d.memo(Ta);var ha=s(8069),ga=s.n(ha),Oa=s(13957),Da=s(61395),Ra=s.n(Da),Na=s(45794);const La=(0,m.defineMessages)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}});class fa extends d.Component{constructor(e){super(e),this.state={shouldBurst:!1,isStarred:e.isStarred},e.isDarkThemeMode?(0,g.XM)(Oa.Ur.darkGifURL):(0,g.XM)(Oa.Ur.lightGifURL),this.burstOnClick=this.burstOnClick.bind(this)}shouldComponentUpdate(e,t){return e.isHovered!==this.props.isHovered?!e.isStarred||this.state.shouldBurst!==t.shouldBurst||this.state.isStarred!==t.isStarred:e.size!==this.props.size||e.readOnly!==this.props.readOnly||e.isStarred!==this.props.isStarred||e.isDarkThemeMode!==this.props.isDarkThemeMode||e.burstAnimationEnabled!==this.props.burstAnimationEnabled||t.shouldBurst!==this.state.shouldBurst||t.isStarred!==this.state.isStarred||t.isCompactLayout!==this.state.isCompactLayout}render(){const{layoutClassNames:e,isStarred:t,isHovered:s,isDarkThemeMode:a,size:n,readOnly:r,burstAnimationEnabled:o,isCompactLayout:i,appContext:l}=this.props,{intl:c}=l,_=o&&this.state.shouldBurst,E=l.getStyles(ga(),{size:n,starBurstingLayout:`${_}_${i}`}),{formatMessage:u}=c,m=u(t?La.markAsUnstarred:La.markAsStarred);let S,p;return _?S=(e=>{const t=e.isDarkThemeMode?Oa.Ur.darkGifURL:Oa.Ur.lightGifURL;let s="15px",a="15px";switch(e.size){case k.Sizes.XXS:s="19px",a="19px";break;case k.Sizes.XS:s="23px",a="23px"}return d.createElement("img",{src:t,style:{height:`${s}`,width:`${a}`}})})({isDarkThemeMode:a,size:n}):t?(S=d.createElement(ae.Z,{"data-test-starred":t,kind:k.Kinds.BIG_STAR,size:n,colorState:a?k.ColorStates.STARRED_DARK:k.ColorStates.STARRED}),p=d.createElement("span",{className:E.accessible,"aria-label":u(La.msgIsStarred)})):s?(S=d.createElement(ae.Z,{kind:k.Kinds.BIG_STAR_OUTLINE,size:n,colorState:a?k.ColorStates.FAINT:k.ColorStates.IMPROVED_GRAY_DARK}),p=d.createElement("span",{className:E.accessible,"aria-label":u(t?La.msgIsStarred:La.msgIsNotStarred)})):(S=d.createElement(ae.Z,{"data-test-starred":t,kind:k.Kinds.BIG_STAR_OUTLINE,size:n,colorState:a?k.ColorStates.GRAY_VZM_BOB:k.ColorStates.LESS_IMPORTANT}),p=d.createElement("span",{className:E.accessible,"aria-label":u(La.msgIsNotStarred)})),r?d.createElement("div",{"data-test-id":"icon-btn-star",title:m,className:E.starIcon,role:"gridcell"},S,p):d.createElement("div",{role:"gridcell"},d.createElement(ne.Z,{"data-test-id":"icon-btn-star",title:m,onClick:this.burstOnClick,onDoubleClick:this.burstOnClick,className:e.starButtonStyle?Ra()(E.starIcon,e.starButtonStyle):E.starIcon},d.createElement("span",null,S,p)))}UNSAFE_componentWillReceiveProps(e){const{burstAnimationEnabled:t}=this.props;t&&this.state.isStarred!==e.isStarred&&this.setState({isStarred:!this.state.isStarred})}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}burstOnClick(e){const{burstAnimationEnabled:t}=this.props;this.props.onClick(e),t&&(this.state.isStarred?this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)):(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),Oa.Ur.timeout)))}}fa.defaultProps={size:k.Sizes.XXXS,isHovered:!1,burstAnimationEnabled:!1,isCompactLayout:!1};const Ma=(0,Na.N)(fa);var Pa=s(83168),ba=s.n(Pa);const ya=(0,m.defineMessages)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),va=(e,t)=>{const s=e.isDarkThemeMode,a=e.searchType===A.aib.SUBJECT,n=t.getCss(ba(),{isDarkThemeMode:s}),{formatMessage:r}=t.intl,o=(a?n.subjectSearchIcon:"")+(e.containerClassName?" "+e.containerClassName:"");return e.showSearch&&e.isHovered?d.createElement("span",{className:o},d.createElement(ne.Z,{"data-test-id":"icon-btn-search",title:r(a?ya.searchBySubject:ya.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?n.contactSearchIconCompact:n.searchIcon},d.createElement("span",null,d.createElement(ae.Z,{kind:k.Kinds.SEARCH_MINI,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED})))):null};va.defaultProps={isHovered:!1,isCompact:!1},va.contextTypes={intl:m.intlShape,getCss:c().func};const Fa=d.memo(va);var Ua=s(63350),ka=s.n(Ua);const wa=(0,m.defineMessages)({deleteMsg:{id:"delete_msg",defaultMessage:"Delete this message"}}),Ga=(e,t)=>{const s=e.isDarkThemeMode,a=t.getCss(ka(),{isDarkThemeMode:s}),{formatMessage:n}=t.intl;return e.isHovered?d.createElement(ne.Z,{"data-test-id":"icon-btn-trash",title:n(wa.deleteMsg),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?a.trashIconCompact:a.trashIcon},d.createElement("span",{className:a.trashCenter},d.createElement(ae.Z,{kind:k.Kinds.DELETE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,"aria-label":n(wa.deleteMsg)}))):d.createElement(ne.Z,{className:a.trashIconAccessible,onClick:e.onClick},d.createElement("span",{className:a.accessible,"aria-label":n(wa.deleteMsg)}))};Ga.defaultProps={isHovered:!1,isCompact:!1},Ga.contextTypes={intl:m.intlShape,getCss:c().func};const Ha=d.memo(Ga);var Ba=s(31745),xa=s.n(Ba);const Va=(0,m.defineMessages)({no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),Za=e=>{const{subject:t,highlightSearchTerm:s,layoutClassNames:a,highlightSearchResultsPage:n}=e,{formatMessage:r}=(0,De.Y)(),o=(0,Re.Z)(xa(),{highlightSearchResultsPage:n});let i=null;const l=`${a.highlightedTerm} ${o.highlightedTerm}`;return i=t?(0,ve.GQ)(t,s,l):d.createElement("span",{className:a.noSubject},"(",r(Va.no_subject),")"),d.createElement("span",{"data-test-id":"message-subject",className:`${a.subject} ${o.subject}`,role:"gridcell",title:(0,ve.IX)(t)},i)};Za.defaultProps={highlightSearchTerm:!1};const Wa=d.memo(Za);var Ka=s(32778),za=s.n(Ka);const Ya=(e,t)=>{const{snippet:s,highlightSearchTerm:a,layoutClassNames:n,highlightSearchResultsPage:r}=e,o=t.getCss(za(),{highlightSearchResultsPage:r}),i=`${n.highlightedTerm} ${o.highlightedTerm}`,l=(0,ve.GQ)(s,a,i),c=o.snippetContainer+(n.snippetContainer?` ${n.snippetContainer}`:"");return d.createElement("div",{className:c,"data-test-id":"snippet"},d.createElement("div",{className:`${o.snippet} ${n.snippet}`,role:"gridcell"},l))};Ya.contextTypes={getCss:c().func};const ja=d.memo(Ya);var qa=s(46533),Xa=s.n(qa);const Qa=(e,t)=>{const s=t.getCss(Xa()),{count:a,layoutClassNames:n,roundUpCounts:r}=e,o=r&&a>999?"999+":a;return d.createElement("span",{"data-test-id":"message-count",className:a>1?`${s.messageCount} ${n.messageCount}`:s.accessible,role:"gridcell"},d.createElement("span",null,d.createElement("span",{className:s.accessible,"data-test-id":"accessible-message-count"},d.createElement(m.FormattedMessage,{id:"msg_count",values:{messageCount:o},defaultMessage:"{messageCount, plural,\n                                                one {# message}\n                                                other {# messages}\n                                            }"})),a>1?d.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},o):null))};Qa.defaultProps={roundUpCounts:!1},Qa.contextTypes={getCss:c().func};const Ja=d.memo(Qa);var $a=s(12076),en=s.n($a);const tn=(e,t)=>{const s=t.getCss(en()),{hasDraft:a,layoutClassNames:n}=e;return d.createElement("span",{"data-test-id":"draft-indicator",className:a?`${s.draftIndicator} ${n.draftIndicator}`:s.accessible},a?d.createElement(m.FormattedMessage,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)},sn=(e,t)=>e.hasDraft===t.hasDraft&&e.layoutClassNames.draftIndicator===t.layoutClassNames.draftIndicator;tn.contextTypes={getCss:c().func};const an=d.memo(tn,sn);var nn=s(98907),rn=s.n(nn),on=s(54418),ln=s(93505),cn=s(70039),dn=s(73744),_n=s.n(dn),En=s(99691);const un=()=>{};class mn extends d.Component{constructor(e){super(e),this.navigateTo=this.navigateTo.bind(this)}navigateTo(e){const{listId:t,groupId:s}=this.props,a={mKey:X.JE.ATTACHMENT_LIGHTBOX_OPEN,sec:X.nJ.MSG_LIST_MSG,interactionType:X.Rb.click};this.context.navigateTo({route:(0,Ge.Sk)(t,s,e,{fullscreen:"1"}),i13nModel:a})}render(){const{attachments:e,isSpam:t,documentPreviewEnabled:s,attachmentTraySize:a}=this.props,n=E()(_n()),r=e.map(((e,a)=>{let r=!t;return(0,En.oZ)(e)&&(r=r&&s),d.createElement("span",{key:e.id,className:n.attachmentItem,"data-test-id":"attachment-item-"+a},d.createElement(ln.ZP,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:un,onClick:this.navigateTo.bind(this,e.id),isPreviewEnabled:r,previewWithoutDownload:!0,smallPreview:!0}))}));return d.createElement("div",{"data-test-id":"attachment-popover"},e.length>a?d.createElement("div",{style:{width:60+100*a},className:n.attachmentsCarouselContainer},d.createElement(cn.Z,{itemWidth:100},r)):d.createElement("div",{className:n.attachmentsPopoverContainer},r))}}mn.contextTypes={getCss:c().func,navigateTo:c().func.isRequired};const Sn=(0,S.connect)((e=>{const{isFeatureEnabled:t}=(0,He.selectors)(e);return{documentPreviewEnabled:t(A.ANe.DOCUMENT_PREVIEW)}}))(mn);var pn=s(50621);const Cn=(e,t,s)=>d.createElement("span",{"data-test-id":"attachment-icon",className:e.attachmentIcon},d.createElement(ae.Z,{kind:(0,En.SJ)(t),size:k.Sizes.XS,colorState:s?k.ColorStates.FAINT:k.ColorStates.DISABLED}),d.createElement("span",{className:e.accessible},d.createElement(m.FormattedMessage,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),An=({attachments:e,attachmentTraySize:t,isInteractive:a,isDarkThemeMode:n,listId:r,groupId:o,rsvpEnabled:i,isSpam:l},{getCss:c,config:_})=>{const E=c(rn());if(!e.length)return d.createElement("span",{className:E.accessible,"data-test-id":"accessible-no-attachment"},d.createElement(m.FormattedMessage,{id:"msg_no_attachment",defaultMessage:"No attachment"}));if(!a)return Cn(E,e,n);const u=(0,En.oA)(e,{previewableInlineAttachmentSize:(0,on.N)(_,"previewableInlineAttachmentSize"),showImages:(0,on.N)(_,A.Zrf.SHOW_IMAGES),isSpam:l}),S=i?(e=>e.length>0&&(0,En.SA)(e[0].type,e[0].subtype)===A.sSc.SimplifiedTypes.CAL?e[0]:null)(u):null;return d.createElement(pn.ZP,{arrowSize:is.Jk.M,permittedArrowDirections:[is.Ji.UP,is.Ji.DOWN],triggerOn:pn.XU.HOVER_DELAYED,triggerDelayTime:200,triggerOff:pn.Es.HOVER_OUT,align:is.xM.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:O.LSY.POPOVER.MEDIUM},Cn(E,e,n),S?d.createElement("div",null,d.createElement(We.cr,{import:"../../../rsvp_view/index",eventAttachment:S,messageId:S.id.split(":")[0],compact:!0,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39738))},_moduleResolver:function(){return 39738}})):d.createElement(Sn,{attachments:u,attachmentTraySize:t,listId:r,isSpam:l,groupId:o}))};An.defaultProps={isInteractive:!0,isHovered:!1,attachmentTraySize:3},An.contextTypes={getCss:c().func,config:c().object};const Tn=d.memo(An),In=(0,C.gP)(["ACCOUNT","FOLDER","NONE"]);var hn=s(44526),gn=s.n(hn),On=s(98217),Dn=s(62631);const Rn=({messageDestinationLabel:e,accountDescription:t,account:s,getFormattedFolderName:a,layoutClassNames:n},r)=>{const o=E()(gn()),{formatMessage:i,locale:l}=r.intl,c=a(i),_={};let u=null;switch(e){case In.ACCOUNT:{let e=_[l];e||(e=_[l]={[A.zoT.YAHOO]:i(On.Z.yahoo_account_description),[A.zoT.YAHOO_SB]:i(On.Z.yahoo_account_description),[A.zoT.OUTLOOK]:i(On.Z.outlook_account_description),[A.zoT.AOL]:i(On.Z.aol_account_description),[A.zoT.GOOGLE]:i(On.Z.gmail_account_description),[A.zoT.GOOGLE_APP]:i(On.Z.gmail_account_description)});const a=t||e[(0,Dn.VH)(s)];u=d.createElement("div",{className:`${o.messageDestinationLabel} ${n.messageDestinationLabel}`,"data-test-id":"account"},d.createElement("span",{title:a+"/"+c},a));break}case In.FOLDER:u=d.createElement("div",{className:`${o.messageDestinationLabel} ${n.messageDestinationLabel}`,title:c,"data-test-id":"folder"},d.createElement("span",null,c))}return u};Rn.contextTypes={intl:m.intlShape.isRequired};const Nn=Rn,Ln=(0,S.connect)(((e,t)=>{const{layoutClassNames:s,folderId:a,isRead:n}=t,{getFoldersSelectors:r,getAccountSelectors:o,formatFolderName:i}=(0,He.selectors)(e),{getAccountIdByFolderId:l}=r(),{hasMultipleRootAccounts:c,getAccountDescriptionByAccountId:d,getAccountById:_}=o(),E=c()?In.ACCOUNT:In.FOLDER,u=l(a);return{accountDescription:d(u),account:_(u),messageDestinationLabel:E,getFormattedFolderName:i(a,{isRead:n}),layoutClassNames:s}}))(Nn);var fn=s(65161),Mn=s(64732),Pn=s.n(Mn);const{array:bn,bool:yn,func:vn,string:Fn,number:Un,oneOf:kn}=c(),wn=(bn.isRequired,yn.isRequired,yn.isRequired,yn.isRequired,kn((0,C.VO)(A.Ds1)).isRequired,vn.isRequired,Fn.isRequired,Fn.isRequired,Fn.isRequired,bn.isRequired,yn.isRequired,vn.isRequired,yn.isRequired,Fn.isRequired,Fn.isRequired,yn.isRequired,yn.isRequired,Un.isRequired,({messageIds:e,isRecent:t,isStarred:s,renderItemSelection:a,renderReadIndicators:n,renderContactSearchIcon:r,renderSubjectSearchIcon:o,renderSenders:i,renderAddLinkedTodoIcon:l,renderStarIcon:c,renderSubject:_,renderSnippet:E,renderMessageDestinationLabel:u,renderMessageCount:m,renderDraftLabel:S,renderAttachmentIcon:p,renderDate:C,renderTrashIcon:A,renderConfirmDialog:T,renderExtractedInfo:I,isHovered:h,showSubjectSearch:g,itemHeight:O,getAttachments:D,activateDarkThemeMode:R,renderMessageTag:N,hideCheckbox:L,renderPinEmailIcon:f,isPinned:M},{getCss:P})=>{const b=P(Pn(),{activateDarkThemeMode:R,hasJustOneMessage:1===e.length,isRecent:t,isStarred:s,showSubjectSearchAndHovered:h()&&g,hideCheckbox:L}),y=D();return d.createElement("div",{className:b.container+" message-list-item",style:{height:O-1},role:"row"},d.createElement("div",{className:b.gridB1},d.createElement("div",{className:b.check,role:"gridcell"},M?f():a()),n(b),i(b),r(b),l()),c(b),d.createElement("div",{className:b.gridB2},d.createElement("div",{className:b.message},d.createElement("div",{className:b.subjectContainer},_(b),m(b),S(b)),o(b),E(b)),I(b),u(b),N(b),p(b,y),!M&&f(),d.createElement("div",{className:b.iconB2,role:"gridcell"},C(b),A())),T())});wn.contextTypes={getCss:c().func,getThemeMode:c().func};const Gn=wn;var Hn=s(86423),Bn=s(93603),xn=s.n(Bn),Vn=s(81680),Zn=s.n(Vn);const Wn=({isHovered:e,useTouchTargets:t,messageIds:s,isRecent:a,showSnippets:n,renderItemSelection:r,renderContactSearchIcon:o,renderSenders:i,renderAddLinkedTodoIcon:l,renderStarIcon:c,renderSubject:_,renderSnippet:E,renderMessageCount:u,renderAttachmentIcon:m,renderDate:S,renderReadIndicators:p,renderTrashIcon:C,listItemHeight:A,renderDraftLabel:T,renderConfirmDialog:I,getAttachments:h,msgListDensity:g,renderExtractedInfo:O,renderMessageTag:D,renderPinEmailIcon:R,isPinned:N})=>{const L=e(),f=h(),M=(0,Re.Z)(Zn(),{hasJustOneMessage:1===s.length,isRecent:a,hovered:L,extraStarPadding:a&&!L,useTouchTargets:t,hasAttachment:f&&f.length,msgListDensity:g,readDensity:`${a}-${g}`});return d.createElement("div",{className:M.container+" message-list-item",style:{height:A-1},role:"row"},d.createElement("div",{className:M.check,role:"gridcell"},N?R():r(M)),d.createElement("div",{className:M.gridB1},p(M),c(M)),d.createElement("div",{className:M.message},d.createElement("div",{className:M.senderRow,"data-test-id":"senderRow",role:"gridcell"},d.createElement("div",{className:M.groupSection},i(M),L?o(M):null,l(M.addLinkedTodoIcon),u(M),T(M)),S(M)),d.createElement("div",{className:M.bottomRight},d.createElement("div",{className:M.infoGroup},_(M),n?O(M)||E(M):null,D(M)),L?null:m(M,f))),L?d.createElement("div",{className:M.trashIconContainer},!N&&R(),C()):null,I())},Kn={[Oa.fx.READ]:{i13nModel:{mKey:X.JE.MARK_MSG_READ,mKeyGroup:X.rO.markRead,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.READ_CHANGE_SELECTED_ITEMS},[Oa.fx.UNREAD]:{i13nModel:{mKey:X.JE.MARK_MSG_UNREAD,mKeyGroup:X.rO.markUnread,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.READ_CHANGE_SELECTED_ITEMS},[Oa.fx.STAR]:{i13nModel:{mKey:X.JE.MARK_MSG_STARRED,mKeyGroup:X.rO.markStar,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.STAR_CHANGE_SELECTED_ITEMS},[Oa.fx.UNSTAR]:{i13nModel:{mKey:X.JE.MARK_MSG_UNSTARRED,mKeyGroup:X.rO.markUnstar,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.STAR_CHANGE_SELECTED_ITEMS},[Oa.fx.DELETE]:{i13nModel:{mKey:X.JE.MSG_LIST_DEL,mKeyGroup:X.rO.deleteMsg,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.DELETE_SELECTED_ITEMS},[Oa.fx.ARCHIVE]:{i13nModel:{mKey:X.JE.MSG_LIST_ARCHIVE,mKeyGroup:X.rO.archiveMsg,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.ARCHIVE_SELECTED_ITEMS},[Oa.fx.RESTORE]:{i13nModel:{mKey:X.JE.MSG_LIST_MV_INBOX,mKeyGroup:X.rO.moveMsg,sec:X.nJ.MSG_LIST_MSG},triageActionType:A.Ewo.RESTORE_SELECTED_ITEMS},[Oa.fx.OPEN_MSG]:{i13nModel:{mKey:X.JE.OPEN_MSG,mKeyGroup:X.rO.openMsg,sec:X.nJ.MSG_LIST_MSG}},[Oa.fx.OPEN_DOC]:{i13nModel:{mKey:X.JE.DOC_OPEN,sec:X.nJ.DOC_LIST}},[Oa.fx.OPEN_PHOTO]:{i13nModel:{mKey:X.JE.PHOTO_OPEN,sec:X.nJ.PHOTO_LIST}},[Oa.fx.CHK_MAIL]:{i13nModel:{mKey:X.JE.CHECK_MAIL,sec:X.nJ.MSG_LIST}},[Oa.fx.ROTATE_PREVIEWPANE]:{i13nModel:{mKey:X.JE.SETTINGS_PREVIEW_PANE,sec:X.nJ.SETTINGS_INBOX_TAB}},[Oa.fx.SELECTION_CHANGE]:{i13nModel:{mKey:X.JE.SELECT_MSG,sec:X.nJ.MSG_LIST_MSG}}},zn=(e,t)=>{if(!Kn[t])return{};const s={...Kn[t]};return e&&(s.i13nModel={...s.i13nModel,interactionType:(0,J.getInteractionFromEvent)(e)}),s};var Yn=s(44865),jn=s(91869),qn=s(24307),Xn=s.n(qn);function Qn(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Jn=(0,m.defineMessages)({message_reply_now:{id:"nudgeToReply",defaultMessage:"REPLY NOW"}});class $n extends d.Component{constructor(e){super(e),Qn(this,"componentDidMount",(()=>{const{messageIds:e}=this.props;pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.NUDGE_TO_REPLY_SHOWN,sec:X.nJ.MSG_LIST,interactionType:X.Rb.callout,actionData:{mid:e[e.length-1]}}})})),Qn(this,"handleOnClick",(e=>{const{messageIds:t,handleClick:s}=this.props;pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.NUDGE_TO_REPLY_CLICKED,sec:X.nJ.MSG_LIST,interactionType:X.Rb.click,actionData:{mid:t[t.length-1]}}}),s(e)}))}render(){const{getCss:e,getThemeMode:t}=this.context,{formatMessage:s}=this.context.intl,{isHovered:a}=this.props,n=t()===Q.zg.DARK,r=!n&&a,o=n&&a,i=n&&!a,l=e(Xn(),{isLightHovered:r,isDarkHovered:o,isDarkNotHovered:i}),c=s(Jn.message_reply_now);return d.createElement(d.Fragment,null,d.createElement("button",{"data-test-id":"nudge-to-reply-button",className:l.nudgeToReply,"aria-label":c,title:c,onClick:this.handleOnClick},d.createElement(ae.Z,{kind:k.Kinds.REPLY,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED}),"Â ",d.createElement("div",{className:l.nudgeToReplyText},c)))}}Qn($n,"contextTypes",{intl:m.intlShape.isRequired,executeAction:c().func.isRequired,getCss:c().func,getThemeMode:c().func});var er=s(39959),tr=s.n(er);function sr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class ar extends d.Component{constructor(...e){super(...e),sr(this,"componentDidMount",(()=>{const{domain:e,unusualDiscount:t,messageIds:s}=this.props;t&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.UNUSUAL_DISCOUNT,sec:X.nJ.MSG_LIST,actionData:{mid:s,sndr:e,reason:{featurefamily:A.lMo.IC,featurename:A.ANe.UNUSUAL_DISCOUNT_EXISTS}}}})})),sr(this,"renderUnusualDiscountPill",(e=>d.createElement("div",{"data-test-id":"unusual-discount-pill"},d.createElement("div",{className:e.unusualDiscountPill},d.createElement(ae.Z,{kind:k.Kinds.DEALS,size:k.Sizes.XXS,colorState:k.ColorStates.SUCCESS}),"Â ",d.createElement("div",{className:e.unusualDiscountPillText},d.createElement(m.FormattedMessage,{id:"coupon_card.unusualDiscount",defaultMessage:"UNUSUAL DISCOUNT"}))))))}render(){const{getCss:e,getThemeMode:t}=this.context,{unusualDiscount:s,isHovered:a}=this.props,n=t()===Q.zg.DARK,r=!!s,o=n&&a,i=n&&!a,l=e(tr(),{isDarkHovered:o,isDarkNotHovered:i});return d.createElement("div",null,r?this.renderUnusualDiscountPill(l):null)}}sr(ar,"contextTypes",{getCss:c().func,getThemeMode:c().func}),sr(ar,"defaultProps",{domain:"",isHovered:!1,messageIds:[],senders:[],unusualDiscount:""});var nr=s(64343),rr=s(52717),or=s(31190),ir=s(33801),lr=s.n(ir);const cr=(0,m.defineMessages)({tax_season_text:{id:"tax_season.tax_season_text",defaultMessage:"TAX SEASON"},great_saving_text:{id:"message_tag.great_saving_text",defaultMessage:"GREAT SAVINGS"}}),dr=(e,t)=>{const{formatMessage:s}=t.intl,{layoutClassNames:a,messageId:n,decos:r,ccid:o,senderEmail:i,itemIndex:l,messageTagType:c}=e,_=t.getCss(lr());return(0,d.useEffect)((()=>{pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.NAVIGATION_VIEW,sec:X.nJ.MSG_LIST,actionData:{xpname:A.pdX.MESSAGE_TAG,msgId:n,ccid:o,decos:r,annotation:c===A.IQB.TAX_TAG?"taxsavings":["greatsavings","greatsavings_popular"],sndr:(0,J.isValidEmail)(i)?(0,J.destructEmailAddressParts)(i).domainPart:"NODOMAIN.COM",position:l,featurefamily:A.lMo.IC}}})}),[o,r,l,n,c,i]),d.createElement("div",{className:`${_.messageTag} ${a.messageTag}`},d.createElement(ae.Z,{kind:c===A.IQB.TAX_TAG?k.Kinds.CAPITOL_BUILDING_FILL:k.Kinds.TAG_FILL,size:k.Sizes.XXS,colorState:k.ColorStates.INHERITED}),d.createElement("span",{className:_.messageTagText,"data-test-id":"visible-tag-text"},s(c===A.IQB.TAX_TAG?cr.tax_season_text:cr.great_saving_text)))};dr.contextTypes={intl:m.intlShape,getCss:c().func};const _r=dr;var Er=s(64684);function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function mr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Sr=()=>{},pr="email",Cr=(0,m.defineMessages)({deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),Ar=e=>{e.stopPropagation(),e.preventDefault()};class Tr extends d.Component{constructor(e){super(e),mr(this,"onMouseOver",(()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})})),mr(this,"onMouseLeave",(()=>{this.state.hover&&this.setState({hover:!1})})),mr(this,"isHovered",(()=>this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging())),mr(this,"isDarkThemeMode",(()=>!this.props.isStorefrontRoute&&this.context.getThemeMode()===Q.zg.DARK)),mr(this,"handleClick",(e=>{Ar(e);const{messageRoute:t,unusualDiscount:s,productCategoryList:a,listId:n,groupId:r,streamId:o,fullGPTCategoryList:i,showNudgeToReply:l,showSnippets:c,isStorefrontRoute:d,currentStorefrontBrand:_,showSmartReply:E,isTaxMessage:u,isGreatSavingMessage:m,messageIds:S,itemIndex:p,decos:C,ccid:T}=this.props,I=(0,J.getInteractionFromEvent)(e),{senders:h=[]}=this.participantsInfo;if(s&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.UNUSUAL_DISCOUNT_MAIL_CLICKED,sec:X.nJ.MSG_LIST,actionData:{mid:this.props.messageIds,sndr:(0,J.isValidEmail)(h[0].email)?(0,J.destructEmailAddressParts)(h[0].email).domainPart:"NODOMAIN.COM",reason:{featurefamily:A.lMo.IC,featurename:A.ANe.UNUSUAL_DISCOUNT_EXISTS}}}}),(u||m)&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.NAVIGATION_INTERACT,sec:X.nJ.MSG_LIST,actionData:{xpname:A.pdX.MESSAGE_TAG,msgId:null==S?void 0:S[0],ccid:T,decos:C,annotation:u?"taxsavings":"greatsavings",sndr:(0,J.isValidEmail)(h[0].email)?(0,J.destructEmailAddressParts)(h[0].email).domainPart:"NODOMAIN.COM",position:p,featurefamily:A.lMo.IC}}}),d&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_INTERACT,sec:X.nJ.STOREFRONT_VIEW,actionData:{cardId:this.props.messageIds[0],currentbrand:_.currentBrandId,currentbrandbadge:_.currentBrandBadge,currentbrandposition:_.currentBrandPosition,featurefamily:A.lMo.IC,interacteditem:pr,interactiontype:X.Rb.interaction_click,xpname:A.zzX.SHORTCUTS_STORE_EMAILS_SECTION}}}),a.length){const e=X.JE.CATEGORY_FOLLOWING_MSG_OPEN,t=X.Rb.click,s=X.nJ.MSG_BODY,a={reason:{featurefamily:A.lMo.IC,featurename:A.ANe.CATEGORY_FOLLOW}};setImmediate((()=>{pe.ZP.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})}))}if(Array.isArray(i)&&i.length){const e=X.JE.GPT_CATEGORY_LIST_ON_MSG_OPEN,t=X.Rb.click,s=X.nJ.MSG_BODY,a={listItems:i.filter((e=>e.name)).map((e=>e.name))};pe.ZP.sendI13nModel({i13nModel:{mKey:e,interactionType:t,sec:s,actionData:a}})}if(e.shiftKey){const t={listId:this.props.listId,id:this.props.groupId};return this.props.onRangeSelected({streamId:o,streamItem:t}),void this.props.onClick(e)}const g={listId:n,streamId:o,messageRoute:t,groupId:r,senders:h,i13nModel:{interactionType:I,actionData:{}}};if(l){this.isRightPreviewPaneUser()&&!c||(g.i13nModel.actionData.nudgeToReply=!0)}E&&(g.i13nModel.actionData.showSmartReply=!0),this.props.onOpenMessage(g),this.props.onClick(e)})),mr(this,"handleDoubleClick",(e=>{Ar(e),this.openItem((0,J.getInteractionFromEvent)(e)),this.props.onDoubleClick(e)})),mr(this,"openItem",(e=>{const{navigateTo:t,messageRoute:s}=this.props;t({route:s,streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:X.JE.OPEN_MSG,sec:X.nJ.MSG_LIST_MSG,mKeyGroup:X.rO.openMsg}})})),mr(this,"openContactSearch",(e=>{const{senders:t}=this.participantsInfo;if(1!==t.length)return;const s={emailAddresses:t[0].email,name:t[0].name||t[0].email};this.props.navigateToSearch({route:(0,Ge.jq)(s),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:X.JE.CONTACT_SEARCH,sec:X.nJ.MSG_LIST_MSG,mKeyGroup:X.rO.search}})})),mr(this,"openSubjectSearch",(e=>{const t={keyword:`subject:"${(0,ta.bR)(this.props.subject)}"`};this.props.navigateToSearch({route:(0,Ge.jq)(t),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:X.JE.SUBJECT_SEARCH,sec:X.nJ.MSG_LIST_MSG,mKeyGroup:X.rO.search}})})),mr(this,"handleContactSearchClick",(e=>{Ar(e),this.openContactSearch((0,J.getInteractionFromEvent)(e)),this.props.onContactSearch()})),mr(this,"handleSubjectSearchClick",(e=>{Ar(e),this.openSubjectSearch((0,J.getInteractionFromEvent)(e)),this.props.onSubjectSearch()})),mr(this,"handleSelectionChange",(e=>{Ar(e);const{streamId:t,onSelectionChange:s,onRangeSelected:a}=this.props,n={listId:this.props.listId,id:this.props.groupId};e.shiftKey?a({streamId:t,streamItem:n}):s({streamId:t,streamItem:n,...zn(e,Oa.fx.SELECTION_CHANGE)})})),mr(this,"handleDeleteClick",(e=>{Ar(e);const{streamId:t,onDelete:s,permanentDelete:a}=this.props;if(null===this.state.confirmState&&a)return void this.setState({confirmState:{title:Yn.Z.list_delete_title,message:Yn.Z.list_perm_delete_message,onConfirm:this.handleDeleteClick,onAbort:this.hideConfirm},hover:!1});s({streamId:t,streamItem:{listId:this.props.listId,id:this.props.groupId},...zn(e,Oa.fx.DELETE)}),this.hideConfirm()})),mr(this,"handleReadChange",(e=>{Ar(e);const{onReadChange:t,streamId:s,isRead:a}=this.props;t({streamId:s,streamItem:{listId:this.props.listId,id:this.props.groupId},...zn(e,a?Oa.fx.UNREAD:Oa.fx.READ)})})),mr(this,"handleStarChange",(e=>{Ar(e);const{streamId:t,onStarChange:s,isStarred:a}=this.props;s({streamId:t,streamItem:{listId:this.props.listId,id:this.props.groupId},...zn(e,a?Oa.fx.UNSTAR:Oa.fx.STAR)})})),mr(this,"handleContextMenu",(e=>{if(!this.navLink)return;const t=this.navLink.getBoundingClientRect(),{groupId:s,listId:a,streamId:n}=this.props;Ar(e),this.props.onContextMenu({interactionType:(0,J.getInteractionFromEvent)(e),messageGroupId:s,listId:a,streamId:n}),this.setState({contextMenuPosition:{x:e.clientX-t.left,y:e.clientY-t.top},showContextMenu:!0})})),mr(this,"handleContextMenuHide",(()=>{this.setState({showContextMenu:!1,contextMenuPosition:null})})),mr(this,"hideConfirm",(()=>{null!==this.state.confirmState&&this.setState({confirmState:null})})),mr(this,"renderItemSelection",((e={})=>{const{formatMessage:t}=this.context.intl,{selected:s,hideCheckbox:a}=this.props;return a?null:d.createElement(sa.Z,{"data-test-id":"icon-btn-checkbox","aria-label":t(s?Cr.deselectionAriaLabel:Cr.selectionAriaLabel),isChecked:!!s,onClick:this.handleSelectionChange,onDoubleClick:this.handleSelectionChange,isInverted:this.isDarkThemeMode(),className:e.checkbox})})),mr(this,"renderYBadge",(e=>d.createElement(fn.Z,{layoutClassNames:e}))),mr(this,"renderTrustedIcon",(e=>d.createElement("span",{className:`${e.trustedIcon}`,"data-test-id":"trusted-icon"},d.createElement(ae.Z,{kind:k.Kinds.TRUSTED,size:k.Sizes.XXS,colorState:k.ColorStates.SUCCESS})))),mr(this,"renderReadIcon",(e=>{const{isRead:t}=this.props;return d.createElement(da,{isHovered:this.state.hover,isRead:t,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleReadChange,layoutClassNames:e})})),mr(this,"renderReplyIcon",(e=>d.createElement(Sa,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e}))),mr(this,"renderForwardIcon",(e=>d.createElement(Ia,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e}))),mr(this,"renderReadIndicators",(e=>{const{isOfficialDomain:t,isCertifiedDomain:s,isRead:a,isReplied:n,isForwarded:r,showOfficialDomainLogo:o}=this.props;return t&&o?this.renderYBadge(e):s?this.renderTrustedIcon(e):a?n&&!this.state.hover?this.renderReplyIcon(e):r&&!this.state.hover?this.renderForwardIcon(e):this.renderReadIcon(e):this.renderReadIcon(e)})),mr(this,"renderSenders",(e=>{const{isRecent:t,onClick:s,listId:a,highlightSearchResultsPage:n}=this.props,{senders:r,myAddresses:o}=this.participantsInfo;return d.createElement(na.Z,{isRead:t,senders:r,myAddresses:o,onClick:s,layoutClassNames:e,keyword:n?(0,$.Q7)(a):"",highlightSearchResultsPage:n})})),mr(this,"renderContactSearchIcon",(e=>{if(this.props.isScrolling())return null;const{showContactSearch:t}=this.props;return this.isHovered()?d.createElement(Fa,{isHovered:this.state.hover,showSearch:t(this.participantsInfo.senders),isCompact:!1,searchType:A.aib.CONTACT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleContactSearchClick,containerClassName:e.contactSearchIcon}):null})),mr(this,"renderSubjectSearchIcon",(e=>{if(this.props.isScrolling())return null;const{showSubjectSearch:t}=this.props;return this.isHovered()?d.createElement(Fa,{isHovered:this.state.hover,showSearch:t,isCompact:!1,searchType:A.aib.SUBJECT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleSubjectSearchClick,layoutClassNames:e}):null})),mr(this,"getStarIconSize",(()=>{if(this.isRightPreviewPaneUser())return k.Sizes.XXXS;const{msgListDensity:e}=this.props;switch(e){case A.Ds1.SLIM:return k.Sizes.XXXS;case A.Ds1.NORMAL:case A.Ds1.RELAXED:return k.Sizes.XXS;default:return k.Sizes.XXXS}})),mr(this,"renderAddLinkedTodoIcon",((e="")=>{const{messageIds:t,folderType:s,showTodoOnboardingCue:a,isFirstItemInList:n}=this.props;return s!==A.Sck.DRAFT&&null!=t&&t[0]?a&&n?d.createElement(or.Z,{hideWhenInactive:!1,msgId:null==t?void 0:t[0],isOnDarkBackground:this.isDarkThemeMode(),className:e,sec:X.nJ.MSG_LIST_MSG,onboardingCueType:or.y.MESSAGE_LIST}):d.createElement(rr.Z,{hideWhenInactive:!this.isHovered(),msgId:null==t?void 0:t[0],isOnDarkBackground:this.isDarkThemeMode(),className:e,sec:X.nJ.MSG_LIST_MSG}):null})),mr(this,"renderStarIcon",(e=>{const{isStarred:t}=this.props;return d.createElement(Ma,{isHovered:this.state.hover,isStarred:t,size:this.getStarIconSize(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleStarChange,layoutClassNames:e,burstAnimationEnabled:!0,isCompactLayout:this.isRightPreviewPaneUser()})})),mr(this,"renderMessageCount",(e=>{const t=this.props.messageIds.length;return d.createElement(Ja,{layoutClassNames:e,count:t})})),mr(this,"renderDraftLabel",(e=>{const{hasDraft:t}=this.props;return d.createElement(an,{layoutClassNames:e,hasDraft:t})})),mr(this,"renderSubject",(e=>{const{subject:t,highlightSearchTerm:s,highlightSearchResultsPage:a}=this.props;return d.createElement(Wa,{subject:t,highlightSearchTerm:s,layoutClassNames:e,highlightSearchResultsPage:a})})),mr(this,"renderMessageTag",(e=>{var t;const{isTaxMessage:s,messageIds:a,decos:n,ccid:r,itemIndex:o,isGreatSavingMessage:i}=this.props;return s||i?d.createElement(_r,{layoutClassNames:e,messageId:null==a?void 0:a[0],decos:n,ccid:r,senderEmail:null===(t=this.participantsInfo)||void 0===t?void 0:t.senders[0].email,itemIndex:o,messageTagType:s?A.IQB.TAX_TAG:A.IQB.GREAT_SAVING_TAG}):null})),mr(this,"renderSnippet",(e=>{const{snippet:t,highlightSearchTerm:s,showSnippets:a,highlightSearchResultsPage:n}=this.props;return a?d.createElement(ja,{snippet:t,highlightSearchTerm:s,layoutClassNames:e,highlightSearchResultsPage:n}):null})),mr(this,"renderNudgeToReply",(()=>d.createElement($n,{handleClick:this.handleClick,messageIds:this.props.messageIds,isHovered:this.state.hover}))),mr(this,"renderCategoryFollowing",(()=>{const{groupId:e,productCategoryList:t}=this.props;return t.length?d.createElement(We.cr,{import:"../../../category_following",contextOfUse:"messageList",messageGroupId:e,categoriesList:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,64311))},_moduleResolver:function(){return 64311}}):null})),mr(this,"renderUnusualDiscount",(()=>{const{messageIds:e,unusualDiscount:t}=this.props;return d.createElement(ar,{unusualDiscount:t,messageIds:e,senders:this.participantsInfo.senders})})),mr(this,"renderContextMenu",(e=>{const{contextMenuPosition:t}=this.state,{listId:a,streamId:n,contextMenuShown:r,moreMenuActions:o,scrollerRef:i,onDelete:l,onSpam:c,onArchive:_,onReplyForward:E}=this.props,u=t=>d.createElement("div",{className:e.contextMenuContainer},d.createElement(We.cr,{import:"../action_menu_items/index",listId:a,streamId:n,onEscape:this.handleContextMenuHide,onRead:o.onRead,onStar:o.onStar,onUnstar:o.onUnstar,onUnread:o.onUnread,onPrint:o.onPrint,moveToInbox:o.moveToInbox,viewRawMessage:o.viewRawMessage,contextualMenu:!0,onDelete:l,onSpam:c,onArchive:_,onReplyForward:E,onModuleLoadSuccess:t,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,82175))},_moduleResolver:function(){return 82175}},d.createElement(We.nA,{loading:!0},d.createElement(q.Z,null))));return d.createElement(pn.ZP,{align:is.xM.START,zAltitude:O.LSY.POPOVER.HIGH,triggerOn:pn.XU.MOUNT,triggerOff:pn.Es.CLICK,onShown:r,onHide:this.handleContextMenuHide,isArrowVisible:!1,scrollContainer:i,permittedArrowDirections:[is.Ji.UP,is.Ji.DOWN],contentComfortThreshold:1,collapseArrowWrapper:!0},d.createElement("span",{className:e.contextMenuAnchor,style:{top:t.y+"px",left:t.x+"px"}}),u)})),mr(this,"renderExtractedInfo",(()=>{const{hasDraft:e,unusualDiscount:t,productCategoryList:s,showNudgeToReply:a}=this.props,n=!!s.length;if(e)return null;let r=null;return a?r=this.renderNudgeToReply():n?r=this.renderCategoryFollowing():t&&(r=this.renderUnusualDiscount()),r})),mr(this,"renderMessageDestinationLabel",(e=>this.props.showDestinationLabel()?d.createElement(Ln,{layoutClassNames:e,folderId:this.props.folderId,isRead:this.props.isRead}):null)),mr(this,"renderAttachmentIcon",((e,t)=>{const{groupId:s,isSpam:a,listId:n,isScrolling:r,rsvpEnabled:o}=this.props;return d.createElement("div",{className:e.attachmentIcon,"data-test-id":"attachment-icon-wrapper",role:"gridcell"},d.createElement(Tn,{attachments:t,isDarkThemeMode:this.isDarkThemeMode(),listId:n,groupId:s,isSpam:a,attachmentTraySize:4,isInteractive:!r(),layoutClassNames:e,rsvpEnabled:o}))})),mr(this,"renderDate",(e=>d.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},d.createElement(aa.ZP,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)})))),mr(this,"renderTrashIcon",(()=>this.props.isScrolling()?null:d.createElement(Ha,{isHovered:this.state.hover,isCompact:this.isRightPreviewPaneUser(),isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleDeleteClick}))),mr(this,"renderConfirmDialog",(()=>{if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl,s={conversations:this.props.isConversationMode,count:this.props.messageIds.length};return d.createElement(jn.Z,{title:t(e.title),message:t(e.message,s),onConfirm:e.onConfirm,onAbort:e.onAbort})})),mr(this,"isRightPreviewPaneUser",(()=>{const{previewpane:e}=this.props;return e===A.EsZ.RIGHT})),mr(this,"getNavLink",(e=>{this.navLink=e})),mr(this,"renderPinEmailIcon",(()=>{const{isPinned:e}=this.props,t={sec:X.nJ.PINNED_EMAILS_LIST,mKey:e?X.JE.PINNED_EMAIL_CLICK_INACTIVE:X.JE.PINNED_EMAIL_CLICK_ACTIVE,interactionType:X.Rb.click};return d.createElement(Er.Z,{groupId:this.props.groupId,listId:this.props.listId,streamId:this.props.streamId,isHovered:this.state.hover,messageIds:this.props.messageIds,i13nModel:t})})),this.participantsInfo=e.getParticipantsInfo(),this.state={hover:!1,confirmState:null,showContextMenu:!1,contextMenuPosition:null}}UNSAFE_componentWillReceiveProps(e){this.participantsInfo=e.getParticipantsInfo()}componentDidUpdate(e){this.props.active&&!e.active&&(0,u.findDOMNode)(this.navLink).focus()}render(){const{yahooBrandNameString:e}=this.context,{formatMessage:t,formatDate:s,formatTime:a}=this.context.intl,{listId:n,hasDraft:r,isCertifiedDomain:o,isOfficialDomain:i,isRead:l,isRecent:c,isStarred:_,selected:E,messageIds:u,onMouseDown:m,onMouseUp:S,onDragStart:p,onDragEnd:C,groupId:T,messageRoute:I,active:h,showHighlightColor:g,showSnippets:D,snippet:R,subject:N,timestamp:L,getAttachments:f}=this.props,{contextMenuPosition:M,showContextMenu:P}=this.state,{senders:b}=this.participantsInfo,y={renderItemSelection:this.renderItemSelection,renderReadIndicators:this.renderReadIndicators,renderContactSearchIcon:this.renderContactSearchIcon,renderSubjectSearchIcon:this.renderSubjectSearchIcon,renderSenders:this.renderSenders,renderStarIcon:this.renderStarIcon,renderAddLinkedTodoIcon:this.renderAddLinkedTodoIcon,renderSubject:this.renderSubject,renderSnippet:this.renderSnippet,renderMessageDestinationLabel:this.renderMessageDestinationLabel,renderMessageCount:this.renderMessageCount,renderDraftLabel:this.renderDraftLabel,renderAttachmentIcon:this.renderAttachmentIcon,renderDate:this.renderDate,renderTrashIcon:this.renderTrashIcon,renderConfirmDialog:this.renderConfirmDialog,renderExtractedInfo:this.renderExtractedInfo,renderMessageTag:this.renderMessageTag,renderPinEmailIcon:this.renderPinEmailIcon},v=this.context.getCss(xn(),{activateDarkThemeMode:this.isDarkThemeMode()}),F=v.link+(g?" "+v.highlight:"")+(h?" "+v.active:""),U=E&&M&&P,k=new Date(L),w=s(k,{timeZoneName:"short",day:"numeric",month:"short",year:"numeric"}),G=a(k),H=[];b.forEach((e=>{H.push(e.name)}));const B=t(nr.Z.ariaEmailSummary,{attachmentsLength:f().length||0,count:u.length,formattedDate:w,formattedTime:G,verifiedDomain:i||o,isDraft:r,isStarred:_,isRecent:(0,$.kw)(n)===A.K8C.NEWMAIL&&c,isRead:l,selected:E,senderNames:H.join(", "),showSnippets:D,subject:N,snippet:R,yahooBrandNameString:e});return d.createElement("a",{role:"article",className:F,"data-test-id":"message-list-item","data-test-active":E,"data-test-starred":_,"data-test-read":l,tabIndex:h?O.iUz.MESSAGE_LIST_MAIN:-1,"aria-label":B,href:this.context.getUrlFromRoute(I),ref:this.getNavLink,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:m,onMouseUp:S,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onDragStart:p.bind(null,T),onDragEnd:C,onContextMenu:this.handleContextMenu,rel:"noopener"},U?this.renderContextMenu(v):null,this.isRightPreviewPaneUser()?d.createElement(Wn,ur({},y,this.props,{isHovered:this.isHovered})):d.createElement(Gn,ur({},y,this.props,{isHovered:this.isHovered,activateDarkThemeMode:this.isDarkThemeMode()})))}}mr(Tr,"contextTypes",{intl:c().object,getCss:c().func,getThemeMode:c().func,getUrlFromRoute:c().func.isRequired,timezone:V.TimezoneType,yahooBrandNameString:c().string}),mr(Tr,"defaultProps",{isScrolling:Sr,isDragging:Sr,onDragStart:Sr,onDrag:Sr,onDragEnd:Sr,openItem:Sr,onMouseUp:Sr,onMouseDown:Sr,onSelectionChange:Sr,onReadChange:Sr,onStarChange:Sr,onClick:Sr,onKeyDown:Sr,onDoubleClick:Sr,onContactSearch:Sr,onSubjectSearch:Sr,onDelete:Sr,selected:!1,active:!1,highlightSearchTerm:!0,previewpane:0,hasDraft:!1,isOfficialDomain:!1,isCertifiedDomain:!1,permanentDelete:!1,contextMenuEnabled:!1,fullGPTCategoryList:[]});const Ir=(0,Hn.Z)(Tr);var hr=s(50214),gr=s.n(hr);const Or=({isDarkMode:e,itemHeight:t})=>{const s=E()(gr(),{isDarkMode:e});return d.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},d.createElement("div",{className:s.gridB1,role:"gridcell"},d.createElement("div",{className:s.check})),d.createElement("div",{className:s.gridB2},d.createElement("div",{className:s.senderRow},d.createElement("div",{className:s.sender}),d.createElement("div",{className:s.date})),d.createElement("div",{className:s.subject}),d.createElement("div",{className:s.snippet})))};Or.defaultProps={itemHeight:72};const Dr=Or;var Rr=s(11388),Nr=s.n(Rr);const Lr=({isDarkMode:e,itemHeight:t})=>{const s=E()(Nr(),{isDarkMode:e});return d.createElement("div",{className:s.container+" message-list-placeholder",style:{height:t-1}},d.createElement("div",{className:s.gridB1},d.createElement("div",{className:s.sender})),d.createElement("div",{className:s.gridB2},d.createElement("div",{className:s.subject})),d.createElement("div",{className:s.date}))};Lr.defaultProps={itemHeight:32};const fr=Lr;var Mr=s(44278),Pr=s(3029),br=s.n(Pr);function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const vr=(0,m.defineMessages)({deal_separator_all:{id:"deal_separator_all",defaultMessage:"Deals from your inbox"},timechunk_str_today:{id:"timechunk_str_today",defaultMessage:"Today"},timechunk_str_yesterday:{id:"timechunk_str_yesterday",defaultMessage:"Yesterday"},timechunk_str_this_week:{id:"timechunk_str_this_week",defaultMessage:"This week"},timechunk_str_last_week:{id:"timechunk_str_last_week",defaultMessage:"Last week"},timechunk_str_this_month:{id:"timechunk_str_this_month",defaultMessage:"Earlier in {message}"},timechunk_str_this_year:{id:"timechunk_str_this_year",defaultMessage:"Earlier in {message}"},timechunk_str_days:{id:"timechunk_str_days",defaultMessage:"{weekday, select, 0 {Sunday} 1 {Monday} 2 {Tuesday} 3 {Wednesday} 4 {Thursday} 5 {Friday} 6 {Saturday}}"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select, 0 {January} 1 {February} 2 {March} 3 {April} 4 {May} 5 {June} 6 {July} 7 {August} 8 {September} 9 {October} 10 {November} 11 {December}}"}}),Fr=A.tdP.Types;class Ur extends d.PureComponent{render(){const{type:e,value:t,context:s,style:a,timeZone:n}=this.props,{formatMessage:r,formatDate:o}=s.intl,i=s.getCss(br(),{...a,isDarkThemeMode:s.getThemeMode()===Q.zg.DARK,isTimechunk:!0});let l=null;switch(e){case Fr.DAY:l=r(vr.timechunk_str_days,{weekday:t});break;case Fr.MONTH:case Fr.THIS_MONTH:l=r(vr.timechunk_str_months,{month:t});break;case Fr.THIS_YEAR:case Fr.YEAR:l=o(t,{year:"numeric",timeZone:n})}const c=e?vr["timechunk_str_"+e.toLowerCase()]:null;let _=null;return _=c?d.createElement(m.FormattedMessage,yr({},c,{values:{message:l}})):l,d.createElement("div",{className:i.container,"data-test-id":"time-chunk-separator"},_)}}class kr extends d.PureComponent{componentDidMount(){const e={featurefamily:A.lMo.IC,slot:X.KJ.COUPON_SMART_VIEW,xpname:A.pdX.COUPON_SMART_VIEW_COUPON_LIST_ITEM};pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_VIEW,sec:X.nJ.COUPONS_LIST,actionData:e}})}render(){const{context:e,value:t}=this.props,{formatMessage:s}=e.intl,a=0===t,n=e.getCss(br(),{isDarkThemeMode:e.getThemeMode()===Q.zg.DARK,flex:a,couponSeparator:!0}),r=(0,Q.$o)({context:e,includeMedium:!1});return d.createElement("div",{className:n.container,"data-test-id":"coupon-separator"},d.createElement("span",{className:n.couponHeader},s(vr.deal_separator_all)),a&&d.createElement("span",{className:n.partnerAttributionIcon},d.createElement(Mr.ZP,{isOnDarkBackground:r})))}}var wr=s(10769),Gr=s.n(wr);function Hr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Br extends d.Component{constructor(...e){super(...e),Hr(this,"state",{loadingState:A.Gui.IDLE})}UNSAFE_componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:A.Gui.START}),this.state.loadingState!==A.Gui.START||e.isListRefreshing()||this.setState({loadingState:A.Gui.FINISH})}render(){const e=this.context.getCss(Gr());return d.createElement("div",{className:(()=>{switch(this.state.loadingState){case A.Gui.START:return e.loadingBar;case A.Gui.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}Hr(Br,"contextTypes",{getCss:c().func});const xr=(0,S.connect)((e=>{const t=(0,He.selectors)(e),{getAction:s,isListRefreshing:a,getCurrentListId:n}=t,{forceSync:r=!1}=s(),o=n();return{forceSync:r,isListRefreshing:()=>a(o)}}))(Br);var Vr=s(75018),Zr=s.n(Vr);function Wr(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Kr extends d.Component{constructor(e){super(e),Wr(this,"state",{isInView:!1}),Wr(this,"_showLoading",(e=>{this.setState({isInView:e[0].intersectionRatio>0})})),this.loader=d.createRef()}shouldComponentUpdate(e,t){return t.isInView!==this.state.isInView}componentDidMount(){(0,g.aA)()&&(this.loaderObserver=new IntersectionObserver(this._showLoading),this.loaderObserver.observe(this.loader.current))}componentWillUnmount(){this.loaderObserver&&(this.loaderObserver.unobserve(this.loader.current),this.loaderObserver.disconnect())}render(){const{getCss:e,getThemeMode:t}=this.context,s=e(Zr(),{themeMode:t()});return d.createElement("div",{className:s.container,ref:this.loader},this.state.isInView&&d.createElement(q.Z,null))}}Wr(Kr,"contextTypes",{getCss:c().func,getThemeMode:c().func});var zr=s(5026),Yr=s(4450),jr=s.n(Yr);const qr=(0,m.defineMessages)({photos:{id:"photos_header_label",defaultMessage:"Photos from email"}}),Xr=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(jr(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,listId:_}=e;return d.createElement("div",{className:o.photosViewHeader,"data-test-id":"photos-header"},d.createElement("header",{className:o.photosViewTitle},r(qr.photos)),d.createElement("div",{className:o.sortMenuContainer},d.createElement(Ys.Z,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:_,sortOrder:t,i13nModel:{interactionType:(0,J.getInteractionFromEvent)(e)}})},tabIndex:O.iUz.MESSAGE_LIST_TOOLBAR})))};Xr.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const Qr=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,He.selectors)(e);return{currentSortOrder:(0,$.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(Xs(t))})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&zs()(e.availableSortOrders,t.availableSortOrders)})(Xr);var Jr=s(9723),$r=s(33604),eo=s.n($r),to=s(77746),so=s(27084),ao=s.n(so);const no=({selectionCount:e,isConversationMode:t},{intl:s,getCss:a})=>{const n=a(ao());return d.createElement("div",{className:n.container,"data-test-id":"selection-count","data-test-count":e},d.createElement("div",{className:n.wrapper},d.createElement("div",{className:n.svgWrapper,role:"presentation"}),e>0&&d.createElement("div",{className:n.countWrapper},d.createElement("span",{className:n.count,"data-test-id":"selection-count-node"},d.createElement("span",{"aria-hidden":!0},s.formatNumber(e)),d.createElement("span",{className:n.accessible,id:"announcedSelectionCount",tabIndex:"-1","aria-live":"polite"},d.createElement(m.FormattedMessage,{id:"mail_count.selectionCountAnnouncement",defaultMessage:"{isConversationMode, select, true {{selectionCount, plural, one {conversation} other {# conversations} }} false {{selectionCount, plural, one {message} other {# messages} }} } selected.",values:{isConversationMode:t,selectionCount:e}}))))))};no.contextTypes={intl:m.intlShape,getCss:c().func};const ro=(0,S.connect)(((e,{listId:t})=>{const{getNumberOfSelectedItemsInList:s,isFeatureEnabled:a}=(0,He.selectors)(e),n=a(A.ANe.CONVERSATIONS);return{selectionCount:s(t),isConversationMode:n}}))(no);var oo=s(50566);function io(){return(io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}class lo extends d.Component{shouldComponentUpdate(e){return!e.skipRendering}render(){const{numberOfMessageSelection:e,openedGroupId:t,csid:s}=this.props,a=this.context.getCss(eo());return 0===e&&(t||s)?d.createElement("div",{className:a.messageView},d.createElement(to.ZP,io({},this.props,{hasToolbar:!1,openedMessageId:t,csid:s,widthChanged:0}))):d.createElement("div",{className:a.blank},d.createElement(ro,{listId:this.props.listId}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(lo,"contextTypes",{getCss:c().func});const co=(0,S.connect)(((e,{streamId:t})=>{const{doesStreamExist:s,getSelectedStreamItems:a,isSingleDraftGroup:n,doesMessageGroupIdExist:r,getCsidForSingleDraftGroup:o,getCursorItem:i,getAction:l}=(0,He.selectors)(e),c=s(t)?i(t):{},d=c?c.id:void 0,_=s(t)?a(t).length:0,E=!!r(d)&&n(d),u=l().type;return{skipRendering:u===oo.STREAM_CURSOR_MOVED||u===oo.ITEM_LIST_PAGE_SCROLLED,numberOfMessageSelection:_,openedGroupId:d,csid:E?o(d):void 0}}),null)(lo);var _o=s(43715),Eo=s.n(_o);const uo=(0,m.defineMessages)({heading:{id:"receipt_header.heading",defaultMessage:"Receipts from email"}});class mo extends d.Component{render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),s=E()(Eo(),{themeMode:t}),a=e(uo.heading);return d.createElement("div",null,d.createElement("div",{className:s.heading,"data-test-id":"receipt-heading","aria-label":a,title:a},a))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(mo,"contextTypes",{intl:m.intlShape.isRequired,getThemeMode:c().func});const So=mo;var po=s(18452),Co=s.n(po),Ao=s(17591),To=s(71421);const Io="view_more",ho="view_less",go="view_all_btn",Oo="view_less_btn",Do=(0,m.defineMessages)({deal_separator_recommended:{id:"deal_separator_recommended",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class Ro extends d.Component{render(){const{toggleExpansion:e,isExpanded:t,isExpandable:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getCss(Co()),r=(0,Q.$o)({context:this.context,includeMedium:!1});return d.createElement("div",{className:n.container,"data-test-id":"top-deals-header"},d.createElement("div",{className:n.iconContainer},d.createElement("span",{className:n.header},a(Do.deal_separator_recommended)),d.createElement("span",{className:n.partnerAttributionIcon},d.createElement(Mr.ZP,{isOnDarkBackground:r,size:k.Sizes.XS}))),d.createElement("div",{className:n.buttonContainer},s?d.createElement(ne.Z,{marginLess:!0,kind:fe.F.THEMED_LIKE_COMPOSE_BUTTON,onClick:()=>e(t),overridingClass:n.expandButton},a(t?Do.viewLess:Do.viewMore)):null))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Ro,"contextTypes",{intl:m.intlShape.isRequired,getCss:c().func,getThemeMode:c().func});const No=(0,S.connect)((e=>{const{getCouponsSelectors:t,getMainContentWidth:s,getDealsViewSelectors:a}=(0,He.selectors)(e),{getRecommendedDeals:n}=t(),{getDealsViewListExpansion:r}=a(),o=n(),i=s();let l=2;i>1e3?l=3:i<650&&(l=1);const c=(0,To.Bb)(o,i/l,i);return{isExpanded:r(),isExpandable:c.length>3}}),(e=>{const t={featurefamily:A.lMo.IC,slot:X.KJ.COUPON_SMART_VIEW,xpname:A.pdX.RECOMMENDED_DEALS},s={mKey:X.JE.CARD_INTERACT,sec:X.nJ.COUPONS_LIST,actionData:t};return{toggleExpansion:a=>{t.interactiontype=a?ho:Io,t.interacteditem=a?Oo:go,e((0,Ao.a6)({i13nModel:s}))}}}))(Ro);var Lo=s(75668),fo=s.n(Lo);function Mo(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Po=(0,m.defineMessages)({heading:{id:"travel_header.heading",defaultMessage:"Travel"},upcoming:{id:"travel_header.upcoming",defaultMessage:"Upcoming"},upcoming_selected:{id:"travel_header.upcoming_selected",defaultMessage:"Upcoming, selected"},past:{id:"travel_header.past",defaultMessage:"Past"},past_selected:{id:"travel_header.past_selected",defaultMessage:"Past, selected"},emails:{id:"travel.emails",defaultMessage:"Emails"},emails_selected:{id:"travel.emails_selected",defaultMessage:"Emails, selected"}});class bo extends d.Component{constructor(...e){super(...e),Mo(this,"handleTabChange",((e,{mKeyType:t,smartViewType:s})=>{const a=X.JE["FILTER_"+t],n=(0,Ge.jK)(s,{accountIds:(0,$.Er)(this.props.listId)});this.context.navigateTo({route:n,i13nModel:{mKey:a,sec:X.nJ.TRAVEL_LIST,interactionType:(0,J.getInteractionFromEvent)(e)}})}))}render(){const e=(0,$.C4)(this.props.listId),t=(0,$.WN)(this.props.listId),{formatMessage:s}=this.context.intl,a=this.context.getCss(fo());return d.createElement("div",{className:a.container,"data-test-id":"travel-header"},d.createElement("div",{className:a.heading,"data-test-id":"travel-heading"},s(Po.heading)),d.createElement("div",{className:a.tabs},d.createElement(Yt.Z,null,d.createElement(jt.Z,{isSelected:e===A.ukn.TRAVEL_VIEW_UPCOMING,onClick:e=>this.handleTabChange(e,{mKeyType:A.ukn.TRAVEL_VIEW_UPCOMING,smartViewType:A.K8C.TRAVEL}),"data-test-id":"btn-upcoming-tab",title:s(Po.upcoming)}),d.createElement(jt.Z,{isSelected:e===A.ukn.TRAVEL_VIEW_PAST,onClick:e=>this.handleTabChange(e,{mKeyType:A.ukn.TRAVEL_VIEW_PAST,smartViewType:A.K8C.TRAVEL_PAST}),"data-test-id":"btn-past-tab",title:s(Po.past)}),d.createElement(jt.Z,{isSelected:t===A.F6k.MESSAGES,onClick:e=>this.handleTabChange(e,{mKeyType:A.F6k.MESSAGES,smartViewType:A.K8C.TRAVEL_EMAILS}),"data-test-id":"btn-emails-tab",title:s(Po.emails)}))))}}Mo(bo,"contextTypes",{getCss:c().func,intl:m.intlShape.isRequired,navigateTo:c().func});const yo=bo;var vo=s(74960),Fo=s.n(vo),Uo=s(82520);const ko=(0,m.defineMessages)({all_emails:{id:"all.emails",defaultMessage:"All Emails"},focused_inbox:{id:"focused_inbox",defaultMessage:"Important Emails"}}),wo=(0,S.connect)((e=>({showFocusedInboxCue:(0,He.selectors)(e).isFeatureEnabled(A.ANe.FOCUSED_INBOX_CUE),selectedAccountId:(0,He.selectors)(e).getSelectedAccountId(),selectedAccountFolderId:(0,He.selectors)(e).getDefaultFolderIdForSelectedAccount()})),(e=>({navigateToRoute:t=>e((0,tt.Ch)(t)),navigateToInbox:t=>e((0,tt.YD)(t))})))((e=>{const t=(0,d.useRef)(null),{selectedAccountFolderId:a,selectedAccountId:n,navigateToInbox:r,navigateToRoute:o,listId:i,showFocusedInboxCue:l}=e,c=(0,$.aY)(i),{formatMessage:_}=(0,De.Y)(),E=(0,Re.Z)(Fo()),u=(0,d.useCallback)((()=>{r({inboxFolderId:a})}),[r,a]),m=(0,d.useCallback)((()=>{const e=(0,Ge.Yw)((0,$.rA)({referrer:A.qd8.FOCUSED_INBOX,accountIds:n}));o({route:e})}),[o,n]);return d.createElement(us.Z,{"data-test-id":"inbox-header",circularNavigation:!1,axis:us.U.HORIZONTAL,groupTabIndex:O.iUz.SEGMENTED_CONTROL_FILTERS},d.createElement("div",{className:E.tabs},d.createElement(Yt.Z,{"data-test-id":"segmented-control-focused-inbox"},d.createElement(jt.Z,{ref:t,isSelected:c===A.qd8.FOCUSED_INBOX,onClick:m,"data-test-id":"btn-focused-inbox-tab",title:_(ko.focused_inbox),"data-iskeynav":!0}),d.createElement(jt.Z,{isSelected:c!==A.qd8.FOCUSED_INBOX,onClick:u,"data-test-id":"btn-all-emails-tab",title:_(ko.all_emails),"data-iskeynav":!0}))),l&&d.createElement(Uo.yk,{popoverAnchor:t,triggerOn:is.K2.MOUNT,permittedArrowDirections:[is.Ji.UP],zAltitude:O.LSY.POPOVER.HIGH,align:is.xM.START},d.createElement(We.cr,{cueName:A.ANe.FOCUSED_INBOX_CUE,import:"./focused_inbox_cue",_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,69937))},_moduleResolver:function(){return 69937}})))}));var Go=s(549);const Ho=(e,t)=>{const{count:s,isConversationMode:a,onClose:n,onConfirm:r,perm:o}=e,i=o?Yn.Z.list_perm_delete_message:Yn.Z.list_bulk_delete_message,{formatMessage:l}=t.intl,c={conversations:a,count:s};return d.createElement(jn.Z,{title:l(Yn.Z.list_delete_title),message:l(i,c),onConfirm:e=>{e.stopPropagation(),e.preventDefault(),r(),n()},onAbort:e=>{e.stopPropagation(),e.preventDefault(),n()}})};Ho.contextTypes={intl:m.intlShape};const Bo=(0,S.connect)(((e,{streamId:t,selectedItemsCount:s})=>{const{doesStreamExist:a,getSelectedStreamItems:n,getCursorItem:r}=(0,He.selectors)(e),o=a(t)?n(t):[],i=a(t)?r(t):void 0;let l=0;return s>0?l=s:o.length>0?l=o.length:i&&(l=1),{count:l}}),void 0)(Ho);var xo=s(14890),Vo=s(41958);const Zo=e=>({type:oo.STREAM_CURSOR_MOVED,...e,movement:A.Fio.DOWN});var Wo=s(14196),Ko=s(85458),zo=s(79159),Yo=s(93568);const jo=e=>({type:oo.ALL_STREAM_ITEMS_SELECTED,...e}),qo=e=>(t,s)=>{let{streamItem:a}=e;const{streamId:n}=e,{doesStreamExist:r,getCursorItem:o}=(0,He.selectors)(s());if((a||r(n))&&(a||(a=o(n)),a))return t({...e,type:oo.STREAM_ITEM_TOGGLED,streamItem:a})},Xo=e=>({type:oo.STREAM_ITEMS_SELECTION_CHANGED,...e}),Qo=e=>({type:oo.STREAM_SELECT_CURSOR_MOVED,...e});var Jo=s(97735),$o=s(67607),ei=s(78263),ti=s(30982);var si=s(45582),ai=s(92039);const ni=["ctrl+e","meta+e","ctrl+a","meta+a","shift+k","shift+l","shift+v","shift+up","shift+down","shift+e","shift+.","shift+,","ctrl+.","ctrl+,","k","l","e","up","down","enter","space","#","del","backspace","pageup","pagedown",",",".","tab"],ri=(0,xo.compose)((0,S.connect)(((e,{listId:t})=>{var s;const{getListsSelectors:a,getRoute:n,doesStreamExist:r,getMainStreamListIds:o,getMainStreamItems:i,getSetting:l,isFeatureEnabled:c,getCursorItem:d,getEnvironmentSelectors:_,getListItemIds:E,getListItemsWithAds:u,getReconciledUnysncedDataByHash:m,couldShowEmptyFolderVideo:S,getWindowDimensions:p,isPermDeleteFolderType:C,getBreakingNewsSelectors:T,getFeaturesSelectors:I,getNumberOfSelectedItemsInList:h,getStreamSelectionType:g,isStorefrontRoute:O,shouldEnableTriageActions:D,canShowToolbarItem:R,canEnableToolbarItem:N,getFoldersSelectors:L,getPrimaryAccountId:f,normalizeRoute:M,getDefaultFolderIdForSelectedAccount:P,canShowStickyOnboarding:b,getYaiSearchAnswer:y,getYaiSearchAnswerStatus:v}=(0,He.selectors)(e),F=I(),U=h(t);let k,w;if(c(A.ANe.YAI_SEARCH)){k=y(t);let e=(0,$.Q7)(t);(0,ai.Gi)(e)&&(e=(0,ai.py)(e)),w=v(e)}const G=n(),H=o(G),B=(0,ei.BA)(H),x=(0,$.WN)(t),V=-1!==[A.F6k.TRAVEL_CARDS,A.F6k.COUPON_CARDS,A.F6k.REFUND_CARDS,A.F6k.IMAGES,A.F6k.DOCUMENTS,A.F6k.SENDERS].indexOf(x)||w===A.DAQ.LOADING||w===A.DAQ.LOADED||w===A.DAQ.ERROR,Z=O(),W=i(Z?M((0,Ge.Rb)(f(),(0,$.Yy)(t))):G),K=u(G,W);let z=!1,Y="";"object"==typeof K[0]&&K[0].id===A.F6k.CONTACTS&&(z=!0,Y=K[0].email,K.shift());const{hasMoreItems:j,getListStatus:q,doesListExist:X}=a(),Q=H.reduce(((e,t)=>X(t)?e===A.DAQ.LOADING||e===A.DAQ.ERROR?e:q(t):A.DAQ.LOADING),A.DAQ.DOES_NOT_EXIST),J=c(A.ANe.CONVERSATIONS),ee=r(B)?d(B):void 0,te=G.name===A.n8z.SEARCH,se=H.some((e=>X(e)&&j(e))),ae=(0,$.GG)(t),ne=p().innerHeight,re=l(A.Zrf.LIST_ITEM_HEIGHT,{contentType:x}),oe=(0,$.Fh)(t),ie=c(A.ANe.BREAKING_NEWS_ENABLED),le=T().getNewsArticle(),ce=l(A.Zrf.BREAKING_NEWS_REFRESH_INTERVAL),de=c(A.ANe.SELECT_ALL),_e=g(B),Ee=F.getSetting(A.Zrf.BULK_ACTION_DIALOG_THRESHOLD),ue=X(t)?E(t):[];let me=!1;me=de?_e===A.ie0.BULK:U>=ue.length;const{getPrimaryFolderTypeByFolderId:Se}=L(),pe=de&&me&&U>Ee,Ce=oe?Se(oe):void 0,Ae=Ce===A.Sck.INBOX||Ce===A.Sck.UNREAD||Ce===A.Sck.STARRED,Te=(0,$.ju)(G),{getTopOfInboxCardsSelectors:Ie}=(0,He.selectors)(e),{getTopOfInboxCards:he}=Ie(),ge=b();return{status:Q,route:G,listId:t,streamId:B,cursorItem:ee,doSelectAll:pe,selectedItemsCount:U,timeZone:_().getTimeZoneName(),items:Z?W:K,hasMoreItems:se&&W.length>0,listenKeys:ni,previewpane:Z?A.EsZ.NO:l(A.Zrf.PREVIEW_PANE),itemListPageThreshold:l(A.Zrf.ITEM_LIST_PAGE_THRESHOLD),previewpaneInPixels:c(A.ANe.PREVIEW_PANE_IN_PIXELS),previewpaneCookie:c(A.ANe.PREVIEW_PANE_COOKIE),previewpanePositionsFromServer:l(A.Zrf.PREVIEWPANE_POSITIONS_FROM_SERVER),highlightSearchTerm:!(!te||ae)&&(0,$.Ie)(t).keyword,hideToolbar:V,isSelectAllFeatureEnabled:de,showSearchHeader:te&&!ae&&w!==A.DAQ.LOADING&&w!==A.DAQ.LOADED&&w!==A.DAQ.ERROR,showEmailsToMyselfHeader:te&&Te,showListFilter:te&&!ae&&!!(0,$.DF)(t),isConversationMode:J,isRTL:"rtl"===_().getPageDirection(),dealsView:c(A.ANe.DEALS),msgListDensity:l(A.Zrf.MSG_LIST_DENSITY),preservedState:m((0,$.JB)(t)),messageBuffer:l(A.Zrf.V3_LIST_MESSAGE_BUFFER),numOfPlaceHolder:l(A.Zrf.V3_LIST_NUM_OF_PLACEHOLDER),oppositeBufferSize:l(A.Zrf.V3_OPPOSITE_BUFFER),showEmptyFolderVideo:S(),bulkActionDialogThreshold:Ee,windowClientHeight:ne,mainItemHeight:re,permanentDelete:!!oe&&C(oe),isBreakingNewsEnabled:ie,newsArticle:le,newsRefreshInterval:ce,isCouponEmails:c(A.ANe.DEALS_VIEW_FOR_INTLS),enableTriageActions:D(B),canShowToolbarItem:R(B),canEnableToolbarItem:N(B),showBrandShortcuts:c(A.ANe.STOREFRONT_SHORTCUTS)&&l(A.Zrf.PREVIEW_PANE)===A.EsZ.NO&&!Z&&Ae,folderType:Ce,isFocusedInboxEnabled:c(A.ANe.FOCUSED_INBOX),partner:_().getPartner(),allTopOfInboxCardLength:(null==W||null===(s=W[0])||void 0===s?void 0:s.id)===A.F6k.TOP_OF_INBOX_CARDS_TITLE?he().length:0,hasSearchContactCard:z,searchContactCardEmail:Y,showStickyOnboarding:ge,isMothersDayComposeCueEnabled:c(A.ANe.MOTHERS_DAY_COMPOSE_CUE),isFathersDayComposeCueEnabled:c(A.ANe.FATHERS_DAY_COMPOSE_CUE),isDefaultFolder:P()===oe,yaiSearchAnswer:k,showYaiSearchAnswer:te&&(0,$.Ct)(t)&&(w===A.DAQ.LOADING||w===A.DAQ.LOADED)&&w!==A.DAQ.ERROR}}),void 0,void 0,{areStatePropsEqual:(e,t)=>e.selectedItemsCount===t.selectedItemsCount&&e.streamId===t.streamId&&zs()(e.items,t.items)&&e.status===t.status&&e.previewpane===t.previewpane&&e.windowClientHeight===t.windowClientHeight&&e.isBreakingNewsEnabled===t.isBreakingNewsEnabled&&zs()(e.newsArticle,t.newsArticle)&&e.enableTriageActions===t.enableTriageActions&&e.showYaiSearchAnswer===t.showYaiSearchAnswer}),(0,S.connect)(void 0,((e,{canShowToolbarItem:t,canEnableToolbarItem:s,isSelectAllFeatureEnabled:a})=>{const n={onSelectAll:t=>e(jo({streamId:t,isSelectAllFeatureEnabled:a})),onSelectNone:t=>{return e((s={streamId:t},{type:oo.STREAM_ITEMS_SELECTION_CLEARED,...s}));var s},onSelectAllRead:t=>e(Xo({streamId:t,selectionType:A.ie0.READ})),onSelectAllUnread:t=>e(Xo({streamId:t,selectionType:A.ie0.UNREAD})),onSelectAllStarred:t=>e(Xo({streamId:t,selectionType:A.ie0.STARRED})),onSelectAllUnstarred:t=>e(Xo({streamId:t,selectionType:A.ie0.UNSTARRED}))},r={onRead:t=>e((0,$o.zJ)(t)),onUnread:t=>e((0,$o.WF)(t)),onStar:t=>e((0,Jo.Hw)(t)),onUnstar:t=>e((0,Jo.ww)(t)),onPrint:t=>e((0,Wo.MR)(t)),moveToInbox:t=>e((0,Ko.x0)(t)),viewRawMessage:t=>e((0,tt.Mw)(t))},o={onSelectionChange:t=>e(qo(t)),onRangeSelected:t=>e((e=>({type:oo.STREAM_ITEMS_RANGE_SELECTED,...e}))(t)),onDelete:t=>e((0,zo.CV)(t)),onStarChange:t=>e((0,Jo.ZP)(t)),onReadChange:t=>e((0,$o.ZP)(t)),onOpenMessage:t=>e((0,Wo.x4)(t)),navigateToSearch:t=>e((0,tt.k1)(t))};return{actions:{[A.F6k.MESSAGES]:o,[A.F6k.PINNED_EMAILS]:o,[A.F6k.TRAVEL_CARDS]:{},[A.F6k.COUPON_CARDS]:{},TOOLBAR:{onSortOrderChange:t=>e(Xs(t)),onMove:t=>e((0,Ko.B6)(t)),onArchive:t=>e((0,Ko.nw)(t)),moveToInbox:t=>e((0,Ko.x0)(t)),onDelete:t=>e((0,zo.CV)(t)),onSpam:t=>e((0,Ko.Ke)(t)),onReplyForward:t=>e((0,Wo.h2)(t)),onClosePreviewMessage:t=>e((0,tt.Qg)(t)),onChangeAllMessageCardExpansion:t=>e((0,Wo.Ty)(t)),onClosePage:t=>e((0,tt.I3)(t)),moreMenuActions:r,selectionActions:n}},checkMail:()=>e((0,tt.PV)({forceSync:!0,...zn(null,Oa.fx.CHK_MAIL)})),onNavigateToRoute:t=>e((0,tt.Ch)(t)),onPageScrolled:t=>e((0,Yo.l)({listId:t})),loadMoreItems:t=>e((0,Vo.ZP)(t)),onKeyDown:(a,n,r)=>{const o=a.which||a.keyCode||-1,i=String.fromCharCode(o).toLowerCase(),l=(0,$.WN)(r),c=e=>t(e)&&s(e);switch(i){case w.y.KEYA:(a.metaKey||a.ctrlKey)&&e(jo({streamId:n}));break;case w.y.KEYE:a.shiftKey&&c(A.Egu.RESTORE)?e((0,Ko.x0)({streamId:n,...zn(a,Oa.fx.RESTORE)})):c(A.Egu.ARCHIVE)&&e((0,Ko.nw)({streamId:n,...zn(a,Oa.fx.ARCHIVE)}));break;case w.y.KEYK:a.shiftKey&&c(A.Egu.READ)?e((0,$o.zJ)({streamId:n,...zn(a,Oa.fx.READ)})):c(A.Egu.UNREAD)&&e((0,$o.WF)({streamId:n,...zn(a,Oa.fx.UNREAD)}));break;case w.y.KEYL:a.shiftKey&&c(A.Egu.UNSTARRED)?e((0,Jo.ww)({streamId:n,...zn(a,Oa.fx.UNSTAR)})):c(A.Egu.STARRED)&&e((0,Jo.Hw)({streamId:n,...zn(a,Oa.fx.STAR)}));break;case w.y.KEYV:a.shiftKey&&l===A.F6k.MESSAGES&&e((0,ti.Yp)({...zn(a,Oa.fx.ROTATE_PREVIEWPANE)}));break;default:switch(o){case w.P.UP:case w.P.COMMA:case w.P.FF_COMMA:a.shiftKey?e(Qo({streamId:n,movement:A.Fio.UP})):e((d={streamId:n},{type:oo.STREAM_CURSOR_MOVED,...d,movement:A.Fio.UP}));break;case w.P.DOWN:case w.P.PERIOD:a.shiftKey?e(Qo({streamId:n,movement:A.Fio.DOWN})):e(Zo({streamId:n}));break;case w.P.SPACE:e(qo({streamId:n}));break;case w.P.DELETE:case w.P.BACKSPACE:case w.P.HASHTAG:a.key===w.y.PERIOD?e(Zo({streamId:n})):c(A.Egu.DELETE)&&e((0,zo.CV)({streamId:n,...zn(a,Oa.fx.DELETE)}));break;case w.P.ENTER:{let t=Oa.fx.OPEN_MSG;switch(l){case A.F6k.MESSAGES:t=Oa.fx.OPEN_MSG;break;case A.F6k.IMAGES:t=Oa.fx.OPEN_PHOTO;break;case A.F6k.DOCUMENTS:t=Oa.fx.OPEN_DOC}e((0,tt.Sh)({streamId:n,...zn(a,t)}))}}}var d},onDragStart:t=>e((0,Ko.nh)(t)),syncUnsyncedData:()=>e((0,tt.PV)()),moveToFirstItem:t=>e(Zo({streamId:t})),onContextMenu:t=>e((e=>{const{messageGroupId:t,listId:s,streamId:a,i13nModel:n,isV2Action:r=!1,messageGroupIds:o=[]}=e,i={id:t,listId:s};return{type:oo.STREAM_CONTEXT_MENU,messageGroupId:t,i13nModel:n,listId:s,streamId:a,streamItem:i,isV2Action:r,messageGroupIds:o}})(t)),onContextMenuShown:t=>e((({i13nModel:e})=>({type:oo.STREAM_CONTEXT_MENU_SHOWN,i13nModel:e}))(t)),onBreakingNewsDismissed:t=>e((0,si.Gv)(t)),onBreakingNewsRefresh:t=>e((0,si.iD)(t)),onBreakingNewsClicked:t=>e((0,si.C5)(t)),onBreakingNewsRendered:t=>e((0,si.$K)(t))}})));var oi=s(91054),ii=s.n(oi),li=s(7561),ci=s.n(li);function di(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class _i extends d.Component{constructor(e,{getCss:t}){super(e),di(this,"renderSenders",(e=>{const{unreadCount:t,senders:s,myAddresses:a}=this.props;return this.props.senders.length?d.createElement(na.Z,{isRead:!t,senders:s,myAddresses:a,onClick:()=>{},layoutClassNames:e}):null})),di(this,"renderDate",(e=>d.createElement("time",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},d.createElement(aa.ZP,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp)})))),di(this,"renderMessageCount",(e=>{const{totalCount:t}=this.props;return d.createElement(Ja,{layoutClassNames:e,count:t,roundUpCounts:!0})})),di(this,"renderSubject",(e=>{const t=this.props.subject||"";return d.createElement(Wa,{subject:t,layoutClassNames:e})})),di(this,"renderAvatar",(()=>this.props.senders.length?d.createElement("div",{style:{padding:"8px"}},this.props.type===A.ICb.SENDER?d.createElement(re.ZP,{contact:{email:this.props.senders[0].email},size:re.u8.C}):d.createElement("div",{className:this.classNames.conversationIcon},d.createElement(ae.Z,{kind:k.Kinds.PEOPLE,size:k.Sizes.XS,colorState:k.ColorStates.INVERTED}))):null)),di(this,"onReadIconClick",(e=>{e.stopPropagation(),e.preventDefault()})),di(this,"renderReadIcon",(e=>{const t=this.context.getThemeMode()===A.zgU.DARK;return d.createElement(da,{isHovered:this.isHovered(),isRead:!this.props.unreadCount,isDarkThemeMode:t,onClick:this.onReadIconClick,layoutClassNames:e})})),di(this,"onTrashIconClick",(e=>{e.stopPropagation(),e.preventDefault()})),di(this,"renderTrashIcon",(()=>{const e=this.context.getThemeMode()===A.zgU.DARK;return d.createElement(Ha,{isHovered:this.isHovered(),isCompact:!1,isDarkThemeMode:e,onClick:this.onTrashIconClick})})),di(this,"onMouseOver",(()=>{this.state.hover||this.props.isScrolling()||this.setState({hover:!0})})),di(this,"onMouseLeave",(()=>{this.state.hover&&this.setState({hover:!1})})),di(this,"isHovered",(()=>this.state.hover&&!this.props.isScrolling())),di(this,"getRouteToNavigate",(()=>{const{listId:e,id:t,type:s,senders:a}=this.props;return s===A.ICb.CONV?(0,Ge.m9)(e,t):(0,Ge.jK)(A.K8C.SENDER_ROLLUP,{emailAddresses:a[0].email,name:a[0].name||a[0].email,folders:(0,$.Fh)(e)})})),di(this,"handleClick",(e=>{e.preventDefault();const{listId:t,id:s,type:a,navigateTo:n,onSenderSearch:r}=this.props,o=this.getRouteToNavigate();a===A.ICb.CONV?n({route:o,streamItem:{listId:t,id:s}}):r({route:o})})),this.classNames=t(ci(),{isRead:!e.unreadCount}),this.state={hover:!1}}render(){const{classNames:e}=this,t=this.getRouteToNavigate();return d.createElement("a",{role:"row",className:e.link,"data-test-id":"message-list-item",href:this.context.getUrlFromRoute(t),onClick:this.handleClick,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,rel:"noopener"},d.createElement("div",{className:e.container+" message-list-item"},d.createElement("div",{className:e.gridB1},this.renderAvatar(),this.renderSenders(e)),this.renderReadIcon(e),d.createElement("div",{className:e.gridB2},d.createElement("div",{className:e.message},d.createElement("div",{className:e.subjectContainer},this.renderSubject(e),this.renderMessageCount(e))),d.createElement("div",{className:e.iconB2,role:"gridcell"},this.renderDate(e),this.renderTrashIcon()))))}}_i.contextTypes={getCss:c().func,getThemeMode:c().func,getUrlFromRoute:c().func.isRequired};const Ei=(0,S.connect)(void 0,(e=>({onSenderSearch:t=>e((0,tt.k1)(t))})))(_i);var ui=s(61209),mi=s.n(ui),Si=s(8061);const pi=(0,m.defineMessages)({sender_rollup_header:{id:"sender_rollup_header.label",defaultMessage:"Emails by sender"}}),Ci=(e,t)=>{const{getCss:s,intl:a,getThemeMode:n}=t,{formatMessage:r}=a,o=s(mi(),{themeMode:n()}),{currentSortOrder:i,availableSortOrders:l,onSortOrderChange:c,onSenderViewBack:_,listId:E}=e,u=(0,$.h_)(E),S=(0,$.WN)(E),p=S===A.F6k.SENDERS,C=S===A.F6k.MESSAGES;return d.createElement("div",{className:o.senderRollupHeader},C&&d.createElement(d.Fragment,null,d.createElement("div",{className:o.senderBackContainer},d.createElement(Si.Z,{onClick:e=>{e.preventDefault(),_({listId:E})}})),u&&d.createElement("div",{className:o.senderRollupTitle,"data-test-id":"sender-rollup-sender"},d.createElement(m.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:u}}))),p&&d.createElement(d.Fragment,null,d.createElement("header",{className:o.senderRollupTitle},r(pi.sender_rollup_header)),d.createElement("div",{className:o.senderSortMenuContainer},d.createElement(Ys.Z,{currentSortOrder:i,availableSortOrders:l,onClick:(e,t)=>{c({listId:E,sortOrder:t,i13nModel:{interactionType:(0,J.getInteractionFromEvent)(e)}})},tabIndex:O.iUz.MESSAGE_LIST_TOOLBAR}))))};Ci.contextTypes={getCss:c().func,intl:m.intlShape,getThemeMode:c().func};const Ai=(0,S.connect)(((e,t)=>{const{getAvailableSortOrders:s}=(0,He.selectors)(e);return{currentSortOrder:(0,$.WW)(t.listId),availableSortOrders:s()}}),(e=>({onSortOrderChange:t=>e(Xs(t)),onSenderViewBack:t=>{e((0,tt.eY)(t))}})),void 0,{areStatePropsEqual:(e,t)=>e.listId===t.listId&&zs()(e.availableSortOrders,t.availableSortOrders)})(Ci);var Ti=s(9865),Ii=s(68443),hi=s.n(Ii),gi=s(60037),Oi=s(20305);function Di(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Ri=(0,m.defineMessages)({content_filter_messages:{id:"search.content_filter_messages",defaultMessage:"Messages"},content_filter_images:{id:"photos_label",defaultMessage:"Photos"},content_filter_files:{id:"search.content_filter_files",defaultMessage:"Files"},attachments_filter_ALL:{id:"attachments_filter_ALL",defaultMessage:"All messages"},attachments_filter_SENT:{id:"attachments_filter_SENT",defaultMessage:"Sent"},attachments_filter_RECEIVED:{id:"attachments_filter_RECEIVED",defaultMessage:"Received"},attachments_filter_STARRED:{id:"attachments_filter_STARRED",defaultMessage:"Starred"},attachments_filter_ALL_FILES:{id:"attachments_filter_ALL_FILES",defaultMessage:"All file types"},attachments_filter_PDF:{id:"attachments_filter_PDF",defaultMessage:"PDF"},attachments_filter_WORD_DOCUMENT:{id:"attachments_filter_WORD_DOCUMENT",defaultMessage:"Word document"},attachments_filter_SPREADSHEET:{id:"attachments_filter_SPREADSHEET",defaultMessage:"Spreadsheet"},attachments_filter_PRESENTATION:{id:"attachments_filter_PRESENTATION",defaultMessage:"Presentation"},attachments_filter_AUDIO:{id:"attachments_filter_AUDIO",defaultMessage:"Audio"},attachments_filter_VIDEO:{id:"attachments_filter_VIDEO",defaultMessage:"Video"}}),Ni="ALL",Li="ALL_FILES",fi="WORD_DOCUMENT",Mi="SPREADSHEET",Pi="PRESENTATION",bi="AUDIO",yi="VIDEO",vi={[Ni]:"",["SENT"]:"has:attachment in:sent",["RECEIVED"]:"has:attachment in:inbox",["STARRED"]:"has:attachment is:flagged"},Fi={[Li]:"",["PDF"]:gi.LO.PDF,[fi]:gi.LO.WORD_DOCUMENT,[Mi]:gi.LO.SPREADSHEET,[Pi]:gi.LO.PRESENTATION,[bi]:gi.LO.AUDIO,[yi]:gi.LO.VIDEO};class Ui extends d.Component{constructor(e,{getCss:t}){super(e),Di(this,"getCategoryFilterOverrides",(()=>{const{activeCategoryFilter:e}=this.state;return e?vi[e]:""})),Di(this,"handleFilterChange",(()=>{const{activeListContentType:e,activeCategoryFilter:t,activeMimeType:s}=this.state,a={mKey:X.JE["ATTACHMENT_VIEW_"+e],sec:X.nJ.ATTACHMENT_VIEW,mKeyGroup:X.rO.listing,actionData:{activeCategoryFilter:t,activeMimeType:s},interactionType:X.Rb.view},n={listContentType:e,keyword:this.getCategoryFilterOverrides(),mimeType:Fi[s]},r={name:A.n8z.SEARCH,params:{query:(0,$.tr)((0,$.tE)(this.props.listId,{...n}))}};this.props.onFilterChange({route:r,i13nModel:a})})),Di(this,"handleContentTypeChange",((e,t)=>{e.persist(),this.setState({activeListContentType:t,activeMimeType:Li},(()=>{this.handleFilterChange(e)}))})),Di(this,"handleCategoryFilterChange",((e,t)=>{t.persist(),this.setState({activeCategoryFilter:e},(()=>{this.handleFilterChange(t)}))})),Di(this,"handleMimeTypeChange",((e,t)=>{t.persist(),this.setState({activeMimeType:e},(()=>{this.handleFilterChange(t)}))})),Di(this,"renderContentTypeFilter",(()=>{const e=(0,$.WN)(this.props.listId),{formatMessage:t}=this.context.intl,s=e===A.F6k.MESSAGES,a=e===A.F6k.IMAGES,n=e===A.F6k.DOCUMENTS;return d.createElement(Yt.Z,null,d.createElement(jt.Z,{isSelected:n,onClick:e=>this.handleContentTypeChange(e,A.F6k.DOCUMENTS),"data-test-id":"btn-files-tab",title:t(Ri.content_filter_files)}),d.createElement(jt.Z,{isSelected:a,onClick:e=>this.handleContentTypeChange(e,A.F6k.IMAGES),"data-test-id":"btn-photos-tab",title:t(Ri.content_filter_images)}),d.createElement(jt.Z,{isSelected:s,onClick:e=>this.handleContentTypeChange(e,A.F6k.MESSAGES),"data-test-id":"btn-messages-tab",title:t(Ri.content_filter_messages)}))})),Di(this,"renderFilterMenu",((e,t,s)=>{const{classNames:a}=this,{formatMessage:n}=this.context.intl,r=Object.keys(e).map((e=>d.createElement(ws.Z,{name:"attachments-filter-"+e,key:e},d.createElement(ne.Z,{kind:fe.F.MENUITEM,onClick:t=>s(e,t)},t===e?d.createElement("span",{className:a.checkIcon},d.createElement(ae.Z,{kind:k.Kinds.CHECKMARK,size:k.Sizes.XS,colorState:k.ColorStates.NORMAL})):null,d.createElement("span",{className:a.filterOption},n(Ri["attachments_filter_"+e]))))));return d.createElement("div",{className:a.filterMenuContainer},d.createElement(Gs.Z,null,d.createElement(Hs.Z,null,d.createElement("div",{className:a.filterMenu},d.createElement("span",{className:a.selectedFilter},n(Ri["attachments_filter_"+t])),d.createElement(G.default,{title:n(Ri["attachments_filter_"+t]),"data-iskeynav":!0,paddingLess:!0,kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.INHERITED,size:k.Sizes.XS,rotate:k.Rotate.D180}))),d.createElement(os.ZP,{triggerOn:is.K2.CLICK,isArrowVisible:!0},d.createElement("div",null,d.createElement(ks.Z,{focusOnMount:!0},r)))))}));const{listId:s}=e,a=this.getActiveMimeType(s),n=(0,$.WN)(s),r=this.getActiveCategoryFilter(s);this.state={activeListContentType:n,activeMimeType:a,activeCategoryFilter:r},this.classNames=t(hi())}getActiveCategoryFilter(e){const t=(0,$.Q7)(e);return Object.keys(vi).find((e=>t===vi[e]))||Ni}getActiveMimeType(e){const t=(0,$.I1)(e);return t&&Object.values(Fi).indexOf(t)>-1?t:Li}render(){const{activeListContentType:e,activeCategoryFilter:t,activeMimeType:s}=this.state,{formatMessage:a}=this.context.intl,{classNames:n}=this;return d.createElement("div",null,d.createElement("div",{className:n.heading},a(Oi.Z.smart_view_ATTACHMENTS),d.createElement("div",{className:n.filtersContainer},this.renderFilterMenu(vi,t,this.handleCategoryFilterChange),e===A.F6k.DOCUMENTS&&this.renderFilterMenu(Fi,s,this.handleMimeTypeChange))),d.createElement("div",{className:n.listContentTypeControls},this.renderContentTypeFilter()))}}Ui.contextTypes={getCss:c().func,getThemeMode:c().func,intl:m.intlShape.isRequired};const ki=(0,S.connect)(null,(e=>({onFilterChange:t=>e((0,tt.k1)(t))})))(Ui);var wi=s(31291),Gi=s.n(wi),Hi=s(20561),Bi=s(2464);const xi=(0,S.connect)(((e,{listId:t})=>{const{getSetting:s}=(0,He.selectors)(e),a=(0,$.Yy)(t);let n="";if(e[Bi.key]){const{getBrandInfo:t}=(0,Bi.selectors)(e[Bi.key]),{name:s=""}=t(a)||{};n=s}return{themeMode:s(A.Zrf.THEME_MODE),brandName:n}}))((({themeMode:e,listId:t,brandName:s=""})=>{const a=E()(Gi(),{themeMode:e}),n=(0,$.Er)(t);return d.createElement("div",{className:a.container,"data-test-id":"subscription-detail-header"},d.createElement(Hi.Z,{className:a.linkBack,route:(0,Ge.lB)(Array.isArray(n)?n[0]:n),i13nModel:{mKey:X.JE.TOOLBAR_BACK_TO_LIST,sec:X.nJ.SUBSCRIPTIONS_VIEW}},d.createElement(ae.Z,{kind:k.Kinds.ARROW_UP,size:k.Sizes.XS,rotate:k.Rotate.D270,colorState:e===A.zgU.DARK?k.ColorStates.INVERTED_LESS_DIM:k.ColorStates.NORMAL}),d.createElement("span",{className:a.linkBackLabel},d.createElement(m.FormattedMessage,{id:"back_to_list_btn_title",defaultMessage:"Back"}))),s&&d.createElement("div",{className:a.title,"data-test-id":"emails-from-heading"},d.createElement(m.FormattedHTMLMessage,{id:"emails_from",defaultMessage:"Emails from {name}",values:{name:s}})))}));var Vi=s(99612),Zi=s(40818),Wi=s(2136),Ki=s(59427),zi=s(85400),Yi=s.n(zi);function ji(){return(ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function qi(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Xi="more",Qi=10,Ji="clear_hide",$i="clear",el="feedback",tl="settings",sl="show",al="collapsed",nl="expanded",rl=(0,m.defineMessages)({header:{id:"brandShortcuts.header",defaultMessage:"Browse by stores"},compactHeader:{id:"brandShortcuts.compactHeader",defaultMessage:"Browse by stores ({number})"},viewBrandPage:{id:"brandShortcuts.viewBrandPage",defaultMessage:"View {name} page"},viewMoreBrands:{id:"brandShortcuts.viewMoreBrands",defaultMessage:"View more stores"},close:{id:"brandShortcuts.close",defaultMessage:"Close"},clearUpdates:{id:"brandShortcuts.clearUpdates",defaultMessage:"Clear updates"},clearHide:{id:"brandShortcuts.clearHide",defaultMessage:"Clear and hide"},feedback:{id:"brandShortcuts.feedback",defaultMessage:"Share feedback"},settings:{id:"brandShortcuts.settings",defaultMessage:"Settings"},show:{id:"brandShortcuts.show",defaultMessage:"Show"}});class ol extends d.Component{constructor(e){super(e),qi(this,"state",{hoveredItem:"",showBrandsMenu:!1,showCompactShortcuts:this.props.dealStoriesSetting===A.eG4.COLLAPSED}),qi(this,"i13nModel",(({brandId:e,interactionType:t,mKey:s,state:a,xpname:n})=>{const{storefrontBrands:r}=this.props,o=r.map((e=>e.newDealsCount)),i=o.filter((e=>0!==e)).length,l=r.map((e=>e.brandId)),c=l.length,d=r.findIndex((t=>t.brandId===e)),_=r[d]||{};let E={featurefamily:A.lMo.IC,interactiontype:t,xpname:n};E=t===X.Rb.interaction_click?{...E,clickedbrand:_.brandId,clickedbrandbadge:_.newDealsCount,clickedbrandposition:d}:{...E,badges:o,badgescount:i,senders:l,senderscount:c,state:a},pe.ZP.sendI13nModel({i13nModel:{mKey:s,sec:X.nJ.STOREFRONT_VIEW,actionData:E}})})),qi(this,"handleBrandChangeClick",(e=>{const{navigateToRoute:t}=this.props;t({route:(0,Ge.jK)(A.K8C.STOREFRONT,{accountIds:this.props.selectedAccountId,brandId:e})}),this.i13nModel({brandId:e,interactionType:X.Rb.interaction_click,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),qi(this,"handleOnHover",(e=>{this.setState(e)})),qi(this,"handleSelectBrandsButtonClick",(()=>{const{showBrandsMenu:e}=this.state;this.setState({showBrandsMenu:!e,hoveredItem:""})})),qi(this,"handleSelectBrandsPaneClick",(({overlayClicked:e})=>{e||this.setState({showBrandsMenu:!1})})),qi(this,"handleClearButtonClick",(e=>{e.preventDefault(),this.props.resetNewDealCount(),this.i13nModel({interactionType:$i,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),qi(this,"handleHideButtonClick",(e=>{e.preventDefault();const{showCompactShortcuts:t}=this.state,{resetNewDealCount:s,updateDealsStoriesSettings:a}=this.props;t?this.i13nModel({interactionType:sl,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}):(this.i13nModel({interactionType:Ji,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),s()),a(t?A.eG4.EXPANDED:A.eG4.COLLAPSED,{mKey:t?X.JE.DEALS_STORIES_ENABLED:X.JE.DEALS_STORIES_HIDDEN,sec:X.nJ.DEALS_STORIES,interactiontype:X.Rb.click}),this.setState({showCompactShortcuts:!t,showBrandsMenu:!1})})),qi(this,"handleFeedbackClick",(e=>{e.preventDefault(),(0,Be.x)("https://yahoo.uservoice.com/forums/928453"),this.i13nModel({interactionType:el,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),qi(this,"goToSettings",(e=>{e.preventDefault(),this.props.navigateToRoute({route:(0,Ge.Tx)({settingsGroupId:A.u5h.PERSONALIZE_INBOX})}),this.i13nModel({interactionType:tl,mKey:X.JE.CARD_INTERACT,xpname:A.zzX.SHORTCUTS_INBOX}),this.setState({showBrandsMenu:!1})})),qi(this,"renderBrandsMenu",(e=>{var t,s,a,n;const{storefrontBrands:r}=this.props,o={borderRadius:`${O.mg$}px ${O.mg$}px 0 0`,width:(null===(t=this.brandShortcutRef)||void 0===t||null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect().width)||"unset",height:"100%",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 0 1px 0 rgba(0, 0, 0, 0.1)",background:"rgba(38, 40, 42, 0.5)",overflowX:"hidden"},i={width:null===(a=this.brandShortcutRef)||void 0===a||null===(n=a.current)||void 0===n?void 0:n.getBoundingClientRect().width},l=r.map((t=>{const{brandId:s,name:a,logo:n,newDealsCount:r}=t;let o;return o=r<Qi?e.newDealsCount:e.newDealsCountTwo,d.createElement("a",{"data-test-id":"select-brand-card-"+a,key:s,onClick:()=>this.handleBrandChangeClick(s),className:e.brandContainer},d.createElement("div",{className:e.menuImageContainer},d.createElement("img",{className:e.menuImage,src:n}),!!r&&d.createElement("span",{className:o},r<Qi?r:d.createElement(d.Fragment,null,9,"+"))),d.createElement("div",{className:e.menuHeader},a))}));return d.createElement(Ki.Z,{"data-test-id":"select-brands-overlay",key:"store-list-pane",alignTo:this.brandShortcutRef.current,alignmentPoints:[Wi.K.TopLeft,Wi.K.TopLeft],useShim:!0,onClick:this.handleSelectBrandsPaneClick,customInlineStyles:o},d.createElement("div",{style:i},d.createElement("div",{className:e.popoverheaderContainer},d.createElement("div",{className:e.popoverheader},d.createElement(m.FormattedMessage,rl.header)),this.renderSettings(e)),d.createElement("div",{className:e.menuContainer},l),d.createElement("div",{"data-test-id":"select-brand-close",className:e.close,onClick:this.handleSelectBrandsPaneClick},d.createElement(m.FormattedMessage,rl.close),d.createElement(ae.Z,{kind:k.Kinds.CHEVRON_UP,colorState:k.ColorStates.SELECTED,size:k.Sizes.S}))))})),qi(this,"renderPreviewBrands",(e=>{const{storefrontBrands:t,isPreviewPane:s,width:a}=this.props,n=Math.floor(a*(s?1:.65)/68)-1||4,r=t.slice(0,n),o=t.length-n,i=r.map((t=>{const{brandId:s,name:a,logo:n,newDealsCount:r}=t;let o;return o=r<Qi?e.newDealsCount:e.newDealsCountTwo,d.createElement("a",{"data-test-id":"preview-brand-"+a,className:e.logoImageContainer,key:s,onClick:()=>this.handleBrandChangeClick(s),onMouseEnter:()=>this.handleOnHover({hoveredItem:s}),onMouseLeave:()=>this.handleOnHover({hoveredItem:""})},d.createElement("div",{className:e.imgContainer},d.createElement("img",{className:e.logoImage,src:n,alt:a}),!!r&&d.createElement("span",{className:o},r<Qi?r:d.createElement(d.Fragment,null,9,"+"))),d.createElement("div",{className:e.previewBrandName},a),this.state.hoveredItem===s&&d.createElement("span",{className:e.logoTooltip},d.createElement(m.FormattedMessage,ji({},rl.viewBrandPage,{values:{name:a}}))))}));return d.createElement("div",{className:e.previewBrands},!!i.length&&i,o>0&&d.createElement("div",{onClick:this.handleSelectBrandsButtonClick,"data-test-id":"view-more-brands",className:e.more,onMouseEnter:()=>this.handleOnHover({hoveredItem:Xi}),onMouseLeave:()=>this.handleOnHover({hoveredItem:""})},d.createElement(ae.Z,{kind:k.Kinds.ADD,colorState:k.ColorStates.INHERITED,size:k.Sizes.XXS}),o,this.state.hoveredItem===Xi&&d.createElement("span",{className:e.logoTooltip},d.createElement(m.FormattedMessage,rl.viewMoreBrands))))})),qi(this,"renderSettings",(e=>d.createElement(Gs.Z,null,d.createElement(Hs.Z,null,d.createElement("span",{className:e.settings},d.createElement(G.default,{title:"brand-shortcuts-setting",colorState:k.ColorStates.INHERITED,kind:k.Kinds.MORE,size:k.Sizes.XXS}))),d.createElement(os.ZP,{align:is.xM.END,offset:15,permittedArrowDirections:[is.Ji.UP],triggerOn:is.K2.CLICK,zAltitude:O.LSY.MODAL},d.createElement(ks.Z,{focusOnMount:!0,"data-test-id":"sort-order-list"},d.createElement("div",{className:e.settingsMenu},d.createElement(ws.Z,null,d.createElement(ne.Z,{"data-test-id":"clear-updates-button",kind:fe.F.MENUITEM,onClick:this.handleClearButtonClick},d.createElement(m.FormattedMessage,rl.clearUpdates))),d.createElement(ws.Z,null,d.createElement(ne.Z,{"data-test-id":"toggle-hide-button",kind:fe.F.MENUITEM,onClick:this.handleHideButtonClick},d.createElement(m.FormattedMessage,rl.clearHide))),d.createElement(ws.Z,null,d.createElement(ne.Z,{"data-test-id":"feedback-button",kind:fe.F.MENUITEM,onClick:this.handleFeedbackClick},d.createElement(m.FormattedMessage,rl.feedback))),d.createElement(ws.Z,null,d.createElement(ne.Z,{"data-test-id":"settings-button",kind:fe.F.MENUITEM,onClick:this.goToSettings},d.createElement(m.FormattedMessage,rl.settings))))))))),this.brandShortcutRef=d.createRef()}componentDidMount(){const{dealStoriesSetting:e,shouldAutoHide:t,shouldAutoUnhide:s,storefrontBrands:a,updateDealsStoriesSettings:n}=this.props;if(a.length){let t=al;s&&e===A.eG4.EXPANDED&&(t=nl),this.i13nModel({mKey:X.JE.CARD_VIEW,state:t,xpname:A.zzX.SHORTCUTS_INBOX})}t&&e===A.eG4.EXPANDED&&(this.setState({showCompactShortcuts:!0}),n(A.eG4.COLLAPSED,{mKey:X.JE.DEALS_STORIES_ENABLED,sec:X.nJ.DEALS_STORIES}))}componentDidUpdate(e,t){const{shouldAutoHide:s,shouldAutoUnhide:a,updateDealsStoriesSettings:n}=this.props;a!==e.shouldAutoUnhide&&t.showCompactShortcuts&&(this.setState({showCompactShortcuts:!1}),n(A.eG4.EXPANDED,{mKey:X.JE.DEALS_STORIES_ENABLED,sec:X.nJ.DEALS_STORIES})),s===e.shouldAutoHide||t.showCompactShortcuts||(this.setState({showCompactShortcuts:!0}),n(A.eG4.COLLAPSED,{mKey:X.JE.DEALS_STORIES_ENABLED,sec:X.nJ.DEALS_STORIES}))}render(){const{dealStoriesSetting:e,isDarkThemeMode:t,isPreviewPane:s,storefrontBrands:a}=this.props,{showBrandsMenu:n,showCompactShortcuts:r}=this.state,o=E()(Yi(),{isPreviewPane:s,showCompactShortcuts:r,isDarkThemeMode:t,showBrandsMenu:n});return e===A.eG4.DISABLED?null:d.createElement(d.Fragment,null,d.createElement("div",{className:o.container,ref:this.brandShortcutRef},d.createElement("div",{className:o.header},r?d.createElement(m.FormattedMessage,ji({},rl.compactHeader,{values:{number:a.length}})):d.createElement(m.FormattedMessage,rl.header),s&&!r&&this.renderSettings(o)),r?d.createElement(ne.Z,{kind:fe.F.TEXT,onClick:this.handleHideButtonClick,overridingClass:o.show},d.createElement(m.FormattedMessage,rl.show)):d.createElement("div",{"data-test-id":"preview-brands-container",className:o.previewBrandsContainer},this.renderPreviewBrands(o),!s&&this.renderSettings(o))),n&&this.renderBrandsMenu(o))}}const il=(0,S.connect)((e=>{const{getSetting:t,getSelectedAccountId:s,getStorefrontBrandsSelectors:a}=(0,He.selectors)(e),{getAllStorefrontBrands:n}=a(),r=t(A.Zrf.PREVIEW_PANE)===A.EsZ.RIGHT,o=t(A.Zrf.DEALS_STORIES_SETTINGS),i=n(),l=i.slice(0,7).some((e=>e.newDealsCount)),c=i.slice(0,7).every((e=>0===e.newDealsCount));return{dealStoriesSetting:o,isDarkThemeMode:t(A.Zrf.THEME_MODE)===Q.zg.DARK,isPreviewPane:r,selectedAccountId:s(),shouldAutoHide:c,shouldAutoUnhide:l,storefrontBrands:i}}),(e=>({navigateToRoute:t=>e((0,tt.Ch)(t)),resetNewDealCount:t=>e((0,Zi.WC)(t)),updateDealsStoriesSettings:(t,s)=>e((0,ti.ZP)({name:A.Zrf.DEALS_STORIES_SETTINGS,value:t,runV3:!0,i13nModel:s}))})))(ol),ll=(0,Vi.OU)(il);var cl=s(44763),dl=s(77031),_l=s(30643),El=s.n(_l);const ul=(0,m.defineMessages)({title:{id:"emails_to_myself_title",defaultMessage:"Emails to myself"}}),ml=(0,S.connect)(null,(e=>({navigateToRoute:t=>e((0,tt.Ch)(t))})))((({navigateToRoute:e,listId:t})=>{const{formatMessage:s}=(0,De.Y)(),a=(0,Re.Z)(El());return d.createElement("div",{className:a.container},d.createElement("div",{className:a.header},s(ul.title)),d.createElement(Cs,{suggestedWords:[],onContentTypeChange:({listContentType:s,i13nModel:a})=>{e({route:(0,Ge.dM)((0,$.tE)(t,{listContentType:s})),i13nModel:a})},onContactClick:()=>{},isPeopleSearch:!1,activeContentType:(0,$.WN)(t),keyword:(0,$.Q7)(t),suggestedContacts:[]}))}));var Sl=s(85650),pl=s.n(Sl),Cl=s(17983),Al=s.n(Cl),Tl=s(27015),Il=s(45310),hl=s.n(Il);const gl=(0,S.connect)((e=>{const{getSetting:t,isFeatureEnabled:s,getEnvironmentSelectors:a}=(0,He.selectors)(e),{getPrivacyJurisdictionLinks:n}=a(),r=s(A.ANe.PRIVACY_JURISDICTION_LINKS)?n():[];let o=A.Ure;if(Array.isArray(r))for(const i in r)"Privacy Policy"===(null==i?void 0:i.label)&&(o=(null==i?void 0:i.url)||A.Ure);return{isDarkThemeMode:t(A.Zrf.THEME_MODE)===Q.zg.DARK,isAutoTrackingEnabled:t(A.Zrf.PACKAGE_TRACKING_SETTINGS),privacyURL:o}}),(e=>({updatePackageTrackingSettings:({value:t,...s})=>e((0,ti.Dy)({...s,name:A.Zrf.PACKAGE_TRACKING_SETTINGS,value:t}))})))((e=>{var t;const{card:s,handleLinkClick:a,isDarkThemeMode:n,handleMsgOpen:r,handleHeightExpand:o,contact:i,isMobileExpandView:l,removeCard:c,isAutoTrackingEnabled:_,updatePackageTrackingSettings:E,privacyURL:u}=e,S=(0,d.useRef)(),[p,C]=(0,d.useState)(!1),A=(0,Re.Z)(hl(),{isDarkThemeMode:n,expandTimeline:p,isMobileExpandView:l,isMobileExpandViewDarkTheme:n&&l}),T=new Date(s.expectedArrival),I=e=>e.locality&&e.region?e.locality+", "+e.region:e.locality||e.region||"",h=()=>d.createElement(d.Fragment,null,s.deliveryTimeline.slice(1).map(((e,t)=>((e,t,s)=>{const a=new Date(e.time);return d.createElement("div",{className:t?A.lastExpandTimelineContainer:A.expandTimelineContainer,key:s},d.createElement("div",{className:A.expandTimelineLeftContainer},d.createElement("div",{className:A.expandTimelineSubTitle},e.description),!!I(e.location)&&d.createElement("div",{className:A.expandTimelineLocationText},I(e.location))),d.createElement("div",{className:A.expandTimelineRightContainer},d.createElement("div",{className:A.expandTimelineSubText},a.toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})),d.createElement("div",{className:A.expandTimelineSubText},a.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}))))})(e,t===s.deliveryTimeline.length-2,t))));return d.createElement("div",{className:A.belowLineContainer,ref:S},(!!i.website||!!i.name)&&d.createElement("div",{className:A.contactContainer},i.image?d.createElement("img",{className:A.brandImage,src:i.image,alt:"",onClick:e=>a(e,i.website,!0,Tl.FQ.BRAND_HEAD_LOGO)}):d.createElement("div",{className:A.xavatarContainer,onClick:e=>a(e,i.website,!0,Tl.FQ.BRAND_HEAD_LOGO)},d.createElement(re.ZP,{contact:{email:s.fromEmail}})),d.createElement("div",{className:A.brandName,title:"Brand name",onClick:e=>a(e,i.website,!0,Tl.FQ.BRAND_HEAD_NAME)},i.name||"Brand"),!!i.website&&d.createElement("div",{className:A.visitSiteButtonContainer},d.createElement(ne.Z,{onClick:e=>a(e,i.website,!0,Tl.FQ.VISIT_SITE),kind:fe.F.SECONDARY,overridingClass:A.visitSiteButton},d.createElement(m.FormattedMessage,Tl.Wc.VisitSiteText)))),!!s.itemsShipped.length&&d.createElement("div",null,d.createElement("div",{className:A.subTitle},d.createElement(m.FormattedMessage,Tl.DK.TargetText)),d.createElement("div",{className:A.subText},s.itemsShipped[0])),!(null===(t=s.deliveryTimeline)||void 0===t||!t.length)&&!!_&&(()=>{var e,t;const a=s.deliveryTimeline[0],r=(null==S||null===(e=S.current)||void 0===e?void 0:e.clientWidth)-96,i=Tl.iJ[a.deliveryStatus]||.5,l={width:i*r+(i>=1?30:0)+"px"},c={width:(1-i)*r+(i<=0?10:0)+"px"};return d.createElement("div",null,d.createElement("div",{className:A.timelineContainer},d.createElement("div",{className:A.timelineLineContainer},i>0&&d.createElement("div",{className:A.blueCircle}),d.createElement("div",{className:A.blueLine,style:l}),i<1&&d.createElement("img",{src:n?(0,le.A)("/img/top_of_inbox_truck2x_darkmode.png"):(0,le.A)("/img/top_of_inbox_truck2x.png"),"aria-hidden":!0,className:A.truckImage}),d.createElement("div",{className:A.greyLine,style:c}),i>=1?d.createElement("div",{className:A.progressCheckMark},d.createElement(ae.Z,{colorState:k.ColorStates.WHITE,kind:k.Kinds.CHECKMARK,size:k.Sizes.XS})):d.createElement("div",{className:A.greyCircle})),d.createElement("div",{className:A.timelineBottomContainer},d.createElement("div",{className:A.timelineLeftContainer},d.createElement("div",{className:A.expandTimelineSubTitle},a.description),!!I(a.location)&&d.createElement("div",{className:A.timelineLocationText},I(a.location))),(null===(t=s.deliveryTimeline)||void 0===t?void 0:t.length)>1&&d.createElement("div",{className:A.timelineRightContainer},d.createElement(G.default,{kind:k.Kinds.ARROW_RIGHT_DOC,rotate:p?k.Rotate.D270:k.Rotate.D90,size:k.Sizes.XXS,colorState:n?k.ColorStates.WHITE:k.ColorStates.INHERITED,onClick:()=>{C(!p),o()}})))),p&&_&&h())})(),!_&&!!l&&d.createElement("div",{className:A.autoTrackContainer},d.createElement("div",{className:A.autoTrackTitle},d.createElement(m.FormattedMessage,Tl.Wc.AutoTrackTitleText)),d.createElement("div",{className:A.autoTrackDescription},d.createElement(m.FormattedMessage,Tl.Wc.AutoTrackDescriptionText),d.createElement("a",{className:A.autoTrackPrivacy,href:u,target:"_blank"},"Â ",d.createElement(m.FormattedMessage,Tl.Wc.AutoTrackPrivacyText))),d.createElement(ne.Z,{kind:fe.F.PRIMARY,overridingClass:A.autoTrackButton,onClick:()=>{E({value:!_,i13nModel:{mKey:_?X.JE.TOP_OF_INBOX_PACKAGE_TRACKING_DISABLED:X.JE.TOP_OF_INBOX_PACKAGE_TRACKING_ENABLED,sec:X.nJ.TOP_OF_INBOX_PACKAGE_TRACKING}})}},d.createElement(m.FormattedMessage,Tl.Wc.AutoTrackButtonText))),!!s.expectedArrival&&d.createElement("div",null,d.createElement("div",{className:A.subTitle},d.createElement(m.FormattedMessage,Tl.DK.ExpectedText)),d.createElement("div",{className:A.subText},T.toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric"}),(0,Tl.j8)(T.getDate())+", ",T.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})),!!I(s.deliveryAddress)&&d.createElement("div",{className:A.subText},I(s.deliveryAddress))),!!s.trackingNumber&&d.createElement("div",null,d.createElement("div",{className:A.subTitle},d.createElement(m.FormattedMessage,Tl.DK.TrackingNumberText)),s.trackingUrl?d.createElement("div",{className:A.linkText,onClick:e=>a(e,s.trackingUrl,!1,"")},s.trackingNumber):d.createElement("div",{className:A.subText},s.trackingNumber)),!!s.trackingUrl&&d.createElement(ne.Z,{onClick:e=>a(e,s.trackingUrl,!1,""),kind:fe.F.PRIMARY,marginLess:!0,overridingClass:A.buttonInExpand},d.createElement(m.FormattedMessage,Tl.DK.TrackText)),d.createElement(ne.Z,{onClick:e=>r(e),kind:fe.F.SECONDARY,overridingClass:A.buttonInExpandViewMessage},d.createElement(m.FormattedMessage,Tl.Wc.ViewMessageText)),!!l&&d.createElement("div",{className:A.hideCardTextButton,onClick:()=>c(),"data-test-id":"hideCardButton"},d.createElement(m.FormattedMessage,Tl.Wc.HideStringText)))}));var Ol=s(61149),Dl=s(64561);function Rl(){return(Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Nl=(0,S.connect)((e=>{var t;const{getSetting:s,getYaiRetroComposeMessage:a}=(0,He.selectors)(e),n=a();return{isDarkThemeMode:s(A.Zrf.THEME_MODE)===Q.zg.DARK,retroComposeMessageSubject:(null===(t=n.retroCompose)||void 0===t?void 0:t.subject)||""}}),(e=>({fetchYaiRetroComposeRequested:t=>e((0,Ol.Fi)(t)),onReplyForward:t=>e((0,Wo.h2)(t))})))((function(e){const{card:t,isDarkThemeMode:s,isMobileExpandView:a,fetchYaiRetroComposeRequested:n,retroComposeMessageSubject:r,setKeepCardOpen:o,onReplyForward:i,listId:l,streamId:c,removeCard:_}=e,{discountCard:E,receiptCard:u}=t,[S,p]=(0,d.useState)(!1),C=(0,d.useRef)(!1),T=(0,Re.Z)(hl(),{isDarkThemeMode:s,isMobileExpandView:a,isMobileExpandViewDarkTheme:s&&a});if(S&&r)if(o(!1),p(!1),r===Dl.FR)C.current=!0;else{_();const e=Object.assign({mKey:X.JE.YAI_RETRO_TOI_REPLY,sec:X.nJ.TOP_OF_INBOX_RETRO_COMPOSE,mKeyGroup:X.rO.replyMsg}),s={id:t.msgGroupId||t.receiptCard.messageId,listId:l};i({composeMode:A.AGu.Modes.FORWARD,i13nModel:e,streamItem:s,listId:l,streamId:c,triggeredFromContextMenu:!0})}return d.createElement("div",{className:T.belowLineContainerReceipt},d.createElement("div",{className:T.description},E.subType===A.W2H.EEG?d.createElement(m.FormattedMessage,Rl({},Tl.LX.GiftCardBody,{values:{brandName:u.sellerName||E.sellerName||""}})):d.createElement(m.FormattedMessage,Rl({},Tl.LX.PromoCodeBody,{values:{brandName:u.sellerName||E.sellerName||""}})),"Â ",d.createElement(m.FormattedMessage,Tl.LX.Body)),d.createElement("div",{className:T.cardsContainer},(e=>{const t=E.validThrough||E.validFrom?new Date(E.validThrough||E.validFrom||"").toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"";return d.createElement("div",{className:T.cardContainer},d.createElement("div",{className:T.cardHeader},e?d.createElement(m.FormattedMessage,Tl.LX.GiftCardTitle):d.createElement(m.FormattedMessage,Tl.LX.PromoCodeCardTitle)),d.createElement("div",{className:T.cardText},e?E.value:d.createElement(d.Fragment,null,E.promoCode," â¢ ",E.description)),!!t&&d.createElement("div",{className:T.cardText},E.validThrough?d.createElement(m.FormattedMessage,Tl.LX.Expires):d.createElement(m.FormattedMessage,Tl.LX.ReceivedOn),"Â ",t))})(E.subType===A.W2H.EEG),(()=>{const e=u.orderDate?" on "+new Date(u.orderDate).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"";return d.createElement("div",{className:T.cardContainer},d.createElement("div",{className:T.cardHeader},d.createElement(m.FormattedMessage,Rl({},Tl.LX.ReceiptCardTitle,{values:{brandName:u.sellerName||E.sellerName||""}}))),d.createElement("div",{className:T.receiptDetail},d.createElement("div",{className:T.sellerImage},d.createElement(re.ZP,{contact:{email:t.fromEmail},useFallbackImage:!1})),d.createElement("div",{className:T.cardTextContainer},d.createElement("div",{className:T.cardText},u.price,e),Array.isArray(u.orderedItems)&&u.orderedItems.length>=1&&d.createElement("div",{className:T.itemContainer},d.createElement("div",{className:T.itemText},u.orderedItems[0]),u.orderedItems.length>1&&d.createElement("div",{className:T.cardText},"Â ",d.createElement(m.FormattedMessage,Rl({},Tl.LX.NumberMore,{values:{numberOfItems:u.orderedItems.length-1}})))))))})()),d.createElement(ne.Z,{kind:fe.F.PRIMARY,overridingClass:T.requestButton,onClick:e=>(e=>{e.preventDefault(),e.stopPropagation(),pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.YAI_RETRO_TOI_CLICK_GENERATE,sec:X.nJ.MSG_LIST,actionData:{cId:t.cardId,cardId:t.ccId,sender:t.fromEmail,discountCardId:E.cardId,receiptCardId:u.cardId,msgId:u.messageId}}}),S||(n({messageId:u.messageId,cardId:E.cardId}),C.current=!1,o(!0),p(!0))})(e),marginLess:!0,"data-test-id":"yaiRetroComposeRequestButton"},S?d.createElement(q.Z,{size:q.u.S,inverted:!0}):d.createElement(m.FormattedMessage,Tl.LX.CreateRequestButton)),C.current&&!S&&d.createElement("div",{className:T.errorContainer,"data-test-id":"yaiRetroComposeRequestFailedText"},d.createElement(ae.Z,{kind:k.Kinds.ATTENTION,size:k.Sizes.XXS,colorState:k.ColorStates.WARNING,"aria-hidden":!0}),d.createElement("div",{className:T.description},d.createElement(m.FormattedMessage,Tl.LX.CreateRequestFailed))))})),Ll=(0,S.connect)(((e,t)=>{const{card:s}=t,{getSetting:a,isFeatureEnabled:n,getAffiliateCrumb:r,getFalconRelatedCardSelectors:o,getContactListSelectors:i}=(0,He.selectors)(e),{getFalconContactCardByGroupId:l}=o(),{getContactByEmail:c}=i();let d=l(s.msgGroupId);return"website"in d||(d=c(s.fromEmail)||{}),{isDarkThemeMode:a(A.Zrf.THEME_MODE)===Q.zg.DARK,isAffiliatePartnerEnabled:n(A.ANe.AFFILIATE_PARTNER),affiliateCrumb:r(),contact:d}}),(e=>({navigateToRoute:t=>e((0,tt.Ch)(t))})))((e=>{const{card:t,isDarkThemeMode:s,navigateToRoute:a,listId:n,streamId:r,cardIndex:o,isAffiliatePartnerEnabled:i,affiliateCrumb:l,contact:c,isMobileExpandView:_,removeCard:E,mobileExpandAtIndex:u,setMobileCardOpen:m,setKeepCardOpen:S}=e,[p,C]=(0,d.useState)(_),[T,I]=(0,d.useState)(!1),h=(0,Re.Z)(hl(),{renderAll:p,isDarkThemeMode:s,heightFitContent:T,isMobileExpandView:_}),g=(0,d.useRef)(),O=(0,d.useRef)(!1),D=(0,st.B)();(0,d.useEffect)((()=>{_||(g.current=setTimeout((()=>{C(!0)}),10)),O.current||(!_||_&&u===o)&&(pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CARD_OPEN,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t.subType,cardState:t.latestDeliveryStatus,msgId:t.msgGroupId,cId:t.cardId,cardId:t.ccId,cardIndex:o,sender:t.fromEmail}}}),"website"in c&&t.subType===A.MKR.PKG&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.CARD_VIEW,sec:X.nJ.MSG_LIST,actionData:{xpname:A.pdX.TOI_CONTACT_CARD,msgId:t.msgGroupId,ccId:t.ccId,position:o,sndr:t.fromEmail,brandurl:c.website,slot:X.KJ.TOI,featurefamily:A.lMo.IC,kpidriven:[A.bf3]}}}),O.current=!0)}),[t.cardId,t.ccId,t.fromEmail,t.latestDeliveryStatus,t.msgGroupId,t.subType,o,c,_,u]),(0,d.useEffect)((()=>()=>{clearTimeout(null==g?void 0:g.current),_||pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CARD_COLLAPSE,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t.subType,cardState:t.latestDeliveryStatus,msgId:t.msgGroupId,cId:t.cardId,cardId:t.ccId,cardIndex:o,sender:t.fromEmail}}})}),[t.cardId,t.ccId,t.fromEmail,t.latestDeliveryStatus,t.msgGroupId,t.subType,o,_,u]);return d.createElement("div",{className:h.container},d.createElement("div",{className:h.divideLine}),t.subType===A.MKR.PKG&&d.createElement(gl,{card:t,handleLinkClick:(e,s,a=!1,n="")=>{if(null==e||e.stopPropagation(),s){var r;const{affiliatePartnerUrl:e=s,affiliatePartnerName:d=""}=(0,rt.sx)({affiliateLink:s,locale:null==D||null===(r=D.locale)||void 0===r?void 0:r.name,region:null==D?void 0:D.region,partner:null==D?void 0:D.partner,appId:null==D?void 0:D.appId,clickRef:a?A.pdX.TOI_CONTACT_CARD:A.pdX.TOI_HEADER,affiliateCrumb:l,interacteditem:n,slot:a?X.KJ.TOI:X.KJ.MESSAGE_LIST});(0,Be.x)(i?e:s);let _={};_=a?{mKey:X.JE.CARD_INTERACT,sec:X.nJ.MSG_LIST,actionData:{xpname:A.pdX.TOI_CONTACT_CARD,msgId:t.msgGroupId,sndr:t.fromEmail,ccId:t.ccId,position:o,brandurl:c.website,slot:X.KJ.TOI,featurefamily:A.lMo.IC,interactiontype:[i?X.Rb.monetizable_click:X.Rb.click],affiliatePartner:d,interacteditem:n}}:{mKey:X.JE.TOI_CARD_ACTION_TRACK,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t.subType,cardState:t.latestDeliveryStatus,msgId:t.msgGroupId,cId:t.cardId,cardId:t.ccId,cardIndex:o,sender:t.fromEmail}},pe.ZP.sendI13nModel({i13nModel:_})}},handleMsgOpen:e=>{null==e||e.stopPropagation(),a({streamId:r,route:(0,Ge.m9)((0,$.Kw)(t.folderId),t.msgGroupId),streamItem:{listId:n,id:t.msgGroupId},i13nModel:{interactionType:X.Rb.click,mKey:X.JE.TOI_CARD_DEFAULT_ACTION_VIEWMESSAGE,sec:X.nJ.MSG_LIST_MSG,mKeyGroup:X.rO.openMsg,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t.subType,cardState:t.latestDeliveryStatus,msgId:t.msgGroupId,cId:t.cardId,cardId:t.ccId,sender:t.fromEmail,cardIndex:o}}}),_&&m(!1)},handleHeightExpand:()=>{I(!0)},contact:c,isMobileExpandView:_,removeCard:E}),t.subType===A.MKR.GN_CLAIM_HINT&&d.createElement(Nl,{card:t,isMobileExpandView:_,setKeepCardOpen:S,listId:n,streamId:r,removeCard:E}))}));var fl=s(43475);function Ml(){return(Ml=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Pl=(0,S.connect)((e=>{const{getSetting:t}=(0,He.selectors)(e);return{isDarkThemeMode:t(A.Zrf.THEME_MODE)===Q.zg.DARK}}),(e=>({removeTopOfInboxCard:t=>e((0,fl.cN)(t)),openTopOfInboxCardBottomOptions:t=>e((0,fl.HN)(t))})))((e=>{const{card:t,scrollAmount:s,removeTopOfInboxCard:a,isMessageListItemSelected:n,numberOfCards:r,isDarkThemeMode:o,listId:i,streamId:l,defaultHoveredState:c,cardIndex:_,isMobilePreview:E,setMobileCardOpen:u,isMobileExpandView:S,clientWidth:p,mobileExpandAtIndex:T,openTopOfInboxCardBottomOptions:I,clientHeight:h}=e,[g,O]=(0,d.useState)(c||!1),D=(0,d.useRef)(),R=(0,d.useRef)(),N=(0,d.useRef)(),[L,f]=(0,d.useState)(!1);let M="",P="";const b=(0,Tl.ct)(t.expectedArrival);let y="";const v=t.subType===A.MKR.PKG?S||E?Tl.v7[t.latestDeliveryStatus]||Tl.v7.InTransit:Tl.$i[t.latestDeliveryStatus]||Tl.$i.InTransit:t.subType===A.MKR.GN_CLAIM_HINT?Tl.$i.MoneyBack:Tl.$i.InTransit,F=e=>{n||E||S||L||(e?N.current=setTimeout((()=>{O(e)}),Tl.U9):(clearTimeout(null==N?void 0:N.current),O(e)))};(0,d.useEffect)((()=>{R.current=D.current.offsetLeft}),[r]),(0,d.useEffect)((()=>()=>{clearTimeout(N.current)}),[]);const U=()=>{a({cardId:t.cardId,undoAction:(0,fl.DI)({cardId:t.cardId}),numberOfCards:1}),O(!1),pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CARD_ACTION_REMOVE,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t.subType,cardState:t.latestDeliveryStatus,msgId:t.msgGroupId,cId:t.cardId,cardId:t.ccId,cardIndex:_,sender:t.fromEmail}}})};(()=>{if(t.subType===A.MKR.PKG)if(t.trackingNumber)M=Tl.DK.DeliveredDescription,P=t.trackingNumber;else if((0,C.xb)(b))switch(t.latestDeliveryStatus){case A.TS.InTransit:case A.TS.OutForDelivery:M=Tl.DK.InTransitDescription}else b.hours>=1&&(M=Tl.x$.ExpectedInText,y="hours",P=" "+b.hours+" ",b.hours>=24&&(P=" "+b.days+" ",y="days"));else if(t.subType===A.MKR.GN_CLAIM_HINT){var e;M=(null==t||null===(e=t.discountCard)||void 0===e?void 0:e.subType)===A.MKR.EEG?Tl.LX.DescriptionGiftCard:Tl.LX.DescriptionPromoCode}})();const w=(0,Re.Z)(Al(),{isHovered:g,isDarkThemeMode:o,isMobilePreview:E,isMobilePreviewDarkTheme:o&&E,isMobileExpandView:S,isMobileExpandViewDarkTheme:o&&S}),H=()=>{const e={left:v.leftOffset+"px",bottom:v.bottomOffset+"px"};return d.createElement("div",{className:w.fromIcon,style:e},d.createElement(re.ZP,{contact:{email:t.fromEmail},size:v.senderIconSize}))},B=()=>{const e={width:p-42+"px"},s={maxWidth:p-196+"px"},a={left:v.moreButtonLeftOffset+"px",bottom:v.moreButtonBottomOffset+"px"},n={width:v.imageWidth+"px",height:v.imageHeight+"px",paddingRight:v.imagePaddingRight+"px",paddingTop:v.imagePaddingTop+"px"};return d.createElement("div",{className:w.previewShadowContainer},d.createElement("div",{className:w.previewContainer,style:E?e:{},onClick:e=>{S&&(null==e||e.stopPropagation(),u(!1))}},!E&&!S&&d.createElement("div",null,d.createElement("img",{src:(0,le.A)("/img/top_of_inbox_"+v.imageName+".png"),"aria-hidden":!0,style:n}),!!t.fromEmail&&t.subType!==A.MKR.GN_CLAIM_HINT&&H()),d.createElement("div",{className:w.textContainer,style:S||E?s:{}},d.createElement("div",{className:w.title},(()=>{if(t.subType===A.MKR.PKG){const e=Tl.v$[t.latestDeliveryStatus]||Tl.DK.InTransitTitle;return d.createElement(m.FormattedMessage,e)}var e,s;if(t.subType===A.MKR.GN_CLAIM_HINT)return d.createElement(m.FormattedMessage,Ml({},Tl.LX.Title,{values:{brandName:(null==t||null===(e=t.receiptCard)||void 0===e?void 0:e.sellerName)||(null==t||null===(s=t.discountCard)||void 0===s?void 0:s.sellerName)||""}}))})()),!!M&&d.createElement("div",{className:w.description},d.createElement(m.FormattedMessage,M),!!P&&P,"hours"===y&&d.createElement(m.FormattedMessage,{id:"top_of_inbox.time.hours",defaultMessage:"{timeDiff, plural, =1 {hour} other {hours}}",values:{timeDiff:b.hours}}),"days"===y&&d.createElement(m.FormattedMessage,{id:"top_of_inbox.time.days",defaultMessage:"{timeDiff, plural, =1 {day} other {days}}",values:{timeDiff:b.days}}))),(E||S)&&d.createElement("div",null,d.createElement("img",{src:(0,le.A)("/img/top_of_inbox_"+v.imageName+".png"),"aria-hidden":!0,className:w.image}),!!t.fromEmail&&H(),d.createElement("div",{className:w.moreButtonContainer,style:a},d.createElement(G.default,{kind:k.Kinds.MORE,size:k.Sizes.XXXS,colorState:k.ColorStates.INHERITED,"aria-haspopup":!0,rotate:k.Rotate.D90,className:w.moreButton,onClick:e=>(e=>{e.stopPropagation(),I({card:{...t,cardIndex:_}})})(e)})))))};return d.createElement("div",{ref:D,onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),onClick:()=>u(!0),className:w.container},!S&&B(),g&&!E&&!S&&(()=>{var e;const t={left:((null==R?void 0:R.current)||0)-s+((null==D||null===(e=D.current)||void 0===e?void 0:e.clientWidth)||294)-15+"px"};return d.createElement("div",{className:w.closeButton,style:t},d.createElement(G.default,{kind:k.Kinds.CLOSE,size:k.Sizes.XXS,onClick:()=>U(),colorState:k.ColorStates.INHERITED}))})(),g&&!E&&!S&&(()=>{var e,s;const a={top:"-11px",width:((null==D||null===(e=D.current)||void 0===e?void 0:e.clientWidth)||294)-(294===(null==D||null===(s=D.current)||void 0===s?void 0:s.clientWidth)?2:1.5)+"px"};return d.createElement("div",{className:w.detailsContainer,style:a},d.createElement(Ll,{card:t,listId:i,streamId:l,cardIndex:_,isMobileExpandView:!1,removeCard:U,mobileExpandAtIndex:T,setKeepCardOpen:f}))})(),S&&(()=>{const e={width:p-40+"px",maxHeight:h-160+"px"};return d.createElement(d.Fragment,null,d.createElement("div",{className:w.popUp,style:e},B(),d.createElement("div",{className:w.detailsContainer},d.createElement(Ll,{card:t,listId:i,streamId:l,cardIndex:_,isMobileExpandView:S,removeCard:U,mobileExpandAtIndex:T,setMobileCardOpen:u}))))})())}));var bl=s(16376),yl=s.n(bl),vl=s(22073),Fl=s(17451);const Ul="left",kl="right",wl=(0,S.connect)(((e,t)=>{const{listId:s,isInMobile:a}=t,{getTopOfInboxCardsSelectors:n,getNumberOfSelectedItemsInList:r,getSetting:o,getRoute:i}=(0,He.selectors)(e),{getTopOfInboxCards:l,isFirstCardOpened:c,isBottomOptionsNavigate:d}=n(),_=l(),E=i();let u=!1;return(0,$.I7)(E)&&a&&!c()&&(u=!0),{cards:_,cardsLength:_.length,isMessageListItemSelected:r(s)>0,isDarkThemeMode:o(A.Zrf.THEME_MODE)===Q.zg.DARK,openFirstCard:u,isBottomOptionsNavigate:d()}}),(e=>({setIsFirstCardOpened:()=>e((0,fl.vN)()),closeTopOfInboxCardExpanded:()=>e((0,fl.HG)())})))((e=>{const{cards:t,isMessageListItemSelected:s,isDarkThemeMode:a,listId:n,streamId:r,renderArrow:o,cardsLength:i,isInMobile:l,openFirstCard:c,setIsFirstCardOpened:_,isBottomOptionsNavigate:E,closeTopOfInboxCardExpanded:u}=e,{formatMessage:m}=(0,De.Y)(),[S,p]=(0,d.useState)(),[C,T]=(0,d.useState)(0),[I,h]=(0,d.useState)(),[O,D]=(0,d.useState)(!1),R=(0,d.useRef)(),N=(0,d.useRef)(!1),L=(0,d.useRef)(0),f=(0,d.useRef)(i),M=(0,d.useRef)(),[,P]=(0,d.useState)(0),b=(0,Re.Z)(pl(),{isMessageListItemSelected:s,isDarkThemeMode:a,isInMobile:l,isMobileCardsOpen:O});C!==(null==S?void 0:S.scrollLeft)&&T(null==S?void 0:S.scrollLeft);const y=e=>{var t;return!(l||!(0,g.wx)()||!S||!("scrollLeft"in S)||0===C&&!e||C+(null==R||null===(t=R.current)||void 0===t?void 0:t.clientWidth)-44+5>=(null==S?void 0:S.scrollWidth)&&e)||(o||!1)},v=e=>{pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CAROUSEL_SIDESWIPE,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,numCards:i,cardType:t.map((e=>e.subType)),msgId:t.map((e=>e.msgGroupId)),cId:t.map((e=>e.cardId)),cardId:t.map((e=>e.ccId)),direction:e?kl:Ul,toLastCard:y(!0)}}})};(0,d.useEffect)((()=>{T(null==S?void 0:S.scrollLeft)}),[null==S?void 0:S.scrollLeft]),(0,d.useEffect)((()=>{P(i)}),[i]),(0,d.useEffect)((()=>{if(!N.current&&i){pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CAROUSEL_VISIBLE,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,numCards:i,cardType:t.map((e=>e.subType)),msgId:t.map((e=>e.msgGroupId)),cId:t.map((e=>e.cardId)),cardId:t.map((e=>e.ccId))}}});const e=t.filter((e=>e.subType===A.MKR.GN_CLAIM_HINT));e.length&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.YAI_RETRO_TOI_SHOW,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,numCards:e.length,cardType:e.map((e=>e.subType)),msgId:e.map((e=>e.msgGroupId)),cId:e.map((e=>e.cardId)),cardId:e.map((e=>e.ccId))}}}),N.current=!0}}),[t,i]);const F=e=>{l&&!s&&(!e&&O&&pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CARD_COLLAPSE,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST,cardType:t[L.current].subType,cardState:t[L.current].latestDeliveryStatus,msgId:t[L.current].msgGroupId,cId:t[L.current].cardId,cardId:t[L.current].ccId,cardIndex:L.current,sender:t[L.current].fromEmail}}}),D(e))};f.current!==i&&((()=>{if(l&&(null==L?void 0:L.current)>=i-1){var e;L.current=i-1;const t=(null==R||null===(e=R.current)||void 0===e?void 0:e.clientWidth)-40+6;void 0!==(null==S?void 0:S.scrollLeft)&&(S.scrollLeft=t*L.current),void 0!==(null==I?void 0:I.scrollLeft)&&(I.scrollLeft=t*L.current)}})(),f.current=i);const U=e=>d.createElement(d.Fragment,null,t.map(((t,a)=>{var o,c;return d.createElement(Pl,{key:a,card:t,scrollAmount:C,isMessageListItemSelected:s,numberOfCards:i,listId:n,streamId:r,isMobilePreview:l&&!e,clientWidth:(null==R||null===(o=R.current)||void 0===o?void 0:o.clientWidth)||0,setMobileCardOpen:F,isMobileExpandView:l&&e,mobileExpandAtIndex:L.current,cardIndex:a,clientHeight:(null==M||null===(c=M.current)||void 0===c?void 0:c.clientHeight)||0})}))),w=e=>d.createElement("div",{className:b.scrollArrow},y(e)&&d.createElement(G.default,{kind:k.Kinds.ARROW_RIGHT_DOC,rotate:e?k.Rotate.D0:k.Rotate.D180,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,onClick:()=>(e=>{if(!s){var t;let s=Math.min(270,e?S.scrollWidth-((null==R||null===(t=R.current)||void 0===t?void 0:t.clientWidth)-44)-C:C);s=s<=0?270:s,void 0!==(null==S?void 0:S.scrollBy)&&(null==S||S.scrollBy({top:0,left:e?s:-s,behavior:"smooth"})),setTimeout((()=>{T(null==S?void 0:S.scrollLeft)}),600),v(e)}})(e),title:m(e?Tl.cT.scrollRight:Tl.cT.scrollLeft),"aria-label":m(e?Tl.cT.scrollRight:Tl.cT.scrollLeft)}));if(null==t||!t.length)return null;const H=e=>{var t;const a=(null==R||null===(t=R.current)||void 0===t?void 0:t.clientWidth)-40+6;L.current>=i-1&&e||L.current<=0&&!e||(null==S?void 0:S.scrollLeft)%a!=0||s||(L.current=L.current+(e?1:-1),void 0!==(null==S?void 0:S.scrollBy)&&(null==S||S.scrollBy({top:0,left:e?a:-a,behavior:"smooth"}),v(e)),void 0!==(null==I?void 0:I.scrollBy)&&(null==I||I.scrollBy({top:0,left:e?a:-a,behavior:"smooth"})))};return c&&!O&&(F(!0),_()),E&&(O&&F(!1),u()),O&&(null==S?void 0:S.scrollLeft)!==(null==I?void 0:I.scrollLeft)&&void 0!==(null==I?void 0:I.scrollLeft)&&(I.scrollLeft=(null==S?void 0:S.scrollLeft)||0),d.createElement(d.Fragment,null,!l&&d.createElement("div",{className:b.container,ref:R},w(!1),d.createElement("div",{className:b.cardContainer,id:"cardContainer",ref:e=>p(e)},U(!1)),w(!0)),l&&d.createElement("div",{ref:R},d.createElement("div",{className:b.backgroundContainer}),d.createElement(yl(),{"data-test-id":"swipeable-item-sliding-panel",preventDefaultTouchmoveEvent:!0,stopPropagation:!0,className:b.container,onSwipedLeft:()=>H(!0),onSwipedRight:()=>H(!1)},d.createElement("div",{className:b.cardContainer,id:"cardContainer",ref:e=>p(e)},U(!1)),(()=>{var e;const t={left:((null==R||null===(e=R.current)||void 0===e?void 0:e.clientWidth)||0)-48};return d.createElement("div",{className:b.popUpContainer,ref:M},O&&d.createElement(vl.Z,{lockScrolling:!0}),d.createElement(Fl.Z,{isShown:O,isThemed:!1,onClick:()=>F(!1),zIndex:-1}),O&&d.createElement(d.Fragment,null,d.createElement("div",{className:b.closeButton,style:t},d.createElement(G.default,{kind:k.Kinds.CLOSE,size:k.Sizes.XS,onClick:()=>F(!1),colorState:k.ColorStates.INHERITED})),d.createElement("div",{"data-test-id":"mobileExpandCards",className:b.popUpCardContainer,ref:e=>h(e)},U(!0))))})())))}));var Gl=s(80717),Hl=s.n(Gl);const Bl=(0,S.connect)(((e,t)=>{const{listId:s}=t,{getNumberOfSelectedItemsInList:a}=(0,He.selectors)(e);return{isMessageListItemSelected:a(s)>0}}),(e=>({removeAllTopOfInboxCard:t=>e((0,fl.Yi)(t)),navigateToRoute:t=>e((0,tt.Ch)(t))})))((e=>{const{style:t,context:s,store:a,removeAllTopOfInboxCard:n,navigateToRoute:r,isMessageListItemSelected:o}=e,{intl:{formatMessage:i}}=s,l=(0,Re.Z)(Hl(),{...t,isMessageListItemSelected:o,isDarkThemeMode:s.getThemeMode()===Q.zg.DARK});return d.createElement("div",{className:l.container},d.createElement(m.FormattedMessage,Tl.cT.title),d.createElement("div",{className:l.menuContainer},d.createElement(Gs.Z,null,d.createElement(Hs.Z,null,d.createElement(G.default,{kind:k.Kinds.MORE,size:k.Sizes.XS,colorState:k.ColorStates.INHERITED,title:i(Tl.GK.moreButtonTitle),"aria-haspopup":!0})),d.createElement(os.ZP,{store:a,context:s,offset:8,arrowSize:is.Jk.M,triggerOn:is.K2.CLICK,permittedArrowDirections:[is.Ji.UP],zAltitude:O.LSY.POPOVER.HIGH,align:is.xM.END},d.createElement("div",{className:l.menu},d.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:l.menuOption,onClick:()=>(n({undoAction:(0,fl.Yj)(),numberOfCards:2}),void pe.ZP.sendI13nModel({i13nModel:{mKey:X.JE.TOI_CARD_ACTION_REMOVE_ALL,sec:X.nJ.MSG_LIST,actionData:{slot:X.KJ.MESSAGE_LIST}}})),tabIndex:-1},d.createElement(m.FormattedMessage,Tl.GK.hideAll)),d.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:l.menuOption,onClick:()=>{r({route:(0,Ge.Tx)({settingsGroupId:A.u5h.PERSONALIZE_INBOX}),i13nModel:{mKey:X.JE.SETTINGS_POPUP_MORE,sec:X.nJ.SETTINGS_POPUP_TOI,interactionType:X.Rb.click}})},tabIndex:-1},d.createElement(m.FormattedMessage,Tl.GK.cardSettings)))))))}));var xl=s(81732),Vl=s(95075),Zl=s.n(Vl),Wl=s(88941),Kl=s.n(Wl);const zl=(0,m.defineMessages)({loadingText:{id:"yai_answer_loading_state_text",defaultMessage:"FETCHING THE ANSWER..."}}),Yl=()=>{const e=(0,Re.Z)(Kl()),{formatMessage:t}=(0,De.Y)();return d.createElement("div",{className:e.container,"aria-hidden":!0,"data-test-id":"yai_answer_loading"},d.createElement("div",null,t(zl.loadingText)),d.createElement("div",{className:e.answerContainer},d.createElement("div",{className:e.answer}),d.createElement("div",{className:e.answer}),d.createElement("div",{className:e.shortAnswer})))};var jl=s(29911),ql=s(33139);const Xl=(0,m.defineMessages)({answerHeader:{id:"yai_answer_header_text",defaultMessage:"Answer from you inbox"},noAnswerInfo:{id:"yai_answer_no_answer_text",defaultMessage:"we don't have any answer for you now"}}),Ql=()=>{var e,t;const s=(0,xl.I0)(),{themeMode:a}=(0,d.useContext)(jl.Z),n=a===A.zgU.DARK,r=(0,Re.Z)(Zl(),{isOnDarkBackground:n}),o=(0,xl.v9)((e=>(0,He.selectors)(e).getRoute())),i=(0,$.LY)(o),l=(0,xl.v9)((e=>{const{doesListExist:t,getMessageListItems:s}=(0,He.selectors)(e);return t(i)?s(i):[]})),c=(0,xl.v9)((e=>(0,He.selectors)(e).getYaiSearchAnswer(i)));let _=(0,$.Q7)(i);(0,ai.Gi)(_)&&(_=(0,ai.py)(_));const E=(0,xl.v9)((e=>(0,He.selectors)(e).getYaiSearchAnswerStatus(_))),[u,m]=(0,d.useState)(!0),[S,p]=(0,d.useState)(!1),{formatMessage:C}=(0,De.Y)(),T=null==c||null===(e=c.answer)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.text.answer,I=null==T?void 0:T.replace(/\n+/g,"\n");(0,d.useEffect)((()=>{var e,t;(E===A.DAQ.LOADING&&(m(!0),p(!1)),E===A.DAQ.LOADED)&&(m(!1),"yes"===(null==c||null===(e=c.answer)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.text.has_answer)&&p(!0))}),[E,c]);const h=e=>{s((0,ql.in)({}));const t=l.length>0?l[0].firstMessageId:"not_applicable";pe.ZP.sendI13nModel({i13nModel:{mKey:e,sec:X.nJ.YAI_SEARCH_ANSWER_CARD,interactionType:X.Rb.click,actionData:{firstMessageId:t}}})};return u?d.createElement(Yl,null):d.createElement("div",{className:r.yaiAnswerContainer,"data-test-id":"yai-answer-widget"},d.createElement("div",{className:r.yaiAnswerCard},d.createElement("div",{className:r.yaiHeader},d.createElement("div",{className:r.yaiAnswerHeader},C(Xl.answerHeader)),d.createElement("div",{className:r.feedbackImgContainer},d.createElement("div",{className:r.feedbackImgUp,onClick:()=>h(X.JE.YAI_SEARCH_THUMB_UP),"data-test-id":"feedback-up-img"},d.createElement("img",{className:r.feedbackImg,src:(0,le.A)("/img/wallet_detail_thumb_up.png")})),d.createElement("div",{className:r.feedbackImgDown,"data-test-id":"feedback-down-img",onClick:()=>h(X.JE.YAI_SEARCH_THUMB_DOWN)},d.createElement("img",{className:r.feedbackImg,src:(0,le.A)("/img/wallet_detail_thumb_down.png")})))),d.createElement("div",{className:r.yaiAnswerContent},S?I:C(Xl.noAnswerInfo))))};var Jl=s(97737),$l=s.n(Jl);const ec=(0,m.defineMessages)({title:{id:"pinned_emails.title",defaultMessage:"Pinned emails"}}),tc=(0,S.connect)((e=>{const{getSetting:t}=(0,He.selectors)(e);return{themeMode:t(A.Zrf.THEME_MODE)}}))((({styleOptions:e,themeMode:t})=>{const s=(0,Re.Z)($l(),{...e,isDarkThemeMode:t===A.zgU.DARK});return d.createElement("div",{"data-test-id":"container",className:s.container},d.createElement(m.FormattedMessage,ec.title))}));function sc(){return(sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ac(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const nc=()=>{},rc=e=>{e.stopPropagation(),e.preventDefault()},oc=e=>t=>(0,$.WN)(t)===e,ic=oc(A.F6k.TRAVEL_CARDS),lc=oc(A.F6k.REFUND_CARDS),cc=(0,m.defineMessages)({list_scroll_to_top:{id:"list.scroll_to_top_button_title",defaultMessage:"Scroll to top"},top_of_inbox_scroll_to_top:{id:"list.top_of_inbox.scroll_to_top",defaultMessage:"{numberOfNewCards} new inbox {numberOfNewCards, plural, =1 {highlight} other {highlights}}"},yai_answer_email_list_header:{id:"list.header_of_yai_search_email_list",defaultMessage:"Related emails from your inbox"}}),dc=[w.P.UP,w.P.DOWN,w.P.TAB,w.P.COMMA,w.P.FF_COMMA,w.P.PERIOD],_c=[w.P.SPACE,w.P.ENTER],Ec=[A.F6k.TIMECHUNK,A.F6k.PINNED_EMAILS_TITLE,A.F6k.TOP_OF_INBOX_CARDS_TITLE];class uc extends d.Component{constructor(e){super(e),ac(this,"_readPreviewPaneSetting",(e=>{if(!this.props.previewpaneInPixels)return null;const t=e===A.EsZ.RIGHT;if((0,g.jU)()){const e=new N.t2({window});return t?e.getClientParam(A.a1v.H_SLIDER_POS_V2):e.getClientParam(A.a1v.V_SLIDER_POS_V2)}return t?this.props.previewpanePositionsFromServer[A.a1v.H_SLIDER_POS_V2]:this.props.previewpanePositionsFromServer[A.a1v.V_SLIDER_POS_V2]})),ac(this,"handleDragStart",((e,t)=>{const{listId:s,onDragStart:a,streamId:n,doSelectAll:r}=this.props;a({streamId:n,streamItem:{id:e,listId:s},listId:s,messageGroupIds:[e]}),(0,g.nl)()?(this.dragIcon||(this.dragIcon=document.createElement("div"),(0,g.je)(this.dragIcon),document.body.appendChild(this.dragIcon)),this.renderDragIcon(n),t.dataTransfer.setDragImage(this.dragIcon,-10,-10)):(t.target.style.maxWidth="1px",t.target.style.height="1px",this.restoreTargetStyle(t.target)),t.dataTransfer.setData("text/list",JSON.stringify({listId:s,doSelectAll:r})),t.dataTransfer.effectAllowed="move"})),ac(this,"handleDragEnd",(()=>{this.removeDragIcon()})),ac(this,"renderDragIcon",(e=>{const{formatNumber:t}=this.context.intl;u.render(d.createElement(S.Provider,{store:this.context.store},d.createElement(wt,{formatNumber:t,streamId:e})),this.dragIcon)})),ac(this,"removeDragIcon",(()=>{this.dragIcon&&(u.unmountComponentAtNode(this.dragIcon),document.body.removeChild(this.dragIcon),this.dragIcon=null)})),ac(this,"restoreTargetStyle",(e=>{setTimeout((()=>{e.style.maxWidth="",e.style.height=""}),0)})),ac(this,"_createBreakingNewsRefreshTimer",(()=>{this.breakingNewsRefreshTimer=setTimeout((()=>{this.props.onBreakingNewsRefresh(),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this._createBreakingNewsRefreshTimer()}),this.props.newsRefreshInterval)})),ac(this,"_renderStickyOnboarding",(()=>d.createElement(We.cr,{import:"../../apps/mail/molecules/onboarding/sticky_onboarding",cueName:A.ANe.STICKY_ONBOARDING_CUE,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,86816))},_moduleResolver:function(){return 86816}}))),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleLoadMoreItems=this.handleLoadMoreItems.bind(this),this.getItemHeight=this.getItemHeight.bind(this),this.formatItem=this.formatItem.bind(this),this.formatPlaceHolder=this.formatPlaceHolder.bind(this),this.navigateTo=this.navigateTo.bind(this),this.handleListFilterChange=this.handleListFilterChange.bind(this),this.renderVirtualList=this.renderVirtualList.bind(this),this.renderPreviewPane=this.renderPreviewPane.bind(this),this.renderResizer=this.renderResizer.bind(this),this.handleSlide=this.handleSlide.bind(this),this.onScrollTop=this.onScrollTop.bind(this),this.forceScrollToTop=this.forceScrollToTop.bind(this),this.onScroll=this.onScroll.bind(this),this.onPageDown=this.onPageDown.bind(this),this.onPageUp=this.onPageUp.bind(this),this.onScrollTopChange=this.onScrollTopChange.bind(this),this.getUIState=this.getUIState.bind(this),this.setStickyTimechunkRef=this.setStickyTimechunkRef.bind(this),this.onVirtualListRenderCompleted=this.onVirtualListRenderCompleted.bind(this),this.reversedTimeChunkIndices=[],this.renderMessageScrollToTopElement=this.renderMessageScrollToTopElement.bind(this),this.pencilAdNodes={},this.scrollTop=0,this.state={hSliderPos:this._readPreviewPaneSetting(A.EsZ.RIGHT)||O.Q3u,vSliderPos:this._readPreviewPaneSetting(A.EsZ.BOTTOM)||O.TQs,size:0,stickyTimechunkMounted:!1},this.stickyTimeChunkIndex=void 0,this.useLocalScrollTop=!1,this.recalculateVirtualListClientHeight=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.cursorOutBound=!1,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1,this.listWrapperRef=d.createRef(),this.scrollToTopNotificationContainer=d.createRef(),this.displayScrollToTopNotification=!1,this.displayScrollToTopNotificationTimer=null,this.scrollPercent=0}getSavedScrollTop(){return this.useLocalScrollTop?(this.useLocalScrollTop=!1,this.scrollTop):(this.props.preservedState&&this.props.preservedState.uiState?this.scrollTop=this.props.preservedState.uiState.scrollTop:this.scrollTop=0,this.scrollTop)}buildTimeChunkIndices(){const e=[];this.props.items.forEach(((t,s)=>{Ec.includes((0,$.WN)(t.listId))&&e.push(s)})),e.reverse(),this.reversedTimeChunkIndices=e}componentDidMount(){this.buildTimeChunkIndices(),this.lastPageScrollTop=0,this.debouncedScrollTopChange=r()(this.onScrollTopChange,200),this.props.items.length&&(this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts),this.updateStickyHeader(0))}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys),clearTimeout(this.stickyHeaderUpdateTimer),clearTimeout(this._previewMessageSyncTimer),this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this.displayScrollToTopNotificationTimer&&(clearTimeout(this.displayScrollToTopNotificationTimer),this.displayScrollToTopNotificationTimer=null)}componentDidUpdate(e,t){if(this.buildTimeChunkIndices(),0!==this.props.items.length&&0!==this.reversedTimeChunkIndices.length||this.updateStickyHeader(-1),!e.items.length&&this.props.items.length?this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts):e.items.length&&!this.props.items.length&&this.context.unbindShortcut(this.props.listenKeys),e.windowClientHeight!==this.props.windowClientHeight||e.previewpane!==this.props.previewpane||e.msgListDensity!==this.props.msgListDensity||this.props.previewpane===A.EsZ.BOTTOM&&this.state.vSliderPos!==t.vSliderPos){if(e.msgListDensity!==this.props.msgListDensity){const t=Math.floor(this.scrollTop/e.mainItemHeight)*this.props.mainItemHeight;this.scrollTop=t}this.recalculateVirtualListClientHeight=!0,this.useLocalScrollTop=!0,this.forceUpdate()}else this.recalculateVirtualListClientHeight=!1;e.allTopOfInboxCardLength>0&&this.props.allTopOfInboxCardLength>e.allTopOfInboxCardLength&&this.renderScrollToTopNotification(!1,this.props.allTopOfInboxCardLength-e.allTopOfInboxCardLength),this.props.items[0]&&Ec.includes((0,$.WN)(this.props.items[0].listId))&&this.updateStickyHeader(0)}UNSAFE_componentWillReceiveProps(e){e.streamId!==this.props.streamId&&(this.cursorOutBound=!1,this.itemStartIndex=0,this.itemEndIndex=0,this.hasShadow=!1,this.stickyTimeChunkIndex=void 0,this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1,this.scrollTop=0),e.newsArticle.title&&e.newsArticle.title!==this.props.newsArticle.title&&(this.breakingNewsScrollAway=!1,this.breakingNewsRendered=!1)}handleShortcuts(e){const t=e.which||e.keyCode||-1,{previewpane:s,syncUnsyncedData:a,streamId:n,listId:r,permanentDelete:o,selectedItemsCount:i,bulkActionDialogThreshold:l,enableTriageActions:c}=this.props;if((!(dc.indexOf(t)>=0)||this.container.contains(e.target)||e.target.contains(this.container))&&(!(_c.indexOf(t)>=0&&this.listWrapperRef.current)||this.listWrapperRef.current.contains(e.target)||e.target.contains(this.listWrapperRef.current)))if(t!==w.P.TAB){if(rc(e),t===w.P.UP||t===w.P.DOWN){const e=this.context.store.getState().streams[n];if(s!==A.EsZ.NO&&(clearTimeout(this._previewMessageSyncTimer),this._previewMessageSyncTimer=setTimeout((()=>{a()}),A.BC)),e&&e.cursor){const{items:s}=this.props,a=e.cursor.index;(t===w.P.UP&&0!==a&&a<=this.itemStartIndex||t===w.P.DOWN&&a!==s.length-1&&a>=this.itemEndIndex)&&(this.cursorOutBound=!0)}}if(t===w.P.PAGE_UP&&this.onPageUp(),t===w.P.PAGE_DOWN&&this.onPageDown(),t!==w.P.DELETE&&t!==w.P.BACKSPACE&&t!==w.P.HASHTAG||!(o&&c||i>=l))this.props.onKeyDown(e,n,r);else{const{isConversationMode:t}=this.props;(0,Go.C)(d.createElement(Bo,{streamId:n,listId:r,isConversationMode:t,onConfirm:()=>this.props.onKeyDown(e,n,r),perm:o,selectedItemsCount:i,onClose:()=>{}}),this.context)}}else{const t=(0,$.WN)(r),s=this.context.store.getState().streams[n];s&&s.cursor||t!==A.F6k.MESSAGES&&t!==A.F6k.DOCUMENTS&&t!==A.F6k.IMAGES||e.srcElement.tabIndex!==O.iUz.MESSAGE_LIST_TOOLBAR||(this.props.moveToFirstItem(n),rc(e))}}handleLoadMoreItems(){const{listId:e,streamId:t,loadMoreItems:s,hasMoreItems:a}=this.props;return!!a&&(s({listId:e,streamId:t}),!0)}navigateTo(){const{streamId:e,cursorItem:t,onNavigateToRoute:s}=this.props;s({streamId:e,streamItem:t,...Object.assign.apply({},arguments)})}formatTimeChunk({index:e,scrollable:t,shadow:s,isUpdateSticky:a}){if(t&&0===e)return null;const n={},{items:r,timeZone:o,listId:i}=this.props,l=r[e]&&(0,$.WN)(r[e].listId)===A.F6k.TIMECHUNK,c=r[e]&&(0,$.WN)(r[e].listId)===A.F6k.TOP_OF_INBOX_CARDS_TITLE,_=r[e]&&(0,$.WN)(r[e].listId)===A.F6k.PINNED_EMAILS_TITLE;return l||c||_?(n.leftPadded=!t,n.shadow=s,ic(i)&&(n.fixedInTravelCard=!t,n.leftPadded=!1),lc(i)&&a&&(n.leftPadded=!1,n.stickyTimechunk=!0),c?d.createElement(Bl,{style:n,context:this.context,store:this.context.store,listId:i}):_?d.createElement(tc,{store:this.context.store,styleOptions:n}):d.createElement(Ur,{style:n,timeZone:o,context:this.context,type:r[e].type,value:r[e].value})):null}formatTravelItem(e){return d.createElement(ys,{schemaId:e.id,cardConversationId:e.cardConversationId,listId:e.listId,groupId:e.groupId})}formatItem(e,{isScrolling:t,itemIndex:s},a){const{items:n,showYaiSearchAnswer:r}=this.props,o=(0,$.WN)(e.listId);let i=!1;if(s<=2)for(const[l,{firstMessageId:c}]of n.entries())if(c){i=l===s;break}switch(o){case A.F6k.PINNED_EMAILS:case A.F6k.MESSAGES:return d.createElement(Ir,sc({isFirstItemInList:i,streamId:this.props.streamId,groupId:e.id,isScrolling:t,navigateTo:this.navigateTo},e,this.props.actions[o],this.props.actions.TOOLBAR,{itemHeight:e.listItemHeight,previewpane:this.props.previewpane,msgListDensity:this.props.msgListDensity,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onFocus:nc,isConversationMode:this.props.isConversationMode,scrollerRef:a,onContextMenu:this.props.onContextMenu,onContextMenuShown:this.props.onContextMenuShown,itemIndex:s,hideCheckbox:r}));case A.F6k.BRAND_SHORTCUTS:return d.createElement(ll,null);case A.F6k.CONTACTS:return d.createElement(cl.ZP,{email:e.email,isSearchContactCard:!0});case A.F6k.TRAVEL_CARDS:return this.formatTravelItem(e);case A.F6k.TIMECHUNK:return this.formatTimeChunk({index:s,scrollable:!0});case A.F6k.LOAD_MORE:return d.createElement(Kr,null);case A.F6k.COUPON_SEPARATOR:return d.createElement(kr,{type:A.F6k.COUPON_SEPARATOR,value:e.id,context:this.context,dealsView:this.props.dealsView});case A.F6k.RECOMMENDED_DEALS_HEADER:return d.createElement(No,null);case A.F6k.COUPON_CARDS:return(0,$.aY)(e.listId)===A.qd8.RECOMMENDED_DEALS?d.createElement(ft,{items:e.itemRow}):d.createElement(mt,sc({},e,{onCouponClick:this.navigateTo,isScrolling:t,hideBottomBorder:e.isLastItemInGroup}));case A.F6k.SENDERS:return d.createElement(Ei,sc({},e,{navigateTo:this.navigateTo,isScrolling:t}));case A.F6k.REFUND_CARDS:return d.createElement(Wt,{onReceiptClick:this.navigateTo,schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,messageId:e.messageId,conversationId:e.conversationId,orderDate:e.orderDate,itemName:e.itemName,price:e.price,numItems:e.numItems,currency:e.currency,hideBottomBorder:e.isLastItemInGroup});case A.F6k.PENCIL_AD:{const{listId:t}=this.props,{sectionId:s}=e;return d.createElement(je,{anchorRef:t=>this.pencilAdNodes[e.sectionId]=t,viewabiltyContainerScrollTop:this.scrollTop,anchor:this.pencilAdNodes[s],viewabiltyContainerNode:this.container,sectionId:s,listId:t})}case A.F6k.IMAGES:{const{items:t,listId:s}=e;return d.createElement(Jr.Z,{listId:s,items:t,streamId:this.props.streamId})}case A.F6k.DOCUMENTS:return d.createElement(vs.Z,{listId:e.listId,item:e,streamId:this.props.streamId});case A.F6k.TOP_OF_INBOX_CARDS:{const{listId:e,streamId:t}=this.props;return d.createElement(wl,{listId:e,streamId:t})}case A.F6k.PINNED_EMAILS_TITLE:case A.F6k.TOP_OF_INBOX_CARDS_TITLE:return this.formatTimeChunk({index:s,scrollable:!0});default:return e}}getItemHeight(e,t){switch((0,$.WN)(e.listId)){case A.F6k.COUPON_SEPARATOR:case A.F6k.RECOMMENDED_DEALS_HEADER:return 1!==e.id||this.props.dealsView?O.fa0:2*O.fa0;case A.F6k.TIMECHUNK:return 0===t?0:O.fa0;case A.F6k.RECEIPT_SEPARATOR:return O.fa0;case A.F6k.LOAD_MORE:return O.A3h;case A.F6k.PINNED_EMAILS:case A.F6k.MESSAGES:case A.F6k.PENCIL_AD:case A.F6k.IMAGES:case A.F6k.DOCUMENTS:case A.F6k.BRAND_SHORTCUTS:return e.listItemHeight;case A.F6k.COUPON_CARDS:return(0,$.aY)(e.listId)===A.qd8.RECOMMENDED_DEALS?O.SDK:O.ZzG;case A.F6k.SENDERS:return O.HB2;case A.F6k.REFUND_CARDS:return O.ZYh;case A.F6k.TRAVEL_CARDS:return O.naA;case A.F6k.CONTACTS:return e.listItemHeight;case A.F6k.TOP_OF_INBOX_CARDS:return O.MEf;case A.F6k.PINNED_EMAILS_TITLE:case A.F6k.TOP_OF_INBOX_CARDS_TITLE:return 0===t?0:O.fa0}}setStickyTimechunkRef(e){this.stickyTimechunkNode=e}renderBreakingNews(e){const{newsArticle:t,onBreakingNewsDismissed:s,onBreakingNewsClicked:a,previewpane:n,onBreakingNewsRendered:r}=e,o=n===A.EsZ.RIGHT;return d.createElement(Ti.Z,{newsArticle:t,isCompactLayout:o,breakingNewsDismissed:s,breakingNewsClicked:a,breakingNewsRendered:r})}createContextProvider(e,t,s){class a extends d.Component{getChildContext(){return e}render(){return d.createElement(m.IntlProvider,window.AppIntl,t(s))}}return a.childContextTypes={},Object.keys(e).forEach((e=>{a.childContextTypes[e]=c().any})),a}updateStickyHeader(e,t=!1){if(!(0,g.jU)()||!this.stickyTimechunkNode)return;if(e<0)return this.state.stickyTimechunkMounted&&this.setState({stickyTimechunkMounted:!1}),void u.unmountComponentAtNode(this.stickyTimechunkNode);const s=e?this.reversedTimeChunkIndices.find((t=>t<e)):0,n=t||e>1,{isBreakingNewsEnabled:r,newsArticle:o}=this.props;if(r&&o.title&&(!this.breakingNewsScrollAway&&this.breakingNewsRendered&&(this.breakingNewsScrollAway=this.stickyTimeChunkIndex!==s),!this.breakingNewsScrollAway&&!o.isRead)){if(!this.breakingNewsRendered){this.breakingNewsRendered=!0,this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0});const e=this.createContextProvider(this.context,this.renderBreakingNews,this.props);u.render(d.createElement(e,null),this.stickyTimechunkNode),this.breakingNewsRefreshTimer||this._createBreakingNewsRefreshTimer()}return this.stickyTimechunkNode.style.boxShadow=n?"rgba(0, 0, 0, 0.2) 0px 2px 4px":"none",this.hasShadow=n,void(this.stickyTimeChunkIndex=s)}if(this.stickyTimeChunkIndex===s&&0!==e&&this.hasShadow===n&&!this.breakingNewsRendered)return;this.breakingNewsRendered&&(!r&&this.breakingNewsRefreshTimer&&(clearTimeout(this.breakingNewsRefreshTimer),this.breakingNewsRefreshTimer=null),this.stickyTimechunkNode.style.boxShadow="none",this.breakingNewsRendered=!1),this.stickyTimeChunkIndex=s,this.hasShadow=n;const i=this.formatTimeChunk({index:s,scrollable:!1,shadow:n,isUpdateSticky:!0});i&&(this.state.stickyTimechunkMounted||this.setState({stickyTimechunkMounted:!0}),u.render(d.createElement(m.IntlProvider,window.AppIntl,d.createElement(a.FluxibleComponent,{context:this.context,store:this.context.store},i)),this.stickyTimechunkNode))}onScrollTop(){this.updateStickyHeader(0)}onScroll({scrollTop:e,itemStartIndex:t,getScrollPercent:s}){this.useLocalScrollTop||(this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout((()=>this.updateStickyHeader(t,e>0)),0),this.scrollTop=e,this.debouncedScrollTopChange({newScrollTop:e}),this.scrollPercent=s())}onScrollTopChange({newScrollTop:e}){const{itemListPageThreshold:t,onPageScrolled:s,handleScrollToBottom:a,listId:n}=this.props;Math.abs(e-this.lastPageScrollTop)>t&&(s(n),this.lastPageScrollTop=e),null==a||a({newScrollTop:e})}onVirtualListRenderCompleted({itemStartIndex:e,itemEndIndex:t,itemOffsets:s}){if(this.cursorOutBound){const e=this.context.store.getState().streams[this.props.streamId].cursor.streamItem,t=e?this.props.items.findIndex((t=>t.id===e.id)):-1;t>-1&&this.scrollTop!==s[t]?(this.scrollTop=s[t],this.useLocalScrollTop=!0,this.forceUpdate()):this.cursorOutBound=!1}else this.stickyHeaderUpdateTimer&&clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout((()=>this.updateStickyHeader(e)),0),this.itemStartIndex=e,this.itemEndIndex=t}forceScrollToTop(){this.scrollTop=0,this.useLocalScrollTop=!0,this.forceUpdate()}onPageUp(){this.scrollTop=Math.max(this.scrollTop-this.container.clientHeight,0),this.useLocalScrollTop=!0,this.forceUpdate()}onPageDown(){this.scrollTop+=this.container.clientHeight,this.useLocalScrollTop=!0,this.forceUpdate()}getUIState(){const{listId:e,streamId:t}=this.props;return{type:A.sKi.COMPONENT_UI_STATE,hash:(0,$.JB)(e),id:t,uiState:{scrollTop:this.scrollTop}}}renderStaticHeader(){const{listId:e,items:t,showSearchHeader:s,showEmailsToMyselfHeader:a}=this.props,n=(0,$.WN)(e),r=0===t.length;if((0,ee.lX)(e))return d.createElement(ki,{listId:e,onContentTypeChange:()=>{}});if(a)return d.createElement(ml,{listId:e});if(s)return d.createElement(Is,{listId:e});if((0,ee.D3)(e))return d.createElement(yo,{listId:e});if((0,$.aY)(e)===A.qd8.SUBSCRIPTIONS)return d.createElement(xi,{listId:e});if(n===A.F6k.SENDERS||(0,$.aY)(e)===A.v6P[A.K8C.SENDER_ROLLUP])return d.createElement(Ai,{listId:e});switch(n){case A.F6k.TRAVEL_CARDS:return d.createElement(yo,{listId:e});case A.F6k.COUPON_CARDS:return d.createElement(Ws,null);case A.F6k.REFUND_CARDS:return d.createElement(So,{isEmpty:r});case A.F6k.IMAGES:return d.createElement(Qr,{listId:e});case A.F6k.DOCUMENTS:return d.createElement($s,{listId:e});case A.F6k.SENDERS:return d.createElement(Ai,{listId:e});default:return null}}renderStickyHeader(e){const t=this.formatTimeChunk({index:0,scrollable:!1});return t?(0,g.jU)()?d.createElement("div",{className:e.timeChunkContainer},d.createElement("div",{className:e.timeChunkPlaceHolder},t),d.createElement("div",{"data-test-id":"mail-reader-sticky-header",ref:this.setStickyTimechunkRef,className:e.timechunk})):d.createElement("div",null,d.createElement("div",{className:e.timeChunkPlaceHolder},t),d.createElement("div",{"data-test-id":"mail-reader-sticky-header",className:e.timechunk})):null}renderYaiStickyHeader(e){const{formatMessage:t}=this.context.intl,{items:s}=this.props;return(0,g.jU)()&&s.length?d.createElement("div",{className:e.yaiRelatedEmailsContainer,"data-test-id":"mail-reader-yai-answer-sticky-header"},d.createElement("div",{className:e.yaiRelatedEmailsHeader},t(cc.yai_answer_email_list_header))):null}renderCheckmailLoadingBar(){return d.createElement(xr,null)}getScrollToTopElementRenderFunc(e){return this.renderMessageScrollToTopElement(e)}renderMessageScrollToTopElement(e){const{formatMessage:t}=this.context.intl;return()=>d.createElement("div",{className:e.messageScrollToTopContainerStyle},d.createElement(G.default,{kind:k.Kinds.TAP_TO_TOP,size:k.Sizes.XS,colorState:k.ColorStates.INVERTED,paddingLess:!0,title:t(cc.list_scroll_to_top)}))}renderTopOfInboxScrollToTopElement(e){const{formatMessage:t}=this.context.intl,s=E()(ii());return d.createElement("div",{className:s.topOfInboxScrollToTopContainerStyle},d.createElement("div",{className:s.topOfInboxScrollToTopText,onClick:()=>this.forceScrollToTop()},t(cc.top_of_inbox_scroll_to_top,{numberOfNewCards:e})),d.createElement("div",{className:s.topOfInboxScrollToTopCloseButton},d.createElement(G.default,{kind:k.Kinds.CLOSE,size:k.Sizes.XXXS,colorState:k.ColorStates.DARK,paddingLess:!0,title:t(cc.list_scroll_to_top),onClick:()=>this.renderScrollToTopNotification(!0)})))}renderScrollToTopNotification(e,t){this.scrollPercent>A.UGh&&!this.displayScrollToTopNotification&&this.scrollToTopNotificationContainer.current?(u.render(this.renderTopOfInboxScrollToTopElement(t),this.scrollToTopNotificationContainer.current),this.displayScrollToTopNotification=!0,this.displayScrollToTopNotificationTimer=setTimeout((()=>{u.unmountComponentAtNode(this.scrollToTopNotificationContainer.current),this.displayScrollToTopNotification=!1}),3e3)):e&&this.displayScrollToTopNotification&&(u.unmountComponentAtNode(this.scrollToTopNotificationContainer.current),this.displayScrollToTopNotification=!1,this.displayScrollToTopNotificationTimer&&(clearTimeout(this.displayScrollToTopNotificationTimer),this.displayScrollToTopNotificationTimer=null))}getScrollToTopElementConfig(e,t){return{scrollThresholdPercentage:A.UGh,render:this.getScrollToTopElementRenderFunc(t)}}formatPlaceHolder(){const e=(0,$.WN)(this.props.listId);return e===A.F6k.MESSAGES?this.props.previewpane===A.EsZ.RIGHT?d.createElement(Dr,{isDarkMode:this.context.getThemeMode()===Q.zg.DARK,itemHeight:this.props.mainItemHeight}):d.createElement(fr,{isDarkMode:this.context.getThemeMode()===Q.zg.DARK,itemHeight:this.props.mainItemHeight}):e===A.F6k.DOCUMENTS?d.createElement(fr,{isDarkMode:this.context.getThemeMode()===Q.zg.DARK,itemHeight:this.props.mainItemHeight}):null}renderListResult(e){const{streamId:t,items:s,listId:a,haveScrollToTop:n,messageBuffer:r,numOfPlaceHolder:o,oppositeBufferSize:i}=this.props,l=(0,$.WN)(a),c={height:"auto"},_={padding:`0 ${4*O.mg$}px`};return s.length?n?d.createElement(p.Z,{getUnsyncedData:this.getUIState},d.createElement(j,{key:t,items:s,bufferSize:r,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:c,onScrollTop:this.onScrollTop,config:this.getScrollToTopElementConfig(l,e),WrappedList:x.Z,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),forceScrollToTop:this.forceScrollToTop,formatPlaceHolder:this.formatPlaceHolder,numOfPlaceHolder:o,recalculateClientHeight:this.recalculateVirtualListClientHeight,oppositeBufferSize:i,onRenderCompleted:this.onVirtualListRenderCompleted,enableReactElementCache:!0,itemStyle:_})):d.createElement(p.Z,{getUnsyncedData:this.getUIState},d.createElement(x.Z,{key:t,items:s,bufferSize:100,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:this.handleLoadMoreItems,styles:c,onScrollTop:this.onScrollTop,onScroll:this.onScroll,scrollTop:this.getSavedScrollTop(),recalculateClientHeight:this.recalculateVirtualListClientHeight,onRenderCompleted:this.onVirtualListRenderCompleted,itemStyle:_})):d.createElement(ea.ZP,{listId:this.props.listId})}renderVirtualList(e){const{status:t,items:s}=this.props;return t===A.DAQ.ERROR?d.createElement(yt,null):d.createElement("div",{className:e.container,"data-test-id":"virtual-list-container"},t===A.DAQ.LOADING&&0===s.length?d.createElement("div",{className:e.loadingContainer},d.createElement(q.Z,null)):this.renderListResult(e))}renderPreviewPane(e){const{streamId:t,listId:s}=this.props;return d.createElement("div",{className:e.rightPane,key:"rightpane"},d.createElement(co,{listId:s,streamId:t}))}handleSlide(e,t,s){this.useLocalScrollTop=!0,this.setState({[e]:t,size:s})}handleListFilterChange(e,t){const s=(0,$.WN)(this.props.listId),a={[A.F6k.MESSAGES]:"msg",[A.F6k.DOCUMENTS]:"docs",[A.F6k.IMAGES]:"photo"},n=X.JE["FILTER_"+t],r=n?{mKey:n,sec:X.nJ.MSG_LIST_BULK_ACTION,interactionType:(0,J.getInteractionFromEvent)(e),actionData:{cntxt:a[s]||a[A.F6k.MESSAGES]}}:null;this.navigateTo({route:{name:A.n8z.SEARCH,params:{query:(0,$.tr)((0,$.tE)(this.props.listId,{listFilter:t}))}},i13nModel:r})}renderResizer(){const{previewpane:e,previewpaneInPixels:t,previewpaneCookie:s,isRTL:a}=this.props;return d.createElement(U,{key:"previewpane-resizer",isEmpty:!1,previewpane:e,previewpaneInPixels:t,previewpaneCookie:s,resize:this.handleSlide,isRTL:a})}getPreviewPaneStyle(e,t){const{hSliderPos:s,vSliderPos:a,size:n}=this.state,r=e;let o;return e===A.EsZ.RIGHT?0!==n&&t?(o=s<O.XpS?O.XpS:n-s<O.bA8?n-O.bA8:s,{style:{flexBasis:`${o}px`},horizontalOffset:o,showLabels:n-s>700,splitType:r}):{style:{flexBasis:`${s}%`},horizontalOffset:s,showLabels:s<=O.Q3u,splitType:r}:0===n?{style:{flexBasis:`${a}%`},splitType:r}:t?(o=a<O.Yw5?O.Yw5:n-a<O.dEt?n-O.dEt:a,{style:{flexBasis:`${o}px`},splitType:r}):{style:{flexBasis:a/100*n+"px"},splitType:r}}getPreviewPaneStyleFromCookie(e){const{hSliderPos:t,vSliderPos:s,size:a}=this.state,n=e===A.EsZ.RIGHT,r=e;let o;return o=n?t<O.XpS?O.XpS:t:s<O.Yw5?O.Yw5:s,{style:{flexBasis:`${o}px`},splitType:r,...n?{horizontalOffset:t,showLabels:!(a>0)||a-t>700}:{}}}showInboxHeader(){if(this.props.isFocusedInboxEnabled){const{listId:e,folderType:t}=this.props,s=(0,$.aY)(e);if(t===A.Sck.INBOX||s===A.qd8.FOCUSED_INBOX)return d.createElement(wo,{listId:e})}}renderBottomStickyPencilAd(){return d.createElement(nt,{viewabiltyContainerNode:this.container})}render(){const{previewpane:e,showListFilter:t,previewpaneInPixels:s,previewpaneCookie:a,showBrandShortcuts:n,items:r,hasSearchContactCard:o,searchContactCardEmail:l,showStickyOnboarding:c}=this.props,{stickyTimechunkMounted:_}=this.state,{style:u,splitType:m,horizontalOffset:S=0,showLabels:p=!0}=a&&s?this.getPreviewPaneStyleFromCookie(e):this.getPreviewPaneStyle(e,s),C=e!==A.EsZ.NO,T=this.context.getTheme(),I=E()(ii(),{theme:T,previewpane:e,previewpaneInPixels:s,stickyTimechunkMounted:_}),h=i()(this.props,["items","preservedState","cursorItem"]),g=r.length;return d.createElement("div",{className:I.mailReader,"data-test-id":"mail-reader","data-test-preview":m,ref:e=>{this.container=e}},this.renderStaticHeader(),c&&this._renderStickyOnboarding(),d.createElement("div",{className:I.toolbar,"data-test-id":"mail-reader-toolbar"},this.props.hideToolbar?null:d.createElement(zr.ZP,sc({},h,{onListFilterChange:this.handleListFilterChange,horizontalOffset:S,showLabels:p,showListFilter:t,listLength:g})),this.props.showYaiSearchAnswer&&d.createElement(Ql,null),this.showInboxHeader(),!C&&o&&d.createElement("div",{className:I.contactCard},d.createElement(cl.ZP,{email:l,isSearchContactCard:!0}))),d.createElement("div",{className:I.listWrapper,ref:this.listWrapperRef},d.createElement("div",{className:I.listContainer,"data-test-id":"mail-reader-list-container"},C?[d.createElement("div",{key:"list-pane",className:I.listPane,style:u,ref:"listPane","data-test-id":"left-pane"},o&&d.createElement("div",{className:I.contactCard},d.createElement(cl.ZP,{email:l,isSearchContactCard:!0})),this.renderCheckmailLoadingBar(),this.renderStickyHeader(I),this.renderVirtualList(I),this.renderBottomStickyPencilAd()),this.renderResizer(I),this.renderPreviewPane(I)]:d.createElement("div",{key:"list-pane",className:I.fullPane,"data-test-id":"full-pane"},this.renderCheckmailLoadingBar(),d.createElement("div",{ref:this.scrollToTopNotificationContainer}),this.renderStickyHeader(I),this.props.showYaiSearchAnswer&&this.renderYaiStickyHeader(I),this.renderVirtualList(I)))),n&&d.createElement(dl.Z,null),C?null:this.renderBottomStickyPencilAd())}}uc.defaultProps={doSelectAll:!1,listenKeys:[],hasMoreItems:!1,loadMoreItems:nc,haveScrollToTop:!1,itemListPageThreshold:825,isBreakingNewsEnabled:!1,newsArticle:{},onNavigateToRoute:nc,newsRefreshInterval:18e4,allTopOfInboxCardLength:0,showStickyOnboarding:!1,stickyOnboardingCards:[],isFathersDayComposeCueEnabled:!1},uc.contextTypes={executeAction:c().func,getStore:c().func,getCss:c().func,getThemeMode:c().func,getTheme:c().func,store:c().object,intl:c().object,bindShortcut:c().func,unbindShortcut:c().func,hideToolbar:c().bool,showStickyOnboarding:c().bool};const mc=ri(uc)},91054:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_n o_h p_R em_N D_F",mailReader:"D_F ab_FT em_N ek_BB W_6D6F",listWrapper:"D_F ab_FT em_N ek_BB iz_A H_6D6F",listContainer:"D_F H_6D6F ab_FT em_N p_R",toolbar:"en_0",contactCard:"Q_6Fd5 E_6Fd5",listPane:"en_0 ej_dAt p_R o_h D_F ek_BB",fullPane:"D_F ek_BB W_6D6F",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F",swipeableContainer:"F_N D_F ek_BB W_6D6F U_0",swipeableContent:"D_F ek_BB F_N",pullToRefreshContainer:"D_F ek_BB p_R F_N",loadingContainer:"T_dRK W_6D6F p_R",virtualListScroller:"p_a",virtualListUL:"I_ZkbNhI",messageScrollToTopContainerStyle:"D_F ab_C gl_C p_a B_6Fd5 R_dm5 H_6UbO W_6UbO E_6Fd5 I_ZS20T5 e_dRA r_P Z_O",topOfInboxScrollToTopContainerStyle:"ab_C gl_C p_a D_F T_dm5 L_dm5 R_dm5 Q_A E_A H_72FG W_3qXgC I_ZkbNhI e_1Jn7ie Z_7GpC j_1zwO34 dh_6Eb4",topOfInboxScrollToTopText:"C_Z29WjXl A_6EWk r_P u_e69",topOfInboxScrollToTopCloseButton:"E_fq7 D_F",timeChunkContainer:"p_R",timeChunkPlaceHolder:"O_N",timechunk:"Z_pG p_a T_0 W_6D6F",yaiRelatedEmailsContainer:"p_R H_74JI",yaiRelatedEmailsHeader:"je_6FIA X_6LEV C_Z1VRqsb A_6Eb4 i_6EqO u_dPo"},hasSelectedItems:{swipeableContainer:"U_7ceA"},stickyTimechunkMounted:{timeChunkPlaceHolder:"O_0"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0",listContainer:"ek_EZ"},"previewpane-2":{listContainer:"ek_BB",listPane:"d_3nV5V o_h",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ak5iz",virtualListUL:"I_Z29dUYT"},previewpaneInPixels:{listPane:"s_3s1zo d_3nV5V en_N",rightPane:"s_3AgFn d_3nV5V"},"theme-ATT":{messageScrollToTopContainerStyle:"I_Z15BeVd I4_Z2dxrGx"},"theme-FRONTIER":{messageScrollToTopContainerStyle:"I_2dK1Xc I4_Z1A0QhA"},"theme-ROGERS":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-BT":{messageScrollToTopContainerStyle:"I_Z3iqci I4_Z20SNAa"},"theme-SKY":{messageScrollToTopContainerStyle:"I_1za5gA I4_Z2dycH0"},"theme-AOL":{messageScrollToTopContainerStyle:"I_Z10nx3W I4_Zpr4hs"},"theme-AOL_HIGH_CONTRAST":{messageScrollToTopContainerStyle:"I_1PpR97 I4_Z2dxYMp"},"theme-CLASSIC":{messageScrollToTopContainerStyle:"I_1EdW4U I4_Z2dxElW"},"theme-SIMPLE":{messageScrollToTopContainerStyle:"I_1SqdyF I4_Z28RU57"},"theme-AIM":{messageScrollToTopContainerStyle:"I_2ey48h I4_Z2a4279"},"theme-AOLCOM":{messageScrollToTopContainerStyle:"I_Z1vUgyK I4_Z279QUP"},"theme-HIGH_CONTRAST":{messageScrollToTopContainerStyle:"I_Z20yP0V I4_Z2c5wna"},"theme-DEFAULT":{messageScrollToTopContainerStyle:"I_Z1owzv1 I4_Z2aVTcY"},"theme-SUNRISE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-AQUA_GREEN":{messageScrollToTopContainerStyle:"I_1dThJA I4_Z1UHURv"},"theme-AQUA_BLUE":{messageScrollToTopContainerStyle:"I_26UHLI I4_Z280Xf5"},"theme-DEEP_PURPLE":{messageScrollToTopContainerStyle:"I_ZRpDPm I4_Zwa5YI"},"theme-BLUE_NIGHT":{messageScrollToTopContainerStyle:"I_ZMqghf I4_Z21zYBA"},"theme-DARK_GREY":{messageScrollToTopContainerStyle:"I_Z1m994D I4_Z21W7Hh"},"theme-NIGHT_LANDSCAPE":{messageScrollToTopContainerStyle:"I_Z1W4Pak I4_Z1UEcsX"},"theme-ROADTRIP":{messageScrollToTopContainerStyle:"I_ZNsLcW I4_ZrkPvI"},"theme-SUNSET_AUSSIE":{messageScrollToTopContainerStyle:"I_ZNpR7F I4_ZmlXUP"},"theme-LIGHTHOUSE":{messageScrollToTopContainerStyle:"I_Zd2nN5 I4_Z1VDTK1"},"theme-SPRING":{messageScrollToTopContainerStyle:"I_164lJf I4_Z1wIHkz"},"theme-WINTER":{messageScrollToTopContainerStyle:"I_1ahNER I4_Z20xfuY"},"theme-SUMMER":{messageScrollToTopContainerStyle:"I_Z8TpBL I4_Z1rAmx3"},"theme-GALAXY":{messageScrollToTopContainerStyle:"I_pGY3q I4_Z27UHzR"},"theme-FALL":{messageScrollToTopContainerStyle:"I_ZdNJJg I4_Z1v8kyk"},"theme-WESTERN":{messageScrollToTopContainerStyle:"I_Z1gpg2 I4_Z1TFcYM"},"theme-SUNSET":{messageScrollToTopContainerStyle:"I_Z8TpBL I4_Z1rAmx3"}},_key:"Z21X0Sf"}},91696:e=>{"use strict";e.exports={className:{default:{yahooPlusBadge:"H_6FIA c1AVi7a_6LEV W_6MGW Y_689y Q_eo6 E_eo6"}},_key:"1ITSau"}},88641:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F D_F"}},_key:"Z6fPnV"}},52997:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>nt});var a=s(45697),n=s.n(a),r=s(67294),o=s(97762),i=s.n(o),l=s(99095),c=s(18685),d=(s(31280),s(70582)),_=s(87771),E=s(26),u=s(9333),m=s(76531),S=s(12055),p=s(85458),C=s(17016),A=s(53957),T=s(51892),I=s(91869);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const g=(0,s(95406).gP)(["FORM","PASSWORD"]),O="Remember: {brand} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.",D=`\n    You are about to enter a password in a form that will not be sent to {brand}!.\n    ${O}\n`,R=`\n    You are about to send information to someone other than {brand}.\n    If you do not want anyone outside of {brand} to have this information, click "Cancel" now.\n    ${O}\n`,N=(0,l.defineMessages)({warning:{id:"message_pane.warning_title",defaultMessage:"Warning"}});class L extends r.Component{constructor(...e){super(...e),h(this,"hidePasswordWarning",(e=>{this.props.onDialogClose(),e.warningShown=!0})),h(this,"submitForm",(e=>{this.props.onDialogClose(),e&&"FORM"===e.nodeName&&e.submit&&HTMLFormElement.prototype.submit.call(e)}))}shouldComponentUpdate({warningType:e,targetElement:t}){const{warningType:s,targetElement:a}=this.props;return e!==s||t!==a}render(){const{formatMessage:e}=this.context.intl,t=e(N.warning),{warningType:s,targetElement:a,onDialogClose:n}=this.props,o=r.createElement(l.FormattedMessage,{id:"message_pane.password_warning",defaultMessage:D,values:{brand:"Yahoo"}}),i=r.createElement(l.FormattedMessage,{id:"message_pane.form_warning",defaultMessage:R,values:{brand:"Yahoo"}});switch(s){case g.FORM:return r.createElement(I.Z,{title:t,message:i,onAbort:n,onConfirm:this.submitForm.bind(this,a)});case g.PASSWORD:return r.createElement(T.Z,{title:t,message:o,onAccept:this.hidePasswordWarning.bind(this,a)});default:return null}}}h(L,"contextTypes",{intl:l.intlShape.isRequired});const f=L;function M(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const P=/^\s*mailto:/i;class b extends r.Component{constructor(...e){super(...e),M(this,"state",{warningType:null}),M(this,"_isYahooUrl",(e=>{const t=document.createElement("a");t.setAttribute("href",e);const s=t.hostname;return/\.yahoo\.com$/i.test(s)})),M(this,"_handleFormWarning",(e=>{const t=e.target;if(!this._isYahooUrl(t.action))return e.preventDefault(),e.stopPropagation(),this.setState({warningType:g.FORM,targetElement:t}),!1})),M(this,"_handlePasswordWarning",(e=>{const{target:t}=e,{tagName:s,type:a,warningShown:n}=t;if("INPUT"===s&&"password"===a&&!n)return this.setState({warningType:g.PASSWORD,targetElement:t}),!1})),M(this,"handleKeyDown",(e=>{e.stopPropagation()})),M(this,"handleBodyClick",(e=>{const{decos:t}=this.props;let{target:s}=e;do{if("A"===s.nodeName){if(s.hasAttribute("ymailto")||s.href&&P.test(s.href)){e.preventDefault(),e.stopPropagation();const t=s.getAttribute("ymailto")||s.href;return void this.props.onMailtoClick(t)}if(s.hasAttribute("href"))return s.setAttribute("rel","noreferrer"),void this.props.onHrefLinkClick(s,t)}}while(s.parentElement!==this.wrapper&&(s=s.parentElement))})),M(this,"handleDialogClose",(()=>{this.setState({warningType:null,targetElement:null})}))}componentDidMount(){const e=this.messageBody;e&&(e.addEventListener("submit",this._handleFormWarning,!0),e.addEventListener("focus",this._handlePasswordWarning,!0),(0,A.qC)(e,this.props.attachments))}componentWillUnmount(){const e=this.messageBody;e&&(e.removeEventListener("submit",this._handleFormWarning,!0),e.removeEventListener("focus",this._handlePasswordWarning,!0))}render(){const{warningType:e,targetElement:t}=this.state,s=this.props.dangerouslySetInnerHTML.__html;return r.createElement("div",{className:this.props.className,onKeyDown:this.handleKeyDown,ref:e=>this.wrapper=e},e?r.createElement(f,{warningType:e,targetElement:t,onDialogClose:this.handleDialogClose}):null,r.createElement("div",{ref:e=>this.messageBody=e,onClickCapture:this.handleBodyClick,dangerouslySetInnerHTML:{__html:s}}))}}M(b,"contextTypes",{config:n().object}),M(b,"defaultProps",{className:"",onHrefLinkClick:C.NOOP,onMailtoClick:C.NOOP,attachments:[]});const y=b;var v=s(17673),F=s(48650),U=s.n(F),k=s(83034),w=s(85927),G=s(37422),H=s(13337),B=s(11282),x=s.n(B);const V=x().create("amp-viewer"),Z=e=>{var t;return"complete"===(null===(t=e.contentDocument)||void 0===t?void 0:t.readyState)?Promise.resolve():new Promise((t=>{e.addEventListener("load",(function s(){e.removeEventListener("load",s),t()}))}))},W=e=>{const{"Content-Type":t,...s}=e.headers||{};if(!(null!=t&&t.startsWith("multipart/form-data")&&e.body&&Array.isArray(e.body)&&e.body.length))return e;const a=new URLSearchParams;return e.body.forEach((e=>{Array.isArray(e)&&e.length>1&&a.append(e[0],e[1])})),{...e,body:a,headers:{...s,"Content-Type":"application/x-www-form-urlencoded"}}};var K,z;!function(e){e.Developer="0",e.User="1"}(K||(K={})),function(e){e.Unexpected="0",e.Expected="1"}(z||(z={}));const Y=async e=>({body:await e.text()}),j=e=>{const t=(new DOMParser).parseFromString(e,"text/html");return t.documentElement.setAttribute("allow-xhr-interception",""),t.documentElement.setAttribute("data-amp-autocomplete-opt-in",""),t.documentElement.setAttribute("report-errors-to-viewer",""),`<!doctype html>${t.documentElement.outerHTML}`},q=async({ampHtml:e,ampProxy:t,iframeRef:s,messagingToken:a,useProxy:n})=>{const r=null==s?void 0:s.current,o=null==r?void 0:r.contentWindow;if(!a||!r||!o)return;const{get:i,post:l}=t,c=V.feature("amp_initialization"),d=()=>Promise.resolve(),_=async(e,t)=>{V.info("amp_viewer_error",t)},E=async(e,{height:t}={})=>{var a;t&&(null===(a=s.current)||void 0===a||a.setAttribute("height",t+"px"))},u=async(e,t)=>{var s,a,n;const r=null==t||null===(s=t.originalRequest)||void 0===s?void 0:s.init,o=null==t||null===(a=t.originalRequest)||void 0===a?void 0:a.input;if(r&&o){if(o.startsWith("https://s.yimg.com/"))return(async(e,t)=>Y(await fetch(e,t)))(o,r);switch(null===(n=r.method)||void 0===n?void 0:n.toUpperCase()){case"GET":return Y(await i(o,r));case"POST":return Y(await l(o,W(r)))}}};try{await Promise.race([Z(r),(m=15e3,new Promise(((e,t)=>setTimeout((()=>t(new Error("Iframe never loaded"))),m))))]),o.postMessage({amp:j(e)},"*");const t=await H.sT.waitForHandshakeFromDocument(window,o,"null",a);return t.setDefaultHandler(d),n&&t.registerHandler("xhr",u),t.registerHandler("error",_),t.registerHandler("documentHeight",E),t.sendRequest("visibilitychange",{},!0),t}catch(S){c.logFailure(S)}var m};var X=s(94070),Q=s(51917);const J=()=>{const{guidHash:e}=(0,X.B)();return(0,r.useMemo)((()=>new Q.Z(e,G.N7x,G.Q_q)),[e])};var $=s(42655),ee=s(17901),te=s(6097),se=s(39593),ae=s.n(se),ne=s(61908);class re extends ee.Z{constructor({guid:e,userNamespace:t,...s}){super({...s,loggerName:"identity_api_client"}),this.cache=new(ae()),this.endpoint=(0,ne.U8)(t).IDENTITY_API_HOST,this.guid=e}readTpaCrumb(){const e=new te.Z(G.f2m.GET,`https://${this.endpoint}/api/v3/users/me/crumb?type=tpacrumb`);e.setHeader("Accept","application/json"),e.withCredentials=!0;const t=e.send().then((e=>e.body));return this.logRequest(t,{apiName:"readTpaCrumb",guid:this.guid}),t}cacheFirst(e,t,{maxAge:s=0}={}){let a=this.cache.get(e);return a||(a=t(),this.cache.set(e,a,s)),a}revalidate(e){this.cache.del(e)}read(e,t){switch(e){case"tpaCrumb":return this.cacheFirst(e,(()=>this.readTpaCrumb()),{maxAge:null==t?void 0:t.maxAge})}}}const oe=re,ie=()=>{const{config:e,guid:t,userNamespace:s}=(0,X.B)(),a=(0,r.useMemo)((()=>new oe({guid:t,userNamespace:s})),[t,s]),n=(0,r.useCallback)((e=>a.revalidate(e)),[a]);return{readTpaCrumb:(0,r.useCallback)((()=>a.read("tpaCrumb",{maxAge:e.tpaCrumbMaxAge})),[a,e.tpaCrumbMaxAge]),revalidate:n}},le=x().create("norrin/use_amp_proxy"),ce="amp_proxy_request",de=(e,t)=>{const s=J(),{appId:a,userNamespace:n}=(0,X.B)(),{readTpaCrumb:o,revalidate:i}=ie(),l=(0,r.useCallback)(((r,l)=>{const c=async(d,_,E=0)=>{const{crumb:u}=await o(),m={appid:a,ymreqid:s.generate(),tpaCrumb:u};de.wssid&&(m.wssid=de.wssid),d=((e,t)=>{try{const s=new URL(e);return s.searchParams.set("__amp_source_origin",t),s.toString()}catch(s){return e}})(d,t);const S=`${r}?${v.stringify(m)}`,p="readTpaCrumb",C=le.feature(ce,{apiName:p,method:l});let A;try{A=await fetch(S,{..._,credentials:"include",headers:{...null==_?void 0:_.headers,"AMP-Email-Sender":t,"X-AMP-MessageID":e,"X-AMP-Origin":n===G.Tzw.AOL?"https://mail.aol.com":"https://mail.yahoo.com","X-AMP-Partner-Connection-Info":btoa(d)},method:l,mode:"cors"})}catch(h){throw le.error("fetch_error",h),h}const T=A.headers.get("x-amp-proxy-error"),I=A.headers.get("x-amp-proxy-wssid");if(!A.ok){if(((e,t,s,a)=>{le.feature(ce,{apiName:t,errorCode:s,method:e,statusCode:a}).logFailure()})(l,p,T,A.status),400===A.status){if("10.20.12"===T&&I&&E<2)return de.wssid=I,c(d,_,E+1);if("10.20.17"===T&&E<2)return i("tpaCrumb"),c(d,_,E+1)}throw new $.Z("HttpTransport.NotOkStatusCode","Request returned with not-ok status code",{errorCode:T,statusCode:A.status})}return C.logSuccessAndLatency(),A};return c}),[a,t,e,o,i,n,s]),c=(0,r.useCallback)(l("/ampclientproxy/v1/ampGet","GET"),[l]),d=(0,r.useCallback)(l("/ampclientproxy/v1/ampPost","POST"),[l]);return(0,r.useMemo)((()=>({get:c,post:d})),[c,d])},_e=de,Ee=["autoplay 'none'","camera 'none'","encrypted-media 'none'","fullscreen 'none'","geolocation 'none'","gyroscope 'none'","magnetometer 'none'","microphone 'none'","midi 'none'","payment 'none'","speaker 'none'","sync-xhr 'none'","vr 'none'"],ue=["allow-scripts","allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-downloads"],me=(0,c.connect)(((e,{messageId:t})=>{var s;const{doesMessageIdExist:a,getMessageFromAddress:n,getSetting:r,isFeatureEnabled:o}=(0,w.selectors)(e);return{fromAddress:(null===(s=(a(t)?n(t):[])[0])||void 0===s?void 0:s.email)||"",viewerUrl:r(G.Zrf.APP_ROOT_PATH)+"/amp_viewer",isAmpProxyEnabled:o(G.ANe.AMP_PROXY)}}))((({ampHtml:e,fromAddress:t,isAmpProxyEnabled:s,messageId:a,viewerUrl:n})=>{const o=(0,r.useRef)(null),[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(),_=(0,k.Z)(U()),E=_e(a,t);if((0,r.useEffect)((()=>{const e=new Uint8Array(32);window.crypto.getRandomValues(e);const t=String.fromCharCode.apply(null,Array.from(e));d(btoa(t)),l(window.location.origin)}),[]),(0,r.useEffect)((()=>{const t=q({ampHtml:e,iframeRef:o,ampProxy:E,messagingToken:c,useProxy:s});return()=>{(async e=>{const t=await e;t&&(t.unregisterHandler("documentHeight"),t.unregisterHandler("xhr"),t.unregisterHandler("error"))})(t)}}),[e,o,s,E,c]),!c)return null;const u={messagingToken:c,origin:i},m=["errorReporter"];s&&m.push("xhrInterceptor"),u.cap=m.join(",");const S=`${n}#${v.stringify(u,"&")}`;return r.createElement("div",null,r.createElement("iframe",{className:_.iframe,ref:o,src:S,"data-test-id":"amp-iframe-page",allow:Ee.join("; "),sandbox:ue.join(" "),scrolling:"no"}))}));var Se=s(76223),pe=s.n(Se),Ce=s(50512),Ae=s.n(Ce),Te=s(67498),Ie=s(28182),he=s(43007);const ge=pe()(Ae()),Oe=(0,l.defineMessages)({blockedImageMessageTitle:{id:"blocked_image_banner.message",defaultMessage:"This message contains blocked images."},blockedLinkAndImageMessageTitle:{id:"blocked_link_and_image_banner.message",defaultMessage:"For your security we disabled all images and links in this email. If you believe it is safe to use, mark this message as not spam."},blockedLinksMessageTitle:{id:"blocked_link_banner.message",defaultMessage:"For your security we disabled links in this email. If you believe it is safe to use, mark this message as not spam."}}),De=({isSpamFolder:e,hasAnchorLinks:t,hasBlockedImages:s,onShowImages:a,onChangeImageSetting:n},{intl:o})=>{const i=o.formatMessage(((e,t,s=!1)=>{const a=Oe.blockedImageMessageTitle;return s?e&&t?Oe.blockedLinkAndImageMessageTitle:e?Oe.blockedLinksMessageTitle:a:a})(t,s,e));return r.createElement("div",{className:ge.container,"data-test-id":"blocked-image-banner"},r.createElement(he.Z,{size:m.Sizes.XS,kind:m.Kinds.EXCLAMATION_ALT,colorState:m.ColorStates.WARNING_GRAD_RED}),r.createElement("div",{title:i,className:ge.message},r.createElement("span",null,i),r.createElement("span",{className:ge.buttonsContent},s?r.createElement(Te.Z,{kind:Ie.F.CHROMELESS,onClick:a},r.createElement("span",{"data-test-id":"show-image-button",className:ge.button},r.createElement(l.FormattedMessage,{id:"blocked_image_banner.show_images",defaultMessage:"Show images"}))):null,e?null:r.createElement("div",null,r.createElement(l.FormattedMessage,{id:"blocked_image_banner.or_text",defaultMessage:"or"}),r.createElement(Te.Z,{kind:Ie.F.CHROMELESS,onClick:n},r.createElement("span",{"data-test-id":"always-show-image-button",className:ge.button},r.createElement(l.FormattedMessage,{id:"blocked_image_banner.change_setting",defaultMessage:"Always show images"})))))))};De.defaultProps={hasBlockedImages:!0},De.contextTypes={intl:l.intlShape.isRequired};const Re=De;var Ne=s(3405);const Le=pe()(Ae()),fe=e=>{e({route:(0,Ne.Tx)({settingsGroupId:G.u5h.VIEWING_EMAIL})})},Me=(e,{navigateTo:t})=>r.createElement("div",{className:Le.container,"data-test-id":"pac-notification-banner"},r.createElement(he.Z,{size:m.Sizes.XS,kind:m.Kinds.TRUSTED,colorState:m.ColorStates.SUCCESS}),r.createElement("p",{className:Le.message},r.createElement(l.FormattedMessage,{id:"externalImage.message",defaultMessage:"External images are now more secure, and shown by default."})),"Â ",r.createElement(Te.Z,{"data-test-id":"change-settings-button",kind:Ie.F.CHROMELESS,onClick:fe.bind(null,t)},r.createElement("span",{className:Le.primaryButton},r.createElement(l.FormattedMessage,{id:"externalImage.change_accept",defaultMessage:"Change in Settings"}))));Me.contextTypes={navigateTo:n().func.isRequired};const Pe=Me;class be extends r.Component{render(){const{showPACNotification:e,hasInlineImage:t,isSpamFolder:s,onShowImages:a,hasBlockedImages:n,hasAnchorLinks:o,onChangeImageSetting:i}=this.props;return n||s&&o?r.createElement(Re,{onShowImages:a,isSpamFolder:s,hasBlockedImages:n,hasAnchorLinks:o,onChangeImageSetting:i}):e&&t&&!s?r.createElement(Pe,{onChangeImageSetting:i}):null}}const ye=(0,c.connect)(((e,{messageId:t,isSpamFolder:s})=>{const{isFeatureEnabled:a,getMessageBodiesSelectors:n}=(0,w.selectors)(e),{hasInlineImage:r,hasAnchorLinks:o}=n(),i=!a(G.Zrf.SHOW_IMAGES),l=a(G.ANe.INLINE_IMAGES_PROXIED);return{showPACNotification:!!i&&l,hasInlineImage:r(t),hasAnchorLinks:s&&o(t)}}))(be);var ve=s(24402),Fe=s.n(ve),Ue=s(15632);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const we=(0,l.defineMessages)({helpLink:{id:"mobile.security_alert_reply_to.help_link",defaultMessage:"Link to information on Additional Security Features in Yahoo Mail"}}),Ge=(e,{intl:t,partner:s})=>{const{formatMessage:a,locale:n}=t,o=(0,Ue.Lz)("SLN29297")(n,s);return o?r.createElement("a",ke({href:o,target:"_blank","aria-label":a(we.helpLink)},e),r.createElement(he.Z,{size:m.Sizes.XS,kind:m.Kinds.CAL_MAYBE,colorState:m.ColorStates.FIRST_LEVEL_GRAY})):null};Ge.contextTypes={intl:l.intlShape.isRequired,partner:n().string.isRequired};const He=Ge;var Be=s(7426);const xe=(0,l.defineMessages)({phishingTitle:{id:"phishing_banner.title",defaultMessage:"Be careful with this message"},spamTitle:{id:"spam_indicator.title_in_spam",defaultMessage:"Why is this message in Spam?"},spamInInboxTitle:{id:"spam_indicator.title_in_inbox",defaultMessage:"Why is this message in your Inbox?"},phishingSubtitle:{id:"phishing_banner.subtitle",defaultMessage:"This message could be used to steal your personal information. Avoid clicking links, downloading attachments or replying with personal details."},phishingReport:{id:"phishing_banner.report",defaultMessage:"Report this message"},isSafe:{id:"phishing_banner.safe",defaultMessage:"It's safe"},notSpam:{id:"spam_indicator.notSpam",defaultMessage:"It's not spam"},removeSdrAndSpam:{id:"spam_indicator.removeSdrAndSpam",defaultMessage:"Remove sender and mark as spam"},spamSubtitleSenderInUserAddressBook:{id:"spam_indicator.subtitle_SenderInUserAddressBook",defaultMessage:"We think this message is spam. We still put it into your Inbox as the sender is in your contact list. You can mark this message as safe or remove the sender."},spamSubtitlePotentialSpam:{id:"spam_indicator.subtitle_PotentialSpam",defaultMessage:"We believe this message is spam as it is similar to messages marked as spam by other users."},spamSubtitleSpamMarkedByUser:{id:"spam_indicator.subtitle_SpamMarkedByUser",defaultMessage:"We believe this message is spam as you marked previous messages from the same sender as spam. If you want to receive future messages from this sender, please mark it as 'Not Spam'."},spamSubtitlePotentialPhishing:{id:"spam_indicator.subtitle_PotentialPhishing",defaultMessage:"We believe this message is dangerous. Similar messages have been used to steal other users' personal information. Avoid clicking links, downloading attachments or replying with personal details."}}),Ve=({onMount:e,onMarkAsSpam:t,onMarkAsNotSpam:s,isSpamFolder:a,spamReason:n="",showSpamIndicator:o})=>{(0,r.useEffect)(e,[e]);let i=xe.phishingTitle,l=xe.phishingSubtitle,c=!1,d=xe.phishingReport;const _=(0,k.Z)(Fe()),{formatMessage:E}=(0,Be.Y)();if(o)switch(a&&(c=!0,i=xe.spamTitle),n){case G.DBG.SenderInUserAddressBook:i=xe.spamInInboxTitle,l=xe.spamSubtitleSenderInUserAddressBook,d=xe.removeSdrAndSpam;break;case G.DBG.PotentialSpam:l=xe.spamSubtitlePotentialSpam,d=xe.notSpam;break;case G.DBG.SpamMarkedByUser:l=xe.spamSubtitleSpamMarkedByUser,d=xe.notSpam;break;case G.DBG.PotentialPhishing:l=xe.spamSubtitlePotentialPhishing,d=xe.isSafe}return r.createElement("div",{className:_.container,"data-test-id":"phishing-banner-spam-indicator"},r.createElement(he.Z,{size:m.Sizes.XS,kind:m.Kinds.EXCLAMATION_ALT,colorState:m.ColorStates.WARNING}),r.createElement("div",{className:_.content},r.createElement("div",{className:_.title},E(i)),r.createElement("div",{className:_.message},E(l)),r.createElement("div",{className:_.buttons},c?r.createElement(Te.Z,{kind:Ie.F.SECONDARY,overridingClass:_.notSpamButton,onClick:s,"data-test-id":"spamIndicator-notSpam-button"},E(d)):r.createElement(r.Fragment,null,!a&&r.createElement(Te.Z,{kind:Ie.F.DANGER,overridingClass:_.reportButton,onClick:t,"data-test-id":"phishing-report-button"},E(d)),r.createElement(Te.Z,{kind:Ie.F.SECONDARY_BORDERLESS,overridingClass:_.safeButton,onClick:s,"data-test-id":"phishing-safe-button"},E(xe.isSafe))))),r.createElement(He,null))};var Ze=s(20292),We=s(53185),Ke=s.n(We),ze=s(92559),Ye=s(73924),je=s(91742),qe=s(31057),Xe=s(79483),Qe=s(8106),Je=s(81660),$e=s(55636);function et(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const tt=(0,l.defineMessages)({hideQuote:{id:"hide_quote",defaultMessage:"Hide original message"},download:{id:"inline_image_download",defaultMessage:"Download"},showQuote:{id:"show_quote",defaultMessage:"Show original message"},messageClipped:{id:"message_clipped_label",defaultMessage:"This message was clipped due to its size."},showFullMessage:{id:"show_full_message",defaultMessage:"Show full message."}}),st=i().renderToStaticMarkup(r.createElement("div",null,r.createElement(E.Z,null)));class at extends r.Component{constructor(...e){super(...e),et(this,"state",{quoteExpanded:this.props.quoteExpanded||!1,mounted:!1}),et(this,"lazyLoadImgAnalysis",{decos:this.props.decos,senderDomain:(0,C.destructEmailAddressParts)(this.props.sender).domainPart,lazyImgRequestedAtRender:0,lazyImgLoadedPostRender:0,lazyImgRequestedError:0,hasScrolled:-1,hasBodyChanged:!1,hasQuoteExpanded:!1}),et(this,"handleInlineImageDownload",(e=>{const{attachments:t,downloadAttachment:s}=this.props,a=null==t?void 0:t.find((({id:t})=>t===e));a&&s({attachment:a,i13nModel:{sec:ze.nJ.MSG_BODY,mKey:ze.JE.INLINE_IMAGE_DOWNLOAD,mKeyGroup:ze.rO.dwnldAttmnt,interactionType:ze.Rb.CLICK}})})),et(this,"handleInlineImagePreview",(e=>{var t;const{listId:s,attachments:a,groupId:n,isMessageInPreviewPane:r}=this.props,o=r?{messagePreview:"1"}:{},i=(null==a||null===(t=a.find((({id:t})=>t===e)))||void 0===t?void 0:t.id)||e;this.context.navigateTo({route:(0,Ne.Sk)(s,n,i,o),i13nModel:{sec:ze.nJ.MSG_BODY,mKey:ze.JE.INLINE_IMAGE_PREVIEW,interactionType:ze.Rb.CLICK}})})),et(this,"_convertInlineImageAttchments",((e=[])=>{const t=e.filter((({image:e})=>e.classList.contains("preview")));if(0===t.length)return;const s=t.map((({image:e,attachmentId:t,partId:s})=>({id:t,filename:e.src,downloadUrl:e.src,type:G.sSc.Types.IMAGE,disposition:G.sSc.Dispositions.INLINE,partId:s}))),{messageId:a,createInlineImageAttchments:n}=this.props;n({msgId:a,attachments:s})})),et(this,"_onPreviewHandler",(e=>{const t=e.target,{externalInlineImagePreviewEnabled:s}=this.props;if("IMG"===t.nodeName&&t.classList.contains("preview")){let e;if(s){const s=this.inlineImages.filter((({image:{complete:e,naturalWidth:t}})=>e&&t));this._convertInlineImageAttchments(s),this.inlineImages.filter((({image:e})=>!e.complete)).forEach((e=>e.image.addEventListener("load",(()=>this._convertInlineImageAttchments([e]))))),e=t.dataset.attachmentId}else e=(0,A.zM)(t&&t.src);e&&this.handleInlineImagePreview(e)}})),et(this,"updateOnScroll",(()=>{var e;(this.lazyLoadImgAnalysis.hasScrolled++,this.lazyLoadImgAnalysis.hasScrolled>=1)&&(null===(e=document.querySelector('[data-test-id="message-group-view-scroller"]'))||void 0===e||e.removeEventListener("scroll",this.updateOnScroll))})),et(this,"updateOnLazyImgStats",(e=>{switch(e.type){case"load":this.lazyLoadImgAnalysis.lazyImgLoadedPostRender++;break;case"error":this.lazyLoadImgAnalysis.lazyImgRequestedError++}e.target.removeEventListener("load",this.updateOnLazyImgStats),e.target.removeEventListener("error",this.updateOnLazyImgStats)})),et(this,"instrumentLazyImages",(()=>{var e,t;this.lazyLoadImgAnalysis={...this.lazyLoadImgAnalysis,lazyImgRequestedAtRender:0,lazyImgLoadedPostRender:0,lazyImgRequestedError:0};const s=(null===(e=this.messageBody)||void 0===e?void 0:e.querySelectorAll('[loading="lazy"]'))||[],a=(null===(t=this.messageBody)||void 0===t?void 0:t.querySelectorAll("img"))||[];this.lazyLoadImgAnalysis.imgCanBeLazyLoadCount=s.length,this.lazyLoadImgAnalysis.totalImgCount=a.length,Array.from(s).forEach((e=>{e.complete?this.lazyLoadImgAnalysis.lazyImgRequestedAtRender++:(e.addEventListener("load",this.updateOnLazyImgStats),e.addEventListener("error",this.updateOnLazyImgStats))}))})),et(this,"overrideCssRules",(()=>{var e;const t=null===(e=this.messageBody)||void 0===e?void 0:e.querySelector(".msg-body div[id]");if(!(t&&"none"===getComputedStyle(t).display))return;const s=t&&t.id;if(!s)return;const a=document.createElement("style");a.id="Norrin-27400-yivContentId-overrides",a.textContent=`#${s} {display: block !important;}`,document.head.appendChild(a)})),et(this,"_processInlineImages",(()=>{const{fixImgSrcURL:e,groupId:t,messageId:s,multipleCardsInGroup:a,logVisibilityStat:n,externalInlineImagePreviewEnabled:r}=this.props;this.inlineImages=(0,A.uj)({component:this,element:this.messageBody,shouldFixSrcURL:e,onDownload:this.handleInlineImageDownload,downloadTitle:this.context.intl.formatMessage(tt.download),logVisibilityStat:e=>n({groupId:t,messageId:s,...e,multipleCardsInGroup:a}),msgId:s,externalInlineImagePreviewEnabled:r})})),et(this,"toggleQuote",(e=>{e.preventDefault(),e.stopPropagation();const{quoteExpanded:t}=this.state,{onShowQuotedText:s,isSecure:a,hasFullBody:n}=this.props;return t||n||s({full:!0,secure:a}),this.setState({quoteExpanded:!t}),!1})),et(this,"highlightKeywordInContent",(e=>{const{keyword:t}=this.props,s=pe()(Ke());if(!t)return e;const a=(0,Qe.jU)()?performance.now():0,n=(0,Je.$E)(e,t,s.highlightKeyword),r=((0,Qe.jU)()?performance.now():0)-a;return r>0&&Xe.ZP.sendI13nModel({i13nModel:{mKey:ze.JE.HIGHLIGHT_SRP_OPEN_MSG,sec:ze.nJ.MSG_LIST_MSG,interactionType:ze.Rb.view,actionData:{highlightKeywordLatency:(0,Qe.jU)()?r.toFixed(3):"",messageCharCount:e.length,numOfKeywords:t.split(" ").length,keywordCountFoundInMsg:(0,$e.B_)(e,t)}}}),n})),et(this,"renderBodyContent",((e,t="")=>{const{onHrefLinkClick:s,onMailtoClick:a,decos:n,highlightSearchResultsPage:o}=this.props;return r.createElement(y,{className:t,dangerouslySetInnerHTML:{__html:o?this.highlightKeywordInContent(e):e},onHrefLinkClick:s,onMailtoClick:a,attachments:this.props.attachments,decos:n})})),et(this,"_areImagesBlocked",(({htmlAnnotations:e=[]})=>e.some((({type:e})=>"blocked"===e)))),et(this,"onLinkEnhancerUtilsLoad",(({enhanceCardsInTree:e})=>{this.enhanceCardsInTree=e,this.enhanceCards()})),et(this,"enhanceCards",(()=>{const{onShareCard:e,onShareCardLinkClick:t,videoPlayerEnabled:s}=this.props,{formatMessage:a}=this.context.intl;return!!this.enhanceCardsInTree&&(this.enhanceCardsInTree({tree:this.messageBody,component:this,onShareCard:e,onShareCardLinkClick:t,formatMessage:a,videoPlayerEnabled:s}),!0)})),et(this,"handleSpam",(e=>{const{messageId:t,moveToSpam:s,spamReason:a,deleteContact:n,contactId:r,removeSpamSchema:o,showSpamIndicator:i}=this.props,l=i?{mKey:ze.JE.SPAM_INDICATOR_SPAM,sec:ze.nJ.SPAM_INDICATOR,actionData:{spamReason:a}}:{mKey:ze.JE.PHISHING_BANNER_SPAM,sec:ze.nJ.PHISHING_BANNER};s({messageIds:[t],triageActionType:G.Ewo.SPAM_SELECTED_ITEMS,i13nModel:{...l,mKeyGroup:ze.rO.markSpam,interactionType:(0,C.getInteractionFromEvent)(e)}}),i&&a===G.DBG.SenderInUserAddressBook&&(n({streamItem:{id:r,streamId:(0,qe.uh)(G.ukn.USER_CREATED_CONTACTS,"")}}),o({messageId:t,spamReasonToRemove:a}))})),et(this,"handleNotSpam",(e=>{const{messageId:t,removePhishingDeco:s,isSpamFolder:a,moveToInbox:n,removeSpamSchema:r,showPhishingBanner:o,showSpamIndicator:i,spamReason:l}=this.props;o&&s({messageId:t,i13nModel:{mKey:ze.JE.PHISHING_BANNER_NOT_SPAM,sec:ze.nJ.PHISHING_BANNER,mKeyGroup:ze.rO.markUnspam,interactionType:(0,C.getInteractionFromEvent)(e)}}),i&&(Xe.ZP.sendI13nModel({i13nModel:{mKey:ze.JE.SPAM_INDICATOR_NOT_SPAM,sec:ze.nJ.SPAM_INDICATOR,interactionType:(0,C.getInteractionFromEvent)(e),actionData:{spamReason:l}}}),l===G.DBG.SenderInUserAddressBook&&n({messageIds:[t],isAffected:!0,isHamMove:!0}),r({messageId:t,spamReasonToRemove:l})),a&&n({messageIds:[t],triageActionType:G.Ewo.NOT_SPAM_SELECTED_ITEMS})})),et(this,"handlePhishingBannerMount",(()=>{const{phishingBannerMounted:e,showPhishingBanner:t,spamReason:s}=this.props;e({i13nModel:t?{mKey:ze.JE.PHISHING_BANNER_SHOWN,sec:ze.nJ.PHISHING_BANNER}:{mKey:ze.JE.SPAM_INDICATOR_SHOWN,sec:ze.nJ.SPAM_INDICATOR,actionData:{spamReason:s}}})})),et(this,"applyLazyLoadingOnImgs",(e=>{if(e&&"function"==typeof DOMParser){const{imgCountThreshold:t,lazyLoadRatio:s}=this.props.lazyLoadingEmailImgConfig,a=(new DOMParser).parseFromString(e,"text/html"),n=Array.from(a.querySelectorAll("img")).filter((e=>e.src)),r=n.length;if(r>+t)for(let e=Math.ceil(r*(1-+s));e<r;e++)(n[e].width>1||n[e].height>1||0===n[e].width&&0===n[e].height)&&n[e].setAttribute("loading","lazy");e=a.documentElement.outerHTML,this.lazyLoadImgAnalysis.imgInMsgAboveCount=r}return e}))}componentDidMount(){var e;(this.setState({mounted:!0}),this.props.isSpamFolder&&this.messageBody&&(0,Ze.pP)(this.messageBody),this.messageBody&&(this._processInlineImages(),this.messageBody.addEventListener("click",this._onPreviewHandler)),(0,Qe.jU)()&&this.props.lazyLoadingEmailImgEnabled&&this.messageBody)&&(null===(e=document.querySelector('[data-test-id="message-group-view-scroller"]'))||void 0===e||e.addEventListener("scroll",this.updateOnScroll,!1),this.instrumentLazyImages());this.overrideCssRules()}componentWillUnmount(){if(this.messageBody&&this.messageBody.removeEventListener("click",this._onPreviewHandler),(0,Qe.jU)()&&this.props.lazyLoadingEmailImgEnabled){var e,t;null===(e=document.querySelector('[data-test-id="message-group-view-scroller"]'))||void 0===e||e.removeEventListener("scroll",this.updateOnScroll);const s=(null===(t=this.messageBody)||void 0===t?void 0:t.querySelectorAll('[loading="lazy"]'))||[];Array.from(s).forEach((e=>{e.removeEventListener("load",this.updateOnLazyImgStats),e.removeEventListener("error",this.updateOnLazyImgStats)}));const{lazyImgRequestedAtRender:a,lazyImgLoadedPostRender:n,imgCanBeLazyLoadCount:r,lazyImgRequestedError:o}=this.lazyLoadImgAnalysis;this.lazyLoadImgAnalysis.lazyImgNotRequested=r-(a+n+o),Xe.ZP.sendI13nModel({i13nModel:{mKey:ze.JE.LAZY_LOAD_EMAIL_IMG,sec:ze.nJ.MSG_BODY,interactionType:ze.Rb.view,actionData:{...this.lazyLoadImgAnalysis}}})}}componentDidUpdate(e,t){const s=this.props.body.html!==e.body.html;(s||this.state.quoteExpanded!==t.quoteExpanded)&&this.enhanceCards(),s&&this.props.isSpamFolder&&this.messageBody&&(0,Ze.pP)(this.messageBody),(s||!t.quoteExpanded&&this.state.quoteExpanded)&&this._processInlineImages(),this.props.lazyLoadingEmailImgEnabled&&(!t.quoteExpanded&&this.state.quoteExpanded?(this.lazyLoadImgAnalysis.hasQuoteExpanded=!0,this.instrumentLazyImages()):s&&(this.lazyLoadImgAnalysis.hasBodyChanged=!0,this.instrumentLazyImages()))}render(){const{quoteExpanded:e}=this.state,{onShowImages:t,onChangeImageSetting:a,renderAttachments:n,removeCollapseButton:o,body:i,hasFullBody:l,isSpamFolder:c,showPhishingBanner:E,showSpamIndicator:S,printView:p,messageId:C,ampEnabled:A,spamReason:T,lazyLoadingEmailImgEnabled:I}=this.props,h=pe()(Ke(),{printView:p}),g=!!this.props.linkEnhancerEnabled,O=(0,d.EL)(i.html,i.htmlAnnotations,e);let{messageAbove:D,messageBelow:R}=O;const{expandable:N,truncated:L}=O,{intl:{formatMessage:f}}=this.context,M=f(e?tt.hideQuote:tt.showQuote),P=h.leftRightPadding;I&&(D=this.applyLazyLoadingOnImgs(D)),!l&&e&&(R=st);const b=this._areImagesBlocked(i),y=A&&(null==i?void 0:i.amp);return r.createElement("div",{"data-test-id":"message-view-body",className:h.messageViewBody},r.createElement("div",{className:h.blockedImageBanner},r.createElement(ye,{messageId:C,isSpamFolder:c,hasBlockedImages:b,onChangeImageSetting:a,onShowImages:t.bind(null,{secure:!1,full:l})})),(E||S)&&r.createElement("div",{className:h.phishingBanner},r.createElement(Ve,{onMount:this.handlePhishingBannerMount,onMarkAsSpam:this.handleSpam,onMarkAsNotSpam:this.handleNotSpam,isSpamFolder:c,showSpamIndicator:S,spamReason:T})),r.createElement("div",{ref:e=>this.messageBody=e,className:"msg-body "+h.bodyContainer,"data-test-id":"message-view-body-content"},y?r.createElement(me,{ampHtml:i.amp,messageId:C}):this.renderBodyContent(D,P),!o&&N&&(()=>N?L?r.createElement("div",{className:P},f(tt.messageClipped)," ",r.createElement("a",{href:"#",onClick:this.toggleQuote,className:h.showFullMessageLinkText,"data-test-id":"show-full-message-link"},f(tt.showFullMessage))):r.createElement("div",{className:P},r.createElement(u.default,{"data-norrin-quoted-button":!0,className:h.button,kind:m.Kinds.CHEVRON_UP,size:m.Sizes.XS,rotate:e?m.Rotate.D180:m.Rotate.D90,colorState:m.ColorStates.DISABLED,title:M,onClick:this.toggleQuote},M)):null)(),""!==R&&!y&&r.createElement("div",{className:P},this.renderBodyContent(R))),n?r.createElement("div",{className:P},n()):null,g?r.createElement(_.cr,{import:"../../../platform/link_enhancer/utils_loader",onLoad:this.onLinkEnhancerUtilsLoad,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,63678))},_moduleResolver:function(){return 63678}}):null)}}et(at,"contextTypes",{intl:l.intlShape.isRequired,navigateTo:n().func}),et(at,"defaultProps",{onShowImages:C.NOOP,onShowQuotedText:C.NOOP,onChangeImageSetting:C.NOOP,downloadAttachment:C.NOOP,logVisibilityStat:C.NOOP,deleteContact:C.NOOP});const nt=(0,c.connect)(((e,t)=>{var s;const{doesComposeSessionExist:a,doesMessageBodyExist:n,findUnsyncedDataByCsid:r,getContactListSelectors:o,getFeaturesSelectors:i,getFoldersSelectors:l,getMessageBodiesSelectors:c,getMessageIdsFromMessageGroupId:d,getMessagesSelectors:_,getRoute:E,getSetting:u,isSendRequested:m}=(0,w.selectors)(e);let S;const p=E(),{csid:C,folderId:A,messageId:T,groupId:I}=t,{isSpamFolder:h}=l(),{isEnabled:g}=i(),{doesMessageIdExist:O,hasPhishingDeco:D,getFromAddresses:R,getDecos:N,getSpamReason:L}=_(),f=c(),M=g(G.ANe.CONVERSATIONS),P=g(G.ANe.FIX_IMG_SRC),b=!M||f.hasFullBody(T),y=f.isSecureMessage(T),v=g("linkEnhancer"),F=d(I).length>1,U=p.query.messagePreview||u(G.Zrf.PREVIEW_PANE)!==G.EsZ.NO,k=u(G.Zrf.AMP_EMAIL),H=g(G.ANe.LAZY_LOADING_EMAIL_IMG),B=u(G.Zrf.LAZY_LOADING_EMAIL_IMG_CONFIG),x=g(G.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW),V=g(G.ANe.VIDEO_PLAYER_IN_ENHANCED_CARD),Z=g(G.ANe.SPAM_INDICATOR),{getContactByEmail:W,getContactIdByEmail:K,isUserAddedContact:z}=o(),Y=O(T)&&R(T),j=(null==Y||null===(s=Y[0])||void 0===s?void 0:s.email)||"",q=W(j),X=N(T),Q=K(j),J=h(A),$=Z&&L(T,J)||"",ee=D(T)&&!F,te=Z&&!ee&&!F&&!!G.DBG[$]&&($===G.DBG.SenderInUserAddressBook&&!J&&z(Q)||$!==G.DBG.SenderInUserAddressBook&&J),se=(0,qe.LY)(p);if(C&&a(C)&&m(C)){const{html:e,htmlAnnotations:t}=r(C)||{};S={html:e,htmlAnnotations:t}}else S=n(T)?f.get(T):{};return{body:S,isSecure:y,ampEnabled:k,lazyLoadingEmailImgEnabled:H,lazyLoadingEmailImgConfig:B,hasFullBody:b,fixImgSrcURL:P,linkEnhancerEnabled:v,multipleCardsInGroup:F,isMessageInPreviewPane:U,isSpamFolder:J,showPhishingBanner:ee,showSpamIndicator:te,externalInlineImagePreviewEnabled:x,videoPlayerEnabled:V,decos:X,sender:j,isBusiness:null==q?void 0:q.isBusiness,spamReason:$,contactId:Q,highlightSearchResultsPage:g(G.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),keyword:(0,qe.Q7)(se)||""}}),(e=>({phishingBannerMounted:t=>e((0,S.OA)(t)),removePhishingDeco:t=>e((0,S.lK)(t)),moveToSpam:t=>e((0,p.Ke)(t)),downloadAttachment:t=>e((0,Ye.Ve)(t)),moveToInbox:t=>e((0,p.x0)(t)),createInlineImageAttchments:t=>e((0,Ye.ok)(t)),deleteContact:t=>e((0,je.GK)(t)),removeSpamSchema:t=>e((0,S.Tw)(t))})))(at)},45282:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>ce});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(99095),l=(s(31280),s(54733)),c=s(9333),d=s(34866),_=s(19341),E=s(33364);function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const m=s(67294),S=s(66406),p=s(76223),C=(0,i.defineMessages)({and_x_more_recipients:{id:"address.field.and_x_more_recipients",defaultMessage:"and {numNonVisibleAddresses} more..."},hide_recipients:{id:"address.field.hide_recipients",defaultMessage:"Hide"}});class A extends m.Component{constructor(...e){super(...e),u(this,"state",{opened:!1}),u(this,"handleToggle",(e=>{e.preventDefault(),e.stopPropagation(),this.setState({opened:!this.state.opened})}))}render(){const{addresses:e,popoverZIndex:t,isTomRestructuredElementsEnabled:s=!1,showEmailFirst:a=!1,hasBimiFeature:n=!1}=this.props,r=p(S,{isTomRestructuredElementsEnabled:s,hasBimiFeature:n}),{formatMessage:o}=this.context.intl,i=this.state.opened?e.length:5;var l=[m.createElement("span",{key:"label-"+this.props.label,className:r.label},this.props.label)];if(e.slice(0,i).forEach((({name:e,email:s},n,o)=>{l.push(m.createElement(E.default,{key:s,isCompose:!1,email:s,name:e,popoverZIndex:t},m.createElement("span",{className:r.email,key:n,title:s,"data-test-id":"message-to"},a?s||e:e||s))),n<o.length-1&&l.push(m.createElement("span",{key:n+"-sep",className:r.separator},","))})),e.length>i){const t=e.length-5;l.push(m.createElement("button",{key:"and-more","data-test-id":"and-more",onClick:this.handleToggle,className:r.button},o(C.and_x_more_recipients,{numNonVisibleAddresses:t})))}else this.state.opened&&l.push(m.createElement("button",{key:"and-more-hide","data-test-id":"and-more-hide",onClick:this.handleToggle,className:r.button},o(C.hide_recipients)));return m.createElement("div",{className:r.container},l)}}u(A,"contextTypes",{intl:i.intlShape});const T=A;var I=s(81660),h=s(76223),g=s.n(h),O=s(58014),D=s.n(O),R=s(85927),N=s(37422),L=s(10728),f=s(41546),M=s(8106),P=s(45481),b=s(92559),y=s(95406),v=s(17016),F=s(76531),U=s(43007),k=s(78263),w=s(87771),G=s(20292),H=s(79483),B=s(46229),x=s(18091),V=s(30198),Z=s.n(V),W=s(94070),K=s(83034);n().bool,n().bool;const z=({isCertifiedDomain:e,isOfficialDomain:t})=>{const{yahooBrandNameString:s}=(0,W.B)(),a=(0,K.Z)(Z());if(!e&&!t)return null;const n=e?N.CUo:N.n_g;return r.createElement("div",{className:a.banner},r.createElement("div",{className:a.badgeBar},r.createElement("span",{className:a.badge},e?r.createElement(U.Z,{kind:F.Kinds.TRUSTED,size:F.Sizes.XXS,colorState:F.ColorStates.SUCCESS}):r.createElement(U.Z,{kind:F.Kinds.AOL_OFFICIAL,size:F.Sizes.XXS,colorState:F.ColorStates.DARK})),r.createElement(i.FormattedMessage,{id:"mail_banner.label",defaultMessage:"{yahooBrandNameString} {isCertifiedDomain, select, true {Certified} other {Official}} Mail",values:{isCertifiedDomain:e,yahooBrandNameString:s}})),r.createElement("span",{className:a.bannerDescription},r.createElement(i.FormattedMessage,{id:"mail_banner.description",defaultMessage:"This is {isCertifiedDomain, select,  true {a certified email} other {an official email from {yahooBrandNameString}}}. {learnMoreLink}",values:{learnMoreLink:r.createElement("a",{className:a.link,href:n,onKeyDown:e=>e.key===N.R8U.ENTER&&e.stopPropagation(),target:"_blank"},r.createElement(i.FormattedMessage,{id:"mail_banner.learn_more",defaultMessage:"Learn more"})),isCertifiedDomain:e,yahooBrandNameString:s}})))};var Y=s(35532),j=s.n(Y);const q=(0,f.A)("/img/verified_sender_yahoo.png"),X=(0,f.A)("/img/verified_sender_aol.png"),Q=({alt:e="",size:t=20,hasBounceAnimation:s=!1,hasFadeAnimation:a=!0,hasInitialPadding:n=!1})=>{const{partner:o}=(0,W.B)(),i=o===N.Ql2.AOL,l=(0,K.Z)(j(),{hasFadeAnimation:a,hasBounceAnimation:s,hasInitialPadding:n});return q||X?r.createElement("span",{"data-test-id":"verified_icon",className:l.verifiedLogo},r.createElement("img",{"data-test-id":"verfied-icon-image",alt:e,src:i?X:q,width:t,height:t})):null};var J=s(81732);const $=({photoSource:e,children:t,unverifiedContent:s})=>(0,J.v9)((t=>(0,R.selectors)(t).hasBimiPhotoSource(e)))?r.createElement(r.Fragment,null,t):r.createElement(r.Fragment,null,s);var ee=s(15632),te=s(64059);function se({children:e}){const{folderId:t}=(0,J.v9)((e=>(0,R.selectors)(e).getCurrentFolderDetails()));return(0,J.v9)((e=>(0,R.selectors)(e).isSpamFolder(t)))?null:r.createElement(r.Fragment,null,e)}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function ne(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const re=()=>{},oe=(0,i.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},message_from:{id:"message_from",defaultMessage:"From:"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_header_count_label:{id:"message_header_count_label",defaultMessage:"Message {idx} of {totalMessages}"},message_header_label:{id:"message_header_label",defaultMessage:"Message"},message_has_attachment:{id:"message_has_attachment",defaultMessage:"Message has {attachmentCount, plural, =1 {an attachment} other {attachments}}"},header_print_message:{id:"header_print_message",defaultMessage:"Print"},sponsoredByViglinkMessageRead:{id:"viglink.sponsored_by_viglink_message_read",defaultMessage:"Sponsored link by Viglink"},verified_sender:{id:"verified_sender",defaultMessage:"Verified Sender"},bimi_verified_sender:{id:"bimi_verified_sender",defaultMessage:"Sender verified by {mailBrandNameString}"}}),ie={NAME:"name",VISIT_SITE:"visit_site",BIMI_LINK:"bimi_link"};class le extends r.Component{constructor(e){super(e),ne(this,"handleToggleDescription",(e=>{e.stopPropagation();const t=b.JE.BIMI_EXPERIMENT;this.setState((e=>({...e,showDescription:!(null!=e&&e.showDescription)})),(()=>{const e={clickedOpen:!0===this.state.showDescription,clickedClosed:!1===this.state.showDescription,showDescription:this.state.showDescription};H.ZP.sendI13nModel({i13nModel:{mKey:t,sec:b.nJ.MSG_BODY,actionData:e}})}))})),ne(this,"handleBimiHelpClick",(e=>{e.preventDefault(),(0,te.x)(this.props.bimiHelpUrl)})),ne(this,"handleStarClick",(e=>{e.stopPropagation();const t={interactionType:(0,v.getInteractionFromEvent)(e)};this.props.onToggleStar({i13nModel:t})})),ne(this,"handlePrintClick",(e=>{e.stopPropagation(),this.props.onPrint(e)})),ne(this,"handleAttachmentClick",(e=>{this.props.expanded&&(e.stopPropagation(),this.props.onAttachmentClick(e))})),ne(this,"handleReadClick",(e=>{e.stopPropagation();const t={interactionType:(0,v.getInteractionFromEvent)(e)};this.props.onToggleRead({i13nModel:t})})),ne(this,"handleKeyDown",(e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.props.onToggleExpand();break;default:return}})),ne(this,"renderPrintButton",(()=>{const{formatMessage:e}=this.context.intl,t=g()(D());return this.props.expanded&&this.props.onPrint?r.createElement("div",{className:t.print},r.createElement(c.default,{kind:F.Kinds.PRINTER,size:F.Sizes.XS,title:e(oe.header_print_message),ariaLabel:e(oe.header_print_message),colorState:F.ColorStates.INHERITED,onClick:this.handlePrintClick,paddingLess:!0})):null})),ne(this,"renderAttachmentIcon",(()=>{const{formatMessage:e}=this.context.intl,{expanded:t,message:{attachments:s=[]}}=this.props,a=g()(D(),{expanded:t}),n=s.filter((({disposition:e})=>e!==N.sSc.Dispositions.INLINE)).length;return n>0?r.createElement("div",{className:a.attachment},r.createElement(c.default,{kind:F.Kinds.ATTACHMENT,size:F.Sizes.XS,title:e(oe.message_has_attachment,{attachmentCount:n}),ariaLabel:e(oe.message_has_attachment,{attachmentCount:n}),onClick:this.handleAttachmentClick,paddingLess:!0,colorState:F.ColorStates.DISABLED})):null})),ne(this,"handleToggleExpand",(e=>{this.addressInfoContainer.contains(e.target)?(e.preventDefault(),e.stopPropagation(),this.props.expanded||this.props.onToggleExpand()):this.props.onToggleExpand()})),ne(this,"burstOnClick",((e,t)=>{this.handleStarClick(e),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout))})),ne(this,"_affiliateI13nModel",((e,t,s)=>{const{contactLink:a,message:n,inboxCommerceFeatureClicked:r}=this.props,{from:o=[]}=n.headers,i=o[0]&&o[0].email,l={xpname:N.pdX.MESSAGE_HEADER,msgId:n.id||"",sndr:i,brandurl:a,affiliatePartner:t,featurefamily:N.lMo.IC};e===b.JE.CARD_INTERACT&&(l.interactiontype=b.Rb.click,l.interacteditem=s,r({clicked:!0})),H.ZP.sendI13nModel({i13nModel:{mKey:e,sec:b.nJ.MSG_BODY,actionData:l}})})),ne(this,"handleFromFieldDoubleClick",(e=>{e.preventDefault(),window.clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null})),ne(this,"handleFromFieldClick",((e,t,s)=>{const{isAffiliatePartnerEnabled:a,contactLink:n,hasTomRestructuredElementsBucket:r,hasBimiVerified:o}=this.props,i=r||!o?ie.NAME:ie.BIMI_LINK;(0,G.th)(this.fromFieldRef)||(e.preventDefault(),null===this.doubleClickTimeout&&(this.doubleClickTimeout=window.setTimeout((()=>{this.doubleClickTimeout=null,a&&this._affiliateI13nModel(b.JE.CARD_INTERACT,t,i),window.open(a?s:n,"_blank","noreferrer")}),250)))})),ne(this,"renderWebsiteLinkWithArrow",((e,t,s,a=!1)=>{const{contact:n,message:o,hasReadabilityModeEnabled:i,hasTomRestructuredElementsBucket:l,hasBimiFeature:c}=this.props,{isBusiness:d,name:_=""}=n,{from:E=[]}=o.headers,u=E[0]&&E[0].email,m=g()(D(),{isVerifiedSender:a}),S=c||l;return r.createElement("div",{"data-test-id":"website-link",className:m.websiteLink,onClick:()=>{S||(H.ZP.sendI13nModel({i13nModel:{mkey:b.JE.CARD_INTERACT,sec:b.nJ.MSG_BODY,actionData:{brandurl:e,featurefamily:N.lMo.IC,isBusiness:d,isMonetizable:!1,kpidriven:N.bf3,moment:"na",msgId:o.id||"",name:_,slot:b.KJ.TOM,sndr:u,xpname:N.pdX.CONTACT_CARD,interactiontype:b.Rb.click,affiliatePartner:s,interacteditem:ie.VISIT_SITE}}}),window.open(t||e,"_blank","noreferrer"))}},e.split("://").pop().replace(/\/+$/,""),r.createElement(U.Z,{size:i?F.Sizes.S:F.Sizes.XXS,kind:F.Kinds.CHEVRON_UP,colorState:F.ColorStates.INHERITED,rotate:F.Rotate.D90}))})),ne(this,"handleBimiTooltipViewed",(()=>{const{contact:e,isTomRestructuredElementsEnabled:t}=this.props,{isBusiness:s,name:a=""}=e,{mailBrandNameString:n}=this.context,r=b.JE.CARD_INTERACT,o={mailBrandNameString:n,isBusiness:s,name:a,isTomRestructuredElementsEnabled:t,bimiTooltipViewed:!0,interacteditem:ie.BIMI_TOOLTIP};H.ZP.sendI13nModel({i13nModel:{mKey:r,sec:b.nJ.MSG_BODY,actionData:o}})})),this.fromFieldRef=r.createRef(),this.burstURL=(0,f.A)(e.starAnimation.lightGifURL),(0,M.XM)(this.burstURL),this.state={shouldBurst:!1,flagged:e.message.flags.flagged},this.doubleClickTimeout=null}componentDidMount(){this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(b.JE.CARD_VIEW)}componentDidUpdate(e){!e.contact&&this.props.isAffiliatePartnerEnabled&&this._affiliateI13nModel(b.JE.CARD_VIEW)}UNSAFE_componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.message.flags.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.message.flags.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout((()=>{this.setState({shouldBurst:!1})}),e.starAnimation.timeout))}render(){var e,t,a;const{formatMessage:n}=this.context.intl,{mailBrandNameString:o}=this.context,{appId:i,contact:u,contactLink:m,conversations:S,expandable:p,expanded:C,idx:A,isAffiliatePartnerEnabled:h,isOnModal:O,isPhishingMessage:R,isCertifiedDomain:f,isOfficialDomain:M,multipleCardsInGroup:y,message:k,onToggleRead:G,onToggleStar:H,readRef:x,starRef:V,totalMessages:Z,locale:W,partner:K,route:Y,affiliateCrumb:j,commerceIntentPageId:q,highlightSearchResultsPage:X,hasBimiFeature:J,hasBimiExperiment:ee,photoSource:te,bimiHelpUrl:ne,bimiName:ie,hasReadabilityModeEnabled:le,isTomRestructuredElementsEnabled:ce}=this.props,{from:de,to:_e,cc:Ee,bcc:ue,date:me}=k.headers,{flagged:Se,read:pe}=k.flags,{isFalcon:Ce=!1,image:Ae="",website:Te=""}=u||{},Ie=(0,I.Wo)(k.snippet,true),he=this.state.showDescription,ge=g()(D(),{expanded:C,expandable:p,flagged:Se,highlightPosition:Ie,isEnhancedMessageIcon:!C,highlightSearchResultsPage:X,hasBimiFeature:J,hasBimiExperiment:ee,toggleDescriptionActive:he,hasReadabilityModeEnabled:le}),Oe=(0,v.isBusinessOutboundLinkDisabled)(de[0]&&de[0].email),De=S?oe.message_header_count_label:oe.message_header_label,Re=new Date(1e3*me),Ne=O?L.LSY.MODAL:L.LSY.POPOVER.MEDIUM,Le=!Oe&&m&&u&&u.isBusiness,fe=K===N.Ql2.AOL&&(f||M),{affiliatePartnerName:Me,affiliatePartnerUrl:Pe}=h?(0,P.sx)({affiliateLink:m,locale:W,region:this.context.region,partner:K,clickRef:N.pdX.MESSAGE_HEADER,route:Y,appId:i,affiliateCrumb:j,pageId:q}):{affiliatePartnerName:"",affiliatePartnerUrl:""},be=h&&!Oe?{href:Pe||m,target:"_blank",rel:"noreferrer",onClick:()=>this._affiliateI13nModel(b.JE.CARD_INTERACT,Me,"logo")}:null,ye=C?_.u8.MEDIUM_PLUS:_.u8.M,ve=R&&!y,Fe=ce||!ce&&J,Ue=(0,I.GQ)(k.snippet,true,ge.highlightedTerm),ke=r.createElement("div",null,fe&&r.createElement(z,{isOfficialDomain:M,isCertifiedDomain:f}),r.createElement("header",{className:ge.header,onClick:p?this.handleToggleExpand:null,onKeyDown:p?this.handleKeyDown:null,"aria-label":n(De,{idx:A+1,totalMessages:Z})},r.createElement("span",{className:ge.avatar},ve?r.createElement(B.Z,{src:"/img/suspicious.svg",width:ye.imageSize,height:ye.imageSize,"data-test-id":"suspicious-avatar"}):r.createElement("a",ae({},be,{"data-test-id":"sender-logo"}),r.createElement(_.ZP,{contact:{email:de[0]&&de[0].email},size:ye,imageSrc:Ce&&Ae?Ae:""}))),G?r.createElement("div",{className:ge.readUnread,ref:x},r.createElement(c.default,{"data-test-id":"icon-btn-read",title:n(oe[pe?"mark_as_unread":"mark_as_read"]),"aria-label":n(oe[pe?"message_is_read":"message_is_not_read"]),"aria-pressed":!pe,kind:F.Kinds.CIRCLE,colorState:pe?F.ColorStates.FAINT:F.ColorStates.SELECTED,size:F.Sizes.XS,onClick:this.handleReadClick,paddingLess:!0})):null,r.createElement("div",{className:ge.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},r.createElement("div",{className:ge.fromRow,onClick:Le?e=>this.handleFromFieldClick(e,Me,Pe):re,onDoubleClick:Le?this.handleFromFieldDoubleClick:re,ref:this.fromFieldRef},r.createElement("span",{"data-test-id":"message-from",className:ge.fromField},de[0]?r.createElement(E.default,{isCompose:!1,email:de[0].email,name:de[0].name,popoverZIndex:Ne},de[0]&&de[0].name?r.createElement(r.Fragment,null,r.createElement("span",null,de[0].name,C&&!ce&&r.createElement("span",{className:ge.fromEmail},"Â <",de[0].email,">"))):de[0].email):null),ce?!!Te&&this.renderWebsiteLinkWithArrow(Te,Pe,Me,!1,!0):r.createElement(w.cr,{defer:!0,import:"./unsubscribe_button",message:k,cardExpanded:C,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,47514))},_moduleResolver:function(){return 47514}})),!C&&r.createElement("div",{className:ge.snippetContainer,"data-test-id":"snippet"},r.createElement("div",{className:ge.snippet},Ue)),!C&&r.createElement(d.Z,null),ce&&C&&de.length>0&&r.createElement(T,{label:n(oe.message_from),addresses:de,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0,showEmailFirst:!0}),C&&_e.length>0&&r.createElement(T,{label:n(oe.message_to),addresses:_e,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0}),C&&Ee.length>0&&r.createElement(T,{label:n(oe.message_cc),addresses:Ee,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0}),C&&ue.length>0&&r.createElement(T,{label:n(oe.message_bcc),addresses:ue,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0})),C&&r.createElement(d.Z,null),this.renderPrintButton(),this.renderAttachmentIcon(),r.createElement("div",{className:ge.date,"data-test-id":"message-date"},r.createElement(l.ZP,{date:Re,long:!0,weekday:"short"})),H?r.createElement("div",{className:ge.star,ref:V},this.state.shouldBurst?r.createElement("img",{title:n(oe[Se?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":Se,src:this.burstURL,className:ge.burstingStar}):r.createElement(c.default,{"data-test-id":"icon-btn-star",title:n(oe[Se?"mark_as_unstarred":"mark_as_starred"]),"aria-label":n(oe[Se?"message_is_starred":"message_is_not_starred"]),"aria-pressed":Se,kind:Se?F.Kinds.BIG_STAR:F.Kinds.BIG_STAR_OUTLINE,size:F.Sizes.XXS,colorState:Se?F.ColorStates.STARRED:F.ColorStates.LESS_IMPORTANT,onClick:e=>{this.burstOnClick(e,Se)},paddingLess:!0})):null)),we=r.createElement($,{photoSource:te,unverifiedContent:ke},r.createElement("div",null,fe&&r.createElement(z,{isOfficialDomain:M,isCertifiedDomain:f}),r.createElement("header",{className:ge.header,onClick:p?this.handleToggleExpand:null,onKeyDown:p?this.handleKeyDown:null,"aria-label":n(De,{idx:A+1,totalMessages:Z})},r.createElement("span",{className:ge.avatar},ve?r.createElement(B.Z,{src:"/img/suspicious.svg",width:ye.imageSize,height:ye.imageSize,"data-test-id":"suspicious-avatar"}):r.createElement("a",ae({},be,{"data-test-id":"sender-logo"}),r.createElement(_.ZP,{contact:{email:de[0]&&de[0].email},size:ye,imageSrc:Ce&&Ae?Ae:""}))),G?r.createElement("div",{className:ge.readUnread,ref:x},r.createElement(c.default,{"data-test-id":"icon-btn-read",title:n(oe[pe?"mark_as_unread":"mark_as_read"]),"aria-label":n(oe[pe?"message_is_read":"message_is_not_read"]),"aria-pressed":!pe,kind:F.Kinds.CIRCLE,colorState:pe?F.ColorStates.FAINT:F.ColorStates.SELECTED,size:F.Sizes.XS,onClick:this.handleReadClick,paddingLess:!0})):null,r.createElement("div",{className:ge.flexVertical,ref:e=>this.addressInfoContainer=e,"data-test-id":"address-info"},r.createElement("div",{className:ge.fromRow,onClick:Le?e=>this.handleFromFieldClick(e,Me,Pe):re,onDoubleClick:Le?this.handleFromFieldDoubleClick:re,ref:this.fromFieldRef},r.createElement("span",{"data-test-id":"message-from",className:ge.fromField},de[0]?r.createElement(E.default,{isCompose:!1,email:de[0].email,name:de[0].name,popoverZIndex:Ne},r.createElement("span",null,null===(e=de[0])||void 0===e?void 0:e.name)):null),r.createElement(se,null,r.createElement("div",{className:ge.bimiIcon},r.createElement(E.default,{isCompose:!1,email:null===(t=de[0])||void 0===t?void 0:t.email,name:null===(a=de[0])||void 0===a?void 0:a.name,popoverZIndex:Ne,hasBimiFeature:!0,bimiHelpUrl:ne,bimiName:ie,popoverDidAppear:this.handleBimiTooltipViewed,contactImage:Ce&&Ae?Ae:""},r.createElement(Q,{hasInitialPadding:!0,size:le?20:16,alt:n(oe.bimi_verified_sender,{mailBrandNameString:o})})))),C&&r.createElement(r.Fragment,null,ee&&r.createElement("div",{tabIndex:0,"data-test-id":"arrow-experiment",onClick:this.handleToggleDescription,"aria-expanded":he,onKeyDown:e=>{"Enter"!==!e.key&&this.handleToggleDescription(e)},className:ge.toggleDescription},r.createElement(U.Z,{size:F.Sizes.XS,kind:F.Kinds.CHEVRON_UP,colorState:F.ColorStates.GRAY_VZM_BOB,rotate:F.Rotate.D90})),Fe?!!Te&&r.createElement(se,null,this.renderWebsiteLinkWithArrow(Te,Pe,Me,!0,!0)):r.createElement(w.cr,{defer:!0,import:"./unsubscribe_button",message:k,cardExpanded:C,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,47514))},_moduleResolver:function(){return 47514}}))),!C&&r.createElement("div",{className:ge.snippetContainer,"data-test-id":"snippet"},r.createElement("div",{className:ge.snippet},Ue)),!C&&r.createElement(d.Z,null),r.createElement("div",{className:ge.unsubscribeContainer},C&&de.length>0&&r.createElement(r.Fragment,null,r.createElement(T,{label:n(oe.message_from),addresses:de,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0,showEmailFirst:!0,hasBimiFeature:!0}),r.createElement(w.cr,{defer:!0,import:"./unsubscribe_button",message:k,cardExpanded:C,hasUnderlineStyles:!0,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,47514))},_moduleResolver:function(){return 47514}}))),C&&_e.length>0&&r.createElement(T,{label:n(oe.message_to),addresses:_e,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0}),C&&Ee.length>0&&r.createElement(T,{label:n(oe.message_cc),addresses:Ee,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0}),C&&ue.length>0&&r.createElement(T,{label:n(oe.message_bcc),addresses:ue,popoverZIndex:Ne,isTomRestructuredElementsEnabled:!0})),C&&r.createElement(d.Z,null),this.renderPrintButton(),this.renderAttachmentIcon(),r.createElement("div",{className:ge.date,"data-test-id":"message-date"},r.createElement(l.ZP,{date:Re,long:!0,weekday:"short"})),H?r.createElement("div",{className:ge.star,ref:V},this.state.shouldBurst?r.createElement("img",{title:n(oe[Se?"mark_as_unstarred":"mark_as_starred"]),"data-test-id":"icon-btn-star","aria-pressed":Se,src:this.burstURL,className:ge.burstingStar}):r.createElement(c.default,{"data-test-id":"icon-btn-star",title:n(oe[Se?"mark_as_unstarred":"mark_as_starred"]),"aria-label":n(oe[Se?"message_is_starred":"message_is_not_starred"]),"aria-pressed":Se,kind:Se?F.Kinds.BIG_STAR:F.Kinds.BIG_STAR_OUTLINE,size:F.Sizes.XXS,colorState:Se?F.ColorStates.STARRED:F.ColorStates.LESS_IMPORTANT,onClick:e=>{this.burstOnClick(e,Se)},paddingLess:!0})):null)));return r.createElement(r.Fragment,null,J?we:ke)}}ne(le,"contextTypes",{config:n().object.isRequired,intl:i.intlShape.isRequired,region:n().string,mailBrandNameString:n().string});const ce=(0,o.connect)(((e,t)=>{var s,a,n,r,o;const i=(0,R.selectors)(e),{getRoute:l,getEnvironmentSelectors:c,__patchV2MessageId__:d,getMainStreamListIds:_,getMessagesSelectors:E,getMessageIdsFromMessageGroupId:u,getContactListSelectors:m,getFalconRelatedCardSelectors:S,isFeatureEnabled:p,getSetting:C,getAffiliateCrumb:A,hasBimiPhotoSource:T}=i,{getContactByEmail:I}=m(),{getLoggerParams:h,getPartner:g,getAppId:O}=c(),{listId:D,message:L,groupId:f}=t,M=L.id,P=(0,y.u9)(t,"message.headers.from.0.email",""),{hasPhishingDeco:b,isCertifiedDomain:v,isOfficialDomain:F}=E(),U=C(N.Zrf.STAR_ANIMATION),{getFalconContactCardByGroupId:w,getCommerceIntentPageIdByBrandName:G}=S();let H=w(f);const B=u(f).length>1,x=C(N.Zrf.READABILITY_MODE),V=p(N.ANe.TOM_RESTRUCTURED_BUCKETS);"website"in H&&P&&P.toLowerCase()===((null===(s=H)||void 0===s?void 0:s.email)||"").toLowerCase()?(H.isBusiness=!0,H.isFalcon=!0):H=I(P)||void 0;const Z=H&&H.website,W=A();return M?{hasTomRestructuredElementsBucket:V,hasBimiVerified:T(null===(a=H)||void 0===a?void 0:a.photoSource),contact:H,contactLink:Z,isPhishingMessage:b(M),isCertifiedDomain:v(M),isOfficialDomain:F(M),multipleCardsInGroup:B,isAffiliatePartnerEnabled:H&&H.isBusiness&&H.website&&p(N.ANe.AFFILIATE_PARTNER),message:d(M,D),appId:O(),locale:h().locale,partner:g(),starAnimation:U,streamId:(0,k.BA)(_(l())),route:l(),affiliateCrumb:W,commerceIntentPageId:G(null===(n=H)||void 0===n?void 0:n.name),highlightSearchResultsPage:p(N.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),photoSource:(null===(r=H)||void 0===r?void 0:r.photoSource)||"",hasBimiFeature:p(N.ANe.DISPLAY_BIMI),hasBimiExperiment:p(N.ANe.HAS_BIMI_EXPERIMENT),bimiName:(null===(o=H)||void 0===o?void 0:o.name)||"",bimiHelpUrl:(0,ee.cy)({url:C(N.Zrf.BIMI_HELP_URL),locale:h().locale,isAOL:g()===N.Ql2.AOL})||"",hasReadabilityModeEnabled:x,isTomRestructuredElementsEnabled:p(N.ANe.TOM_RESTRUCTURED_ELEMENTS)||p(N.ANe.TOM_REDESIGNED_CARDS_TEST_A)||p(N.ANe.TOM_REDESIGNED_CARDS_TEST_B)||p(N.ANe.TOM_REDESIGNED_CARDS_TEST_C)||p(N.ANe.TOM_REDESIGNED_CARDS_TEST_D)||p(N.ANe.TOM_REDESIGNED_CARDS_TEST_E)}:{message:L,starAnimation:U}}),(e=>({inboxCommerceFeatureClicked:t=>e((0,x.c5)(t))})))(le)},66406:e=>{"use strict";e.exports={className:{default:{container:"d_6FIA i_6FIA c1AVi7H_6LEV c1AVi73_6FsP D_F eo_HB",email:"C4_Z29WjXl",separator:"E_fq7",label:"u_b E_eo6 C_Z1TsNbA",button:"Q_eo6 P_3gIMd e_dRA I4_Z29WjXl C4_ZkbNhI r_P y_jyw3a A_6EqO c1AVi73_6FsP b_0 I_T"},isTomRestructuredElementsEnabled:{label:"C_Z1VRqsb u_N",email:"C_Z1VRqsb"},hasBimiFeature:{email:"c1McDRG_eo6"}},_key:"ZVgmM5"}},58599:e=>{"use strict";e.exports={className:{default:{bimiFlexAll:"ej_6D6F P_Z1E2YFn A_6EqO c1AVi7i_Z1Ve0sQ i_6LEV",bimiDescription:"A_6EqO c1AVi73_6FsP c1AVi7H_6LEV u_dPo i_6LEV M_0 W_3rRhf",bimiDetailsVerifiedLogoTitle:"u_elT A_6EWk c215rqA_eDQ",bimiDetailsVerifiedHeader:"D_F ek_EZ aa_C c1tVyGo_eo6 cZr1fni_eDQ",bimiButton:"C_Z29WjXl C0_Z29WjXl C5_Z29WjXl c1AVi73_6FsP cZ2bbArP_fq7 cZ2dEq1K_0 c215rqA_dRA"}},_key:"1ok2RP"}},50512:e=>{"use strict";e.exports={className:{default:{container:"D_Z1YJkyX ab_C A_6EqO k_w H_A e_dRA b_Z14vXdP Q_6MGW U_6Eb4 P_ZGAhPT a_3Mlf4",message:"P_0 D_I M_ZmsKgw",button:"C_Z29WjXl M_3gJOe",buttonsContent:"J_x D_Z1YJkyX ab_CI",primaryButton:"r_P C_Z29WjXl"}},_key:"Z1Rk4m2"}},53185:e=>{"use strict";e.exports={className:{default:{leftRightPadding:"jb_0 X_6MGW N_6Fd5",phishingBanner:"M_b1s39",blockedImageBanner:"X_6MGW",bodyContainer:"P_wpofO mq_AS",sponsoredMessageContainer:"I_ZkbNhI",flexVertical:"D_F ek_BB",emptyBody:"A_6FsP P_CT2KF D_F ek_EZ gl_C ab_C",emptyBodyRetry:"r_P C_Z29WjXl",emptyBodyMessage:"em_0 Q_fq7 E_fq7",button:"A_6DUj C_Z1VRqsb Q_36Jhx",textContainer:"J_EN",messageViewBody:"I_ZkbNhI D_FY W_6D6F",highlightKeyword:"I_ZkchTG"},printView:{bodyContainer:"P_0 iy_q",leftRightPadding:"jb_0 X_6MGW N_6MGW"}},_key:"1swLOY"}},58014:e=>{"use strict";e.exports={className:{default:{websiteLink:"u_b Q_fq7 r_P A_6EqO i_6FIA C_Z29WjXl D_F ab_C cdPFi_Z29WjXl",bimiDetailsLink:"A_6EqO i_6LEV C_Z29WjXl r_P",flexRow:"D_F ek_EZ ab_AJ r_BN",header:"r_P D_F W_6D6F p_R P_3Y3Gk ir_0",fromField:"u_b en_0 c1AVi73_6FsP c1AVi7H_6LEV C4_Z29WjXl",fromEmail:"u_N C_Z1VRqsb c1AVi73_6FsP c1AVi7H_6LEV",snippet:"J_x o_h C_Z1VRqsb",snippetContainer:"J_x o_h G_e Q_fq7",fromRow:"D_F en_0",avatar:"en_0 i_0 Q_fq7",draftLink:"C_Z29WjXl u_b",popupDraft:"C_Z281SGl Q_fq7",popupDraftFrom:"en_0 D_F ab_C",popupDraftAvatar:"en_0 i_0 Q_6Eb4",date:"D_F en_0 M_3gJOe A_6Eb4 c1AVi73_6EWk C_Z1VRqsb",composeFormatContainer:"X_fq7",readUnread:"D_F ac_FT ab_CI en_0",star:"D_F ab_CI en_0 H_6Fd5 W_6Fd5 lv_1IWXzk h_Z13pql2 h4_2d9T5e",burstingStar:"H_6FYl W_6FYl p_R T_67lq L_c60 T4_67mr L4_37LiH",attachment:"D_F en_0 s_6LEV H_6LEV M_Ue8I8",print:"en_0 s_6Fd5 H_6Fd5 M_3gJOe cdPFi_Z281SGl O_cMr O4_cMu",flexVertical:"o_h D_F em_N E_fq7",highlightedTerm:"I_Z1gjd5v D_X P_3zDxc",verifiedSender:"A_6EqO i_6LEV C_Z1YRXYn D_F ab_C u_N v_v"},"expandable-false":{header:"r_BN"},"expanded-false":{flexVertical:"ab_C",readUnread:"ab_C",date:"ab_C",attachment:"ab_C",star:"ab_C",header:"ab_C"},expanded:{header:"P_Zjgzuf",flexVertical:"ek_BB em_0"},isEnhancedMessageIcon:{avatar:"Q_6Eb4 E_eo6"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},highlightSearchResultsPage:{highlightedTerm:"I_eWWBN D_X C_ZD6UvE"},hasBimiFeature:{unsubscribeContainer:"D_F eo_HB"},isVerifiedSender:{websiteLink:"D_F ac_CI M_0 c1AVi73_6FsP c1AVi7H_6LEV",fromField:"D_F ab_C gl_CI",fromRow:"gl_CI eo_HB",bimiIcon:"D_F ab_C",unsubscribeContainer:"H_6D6F O_N D_F eo_HB gl_CI"},hasBimiExperiment:{unsubscribeContainer:"lv_Z1G8ouK H_0 O_0",toggleDescription:"Q_68F4 D_F ab_C lv_ZwQznK r_P h_22ufi4",websiteLink:"c2kprTs_fq7"},toggleDescriptionActive:{toggleDescription:"h_3kmMd",unsubscribeContainer:"H_6D6F O_N"}},_key:"Ztwz5R"}},30198:e=>{"use strict";e.exports={className:{default:{banner:"W_6D6F H_73HH q_ZnMIOa Q_69H5 P_1LTIhK D_F ab_C",badgeBar:"q_ZpQYvz P_fq7 D_F i_6Eb4 ab_C",badge:"E_eo6",bannerDescription:"Q_eTB",link:"C_Z2aVTcY"}},_key:"1wFXoo"}},29045:e=>{"use strict";e.exports={className:{default:{messageCardContainer:"p_R b_efTvb I_ZkbNhI em_N it_689y X_fq7 N_6LEV iu_FJ is_Z2bg7IA iv_0 iv3_dRA cZdTOHS_28Otf4",toolbarHoverArea:"H_7jIs D_F ab_C Q_69H5 E_36RhU"},active:{messageCardContainer:"b_2w4lU5 p_R j_ZUs0f0"}},_key:"Z1SquHF"}},77301:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F cdPFi_Z1oI2WW cdPFi4_Z29WjXl",separator:"m_Z14vXdP M_3HLUz",popoverContent:"P_3Y3Gk"}},_key:"ZLeALO"}},24402:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_CI A_6EqO k_w e_dRA P_6Eb4 I_Z2dUi6K",content:"em_N ek_BB Q_fq7 E_fq7",title:"u_e69",message:"Y_eo6",buttons:"D_F d_6TFj Y_6Eb4",reportButton:"I_T D_F ab_C P_Z1E2Rbv i_N s_7ALe M_1Bs8Qs",safeButton:"I_T D_F ab_C P_Z1E2Rbv i_N s_7ALe",notSpamButton:"I_T D_F ab_C P_Z1E2Rbv i_N s_7ALe l_Z281SGl C_Z281SGl"}},_key:"vA3if"}},25060:e=>{"use strict";e.exports={className:{default:{wrapper:"D_F W_6D6F r_BN gl_C",container:"D_F ab_C en_0 b_Z14vXdP e_3mS2U I_ZkbNhI P_Z1otBpf",bottomLine:"M_0 P_0 cn_0",label:"X_eo6",toolbarItem:"r_P D_F M_1Eu5U7 cdPFi_Z1oI2WW cdPFi4_Z29WjXl",moreMenuItem:"r_P D_F M_oRiNT",rtlRawScaleX:"rtlR_h_2gl0WC"}},_key:"1Mqkq"}},35532:e=>{"use strict";e.exports={className:{hasInitialPadding:{verifiedLogo:"c1F0a3j_dRA"},hasBounceAnimation:{verifiedLogo:"ah_ZQlJNs"},hasFadeAnimation:{verifiedLogo:"ah_1uxUgN"},default:{verifiedLogo:"D_F ab_C r_A H_A c1McDRG_eo6"}},_key:"Z2jd03a"}},18722:e=>{"use strict";e.exports={className:{default:{container:"W_3Hv38 k_w I_ZkbNhI D_F el_QDCVj",header:"M_0 P_Z2bdlcy A_6FsP c1AVi73_6LUG i_6NIX D_F el_Z1mLfFl ab_1g38K5",heading:"je_6Fd5 em_N H_6NIX D_F ab_C",info:"X_eo6",popoverAnchor:"D_F",tooltip:"W_3qXgC P_6Eb4 cZW7ROP_n",spacing:"P_6Eb4 cZW7ROP_n",popoverContainer:"D_F",close:"M_1r2gWB",title:"X_eTB",content:"P_0",messageContent:"D_F k_w ek_BB H_3rLkT W_3Hv38 P_14vJA9 J_x iz_A iy_h I_ZnsmyK",spinner:"D_F ab_C gl_C em_N",subject:"A_6EWk i_6FIA c1AVi7H_6LEV G_e J_x o_h P_1EmYfa",msgHeader:"P_1DLYDz",snippet:"o_h J_x G_e A_6EqO i_6LEV c1AVi73_6FsP c1AVi7H_6LEV P_EToGE",attachments:"X_6Eb4",viewMessage:"ab_CH r_P C_Z29WjXl u_e69",icon:"p_a M_6Fd5",message:"P_ZG0ms9 w_AS ix_AS",controls:"D_F ab_C P_2gGPxM",buttonContainer:"em_N"}},_key:"ZFWTku"}},77746:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Ls});var a=s(45697),n=s.n(a),r=s(67294),o=s(18685),i=s(37422),l=s(62760),c=s(73935),d=s(99095),_=(s(31280),s(10728)),E=s(68003),u=s(9333),m=s(76223),S=s.n(m),p=s(68449),C=s.n(p),A=s(81660),T=s(76531),I=s(85927),h=s(98217),g=s(86423),O=s(78263),D=s(41546),R=s(8106),N=s(67498),L=s(28182),f=s(78737),M=s(92559),P=s(52717),b=s(31190),y=s(31057),v=s(64684);function F(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const U=(0,d.defineMessages)({message_is_read:{id:"message_is_read",defaultMessage:"This message is read"},message_is_not_read:{id:"message_is_not_read",defaultMessage:"This message is not read"},mark_as_read:{id:"mark_as_read",defaultMessage:"Mark as read"},mark_as_unread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},message_is_starred:{id:"message_is_starred",defaultMessage:"This message is starred"},message_is_not_starred:{id:"message_is_not_starred",defaultMessage:"This message is not starred"},mark_as_starred:{id:"mark_as_starred",defaultMessage:"Star"},mark_as_unstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},go_to_people_view:{id:"message_group_header.title.go_to_people_view",defaultMessage:"Navigate to people view"}}),k=S()(C());class w extends r.Component{constructor(e){super(e),F(this,"handleStarClick",(e=>{const{flagged:t}=this.props;e.stopPropagation(),!t&&this.props.starAnimation.timeout>0?(this.setState({shouldBurst:!0}),this.timeout=setTimeout((()=>{this.setState({shouldBurst:!1})}),this.props.starAnimation.timeout)):this.state.shouldBurst&&(this.setState({shouldBurst:!1}),clearTimeout(this.timeout)),this.props.onToggleGroupStar(e)})),F(this,"handleReadClick",(e=>{e.stopPropagation(),this.props.onToggleGroupRead(e)})),F(this,"_navigateToPeopleView",(()=>{this.props.navigateToPeopleView({updatedSettingAttributes:[{name:i.Zrf.SYSTEM_TABS,value:[i.B_Z[i.K8C.PEOPLE]+":1"]}],accountId:this.props.accountId})})),F(this,"renderAddLinkedTodoIcon",(()=>{const{firstMessageId:e,showTodoOnboardingCue:t}=this.props;return t?r.createElement(b.Z,{msgId:e,className:k.add_todo_icon,sec:M.nJ.MSG_HEADER,onboardingCueType:b.y.MESSAGE_HEADER}):r.createElement(P.Z,{msgId:e,className:k.add_todo_icon,sec:M.nJ.MSG_HEADER})})),this.burstURL=(0,D.A)(e.starAnimation.lightGifURL),(0,R.XM)(this.burstURL),this.state={shouldBurst:!1,flagged:e.flagged}}UNSAFE_componentWillReceiveProps(e){const t=this.state;this.state.flagged!==e.flagged&&this.setState({flagged:!this.state.flagged}),!t.flagged&&e.flagged&&this.props.starAnimation.timeout>0&&(this.setState({shouldBurst:!0}),setTimeout((()=>{this.setState({shouldBurst:!1})}),e.starAnimation.timeout))}render(){const{subject:e,messageCount:t,isRead:s,flagged:a,firstMessageId:n,compactGroupHeader:o,formatFolderName:i,folderId:l,getAccountLabel:c,fromPeopleView:m,hasKeyword:p,highlightSearchResultsPage:I}=this.props,{formatMessage:h}=this.context.intl,g=S()(C(),{compactGroupHeader:o}),O=i(l,{isRead:s})(h),D=c(this.context),R=(D?D+"/":"")+O,f=I?(0,A.GQ)(e,p,k.highlightedTermSearchResultsPage):(0,A.IX)(e);return r.createElement(E.Z,{axis:E.U.HORIZONTAL,groupTabIndex:_.iUz.MESSAGE_GROUP_HEADER},r.createElement("header",{"data-test-id":"message-group-header",className:k.groupHeader},r.createElement("div",{className:k.readUnread},r.createElement(u.default,{"data-test-id":"icon-btn-read",title:h(U[s?"mark_as_unread":"mark_as_read"]),"aria-label":h(U[s?"message_is_read":"message_is_not_read"]),"aria-pressed":!s,kind:T.Kinds.CIRCLE,size:T.Sizes.XS,colorState:s?T.ColorStates.FAINT:T.ColorStates.SELECTED,paddingLess:!0,onClick:this.handleReadClick,"data-iskeynav":!0})),r.createElement("div",{className:k.subjectRow},r.createElement("span",{"data-test-id":"message-group-subject",className:k.subject,title:e||""},e?r.createElement("span",{"data-test-id":"message-group-subject-text"},f):r.createElement("span",null,r.createElement("span",null,"("),r.createElement("span",{className:k.noSubject},r.createElement(d.FormattedMessage,{id:"message.no_subject",defaultMessage:"No Subject"})),r.createElement("span",null,")")),t>1?r.createElement("span",{"data-test-id":"message-group-count",className:k.messageCount},t):null)),r.createElement("div",{className:k.endSideButtonGroup},r.createElement("div",{className:g.messageGroupDestinationRow},m?r.createElement(N.Z,{onClick:this._navigateToPeopleView,title:h(U.go_to_people_view),kind:L.F.PILL,"data-test-id":"btn-people"},r.createElement(d.FormattedMessage,{id:"message_group_header.button.people",defaultMessage:"People"})):r.createElement("span",{className:k.messageGroupDestinationContainer,title:R,"data-test-id":"message-group-destination"},D?r.createElement("span",{className:k.messageGroupDestinationAccount},D):null,D?r.createElement("span",null,"/"):null,O?r.createElement("span",{className:k.messageGroupDestinationFolder},O):null)),r.createElement(v.Z,{streamId:this.props.streamId,groupId:this.props.groupId,listId:this.props.listId,messageIds:this.props.messageIds,isHovered:!0,i13nModel:{sec:M.nJ.PINNED_EMAILS_MESSAGE_READ,mKey:this.props.isPinned?M.JE.PINNED_EMAIL_CLICK_INACTIVE:M.JE.PINNED_EMAIL_CLICK_ACTIVE,interactionType:M.Rb.click}}),n&&this.renderAddLinkedTodoIcon(),r.createElement("div",{className:g.star},this.state.shouldBurst?r.createElement("img",{"data-test-id":"icon-btn-star",src:this.burstURL,className:k.burstingStar}):r.createElement(u.default,{kind:a?T.Kinds.BIG_STAR:T.Kinds.BIG_STAR_OUTLINE,tabIndex:0,"data-test-id":"icon-btn-star","aria-label":h(U[a?"message_is_starred":"message_is_not_starred"]),size:T.Sizes.XXS,colorState:a?T.ColorStates.STARRED:T.ColorStates.LESS_IMPORTANT,"aria-pressed":a,paddingLess:!0,onClick:this.handleStarClick,"data-iskeynav":!0})))))}}F(w,"contextTypes",{intl:d.intlShape.isRequired,executeAction:n().func}),F(w,"defaultProps",{compactGroupHeader:!1,getAccountLabel:()=>{},fromPeopleView:!1});const G=(e,t)=>s=>{const{formatMessage:a}=s.intl,n={[i.zoT.YAHOO]:a(h.Z.yahoo_account_description),[i.zoT.YAHOO_SB]:a(h.Z.yahoo_account_description),[i.zoT.OUTLOOK]:a(h.Z.outlook_account_description),[i.zoT.AOL]:a(h.Z.aol_account_description),[i.zoT.GOOGLE]:a(h.Z.gmail_account_description),[i.zoT.GOOGLE_APP]:a(h.Z.gmail_account_description)};return e=e||n[t]},H=(0,o.connect)(((e,t)=>{const s=(0,I.selectors)(e),{getFoldersSelectors:a,getAccountSelectors:n,getRelevantMessageIdFromMessageGroupId:r,getMessageIdsFromMessageGroupId:o,getFeaturesSelectors:l,isPeopleMessage:c,getMessageFolderId:d,formatFolderName:_,isFeatureEnabled:E}=s,{getAccountIdByFolderId:u}=a(),{getAccountDescriptionByAccountId:m,getProviderFromAccount:S}=n(),{listId:p,messageGroup:C}=t,A=(0,O.BA)([p]),T=C.id,h=r(T,p),D=o(T),R=D.length,N=d(h),L=u(N),f=S(L),M=m(L),{subject:P,isRead:b,isStarred:v}=(0,g.K)(e,{streamId:A,groupId:T,listId:p,relevantMessageId:h,firstMessageId:D.length?D[0]:null}),{getSetting:F,isEnabled:U}=l(),k=F(i.Zrf.STAR_ANIMATION);let w=!1;if(E(i.ANe.PINNED_EMAILS)){w=F(i.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS).some((e=>e.startsWith(`${null==D?void 0:D[0]}${i.Vky}`)))}return{subject:P,isRead:b,flagged:v,messageCount:R,formatFolderName:_,folderId:N,getAccountLabel:G(M,f),starAnimation:k,accountId:L,firstMessageId:(null==D?void 0:D[0])||null,fromPeopleView:c(T,p),showTodoOnboardingCue:U(i.ANe.TODO_ONBOARDING_CUE_PART3),hasKeyword:!!(0,y.Q7)(p),highlightSearchResultsPage:U(i.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE),messageIds:D,streamId:A,groupId:T,listId:p,isPinned:w}}),(e=>({navigateToPeopleView:t=>{e((0,f.Fm)(t))}})))(w);var B=s(12897),x=s(8470),V=s(40918),Z=s(87771),W=s(81163),K=s.n(W),z=s(78735);function Y(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const j=S()(K()),q=()=>{};class X extends r.Component{constructor(...e){super(...e),Y(this,"handleClick",(e=>{e.preventDefault(),e.stopPropagation(),this.props.onReplyAll(e)})),Y(this,"handleButtonGroupClick",(e=>{const t=e.target.getAttribute("data-kind");e.preventDefault(),e.stopPropagation(),"text"!==t&&("reply"===t?this.props.onReply(e):"forward"===t?this.props.onForward(e):this.props.onReplyAll(e))}))}render(){const{stationeryRestrictedThemes:e,rtl:t,gif:a,stationery:n,showSmartReplyForLastCard:o,messageGroupId:i,message:l,resizeWatcherRef:c,width:_}=this.props;return r.createElement("div",{ref:c,className:j.container,"data-test-id":"quick-reply",onClick:this.handleClick},r.createElement("div",{"data-test-id":"quick-reply-button-group",className:j.buttonGroup,onClick:this.handleButtonGroupClick},r.createElement(x.Z,{kind:V.F.TOOLBAR,tabIndex:0},r.createElement(d.FormattedHTMLMessage,{id:"reply_replyall_forward",defaultMessage:'<li class="{listItemClass}"><button tabIndex="-1" data-kind="reply" class="{buttonClass}">Reply</button></li><li class="{listItemClass}" data-kind="text">, </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="replyAll" class="{buttonClass}">Reply All</button></li><li class="{listItemClass}" data-kind="text"> or </li><li class="{listItemClass}"><button tabIndex="-1" data-kind="forward" class="{buttonClass}">Forward</button></li>',values:{buttonClass:j.button,listItemClass:j.listItem}}))),o&&r.createElement(Z.cr,{defer:!0,import:"../../message_card/atoms/reply_suggestions",messageGroupId:i,message:l,conversations:!0,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,94169))},_moduleResolver:function(){return 94169}}),r.createElement("span",{className:j.toolbar},r.createElement(B.ZP,{formatState:{},onExecuteAction:q,focusOnEditor:q,disabled:!0,stationeryEnabled:n,gifFinderEnabled:a,stationeryRestrictedThemes:e,rtl:t,width:_})))}}Y(X,"contextTypes",{config:n().object,intl:d.intlShape.isRequired,executeAction:n().func.isRequired});const Q=(0,z.H)(X);var J=s(33954),$=s(98901),ee=s(30982),te=s(40564),se=s(14196),ae=s(549),ne=s(42747),re=s.n(ne),oe=s(54418),ie=s(34656);let le;function ce(e,{id:t,renderToTheSide:s,appendNode:a,referenceNode:n={},clearTooltipOn:o={}},l){le&&c.unmountComponentAtNode(le),le=document.createElement("div"),a.appendChild(le);const _=(0,ie.z)(function(e,t){class s extends r.Component{constructor(e){super(e),this.state={reStyle:{}}}componentWillUnmount(){const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.removeEventListener("scroll",this.clear),t&&t.removeEventListener("click",this.clear),s&&s.removeEventListener("keydown",this.clear),this.clear()}clear(){clearTimeout(this.timeout),t&&(c.unmountComponentAtNode(t),t=null)}componentDidMount(){this.timeout=setTimeout((()=>{this.clear()}),3e3),this.reStyle();const{clearTooltipOn:{scroll:e,click:t,keydown:s}}=this.props;e&&e.addEventListener("scroll",this.clear),t&&t.addEventListener("click",this.clear),s&&s.addEventListener("keydown",this.clear)}reStyle(){if(this.tooltipChildRef&&this.tooltipChildRef.getBoundingClientRect){const{height:e}=this.tooltipChildRef.getBoundingClientRect(),{style:t={}}=this.props;"number"==typeof t.top&&e>26&&this.setState({reStyle:{top:t.top-10*(Math.ceil(e/26)-1)}})}}render(){const{reStyle:t}=this.state,{style:s,renderToTheSide:a}=this.props,n=S()(re(),{left:a===i.DU2.LEFT,right:a===i.DU2.RIGHT}),o=Object.assign({},s,t),l=r.cloneElement(e,{childRef:(e=>this.tooltipChildRef=e).bind(this)});return r.createElement("div",{className:n.tooltip,title:"",style:o},l)}}return s.contextTypes={intl:d.intlShape.isRequired},s}(e,le));let E={};const{parent:u,child:m,positionCalculator:p,expanded:C}=n;p&&(E=p(u,m,(0,oe._)(l.config,"rtl"),C)),c.render(r.createElement(d.IntlProvider,window.AppIntl,r.createElement(_,{key:t,renderToTheSide:s,style:E,context:l,clearTooltipOn:o})),le)}class de extends r.Component{render(){return r.createElement("div",{ref:this.props.childRef},r.createElement(d.FormattedMessage,{id:"mark_as_read_shortcut_changed",defaultMessage:'Shortcut to "Mark as Read" has changed to SHIFT+K'}))}}var _e,Ee,ue;_e=de,Ee="contextTypes",ue={intl:d.intlShape.isRequired},Ee in _e?Object.defineProperty(_e,Ee,{value:ue,enumerable:!0,configurable:!0,writable:!0}):_e[Ee]=ue;const me=de;class Se extends r.Component{render(){return r.createElement("div",{ref:this.props.childRef},r.createElement(d.FormattedMessage,{id:"mark_as_unstar_shortcut_changed",defaultMessage:"Shortcut to unstar has changed to SHIFT+L"}))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(Se,"contextTypes",{intl:d.intlShape.isRequired});const pe=Se;var Ce=s(17016),Ae=s(3405),Te=s(80981),Ie=s(13957),he=s(52997),ge=s(53185),Oe=s.n(ge),De=s(43007);const Re=S()(Oe());function Ne({onRetry:e,disableRetry:t,isOnline:s}){return s?r.createElement("div",{"data-test-id":"message-view-error",className:Re.emptyBody},r.createElement("span",{style:{flexGrow:1}}),r.createElement(De.Z,{kind:T.Kinds.EXCLAMATION_ALT,size:T.Sizes.S,colorState:T.ColorStates.WARNING_GRAD_RED}),r.createElement("span",{className:Re.emptyBodyMessage},r.createElement(d.FormattedMessage,{id:"message.error_message",defaultMessage:"We couldn't load this message. {retry}",values:{retry:t?r.createElement(d.FormattedMessage,{id:"message.retry_later_message",defaultMessage:"Please try again later."}):r.createElement("a",{className:Re.emptyBodyRetry,onClick:e,"data-test-id":"body-error-retry"},r.createElement(d.FormattedMessage,{id:"message.retry_message",defaultMessage:"Retry"}))}})),r.createElement("span",{style:{flexGrow:1}})):r.createElement("div",{"data-test-id":"message-view-error",className:Re.emptyBody},r.createElement("span",{style:{flexGrow:1}}),r.createElement(De.Z,{kind:T.Kinds.EXCLAMATION_ALT,size:T.Sizes.S,colorState:T.ColorStates.WARNING_GRAD_RED}),r.createElement("span",{className:Re.emptyBodyMessage},r.createElement(d.FormattedMessage,{id:"message.offline_error_message",defaultMessage:"You are offline"})),r.createElement("span",{style:{flexGrow:1}}))}var Le=s(26);const fe=S()(Oe());class Me extends r.Component{constructor(...e){super(...e),function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(this,"state",{takesLong:!1})}componentDidMount(){this.timeout=setTimeout(function(){this.setState({takesLong:!0})}.bind(this),1e3)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return r.createElement("div",{className:fe.loadingContainer},this.state.takesLong&&r.createElement(Le.Z,null))}}const Pe=Me;var be=s(45282),ye=s(94482),ve=s(77078),Fe=s(34866),Ue=s(11160),ke=s(31509),we=s(18030),Ge=s(77301),He=s.n(Ge),Be=s(65304);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const Ve=S()(He()),Ze=(0,d.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class We extends r.Component{render(){const{formatMessage:e}=this.context.intl;return r.createElement(Ue.Z,{className:Ve.popoverContainer},r.createElement(ke.Z,null,r.createElement(u.default,{kind:T.Kinds.MORE,size:T.Sizes.XS,title:e(Ze.more_menu_label),"aria-label":e(Ze.more_menu_label),colorState:T.ColorStates.INHERITED,paddingLess:!0,"data-test-id":"more-card-trigger",tabIndex:0})),r.createElement(we.ZP,{triggerOn:Be.K2.CLICK,onMouseEnter:this.props.onMoreMenuEnter,onMouseLeave:this.props.onMoreMenuLeave,permittedArrowDirections:[Be.Ji.DOWN],align:Be.xM.START,offset:16,"data-test-id":"more-card-menu"},r.createElement(Z.cr,xe({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,13610))},_moduleResolver:function(){return 13610}}),r.createElement(Z.nA,{loading:!0},r.createElement(Le.Z,null)))))}}!function(e,t,s){t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s}(We,"contextTypes",{executeAction:n().func,intl:d.intlShape.isRequired});const Ke=We;var ze=s(25060),Ye=s.n(ze);function je(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const qe=S()(Ye()),Xe=(0,d.defineMessages)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class Qe extends r.Component{render(){const{intl:e}=this.context,{formatMessage:t}=e,{onReply:s,onReplyAll:a,onForward:n,onArchive:o,onDelete:i,onBlockSenders:l,onPrint:c,onRawMessage:d,forwardEnabled:_,replyEnabled:E,replyAllEnabled:m,message:S,onRead:p,onUnread:C,onStar:A,onUnstar:I}=this.props;return r.createElement("div",{className:qe.wrapper,"data-test-id":"card-toolbar"},r.createElement(Fe.Z,null),r.createElement("div",{className:qe.container},r.createElement(x.Z,{kind:V.F.TOOLBAR},r.createElement(ye.Z,{kind:ve.F.TOOLBAR_ITEM},r.createElement("span",{className:qe.toolbarItem+" "+qe.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-reply",kind:T.Kinds.REPLY,size:T.Sizes.XS,title:t(Xe.message_reply),"aria-label":t(Xe.message_reply),colorState:T.ColorStates.INHERITED,onClick:s,disabled:!E,paddingLess:!0,tabIndex:0}))),r.createElement(ye.Z,{kind:ve.F.TOOLBAR_ITEM},r.createElement("span",{className:qe.toolbarItem+" "+qe.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-reply-all",kind:T.Kinds.REPLY_ALL,size:T.Sizes.XS,title:t(Xe.message_reply_all),"aria-label":t(Xe.message_reply_all),colorState:T.ColorStates.INHERITED,onClick:a,disabled:!m,paddingLess:!0,tabIndex:0}))),r.createElement(ye.Z,{kind:ve.F.TOOLBAR_ITEM},r.createElement("span",{className:qe.toolbarItem+" "+qe.rtlRawScaleX},r.createElement(u.default,{"data-test-id":"card-toolbar-button-forward",kind:T.Kinds.FORWARD,size:T.Sizes.XS,title:t(Xe.message_forward),"aria-label":t(Xe.message_forward),colorState:T.ColorStates.INHERITED,onClick:n,disabled:!_,paddingLess:!0,tabIndex:0}))),r.createElement(ye.Z,{kind:ve.F.TOOLBAR_ITEM},r.createElement("span",{className:qe.moreMenuItem},r.createElement(Ke,{"data-iskeynav":!0,onArchive:o,onDelete:i,onRawMessage:d,onPrint:c,onBlockSenders:l,message:S,onMoreMenuEnter:this.props.onMoreMenuEnter,onMoreMenuLeave:this.props.onMoreMenuLeave,onRead:p,onUnread:C,onStar:A,onUnstar:I})))),r.createElement(Fe.Z,null),r.createElement("hr",{className:qe.bottomLine})),r.createElement(Fe.Z,null))}}je(Qe,"contextTypes",{intl:d.intlShape.isRequired}),je(Qe,"defaultProps",{replyEnabled:!0,replyAllEnabled:!0,forwardEnabled:!0});const Je=Qe;var $e=s(29045),et=s.n($e),tt=s(85458),st=s(79159),at=s(44865),nt=s(91869);function rt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ot=e=>{e.preventDefault()},it=M.nJ.MSG_BODY;class lt extends r.Component{constructor(e){super(e),rt(this,"handleBlur",(()=>{this.canTakeFocus=!0})),rt(this,"focus",(()=>{!this.canTakeFocus&&this.refs.content&&this.props.active&&this.refs.content.focus()})),rt(this,"handleSelectAll",(()=>{const e=document.getSelection(),t=document.createRange();t.selectNodeContents(this.refs.content),e.removeAllRanges(),e.addRange(t)})),rt(this,"handleRead",(e=>{const{message:t,onToggleRead:s}=this.props,a={interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),void 0!==e.keyCode&&t.flags.read||s({i13nModel:a})})),rt(this,"handleUnread",(e=>{const{message:t,onToggleRead:s}=this.props,a={interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),void 0===e.keyCode||t.flags.read?s({i13nModel:a}):this.showCoachTooltip({selectedCard:[t],interaction:Ie.vt.INTERACTION_GROUP_UNREAD})})),rt(this,"handleReply",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:M.JE.MSG_REPLY,sec:it,mKeyGroup:M.rO.replyMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.REPLY,listId:a,messageGroupId:t,messageId:s.id})})),rt(this,"handleBlockSenders",(e=>{(0,ae.C)(r.createElement(Te.ZP,{emailIds:e,listId:this.props.listId}),this.context)})),rt(this,"handleReplyAll",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:M.JE.MSG_REPLY_ALL,sec:it,mKeyGroup:M.rO.replyAllMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.REPLY_ALL,listId:a,messageGroupId:t,messageId:s.id})})),rt(this,"handleForward",(e=>{const{messageGroupId:t,message:s,listId:a,onReplyForward:n}=this.props,r={mKey:M.JE.MSG_FORWARD,sec:it,mKeyGroup:M.rO.forwardMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),n({i13nModel:r,streamId:(0,O.BA)([a]),composeMode:i.AGu.Modes.FORWARD,listId:a,messageGroupId:t,messageId:s.id})})),rt(this,"handleArchive",(e=>{const{message:t,navigateOnMessageAction:s,onArchive:a}=this.props,n={mKey:M.JE.MSG_ARCHIVE,sec:it,mKeyGroup:M.rO.archiveMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),s(),a({messageIds:[t.id],triageActionType:i.Ewo.ARCHIVE_SELECTED_ITEMS,i13nModel:n})})),rt(this,"handleShareCard",((e,t)=>{this.context.navigateTo({route:(0,Ae.Rl)((0,Ce.generateUID)()),initialSubject:e,initialBody:t})})),rt(this,"handleShareCardLinkClick",((e,t)=>{const{message:s}=this.props,a=e.currentTarget.innerText;this.props.onLinkEnhancerlinkShare({i13nModel:{mKey:M.JE.LINK_ENHANCER_SHARE_LINK,sec:M.nJ.MSG_BODY,actionData:{mHref:t,msgId:s.id,sharedBy:a}}})})),rt(this,"isPermanentDelete",(e=>e.indexOf(i.Sck.BULK)>-1||e.indexOf(i.Sck.TRASH)>-1||e.indexOf(i.Sck.DRAFT)>-1)),rt(this,"hideConfirm",(()=>{null!==this.state.confirmState&&this.setState({confirmState:null})})),rt(this,"handleDelete",(e=>{const{messageGroupId:t,message:s,listId:a,navigateOnMessageAction:n,onDelete:r}=this.props,o=this.isPermanentDelete(s.folder.types),l={mKey:M.JE.MSG_DELETE,sec:it,mKeyGroup:M.rO.deleteMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),null===this.state.confirmState&&o?this.setState({confirmState:{title:at.Z.list_delete_title,message:at.Z.list_perm_delete_message,onConfirm:this.handleDelete,onAbort:this.hideConfirm},hover:!1}):(n(),r({messageIds:[s.id],messageGroupIds:[t],listId:a,streamId:(0,O.BA)([a]),streamItem:{id:t,listId:a,messageIds:[s.id]},permanent:this.isPermanentDelete(s.folder.types),isAsync:!1,conversations:!1,triageActionType:i.Ewo.DELETE_SELECTED_ITEMS,i13nModel:l}),this.hideConfirm())})),rt(this,"renderConfirmDialog",(()=>{if(null===this.state.confirmState)return null;const{confirmState:e}=this.state,{formatMessage:t}=this.context.intl;return r.createElement(nt.Z,{title:t(e.title),message:t(e.message,{conversations:!1,count:1}),onConfirm:e.onConfirm,onAbort:e.onAbort})})),rt(this,"handlePrint",(e=>{const t={mKey:M.JE.MSG_HDR_PRINT,sec:it,mKeyGroup:M.rO.printMsg,interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e);const{messageGroupId:s,message:a,onPrint:n}=this.props;n({messageGroupId:s,message:a,i13nModel:t})})),rt(this,"handleRawMessage",(e=>{const{message:t}=this.props;ot(e),this.context.executeAction($.sR,{messageId:t.id})})),rt(this,"handleToggleExpand",(()=>{this.props.onToggleExpand()})),rt(this,"showCoachTooltip",(({selectedCard:e=[],interaction:t=""})=>{if(!e.length)return;const{expanded:s}=this.props,a=e[0].id;let n,o,l,c;switch(t){case Ie.vt.INTERACTION_GROUP_UNREAD:o=this.readIconContainer,n=r.createElement(me,null),c=i.DU2.RIGHT,l=(e,t,s=!1,a=!0)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:l,left:c}=t.getBoundingClientRect();return{left:s?"auto":i-n-2,top:l-r+(a?-4:1),right:s?o-c-2:"auto"}};break;case Ie.vt.INTERACTION_GROUP_FLAGGED:o=this.starIconContainer,n=r.createElement(pe,null),c=i.DU2.LEFT,l=(e,t,s=!1,a=!1)=>{if(!e||!t)return{};const{left:n,top:r,right:o}=e.getBoundingClientRect(),{right:i,top:l,left:c}=t.getBoundingClientRect();return{right:s?"auto":o-i+4,top:l-r+(a?-4:1),left:s?c-n+4:"auto"}}}o&&ce(n,{id:a,renderToTheSide:c,appendNode:o,referenceNode:{parent:this.refs.content,child:o,positionCalculator:l,expanded:s},clearTooltipOn:{click:this.refs.content,keydown:this.refs.content}},this.context)})),rt(this,"handleStar",(e=>{const{message:t,onToggleStar:s}=this.props,a={interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),void 0!==e.keyCode&&t.flags.flagged?this.showCoachTooltip({selectedCard:[t],interaction:Ie.vt.INTERACTION_GROUP_FLAGGED}):s({i13nModel:a})})),rt(this,"handleUnstar",(e=>{const{message:t,onToggleStar:s}=this.props,a={interactionType:(0,Ce.getInteractionFromEvent)(e)};ot(e),(void 0===e.keyCode||t.flags.flagged)&&s({i13nModel:a})})),rt(this,"handleClick",(()=>{this.props.onClick()})),rt(this,"handleKeyDown",(e=>{if((e.metaKey||e.ctrlKey)&&"A"===String.fromCharCode(e.which))return ot(e),e.stopPropagation(),this.handleSelectAll();if(e.ctrlKey||e.metaKey||e.altKey)return;if("Enter"===e.key&&(ot(e),e.stopPropagation(),this.props.expandable))return this.handleToggleExpand();const t=String.fromCharCode(e.which);switch(t){case"K":if(!e.shiftKey)return e.stopPropagation(),this.handleUnread(e);e.stopPropagation(),this.handleRead(e);break;case"L":if(!e.shiftKey)return e.stopPropagation(),this.handleStar(e);e.stopPropagation(),this.handleUnstar(e)}if(!e.shiftKey&&this.props.bodyState===i.DAQ.LOADED)switch(t){case"R":e.stopPropagation(),this.handleReply(e);break;case"A":e.stopPropagation(),this.handleReplyAll(e);break;case"F":e.stopPropagation(),this.handleForward(e);break;case"P":e.stopPropagation(),this.handlePrint(e)}})),rt(this,"handleHrefLinkClick",((e,t)=>{const{message:s}=this.props;this.props.handleHrefLinkClick({decos:t,linkTarget:e,message:s})})),rt(this,"handleToolbarOnMouseEnter",(()=>{this.setState({showToolbar:!0})})),rt(this,"handleToolbarOnMouseLeave",(()=>{this.setState({showToolbar:!1})})),rt(this,"handleMoreMenuEnter",(()=>{this.props.active||this.setState({showToolbar:!0})})),rt(this,"handleMoreMenuLeave",(()=>{this.props.active||this.setState({showToolbar:!1})})),rt(this,"handleChangeImageSetting",(()=>{this.props.changeSettings({name:i.Zrf.SHOW_IMAGES,value:i.Pkg.ALWAYS,i13nModel:{name:M.JE.SHOW_IMG_ALWAYS,sec:M.nJ.MSG_BODY}})})),rt(this,"handleReloadMessage",((e,{full:t,secure:s}={})=>{const{previewMessage:a,listId:n}=this.props;a({listId:n,full:t,secure:s,messageIds:[e]})})),this.canTakeFocus=e.canTakeFocus,this.state={showToolbar:!1,confirmState:null}}componentDidMount(){this.focus()}componentDidUpdate(){this.focus()}render(){const{listId:e,messageGroupId:t,message:a,bodyState:n,retryCount:o,renderAttachmentTray:l,expandable:c,expanded:d,active:_,idx:E,totalMessages:u,conversations:m,showSmartReply:p,onToggleRead:C,onToggleStar:A,isOnline:T,logVisibilityStat:I}=this.props,h=_||this.state.showToolbar,g=S()(et(),{active:_}),O=o>i.KW1,D=!m;let R=null;if(d)switch(n){case i.DAQ.DOES_NOT_EXIST:R=T?r.createElement(Pe,null):r.createElement(Ne,{onRetry:this.handleReloadMessage.bind(this,a.id),disableRetry:O,isOnline:T});break;case i.DAQ.ERROR:R=r.createElement(Ne,{onRetry:this.handleReloadMessage.bind(this,a.id),disableRetry:O,isOnline:T});break;case i.DAQ.LOADED:R=r.createElement("div",{"data-test-id":"message-body-container",onMouseEnter:this.handleToolbarOnMouseEnter,onMouseLeave:this.handleToolbarOnMouseLeave},r.createElement(he.ZP,{groupId:t,headers:a.headers,messageId:a.id,listId:e,folderId:a.folder.id,renderAttachments:l,onMailtoClick:this.props.onMailtoClick,onHrefLinkClick:this.handleHrefLinkClick,onChangeImageSetting:this.handleChangeImageSetting,onShareCard:this.handleShareCard,onShareCardLinkClick:this.handleShareCardLinkClick,onShowQuotedText:this.handleReloadMessage.bind(this,a.id),onShowImages:this.handleReloadMessage.bind(this,a.id),removeCollapseButton:D,quoteExpanded:D,attachments:a.attachments,folder:a.folder,csid:a.csid,logVisibilityStat:I}),r.createElement("div",{className:g.toolbarHoverArea,"data-test-id":"toolbar-hover-area"},h?r.createElement(Je,{onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,onArchive:this.handleArchive,onDelete:this.handleDelete,onRawMessage:this.handleRawMessage,onBlockSenders:this.handleBlockSenders,message:a,onPrint:e=>this.handlePrint(e,"toolbar"),onMoreMenuEnter:this.handleMoreMenuEnter,onMoreMenuLeave:this.handleMoreMenuLeave,onRead:this.handleRead,onUnread:this.handleUnread,onStar:this.handleStar,onUnstar:this.handleUnstar}):null),p&&!m?r.createElement(Z.cr,{defer:!0,import:"./atoms/reply_suggestions",messageGroupId:t,message:a,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,94169))},_moduleResolver:function(){return 94169}}):null);break;default:R=r.createElement(Pe,null)}return r.createElement("div",{ref:"content","data-test-id":"message-view","data-test-expanded":d,className:g.messageCardContainer+" message-view","data-iskeynav":!0,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:this.handleClick,tabIndex:-1},r.createElement(be.ZP,{listId:e,groupId:t,conversations:m,message:a,expanded:d,idx:E,totalMessages:u,onToggleStar:A,onToggleRead:C,onToggleExpand:this.handleToggleExpand,expandable:c,onPrint:this.handlePrint,onAttachmentClick:this.props.scrollToAttachmentTray,starRef:e=>this.starIconContainer=e,readRef:e=>this.readIconContainer=e}),R,this.renderConfirmDialog())}}rt(lt,"defaultProps",{active:!1,canTakeFocus:!1}),rt(lt,"contextTypes",{config:n().object,executeAction:n().func.isRequired,navigateTo:n().func,intl:d.intlShape.isRequired,getStore:n().func,getTheme:n().func,store:n().object});const ct=(0,o.connect)(((e,t)=>{const{isOnline:s,enableSmartReply:a}=(0,I.selectors)(e),{messageGroupId:n,message:r}=t,o=a(n,null==r?void 0:r.id);return{isOnline:s(),showSmartReply:o}}),(e=>({previewMessage:t=>e((0,se.fP)(t)),handleHrefLinkClick:t=>e((0,se.zI)(t)),onLinkEnhancerlinkShare:t=>e(te.y7(t)),changeSettings:t=>e((0,ee.Dy)(t)),onPrint:t=>e((0,se.Cz)(t)),onReplyForward:t=>e((0,se.EM)(t)),onArchive:t=>e((0,tt.nw)(t)),onDelete:t=>e((0,st.CV)(t))})))(lt),dt=()=>{},_t=(0,o.connect)(((e,{csid:t})=>{const{getDraftCardMessage:s}=(0,I.selectors)(e);return s(t)}))((e=>{const{idx:t,csid:s,listId:a,active:n,message:o,conversations:i,totalMessages:l,messageGroupId:c,renderAttachmentTray:d}=e,_=S()(et(),{active:n}),E=!i;return r.createElement("div",{"data-iskeynav":!0,tabIndex:-1,"data-test-id":"message-view","data-test-expanded":!0,className:_.messageCardContainer+" message-view"},r.createElement(be.ZP,{idx:t,expanded:!0,expandable:!0,onPrint:dt,listId:a,message:o,onToggleStar:dt,onToggleRead:dt,onToggleExpand:dt,viglinkClicked:dt,onAttachmentClick:dt,groupId:c,conversations:i,totalMessages:l}),r.createElement("div",{"data-test-id":"message-body-container"},r.createElement(he.ZP,{csid:s,messageId:o.id,folderId:o.folder.id,headers:o.headers,attachments:o.attachments,quoteExpanded:E,renderAttachments:d.bind(null,o),removeCollapseButton:E}),r.createElement("div",{className:_.toolbarHoverArea,"data-test-id":"toolbar-hover-area"})))}));var Et=s(58014),ut=s.n(Et),mt=s(19341),St=s(32440);const pt=S()(ut()),Ct=(0,o.connect)((e=>{const{getMailboxesSelectors:t,getSelectedAccountId:s}=(0,I.selectors)(e),{getAccountEmailByAccountId:a}=t().getAccountsSelectors();return{sender:a(s())}}),(e=>({onShowDraft:t=>e((0,St.bU)(t))})))((({csid:e,sender:t,onShowDraft:s})=>r.createElement("div",{"data-iskeynav":!0,tabIndex:-1,className:pt.composeFormatContainer+" message-view"},r.createElement("header",{className:pt.header},r.createElement("span",{className:pt.popupDraftAvatar},r.createElement(mt.ZP,{contact:{email:t},size:mt.u8.M})),r.createElement("div",{className:pt.readUnread}),r.createElement("div",{className:pt.flexVertical},r.createElement("div",{className:pt.popupDraftFrom},r.createElement("span",{className:pt.popupDraft},r.createElement(d.FormattedMessage,{id:"full_compose.show_draft_description",defaultMessage:"You are currently editing your reply in a separate window. {showLink}",values:{showLink:r.createElement("a",{href:"#",className:pt.draftLink,onClick:t=>{t.preventDefault(),s({csids:[e]})}},r.createElement(d.FormattedMessage,{id:"full_compose.show_draft",defaultMessage:"Show draft here."}))}}))))))));var At=s(26453),Tt=s(71995),It=s(4832),ht=s(23493),gt=s.n(ht);function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Dt(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Rt extends r.Component{constructor(...e){super(...e),Dt(this,"state",{engaged:!1}),Dt(this,"update",(()=>{this._isSetup&&this._handleScroll()})),Dt(this,"_shouldEnableSmartScroll",(()=>document.documentElement.scrollWidth<=window.innerWidth)),Dt(this,"_handleWindowResize",(()=>{this._shouldEnableSmartScroll()?(this._isSetup||this._setup(),this.update()):this._teardown()})),Dt(this,"_handleContentChanged",(({caret:e})=>{this._isSetup&&e&&this._scrollTargetIntoView(e.y)})),Dt(this,"_scrollTargetIntoView",(e=>{if(!(this._isMounted()&&this._containerNode&&this._targetNode&&this._headerNode))return;const t=this._containerNode.getBoundingClientRect(),s=this._targetNode.getBoundingClientRect(),a=e+16+this._headerNode.getBoundingClientRect().height,n=s.top-t.top+a,r=n>=(this.state.engaged?t.height-It.TOOLBAR_HEIGHT:t.height),o=n<0,i=!this.state.engaged&&s.bottom+20>t.bottom;o||r?this.scrollTimer=setTimeout((()=>{this._containerNode.scrollTop=this._targetNode.offsetTop+a-Math.round(t.height/2)}),2):i&&(this._containerNode.scrollTop+=s.bottom-t.bottom+20)})),Dt(this,"_alignTargetInContainer",(()=>{if(!this._isMounted()||!this._containerNode||!this._targetNode)return;const e=this._targetNode.getBoundingClientRect(),t=this._containerNode.getBoundingClientRect();e.height<t.height?this._containerNode.scrollTop=this._targetNode.offsetTop-(t.height-e.height-20):this._containerNode.scrollTop=this._targetNode.offsetTop-12})),Dt(this,"_handleScroll",(()=>{if(!(this._isMounted()&&this._containerNode&&this._targetNode&&this._headerNode))return;const e=this._containerNode.getBoundingClientRect(),t=this._targetNode.getBoundingClientRect(),s=this._headerNode.getBoundingClientRect(),a=Math.max(s.height+24,160);t.bottom>e.top&&t.top+a<e.bottom&&t.bottom>e.bottom?this._engage(t.width-It.HORIZONTAL_PADDING):this._disengage()})),Dt(this,"_setup",(()=>{this._compose&&(this._containerNode=(0,c.findDOMNode)(this.props.scrollContainer),this._targetNode=(0,c.findDOMNode)(this)),this._containerNode&&this._targetNode&&this._headerNode&&(this._isSetup=!0,this.update(),this._containerNode.addEventListener("scroll",this._handleScroll))})),Dt(this,"_teardown",(()=>{clearTimeout(this.scrollTimer),this._containerNode&&this._containerNode.removeEventListener("scroll",this._handleScroll),this._disengage(),this._isSetup=!1})),Dt(this,"_engage",(()=>{this.state.engaged||this.setState({engaged:!0})})),Dt(this,"_disengage",(()=>{this.state.engaged&&this.setState({engaged:!1})}))}_isMounted(){return this._containerNode&&this._targetNode&&this._headerNode}componentDidMount(){this._handleContentChanged=gt()(this._handleContentChanged,10),this._shouldEnableSmartScroll()&&this._setup(),this._isSetup&&this._alignTargetInContainer()}componentDidUpdate(){!this._isSetup&&this._shouldEnableSmartScroll()&&this._setup()}componentWillUnmount(){this._teardown()}render(){return r.createElement(Tt.ZP,Ot({},this.props,{refToComposeContainer:e=>{this._compose=e},refToComposeHeader:e=>{this._headerNode=(0,c.findDOMNode)(e)},onContentChanged:this._handleContentChanged,toolbarFixed:this.state.engaged,onResize:this._handleWindowResize}))}}Dt(Rt,"contextTypes",{config:n().object.isRequired});const Nt=Rt;var Lt=s(19302),ft=s(94184),Mt=s.n(ft),Pt=s(68370),bt=s.n(Pt),yt=s(63352),vt=s(99691);var Ft=s(41958),Ut=s(72942),kt=s(78136),wt=s(5156),Gt=s(67607),Ht=s(97735),Bt=s(73924),xt=s(18446),Vt=s.n(xt),Zt=s(99839),Wt=s(77031),Kt=s(55831),zt=s(95406),Yt=s(81732),jt=s(65127),qt=s(83034),Xt=s(8578),Qt=s.n(Xt),Jt=s(7426),$t=s(29911),es=s(60030),ts=s(40315),ss=s(79483);const as=(e,t)=>{const s=(e=>"A"===e?[i.Jd6.INV,i.Jd6.EEG,i.Jd6.CPN]:[i.Jd6.INV,i.Jd6.EEG])(e);for(const a of s)if(t.includes(a))return a;return null},ns=(0,d.defineMessages)({dismiss:{id:"app_banner.dismiss_label",defaultMessage:"Dismiss"},invoice_prompt:{id:"suggested_todo.pay_invoice_prompt",defaultMessage:"Pay invoice from {senderName} {showExpiry, select, true {by {expiresOn, date, medium}} other {}}"},giftcard_prompt:{id:"suggested_todo.use_giftcard_prompt",defaultMessage:"Use gift card from {senderName} {showExpiry, select, true {by {expiresOn, date, medium}} other {}}"},deal_prompt:{id:"suggested_todo.use_deal_prompt",defaultMessage:"Use deal from {senderName} {showExpiry, select, true {by {expiresOn, date, medium}} other {}}"}}),rs=(0,o.connect)(((e,{msgId:t})=>{var s;const{getMessagesSelectors:a,getTodoSelectors:n,isFeatureEnabled:r,getFalconRelatedCardSelectors:o,getGroupIdContainingMessageId:l,getInvoiceSelectors:c,getGiftCardSelectors:d}=(0,I.selectors)(e),{areTodosLoaded:_,getTodoByMessageId:E}=n(),{getDecos:u,getFromAddresses:m,getConversationId:S}=a(),p=m(t);let C=r(i.ANe.MAIL_TODO_SMART_SUGGESTIONS)&&_()&&!E(t);const A=r(i.ANe.MAIL_TODO_SUGGESTIONS_VARIATION_A)?"A":"B",T=as(A,u(t).map((e=>e.id))),h={},g=l(t);if(C=C&&T,C)switch(T){case i.Jd6.CPN:{const{getICDealcardsByGroupId:e}=o(),t=e(g).filter((e=>e.dealType===i.WSI.EXTRACTED_DEAL))[0];var O;if(t)null!==(O=t.expirationTime)&&void 0!==O&&O.timestamp&&(h.expiresOn=(0,ts.Zw)(30)(new Date(t.expirationTime.timestamp)));else C=!1;break}case i.Jd6.INV:{const{getInvoiceCardsByGroupId:e}=c(),t=e(g)[0];t?t.dueOn&&!t.isDueOnInferred&&(h.expiresOn=(0,ts.Zw)(30)(new Date(t.dueOn))):C=!1;break}case i.Jd6.EEG:{const{getGiftCardsByGroupId:e}=d(),t=e(g)[0];t?t.dueOn&&!t.isDueOnInferred&&(h.expiresOn=(0,ts.Zw)(30)(new Date(t.dueOn))):C=!1}}return{showCard:C,cid:S(t),decoId:T,cardInfo:h,getSenderName:e=>(0,es.sl)({senders:p,myAddresses:[]},e),senderDomain:null!==(s=p[0])&&void 0!==s&&s.email?(0,Ce.destructEmailAddressParts)(p[0].email).domainPart:""}}))((e=>{const{msgId:t,cid:s,decoId:a,showCard:n,getSenderName:o,senderDomain:l,cardInfo:c}=e,{theme:_}=(0,r.useContext)($t.Z),E=(0,Yt.I0)(),{formatMessage:u}=(0,Jt.Y)(),m=(0,qt.Z)(Qt(),{theme:_});if((0,r.useEffect)((()=>{n&&ss.ZP.sendI13nModel({i13nModel:{mKey:M.JE.SUGGESTED_TODO_CARD_SHOWN,sec:M.nJ.MSG_HEADER,actionData:{decoId:a}}})}),[n,a]),!n)return null;const{expiresOn:S}=c,p=(e=!1)=>{const t=o(u),s=e&&!!S;switch(a){case i.Jd6.INV:return u(ns.invoice_prompt,{senderName:t,showExpiry:s,expiresOn:S}).trim();case i.Jd6.EEG:return u(ns.giftcard_prompt,{senderName:t,showExpiry:s,expiresOn:S}).trim();case i.Jd6.CPN:return u(ns.deal_prompt,{senderName:t,showExpiry:s,expiresOn:S}).trim()}};return r.createElement("div",{className:m.container},r.createElement("span",{className:m.heading},r.createElement(d.FormattedMessage,{id:"suggested_todo.heading",defaultMessage:"Suggested to-do:"})),r.createElement("span",{role:"heading",className:m.suggested_title},p(!0)),r.createElement(Fe.Z,null),r.createElement("button",{className:m.add_btn,onClick:e=>{const n={mKey:M.JE.CREATING_TODO_FROM_MESSAGE,sec:M.nJ.MSG_HEADER,interactionType:(0,Ce.getInteractionFromEvent)(e),actionData:{decoId:a,senderDomain:l}};E((0,jt.Fn)({i13nModel:n,todoContext:{summary:p(),externalRef:{msgId:t,cid:s},...S&&{dueOn:S}}}))}},r.createElement(d.FormattedMessage,{id:"suggested_todo.add_prompt",defaultMessage:"Add to to-dos"})))}));var os=s(87033),is=s(16680),ls=s(98397),cs=s.n(ls),ds=s(66710);const _s=(0,d.defineMessages)({todo_due_summary:{id:"todo_card.due_summary",defaultMessage:"Due {dueDate, date, medium} at {dueTime, time, short}"}}),Es=(0,o.connect)(((e,{item:t})=>{const{getTodoSelectors:s,isFeatureEnabled:a}=(0,I.selectors)(e),{isPendingUpdate:n,getPendingUpdateType:r}=s();return{isHidden:n(t.uid)&&r(t.uid)===ds.OZ.DELETE,remindersEnabled:a(i.ANe.MAIL_TODO_NOTIFICATIONS)}}))((e=>{const{item:t,isHidden:s,remindersEnabled:a}=e,{formatMessage:n}=(0,Jt.Y)(),{theme:o}=(0,r.useContext)($t.Z),i=(0,qt.Z)(cs(),{theme:o}),l=`todo-${t.uid}-info-card`;if(s)return null;return r.createElement("div",{className:i.container},r.createElement(os.Z,{id:l,todo:t,size:T.Sizes.S,sec:M.nJ.MSG_HEADER}),r.createElement("div",{className:i.section},r.createElement("span",{className:i.heading},r.createElement(d.FormattedMessage,{id:"todo_card.heading",defaultMessage:"YOUR TO-DO"})),r.createElement("div",{className:i.flex_center},r.createElement("label",{className:i.todo_item_summary,htmlFor:l,onClick:e=>e.preventDefault()},t.summary),r.createElement(Fe.Z,null),r.createElement("div",{className:i.flex_center},(()=>{if(t.dueOn)return r.createElement("span",{className:i.todo_item_due_date,"data-test-id":"todo_card.due_date"},n(_s.todo_due_summary,{dueDate:t.dueOn,dueTime:t.dueOn}))})(),(()=>{if(a&&t.reminders)return r.createElement("span",{className:i.todo_item_reminder_icon,"data-test-id":"todo_card.reminder_icon"},r.createElement(De.Z,{kind:T.Kinds.BELL_OUTLINE,size:T.Sizes.XXS,colorState:T.ColorStates.LESS_IMPORTANT}))})(),r.createElement(is.Z,{item:t,sec:M.nJ.MSG_HEADER}))),(()=>{if(t.description)return r.createElement("div",{className:i.todo_item_description,"data-test-id":"todo_card.description"},t.description)})()))}));function us(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const ms=M.nJ.MSG_BODY,Ss=["shift+p"],ps=(0,d.defineMessages)({conversation_view_label:{id:"message_group_view.conversation_view",defaultMessage:"Conversation View"},message_view_label:{id:"message_group_view.message_view",defaultMessage:"Message View"}}),Cs=e=>`${e.csid}-${e.folderType}`,As=e=>`MessageGroupView-${e}`;class Ts extends r.Component{constructor(e){super(e),us(this,"getSavedScrollTop",(()=>this.initialScrollTop?this.initialScrollTop:this.props.preservedState&&this.props.preservedState.uiState?this.initialScrollTop=this.props.preservedState.uiState.scrollTop:0)),us(this,"navigateOnMessageAction",(()=>{const{listId:e,messageGroup:t}=this.props;this.props.loadMoreItems({listId:e,currentGroupId:t.id})})),us(this,"getUIState",(()=>{const e=this._scrollContainer&&(0,c.findDOMNode)(this._scrollContainer),{uiState:t={}}=this.props.preservedState;return e?{type:i.sKi.COMPONENT_UI_STATE,hash:As(this.props.groupIdStateHash),id:this.props.messageGroup.id,uiState:{...t,scrollTop:e.scrollTop}}:{}})),us(this,"handleShortcuts",(e=>{const t=String.fromCharCode(e.which).toLowerCase(),s=this._getFirstAttachment();"p"===t&&e.shiftKey&&s&&(e.stopPropagation(),e.preventDefault(),(0,vt.M)(s)?this.previewAttachment(s.id,(0,Ce.getInteractionFromEvent)(e)):this.props.onPreviewAttachmentAlert({downloadUrl:s.downloadUrl}))})),us(this,"previewAttachment",((e,t)=>{const{messageGroup:s,previewPaneSetting:a,route:n}=this.props,r=n.query.messagePreview||a!==i.EsZ.NO&&-1===[i.n8z.MESSAGE_FROM_FOLDER_LIST,i.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(n.name)?{messagePreview:"1"}:{},o={mKey:M.JE.OPEN_DOC_PREVIEW,sec:M.nJ.ATTM_PREVIEW,interactionType:t};this.context.navigateTo({route:(0,Ae.Sk)(this.props.listId,s.id,e,r),i13nModel:o})})),us(this,"renderAttachments",(e=>{const{attachments:t,folder:s}=e,a=void 0!==s&&s.types.filter((e=>e===i.Sck.BULK)).length>0;return t&&t.length?r.createElement(At.ZP,{ref:t=>this._attachmentTrays[e.id]=t,attachments:t,readOnly:!0,allowDownload:!a,mayContainVirus:a,message:e,onAttachmentPreview:this.previewAttachment,shouldShowSpamAttachmentWarning:this.props.shouldShowSpamAttachmentWarning}):null})),us(this,"scrollToAttachmentTray",(e=>{const t=this._attachmentTrays[e];t&&(0,c.findDOMNode)(t)&&(0,c.findDOMNode)(t).scrollIntoView()})),us(this,"hasDeco",((e,t)=>t.some((t=>t&&t.id===e)))),us(this,"handleMailtoClick",((e,t)=>{if(!t)return;const s=(0,Ce.generateUID)();this.props.onOpenComposeView({route:(0,Ae.Rl)(s),mailtoAttr:t,message:e})})),us(this,"handleMessageRead",((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n,onToggleRead:r}=this.props,o=!e.flags.read;r(o,{messageIds:[e.id],streamId:a,streamItem:{messageIds:[e.id],id:s.id,listId:n},i13nModel:Object.assign({mKey:o?M.JE.MSG_HDR_MARK_READ:M.JE.MSG_HDR_MARK_UNREAD,sec:ms,mKeyGroup:o?M.rO.markRead:M.rO.markUnread},t)})})),us(this,"handleMessageStar",((e,{i13nModel:t={}})=>{const{messageGroup:s,streamId:a,listId:n,onToggleStar:r}=this.props,o=!e.flags.flagged;r(o,{messageIds:[e.id],streamId:a,streamItem:{messageIds:[e.id],id:s.id,listId:n},i13nModel:Object.assign({mKey:o?M.JE.MSG_HDR_MARK_STAR:M.JE.MSG_HDR_MARK_UNSTAR,sec:ms,mKeyGroup:o?M.rO.markStar:M.rO.markUnstar},t)})})),us(this,"_logVisibilityStat",(e=>{const{conversations:t,hasCalendarCard:s,hasCoupon:a}=this.props;Zt.Z.error("message_visibility_stat",{...e,hasCoupon:a,conversations:t,hasCalendarCard:s})})),us(this,"renderCard",((e,t,s)=>{const{cards:a,bodyStates:n,retryCounts:o,listId:l,messageGroup:c,windowDimensions:d,hasAttachmentPreview:_,canTakeFocus:E,conversations:u,hasCalendarCard:m,canEditSubject:S,isSendRequested:p,showComposeTray:C}=this.props;let A;const{message:T}=t,I=Cs(t),{messageId:h,expansionState:g}=t,O=n[h],D=o[h],R=this.state.activeItem===I,N=a.findIndex((e=>e.id===t.id)),L=[i.Lvq.EXPANDED,i.Lvq.TEMPORARY_EXPANSION].indexOf(g)>-1;if(t.folderType===i.Sck.DRAFT&&t.hasComposeFormat)A=r.createElement(Ct,{csid:t.csid});else if(t.folderType===i.Sck.DRAFT&&p(t.csid))A=r.createElement(_t,{cardId:I,csid:t.csid,totalMessages:t.total,conversations:u,windowDimensions:d,hasAttachmentPreview:_,renderAttachmentTray:this.renderAttachments});else if(t.folderType===i.Sck.DRAFT){const e=this.context.getCss(bt(),{conseqCompose:s&&s.folderType===i.Sck.DRAFT,active:R,isDraftError:O===i.DAQ.ERROR});A=r.createElement("div",{ref:e=>{e&&(this._refs[I]=e,this.adjustBottomMarginForDropdownOverflow(I))},className:e.composeCard,onFocus:this.handleCardActivation.bind(this,t)},r.createElement(Nt,{ref:e=>this._refs[`compose-${I}`]=e,csid:t.csid,showCloseButton:!1,showComposeTray:C,isQuickReply:!0,scrollContainer:this._scrollContainer,windowDimensions:d,hasAttachmentPreview:_,canEditSubject:S,widthChanged:this.props.widthChanged}))}else A=r.createElement(ct,{ref:I,listId:l,messageGroupId:c.id,message:T,idx:N,totalMessages:t.total,bodyState:O,retryCount:D,expanded:L,logVisibilityStat:this._logVisibilityStat,expandable:a.length>1||m,onToggleExpand:this.handleMessageCardExpansion.bind(this,t),onToggleRead:this.handleMessageRead.bind(this,T),onToggleStar:this.handleMessageStar.bind(this,T),onClick:this.handleCardActivation.bind(this,t),onMailtoClick:this.handleMailtoClick.bind(this,T),renderAttachmentTray:this.renderAttachments.bind(this,T),scrollToAttachmentTray:this.scrollToAttachmentTray.bind(this,T.id),active:R,canTakeFocus:E,navigateOnMessageAction:this.navigateOnMessageAction,conversations:u});return r.createElement("li",{key:I,className:e.messageCard},A)})),us(this,"handleStackExpand",((e,t)=>{t.preventDefault();const{cards:s}=e,a=i.Lvq.COLLAPSED;this.props.onChangeMessageCardExpansion({itemsToUpdate:s.map((e=>({...e,expansionState:a})))})})),us(this,"handleMessageCardExpansion",(e=>{const t=e.expansionState===i.Lvq.EXPANDED||e.expansionState===i.Lvq.TEMPORARY_EXPANSION?i.Lvq.COLLAPSED:i.Lvq.EXPANDED;this.props.onChangeMessageCardExpansion({itemsToUpdate:[{...e,expansionState:t}],...t===i.Lvq.EXPANDED?{i13nModel:{mKey:M.JE.OPEN_MSG,sec:M.nJ.MSG_BODY,mKeyGroup:M.rO.openMsg}}:{}}),this.setState({activeItem:Cs(e)})})),us(this,"handleCardActivation",(e=>{const t=Cs(e);this.adjustBottomMarginForDropdownOverflow(t),this.setState({activeItem:t}),(e.messageId||e.csid)&&this.props.onFocusMessageCard({listId:this.props.listId,card:e})})),us(this,"adjustBottomMarginForDropdownOverflow",(e=>{if(this._isLastCard(e)&&this._lastCardIsCompose()&&this._refs[e]){const t=this._refs[e],s=t.getBoundingClientRect();if(s.bottom>=document.body.clientHeight)t.style.marginBottom="";else{const e=document.body.clientHeight-s.bottom-1;t.style.marginBottom=e+"px"}}if(!this._isLastCard(e)&&this._isCardCompose(e)&&this._refs[e]){this._refs[e].style.marginBottom=""}})),us(this,"_isLastCard",(e=>{const{cards:t}=this.props;return!!t.length&&Cs(t[t.length-1])===e})),us(this,"handleKeyDown",((e,t)=>{switch(t.key){case"Enter":return t.preventDefault(),t.stopPropagation(),void this.handleStackExpand(e,t);default:return}})),us(this,"renderStack",((e,t)=>r.createElement("li",{className:e.stack,key:t.cards[0].messageId,onClick:this.handleStackExpand.bind(this,t),onKeyDown:this.handleKeyDown.bind(this,t),"data-test-id":"super-collapse-card","data-iskeynav":!0},r.createElement("div",{className:e.stackLine}),r.createElement("span",{className:e.stackLabel},r.createElement(d.FormattedMessage,{id:"super_collapsed_label",defaultMessage:"+{messageNum, number} from {senderList}",values:{messageNum:t.cards.length,senderList:r.createElement(Lt.Z,{visibleNum:10,senders:(0,l.aS)(t.cards.map((e=>((0,yt.Z)(!e.isDraft,"Stacking drafts is not supported"),e.message)))),myAddresses:this.props.myAddresses,layoutClassNames:e})}})),r.createElement("div",{className:e.stackLine})))),us(this,"renderCardStacks",(e=>{const t=this.props.cards.reduce(((e,t)=>{const s=t.expansionState;let a=e[e.length-1];return a&&s===a.cardExpansion||(a={cardExpansion:s,cards:[]},e.push(a)),a.cards.push(t),e}),[]).map((t=>t.cardExpansion!==i.Lvq.STACKED||t.cards.length<2||this.props.cards.length<10?t.cards.map(((t,s,a)=>this.renderCard(e,t,a[s+1]))):this.renderStack(e,t)));return Array.prototype.concat.apply([],t)})),us(this,"markNewlyLoadedBodiesAsRead",(({messageGroup:e,bodyStates:t,isAppVisible:s,cards:a},{bodyStates:n,isAppVisible:r})=>{const{messagesMarkedAsUnread:o}=this.state,{markAsReadInterval:l,streamId:c,listId:d,streamItems:_,onToggleRead:E}=this.props;if(s&&l!==i.SEm.NEVER){const s=a.filter((e=>{const{message:s,expansionState:a}=e;return!!e.message&&!(s.flags.read||t[s.id]!==i.DAQ.LOADED||a!==i.Lvq.EXPANDED&&a!==i.Lvq.TEMPORARY_EXPANSION||n[s.id]===t[s.id]&&r||-1!==o.indexOf(s.id))}));if(s.length){const t=s.map((e=>e.messageId));this.markReadTimer=setTimeout((()=>{E(!0,{itemId:e.id,messageIds:t,streamId:c,streamItem:{id:e.id,listId:d,messageIds:t},streamItems:_,persistStreamItemExpansionStates:a,isAutomatic:!0})}),r?1e3*l:1e3)}}})),us(this,"getUserInitiatedUnreadStatus",((e,t)=>{const{messagesMarkedAsUnread:s}=this.state,a=[...s];return t.forEach((t=>{if(!t.flags.read){const s=e.find((e=>e.id===t.id&&e.flags.read!==t.flags.read));s&&a.push(s.id)}})),a})),us(this,"handleReplyForward",((e,t)=>{const{streamId:s,listId:a,messageGroup:n}=this.props,r=n?{id:n.id,listId:a}:void 0;this.props.onReplyForward({i13nModel:t,streamId:s,composeMode:e,listId:a,streamItem:r})})),us(this,"handleReply",(e=>{const t={mKey:M.JE.QUICK_REPLY,sec:M.nJ.QUICK_COMPOSE,mKeyGroup:M.rO.replyMsg,interaction_type:(0,Ce.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.REPLY,t)})),us(this,"handleReplyAll",(e=>{const t={mKey:M.JE.QUICK_REPLYALL,sec:M.nJ.QUICK_COMPOSE,mKeyGroup:M.rO.replyAllMsg,interaction_type:(0,Ce.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.REPLY_ALL,t)})),us(this,"handleForward",((e,t="")=>{const s={mKey:M.JE.QUICK_FORWARD,sec:M.nJ.QUICK_COMPOSE,mKeyGroup:M.rO.forwardMsg,interaction_type:t||(0,Ce.getInteractionFromEvent)(e)};this.handleReplyForward(i.AGu.Modes.FORWARD,s)})),us(this,"handleToggleGroupRead",(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a,onToggleRead:n}=this.props,r=t?{id:t.id,listId:a}:void 0,o=t.messages[0].flags.read;n(!o,{streamId:s,streamItem:r,i13nModel:{mKey:o?M.JE.MSG_GRP_HDR_MARK_UNREAD:M.JE.MSG_GRP_HDR_MARK_READ,sec:M.nJ.MSG_BODY,mKeyGroup:o?M.rO.markUnread:M.rO.markRead}})})),us(this,"handleToggleGroupStar",(e=>{e.preventDefault();const{messageGroup:t,streamId:s,listId:a,onToggleStar:n}=this.props,r=t?{id:t.id,listId:a}:void 0,o=t.messages[0].flags.flagged;n(!o,{streamId:s,streamItem:r,i13nModel:{mKey:o?M.JE.MSG_GRP_HDR_MARK_UNSTAR:M.JE.MSG_GRP_HDR_MARK_STAR,sec:M.nJ.MSG_BODY,mKeyGroup:o?M.rO.markUnstar:M.rO.markStar}})})),us(this,"_shouldShowLabels",(()=>!this.props.hasAttachmentPreview)),us(this,"_getFirstAttachment",(()=>{const e=(this.props.messageGroup.messages||[]).find((e=>e.attachments&&e.attachments.length));return e&&e.attachments[0]})),us(this,"_lastCardIsCompose",(()=>{const{cards:e,isSendRequested:t}=this.props;if(!e[e.length-1])return!1;const{folderType:s,csid:a}=e[e.length-1];return Boolean(s===i.Sck.DRAFT&&!t(a))})),us(this,"_isCardCompose",(e=>{const{cards:t,isSendRequested:s}=this.props,a=t.find((t=>Cs(t)===e));if(!a)return!1;const{folderType:n,csid:r}=a;return Boolean(n===i.Sck.DRAFT&&!s(r))})),us(this,"renderSuggestedTodo",(()=>{var e,t;const{messageGroup:s,todoItem:a}=this.props,n=null===(e=s.messages)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.id;return n&&!a&&r.createElement(rs,{msgId:n})})),us(this,"renderTodoInfoCard",(()=>{const{todoItem:e}=this.props;return!!e&&r.createElement(Es,{item:e})})),us(this,"renderCardGroup",(()=>{var e;const{messageGroup:t,couponCards:a,isBatchRelatedCards:n,showCommerceCardGroup:o,relatedCardsStatus:l}=this.props,{messages:c}=t;return!("decos"in c[0])||n&&l!==i.bYh.LOADED?null:o?r.createElement(Z.cr,{key:"commerceCardGroup",import:"../card_group/molecules/commerce_card_group",groupId:t.id,parentMessageId:c[0].id,onForward:this.handleForward,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,37687))},_moduleResolver:function(){return 37687}}):r.createElement(Z.cr,{defer:!0,key:"cardGroup",import:"../card_group",lastMessageId:c[c.length-1].id,parentMessageId:c[0].id,messageSubject:null===(e=c[0].headers)||void 0===e?void 0:e.subject,couponCards:a,currentGroupId:t.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,53123))},_moduleResolver:function(){return 53123}})})),us(this,"_setScrollContainerRef",(e=>{this._scrollContainer=e}));const{cards:t,hasCalendarCard:a}=e;this._refs={},this.state={activeItem:!a&&t.length>0&&Cs(t[t.length-1]),messagesMarkedAsUnread:[]},this._attachmentTrays={}}UNSAFE_componentWillReceiveProps(e){const{messageGroup:t,bodyStates:s}=this.props,{messageGroup:a,bodyStates:n}=e;this.props.markAsReadOnUnmount?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)}):!Vt()(t,a)&&Vt()(s,n)?this.setState({messagesMarkedAsUnread:this.getUserInitiatedUnreadStatus(this.props.messageGroup.messages||[],e.messageGroup.messages)},(()=>this.markNewlyLoadedBodiesAsRead(e,this.props))):this.markNewlyLoadedBodiesAsRead(e,this.props)}scrollToCard(e,t,s={findNode:c.findDOMNode}){const a=s.findNode(this._refs[t]),n=s.findNode(this._scrollContainer),{cards:r,hasItemsAtTheTopOfTheCard:o}=this.props,i=this.getSavedScrollTop();n&&(i>0?n.scrollTop=this.getSavedScrollTop():o?n.scrollTop=0:(a&&(n.scrollTop=a.offsetTop-J.Sf),0!==r.indexOf(e)&&1!==r.length||(n.scrollTop=0)))}componentDidMount(){this.props.markAsReadOnUnmount||this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{},isAppVisible:this.props.isAppVisible}),this.context.bindShortcut(Ss,this.handleShortcuts);let e=this.state.activeItem;const{cards:t}=this.props,s=t.find((({message:e})=>e&&!e.flags.read));s&&(e=Cs(s),this.setState({activeItem:e})),this.scrollToCard(s,e)}componentWillUnmount(){const{markAsReadInterval:e,showPACNotification:t,updatePacNotificationCue:s}=this.props;this.context.unbindShortcut(Ss),this.props.markAsReadOnUnmount?this.markNewlyLoadedBodiesAsRead(this.props,{bodyStates:{}}):this.markReadTimer&&e!==i.SEm.IMMEDIATELY&&clearTimeout(this.markReadTimer),t&&s({name:i.ANe.WEB_PAC_NOTIFICATION_CUE})}render(){const e=this.context.getCss(bt()),{messageGroup:t,folderType:a,hasToolbar:n,listId:o,streamId:c,hasAttachmentPreview:d,conversations:u,inlineReplyComposeEnabled:m,gif:S,stationery:p,hasCalendarCard:C,calendarAttachment:A,cards:T,showSmartReplyForLastCard:I,showBrandShortcuts:h}=this.props,{messages:g}=t,O=a===i.Sck.BULK,D=(0,l.sd)(t),R=!this._lastCardIsCompose()&&(u||m);return T.length<=0?null:r.createElement(Ut.Z,{getUnsyncedData:this.getUIState},r.createElement("div",{className:e.container,"data-test-id":"message-group-view"},n&&r.createElement(kt.ZP,{listId:o,streamId:c,kind:J.ZP.MESSAGE_VIEW,activeGroupId:t.id,showLabels:this._shouldShowLabels(),hasAttachmentPreview:d,navigateOnMessageAction:this.navigateOnMessageAction}),r.createElement("div",{role:"main","data-test-id":"message-group-view-scroller","aria-label":this.context.intl.formatMessage(u?ps.conversation_view_label:ps.message_view_label),ref:this._setScrollContainerRef,className:e.scrollView},this.renderCardGroup(),this.renderSuggestedTodo(),this.renderTodoInfoCard(),r.createElement(H,{onToggleGroupRead:this.handleToggleGroupRead,onToggleGroupStar:this.handleToggleGroupStar,isRead:D.flags.read,flagged:D.flags.flagged,listId:o,messageGroup:t}),C&&r.createElement("div",{className:e.rsvpContainer},r.createElement(Z.cr,{import:"../rsvp_view/index",eventAttachment:A.event,messageId:A.message.id,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,39738))},_moduleResolver:function(){return 39738}})),r.createElement(E.Z,{groupTabIndex:_.iUz.MESSAGE_LIST_MAIN,circularNavigation:!1,excludeKeyCodes:["ArrowUp","ArrowDown"]},r.createElement("ul",{className:Mt()(e.cardsContainer,{danger:O}),"data-test-id":"cards"},this.renderCardStacks(e)),R?r.createElement(Q,{stationery:p,gif:S,onReply:this.handleReply,onReplyAll:this.handleReplyAll,onForward:this.handleForward,showSmartReplyForLastCard:I,message:g[g.length-1],messageGroupId:t.id}):null)),h&&r.createElement(Wt.Z,null)))}}us(Ts,"contextTypes",{navigateTo:n().func.isRequired,intl:d.intlShape.isRequired,config:n().object.isRequired,getCss:n().func,bindShortcut:n().func,unbindShortcut:n().func}),us(Ts,"defaultProps",{preservedState:{}});const Is=(0,o.connect)(((e,t)=>{var s,a,n,r;let o=[];const{rsvpEnabled:l,messageGroup:c,listId:d,conversations:_,hasCoupon:E}=t,u=l&&((e={})=>{const t={};return(e.messages||[]).some((e=>{const s=(0,vt.Cw)(e.attachments)[0];if(s)return t.message=e,t.event=s,!0})),Object.keys(t).length?t:null})(c),m=!!u,{getRoute:S,getMessagesSelectors:p,getMessageFromAddress:C,getMessageToAddress:A,getMessageCcAddress:T,getMessageBccAddress:h,getMessageDate:g,getMessageSnippet:D,getCouponsSelectors:R,getReconciledUnysncedDataByHash:N,getMessageFlags:L,getAttachmentsByMessageId:f,getFoldersSelectors:M,getSubjectAndSnippetSelectors:P,isSingleDraftGroup:b,isSendRequested:y,getMainStreamListIds:v,getMessageGroupStreamItemsWithExpansionStates:F,getMessageFolderId:U,isFeatureEnabled:k,getMessageBodiesSelectors:w,getGroupIdStateHash:G,getMainStreamItems:H,enableSmartReply:B,getComposeFormat:x,doesComposeSessionExist:V,getSetting:Z,getFalconRelatedCardSelectors:W,getFalconTOMSubscriptionByGroupId:K,getDomainMatchAds:z,getTodoSelectors:Y,getDPAAds:j}=(0,I.selectors)(e),q=S(),X=(0,O.BA)(v(q)),{getDownloadAllUrl:Q,getCardConversationId:J}=p(),{getFolderTypes:$}=M(),{hasInlineImage:ee}=w(),{getSubject:te}=P(),{getCouponCardsForCardConversationId:se}=R(),{doCommerceRelatedCardsExistForGroupId:ae,getRelatedCardsStatus:ne,getYaiReceiptCardsByGroupId:re}=W(),oe=G(c.id),ie=N(As(oe)),le=!_||b(c.id),ce={id:c.id,listId:d},de=H(q);if(E){o=se(J(c.messages[0].id))}const _e=F(ce).map((e=>{const{messageId:t}=e;if(e.folderType===i.Sck.DRAFT)return{...e,hasComposeFormat:[i.UeM.COMPACT,i.UeM.MINIMIZED].indexOf(x(e.csid))>-1};const s=U(t);return{...e,message:{id:t,flags:L(t),folder:{id:s,types:$(s)},headers:{subject:te(t,d),from:C(t),to:A(t),cc:T(t),bcc:h(t),date:g(t)},snippet:D(t,d),attachments:f(t),downloadAllUrl:Q(t)}}})).filter((e=>e.folderType!==i.Sck.DRAFT||e.folderType===i.Sck.DRAFT&&V(e.csid))),Ee=_e.filter((({folderType:e,expansionState:t})=>{return e!==i.Sck.DRAFT&&(s=t,[i.Lvq.EXPANDED,i.Lvq.TEMPORARY_EXPANSION].indexOf(s)>-1);var s})).map((({messageId:e})=>e)).some(ee),ue=!k(i.Zrf.SHOW_IMAGES),me=k(i.ANe.INLINE_IMAGES_PROXIED),Se=!!ue&&(Ee&&me),pe=m||E,{messages:Ce}=c,Ae=B(c.id,null===(s=Ce[Ce.length-1])||void 0===s?void 0:s.id);let Te={};k(i.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)&&k(i.ANe.COMMERCE_CARD_GROUP)&&(Te=K(c.id));const Ie=null===(a=c.messages)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.id,he=k(i.ANe.MAIL_TODO)&&Ie?Y().getTodoByMessageId(Ie):null,ge=z(c.id).length>0,Oe=j(c.id),De=k(i.ANe.COMMERCE_CARD_GROUP)&&(ae(c.id)||!(0,zt.xb)(Te)||Oe.length>0)&&!ge||k(i.ANe.YAI_RETRO_COMPOSE)&&!(0,zt.xb)(re(c.id));return{cards:_e,isSendRequested:y,hasCalendarCard:m,calendarAttachment:u,streamId:X,preservedState:ie,canEditSubject:le,couponCards:o,inlineReplyComposeEnabled:k(i.ANe.INLINE_REPLY_COMPOSE),showPACNotification:Se,route:q,hasItemsAtTheTopOfTheCard:pe,groupIdStateHash:oe,streamItems:de,showSmartReplyForLastCard:Ae,showBrandShortcuts:k(i.ANe.STOREFRONT_SHORTCUTS)&&Z(i.Zrf.PREVIEW_PANE)===i.EsZ.NO&&(0,Kt.m3)(null==Ce||null===(r=Ce[0])||void 0===r?void 0:r.decos,[i.Jd6.CPN,i.Jd6.ORD,i.Jd6.SH]),isBatchRelatedCards:k(i.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),relatedCardsStatus:ne(c.id),showCommerceCardGroup:De,todoItem:he}}),(e=>({onChangeMessageCardExpansion:t=>e((0,se.X6)(t)),onClose:({route:t,i13nModel:s={}})=>{e((0,f.I3)({route:t,i13nModel:s}))},loadMoreItems:t=>e((0,Ft.ZP)(t)),updatePacNotificationCue:t=>e((0,wt.f7)(t)),onToggleRead:(t,s)=>e(t?(0,Gt.zJ)(s):(0,Gt.WF)(s)),onToggleStar:(t,s)=>e(t?(0,Ht.Hw)(s):(0,Ht.ww)(s)),onPreviewAttachmentAlert:t=>e((0,Bt.b2)(t)),onFocusMessageCard:t=>e((0,se.Ju)(t)),onReplyForward:t=>e((0,se.h2)(t)),onOpenComposeView:t=>e((0,f.Hg)(t))})))(Ts),hs=S()(bt());function gs({onRetry:e}){return r.createElement("div",{className:hs.empty,"data-test-id":"group-error"},r.createElement("p",null,r.createElement(d.FormattedMessage,{id:"group_error.failed_to_load",defaultMessage:"We couldn't load this message."})),r.createElement("a",{className:hs.emptyRetry,onClick:e,"data-test-id":"group-error-retry"},r.createElement(d.FormattedMessage,{id:"group_error.retry",defaultMessage:"Retry"})))}var Os=s(50566);function Ds(){return(Ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Rs(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Ns extends r.Component{constructor(...e){super(...e),Rs(this,"handleErrorRetry",(()=>{})),Rs(this,"renderError",(()=>r.createElement(gs,{onRetry:()=>this.handleErrorRetry()}))),Rs(this,"renderLoading",(()=>r.createElement(Le.Z,null)))}shouldComponentUpdate(e){return!e.skipRendering}render(){const{isAttachmentRouteInFullScreenMode:e=!1,groupState:t,messageGroup:s}=this.props;if(e)return null;switch(t){case i.DAQ.DOES_NOT_EXIST:case i.DAQ.LOADING:return this.renderLoading();case i.DAQ.ERROR:return this.renderError();case i.DAQ.LOADED:default:{const e=(0,l.g_)(s);return r.createElement(Is,Ds({},this.props,{key:e?s.messages[0].csid:s.id}))}}}}Rs(Ns,"defaultProps",{widthChanged:0});const Ls=(0,o.connect)(((e,t)=>{const{getAction:s,getFeaturesSelectors:a,doesMessageGroupIdExist:n,getRoute:r,getRouteParams:o,isMessageGroupRequested:l,getDraftMessageId:c,getGroupIdContainingMessageId:d,doesComposeSessionExist:_,isSent:E,getWindowDimensions:u,isAppVisible:m,shouldShowSpamAttachmentWarning:S,__patchV2MessageGroupItemId__:p,__patchV2MyAddresses__:C,getMessageBodyState:A,getMessageBodyRetryCount:T,getAccountIdFromMessageGroupId:h}=(0,I.selectors)(e),{listId:g,hasToolbar:O=!0}=t,D={},R={},N=r(),L=o(),f=u(),M=a(),P=M.isEnabled(i.ANe.RSVP),b=!!M.getSetting(i.Zrf.PREVIEW_PANE)&&(N.name===i.n8z.FOLDER||N.name===i.n8z.LIST||N.name===i.n8z.SEARCH),v=L.attachmentId&&"1"===N.query.fullscreen,F=L.attachmentId&&"1"!==N.query.fullscreen,U=(0,y.RI)(g)&&(0,y.ap)(g,{read:!1})&&-1!==[i.n8z.MESSAGE_FROM_SEARCH_LIST,i.n8z.SEARCH].indexOf(N.name)||(0,y.WW)(g)===i.Asd.UNREAD&&-1!==[i.n8z.SEARCH,i.n8z.FOLDER].indexOf(N.name),k=M.getSetting(i.Zrf.MARK_AS_READ_INTERVAL);let w=t.openedMessageId||L.groupId;if(t.csid){if(!_(t.csid)||E(t.csid))return{groupId:w,groupState:i.DAQ.DOES_NOT_EXIST};if(t.csid&&!t.openedMessageId){const e=c(t.csid);e&&(w=d(e))}}else if(!n(w)||l(w))return{groupId:w,groupState:l(w)?i.DAQ.DOES_NOT_EXIST:i.DAQ.ERROR,hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:v,hasToolbar:O,canTakeFocus:b};const G=p(w,g),H=C(),B=h(w,g);G.messages.forEach((e=>{D[e.messageId]=A(e.messageId),R[e.messageId]=T(e.messageId)}));const x=M.isEnabled(i.ANe.CONVERSATIONS),V=M.isEnabled(i.ANe.GIF),Z=M.isEnabled(i.ANe.STATIONERY),W=M.isEnabled(i.ANe.DEALS)&&G.messages[0].decos.some((e=>e&&"CPN"===e.id)),K=s().type;return{skipRendering:K===Os.STREAM_CURSOR_MOVED||K===Os.ITEM_LIST_PAGE_SCROLLED,stationery:Z,gif:V,conversations:x,bodyStates:D,retryCounts:R,groupState:i.DAQ.LOADED,hasToolbar:O,hasCoupon:W,accountIds:[B],myAddresses:H,messageGroup:G,isAppVisible:m(),hasAttachmentPreview:F,isAttachmentRouteInFullScreenMode:v,windowDimensions:f,markAsReadOnUnmount:U,markAsReadInterval:k,canTakeFocus:b,rsvpEnabled:P,shouldShowSpamAttachmentWarning:S}}))(Ns)},68449:e=>{"use strict";e.exports={className:{default:{groupHeader:"D_F m_Z12nDQf P_Z1A2bQX I_ZkbNhI ab_CI",subjectRow:"D_F ab_C em_N o_h A_6FsP c1AVi73_6LUG c1AVi7H_6MWH P_3Y3Gk",subject:"en_N i_3mCHE c1AVi73_6LUG c1AVi7H_6MWH",noSubject:"M_3gI0W",messageCount:"em_0 ac_C D_X i_6FIA P_3gJiI e_fFR Q_fq7 E_eTB A_6DUj c1AVi73_6EWk c1AVi7H_6LEV I_ZpQYvz",readUnread:"D_F ab_C en_0 E_eo6 Y_fq7",messageGroupDestinationRow:"D_F ab_C em_N en_0 o_h Y_dm5 E_fq7 U_dm5 Q_72FG",messageGroupDestinationContainer:"D_F t_r A_6EqO c1AVi73_6EWk c1AVi7H_6LEV c1AVi7T_dPo C_Z1TsNbA cZ1RzsTJ_jyw3a",messageGroupDestinationAccount:"G_e J_x o_h a_7yHc",messageGroupDestinationFolder:"G_e J_x o_h a_7iGr",endSideButtonGroup:"D_F ab_C Y_eTB en_0",star:"H_6Fd5 W_6Fd5 lv_2gnJCA h_Z13pql2 h4_2d9T5e",burstingStar:"H_6FYl W_6FYl p_R T_1zpIjy L_67kU T4_1zpIjy L4_c6v",add_todo_icon:"E_eo6",highlightedTermSearchResultsPage:"I_ZkchTG D_X C_Z2dyR8T"},compactGroupHeader:{messageGroupDestinationRow:"Y_dm5 E_fq7 U_dm5 Q_6Fd5"}},_key:"Z2aGUh3"}},68370:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB p_a Z_0 L_0 R_0 T_0 B_0 cZ1RN91d_GG I_ZnwrMC",rsvpContainer:"P_6Fd5 I_ZkbNhI m_Z12nDQf",cardsContainer:"hd_n M_0 X_0",composeCard:"D_F ek_BB gl_C d_3vFsb b_Z14vXdP e_dRA I_ZkbNhI",messageCard:"m_Z12nDQf D_F ek_BB ir_0",stack:"I_ZkbNhI t_C r_P D_F ab_C P_1EuKY1 H_6TFj it_689y p_R",stackLine:"H_dBP em_N z_Z14vXdP",stackLabel:"em_0 M_1Eu7Y9 C_Z1WBuqm",scrollView:"iz_A I_ZkbNhI em_0 Z_0",empty:"I_ZkbNhI W_6D6F t_C A_6FsP c1AVi73_6LUG P_Z17Hvh7",emptyRetry:"S_U r_P",sponsoredMessageButton:"q_Z29WjXl e_dRA k_w r_P H_6VdP s_3mS2U en_0 M_1gLo4F V_M cZ1RN91d_n y_jyw3a A_6EqO c1AVi73_6FsP u_e69 b_0 C_52qC D_X i_6VdP it_dRA t_C I4_Z29WjXl",videoAdThumbnail:"W_6D6F",sponsoredVideoBodyContainer:"P_1e3YGS S_n C_Z281SGl",sponsoredMessageSource:"M_1IaimO A_6EWk c1AVi73_6FYl u_b",sponsoredMessageDescription:"M_1IaimO A_6EqO c1AVi73_6FsP",senders:"D_I"},conseqCompose:{composeCard:"cn_ZvFCRQ"},active:{composeCard:"b_2w4lU5 j_ZUs0f0"},isDraftError:{composeCard:"d_3mS2U P_aFwN2"},"themeMode-DARK":{container:"I_T"}},_key:"ZMUOU3"}},81163:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB r_P P_ZVpSLT I_ZkbNhI m_Z14vXdP",buttonGroup:"D_F en_0 u_b C_Z1TsNbA U_6VdP",toolbar:"Y_6VdP",listItem:"D_I r_BN c1AVi73_6FsP c1AVi7H_6LEV",button:"r_P u_b C_Z29WjXl b_0 P_0 M_0 H_6Nds A_6EqO c1AVi73_6FsP y_jyw3a I_T it_dBP C4_Z29WjXl",comma:"u_b C_Z1TsNbA"}},_key:"1Go7z4"}},46669:(e,t,s)=>{"use strict";s.d(t,{R:()=>m,Z:()=>S});var a=s(33954),n=s(37422),r=s(58608),o=s(50566),i=s(85927);const l={archiveMessageGroups:r.W9,restoreMessageGroups:r.$D,deleteMessageGroups:r.y4,moveMessageGroups:r.Zs,markMessageGroupsAsSpam:r.ih,markMessageGroupsAsNotSpam:r.DO,markMessageGroupsAsRead:r.J4,markMessageGroupsAsUnread:r.oX,markMessageGroupsAsFlagged:r.wd,markMessageGroupsAsUnflagged:r.Mf,toggleSelection:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEM_TOGGLED,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,messageGroupIds:s})},contextMenu:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_CONTEXT_MENU,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,messageGroupIds:s})},contextMenuShown:function(e,{i13nModel:t}){e.dispatch(o.STREAM_CONTEXT_MENU_SHOWN,{i13nModel:t})},toggleMultipleSelection:function(e,{listId:t,multipleStreamItems:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEMS_MULTIPLE_TOGGLE,{i13nModel:r,isV2Action:!0,listId:t,streamId:a,streamItem:n,multipleStreamItems:s})},selectAll:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(o.ALL_STREAM_ITEMS_SELECTED,{i13nModel:a,isV2Action:!0,listId:t,selectionType:n.ie0.ALL,streamId:s})},selectRange:function(e,{listId:t,targetGroupId:s,streamId:a,streamItem:n,i13nModel:r}){e.dispatch(o.STREAM_ITEMS_RANGE_SELECTED,{i13nModel:r,isV2Action:!0,listId:t,targetGroupId:s,streamId:a,streamItem:n})},selectNone:function(e,{listId:t,streamId:s,i13nModel:a}){e.dispatch(o.STREAM_ITEMS_SELECTION_CLEARED,{i13nModel:a,isV2Action:!0,listId:t,streamId:s})},selectRead:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnread:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectStarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},selectUnstarred:function(e,{listId:t,streamId:s,selectionType:a,i13nModel:n}){e.dispatch(o.STREAM_ITEMS_SELECTION_CHANGED,{i13nModel:n,isV2Action:!0,listId:t,streamId:s,selectionType:a})},moveCursor:function(e,{listId:t,movement:s,unit:a,i13nModel:r,streamId:l}){const{getFeaturesSelectors:c}=(0,i.selectors)(e.store.getState()),d=c().getSetting(n.Zrf.PREVIEW_PANE);e.dispatch(o.STREAM_CURSOR_MOVED,{isV2Action:!0,listId:t,streamId:l,movement:s,unit:a,i13nModel:r,previewPane:d})},selectMove:function(e,{listId:t,movement:s,streamId:a,i13nModel:n}){e.dispatch(o.STREAM_SELECT_CURSOR_MOVED,{i13nModel:n,isV2Action:!0,listId:t,movement:s,streamId:a})},itemDragStart:function(e,{listId:t,messageGroupIds:s,streamId:a,streamItem:n}){e.dispatch(o.ITEMS_DRAG_STARTED,{streamId:a,streamItem:n,listId:t,messageGroupIds:s})}};var c=s(73821);const d={toolbarMenuShown:(e,{i13nModel:t})=>{e.dispatch(o.MESSAGE_LIST_TOOLBAR_MENU_SHOWN,{i13nModel:t})}},_={archive:l.archiveMessageGroups,restore:l.restoreMessageGroups,delete:l.deleteMessageGroups,markAsSpam:l.markMessageGroupsAsSpam,markAsNotSpam:l.markMessageGroupsAsNotSpam,move:l.moveMessageGroups,[n.ie0.ALL]:l.selectAll,[n.ie0.NONE]:l.selectNone,[n.ie0.READ]:l.selectRead,[n.ie0.UNREAD]:l.selectUnread,[n.ie0.STARRED]:l.selectStarred,[n.ie0.UNSTARRED]:l.selectUnstarred},E={reply:r.oD,replyAll:r.iG,forward:r.fs},u={[a.ZP.LIST]:Object.assign({},d,_),[a.ZP.LIST_WITH_PREVIEW_RIGHT]:Object.assign({},d,E,_),[a.ZP.LIST_WITH_PREVIEW_BOTTOM]:Object.assign({},d,E,_),[a.ZP.MESSAGE_VIEW]:Object.assign({},d,E,{archive:r.AK,restore:r.bn,delete:r.uX,markAsSpam:r.rL,markAsNotSpam:r.sK,move:r.u4})},m={[a.ZP.LIST]:{...u[a.ZP.LIST],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.LIST_WITH_PREVIEW_RIGHT]:{...u[a.ZP.LIST_WITH_PREVIEW_RIGHT],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.LIST_WITH_PREVIEW_BOTTOM]:{...u[a.ZP.LIST_WITH_PREVIEW_BOTTOM],delete:c.qP,move:c.pB,archive:c.nw,restore:c.nu,markAsSpam:c.XL,markAsNotSpam:c.Dj},[a.ZP.MESSAGE_VIEW]:u[a.ZP.MESSAGE_VIEW]},S=u},33954:(e,t,s)=>{"use strict";s.d(t,{Sf:()=>o,Vj:()=>i,ZP:()=>l});var a=s(95406),n=s(10728);const r=(0,a.gP)(["MESSAGE_VIEW","LIST","LIST_WITH_PREVIEW_RIGHT","LIST_WITH_PREVIEW_BOTTOM"]),o=13*n.mg$,i={HAS_GROUP_SELECTION:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_SORT:{[r.LIST]:!0,[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0},HAS_CLOSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.MESSAGE_VIEW]:!0},HAS_SINGLE_GROUP_ACTIONS:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_EXPAND_COLLAPSE:{[r.LIST_WITH_PREVIEW_RIGHT]:!0,[r.LIST_WITH_PREVIEW_BOTTOM]:!0,[r.MESSAGE_VIEW]:!0},HAS_PREVIOUS_NEXT:{[r.MESSAGE_VIEW]:!0}},l=r},78136:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>Be});var a=s(44908),n=s.n(a),r=s(45697),o=s.n(r),i=s(67294),l=s(99095),c=s(18685),d=(s(31280),s(41958)),_=s(14196),E=s(78737),u=s(37422),m=s(31057);const S=[u.Asd.DATE_DESC,u.Asd.DATE_ASC],p=[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.ATTACHMENT,u.Asd.RELEVANCE],C=[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.UNREAD,u.Asd.STARRED,u.Asd.SENDER,u.Asd.SUBJECT,u.Asd.ATTACHMENT],A=[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.UNREAD,u.Asd.STARRED,u.Asd.RECIPIENT,u.Asd.SUBJECT,u.Asd.ATTACHMENT];var T=s(67498),I=s(8061),h=s(28182),g=s(76531),O=s(77163),D=s(65304),R=s(91869),N=s(44528),L=s(43007),f=s(9333),M=s(68003),P=s(94482),b=s(8470),y=s(31509),v=s(11160),F=s(18030),U=s(9026);function k(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const w=(0,l.defineMessages)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected {conversations, select, true {conversations} false {messages}} to Inbox"},archive_msgs:{id:"archive_msgs",defaultMessage:"Archive {conversations, select, true {conversation} false {message}}"}});class G extends i.Component{constructor(...e){super(...e),k(this,"_renderLabel",(()=>{const{restore:e}=this.props;return e?i.createElement(l.FormattedMessage,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"}):i.createElement(l.FormattedMessage,{id:"archive_button.archive_label",defaultMessage:"Archive"})}))}render(){const{formatMessage:e}=this.context.intl,{restore:t,disabled:s,onClick:a,showLabel:n,isCompact:r,size:o,conversations:l}=this.props,c=e(t?w.restore_msgs:w.archive_msgs,{conversations:l}),d=this.context.getThemeMode()===U.zg.DARK;return i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":"toolbar-"+(t?"archive-restore":"archive"),"aria-label":c,title:c,kind:t?g.Kinds.RESTORE_TO_INBOX:g.Kinds.ARCHIVE,disabled:s,onClick:a,size:o,colorState:g.ColorStates.INHERITED,isOnDarkBackground:d,isCompact:r},n&&this._renderLabel())}}k(G,"contextTypes",{intl:l.intlShape.isRequired,getThemeMode:o().func}),k(G,"defaultProps",{size:g.Sizes.XS,showLabel:!0,onClick:function(){},conversations:!1});const H=G;var B=s(54542),x=s(10728),V=s(77078),Z=s(56971),W=s(25288),K=s.n(W);function z(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Y=(0,l.defineMessages)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class j extends i.Component{constructor(...e){super(...e),z(this,"handleCheckboxClicked",(e=>{const{onSelectNone:t,onSelectAll:s,selectionCount:a}=this.props;e.preventDefault(),e.stopPropagation(),a>0?t(e,!0):s(e,!0)}))}render(){const e=this.context.getCss(K()),t=this.context.getThemeMode()===U.zg.DARK,{formatMessage:s,formatNumber:a}=this.context.intl,{allItemsSelected:n,previewpane:r,selectionCount:o=0}=this.props;let c=Z.z.NONE;return o>0&&n?c=Z.z.ALL:o>0&&(c=Z.z.PARTIAL),i.createElement("div",{className:e.container},i.createElement("ul",{className:e.list},i.createElement(P.Z,{kind:V.F.MESSAGE_SELECTION_CHECKBOX},i.createElement("span",{className:e.checkboxWrapper},i.createElement(Z.Z,{type:c,highContrast:!0,isInverted:t,onClick:this.handleCheckboxClicked,"aria-label":s(o>0?Y.deselect_all:Y.select_all),isOnDarkBackground:t,"data-iskeynav":!0,paddingLess:!0}))),i.createElement(P.Z,{kind:V.F.MESSAGE_SELECTION_CHEVRON},i.createElement(v.Z,null,i.createElement(y.Z,null,i.createElement("span",{className:e.chevronWrapper},i.createElement(f.default,{kind:g.Kinds.CHEVRON_UP,size:g.Sizes.XS,rotate:g.Rotate.D180,title:s(Y.select_messages),"aria-label":s(Y.select_messages),colorState:g.ColorStates.INHERITED,isOnDarkBackground:t,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),i.createElement(F.ZP,{permittedArrowDirections:[D.Ji.UP,D.Ji.DOWN],triggerOn:D.K2.CLICK,offset:4*x.mg$,align:D.xM.START,zAltitude:x.LSY.POPOVER.HIGH,onShow:this.props.onMenuShow},i.createElement("div",{className:e.popoverListWrapper},i.createElement(b.Z,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},i.createElement(P.Z,{name:"select-all"},i.createElement(T.Z,{onClick:this.props.onSelectAll,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_all",defaultMessage:"All"}))),i.createElement(P.Z,{name:"select-none"},i.createElement(T.Z,{onClick:this.props.onSelectNone,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_none",defaultMessage:"None"}))),i.createElement(P.Z,{name:"select-read"},i.createElement(T.Z,{onClick:this.props.onSelectRead,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_read",defaultMessage:"Read"}))),i.createElement(P.Z,{name:"select-unread"},i.createElement(T.Z,{onClick:this.props.onSelectUnread,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_unread",defaultMessage:"Unread"}))),i.createElement(P.Z,{name:"select-starred"},i.createElement(T.Z,{onClick:this.props.onSelectStarred,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_starred",defaultMessage:"Starred"}))),i.createElement(P.Z,{name:"select-unstarred"},i.createElement(T.Z,{onClick:this.props.onSelectUnstarred,kind:h.F.MENUITEM},i.createElement(l.FormattedMessage,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),i.createElement(P.Z,null,i.createElement("div",null,r===u.EsZ.NO&&o>0?a(o):""))))}}z(j,"contextTypes",{intl:l.intlShape.isRequired,getCss:o().func,getThemeMode:o().func}),z(j,"defaultProps",{onMenuShow:()=>{}});const q=j;function X(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Q=(0,l.defineMessages)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"}});class J extends i.Component{constructor(...e){super(...e),X(this,"_renderLabel",(()=>{const{markAsSpam:e}=this.props;return e?i.createElement(l.FormattedMessage,{id:"spam_icon_label",defaultMessage:"Spam"}):i.createElement(l.FormattedMessage,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})}))}render(){const{formatMessage:e}=this.context.intl,{disabled:t,markAsSpam:s,onClick:a,showLabel:n,isCompact:r,size:o}=this.props,l=e(s?Q.mark_msgs_as_spam:Q.mark_msgs_as_not_spam),c=s?"spam":"not-spam",d=this.context.getThemeMode()===U.zg.DARK;return i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${c}`,"aria-label":l,title:l,kind:g.Kinds.SPAM,disabled:t,onClick:a,size:o,colorState:g.ColorStates.INHERITED,isOnDarkBackground:d,isCompact:r},n&&this._renderLabel())}}X(J,"defaultProps",{size:g.Sizes.XS,showLabel:!0,onClick:function(){}}),X(J,"contextTypes",{intl:l.intlShape.isRequired,getThemeMode:o().func});const $=J;var ee=s(27077),te=s(8881),se=s(92559),ae=s(50566),ne=s(17016),re=s(62760),oe=s(95406),ie=s(3405),le=s(78263),ce=s(85927),de=s(85458),_e=s(48717),Ee=s.n(_e),ue=s(76223),me=s.n(ue),Se=s(87771),pe=s(26);function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Ae(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Te=me()(Ee()),Ie=(0,l.defineMessages)({more_menu_label:{id:"more_menu_label",defaultMessage:"More"}});class he extends i.Component{_renderLabel(){const{formatMessage:e}=this.context.intl;return e(Ie.more_menu_label)}render(){const{formatMessage:e}=this.context.intl,{disabled:t,showLabel:a}=this.props,n=this.context.getThemeMode()===U.zg.DARK;return i.createElement(v.Z,{className:Te.popoverContainer},i.createElement(y.Z,null,i.createElement(f.default,{"data-iskeynav":!0,"aria-label":e(Ie.more_menu_label),title:e(Ie.more_menu_label),"data-test-id":"toolbar-more",disabled:t,kind:g.Kinds.MORE,size:g.Sizes.XS,colorState:g.ColorStates.INHERITED,isOnDarkBackground:n},a&&this._renderLabel())),i.createElement(F.ZP,{triggerOn:D.K2.CLICK,permittedArrowDirections:[D.Ji.UP],zAltitude:x.LSY.POPOVER.HIGH,onShow:this.props.onMenuShow},i.createElement("div",{style:{display:"block",minWidth:"200px"}},i.createElement(Se.cr,Ce({import:"./more_menu_items"},this.props,{_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,38648))},_moduleResolver:function(){return 38648}}),i.createElement(Se.nA,{loading:!0},i.createElement(pe.Z,null))))))}}Ae(he,"contextTypes",{executeAction:o().func,intl:l.intlShape.isRequired,config:o().object,getThemeMode:o().func}),Ae(he,"defaultProps",{onMenuShow:()=>{}});const ge=he;var Oe=s(46669),De=s(33954),Re=s(67612),Ne=s(91472),Le=s.n(Ne),fe=s(59914),Me=s(55831),Pe=s(549),be=s(66462),ye=s(79159);function ve(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const Fe=se.nJ.MSG_LIST_BULK_ACTION,Ue=se.nJ.MSG_READ_TOOLBAR,ke="d",we="e",Ge=[...te.tq,ke,we,"del","backspace","#","shift+e","shift+d","left","right","esc"];class He extends i.Component{constructor(...e){super(...e),ve(this,"state",{showDeleteConfirm:!1,showMoveConfirm:null,moveMenuActive:!1,moveMenuFilterFocused:!1,sortMenuActive:!1}),ve(this,"getClassNames",(()=>{const{showLabels:e,showActionLabels:t,isHamEnabled:s,isSpamEnabled:a,isArchiveEnabled:n,isRestoreEnabled:r,isMoveEnabled:o,isDeleteEnabled:i,isPermDeleteEnabled:l,isPreviousEnabled:c,isNextEnabled:d,enableGroupActions:_,enableTriageActions:E,hasPrevNext:u,previewpaneInPixels:m}=this.props,S=this.isListVerticalPreviewMode(),p=this.isFullMessageViewMode();return this.context.getCss(Le(),{hamSpamDisabled:!s&&!a&&E,archiveRestoreDisabled:!n&&!r&&E,moveDisabled:!o&&E,deletePermDisabled:!i&&!l&&E,groupActionsActive:_,triageActionsActive:E,showTriageActionsLabels:e&&t,verticalSortView:this.isVerticalSortView(),verticalSelectionControlView:this.isverticalSelectionControlView(),selectionControlDisabled:this.disableSelectionControl(),previousDisabled:!c,nextDisabled:!d,fullMessageView:p,listWithVerticalPreview:S,listWithNonVerticalPreview:!S&&!p,closeWrapperMargin:!u&&p,previewpaneInPixels:S&&m})})),ve(this,"getItemSpaceBasedOnPreviewPaneOffset",(()=>{const{previewPaneOffset:e,previewpaneInPixels:t}=this.props;let s={};return this.isListVerticalPreviewMode()&&(s={flexBasis:e>100&&t?e/2+"px":e/2+"%"}),s})),ve(this,"onPreviousItem",(e=>{const{listId:t,activeGroupId:s,isConversationMode:a}=this.props,{getPreviousListItemId:n,__patchV2MessageGroupItemId__:r}=(0,ce.selectors)(this.context.store.getState()),o=n(t,s);if(!o)return;const i=(0,ie.xj)({item:r(o,t),listId:t,isConversationMode:a}),l={mKey:se.JE.OPEN_MSG,mKeyGroup:se.rO.openMsg,sec:se.nJ.MSG_HEADER,interactionType:(0,ne.getInteractionFromEvent)(e)};this.context.navigateTo({route:i,streamItem:{listId:t,id:o},i13nModel:l})})),ve(this,"onNextItem",(e=>{const{listId:t,activeGroupId:s,isConversationMode:a}=this.props,{getNextListItemId:n,__patchV2MessageGroupItemId__:r}=(0,ce.selectors)(this.context.store.getState()),o=n(t,s);if(!o)return;const i=(0,ie.xj)({item:r(o,t),listId:t,isConversationMode:a}),l={mKey:se.JE.OPEN_MSG,mKeyGroup:se.rO.openMsg,sec:se.nJ.MSG_HEADER,interactionType:(0,ne.getInteractionFromEvent)(e)};this.context.navigateTo({route:i,streamItem:{listId:t,id:o},i13nModel:l})})),ve(this,"handleShortcuts",(e=>{const{isArchiveEnabled:t,isRestoreEnabled:s,hasPrevNext:a}=this.props;let n=!1;switch(String.fromCharCode(e.which).toLowerCase()){case ke:n=!0,this.handleMoveMenuShow(e.shiftKey);break;case we:if(t&&e.shiftKey&&!s){n=!1;break}(t||e.shiftKey&&s)&&(n=!0,this.handleArchive(e));break;case"r":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("reply",se.Rb.shortcut));break;case"a":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("replyAll",se.Rb.shortcut));break;case"f":this.enableSingleGroupActions()&&(n=!0,this.handleSingleGroupAction("forward",se.Rb.shortcut));break;default:this.context.os===u.Msg.MAC&&e.keyCode===O.P.BACKSPACE||e.keyCode===O.P.DELETE||e.keyCode===O.P.HASHTAG?(n=!0,this.handleDelete(e)):this.props.hasAttachmentPreview||(e.keyCode===O.P.ESCAPE?(n=!0,this.handleClose(e)):e.keyCode===O.P.LEFT&&a&&this.props.isPreviousEnabled?(n=!0,this.onPreviousItem(e)):e.keyCode===O.P.RIGHT&&a&&this.props.isNextEnabled&&(n=!0,this.onNextItem(e)))}n&&(e=>{e.stopPropagation(),e.preventDefault()})(e)})),ve(this,"isListVerticalPreviewMode",(()=>this.props.kind===De.ZP.LIST_WITH_PREVIEW_RIGHT)),ve(this,"isFullMessageViewMode",(()=>this.props.kind===De.ZP.MESSAGE_VIEW)),ve(this,"isVerticalSortView",(()=>this.props.kind===De.ZP.LIST_WITH_PREVIEW_RIGHT)),ve(this,"isverticalSelectionControlView",(()=>this.props.kind===De.ZP.LIST_WITH_PREVIEW_RIGHT)),ve(this,"enableSingleGroupActions",(()=>{const{kind:e}=this.props;return De.Vj.HAS_SINGLE_GROUP_ACTIONS[e]&&this.props.isRafEnabled})),ve(this,"disableSelectionControl",(()=>{const e=(0,m.WN)(this.props.listId);return e===u.F6k.IMAGES||e===u.F6k.DOCUMENTS})),ve(this,"getActionCreators",(()=>this.props.shouldDoSelectAll?Oe.R[this.props.kind]:Oe.Z[this.props.kind])),ve(this,"getActionableGroupIds",(()=>{const{activeGroupId:e,streamId:t}=this.props;if(e)return[e];const{doesStreamExist:s,getSelectedStreamItems:a}=(0,ce.selectors)(this.context.store.getState());return(s(t)?a(t):[]).map((({id:e})=>e))})),ve(this,"isPermDelete",(()=>!this.props.isDeleteEnabled&&this.props.isPermDeleteEnabled)),ve(this,"isSpam",(()=>!!this.props.isSpamEnabled||!this.props.isHamEnabled)),ve(this,"isRestore",(()=>!this.props.isArchiveEnabled&&this.props.isRestoreEnabled)),ve(this,"onToolbarMenuShow",(e=>{const t={MoveMenu:{mKey:se.JE.TOOLBAR_MOVE_MENU,sec:Fe},MoreMenu:{mKey:se.JE.TOOLBAR_MORE_MENU,sec:Fe},SelectionMenu:{mKey:se.JE.TOOLBAR_BULK_CONTEXT_MENU,sec:Fe},SortMenu:{mKey:se.JE.TOOLBAR_SORT_MENU,sec:se.nJ.MSG_LIST_SORT}};if("SortMenu"===e&&this.setState({sortMenuActive:!0}),!t[e])return;const{mKey:s,sec:a}=t[e];this.context.executeAction(this.getActionCreators().toolbarMenuShown,{i13nModel:{mKey:s,sec:a}})})),ve(this,"onSortMenuClose",(()=>{this.setState({sortMenuActive:!1})})),ve(this,"handleSelection",((e,t,s)=>{const a={[`${u.ie0.ALL}-checkbox`]:se.JE.TOOLBAR_SELECTALL_MSG,[`${u.ie0.NONE}-checkbox`]:se.JE.TOOLBAR_SELECT_NONE,[u.ie0.ALL]:se.JE.TOOLBAR_BULK_CONTEXT_ALL,[u.ie0.NONE]:se.JE.TOOLBAR_BULK_CONTEXT_NONE,[u.ie0.READ]:se.JE.TOOLBAR_BULK_CONTEXT_READ,[u.ie0.UNREAD]:se.JE.TOOLBAR_BULK_CONTEXT_UNREAD,[u.ie0.STARRED]:se.JE.TOOLBAR_BULK_CONTEXT_STARRED,[u.ie0.UNSTARRED]:se.JE.TOOLBAR_BULK_CONTEXT_UNSTARRED},n=s?`${e}-checkbox`:`${e}`,r=this.getActionCreators(),{listId:o,route:i,streamId:l}=this.props,{getMainStreamItems:c}=(0,ce.selectors)(this.context.store.getState()),d=c(i);this.context.executeAction(r[e],{listId:o,i13nModel:{mKey:a[n],sec:Fe,interactionType:(0,ne.getInteractionFromEvent)(t)},streamId:l,streamItems:d,selectionType:e})})),ve(this,"handleSingleGroupAction",((e,t=se.Rb.click)=>{const{listId:s,activeGroupId:a}=this.props;if(a){const n={mKey:se.JE[`TOOLBAR_${e.toUpperCase()}`],sec:Ue,mKeyGroup:se.rO[`${e}Msg`],interactionType:t};this.context.executeAction(this.getActionCreators()[e],{listId:s,messageGroupId:a,triggeredFromMessageToolbar:!0,i13nModel:n})}})),ve(this,"handleArchive",(e=>{e.preventDefault(),this.props.navigateOnMessageAction();const t=this.getActionCreators(),s=this.getActionableGroupIds(),a={mKey:this.isRestore()?se.JE.TOOLBAR_RESTORE:se.JE.TOOLBAR_ARCHIVE,sec:Fe,mKeyGroup:this.isRestore()?se.rO.moveMsg:se.rO.archiveMsg,interactionType:(0,ne.getInteractionFromEvent)(e)},{conversations:n}=this.props;let r;if(r=this.isRestore()?{confirmTitle:Re.Z.confirm_restore_title,confirmMessages:Re.Z.confirm_restore_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm}:{confirmTitle:Re.Z.confirm_archive_title,confirmMessages:Re.Z.confirm_archive_messages,handleConfirm:this.handleArchive,hideConfirm:this.hideConfirm},!this.props.shouldDoSelectAll||this.state.confirmTitle){if(s.length){const{listId:e,allItemsCount:r,streamId:o}=this.props,i=1===s.length?{id:s[0],listId:e}:void 0;this.context.executeAction(this.isRestore()?t.restore:t.archive,{listId:e,streamId:o,streamItem:i,messageGroupIds:s,...r&&{allItemsCount:r},conversations:n,i13nModel:a})}this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1}),this.hideConfirm()}else this.setState(r)})),ve(this,"handleMove",((e,t)=>{t.preventDefault(),this.props.navigateOnMessageAction();const{listId:s,allItemsCount:a,conversations:n,streamId:r,isBulkAction:o}=this.props;if(o&&!this.state.showMoveConfirm)return void this.setState({showMoveConfirm:e});const i=this.getActionableGroupIds(),l=1===i.length?{id:i[0],listId:s}:void 0;this.context.executeAction(this.getActionCreators().move,{destinationFolderId:e,listId:s,messageGroupIds:i,...a&&{allItemsCount:a},conversations:n,streamId:r,streamItem:l,i13nModel:{mKey:se.JE.TOOLBAR_MOVE,sec:Fe,mKeyGroup:se.rO.moveMsg,interactionType:(0,ne.getInteractionFromEvent)(t)}}),this.hideMoveConfirm()})),ve(this,"hideMoveConfirm",(()=>{this.setState({showMoveConfirm:null})})),ve(this,"handleSpam",(e=>{e.preventDefault();const{listId:t,onSpam:s,streamId:a,mid:n,showUnsubscribeFlowForSpam:r}=this.props;let o;if(o=this.isSpam()?{confirmTitle:Re.Z.confirm_spam_title,confirmMessages:Re.Z.confirm_spam_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm}:{confirmTitle:Re.Z.confirm_ham_title,confirmMessages:Re.Z.confirm_ham_messages,handleConfirm:this.handleSpam,hideConfirm:this.hideConfirm},this.props.shouldDoSelectAll&&!this.state.confirmTitle)return void this.setState(o);const l=this.getActionableGroupIds(),c=1===l.length?{id:l[0],listId:t}:void 0,d=(t={})=>{s({streamItem:c,streamId:a,triageActionType:u.Ewo.SPAM_SELECTED_ITEMS,i13nModel:{mKey:se.JE.TOOLBAR_SPAM,sec:se.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:se.rO.markSpam,interactionType:(0,ne.getInteractionFromEvent)(e),...t}})};this.props.navigateOnMessageAction(),r?(0,Pe.C)(i.createElement(be.ZP,{messageId:n,onSpam:d}),this.context):d(),this.hideConfirm()})),ve(this,"handleHam",(e=>{e.preventDefault();const{streamId:t,moveToInbox:s}=this.props;s({streamId:t,triageActionType:u.Ewo.NOT_SPAM_SELECTED_ITEMS,i13nModel:{mKey:se.JE.TOOLBAR_NOT_SPAM,sec:se.nJ.MSG_LIST_BULK_ACTION,mKeyGroup:se.rO.markUnspam,interactionType:(0,ne.getInteractionFromEvent)(e)}})})),ve(this,"hideConfirm",(()=>{this.setState({confirmTitle:!1})})),ve(this,"handleDelete",(e=>{e.preventDefault();const{listId:t,onDelete:s,navigateOnMessageAction:a,streamId:n,isBulkAction:r}=this.props,o=this.getActionableGroupIds();if((this.isPermDelete()||r)&&!this.state.showDeleteConfirm)return void this.setState({showDeleteConfirm:!0});const i={mKey:se.JE.TOOLBAR_DELETE,sec:Fe,mKeyGroup:se.rO.deleteMsg,interactionType:(0,ne.getInteractionFromEvent)(e)};a();const l=1===o.length?{id:o[0],listId:t}:void 0;s({streamId:n,triageActionType:u.Ewo.DELETE_SELECTED_ITEMS,i13nModel:i,streamItem:l}),this.hideDeleteConfirm()})),ve(this,"hideDeleteConfirm",(()=>{this.state.showDeleteConfirm&&(this.setState({showDeleteConfirm:!1}),this.props.onHideDeleteConfirm())})),ve(this,"handleSort",((e,t)=>{const s={[u.Asd.DATE_DESC]:se.JE.TOOLBAR_SORT_NEW,[u.Asd.DATE_ASC]:se.JE.TOOLBAR_SORT_OLD,[u.Asd.UNREAD]:se.JE.TOOLBAR_SORT_UNREAD,[u.Asd.STARRED]:se.JE.TOOLBAR_SORT_STARRED,[u.Asd.SENDER]:se.JE.TOOLBAR_SORT_SENDER,[u.Asd.SUBJECT]:se.JE.TOOLBAR_SORT_SUBJECT,[u.Asd.ATTACHMENT]:se.JE.TOOLBAR_SORT_ATTACHMENT,[u.Asd.RELEVANCE]:se.JE.TOOLBAR_SORT_RELEVANCE},{listId:a,route:n}=this.props;this.context.navigateTo({route:n.name===u.n8z.SEARCH||(0,m.SH)(n)?(0,ie.dM)(a,{sortOrder:t}):(0,ie.ok)(a,{sortOrder:t}),i13nModel:{mKey:s[t],sec:se.nJ.MSG_LIST_SORT,interactionType:(0,ne.getInteractionFromEvent)(e)}})})),ve(this,"handleFilterChange",((e,t)=>{const s=(0,m.WN)(this.props.listId),a={[u.F6k.MESSAGES]:"msg",[u.F6k.DOCUMENTS]:"docs",[u.F6k.IMAGES]:"photo"},n=se.JE["FILTER_"+t],r=n?{mKey:n,sec:se.nJ.MSG_LIST_BULK_ACTION,interactionType:(0,ne.getInteractionFromEvent)(e),actionData:{cntxt:a[s]||a[u.F6k.MESSAGES]}}:null;this.context.navigateTo({route:{name:u.n8z.SEARCH,params:{query:(0,m.tr)((0,m.tE)(this.props.listId,{listFilter:t}))}},i13nModel:r})})),ve(this,"handleClose",(e=>{const{listId:t,streamId:s,kind:a,route:n}=this.props,r={mKey:se.JE.TOOLBAR_CLOSE_MSG,sec:Ue,interactionType:(0,ne.getInteractionFromEvent)(e)};if(e.key===u.R8U.ESCAPE){if(n.name===u.n8z.FOLDER)return;this.props.onClose({listId:t,i13nModel:r})}else a===De.ZP.LIST_WITH_PREVIEW_RIGHT||a===De.ZP.LIST_WITH_PREVIEW_BOTTOM?this.props.closePreviewMessage({streamId:s,listId:t,i13nModel:r}):this.props.onClose({listId:t,i13nModel:r})})),ve(this,"handleNext",(e=>{const{listId:t,activeGroupId:s,allItemsSelected:a}=this.props;this.props.loadMoreItems({listId:t,currentGroupId:s,allItemsSelected:a}),this.onNextItem(e)})),ve(this,"handleMoveMenuToggle",(e=>{e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})})),ve(this,"handleMoveMenuShow",(e=>{const t=this.props.enableTriageActions,s={moveMenuActive:t};e&&(s.moveMenuFilterFocused=t),this.setState(s),this.onToolbarMenuShow("MoveMenu")})),ve(this,"handleMoveMenuHide",(()=>{this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})})),ve(this,"handleExpandContractClick",(e=>{e.stopPropagation(),this.props.onChangeAllMessageCardExpansion({listId:this.props.listId,streamId:this.props.streamId,messageGroupId:this.props.activeGroupId,expansionState:this.props.isCollapseAllEnabled?u.Lvq.COLLAPSED:u.Lvq.EXPANDED})})),ve(this,"handleBackToList",(e=>{const{isStorefrontEnabled:t,listId:s,navigateBack:a,defaultFolderRoute:n}=this.props;var r;t||(0,m.aY)(s)===u.qd8.FOCUSED_INBOX?a():this.context.navigateTo({route:null!==(r=(0,ie.KI)(s))&&void 0!==r?r:n,i13nModel:{mKey:se.JE.TOOLBAR_BACK_TO_LIST,sec:se.nJ.MSG_READ_TOOLBAR,interactionType:(0,ne.getInteractionFromEvent)(e)}})})),ve(this,"renderExpandMessages",(e=>{const{isCollapseAllEnabled:t,isExpandAllEnabled:s}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getThemeMode()===U.zg.DARK;return t||s?i.createElement("div",{className:e.expandCollapse},i.createElement(f.default,{title:a(Re.Z[t?"collapse_list":"expand_list"]),"aria-label":a(Re.Z[t?"list_is_expanded":"list_is_collapsed"]),kind:t?g.Kinds.COLLAPSE_LIST:g.Kinds.EXPAND_LIST,size:g.Sizes.XS,paddingLess:!1,colorState:g.ColorStates.INHERITED,onClick:this.handleExpandContractClick,"data-iskeynav":!0,isOnDarkBackground:n})):null})),ve(this,"renderSelectionControls",(e=>{const t=(0,m.WN)(this.props.listId),{listId:s,allItemsSelected:a,previewpane:n,selectionCount:r}=this.props;if((0,m.GG)(s))switch(t){case u.F6k.IMAGES:case u.F6k.DOCUMENTS:return null}return i.createElement("div",{className:e.selectionControlsWrapper},i.createElement(q,{onMenuShow:this.onToolbarMenuShow.bind(null,"SelectionMenu"),onSelectAll:(e,t)=>this.handleSelection(u.ie0.ALL,e,t),onSelectNone:(e,t)=>this.handleSelection(u.ie0.NONE,e,t),onSelectRead:e=>this.handleSelection(u.ie0.READ,e),onSelectUnread:e=>this.handleSelection(u.ie0.UNREAD,e),onSelectStarred:e=>this.handleSelection(u.ie0.STARRED,e),onSelectUnstarred:e=>this.handleSelection(u.ie0.UNSTARRED,e),selectionCount:r,allItemsSelected:a,previewpane:n}))})),ve(this,"renderArchive",(e=>{const{showLabels:t,showActionLabels:s,isArchiveEnabled:a,isRestoreEnabled:n,conversations:r,partner:o}=this.props,l=this.isRestore();if(o===u.Ql2.AOL&&!l)return null;const c=n||a;return i.createElement(P.Z,null,i.createElement("div",{className:e.archiveRestore},i.createElement(H,{conversations:r,disabled:!this.props.enableTriageActions||!c,onClick:this.handleArchive,restore:l,showLabel:t&&s})))})),ve(this,"renderMoveMenu",(e=>{const{formatMessage:t}=this.context.intl,{isMoveEnabled:s,showLabels:a,showActionLabels:n,disabledMoveTitle:r,conversations:o,listId:l}=this.props,c=!this.props.enableTriageActions||!s,d=c&&r?t(r):t(Re.Z.move_msgs,{conversations:o});return i.createElement(P.Z,{name:"move-menu-item",title:d},i.createElement("div",{className:e.move},i.createElement(N.ZP,{"data-iskeynav":!0,title:d,showLabel:a&&n,tabIndex:-1,disabled:c,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onClick:this.handleMove,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle,hasShortcuts:!this.state.moveMenuFilterFocused,primaryShortcutKey:ke,archiveShortcutKey:we,listId:l})))})),ve(this,"renderDelete",(e=>{const{isDeleteEnabled:t,isPermDeleteEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:r,conversations:o}=this.props,l=s||t;return i.createElement(P.Z,{name:this.isPermDelete()?"perm-delete":"delete"},i.createElement("div",{className:e.deletePerm},i.createElement(B.Z,{disabled:!r||!l,onClick:this.handleDelete,permanent:this.isPermDelete(),showLabel:a&&n,conversations:o})))})),ve(this,"renderSpam",(e=>{const{isSpamEnabled:t,isHamEnabled:s,showLabels:a,showActionLabels:n,enableTriageActions:r}=this.props,o=t||s;return i.createElement(P.Z,{name:this.isSpam()?"not-spam":"spam"},i.createElement("div",{className:e.hamSpam},i.createElement($,{disabled:!r||!o,markAsSpam:this.isSpam(),onClick:this.isSpam()?this.handleSpam:this.handleHam,showLabel:a&&n})))})),ve(this,"renderMoreMenu",(e=>{const{listId:t,streamId:s,enableTriageActions:a,activeGroupId:n,showLabels:r,partner:o}=this.props;return i.createElement(P.Z,{name:"more-menu-item"},i.createElement("div",{className:e.more},i.createElement(ge,{"data-iskeynav":!0,disabled:!a,activeGroupId:n,onMenuShow:this.onToolbarMenuShow.bind(null,"MoreMenu"),listId:t,streamId:s,showLabel:r&&o===u.Ql2.AOL})))})),ve(this,"renderSortMenu",(()=>{const e=this.context.getThemeMode()===U.zg.DARK,{formatMessage:t}=this.context.intl,{currentSortOrder:s,showLabels:a,route:n,listId:r,conversations:o,folderType:l}=this.props,c=function(e,t,s,a){const n=a?(0,m.WN)(a):u.F6k.MESSAGES;switch(e.name){case u.n8z.SEARCH:return n===u.F6k.IMAGES||n===u.F6k.DOCUMENTS?S:p;default:return t===u.Sck.DRAFT?[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.STARRED,u.Asd.SUBJECT]:(0,m.SH)(e)?[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.ATTACHMENT]:s?[u.Asd.DATE_DESC,u.Asd.DATE_ASC,u.Asd.UNREAD,u.Asd.STARRED]:t===u.Sck.SENT?A:C}}(n,l,o,r),d=a?t(Re.Z.sort_menu):null,_=this.getClassNames(),E=this.getItemSpaceBasedOnPreviewPaneOffset(),I=c.map((e=>i.createElement(P.Z,{key:e,name:"sort-by-"+e},i.createElement(T.Z,{"data-test-id":"sort-by-"+e,kind:h.F.MENUITEM,onClick:t=>this.handleSort(t,e),style:{position:"relative"}},e===s?i.createElement("span",{className:_.sortByMenuItemIcon},i.createElement(L.Z,{kind:g.Kinds.CHECKMARK,size:g.Sizes.XXS,colorState:g.ColorStates.NORMAL})):null,i.createElement("span",{className:_.sortByMenuItemLabel},t(Re.Z["sort_by_"+e]))))));return i.createElement("div",{style:E,className:_.viewMenu},i.createElement("div",{className:_.sortMenuContainer},i.createElement(v.Z,null,i.createElement(y.Z,null,i.createElement(T.Z,{"data-test-id":"toolbar-sort-menu-button",kind:h.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0,isOnDarkBackground:e,ref:e=>{this.sortMenuRef=e}},i.createElement("span",{className:_.sortByMenu},d,i.createElement(L.Z,{kind:g.Kinds.CHEVRON_UP,size:g.Sizes.XS,rotate:g.Rotate.D180,colorState:g.ColorStates.INHERITED})))),i.createElement(F.ZP,{triggerOn:D.K2.CLICK,permittedArrowDirections:[D.Ji.UP],offset:4*x.mg$,align:D.xM.END,zAltitude:x.LSY.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover",onShow:this.onToolbarMenuShow.bind(null,"SortMenu"),onHide:this.onSortMenuClose},i.createElement("div",{className:_.popoverListWrapper},i.createElement(b.Z,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},I))))))})),ve(this,"renderListFilter",(()=>{const{formatMessage:e}=this.context.intl,t=(0,m.C4)(this.props.listId).toLowerCase(),s=this.getClassNames(),a=i.createElement(P.Z,{key:t,name:"list-filter-"+t},i.createElement(T.Z,{"data-test-id":"list-filter-from",kind:h.F.MENUITEM,onClick:e=>this.handleFilterChange(e,u.ukn.FROM)},e(Re.Z.list_filter_from)),i.createElement(T.Z,{"data-test-id":"list-filter-to",kind:h.F.MENUITEM,onClick:e=>this.handleFilterChange(e,u.ukn.TO)},e(Re.Z.list_filter_to)),i.createElement(T.Z,{"data-test-id":"list-filter-all",kind:h.F.MENUITEM,onClick:e=>this.handleFilterChange(e,u.ukn.ALL)},e(Re.Z.list_filter_all)));return i.createElement("div",{className:s.listFilterViewMenu},i.createElement(v.Z,null,i.createElement(y.Z,null,i.createElement(T.Z,{"data-test-id":"toolbar-list-filter-button",kind:h.F.CHROMELESS,tabIndex:-1,"data-iskeynav":!0},i.createElement("span",{className:s.listFilterMenu},e(Re.Z["list_filter_"+t]),i.createElement(L.Z,{kind:g.Kinds.CHEVRON_UP,size:g.Sizes.XS,rotate:g.Rotate.D180,colorState:g.ColorStates.INHERITED})))),i.createElement(F.ZP,{triggerOn:D.K2.CLICK,offset:5*x.mg$,align:D.xM.CENTER,zAltitude:x.LSY.POPOVER.HIGH,"data-test-id":"toolbar-list-filter-popover"},i.createElement("div",{className:s.popoverListWrapper},i.createElement(b.Z,{focusOnMount:!0,"data-test-id":"toolbar-list-filter-menu"},a)))))})),ve(this,"renderListHeading",(()=>{const e=(0,m.WN)(this.props.listId),{formatMessage:t}=this.context.intl,s=this.getClassNames();switch(e){case u.F6k.IMAGES:return i.createElement("span",{className:s.listHeading},t(Re.Z.photos_from_email));case u.F6k.DOCUMENTS:return i.createElement("span",{className:s.listHeading},t(Re.Z.documents))}})),ve(this,"renderTriageActions",(()=>{const e=this.getClassNames(),{enableTriageActions:t,showLabels:s}=this.props;return i.createElement("ul",{className:e.triageActionList},i.createElement(ee.Z,{className:s?e.toolbarItemWithLabel:e.toolbarItem,disabled:!t,showLabel:s}),this.renderArchive(e),this.renderMoveMenu(e),this.renderDelete(e),this.renderSpam(e),this.renderMoreMenu(e))})),ve(this,"renderDeleteConfirm",(()=>{if(this.state.showDeleteConfirm){const{allItemsSelected:e,allItemsCount:t,selectAll:s,conversations:a}=this.props,{formatMessage:n}=this.context.intl,r=this.getActionableGroupIds(),o={conversations:a,count:s&&e&&t>0?t:r.length};return i.createElement(R.Z,{title:n(Re.Z.confirm_delete_title),message:this.props.isPermDeleteEnabled?n(Re.Z.confirm_permanently_delete_messages,o):n(Re.Z.confirm_delete_messages,o),onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirm})}return null})),ve(this,"renderMoveConfirm",(e=>{if(this.state.showMoveConfirm){const{allItemsSelected:t,allItemsCount:s,conversations:a,selectAll:n}=this.props,{formatMessage:r}=this.context.intl,o=this.getActionableGroupIds(),l={conversations:a,count:n&&t&&s>0?s:o.length};return i.createElement(R.Z,{title:r(Re.Z.confirm_move_title),message:r(Re.Z.confirm_move_messages,l),onConfirm:t=>this.handleMove(e,t),onAbort:this.hideMoveConfirm})}return null})),ve(this,"renderConfirm",((e,t,s,a)=>{const{allItemsSelected:n,allItemsCount:r,conversations:o,selectAll:l}=this.props,{formatMessage:c}=this.context.intl,d=this.getActionableGroupIds(),_={conversations:o,count:l&&n&&r>0?r:d.length};return i.createElement(R.Z,{title:c(e),message:c(t,_),onConfirm:s,onAbort:a})})),ve(this,"renderSingleGroupActions",(()=>{const{formatMessage:e}=this.context.intl,t=this.getClassNames(),s=[{kind:g.Kinds.REPLY,action:"reply",stringKey:"message_reply"},{kind:g.Kinds.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:g.Kinds.FORWARD,action:"forward",stringKey:"message_forward"}],a=this.context.getThemeMode()===U.zg.DARK,n=s.map((({kind:s,action:n,stringKey:r})=>{const o=e(Re.Z[r]);return i.createElement(P.Z,{name:s,key:s,className:t.singleGroupItem+" "+t.rtlRawScaleX},i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":`toolbar-${s}`,"aria-label":o,title:o,kind:s,size:g.Sizes.XS,disabled:!this.props.enableGroupActions,onClick:e=>this.handleSingleGroupAction(n,(0,ne.getInteractionFromEvent)(e)),colorState:g.ColorStates.INHERITED,isOnDarkBackground:a}))}));return i.createElement("div",{className:t.singleGroupActions},i.createElement("ul",{key:"group-actions",className:t.singleGroupActionList},n))})),ve(this,"renderPreviousNext",(e=>{const{formatMessage:t}=this.context.intl,s={conversations:this.props.conversations},a=!this.props.isPreviousEnabled,n=!this.props.isNextEnabled;return i.createElement("div",{className:e.nextPrevContainer},i.createElement("span",{className:a?e.nextPrevDisabled:e.nextPrev},i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":"toolbar-previous",kind:g.Kinds.INPUT_ARROW_DOWN,rotate:g.Rotate.D180,paddingLess:!0,disabled:a,size:g.Sizes.S,onClick:this.onPreviousItem,title:t(Re.Z.previous,s),"aria-label":t(Re.Z.previous,s),colorState:g.ColorStates.INHERITED})),i.createElement("span",{className:n?e.nextPrevDisabled:e.nextPrev},i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":"toolbar-next",kind:g.Kinds.INPUT_ARROW_DOWN,paddingLess:!0,disabled:n,size:g.Sizes.S,onClick:this.handleNext,title:t(Re.Z.next,s),"aria-label":t(Re.Z.next,s),colorState:g.ColorStates.INHERITED})))})),ve(this,"renderCheckboxAndFilters",(()=>{const{kind:e,showListFilter:t}=this.props,s=this.getClassNames(),a=this.getItemSpaceBasedOnPreviewPaneOffset();if(De.Vj.HAS_GROUP_SELECTION[e]||t)return i.createElement("div",{style:a,className:s.cboxWrapper},De.Vj.HAS_GROUP_SELECTION[e]&&this.renderSelectionControls(s),t&&this.renderListFilter())})),ve(this,"renderUsabiltyOptions",(()=>{const e=this.getClassNames(),{formatMessage:t}=this.context.intl,{kind:s,hasAttachmentPreview:a,hasPrevNext:n}=this.props,r=this.context.getThemeMode()===U.zg.DARK;if(De.Vj.HAS_EXPAND_COLLAPSE[s]||De.Vj.HAS_PREVIOUS_NEXT[s]||De.Vj.HAS_CLOSE[s]&&!a)return i.createElement("div",{className:e.usabiltyOptions},De.Vj.HAS_EXPAND_COLLAPSE[s]&&this.renderExpandMessages(e),n&&this.renderPreviousNext(e),De.Vj.HAS_CLOSE[s]&&!a?i.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},i.createElement(f.default,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!this.props.enableGroupActions,kind:g.Kinds.CLOSE,size:g.Sizes.XS,onClick:this.handleClose,title:t(Re.Z.close),"aria-label":t(Re.Z.close),colorState:g.ColorStates.INHERITED,isOnDarkBackground:r})):null)})),ve(this,"renderSearchRelevanceCue",(()=>this.sortMenuRef?i.createElement(F.ZP,{"data-test-id":"search-relevance-cue",popoverAnchor:this.sortMenuRef,isRTL:this.props.isRTL,align:D.xM.END,triggerOn:D.K2.MOUNT,permittedArrowDirections:[D.Ji.UP],zAltitude:x.LSY.POPOVER.HIGH,bg:D.Ic.GRADIENT,borderRadius:D.cM.MEDIUM,ref:e=>{this.searchRelevanceCuePopoverContent=e}},i.createElement(Se.cr,{import:"../search_relevance_cue/index",close:this.state.sortMenuActive,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,90721))},_moduleResolver:function(){return 90721}})):null))}shouldComponentUpdate(e){return!e.skipRendering}componentDidMount(){this.context.bindShortcut(Ge,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(Ge)}render(){const e=this.getClassNames(),{kind:t,showSearchRelevanceCue:s}=this.props,{confirmTitle:a,confirmMessages:n,handleConfirm:r,hideConfirm:o}=this.state;return i.createElement(M.Z,{axis:M.U.HORIZONTAL,circularNavigation:!1,className:e.container,"data-test-id":"message-toolbar",groupTabIndex:x.iUz.MESSAGE_LIST_TOOLBAR,role:"toolbar"},this.renderCheckboxAndFilters(),this.props.showBackToList?i.createElement(I.Z,{onClick:this.handleBackToList}):null,this.enableSingleGroupActions()&&this.renderSingleGroupActions(),i.createElement("div",{className:e.mainActionControls},this.props.showTriageActions?this.renderTriageActions():null,this.props.showListHeading?this.renderListHeading():null),this.renderUsabiltyOptions(),De.Vj.HAS_SORT[t]&&this.renderSortMenu(),s&&this.renderSearchRelevanceCue(),i.createElement("hr",{className:e.bottomLine}),this.renderDeleteConfirm(),this.renderMoveConfirm(this.state.showMoveConfirm),a?this.renderConfirm(a,n,r,o):null)}}ve(He,"contextTypes",{navigateTo:o().func.isRequired,executeAction:o().func.isRequired,intl:l.intlShape.isRequired,config:o().object.isRequired,getCss:o().func,getThemeMode:o().func,bindShortcut:o().func,unbindShortcut:o().func,store:o().object.isRequired,os:o().oneOf((0,oe.VO)(u.Msg)),getTheme:o().func,getStore:o().func}),ve(He,"defaultProps",{currentSortOrder:u.Asd.DATE_DESC,showLabels:!0,showActionLabels:!0,hasAttachmentPreview:!1,navigateOnMessageAction:()=>{},selectAll:!1,previewpaneInPixels:!1});const Be=(0,c.connect)(((e,t)=>{const{activeGroupId:s="",kind:a,listId:r,showLabels:o,showActionLabels:i,hasAttachmentPreview:l,navigateOnMessageAction:c}=t,{getAction:d,getFeaturesSelectors:_,getRoute:E,__patchV2MessageGroupItemId__:S,doesFolderIdExist:p,getPrimaryFolderTypeByFolderId:C,getFolderIdsByName:A,getAllItemsCountForListId:T,doesListExist:I,doesStreamExist:h,getListItemIds:g,doesMessageGroupIdExist:O,getListItemIdIndex:D,isAllCardsExpanded:R,getMainStreamListIds:N,isFeatureEnabled:L,getSelectedAccountId:f,getAccountIdsOfSelectedItems:M,getNumberOfSelectedItemsInList:P,getSelectedStreamItems:b,getStreamSelectionType:y,getMessageIdsFromMessageGroupId:v,getMessagesSelectors:F,isSpamMessage:U,isTrashMessage:k,getEnvironmentSelectors:w,getDefaultFolderRoute:G}=(0,ce.selectors)(e),H=E(),B=(0,m.Fh)(r),x=T(r),V=(0,m.WN)(r),Z=(0,m.GG)(r),W=H.name===u.n8z.SEARCH,K=_(),z=L(u.ANe.CONVERSATIONS),Y=L(u.ANe.SEARCH_RELEVANCE_CUE)&&W&&!(0,m.yE)(r);let j,q;if(s&&O(s)&&(q=S(s,r)),B)p(B)&&(j=C(B));else if(q){const{folder:e}=(0,re.sd)(q);j=C(e.id)}if(W){const{folderIds:e,folderNames:t}=(0,m.Mz)(r);let s=e,a=[];t.length&&(s=n()(t.reduce(((e,t)=>e.concat(A(t))),s))),s.length&&(a=s.map((e=>C(e)))),1===a.length&&a[0]===u.Sck.ARCHIVE&&(j=a[0])}const X=(0,le.BA)(N(E())),Q=(h(X)?b(X):[]).map((({id:e})=>e)),J=P(r),$=I(r)?g(r):[],ee=D(r,s),te=f(),se=a===De.ZP.MESSAGE_VIEW,ne=y(X),oe=L(u.ANe.SELECT_ALL);let ie=!1;ie=oe?ne===u.ie0.BULK:Q.length>0&&Q.length>=$.length;const de=W&&!!(0,m.DF)(r),_e=!(W&&Z&&(V===u.F6k.IMAGES||V===u.F6k.DOCUMENTS)),Ee=(0,fe.f)({kind:a,activeGroup:q,allCardsExpanded:q?R(r,q.id):null,primaryFolderType:j,listContentType:V}),ue=M(X,r),me=Ee.move&&ue.length>1?Re.Z.disable_move_msgs_across_accunts:Re.Z.disable_move_msgs_default;if(Ee.move=Ee.move&&ue.length<=1,1===ue.length&&(Ee.move=Ee.move&&ue[0]===te),a===De.ZP.MESSAGE_VIEW){const e=$.length;Ee.previous=!!e&&ee>0,Ee.next=!!e&&ee<e-1}const Se=K.getSetting(u.Zrf.PREVIEW_PANE),pe=K.getSetting(u.Zrf.BULK_ACTION_DIALOG_THRESHOLD),Ce=s&&O(s)&&v(s)||[],Ae=1===Ce.length&&Ce[0]||"",Te=Boolean(L(u.ANe.UNSUBSCRIBE_FROM_MESSAGE)&&Ae&&(0,Me.m3)(F().getDecos(Ae),u.Jd6.USB)&&!U(Ae)&&!k(Ae)&&L(u.ANe.UNSUBSCRIBE_FOR_SPAM)),{getPartner:Ie}=w();return{enableGroupActions:Se?!!s&&0===J:!!s,enableTriageActions:""!==s||J>0,isBulkAction:!s&&J>=pe,isSpamEnabled:!!Ee.spam,isHamEnabled:!!Ee.ham,isArchiveEnabled:!!Ee.archive,isRestoreEnabled:!!Ee.restore,isMoveEnabled:!!Ee.move,isDeleteEnabled:!!Ee.delete,isPermDeleteEnabled:!!Ee.permDelete,hasPrevNext:!!Ee.prevNext,isPreviousEnabled:!!Ee.previous,isNextEnabled:!!Ee.next,isRafEnabled:!!Ee.raf,isCollapseAllEnabled:!!Ee.collapseAll,isExpandAllEnabled:!!Ee.expandAll,isStorefrontEnabled:L(u.ANe.STOREFRONT),shouldDoSelectAll:oe&&ie&&!s&&(x>=pe||x>=J),selectionCount:oe&&ie?x:J,skipRendering:d().type===ae.STREAM_CURSOR_MOVED,activeGroupId:s,folderType:j,currentSortOrder:(0,m.WW)(r),disabledMoveTitle:me,kind:a,listId:r,route:H,showLabels:o,showActionLabels:i,hasAttachmentPreview:l,showBackToList:se,showListFilter:de,showTriageActions:_e,showListHeading:!_e,allItemsSelected:ie,navigateOnMessageAction:c,allItemsCount:x,previewpane:Se,bulkActionDialogThreshold:pe,selectAll:oe,conversations:z,streamId:X,isConversationMode:L(u.ANe.CONVERSATIONS),showSearchRelevanceCue:Y,previewpaneInPixels:L(u.ANe.PREVIEW_PANE_IN_PIXELS),mid:Ae,showUnsubscribeFlowForSpam:Te,partner:Ie(),defaultFolderRoute:G()}}),(e=>({onChangeAllMessageCardExpansion:t=>e((0,_.Ty)(t)),onClose:t=>e((0,E.I3)(t)),closePreviewMessage:t=>e((0,E.Qg)(t)),loadMoreItems:t=>e((0,d.ZP)(t)),onHideDeleteConfirm:t=>e((0,de.IU)(t)),navigateBack:t=>e((0,E.n)(t)),onDelete:t=>e((0,ye.CV)(t)),onSpam:t=>e((0,de.Ke)(t)),moveToInbox:t=>e((0,de.x0)(t))})),void 0,{areOwnPropsEqual:oe.PJ})(He)},67612:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({move_msgs:{id:"move_msgs",defaultMessage:"Move {conversations, select, true {conversation} false {message}} to another folder"},mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as spam"},mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as not spam"},confirm_delete_title:{id:"message_list.confirm_delete_title",defaultMessage:"Delete message"},confirm_delete_messages:{id:"message_list.confirm_delete_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} to Trash?"},confirm_permanently_delete_messages:{id:"message_list.confirm_permanently_delete_messages",defaultMessage:"Are you sure you want to permanently delete {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}"},confirm_move_title:{id:"message_list.confirm_move_title",defaultMessage:"Move messages"},confirm_move_messages:{id:"message_list.confirm_move_messages",defaultMessage:"Are you sure you want to move {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_spam_title:{id:"message_list.confirm_spam_title",defaultMessage:"Spam messages"},confirm_spam_messages:{id:"message_list.confirm_spam_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as spam?"},confirm_ham_title:{id:"message_list.confirm_ham_title",defaultMessage:"Mark as not spam"},confirm_ham_messages:{id:"message_list.confirm_ham_messages",defaultMessage:"Are you sure you want to mark {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}} as not spam?"},confirm_archive_title:{id:"message_list.confirm_archive_title",defaultMessage:"Archive message"},confirm_archive_messages:{id:"message_list.confirm_archive_messages",defaultMessage:"Are you sure you want to archive {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},confirm_restore_title:{id:"message_list.confirm_restore_title",defaultMessage:"Archive message"},confirm_restore_messages:{id:"message_list.confirm_restore_messages",defaultMessage:"Are you sure you want to restore {conversations, select, true {{count, plural, one {conversation} other {# conversations}}} false {{count, plural, one {message} other {# messages}}}}?"},sort_menu:{id:"sort_menu",defaultMessage:"Sort"},sort_by_date_desc:{id:"sort_by_date_desc",defaultMessage:"Date: Newest on top"},sort_by_date_asc:{id:"sort_by_date_asc",defaultMessage:"Date: Oldest on top"},sort_by_unread:{id:"sort_by_unread",defaultMessage:"Unread"},sort_by_flagged:{id:"sort_by_flagged",defaultMessage:"Starred"},sort_by_sender:{id:"sort_by_sender",defaultMessage:"Sender"},sort_by_recipient:{id:"sort_by_recipient",defaultMessage:"Recipient"},sort_by_subject:{id:"sort_by_subject",defaultMessage:"Subject"},sort_by_asc:{id:"sort_by_asc",defaultMessage:"Date: Oldest on top"},sort_by_desc:{id:"sort_by_desc",defaultMessage:"Date: Newest on top"},sort_by_relevance:{id:"sort_by_relevance",defaultMessage:"Relevance"},sort_by_attachment:{id:"sort_by_attachment",defaultMessage:"Attachments"},list_filter_from:{id:"list_filter_from",defaultMessage:"From"},list_filter_to:{id:"list_filter_to",defaultMessage:"To"},list_filter_all:{id:"list_filter_all",defaultMessage:"All"},delete_msg_group:{id:"delete_msg_group",defaultMessage:"Delete all these messages"},move_msg_group:{id:"move_msg_group",defaultMessage:"Move these messages to another folder"},close:{id:"close",defaultMessage:"Close"},message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},previous:{id:"button.previous",defaultMessage:"Previous {conversations, select, true {conversation} false {message}} [ â Left ]"},next:{id:"button.next",defaultMessage:"Next {conversations, select, true {conversation} false {message}} [ â Right ]"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"},photos_from_email:{id:"photos_from_email_label",defaultMessage:"Photos from email"},photos:{id:"photos_label",defaultMessage:"Photos"},documents:{id:"document_label",defaultMessage:"Documents from email"},disable_move_msgs_across_accunts:{id:"disable_move_msgs_across_accounts",defaultMessage:"Messages can't be moved across mailboxes."},disable_move_msgs_default:{id:"disable_move_msgs_default",defaultMessage:"Messages can't be moved."}})},91472:e=>{"use strict";e.exports={className:{default:{container:"ab_C k_w D_F H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_ZkbNhI",cboxWrapper:"D_F",usabiltyOptions:"D_F t_r",selectionControlsWrapper:"D_F Q_6EGz",viewMenu:"E_eo6 en_0",listFilterViewMenu:"E_eo6 en_0 D_F",mainActionControls:"D_F em_N gl_C",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",triageActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",closeWrapper:"O_6uB4 cdPFi4_Z29WjXl",hamSpam:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",archiveRestore:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",deletePerm:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",move:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",more:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",sponsoredToolBarForward:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",sponsoredToolBarSave:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",expandCollapse:"M_0 cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",bottomLine:"M_0 P_0 cn_0 D_n",sortByMenu:"D_F ab_C y_jyw3a X_eo6 cZ1TvChj_2bXRpc A_6EqO c1AVi73_6FsP c1AVi7H_6LEV cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",nextPrev:"cdPFi_Z1oI2WW cdPFi4_Z29WjXl",nextPrevDisabled:"cdPFi_ZS20VC r_BN cZW7ROP_n",sortByMenuItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",sortByMenuItemLabel:"X_6Eb4",popoverListWrapper:"P_3Y3Gk",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1oI2WW cdPFi4_Z29WjXl",listFilterMenu:"D_F ab_C y_jyw3a X_6FIA A_6EqO c1AVi73_6FsP c1AVi7H_6LEV lo_AT cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl",nextPrevContainer:"D_F P_3gIMd",listHeading:"A_6FsP c1AVi73_6FsP c1AVi7H_6LEV",rtlRawScaleX:"rtlR_h_2gl0WC",tabs:"P_ZuD6o1 M_1EueWv m_Z14vXdP"},"themeMode-DARK":{container:"I_T m_ZYfqDw C_ZkbNhI cdPFi_ZkbNhI",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",hamSpam:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",archiveRestore:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",deletePerm:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",move:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",more:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",sponsoredToolBarForward:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",sponsoredToolBarSave:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",sponsoredToolBarClose:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",sortByMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",listFilterMenu:"cdPFi_ZpQYvz C_ZpQYvz C4_ZkbNhI cdPFi4_ZkbNhI",nextPrev:"cdPFi_ZpQYvz cdPFi4_ZkbNhI",nextPrevDisabled:"cdPFi_ZpQYvz O_cMr r_BN cZW7ROP_n",closeWrapper:"cdPFi_ZpQYvz cdPFi4_ZkbNhI"},fullMessageView:{container:"gl_FM"},closeWrapperMargin:{closeWrapper:"Q_fq7"},listWithVerticalPreview:{cboxWrapper:"ip_N ej_d70",viewMenu:"ip_O t_r ej_d70 E_0",singleGroupActions:"ip_P Q_fq7",mainActionControls:"em_N ip_Q",usabiltyOptions:"ip_R",sortMenuContainer:"N_6MGW"},listWithNonVerticalPreview:{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},verticalSelectionControlView:{listFilterViewMenu:"p_CS T_6Fd5",listFilterMenu:"X_fq7"},hamSpamDisabled:{hamSpam:"r_n O_6uB4 cZW7ROP_n"},archiveRestoreDisabled:{archiveRestore:"r_n O_6uB4 cZW7ROP_n"},moveDisabled:{move:"r_n O_6uB4 cZW7ROP_n"},deletePermDisabled:{deletePerm:"r_n O_6uB4 cZW7ROP_n"},sponsoredVideoMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl"},sponsoredMailPlusMessage:{sponsoredToolBarForward:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarSave:"r_n O_6uB4 cZW7ROP_n",sponsoredToolBarClose:"M_3gIMd cdPFi_Z1oI2WW C_Z1oI2WW C4_Z29WjXl cdPFi4_Z29WjXl"},groupActionsActive:{singleGroupActionList:"O_N r_BN cZW7ROP_A"},triageActionsActive:{triageActionList:"O_N r_BN cZW7ROP_A",closeWrapper:"O_N"},selectionControlDisabled:{selectionControlsWrapper:"hd_n D_F ab_C M_Z1feokn P_0 O_6uB4 r_n cZW7ROP_n"},showTriageActionsLabels:{hamSpam:"M_1MYwXA",archiveRestore:"M_1MYwXA",deletePerm:"M_1MYwXA",move:"M_1MYwXA",more:"M_1MYwXA"},previewpaneInPixels:{cboxWrapper:"a_ZTjccc",viewMenu:"a_ZTjccc"}},_key:"YAjPu"}},59914:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var a=s(33954),n=s(62760),r=s(37422);function o({kind:e,activeGroup:t,allCardsExpanded:s,primaryFolderType:o,listContentType:i}){const l=e!==a.ZP.LIST&&t&&t.messages.length>1,c=Boolean(l&&!1===s),d=Boolean(l&&!0===s),_=a.Vj.HAS_PREVIOUS_NEXT[e]&&i===r.F6k.MESSAGES;if(e===a.ZP.MESSAGE_VIEW){if(!t)return{};const e=(0,n.eW)(t),s=!e&&(0,n.g_)(t),a=!s&&(0,n.LA)(t),i=o===r.Sck.ARCHIVE,l=s||a||e;return{spam:!e&&!s,ham:e&&!s,move:!s,archive:!(s||e||a||i),restore:e||a||i,delete:!l,permDelete:l,raf:!e&&!s,expandAll:c,collapseAll:d,prevNext:_}}const E=Boolean(o),u=o===r.Sck.DRAFT,m=o===r.Sck.TRASH,S=o===r.Sck.ARCHIVE,p=o===r.Sck.BULK,C=o===r.Sck.SENT,A=u||m||p;return{spam:!E||!u&&!p&&!C,ham:p&&!C,move:!E||!u,archive:!E||!u&&!S&&!p&&!m,restore:S||p||m,delete:!E||!A,permDelete:A,raf:e!==a.ZP.LIST&&(!E||!p&&!u),expandAll:c,collapseAll:d}}},48717:e=>{"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_Z1gjdjJ I3_Z1gjdjJ",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_ZkbNhI"}},_key:"Z1DkYvX"}},20561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=s(67294),n=s(18685),r=s(18446),o=s.n(r),i=s(85927),l=s(78737),c=s(17016),d=s(3405),_=s(57557),E=s.n(_);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const m=(0,n.connect)(((e,{route:t})=>({href:(0,i.selectors)(e).normalizeRoute(t).url})),((e,{i13nModel:t,replaceState:s=!1,route:a,hashParams:n={},stopPropagation:r,onClick:o})=>({onClick:i=>{const d=Date.now();r&&i.stopPropagation(),o&&o(i),i.preventDefault(),t&&(t={...t,interactionType:(0,c.getInteractionFromEvent)(i)}),e((0,l.st)({replaceInStack:s,route:a,i13nModel:t,hashParams:n,perfHeader:{requestStart:d}}))}})),void 0,{areOwnPropsEqual:({route:e,...t},{route:s,...a})=>(0,d.Vu)(e,s)&&o()(t,a)})((({href:e="#",title:t,onClick:s,children:n,...r})=>a.createElement("a",u({},E()(r,["i13nModel","replaceState","route","hashParams","stopPropagation","dispatch"]),{onClick:s,href:e,title:t||void 0,"data-iskeynav":r["data-iskeynav"]}),n)))},71799:e=>{"use strict";e.exports={className:{default:{navResizer:"en_0 O_cMo I_ZpQYvz M_0 r_CA ej_dRA Z_N O4_cMv",dragShield:"r_CA O_0 p_f B_0 L_0 R_0 T_0 Z_3n0uA"},higherOpacity:{navResizer:"O_cMv I_ZpQYvz ej_dBP j_Z1OOJIo"},viewsUnderInboxDarkStyles:{navResizer:"O_cMv I_a0xJ8 ej_dBP j_MYIgF"}},_key:"Zojkqx"}},7e4:e=>{"use strict";e.exports={className:{default:{container:"p_R Z_0 em_N W_6D6F D_F ek_BB",shadow:"O_0 Z_N p_a T_73HH W_6D6F H_eo6 aw_Z1X3J96",folderList:"Y_fq7 P_Z1jXKuU D_B iz_A iy_h it_68UO"},scrollingUnder:{shadow:"O_N"},isRTL:{adRec:"E_36Jhx"},"themeMode-MEDIUM":{container:"C_ZkbNhI"},"themeMode-DARK":{container:"C_ZkbNhI"}},_key:"ZAOsox"}},2357:(e,t,s)=>{"use strict";s.d(t,{$e:()=>o,Af:()=>l,Bc:()=>d,Lp:()=>_,Mc:()=>c,_5:()=>u,gg:()=>i,iY:()=>r,mj:()=>E});var a=s(41546),n=s(99095);let r,o;!function(e){e[e.PERSONALIZE_INBOX=0]="PERSONALIZE_INBOX",e[e.CREATE_LOOK=1]="CREATE_LOOK",e[e.STYLE_INBOX=2]="STYLE_INBOX",e[e.SET_NOTIFICATIONS=3]="SET_NOTIFICATIONS",e[e.INBOX_IS_READY=4]="INBOX_IS_READY"}(r||(r={})),function(e){e.INSIDE_INBOX="INSIDE_INBOX",e.OUTSIDE_INBOX="OUTSIDE_INBOX",e.STICKY_ONBOARDING="STICKY_ONBOARDING"}(o||(o={}));const i={[o.INSIDE_INBOX]:"ot_inside_onboarding",[o.OUTSIDE_INBOX]:"ot_outside_onboarding",[o.STICKY_ONBOARDING]:"StickyOnboarding_personalize"},l=3400,c=(0,a.A)("/img/new_user_onboarding_v2_first_page_asset.mp4"),d=(0,a.A)("/img/new_user_onboarding_v2_last_page_asset.mp4"),_=(0,n.defineMessages)({new_user_onboarding_create_look:{id:"new_user_onboarding_create_look",defaultMessage:"Create your look"},new_user_onboarding_style_inbox:{id:"new_user_onboarding_style_inbox",defaultMessage:"Style your inbox"},new_user_onboarding_set_notifications:{id:"new_user_onboarding_set_notifications",defaultMessage:"Set notification preferences"}}),E=(0,n.defineMessages)({new_user_onboarding_personalize_inbox_subheading:{id:"new_user_onboarding_personalize_inbox_subheading",defaultMessage:"Make your inbox your own"},new_user_onboarding_create_your_look_apperance:{id:"new_user_onboarding_create_your_look_apperance",defaultMessage:"Appearance"},new_user_onboarding_readability_mode_subheading:{id:"new_user_onboarding_readability_mode_subheading",defaultMessage:"Large text size"},new_user_onboarding_readability_mode_hint:{id:"new_user_onboarding_readability_mode_hint",defaultMessage:"Increased text size for enhanced readability"},new_user_onboarding_notifications_hint:{id:"new_user_onboarding_create_your_look_apperance_notifications_hint",defaultMessage:"These are alerts when you receive new emails"},new_user_onboarding_inbox_is_ready_subheading:{id:"new_user_onboarding_set_inbox_is_ready_subheading",defaultMessage:"Your new inbox is ready!"}}),u=(0,n.defineMessages)({personalize_inbox_video_title:{id:"tutorial.personalize_inbox_video_title",defaultMessage:"Personalize your inbox"},skip:{id:"new_onboarding_cue_v1.skip_btn",defaultMessage:"Skip"},nextPageLabel:{id:"next",defaultMessage:"Next"},back:{id:"bm.back_button",defaultMessage:"Back"},doneBtn:{id:"done_button_title",defaultMessage:"Done"},close:{id:"close",defaultMessage:"Close"},themeLabel:{id:"theme_label",defaultMessage:"Theme"},layout_picker_label:{id:"compose.layout_picker_label",defaultMessage:"Layout"},desktopNotificationsHeader:{id:"desktopNotificationsHeader_label",defaultMessage:"Desktop notifications"}})},89506:(e,t,s)=>{"use strict";let a,n,r,o;s.d(t,{LJ:()=>o,RH:()=>c,Sr:()=>r,WA:()=>d,Yq:()=>i,ly:()=>l,n5:()=>n,uI:()=>a}),function(e){e.NOTES="NOTES",e.FOLDERS="FOLDERS"}(a||(a={})),function(e){e.LIST="LIST",e.CREATE="CREATE",e.EDIT="EDIT"}(n||(n={})),function(e){e.JOURNAL="JOURNAL"}(r||(r={})),function(e){e.CLOSE="CLOSE",e.OPEN="OPEN"}(o||(o={}));const i=1023,l="12";let c;!function(e){e.NOTES="NOTES",e.FOLDERS="FOLDERS"}(c||(c={}));const d="NOTES_PANE"},91335:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(67294),n=s(83034),r=s(29911),o=s(37422),i=s(9026),l=s(67866),c=s.n(l);const d=e=>{const{includeHeaders:t=!1}=e,{theme:s,themeMode:l}=(0,a.useContext)(r.Z),d=`${t}_and_${l===o.zgU.MEDIUM||l===o.zgU.DARK?"onDarkBg"+(t&&Object.keys(i.KC).includes(s)?`_${s}`:""):"onLightBg"}`,_=(0,n.Z)(c(),{includeHeaders:d});return a.createElement("div",{className:_.container},t&&a.createElement("div",{"data-test-id":"note_pane.header_loading"},a.createElement("div",{className:_.header_block1}),a.createElement("div",{className:_.header_block2})),[...Array(4)].map(((e,t)=>{return s=t,a.createElement("div",{key:s,className:_.item_wrapper,"data-test-id":"note_pane.item_loading"},a.createElement("div",{className:_.details_container},a.createElement("div",{className:_.short_box}),a.createElement("div",{className:_.long_box}),a.createElement("div",{className:_.long_box})));var s})))}},67866:e=>{"use strict";e.exports={className:{default:{container:"F_N W_3vpWV",item_wrapper:"D_F P_1e3HE7 m_Z14vXdP",details_container:"ah_Z1tF3s4 em_N Q_6Fd5 E_fq7",long_box:"H_6Eb4 Y_6Eb4 e_fq7 q_ZpQYvz",short_box:"W_e5X H_6Eb4 e_fq7 q_ZpQYvz",header_block1:"H_73HH",header_block2:"z_Z14vXdP m_wdeV2 H_72FG"},"includeHeaders-true_and_onLightBg":{container:"q_ZkbNhI"},"includeHeaders-false_and_onDarkBg":{container:"q_n",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg":{container:"q_ZS20V7",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_NIGHT_LANDSCAPE":{container:"I_cOYF6",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_ROADTRIP":{container:"I_1iaDt1",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUNSET_AUSSIE":{container:"I_2woj1H",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_LIGHTHOUSE":{container:"I_t5YMW",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SPRING":{container:"I_ZgFtst",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_WINTER":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUMMER":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_GALAXY":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_FALL":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_WESTERN":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUNSET":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"}},_key:"Z27s4wl"}},49124:(e,t,s)=>{"use strict";s.d(t,{IH:()=>r,Tz:()=>n,Vx:()=>o,jE:()=>i,sD:()=>a,zU:()=>l});const a=e=>{const t=e.slice(0,e.indexOf("T")),s=e.slice(e.indexOf("T")+1);return new Date(parseInt(t.substring(0,4),10),parseInt(t.substring(4,6),10)-1,parseInt(t.substring(6,8),10),parseInt(s.substring(0,2),10),parseInt(s.substring(2,4),10),parseInt(s.substring(4,6),10))},n=e=>null===e?e:e=(e=(e=(e=(e=(e=(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&#92;/g,"\\")).replace(/&lcub;/g,"{")).replace(/&rcub;/g,"}"),r=e=>0===e.length?[]:[e[0],...e.slice(1).sort(((e,t)=>e.name.localeCompare(t.name)))],o=e=>{if(!e)return e;const t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText},i=(e,t)=>{if(0===e.length)return null;if(void 0===t)return;const s=e.find((e=>e.id===t));return null==s?void 0:s.name},l=(e,t)=>t.filter((t=>t.folderId===e))},90108:(e,t,s)=>{"use strict";s.d(t,{$6:()=>h,$i:()=>D,FP:()=>f,GX:()=>L,Gs:()=>b,SP:()=>P,U4:()=>I,fG:()=>N,hp:()=>y,jG:()=>M,rW:()=>g,s7:()=>O,u3:()=>v,vw:()=>R});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(68882),l=s.n(i),c=s(67498),d=s(28182),_=s(18685),E=s(85927),u=s(15632),m=s(64059),S=s(92559),p=s(3405),C=s(37422),A=s(20561);s(95406);const T=o()(l());function I(){return a.createElement(n.FormattedMessage,{id:"compose.duplicateAttachmentAlert",defaultMessage:"That file has already been attached."})}function h(){return a.createElement(n.FormattedMessage,{id:"compose.send_email_address_missing_notification",defaultMessage:"Please add at least one email address before sending."})}function g({onClose:e}){return a.createElement(n.FormattedMessage,{id:"compose.invalid_reply_to_address_notification_desktop",defaultMessage:"The Reply-to address set on your account is unverified. {linkToSetting}",values:{linkToSetting:a.createElement(A.Z,{route:(0,p.Tx)({settingsGroupId:C.u5h.ACCOUNTS}),className:T.link,onClick:e},a.createElement(n.FormattedMessage,{id:"compose.invalid_reply_to_address_notification_desktop.linkToSetting",defaultMessage:"Change in settings."}))}})}function O(e,{intl:{locale:t}}){const s=(0,u.Lz)("SLN3353")(t);return a.createElement("div",null,a.createElement("div",{className:T.notificationTitle},a.createElement(n.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_title",defaultMessage:"Send Error: Too many recipients for this email"})),a.createElement("div",{className:T.notificationSubText},a.createElement(n.FormattedMessage,{id:"compose.send_recipients_exceeded_notification_subtext",defaultMessage:"Please reduce the number of recipients and try to send again."}),a.createElement("br",null),a.createElement(c.Z,{kind:d.F.CHROMELESS,"data-test-id":"compose_learn_more_btn",onClick:()=>(0,m.x)(s)},a.createElement("span",{className:T.button},a.createElement(n.FormattedMessage,{id:"compose.learn_more_url",defaultMessage:"Learn more"})))))}function D({invalidAddresses:e=[]}){const t=[];return e.forEach(((e,s,r)=>{const o="_"+s;t.push(a.createElement("span",{key:o},e)),s<r.length-1&&t.push(a.createElement(n.FormattedMessage,{key:o+"-delim",id:"email_separator",defaultMessage:"\n                        {isLast, select,\n                            false {,\\u0020}\n                            true {, and\\u0020}}\n                    ",values:{isLast:s===r.length-2}}))})),a.createElement(n.FormattedMessage,{id:"compose.send_email_address_correction_notification",defaultMessage:"Please correct these email addresses before sending: {emailList}",values:{emailList:a.createElement("span",null,t)}})}O.contextTypes={intl:n.intlShape.isRequired};const R=(0,_.connect)(((e,{csid:t})=>{const{isAttachmentUploadPendingForComposeSession:s}=(0,E.selectors)(e);return{isUploading:s(t)}}))((function({isUploading:e}){return e?a.createElement(n.FormattedMessage,{id:"compose.uploading_attachment_email_status",defaultMessage:"Adding attachments..."}):a.createElement(n.FormattedMessage,{id:"compose.sending_email_status",defaultMessage:"Sending..."})}));function N(){return a.createElement(n.FormattedMessage,{id:"notification.draft_save_success",defaultMessage:"Your message has been saved in the Drafts folder."})}function L(){return a.createElement(n.FormattedMessage,{id:"notification.draft_save_failed",defaultMessage:"Message cannot be saved as draft."})}function f(){return a.createElement(n.FormattedMessage,{id:"notification.saved_to_inbox",defaultMessage:"Message saved to inbox."})}function M(){return a.createElement(n.FormattedMessage,{id:"notification.save_to_inbox_failed",defaultMessage:"Message cannot be saved to inbox."})}function P({messageIds:e}){const t=e&&e.length||1;return a.createElement(n.FormattedMessage,{id:"notification.delete_draft_success",defaultMessage:"{count, plural, one {Draft} other {Drafts}} permanently deleted.",values:{count:t}})}function b({messageIds:e}){const t=e&&e.length||1;return a.createElement(n.FormattedMessage,{id:"notification.delete_draft_failure",defaultMessage:"Unable to delete the {count, plural, one {draft} other {drafts}}.",values:{count:t}})}function y(){return a.createElement(n.FormattedMessage,{id:"compose.draft_unavailable_notification",defaultMessage:"The message you are trying to open is no longer available."})}const v=(0,_.connect)((e=>{const{getSetting:t}=(0,E.selectors)(e);return{composeFormatSetting:t(C.Zrf.COMPOSE_FORMAT)}}))((function(e){const t=o()(l()),{composeFormatSetting:s,onClose:r}=e,i=(0,p.Tx)({settingsGroupId:C.u5h.WRITING_EMAIL}),c={mKey:S.JE.SETTINGS_NAV_COMPOSE_FORMAT_CUE,sec:S.nJ.COMPOSE_MSG,interactionType:S.Rb.click};return a.createElement(n.FormattedMessage,{id:"toast.compose_format_cue_setting",defaultMessage:"{composeFormatSetting} compose set as default. To change this, go to {settingsLink}",values:{composeFormatSetting:s===C.tTi.COMPACT?a.createElement(n.FormattedMessage,{id:"compose_format_cue.notification.compact",defaultMessage:"Compact"}):a.createElement(n.FormattedMessage,{id:"compose_format_cue.notification.fullSize",defaultMessage:"Full-size"}),settingsLink:a.createElement(A.Z,{route:i,i13nModel:c,className:t.link,onClick:r,"data-test-id":"go-to-settings"},a.createElement(n.FormattedMessage,{id:"toast.settings_button",defaultMessage:"Settings"}))}})}))},95464:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});s(45697);var a=s(67294),n=s(99095),r=s(76223),o=s.n(r),i=s(98014),l=s.n(i),c=s(43007),d=s(9333),_=(s(95406),s(76531)),E=s(37422),u=s(26),m=s(52065),S=s(79483),p=s(92559),C=s(17016);function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const T=(0,n.defineMessages)({close:{id:"notification.close",defaultMessage:"Close notification"}});class I extends a.Component{constructor(...e){super(...e),A(this,"onClickCloseIcon",(e=>{this.props.children.type===m.p&&S.ZP.sendI13nModel({i13nModel:{mKey:p.JE.ADVANCED_SEARCH_PROMPT_CLOSED,sec:p.nJ.NOTIFICATION_ACTION,interactionType:(0,C.getInteractionFromEvent)(e)}}),this.props.onClose(e)}))}render(){const{type:e,icon:t,sticky:s}=this.props,n=o()(l(),{type:e}),r=this.context.intl.formatMessage(T.close),i=!t&&e===E.j_x.PENDING;let m=t;if(!m&&e!==E.j_x.ADVISORY)switch(e){case E.j_x.FORWARDING_WARNING:case E.j_x.WARNING:m=_.Kinds.EXCLAMATION_ALT;break;case E.j_x.PENDING:m=_.Kinds.REFRESH;break;default:m=_.Kinds.CHECKMARK}return a.createElement("div",{className:n.container},a.createElement("div",{className:n.innerContainer},m?a.createElement("div",{className:n.icon,role:"presentation"},i?a.createElement(u.Z,{size:_.Sizes.S,inverted:!0}):a.createElement(c.Z,{kind:m,size:_.Sizes.S,colorState:_.ColorStates.INVERTED})):null,a.createElement("div",{className:n.content},this.props.children),s?null:a.createElement("div",{className:n.close},a.createElement(d.default,{kind:_.Kinds.CLOSE_MINI,size:_.Sizes.XS,colorState:_.ColorStates.NORMAL,title:r,tabIndex:0,role:"presentation",onClick:this.onClickCloseIcon}))))}}A(I,"contextTypes",{intl:n.intlShape.isRequired}),A(I,"defaultProps",{sticky:!1,requireInteraction:!1,type:E.j_x.NORMAL});const h=I},52065:(e,t,s)=>{"use strict";s.d(t,{p:()=>u});var a=s(67294),n=s(99095),r=s(18685),o=s(39239),i=s(92559),l=s(17016),c=s(10728),d=s(85927),_=s(90406),E=s(37422);const u=(0,r.connect)((e=>{const{getRoute:t}=(0,d.selectors)(e);return{routeUrl:t().url}}),(e=>({toggleAdvancedSearchPane:t=>e((0,o.p)(t)),focusSearch:t=>e((0,_.tB)(t))})))((e=>{const t=(0,a.useRef)(!0),s=(0,a.useRef)(null),r={color:c.nGq,cursor:"pointer"},{routeUrl:o,onClose:d,toggleAdvancedSearchPane:_,focusSearch:u}=e,m=e=>{const t={mKey:i.JE.ADVANCED_SEARCH,sec:i.nJ.NOTIFICATION_ACTION,interactionType:(0,l.getInteractionFromEvent)(e)};d(),_({}),u({i13nModel:t})};return(0,a.useEffect)((()=>{var e;t.current?(t.current=!1,null===(e=s.current)||void 0===e||e.focus()):d()}),[o,d]),a.createElement(n.FormattedMessage,{id:"notification.adv_search_prompt",defaultMessage:"Looking for something? Try {openSearchLink} for a person, business, or keyword",values:{openSearchLink:a.createElement("a",{ref:s,tabIndex:0,style:r,onClick:m,onKeyDown:e=>{e.key===E.R8U.ENTER&&m(e)}},a.createElement(n.FormattedMessage,{id:"notification.adv_search_prompt.open_search",defaultMessage:"searching"}))}})}))},68882:e=>{"use strict";e.exports={className:{default:{notificationTitle:"t_CS A_6EWk c1AVi73_6FYl C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO c1AVi73_6FsP",button:"C_Z29WjXl A_6EqO c1AVi73_6FsP",link:"C_Z29WjXl u_e69 r_P"}},_key:"1Ullol"}},33055:e=>{"use strict";e.exports={className:{default:{container:"D_F W_6D6F gl_FM",button:"q_n b_n C_Z29WjXl A_6EWk u_e69 P_0 r_P"},isMobileRoute:{button:"C_ZkbNhI"}},_key:"Z15nBic"}},48003:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl Q_dRA u_e69 r_P"}},_key:"Z1B3pob"}},88225:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl r_P"}},_key:"xcL2R"}},43854:e=>{"use strict";e.exports={className:{default:{settings:"C_Z29WjXl r_P"}},_key:"xcL2R"}},8794:e=>{"use strict";e.exports={className:{default:{undo_btn:"q_T b_0 C_Z29WjXl u_e69 A_6EWk r_P C4_Z2chSgW c1AVi73_6FsP"}},_key:"Ztidmv"}},98014:e=>{"use strict";e.exports={className:{default:{icon:"C_ZkbNhI en_0 P_3gJOe ac_FT ab_C D_F gl_C ba_6Eor",container:"k_w p_R a_3PmnJ D_F b_tw30f e_eo6",innerContainer:"D_F ab_CH ac_CH gl_C q_ZkbNhI j_1zwO34 o_h cZW7ROP_A e_dRA",content:"em_N D_F P_Z2baRGn A_6EWk i_6Mbr c1AVi73_6FYl c1AVi7H_6Mrc C_Z281SGl o_h r_BN",close:"P_C04i4 ac_CI",link:"C_Z29WjXl",actionLink:"C_Z29WjXl A_6EWk c1AVi73_6FYl c1AVi7H_6Mrc r_P"},"type-NORMAL":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-PENDING":{icon:"I_1mrWUc aw_buWz3",container:"b4_Zn2bY2"},"type-ADVISORY":{icon:"I_1QHJF0 aw_Z1vTr7U",container:"b4_2lPLnT"},"type-WARNING":{icon:"I_Z2dUi2G aw_1m9jyS",container:"b4_ZiVA4S"},"type-FORWARDING_WARNING":{icon:"I_Z2dUi2G aw_23mzVp",content:"i_6FIA A_6EqO c1AVi73_6FsP c1AVi7H_6LEV W_3rex8 P_2cnLF4",container:"b_0 a_3v1qi"},"type-GDPR_WARNING":{icon:"I_1jMMk7 aw_Z19di99",content:"P_EFwtL"}},_key:"ZUYxIn"}},82723:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl Q_dRA u_e69 r_P",leftAlign:"t_l",errorWrapper:"t_l",errorHeader:"u_e69 U_eo6",errorBody:"A_6EqO i_6Fd5 c1AVi73_6FsP c1AVi7H_6LEV",restoreWrapper:"P_ZuGzVr",lineText:"N_6Fd5",option:"r_P",lightLink:"C_Z29WjXl r_P"}},_key:"TmJ5S"}},48845:e=>{"use strict";e.exports={className:{default:{undo_btn:"q_T b_0 C_Z29WjXl u_e69 A_6EWk r_P C4_Z2chSgW"}},_key:"eKIYP"}},18716:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl r_P",notificationTitle:"t_CS A_6EWk C_Z281SGl u_e69 i_6TFj",notificationSubText:"t_CS A_6EqO"}},_key:"Z1xJcfe"}},8389:e=>{"use strict";e.exports={className:{default:{button:"C_Z29WjXl A_6EWk"}},_key:"26NVmk"}},14369:e=>{"use strict";e.exports={className:{default:{alert:"p_f T_73HH L_0 R_0 Z_7GpC t_C jn_1HWwRx D_F gl_C cZW7ROP_n",modal:"p_f T_0 R_0 B_0 L_0 Z_3mRud q_Zjpytw",undo:"C_Z29WjXl A_6EWk c1AVi73_6FsP r_P",paddingRight:"N_fq7"},multiTask:{alert:"T_7sfl"},bottomAlert:{alert:"B_6Eb4 T_A"},alertFromModalDialog:{alert:"Z_3mRJX"},ybarFuji2:{alert:"T_7qWz"},ybarFuji2MultiTask:{alert:"T_3mSOb"}},_key:"Z2fvxnH"}},78601:(e,t,s)=>{"use strict";s.d(t,{B:()=>n,R:()=>r});var a=s(37422);const n=e=>{var t,s,n,r,o;const i=null!==(t=null==e||null===(s=e.category)||void 0===s||null===(n=s[0])||void 0===n||null===(r=n.identifier)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.value)&&void 0!==t?t:"",l=new Set(i.split(" ")),c={travel:0,invoice:0,package:0};Object.keys(a.owd).forEach((e=>{a.owd[e].forEach((t=>{l.has(t)&&(c[e]+=1)}))}));let d="",_=0;return Object.keys(c).forEach((e=>{c[e]>_&&(d=e,_=c[e])})),d},r=async()=>{let e="";try{e=await window.Notification.requestPermission()}catch(t){e=""}return e}},97737:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 c1AVi7a_73HH c1AVi73_6FsP c1AVi7H_6LEV A_6EqO u_b C_Z1YRXYn D_F ab_C gl_FM"},leftPadded:{container:"X_6MGW"},isMessageListItemSelected:{container:"O_cMo"},isDarkThemeMode:{container:"C_ZkbNhI",menuContainer:"cdPFi_ZkbNhI"}},_key:"BgrsK"}},17414:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(45697),n=s.n(a),r=s(67294),o=s(760),i=s.n(o);class l extends r.Component{getActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.activeFullStar},"â"),r.createElement("span",{className:e.activeEmptyStar},"â"))}getHalfActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.halfActiveEmptyStar},"â"),r.createElement("span",{className:e.halfActiveFullStar},"â"),r.createElement("span",{className:e.halfBorderStar},"â"))}getInActiveStar(e){return r.createElement("div",null,r.createElement("span",{className:e.inActiveEmptyStar},"â"))}getStarElement(e){const{value:t}=this.props,s={};e<=t-1?s.activeStar=!0:t%1<.5||Math.floor(t)!==e?s.inActiveStar=!0:s.halfStarFormatting=!0;const a=this.context.getCss(i(),s);return r.createElement("span",{className:a.starElement,key:e},s.activeStar&&this.getActiveStar(a),s.halfStarFormatting&&this.getHalfActiveStar(a),s.inActiveStar&&this.getInActiveStar(a))}render(){const e=[];for(let t=0;t<5;t++){const s=this.getStarElement(t);e.push(s)}return r.createElement("div",null,e)}}l.defaultProps={value:0},l.contextTypes={getCss:n().func};const c=l},760:e=>{"use strict";e.exports={className:{default:{starElement:"p_R N_dBP o_h D_B f_l A_6Eb4",activeFullStar:"p_R D_B f_l C_Z1ryQjN",activeEmptyStar:"p_a D_B Z_N T_0 L_0 C_Z1vPqV0",inActiveEmptyStar:"C_ZpQYvz",halfActiveFullStar:"p_a D_B Z_N W_e5X T_0 L_0 o_h C_Z1ryQjN",halfActiveEmptyStar:"p_R D_B f_l C_ZpQYvz",halfBorderStar:"p_a D_B Z_O W_e5X o_h T_0 L_0 C_Z1vPqV0"}},_key:"Z1HXcUd"}},43852:(e,t,s)=>{"use strict";s.d(t,{Hk:()=>_,NG:()=>c,S1:()=>i,g6:()=>l,pz:()=>o,yh:()=>d});var a=s(37422);const n=2*a._ob.Paddings.AROUND_PAGE_WIDTH,r=2*a._ob.Paddings.AROUND_PAGE_HEIGHT;function o({orientation:e,zoom:t,containerWidth:s,containerHeight:o,contentWidth:i,contentHeight:l}){let c;return c=e===a._ob.Orientation.FIT_TO_WIDTH?(s-n)/i:(o-r)/l,c+t}function i({zoom:e,containerWidth:t,containerHeight:s,contentWidth:a,contentHeight:n,initialImageContainerRatio:r}){const{heightRatio:o,widthRatio:i}=r,l=t*i,c=s*o,d=Math.min(a,l),_=Math.min(n,c);return Math.min(d/a,_/n)+e}function l(e){const t=e&&e.previewerUiState?e.previewerUiState:{scrollPositionFactor:0,zoomLevel:0},{zoomLevel:s,scrollPositionFactor:a}=t;return{initialZoomLevel:s,initialScrollTopFactor:a}}function c({containerWidth:e,contentWidth:t}){return Math.max(Math.round((t+n-e)/2),0)}function d({contentAndRightRailWidth:e}){if(e>=1252)return Math.floor(e/2-n-52);const t=e-n-600-52;return Math.max(t,450)}function _(e,t){const{innerWidth:s,contentAndRightRailWidth:a,contentAndRightRailHeight:n}=e;return{containerWidth:t?s:d({contentAndRightRailWidth:a}),containerHeight:n}}},60275:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R h_Z1H3PfF I4_Z1gjdjJ",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_ZnIF8Y A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_6DEy E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F em_3qVd0 ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_3Msdm ej_0",vendorName:"Q_fq7 o_h G_e J_EN",itemName:"J_x Q_6Eb4 o_h G_e",price:"J_x C_Z1TsNbA Q_6Eb4 G_e",dateWrapper:"D_F gl_CH em_N en_N A_6DUj Q_6Eb4 E_fq7 J_EN",date:"C_Z1TsNbA"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",subContainer:"bj_a0xtn",date:"C_ak5l7"},hideBottomBorder:{subContainer:"bj_T"},noItemName:{price:"Q_0"}},_key:"Z1gliVO"}},12647:e=>{"use strict";e.exports={className:{default:{advancedSearchButton:"C_Z29WjXl cdPFi_Z29WjXl D_F ab_C J_x r_P A_6EqO c1AVi73_6FsP C4_Z29WjXl cdPFi4_Z29WjXl",buttonContainer:"N_eDQ I_ZkbNhI crqN_fq7 D_F ab_C"},alternate:{advancedSearchButton:"A_6DUj"},"colorState-LESS_IMPORTANT":{advancedSearchButton:"C_Z1WBuqm cdPFi_Z1WBuqm C4_Z29WjXl cdPFi4_Z29WjXl"},"colorState-DISABLED":{advancedSearchButton:"C_Z1oI2WW cdPFi_Z1oI2WW O_6uB4 cZW7ROP_n C4_Z1oI2WW cdPFi4_Z1oI2WW"}},_key:"ZtEl1S"}},7747:e=>{"use strict";e.exports={className:{default:{advancedSearchButton:"C_Z29WjXl cdPFi_Z29WjXl D_F ab_C J_x r_P C4_Z29WjXl cdPFi4_Z29WjXl A_6EqO c1AVi73_6FsP",container:"D_F en_0 H_74JI p_R",searchButton:"en_0 I_CP58n u_b k_w ck_dRA bl_dRA J_x W_7GHz H_74JI ab_C gl_C M_0 D_F cZ1RN91d_n A_6EqO c1AVi73_6FsP y_jyw3a b_0 it_dRA C_ZkbNhI r_P I4_Z3duL0",searchInputContainer:"D_F W_6D6F b_9EMiX s_3z5BY cj_dRA bk_dRA k_w I_ZkbNhI p_R",searchInput:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk c1AVi73_6FYl c1AVi7H_6Mrc y_jyw3a I_T p_R Z_N",searchHint:"k_w W_6D6F P_Z1E2YFn i_6LEV M_0 b_0 A_6EWk c1AVi73_6FYl c1AVi7H_6Mrc y_jyw3a I_T C_ZtwOFC p_a q_T L_0 Z_0",suggestionDropdown:"y_jyw3a W_6D6F Z_fcS I_ZkbNhI k_w ha_n L_0 T_750t M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",suggestionWebOption:"P_fQq0A k_w W_6D6F D_F ab_C H_73HH r_P q4_Z1gjd5v cZ1WADfW_Z1gjd5v",suggestionWebIcon:"X_eTB N_eTB E_fq7",suggestionWebLabel:"J_x G_e o_h",suggestionWebQuery:"C_Z281SGl",suggestionDetails:"C_ZxFlP3 Q_fq7",pills:"ab_C W_1BJksS",pillsContainer:"eo_x el_EZ",typeaheadInputContainer:"p_R",typeaheadAriaStatus:"L_Z1yJMeR p_a",couponIndicator:"D_F C_Z29WjXl q_Z1gjdjJ e_dRA H_6NIX ab_C P_SkAgv A_6EWk c1AVi73_6FYl J_x Q_6Eb4",headerLabel:"D_F P_sUAQ8 k_w H_6VdP y_jyw3a u_e69 C_Z1VRqsb A_6EqO c1AVi73_6FsP Y_fq7 z_Z28pSMW"},ybarFujiTheme:{searchButton:"ck_eo6 bl_eo6",searchInputContainer:"cj_eo6 bk_eo6",suggestionDropdown:"e_eo6"},showPeopleSuggestion:{suggestionWebOptionBorder:"M_Z2rzCvT z_Z14vXdP"},hasPill:{searchInput:"P_fq7",searchHint:"P_fq7",pillsContainer:"Q_6Eb4",searchInputContainer:"X_6DEy",suggestionDropdown:"L_0 W_6D6F"},hasContactPill:{searchInput:"P_ZzrjY8"},firstEntry:{headerLabel:"Y_0 z_n"},spacedPill:{couponIndicator:"Q_fq7"}},_key:"Z24MqK8"}},46023:e=>{"use strict";e.exports={className:{default:{option:"P_fQq0A k_w W_6D6F D_F ab_C gl_FM H_73HH m_Z28pSMW",searchIn:"D_F ab_C crqN_6Fd5 y_jyw3a u_e69 C_Z1VRqsb A_6EqO c1AVi73_6FsP",button:"D_F crqN_6Fd5 ab_C",buttonContent:"D_F k_w ab_C o_h H_6MGW i_6Mbr P_8tcGE M_3zDxc e_6Eb4 b_2qEb7i C_Z1YRXYn cdPFi_Z1YRXYn",buttonSelected:"I_Z1YRXYn C_ZkbNhI cdPFi_ZkbNhI"}},_key:"JlCTL"}},23689:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F iz_A",header:"ab_C I_ZkbNhI m_Z14vXdP C_Z281SGl D_F A_6EqO c1AVi73_6FsP gl_FM P_16VPIF",buttonWrapper:"C_Z281SGl cdPFi_Z281SGl",adContainer:"D_F je_6Fd5 X_6Fd5 o_A",iframe:"F_1GMrKx W_6D6F H_6D6F b_n I_T o_h"},renderTodayPage:{container:"D_F ek_BB W_6D6F H_6D6F"},"themeMode-DARK":{header:"I_T m_ZYfqDw C_ZpQYvz",buttonWrapper:"C_ZpQYvz cdPFi_ZpQYvz"}},_key:"Z1DS8fr"}},7561:e=>{"use strict";e.exports={className:{default:{container:"D_F r_P ab_C p_R A_6EqO i_6FIA c1AVi7H_6LEV c1AVi73_6FsP o_h X_eo6 H_73HH",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj c1AVi73_6EWk C_Z281SGl",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_3ixhM o_h a_6D6F D_F ab_C",subject:"en_N",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F",link:"D_B bn_dBP bm_FJ bj_ZpQYvz I4_Z1gjdjJ",highlight:"I_Z1gjd50",active:"p_R",conversationIcon:"I_Z1TsNbA D_F ab_C gl_C e_e5X H_6NIX W_6NIX",readIcon:"M_SkAgv"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"themeMode-DARK":{container:"C_ZnIF8Y",highlightedTerm:"I_a0xJ8",messageCount:"C_ZkbNhI I_ak5j5",draftIndicator:"C_Zkij7I",snippet:"C_ZvsWfq",dateWrapper:"C_ZnIF8Y",link:"C_ZpQYvz bj_a0xJ8 is_26ISAR cZdTOHS_ZXgLQ3 I4_1YEmYj",highlight:"I_ZFyHXD"}},_key:"Z1TqE18"}},68806:(e,t,s)=>{"use strict";s.d(t,{$W:()=>m,AT:()=>d,DX:()=>i,S0:()=>c,U3:()=>r,Vi:()=>S,Vz:()=>a,Zj:()=>E,cD:()=>u,ov:()=>_,tx:()=>l,vf:()=>n,xW:()=>o});const a="&id=",n="&partner=",r="&actp=productlink",o="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL_WEB&locale=",i="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=",l="/articles/",c="https://help.aol.com/products/new-aol-mail/articles",d={"de-DE":"de_DE","de-AT":"de_AT","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-JO":"en_JO","en-MY":"en_MY","en-NZ":"en_NZ","en-PH":"en_PH","en-SG":"en_SG","en-US":"en_US","en-ZA":"en_ZA","es-AR":"es_ES","es-CL":"es_ES","es-CO":"es_ES","es-ES":"es_ES","es-MX":"es_ES","es-PE":"es_ES","es-US":"es_US","es-VE":"es_ES","fr-FR":"fr_FR","fr-BE":"fr_BE","fr-CA":"fr_CA","id-ID":"id_ID","it-IT":"it_IT","pt-BR":"pt_BR","vi-VN":"vi_VN","zh-Hant-TW":"zh_TW","zh-Hant-HK":"zh_HK"},_={"en-US":"https://help.aol.com","en-GB":"https://help.aol.co.uk","de-DE":"https://hilfe.aol.de","fr-FR":"https://assistance.aol.fr"},E={"en-US":c,"en-GB":c,"de-DE":"https://hilfe.aol.de/products/aol-mail","fr-FR":"https://assistance.aol.fr/products/aol-mail-et-calendrier"},u={SLN22036:"SLN28884",SLN4992:"SLN28885",SLN26611:"SLN28838",SLN28055:"SLN28824",SLN28056:"SLN28813",SLN5283:"SLN28886",SLN28068:"SLN28808",SLN28071:"SLN28825",SLN6265:"SLN28887",SLN26757:"SLN28888",SLN25582:"SLN28889",SLN8271:"SLN28890",SLN29133:"SLN29134"},m={SLN22036:{"en-US":"change-your-reply-to-address-in-new-aol-mail","en-GB":"change-your-reply-to-address-in-new-aol-mail","de-DE":"antwortadresse-im-neuen-aol-mail-andern","fr-FR":"changer-votre-adresse-de-reponse-dans-la-nouvelle-version-d-aol-mail"},SLN4992:{"en-US":"change-your-sending-name-in-new-aol-mail","en-GB":"change-your-sending-name-in-new-aol-mail","de-DE":"absendernamen-im-neuen-aol-mail-andern","fr-FR":"modifier-votre-nom-d-expediteur-dans-la-nouvelle-version-d-aol-mail"},SLN15953:{"en-US":"send-messages-from-an-extra-email-address-in-aol-mail","en-GB":"send-messages-from-an-extra-email-address-in-aol-mail","de-DE":"nachrichten-von-einer-zusatzlichen-e-mail-adresse-in-aol-mail-senden","fr-FR":"envoyer-des-messages-depuis-une-adresse-mail-supplementaire-dans-aol-mail"},SLN2059:{"en-US":"account-management-managing-your-aol-username","en-GB":"account-management-managing-your-aol-username","de-DE":"kontoverwaltung-verwalten-Ihres-aol-benutzernamens","fr-FR":"gerer-les-noms-d-utilisateur-aol"},SLN26611:{"en-US":"turn-desktop-notifications-on-or-off-for-new-aol-mail","en-GB":"turn-desktop-notifications-on-or-off-for-new-aol-mail","de-DE":"turn-desktop-notifications-on-or-off-for-new-aol-mail","fr-FR":"turn-desktop-notifications-on-or-off-for-new-aol-mail"},SLN28055:{"en-US":"manage-conversations-in-new-aol-mail","en-GB":"manage-conversations-in-new-aol-mail","de-DE":"verwalten-sie-unterhaltungen-in-new-aol-mail","fr-FR":"gerer-les-conversations-dans-la-nouvelle-version-d-aol-mail"},SLN28056:{"en-US":"manage-spam-in-aol-mail","en-GB":"manage-spam-in-aol-mail","de-DE":"spam-verwalten-in-aol-mail","fr-FR":"gerer-les-spams-dans-aol-mail"},SLN5283:{"en-US":"can-i-access-aol-mail-from-another-computer","en-GB":"can-i-access-aol-mail-from-another-computer","de-DE":"can-i-access-aol-mail-from-another-computer","fr-FR":"can-i-access-aol-mail-from-another-computer"},SLN28071:{"en-US":"use-filters-to-sort-and-organize-messages-in-aol-mail","en-GB":"use-filters-to-sort-and-organize-messages-in-aol-mail","de-DE":"nachrichten-in-aol-mail-mit-filtern-sortieren-und-organisieren","fr-FR":"utiliser-des-filtres-pour-trier-et-organiser-les-messages-dans-aol-mail"},SLN6265:{"en-US":"email-incorrectly-delivered-to-the-trash-folder","en-GB":"email-incorrectly-delivered-to-the-trash-folder","de-DE":"email-incorrectly-delivered-to-the-trash-folder","fr-FR":"mail-distribue-par-erreur-dans-la-corbeille"},SLN26757:{"en-US":"reauthorize-linkedin-connection-in-new-aol-mail"},SLN25582:{"en-US":"manage-contact-cards-and-social-networks-in-new-aol-mail"},SLN35423:{"en-US":"use-or-opt-out-of-dynamic-emails-in-aol-Mail","en-GB":"use-or-opt-out-of-dynamic-emails-in-aol-Mail","de-DE":"dynamische-e-mails-in-aol-mail-nutzen-oder-deaktivieren","fr-FR":"utiliser-ou-desactiver-les-mails-dynamiques-dans-new-aol-mail"},SLN36334:{"en-US":"full-pane-contacts-in-aol-mail","en-GB":"full-pane-contacts-in-aol-mail","de-DE":"In-aol-mail-kontakte-im-vollbildmodus-verwenden","fr-FR":"utiliser-le-volet-complet-des-contacts-dans-aol-mail"},SLN28635:{"en-US":"fix-problems-with-aol-websites-due-to-ad-blocking-software","en-GB":"fix-problems-with-aol-websites-due-to-ad-blocking-software","de-DE":"probleme-mit-aol-websites-aufgrund-von-werbeblockern-beheben","fr-FR":"resoudre-les-problemes-de-sites-web-aol-dus-a-un-logiciel-de-blocage-des-publicites"}},S={VIEWMAIL:"/img/viewing_email.png",NOTIFICATIONS:"/img/notification.gif",VACATION_RESPONSE:"/img/vacation_response.png",FILTER:"/img/filters.png",SOCIAL:"/img/social_accounts.png",ACCOUNTS:"/img/accounts.png",CATEGORIZATION:"/img/categorization.png"}},15632:(e,t,s)=>{"use strict";s.d(t,{Lz:()=>i,QI:()=>S,U2:()=>_,U5:()=>l,WI:()=>E,cf:()=>u,cy:()=>p,j2:()=>o,uV:()=>m,z6:()=>d});var a=s(99095),n=s(37422),r=s(68806);const o=(0,a.defineMessages)({helpGroupAndDelete:{id:"view_mail_help_group_and_delete",defaultMessage:"Group and delete emails by conversations"},helpUnsubscribe:{id:"view_mail_help_unsubscribe",defaultMessage:"Unsubscribe from email lists"},helpAccessFromOtherComputer:{id:"view_mail_help_access_from_other_computer",defaultMessage:"Can I access {mailBrandNameString} from another computer?"},helpAdditionalSecurityFeatures:{id:"additional_security_features",defaultMessage:"Additional security features in Yahoo Mail"},helpToggleNotification:{id:"notification_help_toggle_notification",defaultMessage:"Turn Desktop notifications on or off for {mailBrandNameString}"},helpCreateVacationResponse:{id:"vacation_response_create_vacation_response",defaultMessage:"Create a vacation response"},helpSortOrganizeEmail:{id:"filters_help_sort_organize_email",defaultMessage:"Use filters to sort and organize incoming email"},helpWronglyFiltered:{id:"filters_help_wrongly_filtered",defaultMessage:"An email was wrongly filtered as spam"},helpTrashFolder:{id:"filters_trash_folder",defaultMessage:"Email incorrectly delivered to the Trash folder"},helpReauthorize:{id:"social_accounts_help_reauthorize",defaultMessage:"Reauthorize LinkedIn connection in {mailBrandNameString}"},helpContactCard:{id:"social_accounts_help_contact_cards",defaultMessage:"Contact cards in {mailBrandNameString}"},helpChangeReplyAddress:{id:"accounts_change_reploy_address",defaultMessage:"Change your reply-to address in {mailBrandNameString}"},helpChangeAcName:{id:"accounts_change_account_name",defaultMessage:"Change your account name and nickname on {yahooBrandNameString}"},helpCreateUseDelExtra:{id:"accounts_create_use_del_extra_email",defaultMessage:"Create, use, and delete an extra email address"},helpCreateDiffID:{id:"accounts_create_diff_id",defaultMessage:"Create a different {yahooBrandNameString} ID or email address"},helpContactsFullPane:{id:"contacts_full_pane",defaultMessage:"Use full pane contacts in {mailBrandNameString}"}}),i=e=>function(t,s=""){if(!(-1!==(e=>{switch(e){case n.Ql2.ATT:case n.Ql2.SKY:case n.Ql2.FRONTIER:case n.Ql2.ROGERS:return["SLN4992","SLN15953","SLN2059"];case n.Ql2.AOL:return["SLN15953"];default:return[]}})(s).indexOf(e))){if(s===n.Ql2.AOL){const s=r.ov[t],a=r.$W[e]&&r.$W[e][t];return s&&a?s+r.tx+a:r.S0}return r.xW+(r.AT[t]||"en_ZZ")+r.Vz+(s===n.Ql2.ATT&&r.cD[e]?r.cD[e]:e)+(!s||s===n.Ql2.YCORP&&s===n.Ql2.VERIZON?"":r.vf+s+r.U3)}},l=e=>function(t,s=""){return s===n.Ql2.AOL?r.Zj[t]||r.S0:r.DX+(r.AT[t]||"en_ZZ")+r.Vz+e+r.U3},c={viewMail:[{text:o.helpGroupAndDelete,link:i("SLN28055")},{text:o.helpUnsubscribe,link:i("SLN28056")},{text:o.helpAccessFromOtherComputer,link:i("SLN5283")}],notifications:[{text:o.helpToggleNotification,link:i("SLN26611")}],vacationResponse:[{text:o.helpCreateVacationResponse,link:i("SLN28068")}],filter:[{text:o.helpSortOrganizeEmail,link:i("SLN28071")},{text:o.helpWronglyFiltered,link:i("SLN28056")},{text:o.helpTrashFolder,link:i("SLN6265")}],accounts:[{text:o.helpChangeReplyAddress,link:i("SLN22036")},{text:o.helpChangeAcName,link:i("SLN4992")},{text:o.helpCreateUseDelExtra,link:i("SLN15953")},{text:o.helpCreateDiffID,link:i("SLN2059")}],unblock:{link:i("SLN28635")},autoForwardNotification:{link:i("SLN35503")}},d=c.viewMail,_=c.notifications,E=c.filter,u=c.accounts,m=c.unblock,S=c.autoForwardNotification,p=({defaultYahooUrl:e="https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en-US&id=SLN36219&actp=productlink",defaultAOLUrl:t="https://help.aol.com/articles/bimi-support-in-aol-mail",url:s,isAOL:a=!1,locale:n})=>{const r=!s||!n;return a&&r?t:a?s:r?e:s.replace(/{locale}/g,n)}},12680:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(0,s(99095).defineMessages)({new_old_mail:{id:"inbox_style_setting_new_old_mail",defaultMessage:"New/Old Mail"},header:{id:"inbox_style_setting_header",defaultMessage:"Inbox style"},hint:{id:"inbox_style_setting_hint",defaultMessage:'{learnMore, select, yes {View emails in a Unified Inbox or separate New Mail and Old Mail folders. <a href="{href}" class="{className}" title="Learn more about inbox styles" target="_blank" rel="noopener">Learn more</a>} other {View emails in a Unified Inbox or separate New Mail and Old Mail folders}}'}})},64546:(e,t,s)=>{"use strict";s.d(t,{Z:()=>U});s(45697);var a=s(67294),n=s(76223),r=s.n(n),o=s(72990),i=s.n(o),l=s(99095),c=s(71055),d=s(1249),_=s(67498),E=s(28182),u=s(37422),m=s(95406),S=s(78662),p=s(95255),C=s.n(p),A=s(50621),T=s(65304),I=s(10728),h=s(18685),g=s(90583),O=s(61395),D=s.n(O),R=s(76531),N=s(9333),L=s(92559),f=s(336);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const P=(0,l.defineMessages)({close:{id:"close",defaultMessage:"Close"}}),b=(e,t)=>{const s=r()(C()),{disablingOptions:n,popoverAnchor:o,overrideClassNames:i={},hoveringOnDisabledFeatureButton:l}=e,{payload:c,heading:d,description:_,popoverAlignment:E,impressionUrl:u}=n||{},S=!n,{formatMessage:p}=t.intl,h=(0,a.useRef)(null);if(o)return a.createElement(A.ZP,{triggerOn:A.XU.HOVER,triggerOff:A.Es.HOVER_OUT,align:E||T.xM.END,onShown:()=>{(0,m.xb)(c)||l(c),(0,f.Z)(u,!1)},zAltitude:I.LSY.CURSOR,permittedArrowDirections:[T.Ji.UP,T.Ji.DOWN],disabled:S,persistent:!0,ref:h,triggerOnTabFocus:!0},a.createElement("div",M({"data-test-id":"popover-anchor"},i.anchor?{className:i.anchor}:null),o),a.createElement("div",{className:D()(s.disabledPopup,i.disabledPopup)},a.createElement("h2",{className:D()(s.disabledHeading,i.disabledHeading)},d),a.createElement("span",{className:D()(s.disabledText,i.disabledText)},_),a.createElement("div",{className:s.closeIcon},a.createElement(N.default,{"data-test-id":"close-btn",onClick:()=>{var t;null===(t=h.current)||void 0===t||t.handlePopoverHide();const{disablingOptions:s,clickOnDisabledFeatureCloseButton:a}=e,{secValue:n}=s||{};a({i13nModel:{mKey:L.JE.SETTINGS_DISABLED_FEATURE_CLOSE_BUTTON_CLICK,sec:n||L.nJ.SETTINGS_MAIN,interactionType:L.Rb.click}})},kind:R.Kinds.CLOSE,size:R.Sizes.XS,colorState:R.ColorStates.FIRST_LEVEL_GRAY,title:p(P.close)}))))};b.contextTypes={intl:l.intlShape.isRequired};const y=(0,h.connect)(null,(e=>({hoveringOnDisabledFeatureButton:t=>e((0,g.h2)(t)),clickOnDisabledFeatureCloseButton:t=>e((0,g.Hg)(t))})))(b);const v=(0,l.defineMessages)({toggleButtonStateOn:{id:"settings.section_title.toggleOn",defaultMessage:"On"},toggleButtonStateOff:{id:"settings.section_title.toggleOff",defaultMessage:"Off"},tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"}});class F extends a.Component{constructor(...e){var t,s,n;super(...e),n=()=>{const{toggleEnabled:e,onToggle:t,toggleAriaLabel:s=this.props.header,disablingOptions:n,isFocused:r}=this.props,o=!n,i=a.createElement(c.Z,{onClick:t,isEnabled:e,ariaLabel:s,title:s,isClickable:o,isFocused:r});return o?i:a.createElement(y,{disablingOptions:n,popoverAnchor:i})},(s="renderToggleButton")in(t=this)?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n}render(){const{header:e,hint:t,canToggle:s,toggleType:n,subHeader:o,toggleEnabled:l,onToggle:c,showToggleState:u,useCalloutButton:m,iconElement:p,hintElement:C,smallHeader:A,overrideTitleClassName:T,overrideHintClassName:I}=this.props,{formatMessage:h}=this.context.intl,g=r()(i(),{subHeader:o,toggleType:n,smallHeader:A,iconElement:!!p});return a.createElement("header",{className:g.titleWrapper},s&&n===S.Qu.CHECKBOX?a.createElement("div",{className:g.titleCheckboxContainer},a.createElement(d.Z,{isChecked:l,onClick:c,paddingLess:!0})):null,a.createElement("div",{className:g.fullWidth},a.createElement("div",{className:g.rowItemsContainer},a.createElement("h4",{className:D()(g.title,T)},a.createElement("span",{className:g.header},e),p||null),s&&n===S.Qu.SWITCH?a.createElement("div",{className:g.toggleButtonContainer,"data-test-id":"toggle-header-button"},this.renderToggleButton(),u&&a.createElement("span",{className:g.toggleButtonState,"data-test-id":"toggle-button-state"},h(l?v.toggleButtonStateOn:v.toggleButtonStateOff))):null,m&&a.createElement(_.Z,{onClick:c,marginLess:!0,kind:E.F.THEMED_LIKE_COMPOSE_BUTTON},h(v.tryNow))),a.createElement("div",{className:g.rowItemsContainer},C&&!t?a.createElement("div",{"data-test-id":"hint-element",className:D()(g.hint,I)},C):null,t&&!C?a.createElement("span",{"data-test-id":"hint-string",className:D()(g.hintString,I),dangerouslySetInnerHTML:{__html:t}}):null)))}}F.contextTypes={intl:l.intlShape.isRequired},F.defaultProps={canToggle:!1,toggleType:S.Qu.SWITCH,subHeader:!1,onToggle:()=>{},toggleEnabled:!0,settingError:u.qAl.NONE,showToggleState:!1,useCalloutButton:!1,isFocused:!1,disablingOptions:void 0,overrideTitleClassName:"",overrideHintClassName:""};const U=F},78662:(e,t,s)=>{"use strict";s.d(t,{F5:()=>E,KS:()=>l,Q4:()=>q,Qu:()=>m,S_:()=>$,_2:()=>d,e7:()=>S,ms:()=>J,oc:()=>u,ot:()=>_,qg:()=>c,sZ:()=>p,x8:()=>Q});var a=s(10728),n=s(95406),r=s(45697),o=s.n(r),i=s(37422);a.mg$;const l=15,c=25,d=185,_=52,E=15,u=32,m=(0,n.gP)(["SWITCH","CHECKBOX"]),S="optedOut",p="optedIn",[C,A,T,I,h]=(o().shape({id:o().oneOfType([o().number,o().string]).isRequired,name:o().string.isRequired,enable:o().bool}),["https://s.yimg.com/nq/nr/assets/sounds/","en-us/","/ygm","/newmail",".mp3"]),[g,O,D]=[`${C}en-us/newmail.mp3`,`${C}en-us/ygm.mp3`,`${C}aim_chime_notification.mp3`],R=e=>{const t=e.replace(/ /g,"_").replace("'","");return`${C}${A}${t}${h}`},N=1,L=3,f=4,M=5,P=6,b=7,y=8,v=9,F=10,U=11,k=12,w=13,G=14,H=15,B=16,x=17,V=18,Z=19,W=20,K=21,z=22,Y=23,j=24,q={[N]:'Original "You\'ve Got Mail"',[L]:"Alexis Bledel",[f]:"Amanda Bynes",[M]:"Amber Tamblyn",[P]:"America Ferrera",[b]:"Benicio Del Toro",[y]:"Blake Lively",[v]:"Conan O'Brien",[F]:"David Arquette",[U]:"Debra Jo Rupp",[k]:"Donald Trump",[w]:"Fankie Muniz",[G]:"Hugh Grant",[H]:"Jamie Lee Curtis",[B]:"Larry King",[x]:"Mandy Moore",[V]:"Martin Sheen",[Z]:"Matt Le Blanc",[W]:"Sarah Jessica Parker",[K]:"Sylvester Stallone",[z]:"The Crypt Keeper",[Y]:"Wesley Snipes",[j]:"Whoopi Goldberg"},X={[L]:R("Alexis Bledel"),[f]:R("Amanda Bynes"),[M]:R("Amber Tamblyn"),[P]:R("America Ferrera"),[b]:R("Benicio Del Toro"),[y]:R("Blake Lively"),[v]:R("Conan O'Brien"),[F]:R("David Arquette"),[U]:R("Debra Jo Rupp"),[k]:R("Donald Trump"),[w]:R("Fankie Muniz"),[G]:R("Hugh Grant"),[H]:R("Jamie Lee Curtis"),[B]:R("Larry King"),[x]:R("Mandy Moore"),[V]:R("Martin Sheen"),[Z]:R("Matt Le Blanc"),[W]:R("Sarah Jessica Parker"),[K]:R("Sylvester Stallone"),[z]:R("The Crypt Keeper"),[Y]:R("Wesley Snipes"),[j]:R("Whoopi Goldberg")},Q=e=>{const t=e.toLowerCase();return["en-US","de-DE","en-GB","es-US","fr-CA","fr-FR","ja-JP"].includes(e)?`${C}${t}${T}${h}`:O},J=(e,t)=>{const s=e.toLowerCase();return t===i.b39.AIM?D:["en-US","en-GB","es-US"].includes(e)?`${C}${s}${I}${h}`:g},$=(e,t)=>Math.abs(e)===N?Q(t):X[Math.abs(e)]},95255:e=>{"use strict";e.exports={className:{default:{disabledText:"A_6EqO c1AVi73_6FsP",disabledHeading:"A_6EqO c1AVi73_6FsP Y_0 U_eo6",disabledPopup:"D_F ek_BB je_6Fd5 N_6Fd5 jb_6Fd5 X_6Fd5 W_3vqYW H_3n13i k_w",closeIcon:"p_a T_eo6 R_eo6"}},_key:"ZEqmng"}},72990:e=>{"use strict";e.exports={className:{default:{titleWrapper:"W_6D6F D_Z1YJkyX ab_C",fullWidth:"W_6D6F",rowItemsContainer:"D_F aa_C ab_C i_6EWk",hint:"A_6EqO C_Z1YRXYn i_6FIA c1AVi73_6FsP c1AVi7H_6LEV",hintString:"A_6EqO C_Z1YRXYn i_6FIA c1AVi73_6FsP c1AVi7H_6LEV D_X",title:"M_Ic7YD D_F A_6FsP u_N F_N i_6LEV c1AVi73_6LUG c1AVi7H_6MWH",titleCheckboxContainer:"E_fq7 H_6LEV",toggleButtonState:"A_6EqO C_Z1YRXYn i_6FIA c1AVi73_6FsP c1AVi7H_6LEV Q_eo6",toggleButtonContainer:"D_Z1YJkyX ab_C"},subHeader:{title:"u_b A_6EWk c1AVi73_6FYl"},"toggleType-CHECKBOX":{title:"i_6LEV A_6FsP c1AVi73_6LUG c1AVi7H_6MWH"},"toggleType-SWITCH":{titleWrapper:"gl_FM"},smallHeader:{title:"A_6EqO c1AVi73_6FsP"},iconElement:{title:"ab_C"}},_key:"LTMYj"}},16204:e=>{"use strict";e.exports={className:{default:{settingsButton:"P_0 q_T b_0 r_P D_F ab_C C_ZamTeg cdPFi_ZamTeg C3_ZamTeg",inlineWrapper:"i_0",label:"D_n X_eo6 N_6DEy u_b A_6EqO c1AVi73_6FsP",settingsButtonContainer:"D_F ab_C cdPFi_ZamTeg C_ZamTeg r_P",chevronIcon:"Q_A",menuContainer:"W_3vaYc",menuContainerLazy:"W_3vaYc d_3z5BY D_F ab_C gl_C",menuList:"M_0 P_0 hd_n",menuItemHeader:"M_0 D_F ab_C u_dPo k_w A_6EqO c1AVi73_6EWk H_72FG P_1EudUu C_Zjpysv m_Z12nDQf",menuItem:"M_0 r_BN u_b A_6EqO P_ZCWMI4 i_6FIA c1AVi73_6EWk c1AVi7H_6LEV C_Zjpysv z_Z12nDQf",menuItemQuickAccess:"r_BN o_A q_ZnkeaL",menuItemFooter:"M_0 u_e69 A_6DUj i_6EqO P_1Eu7sD z_Z12nDQf D_F d_7ceA gl_FM ab_C",moreSettingsLink:"C_Z1VRqsb cdPFi_Z1VRqsb C4_Z29WjXl cdPFi4_Z29WjXl r_P D_F ab_C M_0 A_6EqO u_e69 i_6FIA c1AVi73_6EWk c1AVi7H_6LEV H_6UbO",feedbackLink:"C_Z1VRqsb cdPFi_Z1VRqsb C4_Z29WjXl cdPFi4_Z29WjXl r_P D_F ab_C M_0 A_6EqO u_e69 i_6LEV c1AVi73_6EWk c1AVi7H_6LEV a_3np4q",optOutLink:"P_fQwsr d_6TFj i_6Fd5 c1AVi7H_6LEV",badgeContainer:"h_Zc8u05",menuLabel:"D_F Q_6Eb4"},"themeMode-MEDIUM":{settingsButton:"cdPFi_ZkbNhI C_ZOHqTQ is_26ISAR cZdTOHS_ZXgLQ3"},"themeMode-DARK":{settingsButton:"cdPFi_ZkbNhI C_ZOHqTQ is_26ISAR cZdTOHS_ZXgLQ3"},verticalLayout:{settingsButtonContainer:"jb_6FIA"},"verticalPreviewPane-false":{label:"cZ1YE9AC_B"},"verticalPreviewPane-true":{label:"cWeabk_B"},hasContactCard:{label:"D_B"}},_key:"Z1DynWN"}},87790:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});const a=e=>{if(!e)return;const t=new Audio(e);Promise.resolve(t.play()).catch((()=>{}))}},51799:(e,t,s)=>{"use strict";s.d(t,{Z:()=>O});var a=s(67294),n=s(18685),r=s(76223),o=s.n(r),i=s(7426),l=s(88771),c=s.n(l),d=s(41546),_=s(67498),E=s(28182);const u=(0,s(99095).defineMessages)({learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"},turnFeaturesOn:{id:"smartviews_inline_prompt.turn_features_on",defaultMessage:"Turn features on"},title_ATTACHMENTS:{id:"smartviews_inline_prompt.title_attachments",defaultMessage:"Enable smart features to find all your attachments organized in one place"},title_DEALS:{id:"smartviews_inline_prompt.title_deals",defaultMessage:"Enable smart features to see the deals from your inbox in one place"},title_TRAVEL:{id:"smartviews_inline_prompt.title_travel",defaultMessage:"Enable smart features to see your upcoming flight itineraries in one place"},title_SUBSCRIPTIONS:{id:"smartviews_inline_prompt.title_subscriptions",defaultMessage:"Enable smart features to see all your mailing lists and easily unsubscribe in one tap"},message:{id:"smartviews_inline_prompt.message",defaultMessage:"Your information won't be shared with 3rd parties"},header_DEALS:{id:"Coupons_header.heading",defaultMessage:"Deals from email"},header_PHOTOS:{id:"photos_header_label",defaultMessage:"Photos from email"},header_DOCUMENTS:{id:"document_label",defaultMessage:"Documents from email"},header_ATTACHMENTS:{id:"smartviews_inline_prompt.header.attachments",defaultMessage:"Attachments from email"},header_SUBSCRIPTIONS:{id:"smart_view_subscriptions",defaultMessage:"Subscriptions"},header_TRAVEL:{id:"smart_view_travel",defaultMessage:"Travel"}});var m=s(8757),S=s(85927),p=s(31057),C=s(37422),A=s(64059),T=s(79483),I=s(92559),h=s(17016),g=s(9026);const O=(0,n.connect)((e=>{const{getSetting:t,getRoute:s,isMobileRoute:a,getPrescribedNumberOfColumns:n}=(0,S.selectors)(e),r=s();return{privacyDashBoardUrl:t(C.Zrf.INLINE_PROMPT_DASHBOARD_URL),helpArticleUrl:t(C.Zrf.INLINE_PROMPT_HELP_URL),smartViewType:(0,p.YC)(r)||C.K8C.ATTACHMENTS,isMobile:a(),isTwoColumnLayout:2===n(),themeMode:t(C.Zrf.THEME_MODE)}}))((e=>{const{showHeader:t=!0,privacyDashBoardUrl:s,helpArticleUrl:n,smartViewType:r,isMobile:l,isTwoColumnLayout:S,themeMode:p}=e,{formatMessage:O}=(0,i.Y)(),D=l&&!S,R=p===g.zg.DARK&&t,N=o()(c(),{isMobile:l,isSingleColumnLayoutMobile:D,isOnDarkBackground:R}),[L,f]=(0,a.useState)(!1),M=(0,a.useCallback)((e=>{(0,A.x)(s),f(!0),T.ZP.sendI13nModel({i13nModel:{sec:I.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:I.JE.INLINE_PROMPT_SMARTVIEWS_TURN_ON,interactionType:(0,h.getInteractionFromEvent)(e),actionData:{smartViewType:r}}})}),[s,r]),P=(0,a.useCallback)((e=>{(0,A.x)(n),T.ZP.sendI13nModel({i13nModel:{sec:I.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:I.JE.INLINE_PROMPT_SMARTVIEWS_LEARN_MORE,interactionType:(0,h.getInteractionFromEvent)(e),actionData:{smartViewType:r}}})}),[n,r]),b=(0,a.useCallback)((e=>{f(!1),T.ZP.sendI13nModel({i13nModel:{sec:I.nJ.INLINE_PROMPT_REDIRECT_DIALOG,mKey:I.JE.INLINE_PROMPT_DONE_BUTTON_CLICK,interactionType:(0,h.getInteractionFromEvent)(e),actionData:{smartViewType:r}}}),location.reload()}),[r]);let y,v,F,U;switch(r){case C.K8C.ATTACHMENTS:case C.K8C.PHOTOS:case C.K8C.DOCUMENTS:y=O(u[`header_${r}`]),v=O(u.title_ATTACHMENTS),F="/img/smartviews_inline_prompt_attachments_1x.png",U="/img/smartviews_inline_prompt_attachments_2x.png";break;case C.K8C.COUPONS:case C.K8C.COUPON_EMAILS:case C.K8C.STOREFRONT:y=O(u.header_DEALS),v=O(u.title_DEALS),F="/img/smartviews_inline_prompt_deals_1x.png",U="/img/smartviews_inline_prompt_deals_2x.png";break;case C.K8C.SUBSCRIPTION_DETAIL:case C.K8C.SUBSCRIPTIONS:y=O(u.header_SUBSCRIPTIONS),v=O(u.title_SUBSCRIPTIONS),F="/img/smartviews_inline_prompt_subscriptions_1x.png",U="/img/smartviews_inline_prompt_subscriptions_2x.png";break;case C.K8C.TRAVEL:case C.K8C.TRAVEL_EMAILS:case C.K8C.TRAVEL_PAST:y=O(u.header_TRAVEL),v=O(u.title_TRAVEL),F="/img/smartviews_inline_prompt_travel_1x.png",U="/img/smartviews_inline_prompt_travel_2x.png"}return t||(v=O(u.title_ATTACHMENTS),F="/img/smartviews_inline_prompt_attachments_1x.png",U="/img/smartviews_inline_prompt_attachments_2x.png"),(0,a.useEffect)((()=>{T.ZP.sendI13nModel({i13nModel:{sec:I.nJ.INLINE_PROMPT_SMARTVIEWS,mKey:I.JE.INLINE_PROMPT_SMARTVIEWS_MOUNT,interactionType:I.Rb.callout,actionData:{smartViewType:r}}})}),[r]),a.createElement("div",{className:N.container},t&&!l&&a.createElement("div",{className:N.header},y),a.createElement("div",{className:N.innerContainer},a.createElement("img",{className:N.logo,src:(0,d.A)(F),srcSet:(0,d.A)(U),alt:`${r}_Logo`}),a.createElement("div",{className:N.title},v),a.createElement("div",{className:N.message},O(u.message)),a.createElement(_.Z,{kind:E.F.PRIMARY,isOnDarkBackground:R,overridingClass:N.primaryBtn,title:O(u.turnFeaturesOn),"aria-label":O(u.turnFeaturesOn),onClick:M,marginLess:!0,tabIndex:0},O(u.turnFeaturesOn)),a.createElement(_.Z,{kind:E.F.SECONDARY_BORDERLESS,isOnDarkBackground:R,overridingClass:N.learnMoreBtn,title:O(u.learnMore),"aria-label":O(u.learnMore),onClick:P,tabIndex:0},O(u.learnMore))),L&&a.createElement(m.Z,{handleDoneButton:b,privacyDashBoardUrl:s,isSingleColumnLayoutMobile:D}))}))},88771:e=>{"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F D_F ek_BB ab_C C_Z281SGl",header:"W_6D6F m_Z14vXdP k_w t_C D_F gl_C ab_C A_6FsP H_7bcz",innerContainer:"a_3vqYW D_F ek_BB gl_C ab_C M_A",logo:"H_7iGr W_7iGr",title:"A_6FsP u_e69 i_6MGW t_C M_1jbiy2",message:"t_C M_BuC36 A_6EqO",primaryBtn:"H_73HH s_3o4BO u_elT A_6EWk e_eo6 i_N o_h M_Zm1Iab",learnMoreBtn:"H_73HH s_3o4BO u_elT A_6EWk e_eo6 i_N o_h C_Z29WjXl"},isSingleColumnLayoutMobile:{container:"Y_3o5DP",innerContainer:"M_1EueWv"},isOnDarkBackground:{container:"C_ZkbNhI",primaryBtn:"I_a0xXm b_0 I3_a0ytm I4_a0ytm",learnMoreBtn:"C_ZkbNhI I_T I3_a0ytm C4_ZkbNhI I4_a0ytm"},isMobile:{primaryBtn:"e_6Mbr",learnMoreBtn:"e_6Mbr"}},_key:"25MQuT"}},66462:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>I});var a=s(67294),n=s(18685),r=s(76223),o=s.n(r),i=s(99095),l=s(49973),c=s(91869),d=s(85927),_=s(15632),E=s(49754),u=s.n(E),m=s(7426),S=s(79483),p=s(92559);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const A=(0,i.defineMessages)({title:{id:"spam_or_unsub_dialog.title",defaultMessage:"Want to stop getting emails from {name}?"},message:{id:"spam_or_unsub_dialog.message",defaultMessage:"We can help you unsubscribe from their newsletter so you won't get emails from {email} anymore. {learnMoreLink}"},unsubLabel:{id:"spam_or_unsub_dialog.unsubLabel",defaultMessage:"Unsubscribe"},spamLabel:{id:"spam_or_unsub_dialog.spamLabel",defaultMessage:"Report as spam"},learnMore:{id:"spam_or_unsub_dialog.learnMore",defaultMessage:"Learn more"}}),T={sec:p.nJ.SPAM_UNSUB_DIALOG,interactionType:p.Rb.click},I=(0,n.connect)(((e,{messageId:t})=>{var s,a;const{getMessagesSelectors:n,getEnvironmentSelectors:r}=(0,d.selectors)(e),{getFromAddresses:o}=n(),{getPartner:i}=r(),l=o(t);return{name:(null==l||null===(s=l[0])||void 0===s?void 0:s.name)||"",email:(null==l||null===(a=l[0])||void 0===a?void 0:a.email)||"",partner:i()}}),(e=>({onUnsub:t=>e((0,l.IB)(t))})))((e=>{const{onUnsub:t,onSpam:s,messageId:n,name:r,email:l,partner:d,onClose:E}=e,I=o()(u()),{formatMessage:h,locale:g}=(0,m.Y)(),O=(0,a.useCallback)((()=>{t({messageId:n,email:l,i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_UNSUB,mKeyGroup:p.rO.unsub}}),E()}),[t,E,n,l]),D=(0,a.useCallback)((()=>{s({mKey:p.JE.SPAM_UNSUB_DIALOG_SPAM,sec:p.nJ.SPAM_UNSUB_DIALOG}),E()}),[s,E]),R=(0,a.useCallback)((()=>{E(),S.ZP.sendI13nModel({i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_CLOSE}})}),[E]),N=(0,a.useCallback)((()=>{E(),S.ZP.sendI13nModel({i13nModel:{...T,mKey:p.JE.SPAM_UNSUB_DIALOG_BACKGROUND}})}),[E]),L=(0,_.Lz)("SLN28056")(g,d);return(0,a.useEffect)((()=>{S.ZP.sendI13nModel({i13nModel:{mKey:p.JE.SPAM_UNSUB_DIALOG_SHOWN,sec:p.nJ.SPAM_UNSUB_DIALOG,interactionType:p.Rb.callout}})}),[]),a.createElement(c.Z,{hideIcon:!0,title:h(A.title,{name:r||l}),onConfirm:O,onAbort:D,onOuterClick:N,onClose:R,acceptLabel:h(A.unsubLabel),cancelLabel:h(A.spamLabel)},a.createElement(i.FormattedMessage,C({},A.message,{values:{email:l||r,learnMoreLink:a.createElement("a",{className:I.link,href:L,target:"_blank",rel:"noopener noreferrer"},h(A.learnMore))}})))}))},49754:e=>{"use strict";e.exports={className:{default:{link:"C_Z29WjXl r_P"}},_key:"xcL2R"}},78414:e=>{"use strict";e.exports={className:{default:{header:"t_C A_6FsP C_Z281SGl Y_7sfl U_6LEV I_ZkbNhI",container:"k_w W_6D6F H_6Iwco d_3z5BY P_1WS4Th I_ZkbNhI",contentContainer:"p_R W_3DWRW a_6D6F M_1EAG48",offerImg:"W_6D6F H_6D6F",syncImage:"W_3v9Wb H_3nH9d",syncMessage:"Y_6MGW C_Z1VRqsb",syncWaitMessage:"Y_eo6"},"themeMode-DARK":{header:"I_T C_ZpQYvz",container:"I_T"},isAccountSyncing:{header:"Y_3nb7H"}},_key:"DyBgG"}},62639:(e,t,s)=>{"use strict";s.d(t,{I:()=>R,Z:()=>L});s(45697);var a=s(67294),n=s(99095),r=s(43007),o=s(67498),i=s(87771),l=s(10728),c=s(8106),d=(s(95406),s(79483)),_=s(92559),E=s(76531),u=s(28182),m=s(18030),S=s(11160),p=s(31509),C=s(65304),A=s(45485),T=s(37422),I=(s(4832),s(23279)),h=s.n(I),g=s(95588);function O(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const D=(0,n.defineMessages)({theme_picker:{id:"compose.theme_picker",defaultMessage:"Add stationery"},theme_picker_label:{id:"compose.theme_picker_label",defaultMessage:"Stationery"}});function R(e,t){e||(e=t);const{stationeryThemes:s,themeVersions:a,stationeryMobThmPath:n}=A.Z.config,r=s[e];return r&&(r.themeName=e,r.themeVersion=a[e],r.mobstorPath=n,r.isDefaultTheme=e===t),r}class N extends a.Component{constructor(e){super(e),O(this,"state",{menuOpen:!1,hasShownStationeryPicker:!1}),O(this,"_showStationeryPickerIfNeeded",(()=>{if(!this.state.hasShownStationeryPicker){const{showStationeryPicker:e,getToolbarBoundingRect:t}=this.props;e&&setTimeout((()=>{this.toolbarBoundingRect=t(),this.setState({menuOpen:!0,hasShownStationeryPicker:!0}),d.ZP.sendI13nModel({i13nModel:{mKey:_.JE.COMPOSE_AUTO_OPEN_STATIONERY_POPUP,sec:_.nJ.RTE_TOOLBAR}})}),300)}})),O(this,"_handlePopoverHide",(()=>{this.state.menuOpen&&this.setState({menuOpen:!1})})),O(this,"_toggleMenu",(e=>{e&&(e.stopPropagation(),e.preventDefault());const{menuOpen:t}=this.state;t?(this._stationeryPopoverContainer.hide(C.K2.MOUNT),this.props.focusBackEditor()):(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this._stationeryPopoverContainer.show(C.K2.MOUNT)),this.setState({menuOpen:!t}),d.ZP.sendI13nModel({i13nModel:{mKey:t?_.JE.COMPOSE_CLOSE_STATIONERY_POPUP:_.JE.COMPOSE_OPEN_STATIONERY_POPUP,sec:_.nJ.RTE_TOOLBAR,interactionType:_.Rb.click}})})),O(this,"renderStationeryCue",(()=>{var e;return this.props.showStationeryCue&&null!==(e=this.anchorRef)&&void 0!==e&&e.current?a.createElement(m.ZP,{popoverAnchor:this.anchorRef,align:C.xM.CENTER,triggerOn:C.K2.MOUNT,zAltitude:l.LSY.POPOVER.HIGH},a.createElement(i.cr,{import:"../compose/atoms/stationery_cue",cueName:T.ANe.STATIONERY_CUE,close:this.state.menuOpen,onTryNow:this._toggleMenu,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,34290))},_moduleResolver:function(){return 34290}})):null})),O(this,"renderStationeryPopup",(()=>a.createElement(m.ZP,{ref:e=>this._stationeryPopoverContent=e,permittedArrowDirections:[C.Ji.DOWN],triggerOn:C.K2.MOUNT,customPositioning:!0,"data-test-id":"stationery-pop-up",onHide:this._handlePopoverHide},a.createElement(i.cr,{import:"./stationery",getThemeConfig:R,onThemeChange:this.props.onThemeChange,defaultTheme:this.props.stationeryDefaultTheme,selectedTheme:this.props.stationeryTheme,selectedCategory:this.props.stationeryCategory,categoriesToShow:this.props.stationeryCategoriesToShow,toggleMenu:this._toggleMenu,onHide:this._toggleMenu,width:this.toolbarBoundingRect.width,left:this.toolbarBoundingRect.left,right:this.toolbarBoundingRect.right,bottom:((0,c.jU)()&&document.documentElement.clientHeight||0)-this.toolbarBoundingRect.top,isCompactSize:this.props.isCompactSize,stationeryRestrictedThemes:this.props.stationeryRestrictedThemes,showDefaultTheme:this.props.showStationeryDefaultTheme,showThemeCategories:this.props.showStationeryThemeCategories,rtl:this.props.rtl,toolbarKind:this.props.toolbarKind,showStationerySetDefault:this.props.showStationerySetDefault,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,13560))},_moduleResolver:function(){return 13560}})))),this.scrollDebounce=h()(this.handleScroll.bind(this),100),this.anchorRef=a.createRef()}componentDidMount(){window.addEventListener("scroll",this.scrollDebounce,!0),this._showStationeryPickerIfNeeded()}componentDidUpdate(){this._showStationeryPickerIfNeeded()}componentWillUnmount(){window.removeEventListener("scroll",this.scrollDebounce,!0)}handleScroll(){this.state.menuOpen&&(this.toolbarBoundingRect=this.props.getToolbarBoundingRect(),this.forceUpdate())}render(){const{formatMessage:e}=this.context.intl,{menuOpen:t}=this.state,{withLabel:s,isEnhancedComposeToolbarExperience:n}=this.props;return a.createElement("div",null,a.createElement("div",{onClick:this._toggleMenu},a.createElement(S.Z,{ref:e=>this._stationeryPopoverContainer=e},a.createElement(p.Z,{"data-test-id":"stationery-picker-anchor"},n?a.createElement("div",{ref:this.anchorRef},a.createElement(g.Z,{"data-test-id":"stationery-button",withLabel:s,localizedLabelText:e(D.theme_picker),localizedTitleText:e(D.theme_picker_label),iconKind:E.Kinds.STATIONERY,isClickedOpen:this.state.menuOpen})):a.createElement(o.Z,{buttonRef:this.anchorRef,"data-test-id":"stationery-button",title:e(D.theme_picker),"aria-label":e(D.theme_picker),kind:t?u.F.ICON_HIGHLIGHTED:u.F.ICON},a.createElement(r.Z,{kind:E.Kinds.STATIONERY,size:E.Sizes.XS,colorState:E.ColorStates.NORMAL}))),t?this.renderStationeryPopup():null)),this.renderStationeryCue())}}O(N,"contextTypes",{intl:n.intlShape.isRequired}),O(N,"defaultProps",{isEnhancedComposeToolbarExperience:!1,withLabel:!1});const L=N},77031:(e,t,s)=>{"use strict";s.d(t,{Z:()=>W});s(45697);var a=s(67294),n=s(99095),r=s(7426),o=s(18685),i=s(30982),l=s(40818),c=s(67498),d=s(28182),_=s(76531),E=s(65304),u=s(43007),m=s(9333),S=s(46229),p=s(87771),C=s(94482),A=s(8470),T=s(31509),I=s(11160),h=s(18030),g=s(79094),O=s(83034),D=s(28509),R=s(37422),N=s(79483),L=s(92559),f=s(9026),M=s(31057),P=s(10728),b=s(3405),y=s(85927),v=s(20561),F=s(63549),U=s.n(F),k=s(18802);const w=10,G="unfavorite_icon",H="favorite_icon",B="manage_shortcut_stores_favorites",x="show",V="hide",Z=(0,n.defineMessages)({brandFromInbox:{id:"aria.brands",defaultMessage:"brands from your inbox"},moreBrands:{id:"moreBrands",defaultMessage:"plus {moreBrands} more brands"}}),W=(0,o.connect)(((e,t)=>{const{listId:s}=t,{getSetting:a,getSelectedAccountId:n,getStorefrontBrandsSelectors:r,isFeatureEnabled:o}=(0,y.selectors)(e),{getAllStorefrontBrands:i}=r(),l=a(R.Zrf.DEALS_STORIES_SETTINGS),c=i(),d=s&&(0,M.Yy)(s);return{dealStoriesSetting:l,selectedAccountId:n(),selectedBrandId:d,storefrontBrands:c,themeMode:a(R.Zrf.THEME_MODE),showBrandMenuCueFeature:o(R.ANe.BRAND_MENU_ONBOARDING_CUE)}}),(e=>({requestStorefrontBrandFollow:t=>e((0,l.qs)(t)),requestStorefrontBrandUnfollow:t=>e((0,l.O$)(t)),resetNewDealCount:t=>e((0,l.WC)(t)),updateDealsStoriesSettings:(t,s)=>e((0,i.ZP)({name:R.Zrf.DEALS_STORIES_SETTINGS,value:t,runV3:!0,i13nModel:s}))})))((e=>{const{dealStoriesSetting:t,requestStorefrontBrandFollow:o,requestStorefrontBrandUnfollow:i,resetNewDealCount:l,selectedAccountId:M,selectedBrandId:y,storefrontBrands:F,themeMode:W,updateDealsStoriesSettings:K,showBrandMenuCueFeature:z}=e,Y=t===R.eG4.COLLAPSED,j=(0,O.Z)(U(),{isCollapsed:Y,themeMode:W}),[q,X]=(0,D.Z)(!1),[Q,J]=(0,a.useState)(0),[$,ee]=(0,a.useState)(!1),[te,se]=(0,a.useState)(!1),[ae,ne]=(0,a.useState)(0),re=(0,a.useRef)(),oe=(0,a.useRef)(!1),ie=()=>{var e;const t=null===(e=re.current)||void 0===e?void 0:e.getBoundingClientRect().width;J(Math.floor(t/42)-3)};let le=F.findIndex((e=>e.brandId===y));if(le>=Q&&le>=0&&Q>0){const e=F[le];F.splice(le,1),F.unshift(e),le=0}const ce=F.slice(0,Q),de=F.length-Q,_e=F.filter((e=>(null==e?void 0:e.newDealsCount)>0)).length,[Ee,ue]=(0,a.useState)(!1),me=e=>{let t="";e===R.eG4.EXPANDED?t=L.JE.DEALS_STORIES_ENABLED:e===R.eG4.COLLAPSED?t=L.JE.DEALS_STORIES_HIDDEN:e===R.eG4.DISABLED&&(t=L.JE.DEALS_STORIES_DISABLED),K(e,{mKey:t,sec:L.nJ.DEALS_STORIES,interactiontype:L.Rb.click})};let Se;const pe=(0,a.useRef)(),{formatMessage:Ce}=(0,r.Y)(),Ae=({newDealsCount:e,brandId:t},s,a,n)=>({mKey:L.JE.CARD_INTERACT,sec:L.nJ.MSG_LIST,actionData:{featurefamily:R.lMo.IC,xpname:R.pdX.SHORTCUTS_INBOX,interactiontype:a,interacteditem:n,clickedbrandposition:s+1,clickedbrandbadge:e,clickedbrand:t}}),Te=(0,a.useCallback)(((e,t,s)=>({mKey:e,sec:L.nJ.MSG_LIST,actionData:{featurefamily:R.lMo.IC,xpname:R.pdX.SHORTCUTS_INBOX,interactiontype:t,state:s,senderscount:F.length,senders:F.map((({brandId:e})=>e)),badgescount:F.filter((({newDealsCount:e})=>e>0)).length,badges:F.reduce(((e,{newDealsCount:t})=>t>0?[...e,t]:e),[])}})),[F]),Ie=e=>{const t=Te(L.JE.CARD_INTERACT,e?x:V,e?"expanded":"collapsed");N.ZP.sendI13nModel({i13nModel:t}),X()},he=()=>{le>=0&&l({brandId:y})};if((0,a.useEffect)((()=>(oe.current||(window.addEventListener("resize",ie),oe.current=!0),ie(),()=>{oe.current=!1,window.removeEventListener("resize",ie)})),[null==F?void 0:F.length,t]),(0,a.useEffect)((()=>{if(!Ee&&(null==F?void 0:F.length)>0){const e=Te(L.JE.CARD_VIEW,void 0,"collapsed");N.ZP.sendI13nModel({i13nModel:e}),ue(!0)}}),[F,Ee,Te]),!F.length||t===R.eG4.DISABLED)return null;const ge=a.createElement(I.Z,null,a.createElement(T.Z,null,a.createElement("span",{title:"Settings"},a.createElement(m.default,{colorState:_.ColorStates.INHERITED,kind:_.Kinds.MORE,size:_.Sizes.XXS,className:j.settings,"aria-label":"more settings btn"}))),a.createElement(h.ZP,{align:E.xM.END,offset:15,permittedArrowDirections:[E.Ji.DOWN],triggerOn:E.K2.CLICK,zAltitude:P.LSY.MODAL},a.createElement(A.Z,{focusOnMount:!0,"data-test-id":"sort-order-list"},a.createElement("div",null,a.createElement(C.Z,null,a.createElement(c.Z,{"data-test-id":"share-feedback-button",kind:d.F.MENUITEM,onClick:()=>{q&&X(!1),ee(!0),se(!1)}},a.createElement(n.FormattedMessage,{defaultMessage:"Share feedback",id:"BrandMenu.shareFeedback"}))),a.createElement(C.Z,null,a.createElement(c.Z,{"data-test-id":"hide-shortcuts-button",kind:d.F.MENUITEM,onClick:()=>{q&&X(!1),me(R.eG4.COLLAPSED)}},a.createElement(n.FormattedMessage,{defaultMessage:"Hide feature",id:"BrandMenu.clearHide"}))),a.createElement(C.Z,null,a.createElement(c.Z,{"data-test-id":"clear-updates-button",kind:d.F.MENUITEM,onClick:()=>l()},a.createElement(n.FormattedMessage,{defaultMessage:"Clear updates",id:"BrandMenu.clearUpdates"})))))));if(q){const e=1===ae?F.filter((e=>e.followed)):F,t=1===ae&&0===e.length,s=W===f.zg.DARK,r=a.createElement("div",{className:j.emptyFavoriteContainer},a.createElement("div",{className:j.emptyFavoriteItemContainer},a.createElement("div",{className:j.menuImageContainer},a.createElement("div",{className:j.emptyFavoriteLogo},a.createElement(S.Z,{className:j.emptyFavoriteLogoImage,src:"/img/default_shortcuts_brand_logo.png"}))),a.createElement("div",{className:j.menuHeader},a.createElement(n.FormattedMessage,{defaultMessage:"Brand",id:"BrandMenu.defaultBrandName"})),a.createElement("div",{className:j.starContainer},a.createElement(u.Z,{colorState:s?_.ColorStates.STARRED_DARK:_.ColorStates.STARRED,kind:_.Kinds.BIG_STAR,size:_.Sizes.XXS}))),a.createElement("h3",{className:j.emptyFavoriteTitle},a.createElement(n.FormattedMessage,{defaultMessage:"Customize your shortcuts",id:"BrandMenu.emptyFavoriteTitle"})),a.createElement("p",{className:j.emptyFavoriteText},a.createElement(n.FormattedMessage,{defaultMessage:"Favorite brands will show up first in your Inbox Shortcuts. Click on the star icon to 'favorite' a brand.",id:"BrandMenu.favoriteInstruction"})),a.createElement(c.Z,{"data-test-id":"empty-all-brand-button",kind:d.F.PRIMARY,onClick:()=>ne(0),overridingClass:j.emptyFavoriteButton},a.createElement(n.FormattedMessage,{defaultMessage:"Add brands",id:"BrandMenu.emptyFavoriteAdd"}))),l=e.map(((e,t)=>{const{brandId:n,followed:r,logo:l,name:c,newDealsCount:d}=e;let E,u;return u=s?r?_.ColorStates.STARRED_DARK:_.ColorStates.GRAY_VZM_BOB:r?_.ColorStates.STARRED:_.ColorStates.LESS_IMPORTANT,E=d<w?j.menuItemNewDealsCount:j.menuItemNewDealsCountTwo,a.createElement("div",{key:n,onClick:X},a.createElement(v.Z,{"data-test-id":"preview-brand-"+c,className:j.menuItemContainer,route:(0,b.jK)(R.K8C.STOREFRONT,{accountIds:M,brandId:n}),i13nModel:Ae(e,t,L.Rb.interaction_click),onClick:()=>he(),title:c},a.createElement("div",{className:j.menuImageContainer},a.createElement("img",{className:j.menuLogoImage,src:l,alt:c,role:"link"}),!!d&&a.createElement("span",{className:E},d<w?d:a.createElement(a.Fragment,null,9,"+"))),a.createElement("div",{className:j.menuHeader,role:"link"},c),a.createElement("div",{className:j.starContainer},a.createElement(m.default,{"data-test-id":"star-brand",className:j.starButton,"aria-label":"star-brand",colorState:u,kind:r?_.Kinds.BIG_STAR:_.Kinds.BIG_STAR_OUTLINE,size:_.Sizes.XXS,onClick:e=>((e,t,s,a,n)=>{e.preventDefault(),e.stopPropagation();const r=Ae({newDealsCount:s,brandId:t},n,B,a?G:H);N.ZP.sendI13nModel({i13nModel:r}),a?i({accountId:M[0],brandId:t}):o({accountId:M[0],brandId:t})})(e,n,d,r,t),"aria-selected":r}))))}));return a.createElement("div",{className:j.expandedContainer},a.createElement("div",{className:j.expandedTitleContainer},a.createElement("div",{className:j.expandedTitle,onClick:X,"aria-label":Ce(Z.brandFromInbox),role:"button","aria-expanded":!0},a.createElement(n.FormattedMessage,{defaultMessage:"Brands from your inbox",id:"BrandMenu.header"})),a.createElement("div",{className:j.expandedSettings},ge,"Â  Â ",a.createElement(m.default,{colorState:_.ColorStates.INHERITED,kind:_.Kinds.CHEVRON_UP,onClick:()=>Ie(!1),rotate:_.Rotate.D180,size:_.Sizes.XXS,title:"View less",className:j.viewLess,"data-test-id":"view-less-brands","aria-expanded":!0}))),a.createElement(g.t,{overrideClassNames:j,isDark:W===f.zg.DARK},a.createElement(g.O,{"data-test-id":"all-brands-tab",overrideClassNames:j,isSelected:0===ae,onClick:()=>ne(0)},a.createElement(n.FormattedMessage,{defaultMessage:"All brands",id:"BrandMenu.tabAllBrands"})),a.createElement(g.O,{"data-test-id":"favorites-tab",overrideClassNames:j,isSelected:1===ae,onClick:()=>ne(1)},a.createElement(n.FormattedMessage,{defaultMessage:"Favorites",id:"BrandMenu.tabFavorites"}))),a.createElement("div",{className:j.expandedMenu},t?r:l))}const Oe=!!ce.length&&ce.map(((e,t)=>{const{brandId:s,name:n,logo:r,newDealsCount:o}=e;let i,l=j.logoImageContainer;return i=o<w?j.newDealsCount:j.newDealsCountTwo,y===s&&(l=j.selectedLogoImageContainer),a.createElement(v.Z,{"data-test-id":"preview-brand-"+n,className:l,route:(0,b.jK)(R.K8C.STOREFRONT,{accountIds:M,brandId:s}),key:s,title:n,i13nModel:Ae(e,t,L.Rb.interaction_click),onClick:()=>he()},a.createElement("div",{className:j.brandContainer},a.createElement("img",{className:j.logoImage,src:r,alt:n}),!!o&&a.createElement("span",{className:i},o<w?o:"9+")))})),De=_e?a.createElement("div",{className:j.showContainer},_e,"Â ",a.createElement(n.FormattedMessage,{defaultMessage:"{count, plural, =1 {UPDATE} other {UPDATES}}",id:"BrandMenu.updates",values:{count:_e}})):a.createElement("div",{className:j.show},a.createElement(n.FormattedMessage,{defaultMessage:"Show",id:"BrandMenu.showShortcut"})),Re=a.createElement("div",{className:j.brandsContainer,ref:re},a.createElement("div",{className:j.previewBrands},Oe,de>0&&a.createElement("div",{className:j.more,onClick:X,"aria-label":Ce(Z.moreBrands,{moreBrands:de}),role:"button"},a.createElement(u.Z,{kind:_.Kinds.ADD,colorState:_.ColorStates.INHERITED,size:_.Sizes.XXS}),de)),a.createElement("div",{className:j.menuContainer},ge,"Â  Â ",a.createElement(m.default,{"data-test-id":"view-more-brands",colorState:_.ColorStates.INHERITED,kind:_.Kinds.CHEVRON_UP,size:_.Sizes.XXS,title:"View all",className:j.viewMore,onClick:()=>Ie(!0),"aria-expanded":!1}))),Ne=()=>{var e;null===(e=Se)||void 0===e||e.updatePosition()};return a.createElement("div",{"data-test-id":"brand-menu-container",className:j.container,onClick:Y?()=>me(R.eG4.EXPANDED):()=>{}},a.createElement("div",{className:j.title,onClick:Y?()=>{}:X,"aria-label":Ce(Z.brandFromInbox),role:"button","aria-expanded":!1},a.createElement("span",{ref:pe},a.createElement(n.FormattedMessage,{defaultMessage:"Brands from your inbox",id:"BrandMenu.header"}))),z&&pe?a.createElement(h.ZP,{popoverAnchor:pe,align:E.xM.CENTER,triggerOn:E.K2.MOUNT,permittedArrowDirections:[E.Ji.DOWN],offset:16,ref:e=>{Se=e},zAltitude:P.LSY.POPOVER.HIGH,borderRadius:E.cM.HIGH},a.createElement(p.cr,{import:"./brand_menu_cue",cueName:R.ANe.BRAND_MENU_ONBOARDING_CUE,onShow:Ne,_moduleLoader:function(){return Promise.all([s.e(567),s.e(202)]).then(s.bind(s,57419))},_moduleResolver:function(){return 57419}})):null,Y?De:Re,$&&a.createElement(k.ZP,{onClose:()=>ee(!1),updateDealsStoriesSettings:K,disable:te}))}))},18802:(e,t,s)=>{"use strict";s.d(t,{c$:()=>y,G7:()=>F,ZP:()=>G});s(45697);var a=s(67294),n=s(99095),r=s(67498),o=s(28182),i=s(76531),l=s(9333),c=s(89963),d=s(7426),_=s(83034),E=s(37422),u=s(79483),m=s(92559),S=s(17016),p=s(46826),C=s.n(p),A=s(46229),T=s(57038),I=s.n(T);const h=(0,n.defineMessages)({title:{id:"share_feedback_disable.title",defaultMessage:"Would you like to disable this feature?"},subTitle:{id:"share_feedback_disable.subTitle",defaultMessage:"You can re-enable anytime from Settings."},disable:{id:"share_feedback_disable.disable",defaultMessage:"Disable"},not_now:{id:"share_feedback_disable.not_now",defaultMessage:"Not now"}}),g=({onSubmit:e,onCancel:t})=>{const s=(0,_.Z)(I()),{formatMessage:n}=(0,d.Y)();return a.createElement("div",{className:s.disableContainer},a.createElement(A.Z,{src:"/img/share_feedback_bad.png",className:s.badIcon}),a.createElement("h2",{className:s.title},n(h.title)),a.createElement("p",{className:s.subTitle},n(h.subTitle)),a.createElement("div",{className:s.actionBar},a.createElement(r.Z,{"data-test-id":"disable_button",kind:o.F.PRIMARY,onClick:e,overridingClass:s.disableButton},n(h.disable)),a.createElement(r.Z,{"data-test-id":"not_now_button",kind:o.F.SECONDARY_BORDERLESS,onClick:t,overridingClass:s.notNowButton},n(h.not_now))))};var O=s(14334),D=s(41546);const R=(0,n.defineMessages)({title:{id:"share_feedback_success.title",defaultMessage:"Thanks for your feedback!"},subTitle:{id:"share_feedback_success.subTitle",defaultMessage:"Your response helps us build a better experience for you."}}),N=()=>{const e=(0,_.Z)(I()),{formatMessage:t}=(0,d.Y)();return a.createElement("div",{className:e.disableContainer},a.createElement("img",{src:(0,D.A)("/img/share_feedback_done.png"),className:e.successIcon}),a.createElement("h2",{className:e.title},t(R.title)),a.createElement("p",{className:e.subTitle},t(R.subTitle)))};var L=s(12742),f=s.n(L);const M=(0,n.defineMessages)({editorTitle:{id:"share_feedback_view.editorTitle",defaultMessage:"Please share additional feedback to help us improve this feature"}}),P=({view:e,onChange:t,onTextChange:s})=>{const n=(0,_.Z)(f()),{formatMessage:r}=(0,d.Y)();return a.createElement("div",{className:n.feedbackView},a.createElement("h3",{className:n.viewTitle},e.title),a.createElement("p",{className:n.viewSubTitle},e.subTitle),a.createElement("ul",{className:n.suggestions},e.suggestions.map((s=>a.createElement("li",{key:`${e.type}_${s.id}`},a.createElement("label",{className:n.suggestion},a.createElement("input",{type:"checkbox",role:"checkbox","aria-label":s.label,"data-test-id":`feedback_suggestion_${s.id}`,name:"feedback_suggestion",value:s.value,checked:s.checked,onChange:()=>t(s.value)}),a.createElement("span",{className:n.labelText},s.label)))))),a.createElement("textarea",{id:"additional_comments",className:n.additonalComments,name:"additional_comments",onChange:s,"aria-label":r(M.editorTitle),placeholder:r(M.editorTitle),dir:"auto"}))},b=(0,n.defineMessages)({close:{id:"share_feedback_modal.close",defaultMessage:"Close"},title:{id:"share_feedback_modal.title",defaultMessage:"Is this feature useful for you?"},editorTitle:{id:"share_feedback_modal.editorTitle",defaultMessage:"Please share additional feedback to help us improve this feature"},submit:{id:"share_feedback_modal.submit",defaultMessage:"Submit"},cancel:{id:"share_feedback_modal.cancel",defaultMessage:"Cancel"},yes_title:{id:"share_feedback_modal.yes_title",defaultMessage:"Great, thank you!"},yes_subtitle:{id:"share_feedback_modal.yes_subtitle",defaultMessage:"Please tell us what do you like about this feature"},yes_suggestion_0:{id:"share_feedback_modal.yes_suggestion_0",defaultMessage:"Convenient access"},yes_suggestion_1:{id:"share_feedback_modal.yes_suggestion_1",defaultMessage:"Well organized"},yes_suggestion_2:{id:"share_feedback_modal.yes_suggestion_2",defaultMessage:"Help find emails"},yes_suggestion_3:{id:"share_feedback_modal.yes_suggestion_3",defaultMessage:"Help find deals"},something_else:{id:"share_feedback_modal.something_else",defaultMessage:"Something else..."},sometimes_title:{id:"share_feedback_modal.sometimes_title",defaultMessage:"We'd like to get better!"},sometimes_subtitle:{id:"share_feedback_modal.sometimes_subtitle",defaultMessage:"Please tell us what is currently missing"},sometimes_suggestion_0:{id:"share_feedback_modal.sometimes_suggestion_0",defaultMessage:"The brands shown are not relevant to me"},sometimes_suggestion_1:{id:"share_feedback_modal.sometimes_suggestion_1",defaultMessage:"Don't know when or why to use it"},sometimes_suggestion_2:{id:"share_feedback_modal.sometimes_suggestion_2",defaultMessage:"Doesn't have enough content"},sometimes_suggestion_3:{id:"share_feedback_modal.sometimes_suggestion_3",defaultMessage:"Inaccurate data shown"}}),y={YES:"yes",SOMETIMES:"sometimes",NO:"no"},v=[{type:y.YES,title:a.createElement(n.FormattedMessage,b.yes_title),subTitle:a.createElement(n.FormattedMessage,b.yes_subtitle),suggestions:[{id:0,label:a.createElement(n.FormattedMessage,b.yes_suggestion_0),checked:!1,value:"convenient"},{id:1,label:a.createElement(n.FormattedMessage,b.yes_suggestion_1),checked:!1,value:"organized"},{id:2,label:a.createElement(n.FormattedMessage,b.yes_suggestion_2),checked:!1,value:"emails"},{id:3,label:a.createElement(n.FormattedMessage,b.yes_suggestion_3),checked:!1,value:"deals"},{id:4,label:a.createElement(n.FormattedMessage,b.something_else),checked:!1,value:"other"}]},{type:y.SOMETIMES,title:a.createElement(n.FormattedMessage,b.sometimes_title),subTitle:a.createElement(n.FormattedMessage,b.sometimes_subtitle),suggestions:[{id:0,label:a.createElement(n.FormattedMessage,b.sometimes_suggestion_0),checked:!1,value:"brands_irrelevant"},{id:1,label:a.createElement(n.FormattedMessage,b.sometimes_suggestion_1),checked:!1,value:"unknown_use"},{id:2,label:a.createElement(n.FormattedMessage,b.sometimes_suggestion_2),checked:!1,value:"lacks_content"},{id:3,label:a.createElement(n.FormattedMessage,b.sometimes_suggestion_3),checked:!1,value:"inaccurate_data"},{id:4,label:a.createElement(n.FormattedMessage,b.something_else),checked:!1,value:"other"}]}],F={yes:"positive_page",sometimes:"sometimes_page",no:"negative_page"},U={isUseful:y.YES,view:v[0],showDisable:!1,success:!1,comments:""};function k(e,{type:t,payload:s}){switch(t){case"UPDATE":return{...e,...s};default:return{...e}}}const w=({onClose:e,updateDealsStoriesSettings:t,disable:s,defaultSelected:n})=>{const p=(0,_.Z)(C()),{formatMessage:A}=(0,d.Y)(),[T,I]=(0,a.useReducer)(k,{...U,showDisable:s,isUseful:s?y.NO:n,view:v.find((e=>e.type===n))||v[0]}),{isUseful:h,view:D,showDisable:R,success:L,comments:f}=T;(0,a.useEffect)((()=>{u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_VIEW,sec:m.nJ.MSG_BODY,actionData:{featurefamily:E.lMo.IC,xpname:E.pdX.SHORTCUTS_FEEDBACK,state:"popup"}}})}),[]),(0,a.useEffect)((()=>{h===y.NO&&u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_INTERACT,sec:m.nJ.MSG_BODY,actionData:{featurefamily:E.lMo.IC,xpname:E.pdX.SHORTCUTS_FEEDBACK,state:F[h],dismissed:"no",is_helpful:h}}})}),[h]);const M=({notNow:e=!1,disableIntent:t=!1})=>{u.ZP.sendI13nModel({i13nModel:{mKey:m.JE.CARD_INTERACT,sec:m.nJ.MSG_BODY,actionData:{featurefamily:E.lMo.IC,xpname:E.pdX.SHORTCUTS_FEEDBACK,is_helpful:!e||e&&h===y.NO?h:void 0,dismissed:e?"yes":"no",state:F[h],feedback:!e&&h!==y.NO&&D.suggestions.filter((e=>e.checked)).length>0?D.suggestions.filter((e=>e.checked)).map((e=>e.value)):void 0,other:e||h===y.NO||""===f.trim()?void 0:f.trim(),disable_intent:t?"yes":void 0}}})},w=(0,a.useCallback)((e=>{I({type:"UPDATE",payload:{view:{...D,suggestions:D.suggestions.map((t=>t.value===e?{...t,checked:!t.checked}:{...t}))}}})}),[D]),G=(0,a.useCallback)((e=>{I({type:"UPDATE",payload:{comments:(0,S.sanitizeData)(e.target.value)}})}),[]),H=()=>{e(),L||M({notNow:!0,disableIntent:!1})};return a.createElement(c.Z,{onClose:H,onOuterClick:H},a.createElement("div",{className:p.container},a.createElement("div",{className:p.close},a.createElement(l.default,{onClick:H,colorState:i.ColorStates.FIRST_LEVEL_GRAY,kind:i.Kinds.CLOSE,size:i.Sizes.XS,title:A(b.close),"aria-label":A(b.close),"data-test-id":"share-feedback-button-close"})),!R&&!L&&a.createElement(a.Fragment,null,a.createElement("h2",{className:p.title},A(b.title)),a.createElement(O.Z,{isChecked:h,onChange:e=>{I({type:"UPDATE",payload:{showDisable:e===y.NO,view:v.find((t=>t.type===e))||v[0],isUseful:e,comments:""}})}}),a.createElement(P,{view:D,onChange:w,onTextChange:G}),a.createElement("div",{className:p.actionBar},a.createElement(r.Z,{"data-test-id":"submit_button",kind:o.F.PRIMARY,onClick:()=>{I({type:"UPDATE",payload:{success:!0}}),M({notNow:!1,disableIntent:!1})},overridingClass:p.submitButton},A(b.submit)),a.createElement(r.Z,{"data-test-id":"cancel_button",kind:o.F.SECONDARY_BORDERLESS,onClick:H,overridingClass:p.cancelButton},A(b.cancel)))),R&&a.createElement(g,{onSubmit:()=>{M({notNow:!1,disableIntent:!0}),t(E.eG4.DISABLED,{mKey:m.JE.DEALS_STORIES_DISABLED,sec:m.nJ.DEALS_STORIES,interactiontype:m.Rb.click}),e()},onCancel:()=>{M({notNow:!0,disableIntent:!1}),e()}}),L&&a.createElement(N,null)))};w.defaultProps={disable:!1,defaultSelected:y.YES};const G=w},14334:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(45697);var a=s(67294),n=s(99095),r=s(46229),o=s(7426),i=s(83034),l=s(97871),c=s.n(l),d=s(18802);const _=(0,n.defineMessages)({yes:{id:"share_feedback_options.yes",defaultMessage:"Yes"},sometimes:{id:"share_feedback_options.sometimes",defaultMessage:"Sometimes"},no:{id:"share_feedback_options.no",defaultMessage:"No"}}),E=({isChecked:e,onChange:t,hideInput:s})=>{const n=(0,i.Z)(c(),{isChecked:e}),{formatMessage:l}=(0,o.Y)();return a.createElement("ul",{className:n.feedbackList},Object.values(d.c$).map((o=>a.createElement("li",{key:`${o}-checked-${e}`},a.createElement("label",{className:n.option},a.createElement(r.Z,{src:`/img/share_feedback_${o}.svg`,className:n.optionIcon}),a.createElement("span",{className:n.optionText},l(_[o])),a.createElement("input",{className:n.radio,type:"radio",name:"showFeedbackOption","data-test-id":`share_feedback_option_${o}`,checked:o===e,onChange:()=>t(o),value:o,style:s?{display:"none"}:{}}))))))};E.defaultProps={hideInput:!1,isChecked:null};const u=E},63549:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C H_7bI5 d_7bI5 z_2wc7QY n_2wc7QY q_ZkbNhI",title:"D_F o_h ej_0 em_qk C_Z281SGl A_6EqO c1AVi73_6FsP M_pWbKE J_x a_3vhr3 r_P C4_Z29WjXl",showContainer:"H_6MGW u_elT A_6DUj c1AVi73_6EWk D_F ab_C C_ZkbNhI e_3mS2U I_2qemPL P_3gJOe M_3gJOe",show:"M_3gJOe C_Z29WjXl",brandsContainer:"D_F ab_C gl_FM em_sL ej_0 H_6D6F o_h",previewBrands:"D_F ab_C o_h",more:"D_F ab_C cdPFi_Z29WjXl C_Z29WjXl r_P",logoImageContainer:"D_F gl_C ab_C p_R P_3gJOe H_7bI5 k_w I4_Z1sGJ76",brandContainer:"p_R D_F",selectedLogoImageContainer:"D_F gl_C ab_C p_R P_3gJOe H_7bI5 z_Z1kEWcM I_Z1sGJ76 k_w",logoImage:"e_e5X b_2wc7QY W_6MGW H_6MGW",newDealsCount:"D_F gl_C ab_C p_a T_68F4 R_68F4 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk",newDealsCountTwo:"D_F gl_C ab_C p_a T_68F4 R_68F4 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk P_3gIgH",logoTooltipContainer:"e_dRA H_6LEV C_Z281SGl",logoTooltip:"P_fq7 A_6DUj c1AVi73_6EWk",menuContainer:"D_F ab_C cdPFi_Z1YJGyo gl_C M_1Eu7sD",settings:"cdPFi4_Z29WjXl",viewMore:"cdPFi4_Z29WjXl",viewLess:"cdPFi4_Z29WjXl",disableFeature:"m_2wc7QY",expandedContainer:"H_3vqYW d_3vqYW z_2wc7QY n_2wc7QY",expandedTitleContainer:"D_F gl_FM M_ZgNy5T",expandedTitle:"u_b A_6EWk c1AVi73_6FYl r_P C4_Z29WjXl",expandedSettings:"D_F cdPFi_Z1YJGyo",tabListContainer:"m_2wc7QY M_20wKUB P_13zG0u",button:"W_7cK6 J_x A_6Eb4 c1AVi73_6Fd5",expandedMenu:"D_F eo_HB H_1C4Vr5 iz_A Q_6LEV",menuItemContainer:"D_F ab_C ek_BB je_6Mbr H_3mT4V W_7ALe I_ZkbNhI b_2wc7QY k_w e_eo6 M_eo6 I4_Znsmye p_R",menuImageContainer:"p_R",menuItemNewDealsCount:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk",menuItemNewDealsCountTwo:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk P_3gIgH",menuLogoImage:"e_e5X b_2wc7QY W_6UbO H_6UbO",menuHeader:"W_7sKQ je_eo6 A_6DUj i_6EGz c1AVi73_6EWk c1AVi7H_6LEV t_C C_Z281SGl o_h ca8c02_O cZwJqdT_Z2lir11 D_ZS1uoi",starContainer:"p_a T_0 R_0 P_eTB",starButton:"P_82XEY lv4_1IWXzk h4_2d9T5e",emptyFavoriteContainer:"W_6D6F D_F ab_C gl_C ek_BB",emptyFavoriteItemContainer:"D_F ab_C ek_BB je_6Mbr H_3mT4V W_7ALe I_ZkbNhI b_2wc7QY k_w e_eo6 M_eo6 p_R",emptyFavoriteLogo:"W_6UbO H_6UbO q_Z1YJKic D_F ab_C gl_C e_e5X",emptyFavoriteLogoImage:"H_6Eb4 N_dBP",emptyFavoriteTitle:"M_ni5xh A_6EWk c1AVi73_6FYl u_elT",emptyFavoriteText:"M_82XEY a_3vytO A_6Eb4 c1AVi73_6Fd5 t_C",emptyFavoriteButton:"M_Z2wNFHA e_6LEV"},isCollapsed:{container:"gl_C r_P",title:"em_0 ej_A"},"themeMode-DARK":{container:"b_ZYfqD1 q_kt4zd",title:"C_ak5m8 C4_ZkbNhI",logoImage:"b_1Gnt2p",menuContainer:"cdPFi_ak5m8",settings:"cdPFi4_ZkbNhI",viewMore:"cdPFi4_ZkbNhI",viewLess:"cdPFi4_ZkbNhI",show:"C_ak5m8 C4_ZkbNhI",expandedContainer:"C_ZkbNhI z_ZYfqD1 n_ZYfqD1",expandedTitle:"C4_ZkbNhI",expandedSettings:"cdPFi_ak5m8",menuItemContainer:"I_1YEmYj b_n I4_ZFyHXD",menuHeader:"C_ZkbNhI",logoImageContainer:"I4_1kC8gG",selectedLogoImageContainer:"z_Z1YKD9t I_1kC8gG",more:"C_ZkbNhI cdPFi_ZkbNhI",tabListContainer:"m_ZYfqD1",emptyFavoriteItemContainer:"I_1YEmYj b_n"}},_key:"Xrou7"}},85400:e=>{"use strict";e.exports={className:{default:{container:"D_F ab_C gl_FM H_7rdk e_eo6 b_Z14vXdP M_1HT1B4",header:"D_F ab_C ej_0 em_qk a_3vhr3 Q_6Fd5 A_6EqO c1AVi73_6FsP u_b C_Z281SGl J_x",previewBrandsContainer:"D_F ab_C gl_FM ej_0 em_sL",previewBrands:"D_F ab_C X_eo6",logoLoadingContainer:"D_F gl_C ab_C W_73cc H_72FG M_3gJiI",logoLoading:"e_e5X I_ZnMIOa W_6UbO H_6UbO",logoImageContainer:"D_F ek_BB gl_C ab_C r_P p_R W_7ceA H_7jYd M_1DLYDz e4_eo6 I4_ZnsmyK",logoImage:"e_e5X b_Z12rHwq W_6UbO H_6UbO",logoTooltip:"D_F gl_C ab_C t_C p_a T_6Dmq L_0 W_DN I_ZkbNhI H_6Nds P_3gJOe e_dRA j_22MRmL A_6DUj c1AVi73_6EWk u_e69 C_Z281SGl Z_d48",more:"D_F gl_C ab_C t_C p_R W_6VdP H_6VdP C_Z29WjXl cdPFi_Z29WjXl r_P A_6EqO c1AVi73_6FsP e4_eo6 I4_ZnsmyK",settings:"cdPFi_Z1VRqsb M_1Eu7sD",settingsMenu:"P_21vRvG",brandContainer:"W_7sfl H_7l1e D_F ek_BB gl_C ab_C P_fq7 M_Z1qHlXY e_eo6 I4_ZnsmyK r4_P",popoverheaderContainer:"D_F ab_C gl_FM I_ZkbNhI P_Z1HiK4H e_C04i4",popoverheader:"A_6EqO c1AVi73_6FsP u_b C_Z281SGl",menuContainer:"D_F ek_EZ eo_HB K_3rv4o iz_A P_1Euer0 I_ZkbNhI",menuImageContainer:"H_73HH W_73HH e_e5X p_R b_Z12rHwq",menuImage:"W_73HH H_73HH e_e5X",menuHeader:"W_7iGr je_eo6 A_6DUj c1AVi73_6EWk u_e69 t_C C_Z281SGl J_x o_h G_e",close:"D_F gl_C ab_C A_6DUj c1AVi73_6EWk u_e69 t_C C_Z29WjXl P_Z1aXf1W r_P e_Z27pUV5 I_ZkbNhI z_2wc7QY",show:"M_1Eu6qC A_6EqO c1AVi73_6FsP C_Z1YRXYn",imgContainer:"D_F p_R",previewBrandName:"W_74JI H_6Fd5 A_6DUj c1AVi73_6EWk u_e69 t_C C_Z281SGl J_x o_h G_e",newDealsCount:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk u_b y_2q13n9",newDealsCountTwo:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk u_b y_2q13n9 P_3gIgH",newDealsCountThree:"D_F gl_C ab_C p_a T_0 R_0 s_6Fd5 H_6Fd5 e_fq7 I_Z1YJKic C_ZkbNhI A_6DUj c1AVi73_6EWk u_b y_2q13n9 P_3gIMd"},isPreviewPane:{container:"H_3mT4V D_B",header:"D_F ab_C gl_FM a_82XEY M_1muu98",previewBrands:"Q_fq7 X_82XEY",logoImageContainer:"M_3gIMd",settings:"E_6Eb4",menuContainer:"H_3vytO P_1Eu6qC",brandContainer:"M_ZuD6o1",popoverheaderContainer:"P_Z15jIle"},showCompactShortcuts:{container:"D_F H_72FG"},isDarkThemeMode:{container:"b_ZYfqD1",header:"C_ZkbNhI",compactHeader:"C_ZkbNhI",logoImage:"b_1Gnt2p",logoLoading:"I_ak5j5",more:"C_ZkbNhI cdPFi_ZkbNhI u_b I4_ZS20VC",logoImageContainer:"I4_ZS20VC",settings:"cdPFi_ak5m8",show:"C_ak5m8 C4_ZkbNhI",previewBrandName:"C_ZkbNhI"},showBrandsMenu:{settings:"cdPFi_Z1VRqsb"}},_key:"Z10gN4V"}},57038:e=>{"use strict";e.exports={className:{default:{title:"Y_6MGW U_fq7 A_6FIA c1AVi73_6Mbr u_elT",subTitle:"M_0 A_6EGz c1AVi73_6FIA",actionBar:"W_3vaYc D_F Y_6Fd5 gl_FM",disableButton:"M_0 W_3nyCk",notNowButton:"W_3nyCk",disableContainer:"D_e0XN cZ1iamqt_C M_1NXh2I"}},_key:"Z1jbLmT"}},46826:e=>{"use strict";e.exports={className:{default:{container:"D_F W_3zvbD I_ZkbNhI ek_BB ab_C p_R",close:"R_0 ac_C p_a",title:"Y_6MGW U_6NIX A_6FIA c1AVi73_6Mbr u_elT",actionBar:"W_3vaYc D_F Y_6Fd5 U_6MGW gl_FM",submitButton:"M_0 W_3nyCk",cancelButton:"W_3nyCk"}},_key:"1kTqGW"}},97871:e=>{"use strict";e.exports={className:{default:{feedbackList:"M_0 P_0 hd_n D_F",option:"i_6MGW D_F ek_BB ab_C M_1EueWv",optionIcon:"W_6UbO H_6UbO",radio:"M_Z26RiTK"}},_key:"Z1UhK7M"}},12742:e=>{"use strict";e.exports={className:{default:{feedbackView:"D_F ek_BB ab_C Y_6NIX W_3vaYc",viewTitle:"Y_0 U_eo6 A_6Fd5 c1AVi73_6LEV u_elT",viewSubTitle:"M_0 A_6EGz c1AVi73_6FIA",suggestions:"ha_n D_F P_0 ac_CI ek_BB Y_6NIX",suggestion:"D_F U_6Fd5",labelText:"Q_fq7",additonalComments:"ac_CI W_6D6F H_7yHc M_0 l_ZpQYvz I_Z1sGJ76 P_6Eb4 k_w y_jyw3a"}},_key:"Z1GKQyI"}},5223:e=>{"use strict";e.exports={className:{default:{tab:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_ZkbNhI cdPFi4_Z281SGl",darkMode_photoThemefalse:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_ZkbNhI cdPFi4_Z281SGl",darkMode_photoThemetrue:"k_w D_F ab_C H_6D6F cj_dRA ck_dRA o_h cdPFi_ZkbNhI cdPFi4_Z281SGl",textSvg:"em_N H_6FIA",text:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x",close:"en_0 O4_N P_2gqvDS",checkmailIcon:"en_0 O4_N P_2gqvDS",decorator:"D_F en_0 Q_eo6 E_eo6",badgeCount:"C_Z281SGl D_F u_e69 I_ZkbNhI A_6DUj c1AVi73_6EWk gl_C P_3gJiI e_3mS2U"},"kind-MENU":{tab:"W_3qYiD P_1Eu7sD C_Z281SGl I_ZkbNhI I4_Z20yP3Y N4_6Eb4",text:"C_Z281SGl G_e"},"kind-BAR":{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI"},activeMenu:{text:"u_b"},decoratedMenu:{tab:"X_6Fd5"},decoratedBar:{tab:"P_1MYwXA",darkMode_photoThemefalse:"P_1MYwXA",darkMode_photoThemetrue:"P_1MYwXA"},decoratedSettings:{decorator:"P_eo6"},activeHover:{tab:"r_BN",darkMode_photoThemefalse:"r_BN",darkMode_photoThemetrue:"r_BN",close:"O_N Q_0"},inactiveHover:{close:"O_N Q_0"},animate:{tab:"ah_2wpkLb",darkMode_photoThemefalse:"ah_2wpkLb",darkMode_photoThemetrue:"ah_2wpkLb"},extraIconPadding:{decorator:"X_eo6"},lightModeWhiteHeaderTheme:{tab:"I_ZnEAGA",text:"C_Z291T10"},activeBarLightModeWhiteHeaderTheme:{tab:"I_ZkbNhI"},nonDarkModePhotoTheme:{tab:"I_ZS20VC",text:"C_ZkbNhI"},activeNonDarkModePhotoTheme:{tab:"I_ZkbNhI",text:"C_Z291T10"},darkModePhotoTheme_NIGHT_LANDSCAPE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_cOYC3 I4_cOYCy",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_ROADTRIP_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_1iaDpX I4_1iaDqt",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_SUNSET_AUSSIE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_2woiXE I4_2woiYa",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_LIGHTHOUSE_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_t5YJT I4_t5YKp",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_SPRING_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZgFtvw I4_ZgFtv1",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_WINTER_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_SUMMER_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_GALAXY_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_FALL_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_WESTERN_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_SUNSET_bar:{tab:"W_3nq6r P_1qqG3u I_a0xIC I4_ak5k6",darkMode_photoThemetrue:"C_ZkbNhI I_ZGiXQb I4_ZGiXPF",darkMode_photoThemefalse:"W_3nq6r P_1qqG3u I_ZS20VC I4_ZS20V7 C_ZkbNhI",activeBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_Z281SGl",darkThemeModeActiveBarText:"A_6EqO c1AVi73_6FsP u_e69 E_eo6 em_N en_N o_h J_x C_ZkbNhI",text:"C_ZkbNhI",close:"Q4_0"},darkModePhotoTheme_NIGHT_LANDSCAPE_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_1qHGaS I4_1qHGaS cdPFi4_ZkbNhI"},darkModePhotoTheme_ROADTRIP_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Zrb5Gc I4_Zrb5Gc cdPFi4_ZkbNhI"},darkModePhotoTheme_SUNSET_AUSSIE_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_2bmuGB I4_2bmuGB cdPFi4_ZkbNhI"},darkModePhotoTheme_LIGHTHOUSE_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Zsxwsy I4_Zsxwsy cdPFi4_ZkbNhI"},darkModePhotoTheme_SPRING_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_1GjjgT I4_1GjjgT cdPFi4_ZkbNhI"},darkModePhotoTheme_WINTER_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"},darkModePhotoTheme_SUMMER_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"},darkModePhotoTheme_GALAXY_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"},darkModePhotoTheme_FALL_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"},darkModePhotoTheme_WESTERN_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"},darkModePhotoTheme_SUNSET_activeBar:{tab:"I_ZkbNhI cdPFi_Z281SGl I4_ZkbNhI",darkMode_photoThemefalse:"I_Z221JxQ I4_Z221JxQ cdPFi4_ZkbNhI",darkMode_photoThemetrue:"I_Z19PNzy I4_Z19PNzy cdPFi4_ZkbNhI"}},_key:"ZVmFj2"}},50613:e=>{"use strict";e.exports={className:{default:{tabSpace:"f_l a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_d5Y"},"useStylesForUserNewToLeftNavResizing-false_hasWideLogo_true":{tabSpace:"W_3rehn s_3rehn"},"useStylesForUserNewToLeftNavResizing-true_hasWideLogo_true":{tabSpace:"a_3reMS W_3reMS s_3reMS cZ10Gnkk_Z3unnU"},"useStylesForUserNewToLeftNavResizing-true_hasWideLogo_false":{tabSpace:"a_3reMS W_3o58k cZ10Gnkk_Z3unnU"}},_key:"prSuD"}},34903:e=>{"use strict";e.exports={className:{default:{container:"D_F hd_n P_0 M_0 o_h J_x H_6UbO",item:"H_6D6F E_dRA",svgDefs:"W_0 H_0"}},_key:"2qYHHJ"}},85454:e=>{"use strict";e.exports={className:{default:{menuContainer:"D_F em_N H_6Nds s_6NIX r_P cj_dRA ck_dRA p_R je_eDQ",menuContentContainer:"P_1HKSdG",menuButtonContainer:"em_N",menuButton:"em_N r_P y_jyw3a A_6EqO c1AVi73_6FsP b_0 I_T",menuSpan:"p_a L_0 W_6D6F T_0 H_6D6F D_F ab_C gl_C C_ZkbNhI A_6EqO c1AVi73_6FsP o_h",text:"Q_fq7 o_h",chevron:"D_F en_0",rule:"b_Z2A6Uz m_0 M_fQoXz",tabList:"ha_n M_0 P_3Y3Gk",tabItem:"H_6NIX M_Ic8v9",closeAllButton:"y_jyw3a A_6EqO c1AVi73_6FsP b_0 I_T t_l C_Z1YRXYn P_1Eu7sD H_6VdP W_6D6F r_P I4_Z20yP3Y",closeAllText:"D_F ab_C"}},_key:"1bBEvM"}},90521:(e,t,s)=>{"use strict";s.d(t,{JJ:()=>p});var a=s(45697),n=s.n(a),r=s(67294),o=s(76223),i=s.n(o),l=s(18685),c=s(9026),d=(s(95406),s(85927)),_=s(29911),E=s(37422);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const S=e=>{const{getFeaturesSelectors:t,getEnvironmentSelectors:s}=(0,d.selectors)(e),a=t(),n=a.getSetting("theme"),r=a.getSetting("themeMode"),o=s().getUserNamespace(),i=a.getSetting("scoutOnboarding"),l=a.isEnabled("newThemes"),_=a.isEnabled(E.ANe.ULTRA_LIGHT_THEME_DEFAULT);let u=i.filter((e=>e.startsWith(E.ANe.THEMES_CUE_V3)));u=!(u.length>0);return{themingValue:{theme:o===E.Tzw.AOL?u&&l?c.b3.CLASSIC:n:u&&_?c.b3.HIGH_CONTRAST:n,themeMode:r}}},p=e=>(0,l.connect)(S,void 0,void 0,{areStatePropsEqual:(e,t)=>e.themingValue.theme===t.themingValue.theme&&e.themingValue.themeMode===t.themingValue.themeMode})(function(e){var t,s;return s=t=class extends r.Component{getChildContext(){return{getCss:(e,t)=>{const{theme:s,themeMode:a}=this.props.themingValue;return i()(e,{...t,themeMode:a,theme:s,themeCombo:`${a}_${s}`})},getTheme:()=>this.props.themingValue.theme,getThemeMode:()=>this.props.themingValue.themeMode}}render(){const{themingValue:t}=this.props,{theme:s,themeMode:a}=t;return r.createElement(_.Z.Provider,{value:t},r.createElement(e,u({key:`${s}-${a}`},this.props)))}},m(t,"displayName","WrappedThemeProvider"),m(t,"childContextTypes",{getCss:n().func,getTheme:n().func,getThemeMode:n().func}),s}(e))},67929:e=>{"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C",primaryButton:"A_6EWk C_Z29WjXl r_P"}},_key:"QlA5s"}},54982:e=>{"use strict";e.exports={className:{default:{todo_item_checkbox:"P_0"}},_key:"ZitsGv"}},87033:(e,t,s)=>{"use strict";s.d(t,{Z:()=>O});var a=s(67294),n=s(36632),r=s(76531),o=s(81732),i=s(83034),l=s(92559),c=s(17016),d=s(82159),_=s(79645),E=s(54982),u=s.n(E),m=s(61395),S=s.n(m),p=s(99095),C=s(7426),A=s(9333);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}const I=(0,p.defineMessages)({checked:{id:"atom.checkbox_checked",defaultMessage:"Checkbox, checked"},notChecked:{id:"atom.checkbox_not_checked",defaultMessage:"Checkbox, not checked"}}),h=e=>{const{size:t,isChecked:s,onClick:n,isOnDarkBackground:o=!1,...i}=e,{formatMessage:l}=(0,C.Y)(),[c,d]=(0,a.useState)(!1);let _,E,u,m,S;return o?(u=c?r.ColorStates.INVERTED_LESS_DIM:r.ColorStates.INVERTED_DIM,m=r.ColorStates.INVERTED):(u=c?r.ColorStates.PRIMARY_HOVER:r.ColorStates.FIRST_LEVEL_GRAY,m=r.ColorStates.SELECTED),s?(_=r.Kinds.CAL_ACCEPT,E=m,S=l(I.checked)):(_=c?r.Kinds.ACCEPT_UNFILLED:r.Kinds.CIRCLE_UNFILLED,E=u,S=l(I.notChecked)),a.createElement(A.default,T({"data-iskeynav":!0,size:t,kind:_,colorState:E,title:S,onClick:n,isOnDarkBackground:o,onMouseOver:()=>d(!0),onMouseOut:()=>d(!1)},i))},g=a.memo(h),O=e=>{const t=(0,i.Z)(u()),s=(0,o.I0)(),{id:E,sec:m,todo:{uid:p,status:C,folderId:A},className:T,size:I=r.Sizes.XS,isOnDarkBackground:h=!1}=e,[O,D]=(0,a.useState)(!1),R=O?(0,_.c)(C)===d.wq.COMPLETED:C===d.wq.COMPLETED;return(0,a.useEffect)((()=>{D(!1)}),[C]),a.createElement(g,{isChecked:R,id:E||`todo-${p}`,isOnDarkBackground:h,onClick:e=>{if(e.stopPropagation(),!O){D(!0);const t=(0,_.c)(C);s((0,n.go)({todo:{uid:p,status:t,...t===d.wq.COMPLETED&&{completedOn:new Date},folderId:A},i13nModel:{mKey:t===d.wq.COMPLETED?l.JE.TOGGLE_TODO_STATUS_TO_COMPLETED:l.JE.TOGGLE_TODO_STATUS_TO_ACTIVE,sec:m,interactionType:(0,c.getInteractionFromEvent)(e)}}))}},size:I,className:S()(t.todo_item_checkbox,T||"")})}},82159:(e,t,s)=>{"use strict";let a,n,r,o;s.d(t,{$r:()=>o,EU:()=>r,wq:()=>n}),function(e){e.HIGH="HIGH",e.MEDIUM="MEDIUM",e.LOW="LOW"}(a||(a={})),function(e){e.CANCELLED="CANCELLED",e.NEEDS_ACTION="NEEDS_ACTION",e.COMPLETED="COMPLETED"}(n||(n={})),function(e){e.ACTIVE="ACTIVE",e.COMPLETED="COMPLETED"}(r||(r={})),function(e){e.LIST="LIST",e.CREATE="CREATE",e.EDIT="EDIT"}(o||(o={}))},16680:(e,t,s)=>{"use strict";s.d(t,{Z:()=>N});var a=s(67294),n=s(99095),r=s(76531),o=s(40918),i=s(65304),l=s(94482),c=s(8470),d=s(82520),_=s(7426),E=s(83034),u=s(83247),m=s.n(u),S=s(10728),p=s(81732),C=s(65127),A=s(82159),T=s(92559),I=s(36632),h=s(17016),g=s(67498),O=s(28182),D=s(56148);const R=(0,n.defineMessages)({more_menu_title:{id:"more_button_title",defaultMessage:"More options"},edit_todo:{id:"todos_pane.edit_todo",defaultMessage:"Edit to-do"},delete_todo:{id:"todos_pane.delete_todo",defaultMessage:"Delete to-do"}}),N=e=>{const{item:t,sec:s,isOnDarkBackground:n=!1}=e,{formatMessage:u}=(0,_.Y)(),N=(0,E.Z)(m()),L=(0,p.I0)(),f=t.status===A.wq.NEEDS_ACTION;return a.createElement(d.OI,null,a.createElement(d.tW,null,a.createElement(D.Z,{title:u(R.more_menu_title),"aria-label":u(R.more_menu_title),kind:r.Kinds.MORE,size:r.Sizes.XXS,tabIndex:0,colorStates:{normal:n?r.ColorStates.FAINT:r.ColorStates.FIRST_LEVEL_GRAY,hovered:n?r.ColorStates.WHITE:r.ColorStates.BATCAVE_GRAY}})),a.createElement(d.yk,{align:i.xM.END,triggerOn:i.K2.CLICK,permittedArrowDirections:[i.Ji.UP,i.Ji.DOWN],zAltitude:S.LSY.POPOVER.HIGH},a.createElement("div",{className:N.menu},a.createElement(c.Z,{kind:o.F.MENU,focusOnMount:!0},f&&a.createElement(l.Z,{name:"edit"},a.createElement(g.Z,{kind:O.F.MENUITEM,onClick:e=>L((0,C.RF)({todoContext:t,i13nModel:{mKey:T.JE.EDIT_TODO_CLICK,sec:s,interactionType:(0,h.getInteractionFromEvent)(e)}}))},u(R.edit_todo))),a.createElement(l.Z,{name:"delete"},a.createElement(g.Z,{kind:O.F.MENUITEM,onClick:e=>L((0,I.gf)({todoUid:t.uid,folderId:t.folderId,i13nModel:{mKey:T.JE.TODO_DELETE,sec:s,interactionType:(0,h.getInteractionFromEvent)(e)}}))},u(R.delete_todo)))))))}},26756:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(67294),n=s(83034),r=s(29911),o=s(37422),i=s(9026),l=s(14989),c=s.n(l);const d=e=>{const{includeHeaders:t=!1}=e,{theme:s,themeMode:l}=(0,a.useContext)(r.Z),d=`${t}_and_${l===o.zgU.MEDIUM||l===o.zgU.DARK?"onDarkBg"+(t&&Object.keys(i.KC).includes(s)?`_${s}`:""):"onLightBg"}`,_=(0,n.Z)(c(),{includeHeaders:d});return a.createElement("div",{className:_.container},t&&a.createElement("div",{"data-test-id":"todo_pane.header_loading"},a.createElement("div",{className:_.header_block1}),a.createElement("div",{className:_.header_block2})),[...Array(4)].map(((e,t)=>{return s=t,a.createElement("div",{key:s,className:_.item_wrapper,"data-test-id":"todo_pane.item_loading"},a.createElement("div",{className:_.checkbox}),a.createElement("div",{className:_.details_container},a.createElement("div",{className:_.long_box}),a.createElement("div",{className:_.short_box}),a.createElement("div",{className:_.short_box})));var s})))}},83247:e=>{"use strict";e.exports={className:{default:{menu:"P_3Y3Gk"}},_key:"Z1pTnSB"}},14989:e=>{"use strict";e.exports={className:{default:{container:"F_N W_3vpWV",item_wrapper:"D_F P_1e3HE7 m_Z14vXdP",checkbox:"ah_Z1tF3s4 W_6FIA H_6FIA e_fFR q_ZpQYvz",details_container:"ah_Z1tF3s4 em_N Q_6Fd5 E_fq7",long_box:"H_6Eb4 e_fq7 q_ZpQYvz",short_box:"W_e5X H_6Eb4 Y_6Eb4 e_fq7 q_ZpQYvz",header_block1:"H_73HH",header_block2:"z_Z14vXdP m_wdeV2 H_72FG"},"includeHeaders-true_and_onLightBg":{container:"q_ZkbNhI"},"includeHeaders-false_and_onDarkBg":{container:"q_n",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg":{container:"q_ZS20V7",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_NIGHT_LANDSCAPE":{container:"I_cOYF6",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_ROADTRIP":{container:"I_1iaDt1",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUNSET_AUSSIE":{container:"I_2woj1H",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_LIGHTHOUSE":{container:"I_t5YMW",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SPRING":{container:"I_ZgFtst",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_WINTER":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUMMER":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_GALAXY":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_FALL":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_WESTERN":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"},"includeHeaders-true_and_onDarkBg_SUNSET":{container:"I_ZGiXN8",item_wrapper:"m_2vTbMf",checkbox:"q_ak5jA",long_box:"q_ak5jA",short_box:"q_ak5j5",header_block2:"z_1iPdY0 m_2vTbMf"}},_key:"Z8PXWJ"}},79645:(e,t,s)=>{"use strict";s.d(t,{c:()=>n,h:()=>r});var a=s(82159);const n=e=>e===a.wq.COMPLETED?a.wq.NEEDS_ACTION:a.wq.COMPLETED,r=(e,t)=>{const{summary:s,description:a,dueOn:n,reminders:r}=t;return{dueOn:n,description:a,completedOn:e.completedOn,priority:e.priority,reminders:r,externalRef:e.externalRef,status:e.status,summary:s,folderId:e.folderId}}},27015:(e,t,s)=>{"use strict";s.d(t,{$i:()=>S,DK:()=>E,FQ:()=>A,GK:()=>d,LX:()=>I,U9:()=>T,Wc:()=>_,cT:()=>c,ct:()=>l,iJ:()=>C,j8:()=>i,v$:()=>u,v7:()=>p,x$:()=>m});var a=s(99095),n=s(37422),r=s(19341),o=s(76531);const i=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},l=e=>{if(!e)return{};const t=new Date(e),s=new Date,a=t.getTime()-s.getTime();return{days:Math.ceil(a/864e5),hours:Math.ceil(a/36e5)}},c=((0,a.defineMessages)({pageDescription:{id:"top_of_inbox_card_group.settings_page.description",defaultMessage:"See important updates highlighted for this account"},packageTrackingTitle:{id:"top_of_inbox_card_group.settings_package_tracking.title",defaultMessage:"Package Tracking"},packageTrackingDescription:{id:"top_of_inbox_card_group.settings_package_tracking.description",defaultMessage:"Shipment confirmations & updates"},aftershipTitle:{id:"top_of_inbox_card_group.settings_aftership.title",defaultMessage:"Package Auto-Tracking"},aftershipDescriptionOne:{id:"top_of_inbox_card_group.settings_aftership.description_one",defaultMessage:"Status updates from deilvery couriers"},aftershipDescriptionTwo:{id:"top_of_inbox_card_group.settings_aftership.description_two",defaultMessage:"Powered by"}}),(0,a.defineMessages)({title:{id:"top_of_inbox_card_group.index.title",defaultMessage:"Your inbox highlights"},scrollRight:{id:"top_of_inbox_card_group.index.title.scroll_right",defaultMessage:"Scroll Right"},scrollLeft:{id:"top_of_inbox_card_group.index.title.scroll_left",defaultMessage:"Scroll Left"}})),d=(0,a.defineMessages)({moreButtonTitle:{id:"top_of_inbox_card_group.menu.more_button_title",defaultMessage:"Top of Inbox Options"},hideAll:{id:"top_of_inbox_card_group.menu.hide_all",defaultMessage:"Hide all"},cardSettings:{id:"top_of_inbox_card_group.menu.card_settings",defaultMessage:"Card settings"},settings:{id:"top_of_inbox_card_group.menu.settings",defaultMessage:"Settings"}}),_=(0,a.defineMessages)({ViewMessageText:{id:"top_of_inbox_card_group.details_view_message.text",defaultMessage:"View message"},VisitSiteText:{id:"top_of_inbox_card_group.details_visit_site.text",defaultMessage:"Visit site"},HideStringText:{id:"top_of_inbox_card_group.details_hide_card.text",defaultMessage:"Hide"},AutoTrackTitleText:{id:"top_of_inbox_card_group.details_where_shipment_title.text",defaultMessage:"Get package tracking updates"},AutoTrackDescriptionText:{id:"top_of_inbox_card_group.details_where_shipment_description.text",defaultMessage:"We do this by sharing your package tracking number with our partner, Aftership. Data shared is subject to their Privacy Policy"},AutoTrackButtonText:{id:"top_of_inbox_card_group.details_where_shipment_button.text",defaultMessage:"Enable Auto-Tracking"},AutoTrackPrivacyText:{id:"top_of_inbox_card_group.details_privacy_policy.text",defaultMessage:"Privacy Policy"}}),E=(0,a.defineMessages)({ProcessingTitle:{id:"top_of_inbox_card_group.package_processing.title",defaultMessage:"Your package is being processed"},InTransitTitle:{id:"top_of_inbox_card_group.package_in_transit.title",defaultMessage:"Your package is on its way"},InTransitDescription:{id:"top_of_inbox_card_group.package_in_transit.description",defaultMessage:"Your package is arriving"},OutForDeliveryTitle:{id:"top_of_inbox_card_group.package_out_for_delivery.title",defaultMessage:"Your package is out for delivery"},DeliveredTitle:{id:"top_of_inbox_card_group.package_delivered.title",defaultMessage:"Your package has been delivered"},DeliveredDescription:{id:"top_of_inbox_card_group.package_delivered.description",defaultMessage:"Delivery with tracking number #"},PickupTitle:{id:"top_of_inbox_card_group.package_pickup.title",defaultMessage:"Your package is available for pickup"},TargetText:{id:"top_of_inbox_card_group.package_product.text",defaultMessage:"Product"},ExpectedText:{id:"top_of_inbox_card_group.package_expected.text",defaultMessage:"Expected"},TrackingNumberText:{id:"top_of_inbox_card_group.package_tracking_number.text",defaultMessage:"Tracking Number"},TrackText:{id:"top_of_inbox_card_group.package_track.text",defaultMessage:"Track"}}),u={[n.TS.InfoReceived]:E.InTransitTitle,[n.TS.InTransit]:E.InTransitTitle,[n.TS.PickupAvailable]:E.PickupTitle,[n.TS.Delivered]:E.DeliveredTitle,[n.TS.OutForDelivery]:E.OutForDeliveryTitle,[n.TS.OrderProcessing]:E.ProcessingTitle},m=(0,a.defineMessages)({ExpectedInText:{id:"top_of_inbox_card_group.time.expected_in",defaultMessage:"Expected in"}}),S={InTransit:{imageName:"package_truck",senderIconSize:r.u8.XS,leftOffset:14,bottomOffset:36,imageWidth:60,imageHeight:43,imagePaddingRight:4,imagePaddingTop:5},OutForDelivery:{imageName:"package_truck",senderIconSize:r.u8.XS,leftOffset:14,bottomOffset:36,imageWidth:60,imageHeight:43,imagePaddingRight:4,imagePaddingTop:5},Delivered:{imageName:"package_delivered",senderIconSize:r.u8.XS,leftOffset:22,bottomOffset:24,imageWidth:60,imageHeight:43,imagePaddingRight:4,imagePaddingTop:5},PickupAvailable:{imageName:"package_pickup",senderIconSize:r.u8.XXS,leftOffset:42,bottomOffset:27,imageWidth:60,imageHeight:43,imagePaddingRight:4,imagePaddingTop:5},MoneyBack:{imageName:"money_back",senderIconSize:r.u8.XS,leftOffset:16,bottomOffset:36,imageWidth:30,imageHeight:30,imagePaddingRight:10,imagePaddingTop:9}},p={InTransit:{imageName:"package_truck",senderIconSize:r.u8.NOBLE_TOI_EXPAND,leftOffset:28,bottomOffset:60,moreButtonLeftOffset:96,moreButtonBottomOffset:116,imageWidth:112,imageHeight:82,imagePaddingRight:10,imagePaddingTop:9},OutForDelivery:{imageName:"package_truck",senderIconSize:r.u8.NOBLE_TOI_EXPAND,leftOffset:28,bottomOffset:60,moreButtonLeftOffset:96,moreButtonBottomOffset:116,imageWidth:112,imageHeight:82,imagePaddingRight:10,imagePaddingTop:9},Delivered:{imageName:"package_delivered",senderIconSize:r.u8.NOBLE_TOI_EXPAND,leftOffset:42,bottomOffset:40,moreButtonLeftOffset:96,moreButtonBottomOffset:116,imageWidth:112,imageHeight:82,imagePaddingRight:10,imagePaddingTop:9},PickupAvailable:{imageName:"package_pickup",senderIconSize:r.u8.XS,leftOffset:84,bottomOffset:38,moreButtonLeftOffset:98,moreButtonBottomOffset:104,imageWidth:112,imageHeight:82,imagePaddingRight:10,imagePaddingTop:9}},C={[n.TS.InfoReceived]:0,[n.TS.InTransit]:.5,[n.TS.PickupAvailable]:.75,[n.TS.Delivered]:1,[n.TS.OutForDelivery]:.75,[n.TS.OrderProcessing]:.25},A={BRAND_HEAD_LOGO:"brand_head_logo",BRAND_HEAD_NAME:"brand_head_name",VISIT_SITE:"visit_site"},T=300,I=(o.Kinds.EYE_SLASH,o.Sizes.S,o.Kinds.SETTINGS,o.Sizes.S,{Title:{id:"top_of_inbox_card_group.yai_receipt.title",defaultMessage:"Ask {brandName} for money back",description:"Title for TOI YAI Receipt, to apply promocode or giftcard"},DescriptionPromoCode:{id:"top_of_inbox_card_group.yai_receipt.description_promo_code",defaultMessage:"Try to use your promo code on your recent purchase",description:"Description for TOI YAI Receipt, to draft a message to apply promocode"},DescriptionGiftCard:{id:"top_of_inbox_card_group.yai_receipt.description_gift_card",defaultMessage:"Try to use your gift card on your recent purchase",description:"Description for TOI YAI Receipt, to draft a message to apply giftcard"},PromoCodeBody:{id:"top_of_inbox_card_group.yai_receipt.promo_code_body",defaultMessage:"A {brandName} promo code was found in your inbox.",description:"Body for TOI YAI Receipt, to apply promocode on order"},GiftCardBody:{id:"top_of_inbox_card_group.yai_receipt.gift_card_body",defaultMessage:"A {brandName} gift card was found in your inbox.",description:"Body for TOI YAI Receipt, to apply giftcard on order"},Body:{id:"top_of_inbox_card_group.yai_receipt.body",defaultMessage:"Create a request to see if it can be used on your recent purchase.",description:"Body for TOI YAI Receipt, to apply promocode or giftcard on order"},PromoCodeCardTitle:{id:"top_of_inbox_card_group.yai_receipt.promo_code_card_title",defaultMessage:"Promo code in your email",description:"Promo Code Card Title"},GiftCardTitle:{id:"top_of_inbox_card_group.yai_receipt.gift_card_title",defaultMessage:"Gift card in your email",description:"Gift Card Title"},Expires:{id:"top_of_inbox_card_group.yai_receipt.expires",defaultMessage:"Expires",description:"Discount expires date"},ReceivedOn:{id:"top_of_inbox_card_group.yai_receipt.received_on",defaultMessage:"Received on",description:"Discount Received on date"},ReceiptCardTitle:{id:"top_of_inbox_card_group.yai_receipt.receipt_card_title",defaultMessage:"Your recent {brandName} purchase",description:"Receipt Card Title"},CreateRequestButton:{id:"top_of_inbox_card_group.yai_receipt.create_request_button",defaultMessage:"Create request",description:"Create Request Button to draft an email to apply discount on order"},CreateRequestFailed:{id:"top_of_inbox_card_group.yai_receipt.create_request_failed",defaultMessage:"Request creation failed. Try again.",description:"Create Request to draft an email to apply discount on order failed"},NumberMore:{id:"top_of_inbox_card_group.yai_receipt.title",defaultMessage:"and {numberOfItems} more",description:"Text to display number of items purchashed not displayed in the receipt"},ViewDetails:{id:"top_of_inbox_card_group.yai_receipt.view_details",defaultMessage:"View details",description:"Text to View Details of the receipt purchase"},HideDetails:{id:"top_of_inbox_card_group.yai_receipt.hide_details",defaultMessage:"Hide details",description:"Text to Hide Details of the receipt purchase"}})},85650:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_EZ je_eo6",cardContainer:"D_F ek_EZ dh_6DEy o_h X_eo6 N_eo6",scrollArrow:"s_6Mbr je_6EqO cdPFi_Z281SGl",popUpContainer:"T_0 L_0 p_a ab_CI gl_CI Z_tf D_F W_3mS5W H_3mS5H k_w P_hbs1H ek_EZ cZW7ROP_n",popUpCardContainer:"D_F P_1EudUu dh_eTB o_h cZW7ROP_n",closeButton:"W_6EGz H_6EGz cdPFi_ZkbNhI E_6NIX ac_CI p_a T_6Mbr"},isMessageListItemSelected:{container:"O_cMo"},isDarkThemeMode:{scrollArrow:"cdPFi_ZkbNhI"},isInMobile:{cardContainer:"dh_eTB X_6LEV N_6LEV Z_N",backgroundContainer:"q_2udmCc W_6D6F H_7yHc p_a T_0"},isMobileCardsOpen:{popUpContainer:"cZW7ROP_A"}},_key:"2nB5Ep"}},17983:e=>{"use strict";e.exports={className:{default:{previewShadowContainer:"H_7jIs",previewContainer:"D_F gl_FM H_7bcz b_Z12rHwq e_fq7 j_22SMn6 I_ZkbNhI P_1wT03B",textContainer:"D_F ek_BB ac_C P_Z1J9j7h a_3s9k1",title:"A_6EqO u_b C_Z281SGl o_h J_x G_e r_BN",description:"A_6Eb4 C_Z281SGl o_h J_x G_e r_BN",image:"W_7iGr H_73rW P_1LSwbh ac_C X_eo6",closeButton:"W_6LEV H_6LEV b_Z12rHwq e_6Eb4 cdPFi_Z281SGl I_ZkbNhI p_a T_1zlpEt O4_cMr",fromIcon:"p_R",popUp:"C_Z281SGl e_fq7 D_F gl_FM ek_BB",moreButtonContainer:"p_R",moreButton:"cdPFi_Z1VRqsb W_6Nds H_6Nds"},isHovered:{previewContainer:"e_1osmbG cn_1FFlml",detailsContainer:"p_R Z_7G9R H_CD lv_Z1TB7fC I_ZkbNhI cg_FJ l_ZnMIOa cn_VSCxV e_Z27pUV5 j_Z2oOQkI"},isDarkThemeMode:{previewContainer:"I_Z29a28o b_2lryo4",detailsContainer:"I_Z29a28o l_Z255AHB",title:"C_ZkbNhI",description:"C_ZkbNhI",closeButton:"I_Z26WDzc l_Z255AHB cdPFi_ZkbNhI"},isMobilePreview:{previewShadowContainer:"H_3n1yN",previewContainer:"H_7Ig6 P_0",image:"W_3n1yN H_7zdH",title:"A_6EGz J_N",textContainer:"P_ZFQV7v"},isMobilePreviewDarkTheme:{previewContainer:"I_Z29dUYT b_2lryo4 P_0"},isMobileExpandView:{container:"H_CD cZW7ROP_A",previewShadowContainer:"H_7I0l",previewContainer:"D_F gl_FM H_3mS2U I_ZkbNhI e_1osmbG cn_1FFlml P_0",textContainer:"P_ZFQV7v",title:"A_6EGz J_N",description:"A_6Eb4 C_Z281SGl o_h J_x G_e",image:"W_3n1yN H_7zdH",detailsContainer:"I_ZkbNhI cg_FJ l_ZnMIOa cn_VSCxV e_Z27pUV5 o_A K_7s2n"},isMobileExpandViewDarkTheme:{container:"H_CD cZW7ROP_A",previewShadowContainer:"H_7I0l",previewContainer:"D_F gl_FM H_3mS2U e_1osmbG cn_1FFlml I_Z29dUYT b_2lryo4 P_0",textContainer:"P_ZFQV7v",title:"C_ZkbNhI A_6EGz J_N",description:"A_6Eb4 C_ZkbNhI o_h J_x G_e",image:"W_3n1yN H_7zdH",detailsContainer:"cg_FJ cn_VSCxV e_Z27pUV5 o_A K_7s2n I_Z29dUYT l_Z255AHB"}},_key:"Z1deejI"}},45310:e=>{"use strict";e.exports={className:{default:{container:"K_dm5 lv_Z2sbaV7 o_h",belowLineContainer:"P_ZXLj9S D_F ek_BB c1D3vq7_fq7",divideLine:"c1tVyGo_0 cZr1fni_0 Q_6EGz E_6EGz cg_FJ l_ZpQYvz cn_3iz8f",subTitle:"C_Z1TsNbA r_BN",primaryButton:"M_0",subText:"o_h G_e D_ZS1uoi ca8c02_O cZwJqdT_Z2lir11 r_BN",linkText:"C_Z29WjXl r_P o_h G_e D_ZS1uoi ca8c02_O cZwJqdT_Z2lir11 C4_Z2chSgW r4_P S4_U",buttonInExpand:"H_6TFj D_F gl_C ab_C i_N I4_Z2chSgW",buttonInExpandViewMessage:"H_6TFj D_F gl_C ab_C C4_Z2chSgW l4_Z2chSgW",expandTimelineContainer:"D_F gl_FM I_ZnIF8Y je_1HG1nN jb_1HO9Lb m_ZkbNhI U_dBP",lastExpandTimelineContainer:"D_F gl_FM I_ZnIF8Y je_1HG1nN jb_1HO9Lb m_ZkbNhI U_dBP e_Z27pUV5",expandTimelineLeftContainer:"X_fam D_F ab_CI gl_C ek_BB",expandTimelineRightContainer:"N_fam ac_C",expandTimelineSubTitle:"C_Z1TsNbA A_6Eb4",expandTimelineLocationText:"A_6EGz o_h G_e",expandTimelineSubText:"A_6Eb4 t_r o_h G_e",blueCircle:"W_6DEy H_6DEy I_Z2aVTcY e_e5X",blueLine:"H_eo6 I_Z2aVTcY Y_e8l p_R R_dBP",greyLine:"H_eo6 I_ZtwOFC Y_e8l p_R L_dBP",greyCircle:"W_fam H_fam b_Z1APXTY l_ZtwOFC I_ZkbNhI e_e5X Y_Z1Q2vVQ",truckImage:"W_6Mbr H_6LEV Y_69bz P_18qSRe",timelineContainer:"I_ZnIF8Y P_Z3NB4K e_fq7 U_dBP",timelineLineContainer:"D_F",timelineBottomContainer:"D_F gl_FM",timelineLocationText:"A_6LEV o_h G_e",timelineLeftContainer:"X_dBP",timelineRightContainer:"ac_C",progressCheckMark:"e_e5X I_Z2aVTcY W_6LEV H_6LEV D_F Y_1zBHcu",contactContainer:"D_F ab_C",brandName:"Q_6DEy E_6DEy H_6LEV o_h u_b r_P",visitSiteButtonContainer:"Q_A",visitSiteButton:"W_7sfl H_6MGW P_1Eu6qC i_N A_6Eb4 l_ZpQYvz C4_Z2chSgW l4_Z2chSgW",brandImage:"W_6TFj H_6TFj e_e5X r_P",xavatarContainer:"r_P",hideCardTextButton:"C_Z29WjXl A_6EGz u_e69 ac_C W_7aVO H_6NIX D_F ab_C gl_C",autoTrackContainer:"D_F ek_BB c1D3vq7_6DEy t_C I_ZnIF8Y P_1e3H8B e_fq7 U_dBP",autoTrackTitle:"A_6FIA u_e69",autoTrackDescription:"A_6EGz",autoTrackButton:"e_72FG H_6VdP u_e69 D_F gl_C ab_C M_ZuD5bF A_6EGz",autoTrackPrivacy:"D_X S_n C_Z29WjXl",cardsContainer:"D_F ek_BB c1D3vq7_fq7 jb_fq7 r_P",cardContainer:"I_ZnMIOa P_Z3NB4K e_fq7",cardHeader:"C_Z1YRXYn jb_dRA A_6Eb4 i_6Fd5",cardTextContainer:"o_h",cardText:"A_6EGz J_x o_h G_e W_6D6F",receiptDetail:"D_F dh_fq7",brandLogo:"W_6UbO H_6UbO im_BE",belowLineContainerReceipt:"P_1C8dMJ D_F ek_BB c1D3vq7_fq7",itemContainer:"D_F",itemText:"A_6EGz J_x o_h G_e",errorContainer:"D_F dh_fq7 ab_C",description:"A_6EqO P_3gIMd r_P",requestButton:"M_3gIMd H_6TFj D_F gl_C ab_C i_N I4_Z2chSgW",sellerImage:"je_dRA"},renderAll:{container:"K_3A8F0"},isDarkThemeMode:{belowLineContainer:"I_Z29a28o",divideLine:"l_Z255AHB",subText:"C_ZkbNhI",brandName:"C_ZkbNhI",buttonInExpand:"I_ak5jA l_T I4_ak5k6 l4_T",buttonInExpandViewMessage:"I_T C_ZkbNhI l_ZkbNhI I4_a0xJ8 C4_ZkbNhI l4_ZkbNhI",visitSiteButton:"I_T l_ZkbNhI C_ZkbNhI I4_a0xJ8 l4_ZkbNhI C4_ZkbNhI",timelineContainer:"I_Z2a61Ss",timelineLocationText:"C_ZkbNhI",linkText:"C_Z2bg7IA",expandTimelineSubText:"C_ZkbNhI",expandTimelineLocationText:"C_ZkbNhI",lastExpandTimelineContainer:"I_Z2a61Ss",expandTimelineContainer:"I_Z2a61Ss",blueLine:"I_Z2bg7IA",blueCircle:"I_Z2bg7IA",cardText:"C_ZkbNhI",cardContainer:"I_Z2a61Ss",description:"C_ZkbNhI",itemText:"C_ZkbNhI",cardHeader:"C_Z1TsWug",belowLineContainerReceipt:"I_Z29a28o",requestButton:"I_Z2bg7IA"},expandTimeline:{timelineContainer:"e_1osmbG"},heightFitContent:{container:"K_CD"},isMobileExpandView:{container:"K_CD",belowLineContainer:"c1D3vq7_6Fd5 P_Z1sQnkp",buttonInExpand:"e_72FG H_6VdP A_6EGz I4_Z29WjXl",subTitle:"A_6Eb4",subText:"A_6EGz",brandName:"A_6EGz",visitSiteButton:"e_72FG H_6MGW cn_dRA A_6Eb4 C4_Z29WjXl l4_ZpQYvz",buttonInExpandViewMessage:"e_72FG H_6VdP A_6EGz",linkText:"A_6EGz C4_Z29WjXl S4_n"},isMobileExpandViewDarkTheme:{container:"K_CD",belowLineContainer:"c1D3vq7_6Fd5 P_Z1sQnkp",divideLine:"l_Z255AHB",subText:"C_ZkbNhI A_6EGz",brandName:"C_ZkbNhI A_6EGz",buttonInExpand:"I_Z2bg7IA l_Z2bg7IA e_72FG H_6VdP C_Z26WDzc I4_Z2bg7IA",buttonInExpandViewMessage:"I_Z29dUYT C_Z2bg7IA l_Z255AHB e_72FG H_6VdP",visitSiteButton:"I_Z29dUYT l_Z2bg7IA C_Z2bg7IA e_72FG H_6MGW cn_dRA C4_Z2bg7IA l4_Z2bg7IA I4_Z29dUYT",timelineContainer:"I_Z2a61Ss",timelineLocationText:"C_ZkbNhI",linkText:"C_Z2bg7IA C4_Z2bg7IA S4_n",expandTimelineSubText:"C_ZkbNhI",expandTimelineLocationText:"C_ZkbNhI",lastExpandTimelineContainer:"I_Z2a61Ss",expandTimelineContainer:"I_Z2a61Ss",blueLine:"I_Z2bg7IA",blueCircle:"I_Z2bg7IA",hideCardTextButton:"C_Z2bg7IA",autoTrackContainer:"I_Z2a61Ss",autoTrackTitle:"C_ZkbNhI",autoTrackDescription:"C_ZkbNhI",autoTrackButton:"I_Z2bg7IA l_Z2bg7IA C_Z2a61Ss",autoTrackPrivacy:"C_Z2bg7IA"}},_key:"Z1k10eo"}},80717:e=>{"use strict";e.exports={className:{default:{container:"H_6UbO k_w X_fq7 c1AVi7a_73HH c1AVi73_6FsP c1AVi7H_6LEV A_6EqO u_b C_Z1YRXYn D_F ab_C gl_FM",menuContainer:"Q_fq7 E_6LEV I_T cdPFi_Z1VRqsb cdPFi4_Z29WjXl r_P",menu:"je_fq7 jb_fq7 W_A H_A a_3v1qi",menuOption:"r_P D_F cZW7ROP_A je_eo6 jb_eo6 X_6Fd5 N_6Fd5 I4_Z1gjdjJ I3_Z1gjdjJ",menuOptionText:"ix_AS"},leftPadded:{container:"X_6MGW"},isMessageListItemSelected:{container:"O_cMo"},isDarkThemeMode:{container:"C_ZkbNhI",menuContainer:"cdPFi_ZkbNhI"}},_key:"Zr4Kef"}},52896:(e,t,s)=>{"use strict";s.d(t,{aI:()=>o,cS:()=>r,tl:()=>n});var a=s(95406);const n={ENABLED:"enabled",SELECTED:"selected",ADDING:"adding",END_DATE:"endDate",START_DATE:"startDate",MSG_BODY:"messageBody",DOMAIN_ONE:"domainOne",DOMAIN_TWO:"domainTwo",DOMAIN_MSG_BODY:"domainMessageBody",DOMAIN_ENABLED:"domainResponseEnabled"},r=(0,a.gP)(["PREVIEW","EDITOR"]),o=(0,a.gP)(["SAVE","SWITCH_ON","SWITCH_OFF","DELETE"])},95075:e=>{"use strict";e.exports={className:{default:{yaiAnswerContainer:"m_Z29KkLb",yaiAnswerCard:"P_23vmDY M_6LEV q_ZnsmyK e_fq7 u_dPo",yaiHeader:"D_F ek_EZ gl_FM",yaiAnswerHeader:"A_6Eb4 i_6EqO C_Z1VRqsb",yaiAnswerContent:"Y_dRA A_6Fd5 i_6UbO C_Z281SGl J_EP",feedbackImgContainer:"D_F",feedbackImgUp:"D_X r_P",feedbackImgDown:"D_X Q_6Fd5 r_P",feedbackImg:"W_6LEV H_6LEV"},isOnDarkBackground:{yaiAnswerCard:"q_a0xtn",yaiAnswerHeader:"C_Z1VRqsb",yaiAnswerContent:"C_ZkbNhI"}},_key:"Zg2DxA"}},88941:e=>{"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C H_3n1yN W_q P_etuyJ M_1e3Jso k_w e_fq7 j_Z1Mny5b A_6DEy u_eai i_6Fd5 C_Z1TsNbA",answerContainer:"D_F ek_BB gl_C F_N je_6DEy",answer:"ah_Z1tF3s4 U_6DEy W_6D6F H_eTB q_ZnMIyp e_3mS2U",shortAnswer:"ah_Z1tF3s4 W_e5X H_eTB q_ZnMIyp e_3mS2U"}},_key:"6oDa0"}},20289:(e,t,s)=>{"use strict";s.d(t,{FZ:()=>c,GQ:()=>o,wn:()=>d,yw:()=>i,zq:()=>l});var a=s(95406),n=s(45697),r=s.n(n);let o,i,l;!function(e){e.POWER="power",e.SAVER="saver"}(o||(o={})),function(e){e.V1="YPMP_V1",e.V2="YPMP_V2"}(i||(i={})),function(e){e.V1="YPT_V1"}(l||(l={}));const c=r().oneOf([...(0,a.VO)(o),...(0,a.VO)(i),...(0,a.VO)(l)]),d={[o.POWER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.271635907;dc_trk_aid=464059855;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[o.SAVER]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23741416.283029158;dc_trk_aid=473799087;dc_trk_cid=129709479;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23741416.283029158;dc_trk_aid=473799087;dc_trk_cid=129709479;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[i.V1]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.281390073;dc_trk_aid=473640483;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.281390073;dc_trk_aid=473640483;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[i.V2]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.281390070;dc_trk_aid=473640483;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.281390070;dc_trk_aid=473640483;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"},[l.V1]:{redirectUrl:"https://ad.doubleclick.net/ddm/trackclk/N360801.1913355YAHOOADMANAGER/B23644564.287378169;dc_trk_aid=464752150;dc_trk_cid=127172993;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}",impressionTracker:"https://ad.doubleclick.net/ddm/trackimp/N360801.1913355YAHOOADMANAGER/B23644564.287378169;dc_trk_aid=464752150;dc_trk_cid=127172993;ord=[timestamp];dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755}?"}}},41546:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});const a=JSON.parse('{"q":"https://s.yimg.com/nq/nr/"}');var n=s(41143),r=s.n(n),o=s(88913);const i=JSON.parse('{"/img/account_providers_icons_1x.png":"/img/account_providers_icons_1x_P55HbPmKaxXqJHrG4Xnfltczyl3n9P_NKsTlePYd0FA_v1.png","/img/account_providers_icons_2x.png":"/img/account_providers_icons_2x_lK194L8OJPZoz9BnTlusq9T6l5hPDxJBjRw9wJuoyyo_v1.png","/img/account_sources_1x.png":"/img/account_sources_1x_-HDux7J7L_BPmj5OEG8SBOA6sRe0Gi8_X_ZvFVYgkq8_v1.png","/img/account_sources.png":"/img/account_sources_yLP-ZtO9UJGe8JShBCwpJp_TSS7sKdQm2_rmryK8dGU_v1.png","/img/accounts.png":"/img/accounts_L-_z68mCqroMbjcHYKiaK27J4YKvK_uI2Kpdrrfe_PQ_v1.png","/img/ad_inbox_right_rail_2x.mp4":"/img/ad_inbox_right_rail_2x_Mv2eyntWO6AJ90MKrkN3paG4nPdGDWhio6mX0id5okM_v1.mp4","/img/adblock_delay_dismiss_cue_1.png":"/img/adblock_delay_dismiss_cue_1_KTnZ0gAX7qnsGEyLBlAdRLXD9vAagdWbXls4LKlExV4_v1.png","/img/adblock_delay_dismiss_cue_2.png":"/img/adblock_delay_dismiss_cue_2_yrmnHStVSEZP-Ytzt76hxpfGorSUu-xwE8XwHt6jgVs_v1.png","/img/adblock_delay_dismiss_cue_3.png":"/img/adblock_delay_dismiss_cue_3_e7aMYR94SIPSf66GDRUwYbwWJ-IP6Auz8KYcRwjweYc_v1.png","/img/adblock_delay_dismiss_cue_4.png":"/img/adblock_delay_dismiss_cue_4_cS8RheCgsgnUvQ-BY74Hkvjep4eeFBP8x9D_FdoO2Tg_v1.png","/img/adblock_to_nodin_thinking_face.png":"/img/adblock_to_nodin_thinking_face_YWojEXZctTDQJFxJ0dWa4RYiTNhszrAHV3QYr85ZA0A_v1.png","/img/adblock_upsell_bg.png":"/img/adblock_upsell_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/adblock_upsell_emoji_v6_1.png":"/img/adblock_upsell_emoji_v6_1_WLyG3xq9nUEeYUAO3nHE1HbpGYkYOrls_l6d3ABQhQg_v1.png","/img/adblock_upsell_emoji_v6_2.png":"/img/adblock_upsell_emoji_v6_2_oIbeGmDMW6y0cAY383TFMJGTekTIKX_6-FoNLFXWnOo_v1.png","/img/adblock_upsell_emoji_v6_step2.png":"/img/adblock_upsell_emoji_v6_step2_CkWQC1YyUboA1Vc6znEatePSU1AK-44zh3OId-v6ZMA_v1.png","/img/adblock_upsell_emoji.png":"/img/adblock_upsell_emoji__RN9CckfFUsO25Eoe41pWyaI4XEMQYxoXNoAT-3DClw_v1.png","/img/adblocker_examples.png":"/img/adblocker_examples_Gm43DPM3v7nk5o1DOGIybbpPMchwyHxLYrFkxMha-xI_v1.png","/img/add_coupon_icon.png":"/img/add_coupon_icon_oJMT2lEm0FLSGTKG-wOr7J7pk46sXXwXvJGIYof50Ck_v1.png","/img/add_item.png":"/img/add_item_Wc8dEOSK1J7GmMAxjdFl8TzTnhuol1AOa2Gg5w_EBFE_v1.png","/img/aim_logo_2x.png":"/img/aim_logo_2x_dzYGrRKkMtoMwIs95FfAfNn33zAHOJGr2vRa1YzRwnI_v1.png","/img/aim_logo.png":"/img/aim_logo_FZdCevRuD1bncY-502CostUE_hQRne7R-Xb5e-Xwv8U_v1.png","/img/aim_thumb.png":"/img/aim_thumb_AOTIKOECloqswzN2Xr0BaAjNJ87qNSOCoKuypKfZC_Y_v1.png","/img/aim_ybar_background.png":"/img/aim_ybar_background_D1OAezwnYVG9hk5-vUwFdO-ymx7KjbVXYBleOekGm8Y_v1.png","/img/all_account_yahoo_mail_landing.svg":"/img/all_account_yahoo_mail_landing_FPOWgUQxcdMjyBnDWuzEp4QVW-k7Sz81KGXU5RqrE-0_v1.svg","/img/android_app_icon_1x.png":"/img/android_app_icon_1x_kvYuJz0HSrXDD0reCa7g48oAR2XdIXEjyKXIebkRZoE_v1.png","/img/android_app_icon_2x.png":"/img/android_app_icon_2x_SkjN9zSMrr6mk53tl379Hysghhj7huF9M5iyjTXMsRg_v1.png","/img/android_app_icon_s_1x.png":"/img/android_app_icon_s_1x_RVBMdv-S7MVEKPjMCU6EVmaSLKb7AtD9nY8eAJuj6OI_v1.png","/img/android_app_icon_s_2x.png":"/img/android_app_icon_s_2x_7edk0637eozP70MsbZFrC7C9l_upRhSWga2MFu6uG-c_v1.png","/img/android_app_icon_s_3x.png":"/img/android_app_icon_s_3x_XI5C3SLvyagyh4_rfXMzV2FqkPImMpmr0XMYHwyQ3jw_v1.png","/img/animation_adblocker.gif":"/img/animation_adblocker_NIgF4WhSu0T_-fDRRiF79muqQYtROpDz46TMcOyi-xY_v1.gif","/img/aol_favicon_alert.ico":"/img/aol_favicon_alert_wef4ditOdfeqSHrMURg5a7w40zFMa3GC85d8QpwfP0A_v1.ico","/img/aol_favicon.ico":"/img/aol_favicon_X4K72kqMi3XmT7NvxZAVLaMBj4ixoZDAaGW24i-jXIk_v1.ico","/img/aol_home_screen_120.png":"/img/aol_home_screen_120_dFXUY07pCDtM8o8xrChSMevSnyL8ZlykJNoeMAOJCqU_v1.png","/img/aol_home_screen_152.png":"/img/aol_home_screen_152_2YHnQoHMCEJO8UJwQWhoa5uheQggDHbSi8WO5okY-2w_v1.png","/img/aol_home_screen_167.png":"/img/aol_home_screen_167_9hrSMAvt--LJh1ZVcNvk-o_DJAovQ-g18svJTwbPnwM_v1.png","/img/aol_home_screen_180.png":"/img/aol_home_screen_180_zpaugB9yJ_BsEPhmP8u5g3TNPmOK3FmxGumIrX_xfv8_v1.png","/img/aol_home_screen_192.png":"/img/aol_home_screen_192_IS67VKNPSTN615mRi4LqIgOIBEMGd3NlofnMJ3vtGT4_v1.png","/img/aol_home_screen_512.png":"/img/aol_home_screen_512_cc5cZovhJTpS-k5FQOFg3zJTQJkU65w9LjXXTB5IS9Q_v1.png","/img/aol_light_2x.png":"/img/aol_light_2x_35QMd7MF0lK2ng0EdLqacqyaXtf40OT0NOEQioP9fpM_v1.png","/img/aol_light.png":"/img/aol_light_n5jUgPnbCA7EWqyzSz_OnPgUa8zdkVqody49A4cFhMA_v1.png","/img/aol_logo_gen_light_2x.png":"/img/aol_logo_gen_light_2x_h8jS_Xa4LAS-avdJbzuhl13BDSLV-LNTrRqqrYWzGNg_v1.png","/img/aol_logo_gen_light.png":"/img/aol_logo_gen_light_X9Yomrk10QS5SpdTd3awn6ZYATVvHG-qtR8hr8vKZws_v1.png","/img/aol_mail_1x.png":"/img/aol_mail_1x_eftp2XphtcTn0LAE3vltnDiujONA38jQsfGgEpQuAa0_v1.png","/img/aol_mail_favicon_2x.png":"/img/aol_mail_favicon_2x_Ro_28NZ_ZgXkUkxfjSvarAK58FHZQ_CLrBn6iPGbpA0_v1.png","/img/aol_mail_favicon_alert_2x.png":"/img/aol_mail_favicon_alert_2x_7MBzPhAcsuLiJu23GEksdxnS5nIKBTSrqAYkx0pVn8c_v1.png","/img/aol_mail_white_1x.png":"/img/aol_mail_white_1x_adI1dz15bHAwDQmhMIEpwxbuQwYGv4njD2RvPZmnb_Y_v1.png","/img/aol_mail_white_2x.png":"/img/aol_mail_white_2x_1W8KXY6m1YIwfEjaQjib5eRdIc0tHZDClKClsmd4HH8_v1.png","/img/aol_seo_page_bg_desktop.png":"/img/aol_seo_page_bg_desktop_WPTYF86z_MjVQzlpyLFdW51d9bLZRLg3V0oY91yqahU_v1.png","/img/aol_seo_page_bg_mobile.png":"/img/aol_seo_page_bg_mobile_FIbY5yCNH4Uo9Zno3-2zNmU7mZI4_7yC23QFv_YMFKw_v1.png","/img/aol_seo_page_logo_desktop.png":"/img/aol_seo_page_logo_desktop_OLQ2VUIGiSPrM_0dzzkg6e7T58z3Gyx-rfqVxFYZqLU_v1.png","/img/aol_seo_page_logo_mobile.png":"/img/aol_seo_page_logo_mobile_-2x08l8bkt6UnlAGwB9Tdtu8-2aPzK1B9KIKAq2EX0c_v1.png","/img/aol_upsell_landscape.png":"/img/aol_upsell_landscape_eA9epPJcg38S_RiJS0THZA6mCKkUh2udTPF3CcQurBM_v1.png","/img/aol_upsell_portrait.png":"/img/aol_upsell_portrait_X6grdqSRAJx0P4njBykhLAD_YIO6mcbGWgb2MYanUUo_v1.png","/img/aol_welcome_illustration_1x.png":"/img/aol_welcome_illustration_1x_TxSef_62C1U39oc6BIiF6GghCQvPlZmrlub7v0JG1_I_v1.png","/img/aol_welcome_illustration_2x.png":"/img/aol_welcome_illustration_2x_7cpmWnw_I2zF6a6rSiqn-tBgHrXnin_AodRg1h3NbCg_v1.png","/img/aoldotcom_logo_2x.png":"/img/aoldotcom_logo_2x_hGLSiYXLHZUIoPPc13M550xJ7QEVKjHZo-fOhbfhgRg_v1.png","/img/aoldotcom_logo.png":"/img/aoldotcom_logo_zEwrujrPe7_n5WQN1emvgAVr8RliZBXlCu-3eisf7AE_v1.png","/img/app_store_badge.png":"/img/app_store_badge_UUkgVHQG_vQM2lkoMq1XrtTpKuQGXbE48ZcbvHJ2rNI_v1.png","/img/att_favicon_alert.ico":"/img/att_favicon_alert_RpV63Fyl8n9w4n2FFuLneeV6-lok0sT4rEkxYSrEIGc_v1.ico","/img/att_favicon.ico":"/img/att_favicon_QAGNhY2L4Jxo6f2PJusGWT1LXuqrMQ6cfMJi2XLQ5rc_v1.ico","/img/basic_mail_icon_sprite_1x.png":"/img/basic_mail_icon_sprite_1x_oFW8x6SqlMJalk6H5iKnDNBdIbnETufeA_AkKgSToFI_v1.png","/img/basic_mail_icon_sprite_2x.png":"/img/basic_mail_icon_sprite_2x_ksOoPQAdWKyHEJeM8_8TSIm6h1sJe86zGRcaAPAzKQk_v1.png","/img/basic_mail_icons.gif":"/img/basic_mail_icons_pFxl4r6Mm2p0KujnMDsGCcMQZIAzGcNN7za3ERSmke4_v1.gif","/img/basic_mail_welcome.png":"/img/basic_mail_welcome_Q_540SWloywy4qAmkCWWUscHAx90KQx9U56pKv1PkzQ_v1.png","/img/basic_mobile_spritesheet_2x.png":"/img/basic_mobile_spritesheet_2x_ySPR1yChLCHrofDdH9BYsfpoMfT66Vmvw16I3_zj624_v1.png","/img/basic_mobile_spritesheet.png":"/img/basic_mobile_spritesheet_C1fl5iH6PzE0gDD51RRnDrPx5l3bgJup64px-OaEZHw_v1.png","/img/blue_line.png":"/img/blue_line_FH-IiGtpw5UXUz94M3RYb_HIpRAmW6pPb7A7c3xbVw0_v1.png","/img/bluetruck_illustration.png":"/img/bluetruck_illustration_j1sDrGqRrbob36TxRcQOCMeO2uj5iqX8BXr0DLG6Pik_v1.png","/img/brand_menu_cue.svg":"/img/brand_menu_cue_S4Tl0ugXJ4bsADUTTYyw4kc8B3ZeeB7f1G_2fFjA_6w_v1.svg","/img/browser_icons.png":"/img/browser_icons_MxiPsV3tT2LQIJebXfJ0G3T5dzweSnKI8Ig-ysWMFCY_v1.png","/img/browser_notification.svg":"/img/browser_notification_RERaE6335mFXF0KEPhUooQ9FT3puBGEwUYUJRHvC3Jk_v1.svg","/img/categorization.png":"/img/categorization_Q2FSNpKG_zPhir0qYPT-b5Vbpdxn3CoNBUoyPAgN1VM_v1.png","/img/check_blue.png":"/img/check_blue_ZeS7cGOKhyFw6NLboKHed6VhUgeG_5v1I0xs0O0ak3w_v1.png","/img/chrome_icn_1x.png":"/img/chrome_icn_1x_j5FlA393X9jvFJ-2fPPaUZ4ngJQBRd4xVS5niVF9QNs_v1.png","/img/chrome_icn_2x.png":"/img/chrome_icn_2x_O9_N6TC5H74Ptto8BBNfqR-Abp5w79ZNodmp5UomZB4_v1.png","/img/cloud_storage_empty_results_2x.png":"/img/cloud_storage_empty_results_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/cloud_storage_empty_results.png":"/img/cloud_storage_empty_results_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/compose_thumbnail.png":"/img/compose_thumbnail_-9IZZa2ABYGc74lvACeTGVgC8VdsKMBM677XjEf9IZM_v1.png","/img/coupon_clipper_onboarding.png":"/img/coupon_clipper_onboarding_CTMmi4bpY_zOpprvSmW2nyd4eoHSL-xIlOJBzVJpXfQ_v1.png","/img/coupon_emptystate_dark.png":"/img/coupon_emptystate_dark_MV-I0e5ez3O4z20-I4MyakXKRDf1NN3VDAswDzcI--Q_v1.png","/img/coupon_emptystate_light.png":"/img/coupon_emptystate_light_qRz70BG0K5hC4SkEctOn4Ca46bZSexD41QtL4nOtS2Q_v1.png","/img/coupons_view_cue.png":"/img/coupons_view_cue_K_c6zOopIo3mveO9vd9XIKmfTMNHOxC_DUhOYUmjQmU_v1.png","/img/deal_image_placeholder.png":"/img/deal_image_placeholder_SWiXZcx1WvrWnGuvXuk7reZqlqHBreEfkM7GXRhQJe4_v1.png","/img/default_shortcuts_brand_logo.png":"/img/default_shortcuts_brand_logo_ff5A4tG0FjTKT9vhzqBMpKlk5_BF_OnUsnuHwVxbDTU_v1.png","/img/desktop_notification_icon_1x.png":"/img/desktop_notification_icon_1x_Rv5kxcMX3RU_DNsJYpm5m6dyrCYjS9ne2Z_rh7cPayk_v1.png","/img/desktop_notification_icon_3x.png":"/img/desktop_notification_icon_3x_hyeOa8eLuUarSAZ1BW1p6y52zCsA520yKCg6fgaOCXQ_v1.png","/img/dialogue_cue_2x.png":"/img/dialogue_cue_2x_YSUyhDQHt9x9cuiApC4-ggaEzfFctQGG9S2uYfSVFlA_v1.png","/img/dialogue_cue.png":"/img/dialogue_cue_RyHGRz4uVmV5wf4znQid_fVuf37TuSd0d6QdiDu2RWc_v1.png","/img/download_yahoo_app_2x.png":"/img/download_yahoo_app_2x_u39QLBh6TQC9x1HHOi1QcjN9FU0KhDst0zcqzxDMleY_v1.png","/img/download_yahoo_app.png":"/img/download_yahoo_app_oqmO2KkkgrUuEAtfNW3SAvHdNQF6LsFSXSZE9kafvlc_v1.png","/img/dropbox.png":"/img/dropbox_aIpQqzKKGLrC4CKw4luAu-f_hELsUqyse0E89s_M9-Q_v1.png","/img/edge_upsell_1x.png":"/img/edge_upsell_1x_6Tkb_bB9cIKh2xFItll6fLZKWBPYqWjFELJluR0w2xA_v1.png","/img/edge_upsell_2x.png":"/img/edge_upsell_2x_5JmemsSUg845AvJfVhS4hyLLbWWeeCBcQdOoUoG4udE_v1.png","/img/edge_upsell_themes_1x.png":"/img/edge_upsell_themes_1x_1DCzsnSOv_3uVT6er0YmlxlPMki2F_npEmQ5sgetwKs_v1.png","/img/edge_upsell_themes_2x.png":"/img/edge_upsell_themes_2x_3-Em7Dp_gQ6qjDPbQH1qW-GMtTaaYzem3QK-5iU8RbY_v1.png","/img/email_organize.jpg":"/img/email_organize_5scdI12Xm11dQJepp-oEg5OfK8OPaqZ21D8XCvimHho_v1.jpg","/img/emoji_cue_bg.png":"/img/emoji_cue_bg_EoRUx_k2jhydCT4smgcz4l_6J2nQGJX-UX-bWI-2Mlo_v1.png","/img/empty_sent_2x.png":"/img/empty_sent_2x_vPnx4_FfjNrbKCAq14H4kw0VxlKJZLPUUUNpx2KZEIQ_v1.png","/img/empty_sent_3x.png":"/img/empty_sent_3x_ARBkm2UVaY_IjZJv455ZF_N6Q1LptdddBZOX4jLyJWU_v1.png","/img/empty_sent.png":"/img/empty_sent_k6QpkysNPMLruhILw9QGDYVqTHNATX34qMum7cxBzCI_v1.png","/img/error_state_1x.png":"/img/error_state_1x_tisd6sOrTP-82CrgzvPzgBjRMB8qgTcH1VVibjHum38_v1.png","/img/error_tos.png":"/img/error_tos_ZZEPtDeR0Yu4bhgIuRmdGSkrCn3YVKFacFGbU64k9CE_v1.png","/img/fall_thumb.png":"/img/fall_thumb_CADQn8Z7hLXGt3MVYDmA1h0WJ4Kt1Uu0VB3XfC_pdis_v1.png","/img/fall.png":"/img/fall_PUcDxETCUWP30H--8yA5gNmyQbZ2IT99hjcM0tbvmco_v1.png","/img/fathers_day_1x.png":"/img/fathers_day_1x__fxQ-f5IZn1w3EGBsc7s0x_TGt_EAj4XZYBnDneVeic_v1.png","/img/fathers_day_2x.png":"/img/fathers_day_2x_N5OfkK8qJ_U3Dks-KwvTaXdsj6Xgo7DV2VoU1yuQnuk_v1.png","/img/fathers_day_3x.png":"/img/fathers_day_3x_wkgPPlc_VGOlgGwfwKOfSU7LcR0X0VetvA4_bCkPBQ4_v1.png","/img/favicon_alert.ico":"/img/favicon_alert_glqyhyfj4L-2eeVl7j86DooTxqtgeP9LXgPfkDkzots_v1.ico","/img/favicon.ico":"/img/favicon_cWDEiZtrqTWONMlAUlZWSgK3G1KMiDm8HXxTSbzD7S8_v1.ico","/img/fbbot_cue.png":"/img/fbbot_cue_iRMNoG7G-QuLMvKoESzciXtjNT7ICtyN-GbGZCWgYaA_v1.png","/img/feature_based_yahoo_mail_landing.svg":"/img/feature_based_yahoo_mail_landing_Y8HK6UEGfDmeFaSUH1GrxALB3iYqdMj9Y2zk523a3Ig_v1.svg","/img/festive_graphic.png":"/img/festive_graphic_wSa49cXEBVS7GUX9z7na4ckVXrblcJ285VKsT0-QD1g_v1.png","/img/filters.png":"/img/filters_TnezpNlnbcdX-3CU95u_kFnmzIv4QRA1ZvNIgUoTCiI_v1.png","/img/finish_onboarding_illustration_2x.png":"/img/finish_onboarding_illustration_2x_nr8Gs7A9PuxEolQRlLSZG_3V0L6vHBI9nVQlXbfaLNU_v1.png","/img/finish_onboarding_illustration_3x.png":"/img/finish_onboarding_illustration_3x_jiscobw3pM1CMoSd2sxa1WTDF95zgb7GmDv6xOZGBYs_v1.png","/img/firefox_logo_1x.png":"/img/firefox_logo_1x_pyA91ETorZddRdAE4w2ysHbXA4gvQ9Kq1hqu5gBLaZo_v1.png","/img/firefox_logo_2x.png":"/img/firefox_logo_2x_NC3wpx5T6ysE0hYwWF9XHgpZr4ujfJ2quB6L5o9hh0U_v1.png","/img/flights_past.png":"/img/flights_past_CyNOwQcYOblw9QRvLSGaPDdPVk1iWUcTxWuHt3oziTg_v1.png","/img/flights_upcoming.png":"/img/flights_upcoming_R8edXrCDfEVaEjXtFtmDvo_S-hM43wj0DaVk8W6oQm0_v1.png","/img/folder_success.png":"/img/folder_success_89SwqSONj6MkPwOIMJ_8QSMFWbhYtreOQEEV8hsClnQ_v1.png","/img/frontier_logo_1x.png":"/img/frontier_logo_1x_Z3YJimz_C2a_-hRCaEXj9I6Q9-jVBpufxXhpmCBA2fk_v1.png","/img/frontier_logo_2x.png":"/img/frontier_logo_2x_-ugGTer5hujVznnPeCM8rMPHyXyGFCssO0ltK14dm9c_v1.png","/img/fuji_icons.min.svg":"/img/fuji_icons.min_zIcz0fyn9R2a4UO2vMZM_EYE52B_-Fnw6Io2kusMluk_v1.svg","/img/galaxy_thumb.png":"/img/galaxy_thumb_7KgsO3hYhUnktqUJbMrj7bNptQrSCf99H-6jnwcp16w_v1.png","/img/galaxy.png":"/img/galaxy_60x-y9uVYqroyfL-YU7gO-RcCSSBGDg0lj2Rjg03RgM_v1.png","/img/gemini_pencil_play.gif":"/img/gemini_pencil_play_pdwmjGHmvlpMSzkHguvmlUhaYaTlUUF8FGUECUSHpww_v1.gif","/img/gemini_pencil_play.png":"/img/gemini_pencil_play_LEUjFFdlfoXu1AtRyMXjFNHYH-ma_MEiSbW7VHddqhU_v1.png","/img/generic_browser_1x.png":"/img/generic_browser_1x_nKwdTNS0YRIa8SR6t9Ed0gkqQ4IQ_WeL5734HOvUnhs_v1.png","/img/generic_browser_2x.png":"/img/generic_browser_2x_5zKlmnrVVc0c_D9HlDjTtYlU1Qp7iM_kciuqbvOW-Ig_v1.png","/img/google_drive.png":"/img/google_drive_yLGuM24tLOKhKFFUDZNZsx_IJMtmH_leguJGlg51kI4_v1.png","/img/google_play_badge.png":"/img/google_play_badge_eEeCt-CKpzY8NIFDJKN4v01DJj45lsoutq0WDgrPotI_v1.png","/img/grey_line.png":"/img/grey_line_Q92ZLQPI9He5PCSC-23ANQ5IkEFfkBsYFQqV41ST0UU_v1.png","/img/grocery.png":"/img/grocery_3QydzQuef8Bp9wkr5WgiuNqwkAuNdYs3hUH2bnbofKo_v1.png","/img/holiday_card_upsell.png":"/img/holiday_card_upsell_FyXBeDc4N2ywlpLGk_JdaI5S85CVbVYuNBrLyqKwnOY_v1.png","/img/home_screen_3g_android_192.png":"/img/home_screen_3g_android_192_pNyMul6a-tp_Bsa3oJdJKhj3Yh6Gd76rDBri0R5ZkZA_v1.png","/img/home_screen_3g_android_512.png":"/img/home_screen_3g_android_512_WBbcBgDUt5CXfEtLs8ZnkscNtEn9sX-nwLb7uZW7fe4_v1.png","/img/home_screen_3g_ios_120.png":"/img/home_screen_3g_ios_120_Su1jpE5yatlevc-68HdApUu_XIY-86IWgJKMQH3m4Wc_v1.png","/img/home_screen_3g_ios_152.png":"/img/home_screen_3g_ios_152_nXICG_VglelSx-HPI6RiCVTygJQ3X1QQyVyor-z5bgU_v1.png","/img/home_screen_3g_ios_167.png":"/img/home_screen_3g_ios_167_rr2F3YvdpjTYjqLGKlv-WfOgOLKsSFgZE_GxS_bSwOs_v1.png","/img/home_screen_3g_ios_180.png":"/img/home_screen_3g_ios_180_MF0E6doar5WJzwy5qgOtSloojsjYXtcEkIOV4lizxsU_v1.png","/img/home_screen_android_192.png":"/img/home_screen_android_192_WmNi3GhPuMwl7j12FdtwEvUi9Pn5G4ChGiD207nj6pQ_v1.png","/img/home_screen_android_512.png":"/img/home_screen_android_512_RwlQw1rkkrOT7SOz_bkHGO-j8otMUWlzNjjhPBUt4m4_v1.png","/img/hotel_search_header.png":"/img/hotel_search_header_YnmEs4MLIgrrsQyCI96cccAux9afLIMLQVTqLClYMlo_v1.png","/img/icon_alert.png":"/img/icon_alert_4edGpSGkF2tW_0NsZphRm0fQQrzluXh2XN1ecBqck5s_v1.png","/img/icon_chrome_extension.png":"/img/icon_chrome_extension_QpU9YJWExetQm45ZnTdvRCgWCD3YZP6CXG_WqbBJSi8_v1.png","/img/icon_chrome1x.png":"/img/icon_chrome1x_Fv_vpVJ_NsCdPw1yb9osg5i9QXdKu_RxNGvhizXEXyo_v1.png","/img/icon_chrome2x.png":"/img/icon_chrome2x_hjPgkXIlrSqgIj1ovLelKZVOnOxE1GIIZHAQQAFRnxc_v1.png","/img/icon_computer_2x.png":"/img/icon_computer_2x_7fsIu292DkoXUco58kN2k0vrIow8_RuJlQ06eVeWQvQ_v1.png","/img/icon_computer.png":"/img/icon_computer_kdnL65qDLOEAbU0YqRHiRc0o2DF5p4KH6hZ9gRpsFgY_v1.png","/img/icon_mail.png":"/img/icon_mail_agvO93tQBLI_iC6kFTtJBDpKWoCqLmGWny_-iBAvKCY_v1.png","/img/illustration_prime_day_3x.png":"/img/illustration_prime_day_3x_nrpz9wiUQfH0Ka24YPzLxeFUkDGzQocDgTrr1ZpSzb8_v1.png","/img/illustration_star.png":"/img/illustration_star_z0i7H8mJu_ok7AmGFFHtngWC7O9zlu5vk-IJopoijrs_v1.png","/img/illustration_subscription_empty2.png":"/img/illustration_subscription_empty2_yOw7ojA3TTPGD7Ab75NM4osDxt2NH8OhHgTaqdz8NSg_v1.png","/img/landshark_close_v2.png":"/img/landshark_close_v2_AVpjHAHXUZf9Iftyq4LOlEiUeGDcqcAj9ekY4wA0vCA_v1.png","/img/landshark_close.png":"/img/landshark_close_U6n9PguTQSJC6JUn4Xeb37kS3i9F5JPY4cqxNyVf13k_v1.png","/img/landshark_coupon_landscape.png":"/img/landshark_coupon_landscape_IUY4vpgMj3M94eNCUvz-Geu2P0jfy4muZ3vu0bEn3L4_v1.png","/img/landshark_coupon.png":"/img/landshark_coupon_xCiPQNjioqXXhEP--XUqNQmaRnXKcaM3I4ppeimheL0_v1.png","/img/landshark_gifs_landscape.png":"/img/landshark_gifs_landscape_UsqidMIM61Rz57DOoSelqh3cKqW1uHEyeD15pbVdoFE_v1.png","/img/landshark_gifs.png":"/img/landshark_gifs_0o-mZAAl65k460lTg0OPTIIIKk00Y3C_rxHCgUEx_q4_v1.png","/img/landshark_hdpi.png":"/img/landshark_hdpi_7fk92LfKb-uR9EGSkGYi8gigvdVqbesapesjgh-9P0I_v1.png","/img/landshark_illustration.png":"/img/landshark_illustration_HvskHpV7VxgzXFqLDwimNBXgoK6JwbGwIM8ljxFlpqY_v1.png","/img/landshark_logo.png":"/img/landshark_logo_ZPJ6baci-MAJ7giw7JGDOC0XVTQIQso1QYgaguvEbw0_v1.png","/img/landshark_mdpi.png":"/img/landshark_mdpi_cO7tb3ckE9-6CAfuomII843yTlcoV-zoIXM5kV5lqlM_v1.png","/img/landshark_notification_landscape.png":"/img/landshark_notification_landscape_TZSCkIr43lJgLFoIvW1Ai7J4ngLEp1CZIUpNtZZ68YY_v1.png","/img/landshark_notification.png":"/img/landshark_notification_4gJ2uhvK7pc7PWRRMfyVC3geFK2iiGXHLcUpHY6RL8I_v1.png","/img/landshark_star_rating.png":"/img/landshark_star_rating_eCQB0KVowZc7vIwHooY2izBCqwVIUU4lkJDmFNEbL4c_v1.png","/img/landshark_tablet.png":"/img/landshark_tablet_iAeyOp29j12mrXba0MvC5i1h_g8l1kqGvBM3EBmekTc_v1.png","/img/landshark_yahoo_app.png":"/img/landshark_yahoo_app_D6V0n59sXZhztrL6xusFx0M2Wz9CHRwrZN2V01ku97g_v1.png","/img/lastpass_passwordsecurity_1x.png":"/img/lastpass_passwordsecurity_1x_7f29Scixf08nUdIo2m_vHgqRN_CagUe-01S-HZin-2Q_v1.png","/img/lastpass_passwordsecurity_2x.png":"/img/lastpass_passwordsecurity_2x_d4sQQYfBjFjAREmL2DCfwKfE7RmEGgDnIjkKcsZGlbA_v1.png","/img/lastpass_tom_gradient_1x.png":"/img/lastpass_tom_gradient_1x_NjH9p79DvDUAfjrLGFEcGaiMxeD9nidVABgJdxXnZQg_v1.png","/img/lastpass_tom_gradient_2x.png":"/img/lastpass_tom_gradient_2x_SCAAsKUBBnN_xyDRJqXWNIYer1zHFf9U0nqGsJi9QwI_v1.png","/img/layout_wand.png":"/img/layout_wand_OHvRAFd9P-QRI4aSOGruVWkkLx4yiN-cCaIwv0_ca6o_v1.png","/img/lighthouse_bg_pattern.jpg":"/img/lighthouse_bg_pattern_ztkAS-ksPw41w2XtQfkua5BS3KnN7Sr_Zf58mtKfdH0_v1.jpg","/img/lighthouse_thumb.png":"/img/lighthouse_thumb_z382L1WLwBrrK7-bwXPaEoLE5xfU_epMdt90xKrU6bo_v1.png","/img/lighthouse.jpg":"/img/lighthouse_QHz_yfrI7m-_9RFVJwDsYfkszSU7xP8KU9A6jdIewUI_v1.jpg","/img/logo_bookingcom.png":"/img/logo_bookingcom_3fXMQKd-syYOHXseyAGh5Cxp--1oIxNH1IbswhITWto_v1.png","/img/logo_lastpass_1x.png":"/img/logo_lastpass_1x_kSfxZ1eQnQgJ4oliptgFp63tCgHgbi1bAVnFFkRfeas_v1.png","/img/logo_lastpass_2x.png":"/img/logo_lastpass_2x_Qu-L-rNdd3tGdSB5QDKsd4By0GZg5Jdv21WSKBJmgwY_v1.png","/img/logo_rakuten_2x.png":"/img/logo_rakuten_2x_54ERFkg8bo32fpabdsQcFk3pmG93seinN1gZ1V3fHLg_v1.png","/img/logo_yahoo_192x192.png":"/img/logo_yahoo_192x192_hEvRfzj-2d0PSvp8Z90y8JbQpKz6itwT1i7wiKCqMfI_v1.png","/img/logo_yahoo_shopping_2x.png":"/img/logo_yahoo_shopping_2x_TbHLD457Eyx5dKFAb8eT63dpbtZ-WINh_xIMWhRKg8A_v1.png","/img/logo_yahoo.png":"/img/logo_yahoo_IIczsErxd2kV7JRfTcBc5G--odfz-V0QHj4u-Rbomqo_v1.png","/img/mail_att_logo_2x.png":"/img/mail_att_logo_2x_4phRzWyGvY0YiZhEUAgQ6gvaYL4PhfzTWonUDWvMLWE_v1.png","/img/mail_att_logo_3x.png":"/img/mail_att_logo_3x_TAtR8Px0Jynztua2PpgnygV2Tl3CSvCrwdy8gS_pHAg_v1.png","/img/mail_att_logo.png":"/img/mail_att_logo_qMQuvmRmZI34fSPc0u2rDdROddX4pyl79occ0PMgFzY_v1.png","/img/mail_envelope_1x.png":"/img/mail_envelope_1x_J77MANXwuG5WKKMpl_yFpGbvLekd1nmnkHlHsUKOgis_v1.png","/img/mail_envelope_3x.png":"/img/mail_envelope_3x_MGttoNigSGT9uRmual8Zy8u-dBthYPMIqoABPrgHIlU_v1.png","/img/mail_landing_page_image_with_new_logo.jpg":"/img/mail_landing_page_image_with_new_logo_YkqvQWCrGfXFMHyHMwqQQFUgJb1t5D9C68O3WhcjjM8_v1.jpg","/img/mail_logo_1_2x.png":"/img/mail_logo_1_2x_cI-LVH1V6LHXXOi_TWx_Oh90XmZEWz36itW2696MBcE_v1.png","/img/mail_logo_1.png":"/img/mail_logo_1_6rp14Eq0ghZ6Xp74QbDJPoTCZWbkSYFZXuKs4MZzWBY_v1.png","/img/mail_onboarding.jpg":"/img/mail_onboarding_H2y-4VyKIfg7TFAcXHaTDGwR7e-ELglSxBXEsumxATg_v1.jpg","/img/mail_plus_logo_color_1x.png":"/img/mail_plus_logo_color_1x_qtaOWFBuDfgadpLkZKF-iQjyhNqGPyffjP1a7fukKMk_v1.png","/img/mail_plus_logo_color_2x.png":"/img/mail_plus_logo_color_2x_78EgvYIPn3fTks2u-KAdnRJRdDjFgSwwZUxA8RRjHBc_v1.png","/img/mail_plus_mobile_sponsored_ad.png":"/img/mail_plus_mobile_sponsored_ad_pOkQvrBC-pkGdZFJZS5QOvjaauFFoBmyJQGy3-YndVQ_v1.png","/img/mail_plus_onboarding_ad_free.png":"/img/mail_plus_onboarding_ad_free_2c2o-FMpi7aCzb5XrriYg5TRPIHgDecBGmCA-mOqkvw_v1.png","/img/mail_plus_onboarding_block_domains.png":"/img/mail_plus_onboarding_block_domains_fN1f3mVyMiHjYylAKJOKewnRIoVnBrR8qPZgcvrFetg_v1.png","/img/mail_plus_onboarding_hide_deals.png":"/img/mail_plus_onboarding_hide_deals_k5MFTsXAOhHAwbUUjBJBJkZ4RxyuB2d5wc4Vueu8izs_v1.png","/img/mail_plus_onboarding_show_deals.png":"/img/mail_plus_onboarding_show_deals_R5gSUTq5XjGDksjB4cRDFVNJJ2eB4TkiuLVR_xsAc9A_v1.png","/img/mail_plus_onboarding_storage.png":"/img/mail_plus_onboarding_storage_OUv_uoWqhX0a5Bz0n7rFn5MkpJXDZBjGQqr80EDwrAg_v1.png","/img/mail_pro_badge.png":"/img/mail_pro_badge_NrUi0sGCJWE0wgTFnqzO23uJ4HGDDYsjNmXj2aC6Mng_v1.png","/img/mail_pro_english_white_1x.png":"/img/mail_pro_english_white_1x_WUNxvidc9LzdwXv3_vWyW5L6-jkExsAZu6qw6efCkUo_v1.png","/img/mail_pro_english_white_2x.png":"/img/mail_pro_english_white_2x_80gnz2BoTdAq8UGtEr4U_vWoMBNdx8FpXt2JmCyaDxY_v1.png","/img/mailpro_purple_barney_1x.png":"/img/mailpro_purple_barney_1x_fi5U__pY9txQj571aY29PS0LnfdJax2U2fTVOvZK_KQ_v1.png","/img/mailpro_purple_barney_2x.png":"/img/mailpro_purple_barney_2x_5MzuraSz9oqEyE307jYmGUQQkVAqk_RAJ5XsCA0a91g_v1.png","/img/mailpro_purple_barney_3x.png":"/img/mailpro_purple_barney_3x_hC5q_er3p1Gx8eQrynv7UAeT_mD-7qHJmoboLXeBZzM_v1.png","/img/mailpro_upsell_desktop_mobile_1x.png":"/img/mailpro_upsell_desktop_mobile_1x_aE2xc7v1GKr_-ZV9FqW1vYzfcPxPV84hdd7cAF7S13w_v1.png","/img/mailpro_upsell_desktop_mobile_2x.png":"/img/mailpro_upsell_desktop_mobile_2x_V8nUTK4RdR5YVu6lqdO7XavVimEf4Yb8fcOffQz0jw8_v1.png","/img/mobile_coupons.png":"/img/mobile_coupons_V3E3RjKNgtR0iiauYDQ9XyVdS9pVx9UUnSTfWXpTu4I_v1.png","/img/mobile_imapin_syncing2x.png":"/img/mobile_imapin_syncing2x_bR5jwHJmxnzVRM6crTPSMLwidYJrYklIvL0WgfwgyDk_v1.png","/img/mobile_imapin_syncing3x.png":"/img/mobile_imapin_syncing3x_EvUxeAl22qh8gCGt_eF7Vv4sqYdCF2n5sYqC1yiDjKI_v1.png","/img/mobile_onboarding_bg_stars.png":"/img/mobile_onboarding_bg_stars_2xtX--sp4HiXM07aDv5vJzq4Z4NLoHkomqwYTvGIL6E_v1.png","/img/mobile_onboarding_compose_1x.png":"/img/mobile_onboarding_compose_1x_EjXTOuob_fCSZKSuxVKCwLcIvPvNUO2Ipehv0zGXJms_v1.png","/img/mobile_onboarding_compose.png":"/img/mobile_onboarding_compose_4cLl3zmICSTH4jXPKGuaorbkspizbmyyKnuww-O-k_M_v1.png","/img/mobile_onboarding_done_1x.png":"/img/mobile_onboarding_done_1x_-uT47Q-NyTBIDun_8Vxd_mJuUMFYfwyUtb4FSKXGFxs_v1.png","/img/mobile_onboarding_done.png":"/img/mobile_onboarding_done_51DgbPijW21w4kp2DGEyybzpRj18zqQZlcLiNQgbpGc_v1.png","/img/mobile_onboarding_folder_list_1x.png":"/img/mobile_onboarding_folder_list_1x_5mISHId2VFJtAW0J3Z11pELS27ntHFPwhpTZQhc0p8M_v1.png","/img/mobile_onboarding_folder_list.png":"/img/mobile_onboarding_folder_list_KDzTo2WrNpKAoJ1IfIWIc0cKTxSBOfLG_Zt6-77MvT4_v1.png","/img/mobile_onboarding_mail_orb_2x.png":"/img/mobile_onboarding_mail_orb_2x_cZXn_8B7iUCCtthwU6aUO1LGJP6SQAXHtAJr5xYcbkw_v1.png","/img/mobile_onboarding_notifications_1x.png":"/img/mobile_onboarding_notifications_1x_tcOMKUUj9a869erJFK73rC2aKDi56ZBNBSeGCfNuLRg_v1.png","/img/mobile_onboarding_notifications.png":"/img/mobile_onboarding_notifications_dyJva6mgEkiSo3mV_ORq6MWcAy40D1S3jGkQAX1ukzg_v1.png","/img/mobile_onboarding_swiping_1x.png":"/img/mobile_onboarding_swiping_1x_CGBS2Eu0kGslSZGZ3CdoGPvDHJD7GnHgU7sQsIQxOAc_v1.png","/img/mobile_onboarding_swiping.png":"/img/mobile_onboarding_swiping_wfTs4-ZA0haWoVsxhZalDBKadur2AH8M0IQg-gxMVHw_v1.png","/img/mobile_onboarding_welcome.png":"/img/mobile_onboarding_welcome_hrXVlNEoojUB8p5CUZVCKBL0yHgbDr3SpxSQsD1Gz48_v1.png","/img/mobile_welcome_illustration_1x.png":"/img/mobile_welcome_illustration_1x_hKLG47N4DC6tc_caZcFDTalaaYx-dczDy1Es55sYVpk_v1.png","/img/mobile_welcome_illustration_2x.png":"/img/mobile_welcome_illustration_2x_ZH21RSmQVf2hCoJh5UtDaT9Lft5kR2BB7x4oISThNzY_v1.png","/img/moms_day_upsell.jpg":"/img/moms_day_upsell_lZzde7TsuXmCSzsh7QkZd7cvcRB04nL3KkEBn5XfAwE_v1.jpg","/img/money_envelope_and_cc_illustration_2x.png":"/img/money_envelope_and_cc_illustration_2x_jYhpvA0XTaCYaCv_buwfoo5jxU65DiEdtGZioQch5TU_v1.png","/img/mothers_day_upsell_image_3x.png":"/img/mothers_day_upsell_image_3x_VipdEHREnzjBFl2ZDRkzbUmTKNVF1yWcHp88BmBwabI_v1.png","/img/new_mail_logo_2x.png":"/img/new_mail_logo_2x_gRbGANwYKnc_6i_TcodYanlu_fDW6LN69QPgVPanaW4_v1.png","/img/new_mail_logo_3x.png":"/img/new_mail_logo_3x_DldeomHszDuOvOg4xqUSpOVglp36f79CLfaFGUwASBE_v1.png","/img/new_mail_logo.png":"/img/new_mail_logo_4tsCfiVuKTClQiNqaPVlWmZu-PLOwfqao407_tlZcYQ_v1.png","/img/new_user_onboarding_personalize_inbox_asset_2x.png":"/img/new_user_onboarding_personalize_inbox_asset_2x_OZQuWH5m-SGXT1p0WIRzRLekPavU-6emTp565qkooVs_v1.png","/img/new_user_onboarding_qr_test1.png":"/img/new_user_onboarding_qr_test1_Qk8FqOcZP3bLbQWofmJpmYKQCI8zauAHbaKJuxe1pDc_v1.png","/img/new_user_onboarding_qr_test2.png":"/img/new_user_onboarding_qr_test2_yQUO88aWpHWRwAOLQ2cbbXfdM94StYYgugFlrYdAXhE_v1.png","/img/new_user_onboarding_v2_first_page_asset.mp4":"/img/new_user_onboarding_v2_first_page_asset_WBgmXxSTItw04AolFfIliusoDFLiX5bvW9eFZZP8onE_v1.mp4","/img/new_user_onboarding_v2_last_page_asset.mp4":"/img/new_user_onboarding_v2_last_page_asset_nOXP-HX8F3WGAu_n0EoB903oBkbEAQ1pARRI2RVr9ck_v1.mp4","/img/newsletter_finance_background.png":"/img/newsletter_finance_background_Jclx0CV7x3x0-rtFsqbHXCTBM_QAI6RHHC-SekSlaS8_v1.png","/img/newsletter_news_background.png":"/img/newsletter_news_background_dcRN7FDu0WXWjjDhoOY5gno73w3STzaS8N7v1eskbjU_v1.png","/img/newsletter_sports_background.png":"/img/newsletter_sports_background_IA0jF2ag8eFQk54SXeozWIIHwl06iMHaUheQULxwEIE_v1.png","/img/newsletter_yodel_background.png":"/img/newsletter_yodel_background_6iq2-VNqzSCGmAXVF4Hr-RfoABuzJ5vbZqE-jW6jrF0_v1.png","/img/next_gen_home_upsell.gif":"/img/next_gen_home_upsell_W_Lc1jrWwc8Z3NVo3d4IDrIXYbrvY3sifxXbWLVN9VA_v1.gif","/img/night_landscape_thumb.png":"/img/night_landscape_thumb_8W_DK46UgEZ7-x1Ipnnkri3CMtCR-eiXywNhFi0Npno_v1.png","/img/night_landscape.jpg":"/img/night_landscape_RmgCx0busQQvPT6gcOioVLmHQzE8cIGe6KMbjMrapd4_v1.jpg","/img/norrin_qr_code_pkg_tom.png":"/img/norrin_qr_code_pkg_tom_5PCdCh0CIiYrUnB3Z5uqJbMtJm3n7yd0si2ruDz8660_v1.png","/img/notdeal_error.png":"/img/notdeal_error_Ecrjcx2XfEKYAE2LDl5EPkrbz8W4J-8km1z-epYUhVE_v1.png","/img/notfound_deals_2x.png":"/img/notfound_deals_2x_ppYAVilJZSsLPUR-GTV3wrSNJKO37AaE_1KnwHkL8_k_v1.png","/img/notfound_deals.png":"/img/notfound_deals_kH6EMqgVYYwGawD4RV7tk3zjH0UCIX2d4dHjAd1oPQw_v1.png","/img/notfound_error_2x.png":"/img/notfound_error_2x_v61U35MCGMScXnLv5Hoxyjffd9Q2yUIWhkzeu7W3YPc_v1.png","/img/notification_customize_cue.png":"/img/notification_customize_cue_6HNo7qhJOIKIRqQ1O8sOQNAAdtYV7VNRu35mCrm12Ms_v1.png","/img/notification.gif":"/img/notification_8ummoUHNrtoF3aD2Wd0oqTS_Dus72CjCcHI85gHXwuE_v1.gif","/img/notifs_read_cue_package.png":"/img/notifs_read_cue_package_T84k7TRoOmC4ZElpQqmzLA4pFhoUJhvlowVaDMUwpV4_v1.png","/img/notifs_read_cue_receipt.png":"/img/notifs_read_cue_receipt_S37NeV_Ovr3XVExS7HxY7J6XHX20Er6aKjUBrGPkwnU_v1.png","/img/notifs_read_cue_travel.png":"/img/notifs_read_cue_travel_UzTd8ai9bh8DOkhKt9wJ6aBYB4LfcMvWYNnucwwlpgg_v1.png","/img/notifs_refresh_cue_center_accent.png":"/img/notifs_refresh_cue_center_accent_2sw43lv7STS5BIsu4XBqqO60AlEC-xE9APnS12iS2JQ_v1.png","/img/offers_empty_state.png":"/img/offers_empty_state_4s26_XJ2bjrOtWp2eNhzwZFTpMrB1zwc_HpQWrArSrM_v1.png","/img/offline_state_2x.png":"/img/offline_state_2x_9FQD-hujtkTiGBWwslG_vZQCzzh3DmWupVjxo0gBm2c_v1.png","/img/onboarding_xavatar_2x.png":"/img/onboarding_xavatar_2x_kqJ9gXMkMSOCwjJbUib4VZtw60wZBtLzwnc3nqEXxhA_v1.png","/img/opt_out_bg.png":"/img/opt_out_bg_12X6_o5QsEIV8YtJ9LaOTj6QCO5VQsFwE9SpsSwGt0s_v1.png","/img/opt_out_chick.png":"/img/opt_out_chick_19-2UiC0zCNqBcG-7893BksAaFr6Hgiy2qQRl7SeCCQ_v1.png","/img/opt_out_sad.png":"/img/opt_out_sad_UEOTKHFgcGj2TaO2pJAg--2tkvcDi9v5f3UY2vVwej0_v1.png","/img/orbs_2x.png":"/img/orbs_2x__3wN6n_Ec-A5eMSImfVUOs8TG0HfcSDhe9s9X6wlIOw_v1.png","/img/package_truck.png":"/img/package_truck_QAGQU4xoo9O_dPGOPyKMnkh_t0q5rY20xje5nIMRSao_v1.png","/img/paper_worker_2x.png":"/img/paper_worker_2x_nNHl1uBQJ2cNEfXMS7QdDvCtqQ6Ig3vrgMWQjEOwOZ4_v1.png","/img/paper_worker_dark_2x.png":"/img/paper_worker_dark_2x_56XfRIhO27wz9gy8r7bxQVh56eOQMVTU_ymZEoz0q94_v1.png","/img/paper_worker_dark.png":"/img/paper_worker_dark_INfy8VrZdn-ztsXvls7PZVEwAG5CQ3PTDJNfPAn5NKw_v1.png","/img/paper_worker.png":"/img/paper_worker_VYR6tnVeIjOvIq2LtVxKuYB2I16lsMxO_z6ldlSrsWg_v1.png","/img/people_smartview_cue_2x.gif":"/img/people_smartview_cue_2x_7ueDfVh5mSNCjryTC2JWQKYuKwL4BDLXB2LYQvLYZrE_v1.gif","/img/people_smartview_cue.gif":"/img/people_smartview_cue_DQ836vzxrBbNjdRYDtOVLLzA_hwOTWbP4pUII33CJ5s_v1.gif","/img/personalize_inbox.jpg":"/img/personalize_inbox_rGvBu2IRvucOay8ynNI_n3eVPjwLEKim12ZKUL9mqDc_v1.jpg","/img/portrait_ad_overlay.svg":"/img/portrait_ad_overlay_WyvrFPFnl6-5igwsGDe3GErbTnUV7StFRLBQja6wGno_v1.svg","/img/product_image_placeholder.png":"/img/product_image_placeholder_cd6stbKsRdGXdD4zBIc5zpfcYlFkKG0FrebSEKwEGIE_v1.png","/img/provider_logo_aol_1x_dark.png":"/img/provider_logo_aol_1x_dark_C9GE9hkJJeeMFCBow2ISBsB-FcoEoACqpwwdxQMo2-8_v1.png","/img/provider_logo_aol_1x.png":"/img/provider_logo_aol_1x_isnfCzbBei7Q8ZfGok73g8EGYAACNwXWxCKyzPKwmro_v1.png","/img/provider_logo_aol_2x_dark.png":"/img/provider_logo_aol_2x_dark_gWUJ0oF1S0rd-LW5GXMXefAQ_K7mbYl1PJvFV_hJDBo_v1.png","/img/provider_logo_aol_2x.png":"/img/provider_logo_aol_2x_jLrEA1KOthSynaiNROriNjEhzAfMh9QM0VSEgYuwuQQ_v1.png","/img/provider_logo_google_1x_dark.png":"/img/provider_logo_google_1x_dark_sukjmGWMZHRPcAet7eLzPRfboRtR-KIMp97NMSOGBw8_v1.png","/img/provider_logo_google_1x.png":"/img/provider_logo_google_1x_QrOWcOm1xF1pOw8qEVQUbaTrhWQ5QmTpX_K27YDqrnc_v1.png","/img/provider_logo_google_2x_dark.png":"/img/provider_logo_google_2x_dark_INmMwEa-uSDEX_f7UJ3AL3FVLatzrpkYl1UquRj9o8c_v1.png","/img/provider_logo_google_2x.png":"/img/provider_logo_google_2x_24Qi8SOKGAGMsEJH8dxQCku9A5XAZbjCXTRaTeMXRes_v1.png","/img/provider_logo_office365_1x_dark.png":"/img/provider_logo_office365_1x_dark_Xan_9LEUDgvYYXPUeq1vjjnjXv50YyKxBZvtRWhc9m8_v1.png","/img/provider_logo_office365_1x.png":"/img/provider_logo_office365_1x_drXavjLwbM_qzgO8v673SIvylxIIlLCgRDilkkxMAus_v1.png","/img/provider_logo_office365_2x_dark.png":"/img/provider_logo_office365_2x_dark_eqZOG6XXCRrghgLIQjv0eJeXg1ZCV-rPz-Zcu_wSnX0_v1.png","/img/provider_logo_office365_2x.png":"/img/provider_logo_office365_2x_drXavjLwbM_qzgO8v673SIvylxIIlLCgRDilkkxMAus_v1.png","/img/provider_logo_outlook_1x_dark.png":"/img/provider_logo_outlook_1x_dark_FVohtFdcojPzGQsYrtnHyT7CUFf0kVkiss9EcgPgJoo_v1.png","/img/provider_logo_outlook_1x.png":"/img/provider_logo_outlook_1x_BNoFJq4YN1Rih95Z0thR-52k1uaYpNg6UhdSDX6tnXE_v1.png","/img/provider_logo_outlook_2x_dark.png":"/img/provider_logo_outlook_2x_dark_Hl24-reK_IAcOTKImuk2XCvvcWWUiRI_3aAlyc63UHo_v1.png","/img/provider_logo_outlook_2x.png":"/img/provider_logo_outlook_2x_j9JtMeAR9bU8mt4kqczOEPiXV55idrXNrjMgzvMpXcI_v1.png","/img/provider_logo_yahoo_1x_dark.png":"/img/provider_logo_yahoo_1x_dark_R9jSDNJNo9hFbZ9Vd-0TjpiD-YeJhFxSpCeudXHqk_M_v1.png","/img/provider_logo_yahoo_1x.png":"/img/provider_logo_yahoo_1x_qrP4ZSComi4e6FMraLJ1eJuP7p4Tge1TB1RTZ6gNa7s_v1.png","/img/provider_logo_yahoo_2x_dark.png":"/img/provider_logo_yahoo_2x_dark_5ZndwfTye7ZpDl1e1pFVAiD25WS7HQhXVzTccgdpG1s_v1.png","/img/provider_logo_yahoo_2x.png":"/img/provider_logo_yahoo_2x_YxzbMnpmfUCb4wCcGGxe4eB-CKgzXWJ4h5j1dFlTKF8_v1.png","/img/provider_logos_1x.png":"/img/provider_logos_1x_elR-feAjc-W6942T_Pmosem10B8LNA9eIE9GB5x_gV4_v1.png","/img/provider_logos_2x.png":"/img/provider_logos_2x_RadLnzG1qmbEXjI1an6c3EkLlbw-avpn5vrQ6YMCBRI_v1.png","/img/push_notifications_onboarding_2x.png":"/img/push_notifications_onboarding_2x_qGO_tIv_BEpVGI84mLIIJJOFNZsolx3h2ZROO3r9GIg_v1.png","/img/rakuten_banner_title.png":"/img/rakuten_banner_title_LnIs0lc3twA7eliwD_0piCvmFCJmu-QBmnJpxn_GXE8_v1.png","/img/rakuten_loading.gif":"/img/rakuten_loading_a58weD2cS4rxARCCIfpvg56UlWGPchtBTO6qdxS2Wtg_v1.gif","/img/rakuten_promotion.png":"/img/rakuten_promotion_q_DTjph5u_Gn330ntvnpFouTJHfQzc80B44wX5ScZ_A_v1.png","/img/receipt_empty_state.png":"/img/receipt_empty_state_VOuBObU-H-bPdZ1B6q2IyeM_5VqDSSMCwuKhFp7U21c_v1.png","/img/recent_attachments_empty_results_2x.png":"/img/recent_attachments_empty_results_2x_u-F6LgFzhuUUHZTq4pAYsFFW-xK2qM1s4o0ynf7vhD4_v1.png","/img/recent_attachments_empty_results.png":"/img/recent_attachments_empty_results_ohzWn8lAXoMPYlC1178lH27Caqtocw230xIqT--9bHY_v1.png","/img/related_searches_tag_dark.png":"/img/related_searches_tag_dark_4k5pvpwX4tzrXD_c7F7GbPLfkveTOh0OoWUPKEeYDOM_v1.png","/img/related_searches_tag.png":"/img/related_searches_tag_X4KaMbx3_FKolI2E2UAQVjUSCNzi9iiLAj8P36TuG2Y_v1.png","/img/restaurant_search_header.png":"/img/restaurant_search_header_-G6sJIWRAQDLTqJMrQKIAgRz5LW3Q03a1DCK0dbOSXY_v1.png","/img/roadtrip_bg_pattern.jpg":"/img/roadtrip_bg_pattern_oGGywp5b5y69unSyY0aHiS70OwFx70nkuBJyk8i5WBA_v1.jpg","/img/roadtrip_thumb.png":"/img/roadtrip_thumb_cFwS1oU3i_ZAgtMW660a5hNAb8DbfXvng7MJKHqQBTw_v1.png","/img/roadtrip.jpg":"/img/roadtrip_t8uYYZf1BbS-Q0UdAORbJhQWRoMPBuv7U6cmOYS9dlg_v1.jpg","/img/sad_folder.png":"/img/sad_folder_Zku5m66_MGdrxNBICNQvrEs755Me-qCMKz-G_vIlQdg_v1.png","/img/search_onboarding.jpg":"/img/search_onboarding_AwqKtrgxPGO_uEzjQq7mR9XzUd6kxPtKgHRSdIeGCDg_v1.jpg","/img/search.png":"/img/search_byOX5XpDRDkKfXoDw4ZI50WAUU3WgUIT7Co-22C1Tkc_v1.png","/img/selected.png":"/img/selected_JXzcUlmXnDHG9e5Gs1MpbWwGKUhqG6IpMx02NvcVDpU_v1.png","/img/share_feedback_bad.png":"/img/share_feedback_bad_KzSI_STneaJnR4E1rCewVvxDxx_UO4dA8IRXucVd-Hc_v1.png","/img/share_feedback_done.png":"/img/share_feedback_done_FOzZBgLqadsXTFP9I2bBbhF2awFzkER6ZilADZF8VQc_v1.png","/img/share_feedback_no.svg":"/img/share_feedback_no_EA-nfbvmyiXLNBGvalYc3jiBB2GtABkujXP-IWGmFCk_v1.svg","/img/share_feedback_sometimes.svg":"/img/share_feedback_sometimes__OsnSiTM_2I-xQ-QTbLAgj6Q4GXMabHQPuLh1X8MrPM_v1.svg","/img/share_feedback_yes.svg":"/img/share_feedback_yes_YQRrD_royK8QGVK8Lm_lT6uRk0VI6oP-Lgxm0e_XYk8_v1.svg","/img/shopping_tag.png":"/img/shopping_tag_K1MBIFpcsH2mCP_1iJltulelN-l03hmF6SXr7JBPWzU_v1.png","/img/smartviews_inline_prompt_attachments_1x.png":"/img/smartviews_inline_prompt_attachments_1x_SLvVoPlMEjrVdg1QrnTMJIxX-iBM7Y7DWy5xAj-2twY_v1.png","/img/smartviews_inline_prompt_attachments_2x.png":"/img/smartviews_inline_prompt_attachments_2x_a-OOxrdHHpol89ItZTEc3wq0ZN8lvULtuX7rTdnNzkY_v1.png","/img/smartviews_inline_prompt_deals_1x.png":"/img/smartviews_inline_prompt_deals_1x_ogJLjcJzvjoL4JXmOonQdmn_hSA0ksBw42Y64vJywHk_v1.png","/img/smartviews_inline_prompt_deals_2x.png":"/img/smartviews_inline_prompt_deals_2x_gb_1njDgGajg6IneLrfAAhoAaQieYC90JB_TCj7uTGY_v1.png","/img/smartviews_inline_prompt_subscriptions_1x.png":"/img/smartviews_inline_prompt_subscriptions_1x_V-TIZ1tmMKZcuLXiHwar1ybk18CCICswwDEspNjovk4_v1.png","/img/smartviews_inline_prompt_subscriptions_2x.png":"/img/smartviews_inline_prompt_subscriptions_2x_NWpRQIYUIRmLFxX9khP-CJToaBA9-m6dzjXxg_AlU1Q_v1.png","/img/smartviews_inline_prompt_travel_1x.png":"/img/smartviews_inline_prompt_travel_1x_cJnP7nhiMTVu3GMp7JyhIYhJeKhrg68FlmsuuAs32Co_v1.png","/img/smartviews_inline_prompt_travel_2x.png":"/img/smartviews_inline_prompt_travel_2x_Zh3pWgzVqj_0j1xt59RVDGgzaEfHIxYq30Qg8e61LyY_v1.png","/img/social_accounts.png":"/img/social_accounts_4ceIEdLkdpf0uKQYGgh9tOCDoN0UuctxMvqtDt9jxys_v1.png","/img/social_proof_yahoo_mail_landing.svg":"/img/social_proof_yahoo_mail_landing_rfwukjgr5_ItZlOYZ19kY6KYUgu13lLd9Jt5kLDNFgk_v1.svg","/img/spring_thumb.png":"/img/spring_thumb_hKdNQ0CNstGKy_CRvmjEI7Cg8n1llXjYyk_BnzoYsQY_v1.png","/img/spring.png":"/img/spring_qJnh9krITIvPVlbzb4KD8HhCeU4W0vsQZgspe3F5cSs_v1.png","/img/srlogo.png":"/img/srlogo_OtoqfxjYYZ6hNyokQYurtmqTUsja7XCWM8IawRz1ApY_v1.png","/img/star_animation_orange.gif":"/img/star_animation_orange_vMS2xucJFZKWDCxVmD46oWttHsp9Hfp10Vv2JwbT6aI_v1.gif","/img/star_animation_yellow.gif":"/img/star_animation_yellow_rgHahmjaCKGRegzY5gT4Ko0u1a_BR5PnuNgXASzlBOc_v1.gif","/img/star_burst_colorful.gif":"/img/star_burst_colorful_GPr8QBURI1PT5mU8kBJDTaMsNgQhzAgeCJtptho0BQs_v1.gif","/img/star_burst_dark_colorful.gif":"/img/star_burst_dark_colorful_Eswd1FE96lGdZ5IkC5BKXbx8l2dm58ftq5mfa6LeQl4_v1.gif","/img/star_jiggle_dark.gif":"/img/star_jiggle_dark_e3D1vDuFhdcDaa4q_CJ5G9cFFd9c0twBxmN7AmB3Mfc_v1.gif","/img/star_jiggle.gif":"/img/star_jiggle_-J5yMZuquyzmLsS67Wl5MI_QHdvkQlug1mlEEdeLyP4_v1.gif","/img/subscriptions_huffpost.png":"/img/subscriptions_huffpost_EwF8PutEDD_l1Wo8I46lAZ_1HtGVMKfrOmzBvJPlxuk_v1.png","/img/summer_thumb.png":"/img/summer_thumb_4XlSZjXX4gBSnUMg4CJlgJUD26QyH7oQwXJGvOSR9qM_v1.png","/img/summer.png":"/img/summer_PG4s214JIwPkA-cosjzyxgSmRGL64v0bQM-hhgH5ii8_v1.png","/img/sunset_aussie_bg_pattern.jpg":"/img/sunset_aussie_bg_pattern_nM7teMRcgAi5YTBSjoJPxydsc0pPpRvQjP5BCBE_0QI_v1.jpg","/img/sunset_aussie_thumb.png":"/img/sunset_aussie_thumb_4DOftDVQV3UyrD3heAjlBhUd2nXJAw7JZTsWcNrQ3ME_v1.png","/img/sunset_aussie.jpg":"/img/sunset_aussie_upQ3zXhejSxbjqEKUMxHLWNlmxr4B8VstQXF69eXvEw_v1.jpg","/img/sunset_thumb.png":"/img/sunset_thumb_fPXt3zfZXKSE1OhxZXGLi9x5h0BTbYNa4plj_k5zUHg_v1.png","/img/sunset.png":"/img/sunset_qkMUcPAkZgECMd69fiBq5AZON_c7iZBx_uQpOpJm3Hw_v1.png","/img/suspicious.svg":"/img/suspicious_jP_gZutCU863evSJk1IIbcLqg5l99nXjQ4ILmqhE4qU_v1.svg","/img/switch_off.png":"/img/switch_off_UJ9qB9qg5uMBep_pEYxUDIgMWsG5jW1E7pyKpBS9VHg_v1.png","/img/switch_on.png":"/img/switch_on_1zX4tnxAbLJDmU6B3bN94iX8fVMxdBNnxMGcKsMfneM_v1.png","/img/sync_deals_1x.png":"/img/sync_deals_1x_1S3VMcAy4JTuzmQcKituJNaQUiKPV-wu8LeKt4BUy5s_v1.png","/img/sync_deals_2x.png":"/img/sync_deals_2x_Jz7EoTl6R2ZOQ4M4Pxn5WpE-PFMDfrAQGd5-AgBJA3A_v1.png","/img/sync_documents_1x.png":"/img/sync_documents_1x_zF-pwcktCqoCz4u9vDWMMviMV5Dgfwq99rwkgLUEglA_v1.png","/img/sync_documents_2x.png":"/img/sync_documents_2x_SItvCyvOD9HIIiUQ-y3qn60IbMMQZJjPij_ZwLZkWzs_v1.png","/img/sync_message_1x.png":"/img/sync_message_1x_vNoXU4pgaAdLhhgRDl-aMW6-TF53Jt1W82bRoybi6fY_v1.png","/img/sync_message_2x.png":"/img/sync_message_2x_crfRhTzKyxDKp95l_Xz02IqX2DnQVh6eTQ_JI5LwpFI_v1.png","/img/sync_photos_1x.png":"/img/sync_photos_1x_lzNnPGF8cciZ4zXxrK4G0ab721EtmTmIYFavFQQ5JFA_v1.png","/img/sync_photos_2x.png":"/img/sync_photos_2x__s-kGTShqOkea06sARr-4MzRXKEQqnKiVYFh9dBORWM_v1.png","/img/sync_subscription_1x.png":"/img/sync_subscription_1x_VgGO7zV9vQeFS3mYzEAP7EaP8vYFQmSDFHY8NekXIis_v1.png","/img/sync_subscription_2x.png":"/img/sync_subscription_2x_r04j7UCnc7YIsFMOnapp4LcHWJ5D-W7eqlqjLxK3ARY_v1.png","/img/tenor.png":"/img/tenor_oxJhYeiAd8fUcrdVfozpyGSSYmgt7DKIkdiYMrOUFmI_v1.png","/img/themes_cue_v2_bar.jpg":"/img/themes_cue_v2_bar_QpyOioVctDS-i609elkNIIu0ynwzJpCL1cQMjmVQjWw_v1.jpg","/img/themes_cue_v2_bottom.jpg":"/img/themes_cue_v2_bottom_dMFj87c7oz0vCLRDdzPn0csCgqE9chU0lXdpyqjnSpQ_v1.jpg","/img/ticket_search_header.png":"/img/ticket_search_header_SMskHeIcqka4jrL6ap03QLiP4YHZN3j-6isRmUgPeKk_v1.png","/img/tiny_truck.png":"/img/tiny_truck_mex2w8UUcFCyG_knYv8LTuxkGQZP1z6_7lpAhj6Ncfs_v1.png","/img/tom_onboard_diamond.gif":"/img/tom_onboard_diamond_b6vHTKZ4NGRNxODkkYNX4buLm6SdOhV7qbEjT6ragMA_v1.gif","/img/top_of_inbox_aftership_logo.png":"/img/top_of_inbox_aftership_logo_qerr9Fsdy0jTotkF7kaWY_LgdUNgnTdpiS5-ZNHVCgk_v1.png","/img/top_of_inbox_money_back.png":"/img/top_of_inbox_money_back_JjVFwzTcAj5YK8A7GwsziLUGeDVz6F8A3t2dyywMCd8_v1.png","/img/top_of_inbox_package_delivered.png":"/img/top_of_inbox_package_delivered_E28rwzgu-2b42fXbogn6WKR0BtakCF1ioR1qnRxgsAc_v1.png","/img/top_of_inbox_package_pickup.png":"/img/top_of_inbox_package_pickup_gCFDvxEYhOrpUFY4jlCm3mOGv8GtSH_C4HnUqzb4SsA_v1.png","/img/top_of_inbox_package_truck.png":"/img/top_of_inbox_package_truck_O4DGdn1fEL_JEdiefowS61LBgDrMUnOVwlp7QthlGGg_v1.png","/img/top_of_inbox_settings_preview.png":"/img/top_of_inbox_settings_preview_EaLXUxBmUCrfsIB2ek62G_C1BNfgVMiAYI9LmX0JwCM_v1.png","/img/top_of_inbox_truck2x_darkmode.png":"/img/top_of_inbox_truck2x_darkmode_xv2wMDDZVnRJIZElQe_OrrWM3X83g_Unz2nxfV8ZnkU_v1.png","/img/top_of_inbox_truck2x.png":"/img/top_of_inbox_truck2x_n5wWwWgzoXKJO3wBLovgWg8ogO_mfftZhPHRocJFHDI_v1.png","/img/trap_page_browser_logos.png":"/img/trap_page_browser_logos_8oVRGOkr33PQbjZoagzKQlb0zuM3bvJAa7Izuy7RR8c_v1.png","/img/trash_can.png":"/img/trash_can_r39WriTMDttrzhgPRT7Jjx3s-0lD1uJm6fNPh9GM6fE_v1.png","/img/under_line.png":"/img/under_line_YgCQL52oTn_B9SZhDV5B_Uks-qYRVTRrNt9nkHIjgow_v1.png","/img/unsupported_browser_bigtriangle.png":"/img/unsupported_browser_bigtriangle_zCgzlTz55Md3eMR0-AhF0yEQmeo04krPeYRujUIvEw8_v1.png","/img/unsupported_browser_circle.png":"/img/unsupported_browser_circle_5bR2MXTGLcmQGtnWNXPlwm9mGQPY2_HCk2ObAWwZ5P4_v1.png","/img/unsupported_browser_maillogo.png":"/img/unsupported_browser_maillogo_nhmOjU56xe63NubTCYjjqxtQ-LqWlWi_-V-EBJKP0SE_v1.png","/img/unsupported_browser_phone.png":"/img/unsupported_browser_phone_JKsSoWBXEnOm3GD5vi0lOPJZgj795tDmJwIzlAIUZlM_v1.png","/img/unsupported_browser_smalltriangle.png":"/img/unsupported_browser_smalltriangle_C-h0_bHHm4uvy5W_iMqz7_yeAZflAoS-CDkRnNF3iYo_v1.png","/img/vacation_response.png":"/img/vacation_response_1o4F_pI6MIH4wkUtP23rQSY6XEhYhNYDc_EVUEKogsE_v1.png","/img/verified_sender_aol.png":"/img/verified_sender_aol_a0QqSes_CPwqh83u-aoft48lc0iruN-N7DL6ttKqWJE_v1.png","/img/verified_sender_yahoo.png":"/img/verified_sender_yahoo_n1lWVUfv754B4ghNWsDslnJXNWRalOO-_feqIZ0Vyp0_v1.png","/img/viewing_email.png":"/img/viewing_email_hH_ZyZQZ6LWt-by-e18kjIHxXlz8g_MDZ2u5CvIIx-8_v1.png","/img/wallet_default_gift_card.png":"/img/wallet_default_gift_card_8UpXG1Hs2rVDJvzUvgaf-2WJHYPyBINEGDdUAJXK1CY_v1.png","/img/wallet_detail_thumb_down_dark.png":"/img/wallet_detail_thumb_down_dark_8lmDa1M98jee80ClKowGd8CPCJFh6fdmxJ0UySFxyqg_v1.png","/img/wallet_detail_thumb_down.png":"/img/wallet_detail_thumb_down_5SapC3KvlHOaDmUeEkqMfU4D0eu5LyI66hTv0ZU3Yik_v1.png","/img/wallet_detail_thumb_up_dark.png":"/img/wallet_detail_thumb_up_dark_JB6xotBd1AYHR8Dy_D6DmWOt-rDA7XnsxMp6R2ngdro_v1.png","/img/wallet_detail_thumb_up.png":"/img/wallet_detail_thumb_up_Szxlr49xu07VB1WYFeNadLljO-4C0QabiW-xjZqeumQ_v1.png","/img/wallet_empty_dark.png":"/img/wallet_empty_dark_JsDMcS28nerzxRgo09TBA4EGQHEQxehYSdRZuYRnZTU_v1.png","/img/wallet_empty.png":"/img/wallet_empty_Ip3A0CnNsA38Dv57hAk9SekuYYgyYPPd9FE9XQdSvho_v1.png","/img/wallet_feedback_no.png":"/img/wallet_feedback_no_HX9oM1_Vu8a8MYhpnCUdUs8QI5NYrKHi4ywh__nCwlc_v1.png","/img/wallet_feedback_yes.png":"/img/wallet_feedback_yes_dV2f2TvAainEX4PpDtHOyjZyIQ-QQiU8GJjQSQ75UQw_v1.png","/img/wallet_header_coin_dark.png":"/img/wallet_header_coin_dark_Jq94zYkYur86H-yyxhxhwVSjuhxQT7P-o4hI3IERGYQ_v1.png","/img/wallet_header_coin.png":"/img/wallet_header_coin_K4ZJtV53AFse0PX5ObxKo73twpXK35_H2JM9RhyvSsM_v1.png","/img/wallet_info_dark.png":"/img/wallet_info_dark_4Ng3-lrWkYwIBQi5y8FVzex9PKtY18YD3ZG4RbN2eMg_v1.png","/img/wallet_info.png":"/img/wallet_info_X8xQ_j_6YqC-2R5ZmTG4ZuwqLHthDIpywUONHpsqdU4_v1.png","/img/wallet_preview_image_dark.png":"/img/wallet_preview_image_dark_31PgFaE6u6BI8he4kUWLNtc4EVnCBl25tk2xPYVit98_v1.png","/img/wallet_preview_image.png":"/img/wallet_preview_image_1B9C8JOY3bxOAp00Buidlm0AwPEal1v2hg-lIlg-pu0_v1.png","/img/walmart_add_to_cart.png":"/img/walmart_add_to_cart_OR8FVeUCbh_yos1V7a1X_6FMUmY_jZacxPXnozZPEDU_v1.png","/img/walmart_logo.png":"/img/walmart_logo_sO00E1adOSPZYrTVbvtSqrWNZOoPAwb_3of2S5Cq74w_v1.png","/img/walmart.png":"/img/walmart__OSt5ExTcTC-h3rFbNP4Myei1gsEinsqDbtizjiXi88_v1.png","/img/weather_cond_600.svg":"/img/weather_cond_600_Sh1WRpd-Qqbv9mAm3TAMfhuH_sCrS7Oo1_5qMOcjwRc_v1.svg","/img/weather_cond_601.svg":"/img/weather_cond_601_McAuTZrjzczJ90szuHdSfnuMItJJlZRqT7Nz2byHyXE_v1.svg","/img/weather_cond_602.svg":"/img/weather_cond_602_w-5K8nZ6VGUoc8kOK2MUObA-5wMyocYM-yOQFl_smjQ_v1.svg","/img/weather_cond_603.svg":"/img/weather_cond_603_UihDFFdR2qLa8DxIO374MefZ53r9ftA4z1vgaoZzOOk_v1.svg","/img/weather_cond_604.svg":"/img/weather_cond_604_Dq50KTAG-glp3R5u_HwxTde-me1jLZJW3JhKDKpKWcw_v1.svg","/img/weather_cond_605.svg":"/img/weather_cond_605_eFnPnNAz_Ihk_NBD_LGFvNsVO7qhWZw1aUQ7Xg3PJmE_v1.svg","/img/weather_cond_607.svg":"/img/weather_cond_607_hw74V7fFpCw-UthaWz9Yp-YwaueRAnq1f5qOMYxZ17Y_v1.svg","/img/weather_cond_608.svg":"/img/weather_cond_608_pZhvFSSEYhNmbfG1R_By1a3CyeIbCKO3zeFVim-TAW0_v1.svg","/img/weather_cond_609.svg":"/img/weather_cond_609_armasztETdx1QtAqyF5ez7ZXMFyfwc94KT-NVdfTDxI_v1.svg","/img/weather_cond_60a.svg":"/img/weather_cond_60a_vjLXKJKda53yXhMxmJlQ3043ZFE_iNYZKgQSgu73HV0_v1.svg","/img/weather_cond_60b.svg":"/img/weather_cond_60b_pZhvFSSEYhNmbfG1R_By1a3CyeIbCKO3zeFVim-TAW0_v1.svg","/img/weather_cond_60c.svg":"/img/weather_cond_60c_o6RwXgB911KbxqhYO7-pkHRMtW-9OLtd4324Nfcq9K4_v1.svg","/img/weather_cond_60d.svg":"/img/weather_cond_60d_XzDcnbGKwyfAHsDVIisNg0SXd80LwGzimRkbmjI3nkw_v1.svg","/img/weather_cond_60e.svg":"/img/weather_cond_60e_NSzMgbI_8Chkx9s8Xby2cdKqwTaMwfJHWZA1lpuuhbk_v1.svg","/img/weather_cond_60f.svg":"/img/weather_cond_60f_svfYmfXBqWbsosajsFwfNKY6ok4cy22HRaPGsSkXXU0_v1.svg","/img/weather_cond_610.svg":"/img/weather_cond_610_Q3HTk5uga29seqFPC-hRWTgp6bKY_Mwpp5g5z1eVS_0_v1.svg","/img/weather_cond_611.svg":"/img/weather_cond_611_uV2epVfd93s2CytEJo3l8lu2egdyxgFCZv2Uf-2qTOU_v1.svg","/img/weather_cond_612.svg":"/img/weather_cond_612_armasztETdx1QtAqyF5ez7ZXMFyfwc94KT-NVdfTDxI_v1.svg","/img/weather_cond_614.svg":"/img/weather_cond_614_l4uaG1One3mTtF_gdBuVOXJoEPvLxT3qPKmTKfjJOxk_v1.svg","/img/weather_cond_615.svg":"/img/weather_cond_615_QFLG5bEbpj95g4hOJSogt3Uy6I0jcQ-1cq_Gatz8W2A_v1.svg","/img/weather_cond_616.svg":"/img/weather_cond_616_GAA2IUuGImfBn_VEqoftbyuQNxI8SxyVNgj8XmDEULY_v1.svg","/img/welcome_illustration_1x.png":"/img/welcome_illustration_1x_FcA2xClrYIz8vjn8tLnDdmF4ur42-zV4kI_Uhs_nreY_v1.png","/img/welcome_illustration_2x_obsolete.png":"/img/welcome_illustration_2x_obsolete_PC6NYn2FUzcTm3yDw6VhjbBajzJyvqxier16E8NJPLY_v1.png","/img/welcome_illustration_2x.png":"/img/welcome_illustration_2x_L2OjaE4rEjxHsYXdHlr-xDcgx730hGqg4ZQI3-7FLZc_v1.png","/img/welcome_illustration_3x.png":"/img/welcome_illustration_3x_wThP-OXN-w47u0OwOd2NXIoxTJMD-c8ZN4pdLYHTtZM_v1.png","/img/western_thumb.png":"/img/western_thumb_H_5LH8sl46xDwR2rcxTQJd5rizqBxzK0mLpa_zGkdDo_v1.png","/img/western.png":"/img/western_eqWbBLntaU0Ym9zgn5GLtoDLRBurB5TMNSD_mmVEGKk_v1.png","/img/winter_thumb.png":"/img/winter_thumb_bf0wxNkdCGc3O5vzzASB0I5oSkaS2CYVHk5ga7SlE8A_v1.png","/img/winter.png":"/img/winter_4aX3VzT3ToOPogWNHDg4cukrWmRWUxBBkQcpHDarc2c_v1.png","/img/y_boy_mail_plus.png":"/img/y_boy_mail_plus_lGZHXaqTEUC6-A_egZ3WjYCwMgpIhKsORqv5lcavSCc_v1.png","/img/y_plus_badge_color_pencil_ad_1x.png":"/img/y_plus_badge_color_pencil_ad_1x_OZriJuLP2KHyTcPH7hXNgrDZFMvv8TlgDG-bQ49wm5U_v1.png","/img/y_plus_badge_color_pencil_ad_2x.png":"/img/y_plus_badge_color_pencil_ad_2x_MIyhTxGSnsLnlCiklfqvz10zCLOW1AiEgrbyUti-3Q4_v1.png","/img/y_plus_badge_color.svg":"/img/y_plus_badge_color_tovt5Mw3AOFTqAVCGsB-IH2PEoqBJbDhM8Ppq0zYuYE_v1.svg","/img/y_plus_badge_white.svg":"/img/y_plus_badge_white_n4MCcrv2mTmW7VfFXrmatkJXKC1ivP-tOmTLB840G2A_v1.svg","/img/yahoo_badge.png":"/img/yahoo_badge_vmsNZv0f7un9pb0tejVSq7aYoavBG1nDn7yXJTKYGLg_v1.png","/img/yahoo_finance_logo.svg":"/img/yahoo_finance_logo_-QDNG0c8moBlfL-H04Q2IwjbtNsPJiC7OMJ-6dinE14_v1.svg","/img/yahoo_lastpass_logo_2x.png":"/img/yahoo_lastpass_logo_2x_7VdmrF7i8U7pRWJaBRjiMLSzVyaIauCQ_xJGK1rpSCY_v1.png","/img/yahoo_lastpass_v_white_1x.png":"/img/yahoo_lastpass_v_white_1x_ARo6Tj-RN9KPU234_DPO6QXkGi8kG6lYudUf1rvgbD8_v1.png","/img/yahoo_lastpass_v_white_2x.png":"/img/yahoo_lastpass_v_white_2x_yqV5pGyitz6TDgsF366zJCM-8pVaIvBDM0R-e1sznZ8_v1.png","/img/yahoo_light_2x.png":"/img/yahoo_light_2x_2SLo51-WmPhnRY-Q5dKnPSWPU2QIekbw1hP3bJh-jaI_v1.png","/img/yahoo_light.png":"/img/yahoo_light_Fd7UseGIAj2-tpyEKjjrRLgOeV4wry2IEkxQOehADco_v1.png","/img/yahoo_logo_transparent_2x.png":"/img/yahoo_logo_transparent_2x_smBV5Q_pQHii7C6IVmOsPOt4UUeOPi9ysCn6_Hdso1c_v1.png","/img/yahoo_logo_transparent.png":"/img/yahoo_logo_transparent_OJ5RWztu9Z0FBN1nqfY0avjfex4on1RN6CH7nNtdGL4_v1.png","/img/yahoo_logo.png":"/img/yahoo_logo_IbAUajnYkKPCJO1tf-0yybTrp3mRz3qudq8gvNU6-WM_v1.png","/img/yahoo_mail_certified_sender_2x.png":"/img/yahoo_mail_certified_sender_2x_JpRT9fz6tJXf0TuFDlOoe7yJD9psfCEMntpsIHhJoVM_v1.png","/img/yahoo_mail_global_english_1x.png":"/img/yahoo_mail_global_english_1x_UWlIRGtkOjCoUWwCNMz6vHGRbW-XB0I1p0FzxEQ75m8_v1.png","/img/yahoo_mail_global_english_2x.png":"/img/yahoo_mail_global_english_2x_QCDeip_7unM4ifsFj_xSee88y_ik2ETJZv9KzvEhy2s_v1.png","/img/yahoo_mail_global_english_white_1x.png":"/img/yahoo_mail_global_english_white_1x_2irxdCmPPid8dWMdybHvLaG3G8C-2YHi2uDczTLQjRQ_v1.png","/img/yahoo_mail_global_english_white_2x.png":"/img/yahoo_mail_global_english_white_2x_A6ncybctetL1Rrnktv0yukBBnRW-U1ioDXOW1MZ8xwg_v1.png","/img/yahoo_mail_plus_global_english_white_1x.png":"/img/yahoo_mail_plus_global_english_white_1x_x9QFg_w0mPRsoMxlm9JJ8e3JMcmRefvL3-i2qf8aDDE_v1.png","/img/yahoo_mail_plus_global_english_white_2x.png":"/img/yahoo_mail_plus_global_english_white_2x_rN4EJcoICeLa1wHyJNxBI7Kv6AB94k8Ty4AcHlQmsmE_v1.png","/img/yahoo_mail_plus_horitozontal_color_1x.png":"/img/yahoo_mail_plus_horitozontal_color_1x_4H6ZhePCvDERW8XjS9xjxsVUEIc-5TtLFCJSNmdmBOc_v1.png","/img/yahoo_mail_plus_horitozontal_color_2x.png":"/img/yahoo_mail_plus_horitozontal_color_2x_Q2w0IQAciTT74UJ-5Fiqaw3GS9HeBqCCvN_9bYIDPFQ_v1.png","/img/yahoo_mail_plus_horitozontal_white_1x.png":"/img/yahoo_mail_plus_horitozontal_white_1x_rkfuETV8QovRADsZtWaoihBpbLmwJE7EwgKOMdGpqZM_v1.png","/img/yahoo_mail_plus_horitozontal_white_2x.png":"/img/yahoo_mail_plus_horitozontal_white_2x_WdqlMt5R9ztvywWUvZpsHdptFjKSL5EHVk9iHrihTk4_v1.png","/img/yahoo_mail_plus_horizontal_color_1x.png":"/img/yahoo_mail_plus_horizontal_color_1x_4H6ZhePCvDERW8XjS9xjxsVUEIc-5TtLFCJSNmdmBOc_v1.png","/img/yahoo_mail_plus_horizontal_color_2x.png":"/img/yahoo_mail_plus_horizontal_color_2x_Q2w0IQAciTT74UJ-5Fiqaw3GS9HeBqCCvN_9bYIDPFQ_v1.png","/img/yahoo_mail_plus_horizontal_white_1x.png":"/img/yahoo_mail_plus_horizontal_white_1x_rkfuETV8QovRADsZtWaoihBpbLmwJE7EwgKOMdGpqZM_v1.png","/img/yahoo_mail_plus_horizontal_white_2x.png":"/img/yahoo_mail_plus_horizontal_white_2x_WdqlMt5R9ztvywWUvZpsHdptFjKSL5EHVk9iHrihTk4_v1.png","/img/yahoo_mail_plus_partner_att_white_1x.png":"/img/yahoo_mail_plus_partner_att_white_1x_RqhLavJOIEiOAiMqx-I8yIbYlvpcdkeB8i8JJ6gvn9E_v1.png","/img/yahoo_mail_plus_partner_att_white_2x.png":"/img/yahoo_mail_plus_partner_att_white_2x_h72MXtRTPVtLQXH4qk-K0iOIKqKIWPPPxpHIODa25nM_v1.png","/img/yahoo_mail_plus_stacked_color_1x.png":"/img/yahoo_mail_plus_stacked_color_1x_VqCZbOIg1IPJDPWFz7fxjjIlkUmlF4pHD00LMBb9lmY_v1.png","/img/yahoo_mail_plus_stacked_color_2x.png":"/img/yahoo_mail_plus_stacked_color_2x_p07-Fn6jkG-YPuQtxxgSuAN2J_jN11spGHwaFl-2mtw_v1.png","/img/yahoo_mail_plus_stacked_color_3x.png":"/img/yahoo_mail_plus_stacked_color_3x_2SoV8o_oF0nsil_3Yo-VFpRsBSqFoxDXxRsu54wvBm4_v1.png","/img/yahoo_mail_plus_stacked_white_1x.png":"/img/yahoo_mail_plus_stacked_white_1x_Rwo5df1m_pZMs9xT7PN8KWAtryQ8NlGDed09QSv9CnM_v1.png","/img/yahoo_mail_plus_stacked_white_2x.png":"/img/yahoo_mail_plus_stacked_white_2x_pjU7u3zpCz0Afezo-PMdtOUwT2ka6_ztqKzGpDIyEBU_v1.png","/img/yahoo_mail_pro_global_english_2x.png":"/img/yahoo_mail_pro_global_english_2x_8zdkp1f-0Z8OxMb6uCZUveOsQ1TaHX3DuHtToEfKh4I_v1.png","/img/yahoo_mail_pro_global_english_white_1x.png":"/img/yahoo_mail_pro_global_english_white_1x_Fgp3RyoEfBZ7io0-CTHZbtEiZrxKjxn7hDIOvMtcbe8_v1.png","/img/yahoo_mail_pro_global_english_white_2x.png":"/img/yahoo_mail_pro_global_english_white_2x_6fvmqN1KCFtED314VUMr6OENDqycSvk6ce7ajQRlAEg_v1.png","/img/yahoo_mailplus_scout_computer_and_mobile_1x.png":"/img/yahoo_mailplus_scout_computer_and_mobile_1x__09Bxw2KgZC1NLNTFvPQ5Z4-aucke5fIwhmYFuBgFjc_v1.png","/img/yahoo_mailplus_scout_computer_and_mobile_2x.png":"/img/yahoo_mailplus_scout_computer_and_mobile_2x_VlfhbKUTUuz64T_xqiVSCQIuQ9oNTvBiuP6zLFNWdmU_v1.png","/img/yahoo_new_logo_transparent_2x.png":"/img/yahoo_new_logo_transparent_2x_U0B35y0Lxr1NHcmpoTl73LyzRSGs75QJqA7lb_xHUQw_v1.png","/img/yahoo_new_logo_transparent.png":"/img/yahoo_new_logo_transparent_ohJYSScEirZzbmf7XzwB6NBbnyU25Agfqm4KzQPuoTw_v1.png","/img/yahoo_shopping_center_cat_1.png":"/img/yahoo_shopping_center_cat_1_exSFfEX314xDE98YN2VasujLqTNns-y7vRbIAtRkR9k_v1.png","/img/yahoo_shopping_center_cat_2.png":"/img/yahoo_shopping_center_cat_2_N_qwja5btZrmvdzgfpZ2I484SO3H6lldenTONK6wYEI_v1.png","/img/yahoo_shopping_center_title.png":"/img/yahoo_shopping_center_title_WmoZjsJngJ9z5TQRJooa9KXkvhD1vzVpebMht8ZDXC8_v1.png","/img/yahoo_shopping_center.png":"/img/yahoo_shopping_center_7n4ce9JAw1FYskS097YSOPVI53Q8T-u8VAtktdQfk3E_v1.png","/img/yahoo_shopping.png":"/img/yahoo_shopping_JHyZoMH8VDHH_uXxi3D1KUrdSBgCvTwUe84kIMbcvsY_v1.png","/img/ym7_landing_page_de_de_2x.png":"/img/ym7_landing_page_de_de_2x_Ez5hZu_LmQGlZsLEExOQTCznO_OqQ3KwMEhqKL3Dq74_v1.png","/img/ym7_landing_page_de_de.png":"/img/ym7_landing_page_de_de_S5SSY_eUEsC537sL42kKA6Wm3_tQ1u51w3OdpHkqGyw_v1.png","/img/ym7_landing_page_en_au_2x.png":"/img/ym7_landing_page_en_au_2x_bBtP9JVsyRUyriaoLwA1670h5KUJlBXwxQTdbuIPIQc_v1.png","/img/ym7_landing_page_en_au.png":"/img/ym7_landing_page_en_au_qvmLXfMHbIZym1fIFkAbHFEJmDvqlu9nj3bwU6FLW1I_v1.png","/img/ym7_landing_page_en_ca_2x.png":"/img/ym7_landing_page_en_ca_2x__N4_3kDbARGjWgaI7_CPHwVx4aKq5d2bJZNx76BfdPE_v1.png","/img/ym7_landing_page_en_ca.png":"/img/ym7_landing_page_en_ca_G-lZSuAaGHBtZo7yohNqSzW0hHig0qTZBz90REl-o80_v1.png","/img/ym7_landing_page_en_gb_2x.png":"/img/ym7_landing_page_en_gb_2x_rTJDh1oEoIqS3GOqEh0MWGG4jFNSj3XS_pAJXhG2LEU_v1.png","/img/ym7_landing_page_en_gb.png":"/img/ym7_landing_page_en_gb_WTpEt8HpuWfWQj-b0_wcKVyT_QSB-tYU_DdcRH7lpyI_v1.png","/img/ym7_landing_page_en_in_2x.png":"/img/ym7_landing_page_en_in_2x_bBtP9JVsyRUyriaoLwA1670h5KUJlBXwxQTdbuIPIQc_v1.png","/img/ym7_landing_page_en_in.png":"/img/ym7_landing_page_en_in_qvmLXfMHbIZym1fIFkAbHFEJmDvqlu9nj3bwU6FLW1I_v1.png","/img/ym7_landing_page_en_nz_2x.png":"/img/ym7_landing_page_en_nz_2x_bBtP9JVsyRUyriaoLwA1670h5KUJlBXwxQTdbuIPIQc_v1.png","/img/ym7_landing_page_en_nz.png":"/img/ym7_landing_page_en_nz_XqcTxUUcEJMUNC2O45Dp6sqTLEQCwq8GEPGXWS4bqAc_v1.png","/img/ym7_landing_page_en_ph_2x.png":"/img/ym7_landing_page_en_ph_2x_vfBWYCecvq1g5aRku57yjEEkY07Bkfw56spEZla7S_s_v1.png","/img/ym7_landing_page_en_ph.png":"/img/ym7_landing_page_en_ph_69mTxgCdvZkpkVoQmfo65yKDVYpauU9OnJztdmqwqZ8_v1.png","/img/ym7_landing_page_en_us_2x.png":"/img/ym7_landing_page_en_us_2x_yFQkZnf8-qnE-5E_KU8Gz2vhiq08NXjuPt_eiKpWbnE_v1.png","/img/ym7_landing_page_en_us.png":"/img/ym7_landing_page_en_us_h3sAP_lR7pjX94rSE1bgz3Pq0vsR3xjH3ASzDHpaT_w_v1.png","/img/ym7_landing_page_es_ar_2x.png":"/img/ym7_landing_page_es_ar_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_ar.png":"/img/ym7_landing_page_es_ar_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_cl_2x.png":"/img/ym7_landing_page_es_cl_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_cl.png":"/img/ym7_landing_page_es_cl_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_co_2x.png":"/img/ym7_landing_page_es_co_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_co.png":"/img/ym7_landing_page_es_co_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_es_2x.png":"/img/ym7_landing_page_es_es_2x_1H2hL3Vlb-dFnWv_4ZSXEqKs8TDXm7ZfbL8tCq7dlwI_v1.png","/img/ym7_landing_page_es_es.png":"/img/ym7_landing_page_es_es_WTanurpgToM8LefZSo3PTB-MDWbUxVCgksGOqLwZwRY_v1.png","/img/ym7_landing_page_es_mx_2x.png":"/img/ym7_landing_page_es_mx_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_mx.png":"/img/ym7_landing_page_es_mx_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_pe_2x.png":"/img/ym7_landing_page_es_pe_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_pe.png":"/img/ym7_landing_page_es_pe_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_us_2x.png":"/img/ym7_landing_page_es_us_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_us.png":"/img/ym7_landing_page_es_us_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_es_ve_2x.png":"/img/ym7_landing_page_es_ve_2x_IsKgwgk6UNoUj6-QchY-CH8C7ImGlxBpzy7rHNMJhqQ_v1.png","/img/ym7_landing_page_es_ve.png":"/img/ym7_landing_page_es_ve_TmTEHDv79p-bG05Vy0bR0B-Pk3FuacNzuOSKbZpZ9WQ_v1.png","/img/ym7_landing_page_fr_ca_2x.png":"/img/ym7_landing_page_fr_ca_2x_IhVGJ8DXIbLPKYNc5pS_eopQOxLA5HGTCOJ9D359o-o_v1.png","/img/ym7_landing_page_fr_ca.png":"/img/ym7_landing_page_fr_ca_FKW7WwdloO2BbJzCp9Rf2-_o551UiN7kt8w1SydgHo8_v1.png","/img/ym7_landing_page_fr_fr_2x.png":"/img/ym7_landing_page_fr_fr_2x_-iwREvGxNOXM25dycWdWIjR1ytZ8WsW-j5HI-VU-VsE_v1.png","/img/ym7_landing_page_fr_fr.png":"/img/ym7_landing_page_fr_fr_thd3GTsi3xaq9HKkzqkpSrQcn_X8x0mNzPdcVdDkvkg_v1.png","/img/ym7_landing_page_id_id_2x.png":"/img/ym7_landing_page_id_id_2x_ngRGqzcG7Jnqv6suyp8-tS1C7xgW4yttNvqbRUYlHmI_v1.png","/img/ym7_landing_page_id_id.png":"/img/ym7_landing_page_id_id_JU65wubd_rFTL_1Da4Y46fBjeHMHsoeCp9YDVF9ASX0_v1.png","/img/ym7_landing_page_pt_br_2x.png":"/img/ym7_landing_page_pt_br_2x_azy6_FvaqwEaMZPRQev1rHpT_aVlHeCM-ExW-R7kzCA_v1.png","/img/ym7_landing_page_pt_br.png":"/img/ym7_landing_page_pt_br_MqXISe5cYWMm62I_78WRyw2EVKfOpxJKPhU442k1NAY_v1.png","/img/ym7_landing_page_ro_ro_2x.png":"/img/ym7_landing_page_ro_ro_2x_yMXxHftQeZ5gI9bXQUcjCXeUeHWuTnM8T8C6g5rvX6I_v1.png","/img/ym7_landing_page_ro_ro.png":"/img/ym7_landing_page_ro_ro_mgxUtVBHyjbMWPiU85kKpVXeXoZ5TbVjtnRTvhIC68I_v1.png","/img/ym7_landing_page_zh_hk_2x.png":"/img/ym7_landing_page_zh_hk_2x_SyjuD3JEjTPXnbn12BQlhQgyJTWO22qNx9O3HLtSQyQ_v1.png","/img/ym7_landing_page_zh_hk.png":"/img/ym7_landing_page_zh_hk_EBtQC672RT8B_TVBt0eznqn_3NaGLg2nRiyx_fsxW08_v1.png","/img/ym7_landing_page_zh_tw_2x.png":"/img/ym7_landing_page_zh_tw_2x_lF_CwuQYaTtmm_6m-yrs2B6SEyxXlm91bl9NOHBlRNU_v1.png","/img/ym7_landing_page_zh_tw.png":"/img/ym7_landing_page_zh_tw_UQRr-J7CWVYopN0nAF5jZ8BfkZqEy97QOIyNqSadfEM_v1.png","/img/ymailplus_white_1x.png":"/img/ymailplus_white_1x_i8IktrjM_swg83ihDfWanqxXStOBUZWDiTtMHq3Q11w_v1.png","/img/ymailplus_white_2x.png":"/img/ymailplus_white_2x_lII5BXSC-KBAl-6qtlzv3Nfy_QRA_hZJVTO5bfHMHhw_v1.png","/img/ymobile_logo_1x.png":"/img/ymobile_logo_1x_wdI1JwVXxnLog_1Teq2RWaKNWSI3XbNBRXKehfzLM0I_v1.png","/img/ymobile_logo_2x.png":"/img/ymobile_logo_2x_LVfkgDiDtL45yK1WrfgU0gEzRnEUV3IICESAsYIL_Ko_v1.png","/img/ymobile_tom_logo_1x.png":"/img/ymobile_tom_logo_1x_D6-GumT0Oh8b8gR20pKnkY-dwlgPLMRxkDrxk2CTNeA_v1.png","/img/ymobile_tom_logo_2x.png":"/img/ymobile_tom_logo_2x_fD1XuuwQIsm8b70P4393GxenRCfjNel5YpM1OEw0hOA_v1.png","/img/zoids_robot.jpg":"/img/zoids_robot_V1bwHo753fwD7G60MYPqfQgNO-dKx7lUkrPml40x91g_v1.jpg","/html/status.html":"/html/status_NsIMApfRFdB9nTk9uhk8xFAt08_hm8m9QjmR2g0Vl9Y_v1.html","/json/aol_mobile_manifest.json":"/json/aol_mobile_manifest_iwMinduz2yiVZIS_C3BD-4gTmJfTJUf5EB_A-aVQ2ew_v1.json","/json/mobile_manifest.json":"/json/mobile_manifest_gTiy844snQwrJ7zRYXsNhVHc8rsf8qjgDbfKJ-1IYx0_v1.json","/json/web_manifest.json":"/json/web_manifest_zdmVWTe8Hdp05CX3yPbgNMfiiGr4DFZJOp0JdEBS8DM_v1.json"}'),l=a.q,c=/^\s*\//,d=/\/\s*$/;const _=(E=i,r()("object"==typeof E,"makeGetAssetUrlFn: assets is not an object."),e=>{const t=(0,o.Eo)(),s=(0,o.nM)(),a=(0,o.$9)();return r()(0!==e.indexOf(l),`getURL was called twice for ${e}. This is not supported. Check your code for accidential double calls.`),r()(e in E||t||s||a,`getURL was called outside of pre-staging deployments or devbox for ${e} which does not exist in the asset map. Check your build process.`),e=E[e]||e,l.replace(d,"")+"/"+e.replace(c,"")});var E},17901:(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var a=s(97665),n=s(42655),r=s(63352),o=s(8106),i=s(43373),l=s(34443);function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class d{constructor(e){(0,r.Z)(!!e.loggerName,"loggerName is missing");const{loggerName:t,loggerParams:s={},crumb:a,wssid:n,isOnline:o=(()=>!0),endpoints:i={}}=e;this.loggerName=t,this.loggerParams=s,this.endpoints=i,a&&(this.crumbValue=a),n&&(this.wssid=n),this.isOnline=o,this.getMailboxParams=()=>({})}get crumb(){return this.crumbValue||""}set crumb(e){e&&(this.crumbValue=e)}get wssid(){return(0,o.jU)()?d.wssid||"":this.wssidValue||""}set wssid(e){e&&((0,o.jU)()?d.wssid=e:this.wssidValue=e)}setRequestBlocked(e=!1){(0,o.jU)()&&(d.requestBlocked=e)}isRequestBlocked(e=!0){return!!(0,o.jU)()&&(e&&d.requestBlocked)}getRequestBlockedPromise(){return Promise.reject(new n.Z("BaseClient.RequestBlocked","",{errorCode:"REQUEST_BLOCKED",statusCode:0}))}logRequest(e,t,s="",a=0){this._logRequest(e,t,s,a).catch((()=>{}))}_logRequest(e,t,s,r=0){const o={isOnline:this.isOnline(),...this.loggerParams,...t},c=s||this.loggerName,d=a.Z.feature(c,o);return e.then((e=>{if(!e)throw new n.Z("BaseClient.EmptyResponse");if(d.logSuccessAndLatency(),(t=e)&&t.error instanceof Error&&(e.error.message===l.gv||e.error.message===l.Rv||e.error.message===l.eM))throw e.error;var t})).catch((e=>{e=this.handleCommonError(e);const t=o.apiName;this.isRetryableError&&this.isRetryableError(e,r,t)||(e.data&&!1===e.data.isOnline&&(o.isOnline=!1),i.apiErrorLogger(a.Z,c,o,e))}))}handleYdodError(e){const{statusCode:t}=e;if(429===t)return this.setRequestBlocked(!0),e}handleCommonError(e){let t=null;return e=n.Z.errorify(e),this.handleAuthError&&(t=this.handleAuthError(e)),t||(t=this.handleYdodError(e)),this.handleWssidReissueError&&!t&&(t=this.handleWssidReissueError(e)),t||e}setMailboxParams(e){this.getMailboxParams=e}shouldRetry(e,t){return!(!t||408!==t.status)||(!e||"ECONNRESET"!==e.code)&&void 0}}c(d,"wssid",""),c(d,"crumb",""),c(d,"requestBlocked",!1);const _=d},97665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/base_client")},60037:(e,t,s)=>{"use strict";s.d(t,{$y:()=>S,Gf:()=>r,Ib:()=>u,LO:()=>m,WW:()=>n,ZI:()=>_,_v:()=>E,hR:()=>o,im:()=>l,sh:()=>c,vo:()=>d,zg:()=>i});var a=s(95406);const n="Boundary_721950_932302703_1435368466480",r=6e4,o=9e4,i=12e4,l=1250,c=20,d="BROWSER_TO_BOOTCAMP_STRATEGY",_="BROWSER_TO_NODE_STRATEGY",E="NODE_TO_BOOTCAMP_STRATEGY",u=((0,a.gP)(["searchTenorGifs","searchGifs","getGifCategories","localStores"]),{mx:["es-MX"],ar:["es-AR"],cl:["es-CL"],co:["es-CO"],pe:["es-PE"],ve:["es-VE"],br:["pt-BR"],es:["es-ES"],it:["it-IT"],nl:["nl-NL"],dk:["da-DK"],fi:["fi-FI"],no:["nb-NO"],se:["sv-SE"],tw:["zh-TW"],hk:["zh-HK"],sg:["en-SG"],id:["en-ID"],my:["en-MY"],ph:["en-PH"],th:["th-TH"],vn:["vi-VN"],us:["en-US","es-US"],ca:["en-CA","fr-CA"],in:["en-IN"],uk:["en-GB"],ie:["en-IE"],fr:["fr-FR"],de:["de-DE"],at:["de-AT"],ch:["fr-CH","de-CH","it-CH"],au:["en-AU"],nz:["en-NZ"]}),m={AUDIO:"AUDIO",PDF:"PDF",PRESENTATION:"PRESENTATION",SPREADSHEET:"SPREADSHEET",WORD_DOCUMENT:"WORD_DOCUMENT",VIDEO:"VIDEO"},S={[m.AUDIO]:"audio",[m.PDF]:"application/pdf",[m.PRESENTATION]:["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.google-apps.presentation"].join(","),[m.SPREADSHEET]:["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.google-apps.spreadsheet"].join(","),[m.WORD_DOCUMENT]:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.google-apps.document"].join(","),[m.VIDEO]:"video"}},73749:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/bootcamp_client")},61908:(e,t,s)=>{"use strict";s.d(t,{U8:()=>i,XT:()=>l});var a=s(37422),n=s(68591);const r={[a.Tzw.YAHOO]:{ALPHA_HOST:"https://alpha-mg.mail.yahoo.com",BETA_HOST:"https://beta-mg.mail.yahoo.com",CANARY_HOST:"https://canary-mg.mail.yahoo.com",GLOBAL_HOST:"https://mail.yahoo.com",GLOBAL_NORRIN_HOST:"https://mail.yahoo.com/d",GLOBAL_NOBLE_HOST:"https://mail.yahoo.com/m/",GLOBAL_NODIN_HOST:"https://mail.yahoo.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.yahoo.com/mb/",GLOBAL_DEVBOX_HOST:"https://norrin.mail.yahoo.com",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.yahoo.com",INTERNAL_JWS_HOST:(0,n.Sf)()?"internal.apis.mail.yahoo.com:4443":"internal.apis.mail.yahoo.com",IDENTITY_API_HOST:"api.login.yahoo.com",PSEARCH_HOST:(0,n.Sf)()?"https://prodfalcon-mtls.psearch.yahoo.com:4443":"https://data.mail.yahoo.com",BOOTCAMP_HOST:"https://data.mail.yahoo.com",XOBNI_MTLS:"https://xobni-marcopolo-production.mail-xobni-pachinko-k8s.omega.yahoo.com:4443",GUCE_CONSENT_HOST:"guce.yahoo.com",INTERNAL_BOOTCAMP_HOST:"https://prodfalcon.psearch.yahoo.com/",MEMBER_PROFILE_HOST:"api.memberprofile.yahoo.com/memberprofile/v1/yahoo/@me",CALENDAR_HOST:"https://calendar.yahoo.com/"},[a.Tzw.AOL]:{ALPHA_HOST:"https://alpha-mg.mail.aol.com",BETA_HOST:"https://beta-mg.mail.aol.com",CANARY_HOST:"https://canary-mg.mail.aol.com",GLOBAL_HOST:"https://mail.aol.com",GLOBAL_NORRIN_HOST:"https://mail.aol.com/d/",GLOBAL_NOBLE_HOST:"https://mail.aol.com/m/",GLOBAL_NODIN_HOST:"https://mail.aol.com/b/",GLOBAL_NOBLE_BASIC_HOST:"https://mail.aol.com/mb/",GLOBAL_DEVBOX_HOST:"https://norrin.mail.aol.com",CREDSTORE_HOST:"https://api.credstore.yahoo.com",JWS_HOST:"apis.mail.aol.com",INTERNAL_JWS_HOST:(0,n.Sf)()?"internal.apis.mail.aol.com:4443":"internal.apis.mail.aol.com",IDENTITY_API_HOST:"api.login.aol.com",PSEARCH_HOST:(0,n.Sf)()?"https://prodfalcon-mtls.psearch.aol.com:4443":"https://data.mail.aol.com",BOOTCAMP_HOST:"https://data.mail.aol.com",GUCE_CONSENT_HOST:"guce.aol.com",XOBNI_MTLS:"https://data.mail.aol.com",INTERNAL_BOOTCAMP_HOST:"https://prodfalcon.psearch.aol.com/",MEMBER_PROFILE_HOST:"api.memberprofile.yahoo.com/memberprofile/v1/aol/@me",CALENDAR_HOST:"https://dev.calendar.aol.com/"}},o={[a.Tzw.YAHOO]:{NORRIN_APP_ID:"YMailNorrin",NORRIN_LAUNCH_APP_ID:"YMailNorrinLaunch",NOBLE_APP_ID:"YMailNoble",BASIC_MAIL_APP_ID:"YMailNodin",BASIC_MOBILE_APP_ID:"YMailMini"},[a.Tzw.AOL]:{NORRIN_APP_ID:"AolMailNorrin",NORRIN_LAUNCH_APP_ID:"AolMailNorrinLaunch",NOBLE_APP_ID:"AolMailNoble",BASIC_MAIL_APP_ID:"AolMailNodin",BASIC_MOBILE_APP_ID:"AolMailMini"}},i=e=>r[e]||r[a.Tzw.YAHOO],l=e=>o[e]||o[a.Tzw.YAHOO]},71887:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});const a=100},98109:(e,t,s)=>{"use strict";s.d(t,{$I:()=>c,CW:()=>R,Em:()=>p,Fq:()=>C,H6:()=>u,LX:()=>l,Mj:()=>g,Pu:()=>E,Sp:()=>S,Vr:()=>o,X5:()=>h,XH:()=>N,YA:()=>A,aB:()=>a,a_:()=>d,dW:()=>i,df:()=>D,iw:()=>m,kl:()=>n,lC:()=>I,py:()=>r,vG:()=>T,vY:()=>_,wV:()=>O});const a={HtmlPrimary:"HTML_PRIMARY",VideoPreview:"VIDEO_PREVIEW",VideoPrimary:"VIDEO_PRIMARY",NativeAdType:"NativeAdType",VideoAdType:"VideoAdType",PencilAdType:"PencilAdType",SearchAdType:"SearchAdType",PortraitAdType:"PortraitAdType",VideoPortraitAdType:"VideoPortraitAdType",PortraitCarouselAdType:"PortraitCarouselAdType",FlashSaleAdType:"FlashSaleAdType",ShoppingCartAdType:"ShoppingCartAdType",ImagePortrait:"IMAGE_PORTRAIT",ImagePortraitWithBG:"IMAGE_PORTRAIT_BG",CarouselImage:"MULTI_IMAGE",VideoPortrait:"VIDEO_PORTRAIT"},n="https://n.gemini.yahoo.com:4443",r="/var/run/athenz/service.key.pem",o="/var/run/athenz/service.cert.pem",i="/ssi",l=4e3,c=5443516,d=5582415,_=5600859,E=5600859,u=5690923,m="secOrigImagePortrait",S="secHqImage",p="secLargeImage",C=5545469,A=5554834,T=5545468,I=5545467,h=5602797,g=5682471,O="ADEXTENSIONTYPE_CALL",D=[5600747,5682471],R={bucket:"bk",apiVersion:"ve",size:"sz",sectionId:"se",creativeCode:"cc",contentType:"ct",adCount:"tk",propertyName:"ui",siteLanguage:"sl",countryCode:"co",requestId:"ri",publisherInfo:"pb",contentInHttps:"hs",forceFilter:"ff",format:"format",nonRevenue:"nr",adCategories:"ac",referer:"pu",domain:"dm",categories:"ic"},N={5564699:18,5564699:5,[g]:6}},6097:(e,t,s)=>{"use strict";s.d(t,{W:()=>f,Z:()=>P});var a=s(12476),n=s.n(a),r=s(80569),o=s.n(r),i=s(96943),l=s(95406),c=s(17016),d=s(8106);const _="superagent_retry",E=(0,l.gP)(["RETRIED","SUCCESS","FAIL"]);var u=s(42655),m=s(34443);const S=/<!-- status code : (\d{3}) -->\n<!-- ([\s\S]*?) -->\n<!-- host machine: ([\s\S]*?) -->/,p={400:"BAD_REQUEST",404:"NOT_FOUND",408:"ETIMEDOUT",413:"PAYLOAD_TOO_LARGE",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT",522:"CONNECTION_TIMEOUT"};function C(e){if(e&&e.status>204){const{text:t="",status:s,body:a,header:n}=e;let r="NOT_OK_STATUS";s>=400&&(S.test(t)?r="YCPI":function(e){return!!p[e]}(s)&&(r=p[s]));const o={responseText:t,body:a,errorCode:r,statusCode:s,headers:n};return new u.Z("HttpTransport.NotOkStatusCode","",o)}}function A(e,t,s){let a;return a||(a=function(e){if(e&&e.crossDomain){const{message:t,status:s}=e,a=!(0,d.jU)()||navigator.onLine;return new u.Z("HttpTransport.OutboundError",t,{errorCode:"OUTBOUND",statusCode:s,isOnline:a})}}(e)),a||(a=function(e){if(e&&"ENOTFOUND"===e.code)return new u.Z("HttpTransport.ServerNotFound",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNREFUSED"===e.code)return new u.Z("HttpTransport.ConnectionRefused",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNRESET"===e.code)return new u.Z("HttpTransport.ConnectionReset",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&"ECONNABORTED"===e.code)return new u.Z("HttpTransport.ConnectionTimedOut",e.message,{errorCode:e.code,errno:e.errno})}(e)),a||(a=function(e){if(e&&(e.parse||"SyntaxError"===e.name))return new u.Z("HttpTransport.ParseError",e.message,{statusCode:e.statusCode,errorCode:"SyntaxError"===e.name?"SyntaxError":"ParseError",responseText:e.rawResponse})}(e)),a||(a=function(e){const t=e&&e.status;if(e&&403===t){let a;const n=e.type||"";try{a="text/html"===n&&e.text?JSON.parse(e.text)||{}:e.body||{}}catch(s){a={}}if((a.name||"")===m.di)return new u.Z(m.di,"",{data:a.data||"",errorCode:"CRUMB",statusCode:t})}}(t)),a||(a=C(t)),a||(a=function(e,t){const s=t&&t.get("Accept")||"",a=e&&e.type||"";if(s&&a&&a.toLowerCase().indexOf(s.toLowerCase())<0)return new u.Z("HttpTransport.ContentTypeError",`request:${s}-response:${a}`,{errorCode:"CONTENT_TYPE_MISSMATCH",statusCode:e?e.status:0,html:e?e.text:"",headers:e?e.header:{}})}(t,s)),a||(a=function(e,t){if(e||!t)return new u.Z("GenericError",e&&`${e.name}: ${e.message}`||"")}(e,t)),a}var T=s(37422);const I=[T.f2m.GET,T.f2m.HEAD],h=3e4;function g(e){if(!function(e){return!!T.f2m[e]}(e=e.toUpperCase()))throw new TypeError(`Expected ${e} to be one of HttpMethods`);return e}class O extends class{send(e){return new Promise(((t,s)=>{const a=this._getRequest(e);a.end(((e,n)=>{const r=A(e,n,a);if(r)return s(r);t(this._mapResponse(n))}))}))}_includeFormDataPlugin(e){return!(0,d.jU)()&&e!==T.f2m.GET&&e!==T.f2m.HEAD}_getRequest({method:e,url:t,body:s,withCredentials:a,headers:n,fields:r,attachments:l,parser:u,timeout:m=h,httpRetry:S=0,shouldRetry:p=(()=>!1),apiName:C="",tls:A={},uploadProgressCallback:T}){const I=g(e),O=o()[this._getSuperagentMethodName(I)](t);return this._includeFormDataPlugin(I)&&O.use((()=>{})),this._setBody(O,I,s),a&&O.withCredentials(),this._setHeaders(O,n),this._setFields(O,r),this._setAttachments(O,l),this._setParser(O,u),this._setRetry(O,S,p),this._setUploadProgressCallback(O,T),this._setTLS(O,A),m&&O.timeout(m),C&&O.use(function(e){return function(t){return t._originalEnd=t._end,t._originalShouldRetry=t._shouldRetry,t._end=()=>{const e=t._retries;return e>0&&(t.url=(0,d.Y0)(t.url,{retries:e})),t._originalEnd()},t._shouldRetry=(s,a)=>{const n=t._originalShouldRetry(s,a),r=t._retries,o=a&&a.status||"N/A",l=(0,c.getQueryParamByName)(t.url,"ymreqid")||"";let d=s&&s.code||([200,201,202,204].includes(o)?"N/A":"NOT_OK_STATUS");if(s&&s.crossDomain&&(d="OUTBOUND"),1===r&&n&&(i.Z.error(_,{apiName:e,ymreqid:l,errorCode:d,statusCode:o,state:E.RETRIED}),t.retryErrorCode=d,t.retryStatusCode=o),2===r){const{retryErrorCode:a="",retryStatusCode:n=""}=t;s||o>204?i.Z.error(_,{apiName:e,ymreqid:l,errorCode:d,statusCode:o,retryErrorCode:a,retryStatusCode:n,state:E.FAIL}):i.Z.error(_,{apiName:e,ymreqid:l,retryErrorCode:a,retryStatusCode:n,state:E.SUCCESS})}return n},t}}(C)),O}_getSuperagentMethodName(e){switch(e){case T.f2m.GET:return"get";case T.f2m.DELETE:return"del";case T.f2m.HEAD:return"head";case T.f2m.PATCH:return"patch";case T.f2m.POST:return"post";case T.f2m.PUT:return"put"}}_mapResponse(e){return{body:e.body,text:e.text,status:e.status,headers:e.header}}_setBody(e,t,s){~I.indexOf(t)?e.query(s||{}):e.send(s)}_setHeaders(e,t){t&&Object.keys(t).forEach((s=>{e.unset(s),e.set(s,t[s])}))}_setFields(e,t){t&&Object.keys(t).forEach((s=>{e.field(s,t[s])}))}_setAttachments(e,t){t&&Object.keys(t).forEach((s=>{var a;const n=`=?UTF-8?b?${a=t[s].name,btoa(unescape(encodeURIComponent(a)))}?=`;e.attach(s,t[s],n)}))}_setParser(e,t){t&&e.parse(((e,s)=>{e.text="",e.on("data",(t=>{e.text+=t})),e.on("end",(()=>{t(e.text,s)}))}))}_setRetry(e,t,s){e.retry(t,s)}_setUploadProgressCallback(e,t){t&&e.on("progress",t)}_setTLS(e,t){t.key&&e.key(t.key),t.cert&&e.cert(t.cert),t.ca&&e.ca(t.ca)}}{createStream(e){const t=this._getRequest(e),s=n()();let a=!1;if("undefined"!=typeof window&&window.AppBootstrapData){const{browserName:e,browserVersion:t}=window.AppBootstrapData;a="Edge"===e&&15===parseInt(t,10)}return t.on("progress",(e=>{a||(e.currentTarget||(a=!0),s.emit("data",e.currentTarget?e.currentTarget.responseText:""))})),t.end(((e,n)=>{const r=A(e,n,t);r?setImmediate((()=>{s.emit("error",r)})):setImmediate((()=>{a&&s.emit("data",n.text),s.emit("end")}))})),s}}var D=s(63352),R=s(17337),N=s.n(R);function L(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f=T.f2m,M=new(N());const P=class{constructor(e,t,s={}){L(this,"adapter",new O),L(this,"withCredentials",!1);const{uploadProgressCallback:a,timeout:n=h,httpRetry:r=0,shouldRetry:o=(()=>!1),apiName:i="",tls:l={}}=s;this._method=e.toUpperCase(),(0,D.Z)(this._method in T.f2m,`Invalid HTTP method. Valid options are: ${Object.keys(T.f2m)}`),this._timeout=n,this._url=t,this._headers={},this._fields={},this._attachments={},this._httpRetry=r,this._shouldRetry=o,this._apiName=i,this._uploadProgressCallback=a,this._tls=l}setHeader(e,t){return this._headers[e]=t,this}setCookieHeader(e){(0,D.Z)("string"==typeof e&&e.length>0,"Cookie should not be empty"),this.setHeader("Cookie",e)}setField(e,t){return this._fields[e]=t,this}setAttachment(e,t){return this._attachments[e]=t,this}setParser(e){return this._parser=e,this}setRetry(e){return this._httpRetry=e,this}send(e){e&&(this._body=e);const t={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,timeout:this._timeout,httpRetry:this._httpRetry,shouldRetry:this._shouldRetry,apiName:this._apiName,uploadProgressCallback:this._uploadProgressCallback,tls:this._tls},s=this.adapter.send(t);return s.then((()=>{M.emit("success")}),(e=>{e.url=this._url,M.emit("error",e)})),s}createStream(e){e&&(this._body=e);const t={withCredentials:!!this.withCredentials,method:this._method,url:this._url,headers:this._headers,fields:this._fields,attachments:this._attachments,parser:this._parser,body:this._body,tls:this._tls,timeout:this._timeout},s=this.adapter.createStream(t);return s.on("error",(e=>M.emit("error",e))),s}static on(e,t){M.on(e,t)}static off(e,t){M.off(e,t)}static emit(e,t){M.emit(e,t)}}},99839:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/info")},63352:(e,t,s)=>{"use strict";function a(e,t,s={}){if(!e){const e=new Error(t);e.name="Invariant";throw!s||0===Object.keys(s).length||(e.data=s),e}return e}s.d(t,{Z:()=>a})},30925:(e,t,s)=>{"use strict";s.d(t,{LQ:()=>n,_o:()=>o,aU:()=>r});const a=(0,s(99095).defineMessages)({general:{id:"shortcut_group.general",defaultMessage:"General"},selection:{id:"shortcut_group.selection",defaultMessage:"Checking/Unchecking"},action:{id:"shortcut_group.actions",defaultMessage:"Actions"},attachmentPreview:{id:"shortcut_group.attachmentPreview",defaultMessage:"Attachment Preview"}}),n={priority:0,id:"general",description:a.general},r=(a.selection,{priority:2,id:"action",description:a.action}),o={priority:3,id:"attachmentPreview",description:a.attachmentPreview}},8881:(e,t,s)=>{"use strict";s.d(t,{$S:()=>o,ng:()=>r,tq:()=>l,vL:()=>i});var a=s(67294),n=s(99095);const r=",",o="+",i={reply:{key:"R",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.reply",defaultMessage:"Reply"}))},replyAll:{key:"A",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.reply_all",defaultMessage:"Reply All"}))},forward:{key:"F",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.forward",defaultMessage:"Forward"}))},print:{key:"P",description:a.createElement("strong",null,a.createElement(n.FormattedMessage,{id:"shortcut.print",defaultMessage:"Print"}))}},l=["r","a","f","p"]},46046:(e,t,s)=>{"use strict";s.d(t,{m:()=>d,t:()=>_});var a=s(67294),n=s(99095),r=s(8881),o=s(63352);const i={};let l=0;function c(e,t,s){const o={};if(Object.keys(s).forEach((e=>{o[e]=++l})),!0===e)return o;const c=t.id;let d=i[c];return d||(i[t.id]=d={group:t,keys:[]}),Object.keys(s).forEach((e=>{const{key:t,description:i}=s[e],l=function(e,t){for(let s=0;s<e.length;s++){const r=e[s],o=r.description;if(o===t)return r;if(!(a.isValidElement(o)&&o.type!==n.FormattedMessage||a.isValidElement(t)&&t.type!==n.FormattedMessage)&&(a.isValidElement(o)?o.props.id:o.id)===(a.isValidElement(t)?t.props.id:t.id))return r}}(d.keys,i);if(l)l.key.indexOf(t)<0&&(l.key+=r.ng+t);else{const s={id:o[e],key:t,description:i};-1===d.keys.indexOf(s)&&d.keys.push(s)}})),o}function d({invisible:e,group:t,keys:s}){!function(e,t,s){(0,o.Z)(e||"object"==typeof t&&"string"==typeof t.description.id,`The 'group' has to be an object returned by React Intl's defineMessages. Currently we got ${t}`),Object.keys(s).forEach((t=>{const n=s[t];(0,o.Z)(e||a.isValidElement(n.description)||"object"==typeof n.description&&"string"==typeof n.description.id,`The 'message' has to be an object returned by React Intl's defineMessages\n            or has to be an instance of a React element (FormattedMessage). Currently, the key is ${t}`)}))}(e,t,s);return function(e,t){const s={};return Object.keys(e).forEach((a=>{const{key:n}=e[a],r=t[a];s[a]=e=>({id:r,key:n,callback:e})})),s}(s,c(e,t,s))}function _(){return i}},39713:(e,t,s)=>{"use strict";s.d(t,{Cn:()=>o,LX:()=>n,Uk:()=>r});var a=s(37422);const n=3e4,r=`${a.JKT}/location_autosuggest_api/getLocationAutoSuggestion`,o=858204},96943:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/app")},60039:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(37422),n=s(4119),r=s(95406),o=s(63352),i=s(9026);const l={getBlockPayload:(e,t)=>{(0,o.Z)(a.g$3.hasOwnProperty(t.attributeId),`Unknown mailbox attribute: ${t.attributeId}`);return{id:e,uri:`/ws/v3/mailboxes/@.id==${t.mailboxId}/attributes/@.id==${t.attributeId}`,method:"GET"}},transformResponse:(e,t)=>{const{id:s,value:o}=e.response.result,l={};if(Object.keys(a.jUj).some((e=>a.CbW[e]===s))?l[s]={value:o[s],testAndSet:o.testAndSet}:l[s]=o,s===a.CbW.LEGAL_JURISDICTION&&(l[s]={value:{country:l[s].value||"",tags:l[s].tags||[]}}),s===a.CbW.CONSENT_EVENTS){const e=[];Object.keys(l[s]).forEach((t=>{"optedIn"===(0,r.u9)(l[s],`${t}.status`,"")&&e.push(t)})),l[s]={value:e}}if(s===a.CbW.CP_SUBSCRIPTIONS){var c;const e=(null===(c=l[s])||void 0===c?void 0:c.subscriptions)||void 0;l[s]={value:e}}return s===a.CbW.COMPOSE_FONT_SIZE&&"16"===l[s].value&&(l[s].value=n.k5[16]),s===a.CbW.COMPOSE_FONT_FAMILY&&"Helvetica Neue"===l[s].value&&(l[s].value=a.H4h.FAMILY),s===a.CbW.AOL_MSG_LIST_DENSITY&&-1===l[s].value&&(l[s].value=a.Ds1.RELAXED),s===a.CbW.THEME&&"purple"===l[s].value&&(l[s].value=(null==t?void 0:t.userNamespace)===a.Tzw.AOL?i.b3.AOL:i.b3.DEFAULT),s===a.CbW.THEME_MODE&&"light"===l[s].value&&(l[s].value=i.zg.LIGHT),s===a.CbW.PLAY_SOUND_MODE&&0===l[s].value&&(l[s].value=-1),l}}},590:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Z});var a=s(17901),n=s(51917),r=s(95406),o=s(8106),i=s(63352),l=s(54418),c=s(6097),d=s(42655),_=s(34443);function E(e,t){let s=null;return s||(s=function(e,t){if(0===t.indexOf("launch.")){const{message:s,statusCode:a,errorCode:n,extraStatusCode:r="",extraErrorCode:o=""}=e;let i=15;return 429===a&&(i=19),new d.Z(_.BM,s,{apiName:t,code:i,errorCode:n,statusCode:a,extraErrorCode:o,extraStatusCode:r,...e.data})}return null}(e,t)),s||e}var u=s(79137),m=s(37422),S=s(17673),p=s(97665),C=s(17016),A=s(55831),T=s(62631),I=s(88913);const h=["EC-4001","EC-4002","EC-4004","EC-4020"],g=[{errorCode:"EC-4007",methodName:"messages.UnifiedUpdate"}];class O{constructor({endpoints:e}){(0,i.Z)(e,"endpoints is missing in BatchRequest"),(0,i.Z)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s,a,n){if(!n[e])throw new Error(`Invalid method '${e}'.\n                List of available methods: ${JSON.stringify(Object.keys(n))}`);const r=n[e];if(s&&!s.timeout&&this._isGSBMethod(e)&&(s.timeout=6e4),!r.getBatchPayload)throw new TypeError("Method "+e+" does not implement the required function `getBatchPayload`");const o=r.getBatchPayload(t,s);if(null==o||0===Object.keys(o).length||0===o.requests.length)return Promise.reject(new d.Z("MailApiClient.EmptyRequestPayload",Object.assign({methodName:e,ymreqid:s.ymreqid,errorCode:"EMPTY_REQUEST"},t)));const i=Object.assign({},o,{responseType:"json"});s.hash=(0,C.getHash)(i,s.wssid,s.retryCount,this._getHeaders(s,r,t));const l=this._getEndpoint(e,s),{apiDebounceManager:c}=s;return c.get(e).execute({execute:()=>this._request(e,l,i,s,a,r,t),hash:s.hash,log:({duration:t,counter:a,active:n})=>{p.Z.error("mail_api_client_debounced",{apiName:e,hash:s.hash||"",ymreqid:s.ymreqid||"",appId:s.appId||"",useHostname:s.useHostname||!1,duration:t,counter:a,active:n})}})}_getHeaders(e,t,s){return Object.assign({},this._getCustomHeaders(t,s),e.headers)}_request(e,t,s,a,n,o,i){const l=this._getHeaders(a,o,i),{appId:c="",ymreqid:d="",debugRequestPayload:m=!1}=a;return this._sendRequest(e,t,s,a,n,l).then((l=>{let E,m;const S=(0,r.u9)(l,"body.result.responses",[]);if(!S.length){const e=(0,r.u9)(l,"text","Not Available"),t=(0,r.u9)(l,"headers","Not Available"),s=Object.assign(e?{}:{headers:t},{responseText:e});E=new u.Z(_.PM,{},!0,s)}else m=this._generateSuccessAndFailureResponses(S),E=this._getError(o,m,i,e);if(E){const{retryCount:r=0}=a,{statusCode:l,errorCode:u,extraStatusCode:m,extraErrorCode:S,isRetryable:C=!1}=E;if(a.isComposite&&C&&r<1)return a.retryCount=r+1,this._request(e,t,s,a,n,o,i);if(E.message!==_.Zh)throw E;p.Z.error("mail_api_unhandled_error",{apiName:e,appId:c,ymreqid:d,statusCode:l,errorCode:u,extraStatusCode:m,extraErrorCode:S})}return o.transformResponses(m,{...a,...i},s)})).catch((t=>{const{errorCode:a="",name:n=""}=t;if(m&&(h.indexOf(a)>-1||g.find((t=>t.errorCode===a&&t.methodName===e))||"TypeError"===n)){let t;try{t=JSON.stringify(s)}catch(r){t=r.message}p.Z.error("debug_request_payload",{apiName:e,appId:c,ymreqid:d,errorCode:a,requestPayload:t})}throw t=E(t,e)||t}))}_generateSuccessAndFailureResponses(e){const t={successMap:{},failureMap:{}};return e.forEach((e=>{e.httpCode<400?t.successMap[e.id]=e:t.failureMap[e.id]=e})),t}_getError(e,t,s,a){const{successMap:n,failureMap:o}=t,i=Object.keys(o).length,{externalAndPhoneRegTrapPage:l}=s;if(-1!==a.indexOf("launch.")&&n.GetMailboxes){const e=(0,r.u9)(n.GetMailboxes,"response.result.mailboxes",[]);if(e.length>1){const t={GetMailboxes:{id:"GetMailboxes",response:e}};return new u.Z(_.mm,t,!1)}}if(l&&n.GetAccounts){const e=(0,r.u9)(n.GetAccounts,"response.result.accounts",[]),t=e.find((e=>e.isPrimary&&(e.type===m.tO8.EXTERNAL||e.type===m.tO8.PHONE)));if(t&&l){if(!e.find((e=>{const{status:t}=e;return(0,T.Cs)(e)&&(t===m.dpb.ENABLED||t===m.dpb.PENDING)})))return new d.Z(_.gM,{accountType:t.type},!1)}}if(e.getBatchError){const n=e.getBatchError(t,s);return"mailbox.syncNow"===a?n:!n&&i?new u.Z(_.Zh,o):n}return i?new u.Z(_.dO,o):null}_getCustomHeaders(e,t){let s=null;return e.getHeaders&&(s=e.getHeaders(t)),s}_setCustomHeaders(e,t){t&&Object.keys(t).forEach((s=>{e.setHeader(s,t[s])}))}_isGSBMethod(e){return/^messages\.[a-z]+(Bodies|BodiesFull)$/i.test(e)}_sendRequest(e,t,s,a,n,r){const{timeout:o,httpRetry:l,shouldRetry:c,uploadProgressCallback:d,jediClientPriorityValue:_}=a,E=a.tls?a.tls:{},u=new O.Transport("post",t,{timeout:o,httpRetry:l,shouldRetry:c,apiName:e,uploadProgressCallback:d,tls:E});return a.cookie&&u.setCookieHeader(a.cookie),a.jwtTokenHeader&&u.setHeader("Athenz-Authorization",a.jwtTokenHeader),_&&((0,i.Z)("background"===_,"invalid client priority value"),u.setHeader("yahoo-client-priority",_)),u.setHeader("Accept","application/json"),this._setCustomHeaders(u,r),u.setField("batchJson",JSON.stringify(s)),n&&n.forEach((e=>{u.setAttachment(encodeURIComponent(e.name),e)})),u.send()}_getEndpoint(e,t){const{appId:s="",wssid:a="",ymreqid:n="",useHostname:r=!1,hash:o="",retryCount:l=0}=t,c=(0,I.Eo)()||(0,I.nM)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,d=(0,A.ow)(c),_=r?`${d}://${c}`:"";(0,i.Z)(a,"wssid is required for making request to JEDI"),(0,i.Z)(n,"ymreqid is required for making request to JEDI");const E=Object.assign({name:e,hash:o,appId:s,ymreqid:n,wssid:a},l>0?{retryCount:l}:{});return _+"/ws/v3/batch?"+S.stringify(E)}}var D,R,N;D=O,R="Transport",N=c.Z,R in D?Object.defineProperty(D,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):D[R]=N;const L=O,f=m.JKT+"/mail_api/",M=(e,t,s,a,n,r)=>{const o=new c.Z("post",f+e+"?crumb="+a+"&ymreqid="+s+"&wssid="+n,{httpRetry:r});return o.setHeader("Accept","application/json"),o.send({params:t,ymreqid:s}).then((e=>e.body))};var P=s(42907);var b=s(44908),y=s.n(b),v=s(18446),F=s.n(v);const U={[m.CbW.DELIVERY_BLOCKED_SENDERS]:"senders",[m.CbW.SCOUT_ONBOARDING]:"value",[m.CbW.NODIN_ONBOARD]:"value"};var k=s(60039);const w=(e,t,s={},a,n,o)=>`${(0,A.ow)(e)}://${e}/ws/v3/mailboxes/@.id==${t}/attributes/@.select==q?q=${(0,r.VO)(s).map((e=>encodeURIComponent(`attrid:${e}`))).join("+")}&appid=${a}&wssid=${n}&ymreqid=${o}`,G=e=>{const{attributes:t=[]}=e;return t.reduce(((e,t)=>{const s=function(e){return{response:{result:e}}}(t),a=k.Z.transformResponse(s);return Object.assign(e,a)}),{})};class H extends L{request(e,{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r=m.Asd.CARD_DATE_DESC,accountId:o},i,l,c){return super.request("refundCards.getList",{mailboxId:t,filter:s,count:a,offset:n,sortOrder:r,accountId:o},i,l,c).then((e=>{const s=[],a=[];return e.cardGroupList.forEach((e=>{e.messages.forEach((e=>{-1===a.indexOf(e.cardConversationId)&&a.push(e.cardConversationId)}))})),a.length>0?(i.ymreqid=i.ymreqidGenerator.generate(),s.push(super.request("messages.getExtractions",{mailboxId:t,cardConversationIds:a},i,l,c))):s.push(Promise.resolve({result:{extractedMessagesList:[]}})),Promise.all(s).then((([t])=>{const s=t.result.extractedMessagesList.filter((e=>e&&e.decos&&e.decos.some((e=>e&&e.id&&e.id===m.Jd6.EML)))),a=s.map((e=>e.cardConversationId)),n=e.cardGroupList.filter((e=>e.messages.every((e=>-1!==a.indexOf(e.cardConversationId))))),r=s.reduce(((e,t)=>({...e,[t.id]:{...t}})),{});return{messageGroupsResponses:{cardGroupList:n,hasMoreItems:e.hasMoreItems,offset:e.offset},parentMessagesMap:r}}))}))}}var B=s(97324),x=s(61908);class V extends a.Z{constructor({appName:e=m.BQZ.MAIL_APP,appId:t=m.JfS,userNamespace:s=m.Tzw.YAHOO,guidHash:a,wssid:r,crumb:c,cookie:d,loggerParams:_,httpRetry:E,requestQueue:u,isOnline:S,throttleAPIList:p,batchMethods:C,headers:T={},jwsYHeaders:I={},endpoints:h={},executeRequestsSequentially:g=(0,o.jU)(),config:O={},buckets:D},R){if(super({loggerName:m.BrN.MailAPIClient,loggerParams:(0,o.jU)()?{}:_,crumb:c,wssid:r,isOnline:S,endpoints:h}),"string"==typeof R&&!V.STRATEGIES[R])throw new Error("strategy has to be one of "+JSON.stringify(Object.keys(V.STRATEGIES)));(0,i.Z)(h.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.batchMethods=C,this.appName=e,this.appId=t,this.userNamespace=s,this.cookie=d,this.headers=Object.assign({},T,I),this.httpRetry=E,this.strategy=R||this._getDefaultStrategy(),this._validateStrategy(this.strategy),this.buckets=D,g&&((0,i.Z)(u,"if you are executing requests sequentially, you must pass a request queue."),this.executeRequestsSequentially=!0,this.requestQueue=u),a&&(this.ymreqidGenerator=new n.Z(a,m.N7x,m.Q_q)),this.apiDebounceManager=new A.E8(p||{}),this.debugRequestPayload=(0,l._)(O,"debugRequestPayload")}static getBatchRequest(e,t){return new(V.BATCH_REQUESTS[e]||V.BATCH_REQUESTS.Batch)({endpoints:t})}_getDefaultStrategy(){return(0,o.jU)()?V.STRATEGIES.BROWSER_TO_JEDI:V.STRATEGIES.NODE_TO_JEDI}_validateStrategy(e){if((0,o.jU)()&&e===V.STRATEGIES.NODE_TO_JEDI)throw new Error(V.STRATEGIES.NODE_TO_JEDI+" strategy can not be used in the browser");if(!(0,o.jU)()&&[V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI,V.STRATEGIES.BROWSER_TO_JEDI].indexOf(e)>-1)throw new Error(V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI+" or "+V.STRATEGIES.BROWSER_TO_JEDI+" strategies can not be used on the server")}_getRequest(e,t,s,a){if(s.useHostname=s.strategy===V.STRATEGIES.NODE_TO_JEDI,s.strategy===V.STRATEGIES.BROWSER_TO_NODE_TO_JEDI)return(0,i.Z)(!a,"We cannot proxy a request with files."),M.bind(null,e,t,s.ymreqid,this.crumb,this.wssid,s.httpRetry);const n=V.getBatchRequest(e,this.endpoints);return n.request.bind(n,e,t,s,a,this.batchMethods)}request(e="",t={},s={},a){if(!s.ymreqid&&!this.ymreqidGenerator)throw new Error("`ymreqid` is missing. You should either specify `ymreqid` in `requestConfig` object when making a request or initialize MailAPIClient with `guidHash`, so that it can generate a new one");const n=this.strategy===V.STRATEGIES.NODE_TO_JEDI&&s.ymreqid?s.ymreqid:this.ymreqidGenerator.generate(),{retryCount:r=0,retryErrorCode:i="",retryStatusCode:l="",retryYmreqid:c="",uploadProgressCallback:d}=s,_={useHostname:null,ymreqid:n,cookie:this.cookie,retryCount:r};s.crumb&&(this.crumb=s.crumb),s.wssid&&(this.wssid=s.wssid);const E=(0,x.XT)(this.userNamespace);this.appId!==E.NORRIN_APP_ID||(0,o.jU)()||s.appId||(s.appId=E.NORRIN_LAUNCH_APP_ID),_.appName=s.appName||this.appName,_.appId=s.appId||this.appId,_.userNamespace=this.userNamespace,_.ymreqid=n,_.wssid=s.wssid||this.wssid,_.strategy=s.strategy||this.strategy,_.noRetry=s.noRetry,_.timeout=s.timeout,_.headers=s.headers||this.headers,_.uploadProgressCallback=d,_.httpRetry=this.httpRetry,_.shouldRetry=this.shouldRetry,_.loggerParams=this.loggerParams,_.apiDebounceManager=this.apiDebounceManager,_.debugRequestPayload=this.debugRequestPayload,_.tls=void _.appId,_.jwtTokenHeader=void _.appId,_.ymreqidGenerator=this.ymreqidGenerator,_.jediClientPriorityValue=this.jediClientPriorityValue,this._validateStrategy(_.strategy);const u=this.getMailboxParams(),m=Array.isArray(t)?t.map((e=>({...e,...u}))):{...t,...this.getMailboxParams()},S=this._getRequest(e,m,_,a),p={apiName:e,ymreqid:n,retryCount:r};let C;return t.prefetchMode&&(p.prefetchMode=t.prefetchMode),"document.fetch"===e&&(p.documentId=t.documentId||"",p.mimeType=t.mimeType||"",p.size=t.size||"",p.ext=t.extension||"",p.page=`${t.startPage}-${t.endPage}`,p.pageRetryCount=t.retryCount,p.isFirstReq=0===t.retryCount&&1===t.startPage),t.batchRelatedCards&&(p.batchRelatedCards=!0),1===r&&Object.assign(p,{retryErrorCode:i,retryStatusCode:l,retryYmreqid:c}),C=this.isRequestBlocked("checkMail"!==e)?this.getRequestBlockedPromise():this.executeRequestsSequentially?this.requestQueue.add(S,e):S(),this.logRequest(C,p,null,r),C.then((e=>(this.setRequestBlocked(!1),e)),(o=>{if(o=this.handleCommonError(o),this.isRetryableError(o,r,e)){const{errorCode:l="",statusCode:c=""}=o,d=Object.assign({},s,{retryCount:r+1,retryYmreqid:n||"",retryErrorCode:l,retryStatusCode:c});return-1!==l.indexOf("DOC-814")?(i=2e3,new Promise((e=>setTimeout(e,i)))).then((()=>this.request(e,t,d,a))):this.request(e,t,d,a)}var i;throw o}))}handleAuthError(e){const{statusCode:t}=e;if(401===t&&!(0,o.aX)()){const s=(0,r.u9)(e,"data.body.error.code","");return new d.Z(_.tO,{statusCode:t,errorCode:s,body:e.getDataByName("body",""),refresh:!0})}return null}handleWssidReissueError(e){const{statusCode:t}=e;let{errorCode:s}=e;if(400===t&&(s=s||(0,r.u9)(e,"data.body.error.code",""),"EC-4003"===s)){const a=(0,r.u9)(e,"data.body.error.details.wssid","");if(a)return this.wssid=a,new d.Z(_.bD,{statusCode:t,errorCode:s,wssid:a})}return null}isRetryableError(e,t,s){if((this.appName===m.BQZ.BASIC_MAIL_APP||this.appName===m.BQZ.BASIC_MOBILE_APP)&&-1===Object.keys(B.ih).indexOf(s))return!1;if(t<1){const{isRetryable:t=!1,name:s="",errorCode:a="",statusCode:n=0}=e;if(s===_.bD)return!0;if("HttpTransport.NotOkStatusCode"===s&&(n>=500&&501!==n||408===n))return!0;if(["ECONNABORTED","OUTBOUND"].indexOf(a)>-1)return!0;if(t)return!0}return!1}shouldRetry(e,t){if(t&&t.status&&(t.status>=500||408===t.status))return!1;if(e){if(e.timeout&&"ECONNABORTED"===e.code)return!1;if(e.crossDomain)return!1}return super.shouldRetry(e,t)}withClientPriority(e){return this.jediClientPriorityValue=e,this}}V.STRATEGIES=(0,r.gP)(["NODE_TO_JEDI","BROWSER_TO_NODE_TO_JEDI","BROWSER_TO_JEDI"]),V.BATCH_REQUESTS={Batch:L,checkMail:class extends L{request(e,{accountId:t,mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:l,highestModSeq:c,resetUnseenCount:d,alertStoreHighestModSeq:_,excludeFolderTypes:E,shouldSelectAll:u},S={},p,C){return S.isComposite=!0,super.request("mailbox.sync",{mailboxId:s},S,p,C).then((e=>{const A=(0,P.YY)(e.folders),T=A[a],I=!(T&&void 0!==c&&T.highestModSeq===c),h=[],g=Object.keys(A).find((e=>-1!==A[e].types.indexOf(m.Sck.ALERTSTORE))),O=(A[g]||"").highestModSeq,D=!(!_||!O||_===O);return I||D?(I?(S.ymreqid=S.ymreqidGenerator.generate(),h.push(super.request("messageGroups.getList",{mailboxId:s,folderId:a,sortOrder:n,filter:r,count:o,offset:i,conversationsMode:l,excludeFolderTypes:E,shouldSelectAll:u},S,p,C))):h.push(Promise.resolve()),D?h.push(super.request("account.getAlerts",{mailboxId:s},S,p,C)):h.push(Promise.resolve([])),d&&h.push(super.request("unseenCount.reset",{mailboxId:s,accountId:t},S,p,C)),Promise.all(h).then((([t,s])=>({...e,...t,accountAlerts:s})))):e}))}},saveArrayAttributes:class extends L{request(e,{mailboxId:t,attribute:s,items:a,overWrite:n=!1,dedupFn:o=null},i={},l,c){i.isComposite=!0;const d=e=>super.request("settings.saveWebMailboxAttributes",{mailboxId:t,attributes:[{id:s,value:e}]},i,l,c);return Array.isArray(a)?(0,r.VO)(m.CbW).indexOf(s)<0?Promise.reject("attribute must be defined first."):n?d(a).then((()=>a)):(()=>super.request("mailbox.getAttributes",{mailboxId:t,attributes:{[s]:s}},i,l,c).then((({responses:e})=>{const t=U[s]||s,a=e[s][t];return Array.isArray(a)?a:Promise.reject("current list is not an array")})))().then((e=>{let t;return t="function"==typeof o?o(e.concat(a)):y()(e.concat(a)),F()(e.sort(),t.sort())?Promise.resolve(t):(i.ymreqid=i.ymreqidGenerator.generate(),d(t).then((()=>t)))})):Promise.reject("provided list must be an array")}},getReceipts:H,getMoreReceipts:H,listMailboxAttributes:class{constructor({endpoints:e}){(0,i.Z)(e.INTERNAL_JWS_HOST,"INTERNAL_JWS_HOST is missing in endpoints"),this.endpoints=e}request(e,t,s){const{attributes:a,mailboxId:n}=t,{appId:o,wssid:i,timeout:l,cookie:d,ymreqid:_}=s,E=(0,I.Eo)()||(0,I.nM)()?this.endpoints.JWS_HOST:this.endpoints.INTERNAL_JWS_HOST,u=w(E,n,a,o,i,_),m=new c.Z("get",u,{timeout:l,tls:undefined});return m.setCookieHeader(d),m.setHeader("Accept","application/json"),m.send().then((e=>{const t=(0,r.u9)(e,"body.result",{});return{mailboxAttributes:G(t)}}))}}};const Z=V},55831:(e,t,s)=>{"use strict";s.d(t,{E8:()=>I,L_:()=>i,Lq:()=>h,R1:()=>d,cF:()=>o,jZ:()=>S,m3:()=>C,od:()=>m,om:()=>_,ow:()=>g,v2:()=>p,z_:()=>u});var a=s(37422),n=s(8106),r=s(68591);const o=encodeURIComponent(":"),i=encodeURIComponent(" "),l=encodeURIComponent("("),c=encodeURIComponent(")"),d=encodeURIComponent("["),_=encodeURIComponent("]"),E=/(?:^|[\s(])folderid:(\d+)/i,u=["SYNC","INVISIBLE"];function m(e){let t="";switch(e){case a.ukn.PEOPLE:t+=`${i}is${o}personal`;break;case a.ukn.SHOPPING:t+=`${i}is${o}shopping`;break;case a.ukn.UPDATES:t+=`${i}decoId${o}${a.Jd6.UPE}`;break;case a.ukn.TRAVEL:t+=`${i}is${o}travel`;break;case a.ukn.TRAVEL_VIEW_UPCOMING:case a.ukn.TRAVEL_VIEW_PAST:t+=`${i}decoId${o}FLR`;break;case a.ukn.SAVED_COUPON_CARDS:t+=`${i}decoId${o}${l}CPN${i}TAG${c}`;break;case a.ukn.ALL_COUPON_CARDS:t+=`${i}decoId${o}${l}CPN${c}`;break;case a.ukn.ALL_REFUND_CARDS:t+=`${i}decoId${o}${l}ORD${c}`;break;case a.ukn.ALL_WALLET_CARDS:t+=`${i}decoId${o}${l}${a.Jd6.EEG}${i}OR${i}${a.Jd6.EEP}${c}`;break;case a.ukn.ALL_DEAL_RECOMMENDATION_CARDS:t+=`${i}decoId${o}${l}EER${c}`;break;case a.ukn.FINANCE:t+=`${i}is${o}financial`;break;case a.ukn.SOCIAL:t+=`${i}decoId${o}${a.Jd6.SOL}`;break;case a.ukn.OLDMAIL:t+=`${i}is${o}read`;break;case a.ukn.NEWMAIL:t+=`${i}is${o}unread`;break;case a.ukn.NEWSLETTERS:t+=`${i}decoId${o}${a.Jd6.NER}`;break;case a.ukn.PRIORITY:t+=`${i}decoId${o}${a.Jd6.PRY}`;break;case a.ukn.OFFERS:t+=`${i}decoId${o}${a.Jd6.PRN}`}return t}function S(e){const t=e&&e.base||"";return(E.exec(t)||[])[1]||"1"}function p(e){const t=Number(function(e,t,s){if(!e[t])return"";const a=e[t].split(" ").map((e=>e.split(":"))).filter((([e])=>e===s));return 0===a.length?"":a[0][1]||""}(e,"options","count"));return isNaN(t)?0:t}function C(e,t,s){return Array.isArray(t)?Array.prototype[s?"every":"some"].call(t,(t=>C(e,t))):e&&e.some((e=>e&&e.id&&e.id===t))}class A{constructor(e,t,s){this.promise=e,this.counter=t||1,this.time=Date.now()+(s||0),e.then((e=>(this.time=Date.now(),e)))}increaseCount(){this.counter+=1}age(){return Date.now()-this.time}isActive(e){return this.age()<e}getExponentialDelayTime(){return Math.min(100+Math.pow(2,this.counter),2147483647)}getExponentialDelayedPromise(){return new Promise(((e,t)=>{this.promise.then((t=>{setTimeout((()=>{e(t)}),this.getExponentialDelayTime())}),(e=>{setTimeout((()=>{e.errorCode="DEBOUNCED",t(e)}),this.getExponentialDelayTime())}))})).then((e=>(this.time=Date.now(),e)),(e=>{throw this.time=Date.now(),e}))}}class T{constructor({TTL:e=0,logTTL:t=a.Cwb,activate:s=!1}){this.TTL=e,this.logTTL=Math.max(t,e),this.active=s,this.recentCallMap={}}cleanUpExpiredEntries(){const e=Date.now(),t={};Object.keys(this.recentCallMap).filter((t=>e-this.recentCallMap[t].time<this.logTTL)).forEach((e=>t[e]=this.recentCallMap[e])),this.recentCallMap=t}execute(e){const t=Date.now(),{hash:s,log:a=(()=>{})}=e;this.cleanUpExpiredEntries();const n=this.recentCallMap[s],r=this.active&&n&&n.isActive(this.TTL);return n&&(n.increaseCount(),a({duration:n.age(),counter:n.counter,active:r})),r?(n.time=t,n.getExponentialDelayedPromise()):(this.recentCallMap[s]=new A(e.execute(),n&&n.counter,this.TTL),this.recentCallMap[s].promise)}}class I{constructor(e){this.map={},this.defaultTTL=200,this.active=!(!e||!Object.keys(e).length),this.TTLList=e,this.active&&(this.defaultTTL=e.default||200)}get(e){if(!(0,n.jU)())return{execute:e=>e.execute()};const t=this.TTLList.hasOwnProperty(e)?this.TTLList[e]:this.defaultTTL;return this.map[t]||(this.map[t]=new T({TTL:t,activate:this.active})),this.map[t]}}function h(e){return e&&e.find((e=>e.isSelected))||{}}function g(e){return e.indexOf("internal")>-1&&!(0,r.Sf)()?"http":"https"}},97324:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,ih:()=>i,jR:()=>r});var a=s(95406);s(37422).jQ2,(0,a.gP)(["ADD_BASENAME","ADD_DEA","EDIT_DEA","ADD_SENDAS","EDIT_SENDAS","ADD_IMAPIN","EDIT_ACCOUNT","EDIT_DEFAULT_SENDING"]);const n="folderType",r=["to_list","cc_list","bcc_list","editMode","editAccount","sortOrder","action","offset","mrdparam","toB","showImages","expandSenders","unblockNow","fid","confirmAction","categoryId","mailboxId","domain","originFolderId","taskId","bulkAction","clickSrc","sentMid","alertCode","filterIndex","originalSearchQueryKeyword","originalSearchQueryAccountIds","updateCount"],o=r.concat(n),i=((0,a.gP)(["Error","Warning","Information"]),(0,a.gP)(["replied","forwarded"]),(0,a.gP)(["MESSAGE_LIST_ACCESS_FAILED","MESSAGE_VIEW_ACCESS_FAILED","SEARCH_LIST_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","FOLDERS_LIST_ACCESS_FAILED","SETTINGS_ACCESS_FAILED","CONTACTS_ACCESS_FAILED"]),(0,a.gP)(["UNREAD","READ","READ_DARK","STAR","UNSTAR","UNSTAR_DARK","ATTACHMENT_DARK","SPAM_DARK","SPAM_BLUE","TRASH_DARK","TRASH_BLUE","TRASH_MINI_MEDIUM","TRASH_MINI_RED","EDIT","EDIT_BLUE","CLOSE_MINI","CLOSE","CLOSE_MINI_BLUE","CLOSE_BLUE","CHEVRON_RIGHT","CHEVRON_DOUBLE_RIGHT","CHEVRON_RIGHT_BLUE","CHEVRON_DOUBLE_RIGHT_BLUE","CHEVRON_RIGHT_DARK","CHEVRON_DOUBLE_RIGHT_DARK","CHEVRON_LEFT","CHEVRON_DOUBLE_LEFT","CHEVRON_LEFT_BLUE","CHEVRON_DOUBLE_LEFT_BLUE","CHEVRON_LEFT_DARK","CHEVRON_DOUBLE_LEFT_DARK","ARROW_LEFT_DARK","ARROW_RIGHT_DARK","ARROW_LEFT_BLUE","ARROW_RIGHT_BLUE","REPLY","REPLY_ALL","FORWARD","REPLY_BLUE","REPLY_ALL_BLUE","FORWARD_BLUE","REPLY_RTL","REPLY_ALL_RTL","FORWARD_RTL","REPLY_BLUE_RTL","REPLY_ALL_BLUE_RTL","FORWARD_BLUE_RTL","PRINT","PRINT_BLUE","CHEVRON_UP_DARK","CHEVRON_DOWN_DARK","CHEVRON_UP_BLUE","CHEVRON_DOWN_BLUE","CHEVRON_UP","CHEVRON_DOWN","REPLIED","FORWARDED","SEARCH","CLOSE_WHITE","ERROR","SUCCESS","MAIL","YBANG","ARROW_UP","ARROW_DOWN","AOL","ADS","TRUSTED"]),(0,a.gP)(["asc","desc"]),(0,a.gP)(["first","last","email"]),(0,a.gP)(["PENDING","COMPLETED","FAILED","ABORTED"]),{"message_list.get":"message_list.get","search_list.get":"search_list.get","message_view.get":"message_view.get","folder_list.get":"folder_list.get","skeleton.get":"skeleton.get","settings.get":"settings.get","settings.getFeatureAttributes":"settings.getFeatureAttributes"})},19793:(e,t,s)=>{"use strict";s.d(t,{L1:()=>i,N7:()=>n,Q_:()=>a,iJ:()=>o,qj:()=>r,zJ:()=>l});const a=Math.floor(65535*Math.random()),n=28,r="https://data.mail.yahoo.com/xobni",o="https://data.mail.aol.com/xobni",i="AolMail",l="YMailNoble"},4119:(e,t,s)=>{"use strict";s.d(t,{DD:()=>d,F3:()=>n,N4:()=>i,TS:()=>r,fq:()=>_,jQ:()=>l,k5:()=>o,vX:()=>c});var a=s(95406);const n=[{name:"modern",label:"Modern",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'},{name:"modernwide",label:"Modern Wide",fontFamily:"verdana, helvetica, sans-serif"},{name:"classic",label:"Classic",fontFamily:'"times new roman", "new york", times, serif'},{name:"classicwide",label:"Classic Wide",fontFamily:'"bookman old style", "new york", times, serif'},{name:"courier",label:"Courier New",fontFamily:'"courier new", courier, monaco, monospace, sans-serif'},{name:"comicsans",label:"Comic Sans MS",fontFamily:'"comic sans ms", sans-serif'},{name:"garamond",label:"Garamond",fontFamily:'garamond, "new york", times, serif'},{name:"impact",label:"Impact",fontFamily:"impact, sans-serif"},{name:"lucida",label:"Lucida Console",fontFamily:'"lucida console", sans-serif'}],r=[{name:"tiny",fontSize:1,value:"10px"},{name:"small",fontSize:2,value:"13px"},{name:"medium",fontSize:3,value:"16px"},{name:"mediumplus",fontSize:4,value:"18px"},{name:"large",fontSize:5,value:"24px"},{name:"xlarge",fontSize:6,value:"32px"},{name:"huge",fontSize:7,value:"48px"}],o={10:"1",13:"2",16:"3",24:"5",32:"6",48:"7"},i={TINY:"10px",SMALL:"13px",MEDIUM:"16px",MEDIUMPLUS:"18px",LARGE:"24px",XLARGE:"32px",HUGE:"48px"},l=300,c={EDITOR:"editor",FROM:"from",TO:"to",SUBJECT:"subject",CC:"cc",BCC:"bcc"},d=["to","cc","bcc"],_=(0,a.gP)(["SENDING","SENT","SEND_FAILED"])},37422:(e,t,s)=>{"use strict";s.d(t,{$AH:()=>nn,$Fz:()=>_n,$It:()=>fe,$WX:()=>Fn,$eb:()=>D,$iD:()=>Zn,$y3:()=>nt,A3t:()=>Nn,AE_:()=>Ct,AGu:()=>x,AJg:()=>Ws,ANM:()=>dt,ANe:()=>ca,Asd:()=>mt,B6i:()=>pa,BC:()=>Ma,BQZ:()=>R,BY2:()=>Sa,B_Z:()=>jt,BrN:()=>Js,Bs7:()=>Cn,Bwi:()=>Ba,C2H:()=>He,C5$:()=>Hn,C96:()=>Gn,CUo:()=>it,CbW:()=>Ke,CuF:()=>Re,Cwb:()=>xa,DAQ:()=>ae,DBG:()=>Oa,DES:()=>ye,DTB:()=>A,DU2:()=>wa,DUg:()=>Fr,Ds1:()=>rs,DxA:()=>re,EeM:()=>On,Egu:()=>hs,El5:()=>Me,EsZ:()=>ts,Ewo:()=>gs,F6k:()=>Bt,FXF:()=>rn,Fa7:()=>H,Fio:()=>es,Fmq:()=>bt,FyA:()=>zn,G1D:()=>Xn,GVQ:()=>As,Gos:()=>ht,Gui:()=>ha,GyM:()=>Tr,H4h:()=>ls,HH7:()=>za,Hzy:()=>Aa,I$x:()=>ot,ICb:()=>Ys,IQB:()=>Rr,ITc:()=>ka,IZo:()=>$e,Ic2:()=>Ss,Iu_:()=>In,JKT:()=>qe,JaR:()=>qs,Jd6:()=>Ra,JfS:()=>c,K24:()=>pt,K8C:()=>j,KOI:()=>F,KW1:()=>C,KZr:()=>h,KfW:()=>Er,L1J:()=>l,LDx:()=>oa,LJ$:()=>Ia,LNv:()=>hr,Led:()=>Cr,Lvq:()=>Qs,Lz3:()=>Pa,MKR:()=>$n,MSy:()=>Ar,Ma6:()=>Jt,MdG:()=>Is,Mit:()=>Ta,MrV:()=>pr,Msg:()=>ys,Mwh:()=>sn,N7x:()=>gt,N9o:()=>Ua,NTC:()=>Ft,NVH:()=>we,Ncq:()=>ke,NdR:()=>aa,Nq8:()=>xs,OIv:()=>on,OcD:()=>Fs,Ojf:()=>$a,Ouo:()=>Mt,OzC:()=>Qt,P$E:()=>ja,PP5:()=>gn,Pkg:()=>ns,PmI:()=>$,Q_q:()=>Ot,Qj:()=>X,Qk$:()=>qa,Ql2:()=>An,R8U:()=>Ms,RaK:()=>yt,RfP:()=>ee,Rtf:()=>Da,S2z:()=>O,SEm:()=>_s,Sck:()=>W,TOL:()=>ur,TS:()=>er,TVr:()=>ir,Tt3:()=>te,Tzw:()=>S,U4$:()=>Gt,UA:()=>Xa,UGh:()=>fa,UHK:()=>Fe,UZQ:()=>Ea,UcZ:()=>Vs,UeM:()=>mr,Ure:()=>br,V82:()=>Or,VRv:()=>Qn,VT0:()=>f,Vky:()=>vr,W2H:()=>Jn,WHu:()=>os,WNU:()=>Ht,WSI:()=>rr,Waq:()=>ln,Weh:()=>Ja,XLK:()=>Za,YKE:()=>Pn,YMA:()=>cs,Ygm:()=>Kt,ZB9:()=>Us,ZFS:()=>Sn,ZH2:()=>Ks,ZJ3:()=>Ka,ZUn:()=>Bs,Zd2:()=>va,Zrf:()=>da,Zs1:()=>Qe,ZyO:()=>bs,_72:()=>Pt,_Ab:()=>fn,_L:()=>m,_WP:()=>Ue,_ob:()=>Es,_pp:()=>qt,_re:()=>cn,_t3:()=>xn,_tT:()=>U,a$_:()=>ms,a1v:()=>ss,a7S:()=>Y,aib:()=>ie,aj8:()=>se,alB:()=>p,alR:()=>fr,av1:()=>k,b39:()=>dr,bA8:()=>Mr,bCC:()=>qn,bCI:()=>et,bRD:()=>Dn,bUm:()=>Ie,bW1:()=>St,bYh:()=>ne,bcr:()=>Bn,bf3:()=>P,bxj:()=>xe,c7l:()=>b,c8t:()=>en,cNW:()=>ea,cSU:()=>Ca,cZM:()=>an,cab:()=>hn,cip:()=>Na,cqM:()=>vs,d$d:()=>J,d1h:()=>ia,dK:()=>En,dpb:()=>Ut,e$m:()=>Ga,e3F:()=>tr,eG4:()=>as,eMV:()=>vt,eN2:()=>ar,eie:()=>Un,f2m:()=>lr,f8s:()=>sr,fd8:()=>Dr,fi6:()=>mn,fpK:()=>la,g$3:()=>ze,gUS:()=>d,gaM:()=>ra,hJP:()=>us,hKF:()=>Ya,hmI:()=>$t,hqH:()=>kn,hyX:()=>I,hym:()=>_a,i9C:()=>vn,iHz:()=>T,iZF:()=>sa,ibP:()=>Je,ie0:()=>Et,ioU:()=>Gs,irZ:()=>st,izb:()=>Rs,jH6:()=>N,jQ2:()=>Xe,jUj:()=>Ye,j_x:()=>v,jdT:()=>ds,jdn:()=>La,k5w:()=>Zs,k92:()=>ps,kGi:()=>ws,kac:()=>rt,ki7:()=>Kn,kuZ:()=>Sr,l9v:()=>w,lHI:()=>Be,lMo:()=>M,lsH:()=>Ps,m$L:()=>_,mUW:()=>Pr,mVv:()=>zt,n4w:()=>u,n8z:()=>je,nM3:()=>nr,nMQ:()=>Tt,nQQ:()=>yr,n_g:()=>lt,nac:()=>E,nht:()=>bn,niV:()=>Rn,nnY:()=>Xs,nuI:()=>Z,nxP:()=>kt,o4:()=>K,oSR:()=>at,oc$:()=>G,ofO:()=>V,owd:()=>Nr,pIz:()=>gr,pQ$:()=>g,pVt:()=>Dt,pdX:()=>Wn,pnD:()=>L,qAl:()=>Fa,qBs:()=>ya,qd8:()=>fs,qdE:()=>Wa,qwE:()=>Yt,qxq:()=>Nt,r9t:()=>Lr,rBF:()=>tn,rRt:()=>Tn,rS$:()=>ba,rUt:()=>oe,rgK:()=>ga,ryB:()=>un,sDs:()=>q,sKi:()=>B,sSc:()=>le,sUv:()=>Lt,sWL:()=>Xt,sZ3:()=>Os,skz:()=>Va,slz:()=>tt,snh:()=>js,t0h:()=>Mn,tO8:()=>Rt,tTi:()=>is,tX8:()=>At,tdP:()=>Vt,tlB:()=>z,tq2:()=>ct,u5h:()=>Ds,u82:()=>ua,uXU:()=>ta,uXt:()=>Q,ukn:()=>Wt,v6P:()=>Ns,vGy:()=>ma,vaW:()=>dn,vc$:()=>Ir,vrh:()=>$s,w3P:()=>y,w9A:()=>Cs,wKQ:()=>Ne,wi4:()=>Ts,woE:()=>zs,wp2:()=>ve,wxL:()=>na,x5k:()=>Ur,xDW:()=>wn,xLM:()=>wt,xRm:()=>yn,xem:()=>It,xmI:()=>Qa,yU$:()=>jn,yhH:()=>Ln,ylH:()=>Hs,zCd:()=>Vn,zQK:()=>he,zUD:()=>Ge,zae:()=>ut,zgU:()=>_r,zkc:()=>Le,zoT:()=>ks,zy8:()=>or,zzX:()=>Yn});var a=s(15632),n=s(95406),r=s(4119),o=s(19793),i=s(51487);const l=o.L1,c="YMailNorrin",d=o.zJ,_="YMailNodin",E="AolMailNorrin",u="AolMailNodin",m=959521194;let S;!function(e){e.YAHOO="yahoo",e.AOL="aol"}(S||(S={}));const p=2,C=3,A=1e4,T=500,I=3,h=3,g=500,O=500,D=3;let R,N;!function(e){e.MAIL_APP="MAIL_APP",e.MAILBOXES_APP="MAILBOXES_APP",e.MOBILE_APP="MOBILE_APP",e.BASIC_MAIL_APP="BASIC_MAIL_APP",e.BASIC_MOBILE_APP="BASIC_MOBILE_APP"}(R||(R={})),function(e){e.NEXTGENHOME="nextgenhome"}(N||(N={}));const L="EMPTY_SEARCH_QUERY",f="STORE_FORWARD",M={IC:"ic"},P="monetization";let b;!function(e){e.MESSAGE="MESSAGE",e.COMPOSE="COMPOSE",e.SEARCH="SEARCH",e.NAVIGATION="NAVIGATION",e.MAIL_READER="MAIL_READER",e.PREVIEW="PREVIEW",e.SPONSORED_MESSAGE="SPONSORED_MESSAGE",e.TUTORIAL="TUTORIAL",e.TODAYPAGE="TODAYPAGE",e.SEND_CONFIRMATION="SEND_CONFIRMATION",e.SUBSCRIPTION_LIST="SUBSCRIPTION_LIST",e.STOREFRONT="STOREFRONT",e.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL="EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL",e.CONTACTS_FULL_PANE="CONTACTS_FULL_PANE",e.ONBOARDING="ONBOARDING",e.WALLET="WALLET"}(b||(b={}));const y=(0,n.gP)(["ALERT","CONFIRM","PROMPT"]);let v,F;!function(e){e.NORMAL="NORMAL",e.ADVISORY="ADVISORY",e.WARNING="WARNING",e.POSITIVE="POSITIVE",e.NEGATIVE="NEGATIVE",e.PENDING="PENDING",e.FORWARDING_WARNING="FORWARDING_WARNING",e.GDPR_WARNING="GDPR_WARNING"}(v||(v={})),function(e){e.FONT_SIZE="fontsize",e.FONT_NAME="fontname",e.BOLD="bold",e.ITALIC="italic",e.UNDERLINE="underline",e.STRIKETHROUGH="strikeThrough",e.FORE_COLOR="forecolor",e.BACK_COLOR="backcolor",e.CREATE_LINK="createlink",e.UNORDERED_LIST="bullet",e.ORDERED_LIST="number",e.ALIGN_LEFT="left",e.ALIGN_RIGHT="right",e.ALIGN_CENTER="center",e.INDENT="indent",e.OUTDENT="outdent"}(F||(F={}));const U={ALERT_DIALOG:"alertdialog",STATUS:"status",ALERT:"alert"},k={ALERT_DIALOG:"assertive",STATUS:"polite",ALERT:"assertive"},w={LOW:1,MEDIUM:2,HIGH:3},G=(0,n.gP)(["READ","STAR","SPAM","HAM","MOVE","DELETE","ANSWER","FORWARD","DECO","RECENT"]),H=(0,n.gP)(["SUCCESS","ASYNC","FAIL","PARTIAL"]);let B;!function(e){e.LAUNCH="LAUNCH",e.DOCUMENT_FETCH="DOCUMENT_FETCH",e.COMPOSE_SUGGESTIONS_FETCH="COMPOSE_SUGGESTIONS_FETCH",e.SEARCH_SUGGESTIONS_FETCH="SEARCH_SUGGESTIONS_FETCH",e.IMPORTANT_CONTACTS_FETCH="IMPORTANT_CONTACTS_FETCH",e.VIDEO_CHANNELS_METADATA_FETCH="VIDEO_CHANNELS_METADATA_FETCH",e.VIDEO_CHANNEL_FETCH="VIDEO_CHANNEL_FETCH",e.COMPOSE="COMPOSE",e.MESSAGE_ITEM_TO_FETCH="MESSAGE_ITEM_TO_FETCH",e.MESSAGE_ITEM_TO_UPDATE="MESSAGE_ITEM_TO_UPDATE",e.LIST_TO_UPDATE="LIST_TO_UPDATE",e.CARD_TO_FETCH="CARD_TO_FETCH",e.GEMINI_AD_ASSET="GEMINI_AD_ASSET",e.SETTINGS_TO_CHANGE="SETTINGS_TO_CHANGE",e.BLOCKED_SENDERS_TO_FETCH="BLOCKED_SENDERS_TO_FETCH",e.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH="FILTERS_AND_BLOCKED_SENDERS_TO_FETCH",e.GEMINI_AD="GEMINI_AD",e.RELATED_SEARCHES_TO_FETCH="RELATED_SEARCHES_TO_FETCH",e.ASYNC_TASK_STATUS="ASYNC_TASK_STATUS",e.OLYMPIC_CONTENT_TO_FETCH="OLYMPIC_CONTENT_TO_FETCH",e.COMPONENT_UI_STATE="COMPONENT_UI_STATE",e.CONTACT_CARD="CONTACT_CARD",e.GIFS_TO_FETCH="GIFS_TO_FETCH",e.GIF_CATEGORY_TO_FETCH="GIF_CATEGORY_TO_FETCH",e.CONTACT_LIST_TO_FETCH="CONTACT_LIST_TO_FETCH",e.ACCOUNT_TO_UPDATE="ACCOUNT_TO_UPDATE",e.BASENAME_TO_CREATE="BASENAME_TO_CREATE",e.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH",e.FOLDER="FOLDER",e.RSVP_FETCH="RSVP_FETCH",e.VACATION_RESPONSE_SETTINGS="VACATION_RESPONSE_SETTINGS",e.MORE_ITEMS_TO_FETCH="MORE_ITEMS_TO_FETCH",e.RAW_MESSAGE="RAW_MESSAGE",e.RAW_MESSAGE_TO_FETCH="RAW_MESSAGE_TO_FETCH",e.RELATED_COUPONS_TO_FETCH="RELATED_COUPONS_TO_FETCH",e.PARENT_MESSAGE_TO_FETCH="PARENT_MESSAGE_TO_FETCH",e.COUPON_RECOMMENDATIONS_TO_FETCH="COUPON_RECOMMENDATIONS_TO_FETCH",e.COUPONS_TO_FETCH="COUPONS_TO_FETCH",e.TOP_RETAILERS_TO_FETCH="TOP_RETAILERS_TO_FETCH",e.TOP_DEAL_CATEGORIES_TO_FETCH="TOP_DEAL_CATEGORIES_TO_FETCH",e.RECENT_SEARCHES_TO_FETCH="RECENT_SEARCHES_TO_FETCH",e.RECENT_SEARCH_DELETE="RECENT_SEARCH_DELETE",e.NUDGE_AND_SMART_REPLY="NUDGE_AND_SMART_REPLY",e.SYNC_NOW="SYNC_NOW",e.RIGHT_RAIL_CARDS_TO_FETCH="RIGHT_RAIL_CARDS_TO_FETCH",e.WALLET="WALLET",e.CONTACTS_LIST="CONTACTS_LIST",e.CONTACTS_CATEGORY_LIST="CONTACTS_CATEGORY_LIST",e.CONTACT_DETAILS="CONTACT_DETAILS",e.EDIT_CONTACT="EDIT_CONTACT",e.CONTACT_SAVE="CONTACT_SAVE",e.CONTACT_PHOTO_UPLOAD="CONTACT_PHOTO_UPLOAD",e.SOCIAL_ACCOUNT_IMPORT="SOCIAL_ACCOUNT_IMPORT",e.SOCIAL_ACCOUNT_AUTH_URL="SOCIAL_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ACCOUNT_AUTH_URL="CLOUD_STORAGE_ACCOUNT_AUTH_URL",e.CLOUD_STORAGE_ITEMS_TO_FETCH="CLOUD_STORAGE_ITEMS_TO_FETCH",e.CLOUD_STORAGE_ITEM_SHAREABLE_LINK="CLOUD_STORAGE_ITEM_SHAREABLE_LINK",e.SOCIAL_ACCOUNT_STATUS="SOCIAL_ACCOUNT_STATUS",e.IMPORT_CONTACTS_PROVIDERS_STATUS="IMPORT_CONTACTS_PROVIDERS_STATUS",e.CONTACT_CREATE="CONTACT_CREATE",e.CONTACT_DELETE="CONTACT_DELETE",e.CONTACT_GROUP_DELETE="CONTACT_GROUP_DELETE",e.CONTACTS_GROUP_EDIT="CONTACTS_GROUP_EDIT",e.CONTACTS_GROUP_CREATE="CONTACTS_GROUP_CREATE",e.ENHANCE_CONTACTS_PREFERENCE_FETCH="ENHANCE_CONTACTS_PREFERENCE_FETCH",e.ENHANCE_CONTACTS_PREFERENCE_CHANGE="ENHANCE_CONTACTS_PREFERENCE_CHANGE",e.PEOPLE_I_KNOW_PREFERENCE_FETCH="PEOPLE_I_KNOW_PREFERENCE_FETCH",e.PEOPLE_I_KNOW_PREFERENCE_CHANGE="PEOPLE_I_KNOW_PREFERENCE_CHANGE",e.FETCH_ALL_CONTACTS="FETCH_ALL_CONTACTS",e.CONTACTS_SNAPSHOT_FETCH="CONTACTS_SNAPSHOT_FETCH",e.CONTACTS_RESTORE="CONTACTS_RESTORE",e.CONTACTS_IMPORT_CSV="CONTACTS_IMPORT_CSV",e.ACCOUNT_DELETE="ACCOUNT_DELETE",e.ACCOUNT_ADD="ACCOUNT_ADD",e.LOCATION_TO_UPDATE="LOCATION_TO_UPDATE",e.CONVERSATION_MODE_TO_UPDATE="CONVERSATION_MODE_TO_UPDATE",e.ACCOUNT_TO_REAUTH="ACCOUNT_TO_REAUTH",e.ALIAS_EMAIL_TO_CREATE="ALIAS_EMAIL_TO_CREATE",e.CONFIRM_EMAIL_TO_RESEND="CONFIRM_EMAIL_TO_RESEND",e.COMPOSE_ATTRIBUTES_TO_FETCH="COMPOSE_ATTRIBUTES_TO_FETCH",e.POST_LUNCH_TO_SYNC="POST_LUNCH_TO_SYNC",e.FETCH_PRIMARY_ACCOUNT="FETCH_PRIMARY_ACCOUNT",e.STOREFRONT_MODULES="STOREFRONT_MODULES",e.STOREFRONT_DEALS="STOREFRONT_DEALS",e.COMBINE_DEALS="COMBINE_DEALS",e.STOREFRONT_PRODUCTS="STOREFRONT_PRODUCTS",e.FOLLOW_STOREFRONT_BRAND="FOLLOW_STOREFRONT_BRAND",e.UNFOLLOW_STOREFRONT_BRAND="UNFOLLOW_STOREFRONT_BRAND",e.RESET_STOREFRONT_NEW_DEAL_COUNT="RESET_STOREFRONT_NEW_DEAL_COUNT",e.AFFILIATE_CRUMB="AFFILIATE_CRUMB",e.SAVE_COUPONS="SAVE_COUPONS",e.UNSAVE_COUPONS="UNSAVE_COUPONS",e.FOLLOW_CATEGORY="FOLLOW_CATEGORY",e.UNFOLLOW_CATEGORY="UNFOLLOW_CATEGORY",e.LINK_ENHANCER_TO_FETCH="LINK_ENHANCER_TO_FETCH",e.UPDATE_PAC_CUE="UPDATE_PAC_CUE",e.UNSUBSCRIBE_EMAIL="UNSUBSCRIBE_EMAIL",e.UNSUBSCRIBE_BRAND="UNSUBSCRIBE_BRAND",e.SUBSCRIPTION_LIST="SUBSCRIPTION_LIST",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST",e.MARKETING_PREFERENCES_TO_UNSUBSCRIBE="MARKETING_PREFERENCES_TO_UNSUBSCRIBE",e.MARKETING_PREFERENCES_TO_READ="MARKETING_PREFERENCES_TO_READ",e.DISPATCHER_UPSELLS="DISPATCHER_UPSELLS",e.TOUCHPOINT_UPSELL="TOUCHPOINT_UPSELL",e.MARKETING_PREFERENCES_TO_SUBSCRIBE="MARKETING_PREFERENCES_TO_SUBSCRIBE",e.PURCHASE_MAILPRO_FREE_TRIAL="PURCHASE_MAILPRO_FREE_TRIAL",e.LIST_MAIL_PREMIUM_SUBSCRIPTIONS="LIST_MAIL_PREMIUM_SUBSCRIPTIONS",e.BREAKING_NEWS="BREAKING_NEWS",e.FETCH_CLOUD_STORAGE_PROVIDERS="FETCH_CLOUD_STORAGE_PROVIDERS",e.UNLINK_CLOUD_STORAGE_ACCOUNT="UNLINK_CLOUD_STORAGE_ACCOUNT",e.MORE_SENDER_ROLLUP_TO_FETCH="MORE_SENDER_ROLLUP_TO_FETCH",e.PHISHING_REMOVE_BDM_DECO="PHISHING_REMOVE_BDM_DECO",e.ASTRA_BATCH_REQUEST="ASTRA_BATCH_REQUEST",e.REQUEST_AFFILIATE_OFFERS="REQUEST_AFFILIATE_OFFERS",e.CONSUME_TASTEMAKER="CONSUME_TASTEMAKER",e.DELETE_TASTEMAKER="DELETE_TASTEMAKER",e.BLOCKED_DOMAINS_FETCH="BLOCKED_DOMAINS_FETCH",e.BLOCKED_DOMAIN_ADD="BLOCKED_DOMAIN_ADD",e.BLOCKED_DOMAIN_DELETE="BLOCKED_DOMAIN_DELETE",e.STATIC_MAILPLUS_UPSELL_FETCH="STATIC_MAILPLUS_UPSELL_FETCH",e.REMOVE_SPAM_SCHEMA="REMOVE_SPAM_SCHEMA",e.SPELL_CHECK_SUGGESTIONS="SPELL_CHECK_SUGGESTIONS",e.WEATHER="WEATHER",e.WEATHER_LOCATION_SUGGESTIONS="WEATHER_LOCATION_SUGGESTIONS",e.FETCH_ALL_TODOS="FETCH_ALL_TODOS",e.CREATE_TODO="CREATE_TODO",e.UPDATE_TODO="UPDATE_TODO",e.DELETE_TODO="DELETE_TODO",e.TOI_MESSAGES="TOI_MESSAGES",e.TOP_OF_INBOX="TOP_OF_INBOX",e.MSG_FROM_PROMPT="MSG_FROM_PROMPT",e.REPHRASE_CONTENT="REPHRASE_CONTENT",e.FETCH_ALL_NOTEBOOKS_AND_NOTES="FETCH_ALL_NOTEBOOKS_AND_NOTES",e.CREATE_NOTE="CREATE_NOTE",e.UPDATE_NOTE="UPDATE_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.CREATE_JOURNAL_FOLDER="CREATE_JOURNAL_FOLDER",e.UPDATE_JOURNAL_FOLDER="UPDATE_JOURNAL_FOLDER",e.DELETE_JOURNAL_FOLDER="DELETE_JOURNAL_FOLDER",e.YAI_SEARCH_SUGGESTIONS_FETCH="YAI_SEARCH_SUGGESTIONS_FETCH",e.CONSUME_YAI_SEARCH="CONSUME_YAI_SEARCH",e.YAI_RETRO_COMPOSE="YAI_RETRO_COMPOSE",e.YAI_OPT_IN="YAI_OPT_IN",e.PINNED_EMAILS_TO_FETCH="PINNED_EMAILS_TO_FETCH"}(B||(B={}));const x={Modes:{NEW:"NEW",REPLY:"REPLY",REPLY_ALL:"REPLY_ALL",FORWARD:"FORWARD",EDIT:"EDIT",SPONSORED_FORWARD:"SPONSORED_FORWARD"}};let V;!function(e){e.NEW="NEW",e.REPLY="REPLY",e.REPLY_ALL="REPLY_ALL",e.FORWARD="FORWARD",e.EDIT="EDIT",e.SPONSORED_FORWARD="SPONSORED_FORWARD"}(V||(V={}));const Z={Status:{DOES_NOT_EXIST:"DOES_NOT_EXIST",INIT:"INIT",EDITED:"EDITED",SAVING:"SAVING",SAVED:"SAVED",SAVED_PARTIAL:"SAVED_PARTIAL",SAVE_FAILED:"SAVE_FAILED",SENDING:"SENDING",SEND_FAILED:"SEND_FAILED",SENT:"SENT",CAPTCHAING:"CAPTCHAING"}};let W;!function(e){e.ALERTSTORE="ALERTSTORE",e.ARCHIVE="ARCHIVE",e.BULK="BULK",e.CARD="CARD",e.CHATS="CHATS",e.DELETED="DELETED",e.DRAFT="DRAFT",e.EXTERNAL_ALL="EXTERNAL_ALL",e.INBOX="INBOX",e.INVISIBLE="INVISIBLE",e.NOT_SEARCHABLE="NOT_SEARCHABLE",e.NOTES="NOTES",e.SENT="SENT",e.STAGING="STAGING",e.SYNC="SYNC",e.TOKENCACHE="TOKENCACHE",e.TRASH="TRASH",e.USER="USER"}(W||(W={}));const K=(0,n.gP)([W.INBOX,W.DRAFT,W.SENT,W.TRASH,W.BULK,W.ARCHIVE,W.TOKENCACHE,W.USER,W.STAGING,W.SYNC,W.NOTES,W.DELETED,W.CHATS]),z={[W.INBOX]:W.INBOX,[W.DRAFT]:W.DRAFT,[W.SENT]:W.SENT,[W.ARCHIVE]:W.ARCHIVE,[W.TRASH]:W.TRASH,[W.BULK]:W.BULK},Y=[W.INBOX,W.SENT,W.DRAFT,W.BULK];let j;!function(e){e.UNREAD="UNREAD",e.STARRED="STARRED",e.DOCUMENTS="DOCUMENTS",e.PHOTOS="PHOTOS",e.TUTORIAL="TUTORIAL",e.COUPONS="COUPONS",e.COUPON_EMAILS="COUPON_EMAILS",e.RECEIPTS="RECEIPTS",e.WALLET="WALLET",e.TRAVEL="TRAVEL",e.TRAVEL_PAST="TRAVEL_PAST",e.TRAVEL_EMAILS="TRAVEL_EMAILS",e.PEOPLE="PEOPLE",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.SHOPPING="SHOPPING",e.SHOPPING_EMAILS="SHOPPING_EMAILS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SUBSCRIPTION_DETAIL="SUBSCRIPTION_DETAIL",e.ATTACHMENTS="ATTACHMENTS",e.GROCERIES="GROCERIES",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL",e.SENDER_ROLLUP="SENDER_ROLLUP",e.STOREFRONT="STOREFRONT",e.EMAILS_TO_MYSELF="EMAILS_TO_MYSELF",e.CONTACTS_FULL_PANE="CONTACTS_FULL_PANE",e.UPDATES="UPDATES",e.NEWSLETTERS="NEWSLETTERS",e.PRIORITY="PRIORITY",e.OFFERS="OFFERS"}(j||(j={}));const q=(0,n.gP)(["TAB_BAR","SIDE_BAR"]),X={[j.UNREAD]:"is:unread",[j.STARRED]:"is:starred",[j.TRAVEL]:"is:travel",[j.COUPONS]:"is:shopping"},Q=[j.CONTACTS_FULL_PANE,j.PHOTOS,j.DOCUMENTS,j.COUPONS,j.TRAVEL,j.TUTORIAL,j.RECEIPTS,j.WALLET,j.SUBSCRIPTIONS,j.STOREFRONT,j.ATTACHMENTS,j.EMAILS_TO_MYSELF],J=Object.assign({ALL_MAIL:"ALL_MAIL"},W),$=["SPAM"],ee={INBOX:"1",DRAFT:"3",SENT:"2",TRASH:"4",SPAM:"6"},te=(0,n.gP)(["DOWN","LEFT","NONE"]);let se,ae,ne,re;!function(e){e.REJECTED="rejected",e.FULFILLED="fulfilled"}(se||(se={})),function(e){e.DIRTY="DIRTY",e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.REFRESHING="REFRESHING",e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(ae||(ae={})),function(e){e.LOADED="LOADED",e.CANCELLED="CANCELLED",e.LOADING="LOADING"}(ne||(ne={})),function(e){e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.SUCCEEDED="SUCCEEDED",e.FAILED="FAILED",e.LOADING="LOADING"}(re||(re={}));const oe=(0,n.gP)(["DELETED","LOADING","LOADED","ERROR","DELETING"]),ie=(0,n.gP)(["CONTACT","SUBJECT"]),le={Types:{TEXT:"text",IMAGE:"image",MESSAGE:"message",VIDEO:"video",AUDIO:"audio",APPLICATION:"application"},SubTypes:{ACROBAT:"acrobat",CALENDAR:"calendar",CSS:"css",CSV:"csv",DELIVERY_STATUS:"delivery-status",DOC:"msword",DOCX:"vnd.openxmlformats-officedocument.wordprocessingml.document",DOT:"dot",EXCEL:"excel",FOLDER:"vnd.pachyderm.folder",FRAMEMAKER:"vnd.framemaker",GDOCX:"vnd.google-apps.document",GIF:"gif",GPPT:"vnd.google-apps.presentation",GXLS:"vnd.google-apps.spreadsheet",GZIP:"x-gzip",HTML:"html",ICS:"ics",MS_WORD:"microsoft_word",MSEXCEL:"msexcel",MSTNEF:"ms-tnef",OCTET_STREAM:"octet-stream",PDF:"pdf",PLAIN:"plain",PNG:"png",PPT:"vnd.ms-powerpoint",PPTX:"vnd.openxmlformats-officedocument.presentationml.presentation",PPTX_SLIDESHOW:"vnd.openxmlformats-officedocument.presentationml.slideshow",PPTX_TEMPLATE:"vnd.openxmlformats-officedocument.presentationml.template",RFC822:"rfc822",RICHTEXT:"richtext",SC2:"mswor2c sc2",TAR:"x-tar",TIFF:"tiff",VND_MS_WORD:"vnd.ms-word",VND_MSWORD:"vnd.msword",VND_PDF:"vnd.pdf",WINWORD:"winword",WORD:"word",X_COMPRESSED:"x-compressed",X_DOT:"x-dot",X_EXCEL:"x-excel",X_FM:"x-fm",X_FRAMEMAKER:"x-framemaker",X_MAKER:"x-maker",X_MS_EXCEL:"x-dos_ms_excel",X_MS_WORD:"x-msword",X_MSW6:"x-msw6",X_PDF:"x-pdf",X_RTF:"x-rtf",X_SOFFICE:"x-soffice",X_XLS:"x-xls",X_ZIP:"x-zip-compressed",XLS:"vnd.ms-excel",XLS_M:"vnd.ms-excel.sheet.macroEnabled.12",XLS_M_TEMPLATE:"vnd.ms-excel.template.macroEnabled.12",XLS_TEMPLATE:"vnd.openxmlformats-officedocument.spreadsheetml.template",XLSX:"vnd.openxmlformats-officedocument.spreadsheetml.sheet",XML:"xml",ZIP:"zip",ZZ_DOT:"zz-winassoc-dot"},Dispositions:{ATTACHMENT:"attachment",INLINE:"inline"},SimplifiedTypes:{APPLICATION:"application",IMAGE:"image",VIDEO:"video",FILE:"file",FOLDER:"folder",AUDIO:"audio",COMPRESSED:"compressed",CAL:"cal",PDF:"pdf",XLS:"xls",DOC:"doc",PPT:"ppt",TEXT:"text",CSV:"csv",TIFF:"tiff",GDOCS:"gdoc",GSHEETS:"gsheet",GSLIDES:"gslide"},KnownDocTypes:/\.((doc|xls|ppt)x?|pdf)$/i},ce={TIMEZONE:"web.timezone",LAST_OBSERVED_TIMEZONE:"web.lastObservedTimezone"},de={DESKTOP_MAIL_VERSION:"web.ymv",MOBILE_YMV:"ymvMobile"},_e={...de,CONVERSATIONS:"web.enableConversations"},Ee={...de,CONVERSATIONS:"aol.web.enableConversations.gdpr"},ue={..._e,DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"},me={...Ee,DESKTOP_MAIL_PREVIOUS_VERSION:"web.previousClientVersion",DESKTOP_MAIL_VERSION_HISTORY:"web.clientVersionHistory"},Se={SHOW_TODAY_AT_SIGNIN:"web.hulk.showTodayAtSignIn"},pe={SHOW_SEND_CONFIRMATION_PAGE:"web.hulk.showSendConfigPage"},Ce={SPELL_CHECK_BEFORE_SEND:"web.hulk.spellCheckBeforeSend"},Ae={PLAY_SOUND:"web.hulk.playSound",PLAY_SOUND_MODE:"web.hulk.playSoundMode"},Te={INBOX_STYLE:"viewNewOld"},Ie={HAS_ADS:"hasAds",THEME:"web.mailTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",BLOCK_IMAGES:"web.blockImages",...ce,...ue},he={THEME:"web.mailTheme",THEME_MODE:"web.themeMode",INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",SHOW_ALL_SYSTEM_FOLDERS:"web.showAllSystemFolders",CLIENT_BUCKETS:"web.clientBuckets",SCOUT_ONBOARDING:"web.norrinOnboard",BLOCK_IMAGES:"web.blockImages",...ce,...me},ge={INTERSTITIAL_FREQUENCY:"web.interstitialFrequency",INTERSTITIAL_SEEN_COUNT:"mobileweb.interstitialSeenCount",SCOUT_ONBOARDING:"web.norrinOnboard",MOBILE_SHOW_IMAGES:"mobileweb.showImages",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",MOBILE_CONVERSATIONS:"mobileweb.conversations",...ce},Oe={...ge,HAS_ADS:"hasAds",MOBILE_YMV:"ymvMobile"},De={...ge,CONSENT_EVENTS:"cp.consentEvents",MIGRATION_STATUS:"web.migration",MOBILE_SNIPPETS:"mobileweb.snippets"},Re={PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"web.msgsListDensity",DESKTOP_NOTIFICATION:"web.desktopNotification",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",EXPAND_SMART_VIEWS:"web.showSmartViews",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",USE_RICH_TEXT:"web.useRichText",HIDE_FORMAT_TOOLBAR:"web.hideComposeToolbar.gdpr",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",BREAKING_NEWS:"web.breakingNews",PACKAGE_TRACKING:"isShipmentTrackingEnabled",DEALS_STORIES:"dealsStories",AMP_EMAIL:"ampEmail",READABILITY_MODE:"web.hulk.readabilityMode"},Ne={...Te,IS_REINDEXABLE:"isReindexable",PREVIEW_PANE:"web.mailPreviewPane",MAIL_TABS:"web.mailTabs",SNIPPETS:"web.generalSnippet",MSG_LIST_DENSITY:"aol.web.msgListDensity.gdpr",DESKTOP_NOTIFICATION:"web.desktopNotification",...Ae,READABILITY_MODE:"web.hulk.readabilityMode",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",EXPAND_SMART_VIEWS:"web.showSmartViews",HIDE_AD:"web.hideAd",EXPANDED_FOLDERS:"web.expandedFolders",STATIONERY_DEFAULT_THEME:"web.stationeryTheme",USE_RICH_TEXT:"web.useRichText",HIDE_FORMAT_TOOLBAR:"web.hideComposeToolbar.gdpr",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SYSTEM_TABS:"web.systemTabs",AD_BLOCK_FEATURE_CUE_ID:"web.adBlockFeatureCueId",BREAKING_NEWS:"web.breakingNews",PACKAGE_TRACKING:"isShipmentTrackingEnabled",DEALS_STORIES:"dealsStories",AMP_EMAIL:"ampEmail"},Le={COMPOSE_FONT_FAMILY:"web.composeFontFamily",COMPOSE_FONT_SIZE:"web.composeFontSize",LINK_ENHANCER:"web.enableEnhancerLinkPreview",RECENTLY_USED_EMOJIS:"web.emojiRecentlyUsed"},fe={MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",SUPPRESSED_UPSELLS:"web.suppressedUpsells",AUTO_OPEN_FIRST_MESSAGE:"mobileweb.autoOpenFirstMessage",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",PACKAGE_TRACKING:"isShipmentTrackingEnabled"},Me={...Te,MOBILE_NOTIFICATION:"mobileweb.notifications",MOBILE_SNIPPETS:"mobileweb.snippets",MOBILE_THEME:"mobileweb.mailTheme",MOBILE_THEME_MODE:"mobileweb.themeMode",SUPPRESSED_UPSELLS:"web.suppressedUpsells",AUTO_OPEN_FIRST_MESSAGE:"mobileweb.autoOpenFirstMessage",IS_REINDEXABLE:"isReindexable"},Pe={HAS_ADS:"hasAds",ACTION_AFTER_MSG_MOVE:"web.actionAfterMsgMove",SHOW_CUSTOM_FOLDERS:"web.showCustomFolders",TIMEZONE:"web.timezone",NODIN_ONBOARD:"web.nodin.onboard",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",CP_SUBSCRIPTIONS:"cp.subscriptions"},be={HAS_ADS:"hasAds",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",DEA_BASE_NAME:"disposableAddressesPrefix",MESSAGE_FILTERS:"messageFilters",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",CP_SUBSCRIPTIONS:"cp.subscriptions",PREMIUM_DEA_ALLOWED:"mailPremiumDeaAllowed",BLOCK_IMAGES:"web.blockImages"},ye={...Le,EXPERIMENTAL_FEATURES:"web.experimentalFeatures",VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MESSAGE_FILTERS:"messageFilters",DEA_BASE_NAME:"disposableAddressesPrefix",MAILBOX_SIZE:"mailboxSize",CONSENT_EVENTS:"cp.consentEvents",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed",PREMIUM_DEA_ALLOWED:"mailPremiumDeaAllowed"},ve={...Le,...pe,...Ce,...Ae,VACATION_PREFERENCES:"vacationPreferences",DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders",MAILBOX_SIZE:"mailboxSize",AUTO_FORWARD_ALLOWED:"mailAutoForwardAllowed"},Fe={DISABLED_MESSAGE_READ_CARDS:"allowedMsgReadCards",COMPOSE_FORMAT:"web.composeMode",NUDGE_TO_REPLY:"web.nudgeToReply",SUPPRESSED_UPSELLS:"web.suppressedUpsells"},Ue={DISABLED_MESSAGE_READ_CARDS:"allowedMsgReadCards"},ke={COMPOSE_FORMAT:"web.composeMode"},we={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},Ge={DELIVERY_BLOCKED_SENDERS:"deliveryBlockedSenders"},He={AOL_MOBILE_SNIPPETS:"mobile.quicksilver.listSpacingType",AOL_MOBILE_BLOCK_IMAGES:"web.blockImages"},Be={...Le,MAILBOX_SIZE:"mailboxSize"},xe={...Ie,...Re,...ye,...ue,...ce,...Le,CP_SUBSCRIPTIONS:"cp.subscriptions"},Ve={...fe,...Oe,...we},Ze={...Me,...De,...Ge,...He},We={...Pe,...be},Ke={...Ve,...Ze,...Ie,...xe,...We,...Fe,BLOCK_IMAGES:"web.blockImages",MOBILE_SHOW_IMAGES:"mobileweb.showImages",...Se,...pe,...Ce,...Ae,ADD_UNKNOWN_CONTACT:"web.addUnknownContact",XOBNI:"xobni",KEY_TASKS_PANEL:"web.keyTasksPanel",COMPOSE_SHOW_CC:"web.composeShowCc",COMPOSE_SHOW_BCC:"web.composeShowBcc",CC_ON_SEND:"web.ccOnSend",BCC_ON_SEND:"web.bccOnSend",HIDE_LINKEDIN_FOOTER:"web.autoSuggestHideLinkedinFooter",HIDE_LINKEDIN_RECONNECT:"web.hideLinkedinReconnect",SUPRESS_EMPTY_FOLDER_VIDEO:"web.suppressEmptyFolderVideo",SORT_SEARCH_BY:"web.searchSortBy",PEOPLE_NOTIFICATION:"web.peopleNotification",IMPORTANT_NOTIFICATION:"web.importantNotification",CANCEL_DELETE_COUNT:"web.cancelClickOnHoverDeleteCount",CONFIRM_BEFORE_DELETE:"web.confirmBeforeDelete",SHOW_EMAIL_HISTORY:"web.showEmailHistory",MARK_AS_READ_INTERVAL:"web.markAsReadInterval",SHOW_CLOUD_PERMISSION_DIALOG:"web.showCloudFilePermissionsDialog",ONBOARDING:"mailOnBoard",SYSTEM_TABS:"web.systemTabs",COMPOSE_FORMAT:"web.composeMode",CONSENT_EVENTS:"cp.consentEvents",CP_SUBSCRIPTIONS:"cp.subscriptions",LEGAL_JURISDICTION:"cp.legalJurisdiction",AOL_CONVERSATIONS:Ee.CONVERSATIONS,AOL_MSG_LIST_DENSITY:Ne.MSG_LIST_DENSITY,PINNED_EMAILS_IDS_AND_TIMESTAMPS:"web.pinnedEmails"},ze={...(0,n.gP)([...(0,n.VO)(Ke)])},Ye=(0,n.gP)(["INTERSTITIAL_FREQUENCY","CLIENT_BUCKETS","PREVIEW_PANE","MAIL_TABS","SNIPPETS","MSG_LIST_DENSITY","AOL_MSG_LIST_DENSITY","COMPOSE_FORMAT","LINK_ENHANCER","DESKTOP_NOTIFICATION","PLAY_SOUND","PLAY_SOUND_MODE","MOBILE_NOTIFICATION","READABILITY_MODE","COMPOSE_FONT_FAMILY","COMPOSE_FONT_SIZE","EXPANDED_FOLDERS","SHOW_CUSTOM_FOLDERS","HIDE_AD","STATIONERY_DEFAULT_THEME","ACTION_AFTER_MSG_MOVE","BLOCK_IMAGES","USE_RICH_TEXT","HIDE_FORMAT_TOOLBAR","ADD_UNKNOWN_CONTACT","EXPAND_SMART_VIEWS","KEY_TASKS_PANEL","THEME","THEME_MODE","COMPOSE_SHOW_CC","COMPOSE_SHOW_BCC","CC_ON_SEND","BCC_ON_SEND","BREAKING_NEWS","PACKAGE_TRACKING","DEALS_STORIES","PINNED_EMAILS_IDS_AND_TIMESTAMPS","HIDE_LINKEDIN_FOOTER","HIDE_LINKEDIN_RECONNECT","SUPRESS_EMPTY_FOLDER_VIDEO","SORT_SEARCH_BY","AD_BLOCK_FEATURE_CUE_ID","PEOPLE_NOTIFICATION","IMPORTANT_NOTIFICATION","CANCEL_DELETE_COUNT","CONFIRM_BEFORE_DELETE","SHOW_EMAIL_HISTORY","MARK_AS_READ_INTERVAL","SHOW_CLOUD_PERMISSION_DIALOG","ONBOARDING","UNSUBSCRIBE_TIMESTAMP","NUM_UNSUBSCRIBED_ITEMS","RECENTLY_USED_EMOJIS","SYSTEM_TABS","SCOUT_ONBOARDING","MOBILE_SHOW_IMAGES","MOBILE_SNIPPETS","MOBILE_THEME","MOBILE_THEME_MODE","DESKTOP_MAIL_VERSION","DESKTOP_MAIL_PREVIOUS_VERSION","DESKTOP_MAIL_VERSION_HISTORY","CONVERSATIONS","TIMEZONE","LAST_OBSERVED_TIMEZONE","NODIN_ONBOARD","AUTO_FORWARD_ALLOWED","PREMIUM_DEA_ALLOWED","SHOW_TODAY_AT_SIGNIN","EXPERIMENTAL_FEATURES","SHOW_SEND_CONFIRMATION_PAGE","SPELL_CHECK_BEFORE_SEND"]);let je;!function(e){e.TODAYPAGE="todaypage",e.LIST="list",e.BASE="base",e.FOLDER="folder",e.MESSAGE_FROM_FOLDER_LIST="message_from_folder_list",e.MESSAGE_FROM_SEARCH_LIST="message_from_search_list",e.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST="message_group_list_from_folder_list",e.MESSAGE_FROM_LIST="message_from_list",e.NEW_DRAFT="new_draft",e.EDIT_DRAFT="edit_draft",e.SEARCH="search",e.SETTINGS="settings",e.CONTACTS="contacts",e.CONTACT_DETAILS="contact_details",e.CONTACT_DETAILS_FROM_SEARCH="contact_details_from_search",e.EDIT_CONTACT="edit_contact",e.EDIT_CONTACT_FROM_SEARCH="edit_contact_from_search",e.CREATE_CONTACT="create_contact",e.SIGNATURES_FROM_SETTINGS="signatures_from_settings",e.ADD_FOLDER="add_folder",e.EDIT_FOLDER="edit_folder",e.THEME_CHOOSER="theme_chooser",e.ACCOUNT_LIST_FROM_SETTINGS="account_list_from_settings",e.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST="account_selector_from_account_list",e.ADD_ACCOUNT_PROVIDER="add_account_provider",e.ADD_MAILBOX_PROGRESS="add_mailbox_progress",e.ATTACHMENT="attachment",e.SPONSORED_MESSAGE="sponsored_message",e.SECURE_COMPOSE="secure_compose",e.SECURE_BODY="secure_body",e.SECURE_SETTINGS="secure_settings",e.TUTORIAL="tutorial",e.PHOTO="photo",e.MESSAGE="message",e.BLOCKED_SENDERS="blocked_senders",e.BLOCKED_DOMAINS="blocked_domains",e.AFTER_MESSAGE_MOVE="after_message_move",e.LIST_FOLDERS="list_folders",e.LOAD_CONTACT="load_contact",e.TASK_STATUS="task_status",e.SUBSCRIPTION_LIST="subscription_list",e.MESSAGE_PREVIEW="message_preview",e.PORTRAIT_AD="portrait_ad",e.NOT_FOUND="not_found",e.STOREFRONT="storefront",e.MAILPLUS_BENEFITS_UPSELL="mailplus_benefits_upsell",e.FOCUSED_INBOX="focused_inbox",e.SEND_CONFIRMATION="send_confirmation",e.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL="email_to_myself_mail_plus_upsell",e.ONBOARDING="onboarding",e.INBOX_HIGHLIGHT_SETTINGS="inbox_highlight_settings",e.WALLET="wallet"}(je||(je={}));(0,n.gP)([je.SETTINGS]);const qe="/d",Xe="/d",Qe="/b",Je="/mailboxes",$e="/m",et="/mb",tt="/[dm]",st=Xe+"/log",at=$e+"/log",nt=qe+"/heartbeat",rt=qe+"/optout",ot="http://yo/norrinjsesearch",it="https://help.aol.com/articles/what-is-aol-certified-mail",lt="https://help.aol.com/articles/what-is-official-aol-mail",ct="/public/js/rapidworker_1.2.js",dt=(0,n.gP)(["ALPHA_HOST","BETA_HOST","CANARY_HOST","GLOBAL_HOST","GLOBAL_NORRIN_HOST","GLOBAL_NOBLE_HOST","GLOBAL_NODIN_HOST","GLOBAL_NOBLE_BASIC_HOST","CREDSTORE_HOST","JWS_HOST","INTERNAL_JWS_HOST","BOOTCAMP_HOST","GUCE_CONSENT_HOST","INTERNAL_BOOTCAMP_HOST"]),_t=["yql","price_grabber_api","location_autosuggest_api","heartbeat","gemini_api","video_api","linkEnhancer","oauth","bootcamp_api","astra_api","marketing_preferences","obi","amp_viewer","assetConfig"].join("|"),Et=(new RegExp(`^(?!/(d|m|mailboxes)/(${_t})/?)`),new RegExp("^"+Xe+"(?!/("+_t+")/?)"),new RegExp("^"+Qe+"(?!/("+_t+")/?)"),new RegExp("^"+$e+"(?!/("+_t+")/?)"),new RegExp("^"+et+"(?!/("+_t+")/?)"),{BULK:"bulk",ALL:"all",NONE:"none",READ:"read",UNREAD:"unread",STARRED:"flagged",UNSTARRED:"unflagged"}),ut=(0,n.gP)(["NONE","ALL","PARTIAL"]);let mt,St;!function(e){e.DATE_DESC="date_desc",e.DATE_ASC="date_asc",e.UNREAD="unread",e.STARRED="flagged",e.SENDER="sender",e.RECIPIENT="recipient",e.SUBJECT="subject",e.ATTACHMENT="attachment",e.RELEVANCE="relevance",e.CARD_DATE_DESC="carddate_desc",e.CARD_DATE_ASC="carddate_asc",e.ALPHA_ASC="alpha_asc"}(mt||(mt={})),function(e){e.FIRST_NAME="first_name",e.LAST_NAME="last_name"}(St||(St={}));const pt={[St.FIRST_NAME]:1,[St.LAST_NAME]:2},Ct={DESC:mt.DATE_DESC,ASC:mt.DATE_ASC},At={DESC:mt.DATE_DESC,ASC:mt.DATE_ASC,ATTACHMENT:mt.ATTACHMENT,RELEVANCE:mt.RELEVANCE},Tt="cardDate",It="time asc",ht="time desc",gt=o.N7,Ot=o.Q_,Dt=(e="YMailNorrin")=>e&&e.includes(l)?o.iJ:o.qj;let Rt;!function(e){e.FREE="FREE",e.IMAPIN="IMAPIN",e.EXCHANGEIN="EXCHANGEIN",e.ALIAS="ALIAS",e.SENDAS="SENDAS",e.DEA="DEA",e.PARTNER="PARTNER",e.POPIN="POPIN",e.BIZMAIL="BIZMAIL",e.PHONE="PHONE",e.EXTERNAL="EXTERNAL"}(Rt||(Rt={}));const Nt=[Rt.FREE,Rt.IMAPIN,Rt.EXCHANGEIN,Rt.PARTNER,Rt.BIZMAIL];(0,n.gP)(["STORM","NORRIN","NOBLE","NODIN","NOBLE_BASIC","WEBSTD"]);let Lt,ft;!function(e){e[e.STORM=4]="STORM",e[e.NODIN=5]="NODIN",e[e.NORRIN=6]="NORRIN",e[e.WEBSTD=7]="WEBSTD"}(Lt||(Lt={})),function(e){e[e.NOBLE_BASIC=1]="NOBLE_BASIC",e[e.NOBLE=2]="NOBLE"}(ft||(ft={}));const Mt=(0,n.gP)(["IMAPIN","ALIAS","SENDAS","DEA"]),Pt="https://s.yimg.com/nq/nr/img/yahoo_mail_pro_white_1x.png",bt="https://s.yimg.com/nq/nr/img/yahoo_mail_pro_white_2x.png 2x",yt={settingsUpgrade:"settingsUpgrade",settingsDealReco:"settingsDealReco",settingsCompactCompose:"settingsCompactCompose",settingsReplyReminders:"settingsReplyReminders",blockedDomains:"blockedDomains",premiumDEA:"premiumDEA",autoForwardUpgradeLink:"autoForwardUpgradeLink",dealRecommendations:"dealRecommendations",dealRecommendationsControl:"dealRecommendationsControl",rightRailMailPlusReshow:"rightRailMailPlusReshow",emailsToMyselfMailPlusUpsell:"emailsToMyselfMailPlusUpsell"},vt={blockedDomains:"blockedDomains",dealRecommendations:"dealRecommendations",mobileAfterMessageMoveEligible:"mobileAfterMessageMoveEligible",mobileSettingsUpgrade:"mobileSettingsUpgrade"},Ft=[Rt.PARTNER,Rt.FREE,Rt.IMAPIN,Rt.EXCHANGEIN,Rt.BIZMAIL];let Ut;!function(e){e.ENABLED="ENABLED",e.DISABLED="DISABLED",e.DELETED="DELETED",e.PENDING="PENDING",e.DELETE_IN_PROGRESS="DELETE_IN_PROGRESS"}(Ut||(Ut={}));const kt=(0,n.gP)(["NONE","PLAIN","OAUTH2","PASSKEY"]),wt=(0,n.gP)(["DISABLED","DELETED","MAINTENANCE"]),Gt=(0,n.gP)(["ENABLED","DISABLED","DELETED","MAINTENANCE","MIGRATION","INACTIVE"]),Ht=(0,n.gP)(["FREE","EXTERNAL","PHONE","BIZMAIL","PARTNER"]);let Bt;!function(e){e.MESSAGES="MESSAGES",e.MESSAGE="MESSAGE",e.IMAGES="IMAGES",e.DOCUMENTS="DOCUMENTS",e.ATTACHMENTS="ATTACHMENTS",e.LINKS="LINKS",e.PEOPLE="PEOPLE",e.EXTRACTIONS="EXTRACTIONS",e.ADS="ADS",e.PENCIL_AD="PENCIL_AD",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.TIMECHUNK="TIMECHUNK",e.LOAD_MORE="LOAD_MORE",e.FOLDER="FOLDER",e.SMARTVIEW="SMARTVIEW",e.TRAVEL_CARDS="TRAVEL_CARDS",e.COUPON_SEPARATOR="COUPON_SEPARATOR",e.RECOMMENDED_DEALS_HEADER="RECOMMENDED_DEALS_HEADER",e.RECEIPT_SEPARATOR="RECEIPT_SEPARATOR",e.WALLET_LIST_ITEM="WALLET_LIST_ITEM",e.WALLET_LIST_SEPARATOR="WALLET_LIST_SEPARATOR",e.CONTACTS="CONTACTS",e.CONTACTS_SEPARATOR="CONTACTS_SEPARATOR",e.CONTACTS_CONTROLS="CONTACTS_CONTROLS",e.EXPAND_COLLAPSE_CONTACTS="EXPAND_COLLAPSE_CONTACTS",e.LOADING_INDICATOR="LOADING_INDICATOR",e.COUPON_CARDS="COUPON_CARDS",e.RECOMMENDATION_CARDS="RECOMMENDATION_CARDS",e.BRAND_SHORTCUTS="BRAND_SHORTCUTS",e.PKG_TRACKING_CARD="PKG_TRACKING_CARD",e.REFUND_CARDS="REFUND_CARDS",e.CARDS="CARDS",e.SEARCH_PLACEHOLDER="SEARCH_PLACEHOLDER",e.COMPOSE="COMPOSE",e.PLAADS="PLAADS",e.RECEIPT_CARDS="RECEIPT_CARDS",e.WALLET_CARDS="WALLET_CARDS",e.SUBSCRIPTIONS="SUBSCRIPTIONS",e.SENDERS="SENDERS",e.SUBHUB_RECOMMENDATION_LIST="SUBHUB_RECOMMENDATION_LIST",e.BLOCKED_DOMAINS="BLOCKED_DOMAINS",e.TOP_OF_INBOX_CARDS="TOP_OF_INBOX_CARDS",e.TOP_OF_INBOX_CARDS_TITLE="TOP_OF_INBOX_CARDS_TITLE",e.PINNED_EMAILS_TITLE="PINNED_EMAILS_TITLE",e.PINNED_EMAILS="PINNED_EMAILS"}(Bt||(Bt={}));const xt=["TODAY","YESTERDAY","DAY","EARLIER_THIS_WEEK","THIS_WEEK","LAST_WEEK","EARLIER_IN_MONTH","THIS_MONTH","MONTH","EARLIER_IN_YEAR","THIS_YEAR","YEAR"],Vt={Types:(0,n.gP)(xt),PriorityMap:(Zt=xt,Zt.reduce(((e,t,s)=>(e[t]=s,e)),{})),Day:{SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6},Month:{JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}};var Zt;let Wt;!function(e){e.FROM="FROM",e.TO="TO",e.ALL="ALL",e.RELATED="RELATED",e.WITH_KEYWORD="WITH_KEYWORD",e.WITH_KEYWORD_RELEVANCE="WITH_KEYWORD_RELEVANCE",e.TO_WITH_RELEVANCE="TO_WITH_RELEVANCE",e.FROM_WITH_RELEVANCE="FROM_WITH_RELEVANCE",e.ALL_WITH_RELEVANCE="ALL_WITH_RELEVANCE",e.SHOPPING="SHOPPING",e.TRAVEL="TRAVEL",e.FOCUSED_INBOX="FOCUSED_INBOX",e.FINANCE="FINANCE",e.SOCIAL="SOCIAL",e.TRAVEL_VIEW_UPCOMING="TRAVEL_VIEW_UPCOMING",e.TRAVEL_VIEW_PAST="TRAVEL_VIEW_PAST",e.SYSTEMFOLDER="SYSTEMFOLDER",e.CUSTOMFOLDER="CUSTOMFOLDER",e.FOLDERLABEL="FOLDERLABEL",e.SAVED_COUPON_CARDS="SAVED_COUPON_CARDS",e.ALL_REFUND_CARDS="ALL_REFUND_CARDS",e.ALL_COUPON_CARDS="ALL_COUPON_CARDS",e.ALL_RECEIPT_CARDS="ALL_RECEIPT_CARDS",e.ALL_WALLET_CARDS="ALL_WALLET_CARDS",e.ALL_DEAL_RECOMMENDATION_CARDS="ALL_DEAL_RECOMMENDATION_CARDS",e.ALL_PKG_TRACKING_CARD="ALL_PKG_TRACKING_CARD",e.GIFS="GIFS",e.CLOUD_STORAGE_ITEMS="CLOUD_STORAGE_ITEMS",e.ALL_PHOTOS="ALL_PHOTOS",e.PEOPLE="PEOPLE",e.NOT_PEOPLE="NOT_PEOPLE",e.TOP_CONTACTS="TOP_CONTACTS",e.USER_CREATED_CONTACTS="USER_CREATED_CONTACTS",e.IMPORTANT_CONTACTS="IMPORTANT_CONTACTS",e.GROUPS="GROUPS",e.PRINT_CONTACTS="PRINT_CONTACTS",e.ACTIVE="ACTIVE",e.PAST="PAST",e.OLDMAIL="OLDMAIL",e.NEWMAIL="NEWMAIL",e.UPDATES="UPDATES",e.NEWSLETTERS="NEWSLETTERS",e.PRIORITY="PRIORITY",e.OFFERS="OFFERS",e.ALL_INBOX="ALL_INBOX"}(Wt||(Wt={}));const Kt={ALL_CONTACTS:"all_contacts",AUTO_ADDED:"auto_added",CO_WORKERS:"co_workers",FAMILY:"family",FRIENDS:"friends",UNCATEGORIZED:"uncategorized",GENERAL:"general"},zt=[Wt.PEOPLE,Wt.SHOPPING,Wt.OLDMAIL,Wt.NEWMAIL,Wt.UPDATES,Wt.SOCIAL,Wt.NEWSLETTERS,Wt.PRIORITY,Wt.OFFERS,Wt.ALL_INBOX],Yt=[j.PEOPLE,j.COUPONS,j.UPDATES,j.SOCIAL,j.NEWSLETTERS],jt={[j.PEOPLE]:"PE",[j.COUPONS]:"SH",[j.SOCIAL]:"SO",[j.FINANCE]:"FI",[j.TRAVEL]:"TR",[j.UPDATES]:"TR_FI",[j.NEWSLETTERS]:"NL"},qt=(0,n.gP)(["PEOPLE","KEYWORD","ALL","RECENT"]);let Xt;!function(e){e.META="META",e.PERSON="PERSON",e.KEYWORD="KEYWORD",e.WEB_SEARCH="WEB_SEARCH",e.RECENT="RECENT",e.HEADER="HEADER",e.EMAIL="EMAIL",e.YAISUGGESTION="yaiSuggestion"}(Xt||(Xt={}));const Qt=(0,n.gP)(["PERSON","KEYWORD","RECENT","EMAIL","YAISUGGESTION"]);let Jt;!function(e){e.TEXT="TEXT",e.NEW_DRAFT="NEW_DRAFT",e.NO_SUBJECT="NO_SUBJECT",e.LOADING="LOADING",e.SEARCH_KEYWORD="SEARCH_KEYWORD",e.ERROR="ERROR",e.SEARCH_DEFAULT="SEARCH_DEFAULT",e.SETTINGS="SETTINGS",e.PREVIEW="PREVIEW",e.SPONSORED_AD="SPONSORED_AD",e.TODAYPAGE="TODAYPAGE",e.SMART_VIEW="SMART_VIEW"}(Jt||(Jt={}));const $t=(0,n.gP)(["NONE","AOL_OFFICIAL","YBANG","SEARCH","SETTINGS","COMPOSE","SMARTVIEW_PEOPLE","SMARTVIEW_SHOPPING","SMARTVIEW_PHOTOS","SMARTVIEW_DOCUMENTS","SMARTVIEW_COUPONS","SMARTVIEW_RECEIPTS","SMARTVIEW_WALLET","SMARTVIEW_TRAVEL","SMARTVIEW_TUTORIAL","EXCLAMATION_ALT"]);let es;!function(e){e.UP="UP",e.DOWN="DOWN",e.FIRST="FIRST",e.LAST="LAST",e.LEFT="LEFT",e.RIGHT="RIGHT"}(es||(es={}));const ts={NO:0,RIGHT:1,BOTTOM:2},ss={H_SLIDER_POS:"hSliderPos",V_SLIDER_POS:"vSliderPos",H_SLIDER_POS_V2:"hsp",V_SLIDER_POS_V2:"vsp"},as={EXPANDED:0,COLLAPSED:1,DISABLED:2},ns={ALWAYS:!0,NEVER:!1},rs={SLIM:1,NORMAL:2,RELAXED:3};let os;!function(e){e.FULL_SIZED="FULL_SIZED",e.NEW_WINDOW="NEW_WINDOW",e.COMPACT="COMPACT"}(os||(os={}));const is={[os.FULL_SIZED]:0,[os.COMPACT]:2},ls={FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:"3",VALUE:r.N4.MEDIUM},cs=(0,n.gP)(["LAUNCH","CHECK_MAIL","NEIGHBOR"]),ds={GO_BACK_TO_FOLDER:3,SHOW_PREVIOUS_MESSAGE:2,SHOW_NEXT_MESSAGE:1},_s=(Object.assign({COMPACT_SLIM:4,COMPACT_NORMAL:5,COMPACT_RELAXED:6,COMPACT_SNIPPET_SLIM:7,COMPACT_SNIPPET_NORMAL:8,COMPACT_SNIPPET_RELAXED:9},rs),(0,n.gP)(["BROWSER","PUSH"]),(0,n.gP)(["NONE","PROCESSING_BEGUN","PROCESSING_COMPLETE"]),{IMMEDIATELY:0,AFTER_2_SECONDS:2,AFTER_5_SECONDS:5,NEVER:999}),Es={PAGES_CHUNK_SIZE:3,GAP_BETWEEN_PAGES:12,MAX_SCALE:3,MIN_SCALE:1,SCALE_STEP:.05,TOOLBAR_HEIGHT:54,Movement:(0,n.gP)(["PREV","NEXT","ZOOM_IN","ZOOM_OUT"]),Orientation:(0,n.gP)(["FIT_TO_WIDTH","FIT_TO_HEIGHT"]),Paddings:{AROUND_PAGE_WIDTH:20,AROUND_PAGE_HEIGHT:20,AROUND_IMG_WIDTH:16,AROUND_IMG_HEIGHT:16},previewableMimeTypes:["application/pdf","application/x-pdf","application/vnd.pdf","text/pdf","text/x-pdf","image/pdf","application/acrobat","application/text","text/css","text/plain","application/xml","text/xml","application/javascript","text/javascript","application/rtf","text/rtf","application/x-rtf","text/richtext","application/msword","application/x-msword","application/doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word","application/vnd.openxmlformats-officedocument.wordprocessingml","application/vnd.ms-word.document.12","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/excel","application/x-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.formula","application/vnd.oasis.opendocument.presentation"]},us=(0,n.gP)(["FLOW","PINNED","PUSHED"]),ms=.8,Ss=(0,n.gP)(["MOVETOFOLDER"]),ps=(0,n.gP)(["ALL"]),Cs=(0,n.gP)(["SUBJECT","SENDER","TOORCC","BODY"]),As=(0,n.gP)(["CONTAINS","NOTCONTAINS","BEGINSWITH","ENDSWITH"]),Ts=(0,n.gP)(["CLEAR_FOLDER","ARCHIVE_FOLDER"]),Is={FOLDERS:"foldersField",FROM:"fromField",TO:"toField",SUBJECT:"subjectField",KEYWORD:"keywordField",BEFORE:"beforeField",AFTER:"afterField",ATTACHMENT:"attachmentField",PHOTO:"photoField",CALENDAR_INVITE:"calendarInviteField"};je.FOLDER,ee.INBOX;let hs,gs;!function(e){e.KEEP_AS_NEW="keepAsNew",e.ARCHIVE="archive",e.RESTORE="restore",e.SPAM="spam",e.HAM="ham",e.RAF="raf",e.EXPANDALL="expandAll",e.COLLAPSEALL="collapseAll",e.MOVE="move",e.MORE="more",e.READ="read",e.UNREAD="unread",e.STARRED="starred",e.UNSTARRED="unstarred",e.DELETE="delete"}(hs||(hs={})),function(e){e.STAR_CHANGE_ALL_ITEMS="STAR_CHANGE_ALL_ITEMS",e.STAR_CHANGE_SELECTED_ITEMS="STAR_CHANGE_SELECTED_ITEMS",e.READ_CHANGE_FOLDER_ITEMS="READ_CHANGE_FOLDER_ITEMS",e.READ_CHANGE_ALL_ITEMS="READ_CHANGE_ALL_ITEMS",e.READ_CHANGE_SELECTED_ITEMS="READ_CHANGE_SELECTED_ITEMS",e.DELETE_FOLDER_ITEMS="DELETE_FOLDER_ITEMS",e.DELETE_ALL_ITEMS="DELETE_ALL_ITEMS",e.DELETE_SELECTED_ITEMS="DELETE_SELECTED_ITEMS",e.DELETE_ALL_FROM_SENDERS="DELETE_ALL_FROM_SENDERS",e.MOVE_ALL_ITEMS="MOVE_ALL_ITEMS",e.MOVE_SELECTED_ITEMS="MOVE_SELECTED_ITEMS",e.ARCHIVE_FOLDER_ITEMS="ARCHIVE_FOLDER_ITEMS",e.ARCHIVE_ALL_ITEMS="ARCHIVE_ALL_ITEMS",e.ARCHIVE_SELECTED_ITEMS="ARCHIVE_SELECTED_ITEMS",e.RESTORE_ALL_ITEMS="RESTORE_ALL_ITEMS",e.RESTORE_SELECTED_ITEMS="RESTORE_SELECTED_ITEMS",e.SPAM_ALL_ITEMS="SPAM_ALL_ITEMS",e.SPAM_SELECTED_ITEMS="SPAM_SELECTED_ITEMS",e.NOT_SPAM_ALL_ITEMS="NOT_SPAM_ALL_ITEMS",e.NOT_SPAM_SELECTED_ITEMS="NOT_SPAM_SELECTED_ITEMS",e.UNDO_MOVE="UNDO_MOVE",e.DELETE_DRAFT="DELETE_DRAFT"}(gs||(gs={}));const Os=(0,n.gP)(["INIT","PENDING","COMPLETED","FAILED","ABORTING","ABORTED","ABORT_FAILED"]),Ds={PERSONALIZE_INBOX:"0",ACCOUNTS:"1",SECURITY:"8",NOTIFICATIONS:"2",WRITING_EMAIL:"3",VIEWING_EMAIL:"4",CATEGORIZATION:"5",AUTOMATIC_REPLY:"6",FILTERS:"7",SECURITY_AND_PRIVACY:"8",CONTACTS:"9",ENCRYPTION:"10",MAIL_PRO:"11",MAIL_PLUS:"12",EXPERIMENTAL_FEATURES:"13"},Rs={[j.PHOTOS]:"photos",[j.DOCUMENTS]:"documents",[j.TRAVEL]:"travel",[j.COUPONS]:"coupons",[j.RECEIPTS]:"receipts",[j.WALLET]:"wallet",[j.PEOPLE]:"people",[j.ATTACHMENTS]:"attachments",[j.SUBSCRIPTIONS]:"subhub",[j.SENDER_ROLLUP]:"senderRollup",[j.COUPON_EMAILS]:"couponEmails",[j.EMAILS_TO_MYSELF]:"emailsToMyself",[j.CONTACTS_FULL_PANE]:"contactsFullPane",[j.UPDATES]:"updates",[j.SOCIAL]:"social",[j.NEWSLETTERS]:"newsletters",[j.PRIORITY]:"priority",[j.OFFERS]:"offers"},Ns={...Rs,[j.UNREAD]:"unread",[j.STARRED]:"starred",[j.OLDMAIL]:"oldMail",[j.NEWMAIL]:"newMail"};let Ls;!function(e){e.moreFeatures="moreFeatures",e.moreThemes="moreThemes"}(Ls||(Ls={}));const fs={...Ns,CONTACT_DETAILS:"contactDetails",COUPON_RECOMMENDATIONS:"couponRecommendations",RECOMMENDED_DEALS:"recommededDeals",FOCUSED_INBOX:"FOCUSED_INBOX",TODOS:"todos"},Ms={TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",SPACE:" ",DASH:"-"},Ps=(0,n.gP)(["MARK_READ","ARCHIVE","DELETE","RENAME_FOLDER","MOVE_FOLDER","DELETE_FOLDER","CREATE_FOLDER","SEPARATOR"]),bs={CARDS:"CARDS",MESSAGES:"MAIN",IMAGES:"IMAGES",DOCUMENTS:"DOCUMENTS",PEOPLE:"PEOPLE",AL:"AL",PLA:"PLA"};let ys;!function(e){e.MAC="mac",e.WINDOWS="windows",e.IOS="ios",e.ANDROID="android",e.UBUNTU="ubuntu",e.OTHER="other"}(ys||(ys={}));const vs=(0,n.gP)(["MESSAGE","CONTACTS"]),Fs={NO_REFRESH:0,EMERGENCY_REFRESH:1,PERIODIC_REFRESH:2};let Us,ks,ws;!function(e){e.LAUNCH_API_ERROR="LAUNCH_API_ERROR",e.ABUSIVE_USER="ABUSIVE_USER",e.WRONG_MAILBOX_STATE="WRONG_MAILBOX_STATE",e.LAUNCH_PAGE_NOT_FOUND_ERROR="LAUNCH_PAGE_NOT_FOUND_ERROR",e.NO_SCRIPT="NO_SCRIPT",e.UNSUPPORTED_BROWSER="UNSUPPORTED_BROWSER",e.UNSUPPORTED_FBMAILBOT="UNSUPPORTED_FBMAILBOT",e.SERVER_ERROR="SERVER_ERROR",e.REACT_ERROR="REACT_ERROR",e.DEFAULT="DEFAULT",e.SWITCH_ACCOUNT="SWITCH_ACCOUNT",e.NO_ACTIVE_MAILBOX="NO_ACTIVE_MAILBOX"}(Us||(Us={})),function(e){e.YAHOO="yahoo",e.YAHOO_SB="yahoosb",e.GOOGLE="google",e.GOOGLE_APP="googleapp",e.OUTLOOK="outlook",e.AOL="aol",e.OTHER="other",e.OFFICE365="office365",e.VERIZON_MEDIA="verizonmedia",e.YAHOO_INC="yahooinc"}(ks||(ks={})),function(e){e.Facebook="Facebook",e.LinkedIn="LinkedIn",e.Twitter="Twitter",e.LinkedInTest="LinkedInTest"}(ws||(ws={}));const Gs=(0,n.gP)(["GDrive","Dropbox"]),Hs={[ws.LinkedIn]:"r_basicprofile r_member_lookup",[ks.YAHOO]:null,[ks.GOOGLE]:"https://www.googleapis.com/auth/contacts.readonly",[ks.OUTLOOK]:"Contacts.Read offline_access",[ks.AOL]:"profile"},Bs={[ws.LinkedIn]:"f7e0ac2c-98e8-11df-8527-000ffef4f721",[ws.LinkedInTest]:"f8f1ac2c-99e8-11df-8517-000gfef5f721",[ks.YAHOO]:"aa174cde-374f-47b5-9365-382da87f1d99",[ks.GOOGLE]:"e0b61efe-086e-11e2-8a42-002481ee7a3a",[ks.OUTLOOK]:"07b12df4-b892-11e2-95d7-2c4138949916",[ks.AOL]:"b770b078-3fcd-4a17-b26a-7b8c56c2a91b"},xs={[ws.LinkedIn]:ws.LinkedIn},Vs={CONNECTED:"CONNECTED",NOT_CONNECTED:"NOT_CONNECTED",EXPIRED:"EXPIRED",FAILED:"FAILED",QUEUED:"QUEUED"},Zs={COMPLETED:"completed",OPTED_IN:"optedIn",OPTED_OUT:"optedOut"},Ws=[ks.YAHOO,ks.GOOGLE,ks.OUTLOOK,ks.AOL];let Ks,zs;!function(e){e.IMPORT_STATUS_FILE="import_status_file",e.IMPORT_TIME_FILE="import_time_file"}(Ks||(Ks={})),function(e){e.IN_PROGRESS="IN_PROGRESS",e.DONE="DONE",e.FAIL="FAIL",e.NONE="NONE"}(zs||(zs={}));const Ys={CONV:"CONV",SENDER:"SENDER"},js=100,qs=100,Xs=8;let Qs;!function(e){e.STACKED="STACKED",e.COLLAPSED="COLLAPSED",e.EXPANDED="EXPANDED",e.TEMPORARY_EXPANSION="TEMPORARY_EXPANSION",e.TEMPORARY_COLLAPSE="TEMPORARY_COLLAPSE"}(Qs||(Qs={}));const Js={AstraClient:"astra_client_call",AthenaClient:"athena_client_call",BootcampClient:"bootcamp_client_call",BreakingNewsClient:"breaking_news_client",TodayPageClient:"today_page_client",CloudStorageClient:"cloud_storage_client_call",CredstoreClient:"credstore_client_call",MailppApiClient:"mailpp_api_client",JACAdClient:"jac_ad_client",SubDispatcherAPIClient:"subdispatcher_api_client_call",EmojiSearch:"emoji_search_call",GeminiAPIClient:"gemini_api_client_call",GifCategories:"gif_category_content_call",HeartbeatAPIClient:"heartbeat_api_client_call",LinkEnhancerClient:"lucy_api_call",LocationAutoSuggestClient:"location_autosuggest_api_client_call",MailAPIClient:"mail_api_client_call",MemberProfileAPIClient:"member_profile_api_client",ObiApiClient:"obi_api_client",PriceGrabberClient:"price_grabber_client_call",RapidClient:"i13n_beacon",RelatedSearchesAPIClient:"related_searches_api_client",SenderRollupClient:"sender_rollup_client",MarketingPreferencesAPIClient:"marketing_preferences_api_client_call",FalconAPIClient:"falcon_api_client_call",EpochCalendarClient:"epoch_calendar_client",SmartReplyClient:"smart_reply_client_call",SubscriptionAPIClient:"subscription_api_client_call",XobniClient:"xobni_client_call",TastemakerClient:"tastemaker_client_call",WeatherClient:"weather_client",SpellCheckClient:"spell_check_client",YaiClient:"yai_client"},$s=["messages.saveV3","messages.saveWithAttachment","messages.saveAndSend","messages.saveAndSendWithAttachment","messageGroups.saveAndSend","messageGroups.saveAndSendWithAttachment","messageGroups.saveRawMessage","messageGroups.send","compose.open","compose.replyFwd","compose.attach","compose.save","compose.send"],ea=["messages.getBodies","messages.getBodiesFull","messages.getExtractedBodies","messages.getExtractedBodiesFull","messageGroups.getList","message_view.get","message_view.update"],ta=["importantContacts","alphabeticalContacts","searchSimpleContact","contactDetailsEdit","createContact","contactUploadPhoto","contactGroupsList","contactsInGroup","editContactGroup","createContactGroup","contactGroupsDelete","printContacts","fetchContactsSnapshot","restoreContacts","importContactsFromCsv"],sa=[ks.YAHOO,ks.GOOGLE,ks.GOOGLE_APP,ks.OUTLOOK,ks.AOL,ks.OFFICE365],aa=[ks.GOOGLE,ks.OUTLOOK,ks.OFFICE365,ks.AOL,ks.YAHOO],na={[ks.GOOGLE]:{domainCheck:["*"],domainHints:["gmail","google","googlemail"],serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[ks.VERIZON_MEDIA]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[ks.YAHOO_INC]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[ks.YAHOO]:{domainCheck:["yahoo","ymail","rocketmail","myyahoo"],serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1},[ks.OUTLOOK]:{domainCheck:["outlook","hotmail","live","msn"],serverUri:"imaps://outlook.com",oauthDomain:"outlook.com",profileCheck:!0,providerUrl:"https://www.outlook.com",scope:"wl.imap,wl.offline_access,wl.emails,wl.basic,wl.contacts_emails,wl.contacts_phone_numbers"},[ks.AOL]:{domainCheck:["aol","aim"],serverUri:"imaps://aol.com",oauthDomain:"aol.com",profileCheck:!0,providerUrl:"https://www.aol.com",scope:"offline_access email profile addressbook opencalendar"},[ks.GOOGLE_APP]:{serverUri:"imaps://gmail.com",oauthDomain:"gmail.com",profileCheck:!1,providerUrl:"https://www.gmail.com",scope:"https://mail.google.com/ https://www.googleapis.com/auth/contacts https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/userinfo.email"},[ks.OFFICE365]:{domainCheck:["*"],domainHints:[],type:Rt.EXCHANGEIN,serverUri:"https://office365.com",oauthDomain:"office365.com",profileCheck:!0,providerUrl:"https://www.office.com"},[ks.YAHOO_SB]:{serverUri:"imaps://yahoo.com",oauthDomain:"yahoo.com",profileCheck:!1}},ra=(0,n.gP)(["att.net","bellsouth.net","attworld.com","sky.com","frontiernet.net","frontier.com","myfrontiermail.com","citilink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citilink.com","evansinet.com","globalvalleynetworks.com","xtra.co.nz","mymts.in","ameritech.net","btinternet.com","btopenworld.com","demobroadband.com","ovi.com","flash.net","nl.rogers.com","nvbell.net","pacbell.net","prodigy.net","rogers.com","sbcglobal.net","snet.net","swbell.net","talk21.com","verizon.net","wans.net","ymail.com","rocketmail.com","yahoo-inc.com"]),oa=(0,n.gP)(["ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cs","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","es","et","fi","fj","fk","fm","fo","fr","fx","ga","gb","gd","ge","gh","gi","gl","gp","gq","gf","gm","gn","gr","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","in","io","iq","ir","is","it","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","mg","mh","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nt","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pt","pr","pw","py","qa","re","ro","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tf","tg","th","tj","tk","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","um","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yu","za","zm","zr","zw"]),ia=(0,n.gP)(["aero","asia","biz","com","edu","gov","info","jobs","mil","mobi","museum","name","net","org","co"]);let la;!function(e){e.QUOTED="quoted",e.TRUNCATED="truncated"}(la||(la={}));let ca,da;!function(e){e.RUNTIME_PROFILINING="runtimeProfiling",e.FORCE_USER_STICKY_ONBOARDING_CUE="forceUserStickyOnboardingCue",e.SHOW_USER_STICKY_ONBOARDING_CUE="showUserStickyOnboardingCue",e.STICKY_ONBOARDING_CUE="stickyOnboardingCue",e.STICKY_ONBOARDING_CONTACTS_IMPORT="skipOrDoneContactsImport",e.PERSONALIZE_INBOX_SEEN="personalizeInboxSeen",e.TAX_SEASON_MESSAGE_TAG="taxSeasonMessageTag",e.ALTERNATE_SEARCH_BOX="alternateSearchBox",e.YBAR_PERSONAL_FEED_SYSTEM="ybarPersonalFeedSystem",e.ENHANCED_COMPOSE="enhancedCompose",e.SHOW_EXPERIMENTAL_FEATURES="showExperimentalFeatures",e.MAIL_TODO="mailTodo",e.MAIL_TODO_NOTIFICATIONS="mailTodoNotifications",e.MAIL_TODO_SMART_SUGGESTIONS="mailTodoSmartSuggestions",e.MAIL_TODO_SUGGESTIONS_VARIATION_A="mailTodoSuggestionsVariationA",e.MAIL_TODO_SUGGESTIONS_VARIATION_B="mailTodoSuggestionsVariationB",e.TODO_ONBOARDING_CUE_PART1="todoOnboardingCuePart1",e.TODO_ONBOARDING_CUE_PART2="todoOnboardingCuePart2",e.TODO_ONBOARDING_CUE_PART3="todoOnboardingCuePart3",e.SHOW_FRMT_OPTNS_IN_COMPOSE_HEADER="showFormatOptionsInComposeHeader",e.SHOW_LABELS_FOR_RICH_COMPOSE_OPTIONS="showLabelsForRichComposeOptions",e.SHOW_CONFIRMATION_ON_DRAFT_CLOSE="showConfirmationOnDraftClose",e.SHOW_CONFIRMATION_ON_DRAFT_DELETE="showConfirmationOnDraftDelete",e.SHOW_DRAFT_OPERATIONS_IN_TOOLBAR="showDraftOperationsInToolbar",e.SHOW_FONT_SIZE_IN_PTS="showFontSizeInPts",e.SHOW_ADDITIONAL_FONTS="showAdditionalFonts",e.SHOW_TODAY_AT_SIGNIN="showTodayAtSignin",e.BODY_SCROLLING="bodyScrolling",e.BOLD_FOCUS="boldFocus",e.SYNC_DATA_ONLY_WHEN_NEEDED="syncDataOnlyWhenNeeded",e.SYNC_NOW="syncNow",e.YBAR_FUJI2_THEME="ybarFuji2Theme",e.YBAR_FUJI2_THEME_SUPPRESS_TOP_NAV="ybarFuji2ThemeSuppressTopNav",e.ADD_EDIT_FROM_LIST_CARD="addContactsFromMsg",e.EXTRACTIONS_FEEDBACK="extractionsFeedback",e.FORCE_OPTIN_BEACON="forceOptinBeacon",e.NPS_SURVEY="npsSurvey",e.NPS_SURVEY_CUE="npsSurveyCue",e.PRIVACY_RIGHTS_ICON="privacyRightsIcon",e.MAIL_PLUS_ELIGIBLE="mailPlusEligible",e.AOL_AD_FREE_UPSELL_ELIGIBLE="aolAdFreeUpsellEligible",e.MAIL_PLUS_YBAR_UPSELL_ELIGIBLE="mailPlusYBarUpsellEligible",e.MAIL_PLUS_INELIGIBLE="mailPlusIneligible",e.MAIL_PLUS_SWITCH_WIDGET_ELIGIBLE="mailPlusSwitchWidgetEligible",e.MAIL_PLUS="mailPlus",e.MAIL_PLUS_MOBILE_APPS="mailPlusMobileApps",e.MAIL_PLUS_MOBILE_WEB="mailPlusMobileWeb",e.MAIL_PLUS_FREE_TRIAL="mailPlusFreeTrial",e.MAIL_PLUS_IOS_IN_APP_PURCHASE_USER="mailPlusIOSInAppPurchaseUser",e.MAIL_PLUS_ANDROID_IN_APP_PURCHASE_USER="mailPlusAndroidInAppPurchaseUser",e.DEAL_RECOMMENDATIONS_ENABLED="dealRecommendations",e.HIDE_DEALS_ENABLED="hideDealsEnabled",e.HIDE_DEALS_ELIGIBLE="hideDealsEligible",e.DEALS_RECOMMEND_CONTROL_ELIGIBLE="dealsRecommendControlEligible",e.DEALS_RECOMMEND_CONTROL_CUE="dealsRecommendControlCue",e.DEAL_RECO_CUE="dealRecoCue",e.COMPOSE_FORMAT_CHOOSER_ENABLED="composeFormatChooserEnabled",e.DEAL_RECO_MOBILE_CUE="dealRecoMobileCue",e.DEALS_RECOMMEND_CONTROL_MOBILE_CUE="dealsRecCtrlMobileCue",e.MAIL_PLUS_TASTEMAKER="mailPlusTastemaker",e.BLOCKED_DOMAINS="blockedDomains",e.MOBILE_AFTER_MESSAGE_MOVE_ENABLED="mobileAfterMessageMoveEnabled",e.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE="mobileAfterMessageMoveEligible",e.MAIL_PLUS_SPONSORED_MESSAGE="mailPlusSponsoredMessage",e.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER="staticMailPlusUpsellForEmptyFolder",e.HIDE_RIGHT_PANE_ADS_CLICK_COUNT="hideRightPaneAdsClickCount",e.AD_LITE="adLite",e.ADS="ads",e.NO_ADS="noAds",e.JAC_ADS="jacAds",e.JAC_SERVER_PREFETCH="jacServerPrefetch",e.JAC_CLIENT_PREFETCH="jacClientPrefetch",e.JAC_DOUBLE_BUFFERING="jacDoubleBuffering",e.JAC_AD_BLOCK_DETECTION="jacAdBlockDetection",e.JAC_ENFORCE_AD_ROTATION_INTERVAL="jacEnforceAdRotationInterval",e.JAC_SCRIPT_CACHE="jacScriptCache",e.JAC_CONNECT_ID="jacConnectId",e.JAC_SERVER_PREFETCH_COOKIE="jacServerPrefetchCookie",e.EMPTY_FOLDER_DISPLAY_AD="emptyFolderDisplayAd",e.DISPLAY_ADS_ROTATION_OPTIMIZATION="displayAdsRotationOptimization",e.DARLA_GEMINI_ARBITRATION="darlaGeminiArbitration",e.NODIN_DISPLAY_AD_RETRY="nodinDisplayAdRetry",e.AMP="amp",e.AMP_ENABLED="ampEnabled",e.AMP_PROXY="ampProxy",e.LAZY_LOADING_EMAIL_IMG="lazyLoadingEmailImg",e.SHOW_ENHANCE_CONTACTS_PREFERENCE="showEnhanceContactsPreference",e.SHOW_ENHANCED_CONTACTS_INFO="showEnhancedContactInfo",e.GEMINI_SPONSORED_VIDEO="geminiSponsoredVideo",e.COM_SCORE_BEACONING="comScoreBeaconing",e.EMPTY_FOLDER_VIDEO="emptyFolderVideo",e.EMPTY_FOLDER_ALTER="emptyFolderAlter",e.MESSAGE_READ_AD_ROTATION="messageReadAdRotation",e.MESSAGE_UNREAD_INDICATOR="messageUnreadIndicator",e.GEMINI_VIEWABILITY="geminiViewability",e.GEMINI_VIEWABILITY_IO="geminiViewabilityIO",e.PREVIEW_PANE_IN_PIXELS="previewpaneInPixels",e.PREVIEW_PANE_COOKIE="previewpaneCookie",e.LEFT_NAV_RESIZING="leftNavResizing",e.MAIL_PRO_ELIGIBLE="mailProEligible",e.MAIL_PRO_PRIORITY_SUPPORT_ELIGIBLE="mailProPrioritySupportEligible",e.HIDE_RIGHT_RAIL="hideRightRail",e.PREMIUM_AD_DETECTION="premiumAdDetection",e.GEMINI_CONTEXTUAL_ADS="geminiContextualAds",e.AUTOPLAY_EMPTY_FOLDER_VIDEO="autoPlayEmptyFolderVideo",e.ROTATE_ADS_ONLINE="rotateAdsOnline",e.BOOKING_CARD="bookingCard",e.MAIL_PRO="mailPro",e.AD_FREE_AOL_MAIL="adFreeAOLMail",e.MAIL_PRO_LINK_IN_SETTINGS_MENU="mailProLinkInSettingsMenu",e.LREC_MON_AD_ARBITRATION="lrecMonAdArbitration",e.UBA_LREC_MON_AD_ARBITRATION="ubaLrecMonAdArbitration",e.ADBLOCK_UPSELL="adBlockUpsell",e.REDIRECT_ADBLOCK_USER_TO_NODIN="redirectAdBlockToNodin",e.ADBLOCK_DELAY_DISMISS="adblockDelayDismiss",e.SHOPPING_CART_AD="shoppingCartAd",e.AUTO_FORWARD_EMAIL="autoForwardEmail",e.SPONSORED_MESSAGE_TRIAGE="sponsoredMessageTriage",e.EDGE_TO_EDGE_GRAPHICAL_AD="edgeToEdgeGraphicalAd",e.CROSS_DOMAIN_DPA_ADS="crossDomainDpaAds",e.GAM="gam",e.GAM_AGE_COMPLIANCE="gamAgeCompliance",e.GAM_HEADER_BIDDER="gamHeaderBidder",e.GAM_NUKE_AD_ON_INACTIVE="gamNukeAdOnInactive",e.GAM_AD_BLOCK_DETECTION="gamAdBlockDetection",e.GAM_AUTO_RELOAD_ON_APP_VISIBLE="gamAutoReloadOnAppVisible",e.GAM_MESSAGE_READ_AUTO_ROTATION="gamMessageReadAutoRotation",e.GAM_CUSTOM_WAIT_INTERVAL_AFTER_NON_REFRESH_ROTATION="gamCustomWaitIntervalAfterNonRefreshRotation",e.GAM_MOUSE_MOVE_ROTATION_ON_ALL_ROUTES="gamMouseMoveRotationOnAllRoutes",e.GAM_HUMAN_AD_QUALITY="gamHumanAdQuality",e.GAM_REQUEST_TRACKING="gamRequestTracking",e.GPT_IFRAME_CACHE="gptIframeCache",e.WEB_FONTS="webFonts",e.YAHOO_SANS_VF="yahooSansVF",e.OFFLINE_CHECKING="offlineChecking",e.OFFLINE_TOASTS="offlineToasts",e.PENCIL_AD="pencilAd",e.TALL_PENCIL_AD="tallPencilAd",e.BOTTOM_STICKY_PENCIL_AD="bottomStickyPencilAd",e.BOTTOM_STICKY_PENCIL_AD_ROTATION_OPTIMIZE="bottomStickyPencilAdRotationOptimize",e.BOTTOM_STICKY_PENCIL_AD_WITH_HIDE_OPTION="bottomStickyPencilAdWithHideOption",e.SECOND_PENCIL_AD="secondPencilAd",e.NORMALIZED_SECOND_PENCIL_AD="normalizedSecondPencilAd",e.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED="secondPencilFallbackSectionIdEnabled",e.RELATED_SEARCHES_CARD="relatedSearchesCard",e.HOTELS_CARD_PREFILL="hotelsCardPrefill",e.NOBLE_WEB_LINK="nobleWebLink",e.AFFILIATE_PARTNER="affiliatePartner",e.AFFILIATE_DIRECTLY="affiliateDirectly",e.NODIN_MESSAGE_HEADER="nodinMessageHeader",e.CONTACT_CARD_TRACKING="contactCardTracking",e.MESSAGE_LIST_AD_CAROUSEL="messageListAdCarousel",e.NOBLE_HYBRID_AD="nobleHybridAd",e.PORTRAIT_AD="portraitAd",e.FLASH_SALE_AD="flashSaleAd",e.FLASH_SALE_AD_IN_SECONDS="flashSaleAdInSeconds",e.PLA_SEARCH_ADS="plaSearchAds",e.MESSAGE_READ_AD_ROTATION_V2="messageReadAdRotationV2",e.ROTATE_PENCIL_AD_ON_EXPIRE="rotatePencilAdOnExpire",e.AOL_VIDEO_PLAYER="aolVideoPlayer",e.OATH_VIDEO_PLAYER="oathVideoPlayer",e.RIGHT_RAIL_NATIVE_AD="rightRailNativeAd",e.DEBUG_JAC="debugJAC",e.ABP_STATIC_ADS="ABPStaticAds",e.ROTATE_ADS_ON_CHECK_MAIL="rotateAdsOnCheckMail",e.AD_VIEWABILITY_TRACKER="adViewabilityTracker",e.COMMERCIAL_ANALYSIS_OF_CONTENT="commercialAnalysisOfContent",e.RIGHT_RAIL_UPSELL_VIDEO_AD="rightRailUpsellVideoAd",e.RIGHT_RAIL_EXCL_MAIL_PLUS_UPSELL="rightRailExclMailPlusUpsell",e.RIGHT_RAIL_COLLAPSE_RESTRICTION="rightRailCollapseRestriction",e.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB="redirectMailPlusUpselltoMailPlusTab",e.ENABLE_SEARCH_RELEVANCE_CUE="enableSearchRelevanceCue",e.MSG_READ_PENCIL_AD="msgReadPencilAd",e.DOMAIN_MATCH_AD="domainMatchAd",e.DOMAIN_MATCH_AD_VIA_GEMINI="domainMatchAdViaGemini",e.DOMAIN_MATCH_AD_VIA_RELATED_CARDS="domainMatchAdViaRelatedCards",e.DEALS_SHOPPING_CART_AD="dealsShoppingCartAd",e.NO_IDLE_CHECK_MAIL_AD_ROTATIONS="noIdleCheckMailAdRotations",e.SAME_SEARCH_AD_ON_SECOND_PENCIL="sameSearchAdOnSecondPencil",e.SECOND_SEARCH_AD="secondSearchAd",e.SEARCH_AD="searchAd",e.AD_PARTIALLY_ABOVE_FOLD="adPartiallyAboveFold",e.DEAL_EXTENSION="dealExtension",e.MARK_AS_READ_DEFER="markAsReadDefer",e.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS="noHiddenCheckMailAdRotations",e.NOBLE_GEMINI_DESIGN_V2="nobleGeminiDesignV2",e.MAILPRO_FREE_TRIAL="mailproFreeTrial",e.MAILPRO_FREE_TRIAL_UPSELLS="mailproFreeTrialUpsells",e.TOOLTIP_EMOJI="tooltipEmoji",e.NUKE_DISPLAY_ADS_ON_INACTIVE="nukeDisplayAdsOnInactive",e.NO_AD_ROTATION_ON_COMPOSE="noAdRotationOnCompose",e.CEP_FORWARD="cepForward",e.PREVIEW_MESSAGE_V3="previewMessageV3",e.MESSAGE_READ_CONTACT_CARD="messageReadContactCard",e.RSVP="rsvp",e.RSVP_RESPONSE="rsvpResponse",e.NUDGE_TO_REPLY_ELIGIBLE="nudgeToReplyEligible",e.REPLY_NUDGE_COUNT="replyNudgeCount",e.PARSE_RSVP_REPLY_LINKS="parseRsvpReplyLinks",e.PHOTO_THEMES="photoThemes",e.RIGHT_RAIL_CONTACT_CARD="rightRailContactCard",e.RIGHT_RAIL_PHOTO_CARD="rightRailPhotosCard",e.RIGHT_RAIL_DOCS_CARD="rightRailDocsCard",e.RIGHT_RAIL_MESSAGES_CARD="rightRailMessagesCard",e.SUBHUB_RECOMMENDATIONS="subhubRecommendations",e.SUBHUB_RECOMMENDATION_CUE="subhubRecommendCue",e.NODIN_CHECK_MAIL="nodinCheckMail",e.NODIN_CHECK_MAIL_TOAST="nodinCheckMailToast",e.NODIN_SHOW_IMAGES_PREF="nodinShowImagesPref",e.NODIN_ES5_SHIM="nodinES5Shim",e.NODIN_MESSAGE_READ_AD_ROTATION="nodinMessageReadAdRotation",e.NODIN_FILTERS="nodinFilters",e.LOG_CLIENT_ERROR="logClientError",e.DO_NOT_SELL_LINK="doNotSellLink",e.PRIVACY_JURISDICTION_LINKS="privacyJurisdictionLinks",e.SCOUT_PREDICATE="scoutPredicate",e.SCOUT_RECURRING="scoutRecurring",e.CONTACTS_FULL_PANE="contactsFullPane",e.CONTACTS_PANE_FEATURE="contactsPaneFeature",e.CONTACT_SUMMARY="contactSummary",e.CONTACTS_PANE_CUE="contactsPaneCue",e.CONTACTS_SORT="contactsSort",e.DISABLE_DL="disableDL",e.CONTACTS_RESTORE="contactsRestore",e.CONTACTS_IMPORT_FROM_CSV="contactsImportFromCsv",e.CALENDAR_RIGHT_RAIL_PANE="calendarRightRailPane",e.CALENDAR_RIGHT_RAIL_PANE_CUE="calendarRightRailPaneCue",e.SHOW_MKTG_SUPPORT_NUMBER="showMktgSupportNumber",e.SUBSCRIPTION_LIST="subscriptionList",e.SOCIAL_ACCOUNTS="socialAccounts",e.USE_LINKEDIN_TEST_SPID="useLinkedinTestSpid",e.NOTEPAD_TAB="notepadTab",e.CALENDAR_TAB="calendarTab",e.RIGHT_RAIL_NOTEPAD_PANE="rightRailNotepadPane",e.MAIL_PLUS_ONBOARDING_CUE="mailPlusOnboardingCue",e.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE="mailProToMailPlusUpsellEligible",e.MAILPRO_TO_MAIL_PLUS_UPSELL="mailProToMailPlusUpsell",e.SHOW_IMPORT_CONTACTS_IN_SETTINGS="showImportContactsInSettings",e.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK="mailPlusSponsoredMsgOnAdMisclick",e.CONVERSATIONS="conversations",e.INLINE_REPLY_COMPOSE="inlineReplyCompose",e.SHOW_COMMS_PROPERTIES="showCommsProperties",e.ADD_SEND_ONLY_ACCOUNTS="addSendOnlyAccounts",e.REPLY_TO_ADDRESS="replyToAddress",e.DISPOSABLE_ADDRESS="disposableAddress",e.SHOW_FORWARD_SETTINGS="showForwardSettings",e.EMOJI_SEARCH="emojiSearch",e.TUTORIAL="tutorial",e.MOVE_FOLDER="moveFolder",e.TIMEZONE_CHECK="timezoneCheck",e.SILENT_TIMEZONE_CORRECTION="silentTimeZoneCorrection",e.RTL="rtl",e.IS_RETURNING_USER="isReturningUser",e.HAS_MAPPED_THEME="hasMappedTheme",e.FETCH_FULL_BODY="fetchFullBody",e.NO_SYNC_ON_MESSAGE_LAUNCH="noSyncOnMessageLaunch",e.SHOW_NOTIFICATIONS_COMPOSE_UPSELL="showNotificationsComposeUpsell",e.NOTIFICATIONS_COMPOSE_UPSELL_CUE="notifsComposeUpsellCue",e.SHOW_NOTIFICATIONS_STICKY_UPSELL_CUE="showNotificationsStickyUpsell",e.NOTIFICATIONS_STICKY_UPSELL_CUE="notifsStickyUpsellCue",e.SHOW_NOTIFICATIONS_REFRESH_UPSELL="showNotificationsRefreshUpsell",e.NOTIFICATIONS_REFRESH_UPSELL_CUE="notifsRefreshUpsellCue",e.SHOW_NOTIFICATIONS_READ_UPSELL="showNotificationsReadUpsell",e.NOTIFICATIONS_READ_UPSELL_CUE="notifsReadUpsellCue",e.NOTIFICATIONS_CUSTOMIZE_UPSELL_CUE="notifsCustomizeUpsellCue",e.INLINE_PROMPT_AD_TARGET_CUE="inlinePromptAdTargetCue",e.GDPR_WARNING_CUE="gdprWarningCue",e.THEMES_CUE_V3="themesCueV3",e.NEW_USER_TASKS_CUE="newUserTasksCue",e.PHOTOS_CUE="photosCue",e.STARRED_CUE="starredCue",e.SETTINGS_CUE="settingsCue",e.RM_SETTINGS_CUE="rmSettingsCue",e.PARTNER_RECONSENT_BANNER="partnerReconsentBanner",e.SEARCH_CUE="searchCue",e.SEARCH_RELEVANCE_CUE="searchRelevanceCue",e.ALL_TABS_PLUS_CUE="allTabsPlusCue",e.PEOPLE_SMARTVIEW_CUE="peopleSmartViewCue",e.STATIONERY_CUE="stationeryCue",e.ADBLOCK_UPSELL_CUE="adBlockUpsellCue",e.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE="redirectAdbToNodinCue",e.ADBLOCK_DELAY_DISMISS_CUE_V2="adblockDelayDismissCueV2",e.RIGHT_RAIL_AD_FREE_UPSELL_CUE="rightRailAdFreeUpsellCue",e.EMOJI_CUE="emojiCue",e.SHOW_SPONSORED_LOGO="showSponsoredLogo",e.COUPONS_VIEW_CUE="couponsViewCue",e.CATEGORY_FOLLOWING_CUE="categoryFollowingCue",e.PKG_TRACKING_CUE="pkgTrackingCue",e.DEALS_VIEW_CUE="dealsViewCue",e.SUBSCRIPTIONS_VIEW_CUE="subscriptionsViewCue",e.WELCOME_USER_CUE="welcomeUserCue",e.LASTPASS_FREETRIAL_UPSELL="lastPassFreeTrialUpsell",e.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE="lastpassFreeTrialUpsellEligible",e.AMAZON_PRIME_DAY_CUE="amazonPrimeDayCue",e.TOM_ONBOARDING_CUE="tomOnboardingCue",e.DISPATCHER_UPSELLS_ELIGIBLE="dispatcherUpsellsEligible",e.DISPATCHER_UPSELLS="dispatcherUpsells",e.SPAM_TOUCHPOINT="spamTouchpoint",e.UNSUBSCRIBE_TOUCHPOINT="unsubscribeTouchpoint",e.TOUCHPOINT_UPSELL="touchPointUpsell",e.BASIC_MAIL_AUTO_FORWARD_NOTIFICATION="basicMailAutoForwardNotification",e.MAIL_PLUS_FEATURES_UPSELL="mailPlusFeaturesUpsell",e.COMPOSE_FORMAT_CUE="composeFormatCue",e.COMPOSE_ATTACH_CUE="composeAttachCue",e.BRAND_MENU_ONBOARDING_CUE="brandMenuOnboardingCue",e.BRAND_MENU_FEEDBACK_CUE="brandMenuFeedbackCue",e.FOCUSED_INBOX_CUE="focusedInboxCue",e.EMAILS_TO_MYSELF_LEFT_CUE="emailsToMyselfLeftCue",e.EMAILS_TO_MYSELF_TOOLTIP="emailsToMyselfTooltip",e.EMAILS_TO_MYSELF_FEEDBACK_ENABLED="emailsToMyselfFeedbackEnabled",e.EMAILS_TO_MYSELF_FEEDBACK_CUE="emailsToMyselfFeedback",e.EMAILS_TO_MYSELF_MOBILE_FEEDBACK_CUE="etmMobileFeedback",e.EMAILS_TO_MYSELF_UPSELL="emailsToMyselfUpsell",e.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL="emailsToMyselfMailPlusUpsell",e.READABILITY_MODE_CUE="readabilityModeCue",e.NEW_USER_ONBOARDING_CUE_V2="newUserOnboardingCueV2",e.PRE_INBOX_ONBOARDING_SEEN="preInboxOnboardingSeen",e.YMOBILE_PROMO_UPSELLS="ymobilePromoUpsells",e.YMOBILE_PROMOS="ymobilePromos",e.YPMP_PROMO_UPSELLS="ypmpPromoUpsells",e.YPT_GAMER_UPSELLS="yptGamerUpsells",e.FALCON_TOM_SUBSCRIPTIONS_UPSELLS="falconTOMSubscriptionsUpsells",e.FALCON_TOM_ARBITRATION_ENABLED="falconTOMArbitrationEnabled",e.JEDI_BATCH_RELATED_CARDS_ENABLED="jediBatchRelatedCardsEnabled",e.BREAKING_NEWS="breakingNews",e.BREAKING_NEWS_ENABLED="breakingNewsEnabled",e.BREAKING_NEWS_TEST_PARAM="breakingNewsTestParam",e.SHOW_FUJI2_NTK="showFuji2NTK",e.HIDE_YBAR_DOWNLOAD_APP_LINK="hideYbarDownloadAppLink",e.MULTI_ACCOUNT_SIGN_OUT="multiAccountSignOut",e.UNUSUAL_DISCOUNT="unusualDiscount",e.UNUSUAL_DISCOUNT_EXISTS="UnusualDiscount",e.CATEGORY_FOLLOW="CategoryFollow",e.BROWSER_NOTIFICATIONS="browserNotifications",e.DESIGN_CLASSIFIER="designClassifier",e.DRAWER="drawer",e.CORONAVIRUS_ICON="coronavirusIcon",e.MOBILE_MESSAGE_SNIPPETS="mobileMessageSnippets",e.MOBILE_ONBOARDING_CUE="mobileOnboardingCue",e.MOBILE_SEARCH_SUGGESTIONS="mobileSearchSuggestions",e.MOBILE_SIGNATURE="mobileSignature",e.MOBILE_THEMING="mobileTheming",e.MOBILE_EDIT_RECIPIENTS="mobileEditRecipients",e.PUSH_NOTIFICATIONS_CUE_PTR="pshNotifctnsCueOnPTR",e.PUSH_NOTIFICATIONS_CUE_LAUNCH="pshNotifctnsCueOnLnch",e.PUSH_NOTIFICATIONS_CUE_COMPOSE="pshNotifctnsCueOnCmps",e.MOBILE_PAC_NOTIFICATION_CUE="mobilePacNotificationCue",e.LOADING_FALLBACK="loadingFallback",e.MOBILE_MESSAGE_READ_NAVIGATION="mobileMessageReadNavigation",e.HOMEPAGE_BUTTON="homepageButton",e.COMPOSE_FROM_CUSTOM_FOLDER="nobleBasicComposeFromCustomFolder",e.SIGN_OUT="signOut",e.LANDSHARK_CUE="landsharkCue",e.NON_NATIVE_APP_BANNERS="nonNativeAppBanners",e.MOBILE_APP_BANNER="mobileAppBanner",e.APP_INSTALL_CUE_V1="appInstallCueV1",e.APP_INSTALL_CUE_V2="appInstallCueV2",e.APP_INSTALL_CUE_V3="appInstallCueV3",e.APP_INSTALL_CUE_V3_DISMISSABLE="appInstallCueV3Dis",e.APP_INSTALL_CUE_V3_LIMITED="appInstallCueV3Limited",e.APP_INSTALL_CUE_V3_MINI="appInstallCueV3Mini",e.APP_UPSELL_PILL="appUpsellPill",e.BLOCK_SENDER_CUE="blockSenderCue",e.CORONAVIRUS_CUE="coronavirusCue",e.CONVERSATIONS_CUE="conversationsCue",e.COUPON_LANDSHARK_CUE="couponLandsharkCue",e.NOBLE_SUPPORTED_BROWSER_VERSION="nobleSupportedBrowserVersion",e.NOBLE_SUPPORTED_OS_VERSION="nobleSupportedOSVersion",e.NOBLE_SUPPORTED_PARTNER="nobleSupportedPartner",e.MAX_PREVIEW_LENGTH="maxPreviewLength",e.SMART_APP_BANNERS="smartAppBanners",e.PULL_TO_REFRESH="pullToRefresh",e.DEALS="deals",e.RECOMMENDED_DEALS="recommendedDeals",e.DEALS_VIEW_FOR_INTLS="dealsViewForIntls",e.SHOW_RECOMMENDATIONS_MODAL="showRecommendationsModal",e.PRODUCT_RECOMMENDATIONS="productRecommendations",e.SENDER_DEALS_BACKFILL="senderDealsBackfill",e.STATIC_DEALS="staticDeals",e.SHOW_MERCHANT_CARD="showMerchantCard",e.FETCH_AFFILIATE_RETAILERS="fetchAffiliateRetailers",e.SHOW_USER_FOLLOWED_CATEGORIES="showUserFollowedCategories",e.DEALS_WITH_PRODUCTS="dealsWithProducts",e.SHOW_OUT_N_BACK_AUTO_EXPANSION="showOutNBackAutoExpansion",e.STOREFRONT="storefront",e.STOREFRONT_SHORTCUTS="storefrontShortcuts",e.SHOW_SEARCH_CONTACT_CARD="showSearchContactCard",e.FETCH_COMBINE_DEALS_FROM_ASTRA="fetchCombineDealsFromAstra",e.COMMERCE_CARD_GROUP="commerceCardGroup",e.DISABLE_TOM_FEATURES="disableTOMFeatures",e.DEALS_RESKIN="dealsReskin",e.BRAND_VISIT_ARROW="brandVisitArrow",e.DEAL_ARROW="dealArrow",e.PROMO_CODE_AT_DEALS_DASH="promoCodeAtDealsDash",e.RIGHT_RAIL_COMMERCE="rightRailCommerce",e.TOM_ONBOARDING_SURFACE_TEXT="tomOnboardingSurfaceText",e.TOP_OF_INBOX_CARDS="topOfInboxCards",e.NOBLE_SEARCH_BUTTON="nobleSearchButton",e.TOM_DEAL_IMAGE_FALLBACK="tomDealImageFallback",e.DEALS_CARD_DEAL_CATEGORY="dealsCardDealCategory",e.RIGHT_RAIL_DEALS="rightRailDeals",e.RIGHT_RAIL_PRODUCTS="rightRailProducts",e.TOM_RESTRUCTURED_BUCKETS="hasTomRestructureBucket",e.TOM_RESTRUCTURED_ELEMENTS="tomRestructuredElements",e.TOM_RESTRUCTURED_ELEMENTS_WITH_NO_SHOW_MORE_DEALS="tomRestructuredElementsWithNoShowMoreDeals",e.ABANDONED_CART_EXP1_TEST_A="abandonedCartExp1TestA",e.ABANDONED_CART_EXP1_TEST_B="abandonedCartExp1TestB",e.ABANDONED_CART_EXP2_TEST_A="abandonedCartExp2TestA",e.ABANDONED_CART_EXP2_TEST_C="abandonedCartExp2TestC",e.TOM_REDESIGNED_CARDS_TEST_A="tomRedesignedCardsTestA",e.TOM_REDESIGNED_CARDS_TEST_B="tomRedesignedCardsTestB",e.TOM_REDESIGNED_CARDS_TEST_C="tomRedesignedCardsTestC",e.TOM_REDESIGNED_CARDS_TEST_D="tomRedesignedCardsTestD",e.TOM_REDESIGNED_CARDS_TEST_E="tomRedesignedCardsTestE",e.PRIME_DAY_LABEL="primeDayLabel",e.FLIGHT_CARD_EXTRACTIONS="flightCardExtractions",e.TRAVEL_VIEW="travelView",e.WALLET="wallet",e.RECEIPTS="receipts",e.GROCERIES="groceries",e.EMOJI="emoji",e.PRELOAD_EMOJI="preloadEmoji",e.GIF="gif",e.STATIONERY="stationery",e.EXCEPTION_NOTIFICATION="exceptionNotification",e.NEWUSER_MKTG_BEACON="newUserMarketingBeaconing",e.VACATION_RESPONSE_STATIONERY="vacationResponseStationery",e.PERSIST_COMPOSE_TEXT_MODE="persistComposeTextMode",e.BLOCK_SENDERS="blockSenders",e.FILTER_MESSAGES_LIKE_THIS="filterMessagesLikeThis",e.UNSUBSCRIBE_FROM_MESSAGE="unsubscribeFromMessage",e.UNSUBSCRIBE_NEW_BADGE="unsubNewBadge",e.COLLAPSED_TRIAGING="collapsedTriaging",e.UNSUBSCRIBE_BADGES="unsubscribeBadges",e.DISABLE_UNSUBSCRIBE_FEATURE="disableUnsubscribeFeature",e.SMARTVIEW_CATEGORIES_ENABLED="smartViewCategoriesEnabled",e.SMARTVIEW_CATEGORIES_IN_TABS="smartViewCategoriesInTabs",e.SMARTVIEW_CATEGORIES_PEOPLE="peopleSmartView",e.SMARTVIEW_CATEGORIES_PEOPLE_V2="peopleSmartViewV2",e.SMARTVIEW_CATEGORIES_SHOPPING="shoppingSmartView",e.SMARTVIEW_ATTACHMNENTS="attachmentsSmartView",e.SHOW_TABS="showTabs",e.VIEWS_UNDER_INBOX="viewsUnderInbox",e.PUSH_NOTIFICATIONS="pushNotifications",e.SHOULD_SW_SUBSCRIBE="shouldServiceWorkerSubscribe",e.TAP_HOOK="tapHook",e.LEGACY_PUSH_NOTIFICATION_CONTROLLER_VIEW="legacyPushNotificationControllerView",e.NOTIFICATION_CATEGORIES="notificationCategories",e.SHOW_ABOUT_OUR_ADS_LINK="showAboutOurAdsLink",e.SHOW_ABOUT_YAHOO_MAIL_LINK="showAboutYahooMailLink",e.SHOW_GIVE_FEEDBACK_LINK="showGiveFeedbackLink",e.SHOW_FEEDBACK_PANEL="showFeedbackPanel",e.SHOW_RECENT_SUGGESTIONS="showRecentSuggestions",e.SHOW_EMAIL_SEARCH_SUGGESTIONS="showEmailSearchSuggestions",e.SHOW_EMPTY_SEARCH_SUGGESTIONS="showEmptySearchSuggestions",e.MESSAGE_LIST_CONTEXT_MENU="messageListContextMenu",e.FILTER_COMMERCIAL_IMAGES="filterCommercialImages",e.IFRAME_PRINT="iframePrint",e.EXTERNAL_CSS="externalCss",e.DISPOSABLE_ADDRESS_DELETE_ONLY="disposableAddressDeleteOnly",e.SHOW_RIGHT_RAIL_HELP_LINKS="showRightRailHelpLinks",e.INLINE_IMAGES_PROXIED="inlineImagesProxied",e.WEB_PAC_NOTIFICATION_CUE="pacNotificationCue",e.CLICK_URL_LOGGING="clickUrlLogging",e.MESSAGE_OP_PERF="messageOpPerf",e.SWITCH_TO_NORRIN="switchToNorrin",e.SWITCH_TO_NORRIN_ON_WIN10="switchToNorrinOnWin10",e.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST="switchToNorrinOnWin10MsgList",e.BIZMAIL_USER="bizmailUser",e.DOCUMENT_PREVIEW="documentPreview",e.DOCUMENT_PREVIEW_LIGHT="documentPreviewLight",e.NODIN_JS_ENHANCE="nodinJSEnhance",e.NODIN_BULK_MENU="nodinBulkMenu",e.NODIN_IMAPIN="nodinImapIn",e.SELECT_ALL="selectAll",e.OFFICE365="office365",e.OFFICE365_CUE="office365Cue",e.SHOW_NODIN_ONBOARDING_MESSAGE="showNodinOnboardingMessage",e.SHOW_NODIN_AUTO_FORWARD_NOTIFICATION="showNodinAutoForwardNotification",e.XOBNI_AUTO_SUGGEST="xobniAutoSuggest",e.CLASSIC_AUTO_SUGGEST="classicAutoSuggest",e.RESHOW_ONBOARDING_CUE="reshowOnboardingCue",e.SENDER_ROLLUP="senderRollup",e.SENDER_ROLLUP_FLUSH_CACHE="senderRollupFlushCache",e.SMART_REPLY="smartReply",e.CLOUD_STORAGE="cloudStorage",e.PKG_TRACKING_TOP_OF_MSG="pkgTrackingTopOfMsg",e.USE_INVERTED_INDEX="useInvertedIndex",e.SHOW_HUMAN_READABLE_CONSENT_SETTING="showHumanReadableConsentSetting",e.OPEN_FIRST_MESSAGE="openFirstMessage",e.ASTRA_YCPI_HOST="astraYcpiHost",e.AD_FEEDBACK_V2="adFeedbackV2",e.AOL_USER="aolUser",e.IS_AOL_SUB_BRAND="isAolSubBrand",e.ALLOW_INBOX_STYLE="allowInboxStyle",e.SHOW_TODAYPAGE="showTodayPage",e.SHOW_WEATHER="showWeather",e.ENABLE_SPELL_CHECK="enableSpellCheck",e.IS_CELSIUS_DEFAULT_WEATHER_UNIT="isCelsiusDefaultWeatherUnit",e.SEND_CONFIRMATION="sendConfirmation",e.SEND_CONFIRMATION_AD="sendConfirmationAd",e.SEND_CONFIRM_FALLBACK_FOR_GAM="sendConfirmFallbackForGAM",e.SHOW_PIK_SETTING="showPIKsetting",e.IS_REINDEXABLE="isReindexable",e.ENABLE_SETTINGS_MIGRATION="enableAolSettingsMigration",e.AOL_ONBOARDING_CUE_ML="aolOnboardingCueOnMsgLst",e.AOL_ONBOARDING_CUE_MR="aolOnboardingCueOnMsgRd",e.AOL_ONBOARDING_CUE_SM="aolOnboardingCueOnSlcMsg",e.AOL_ONBOARDING_CUE_CP="aolOnboardingCueOnCmps",e.ENABLE_AOL_CONTACTS_CATEGORIES="enableAOLContactsCategories",e.ENABLE_PLAY_SOUND="newMailNotifSoundSetting",e.ENABLE_PLAY_SOUND_MODE="youveGotMailSetting",e.ENABLE_READABILITY_MODE="enableReadabilityMode",e.FIX_IMG_SRC="fixImgSrcURL",e.EXTERNAL_INLINE_IMAGE_PREVIEW="externalInlineImagePreview",e.AUTO_FORWARD_CUE="autoForwardCue",e.AUTO_FORWARD_NOTIFICATION="autoForwardNotification",e.AUTO_FORWARD_ALLOWED="autoForwardAllowed",e.FREE_AUTO_FORWARD_EXPIRED="freeAutoForwardExpired",e.SMARTVIEWS="smartViews",e.SHOW_SMARTVIEWS_INLINE_PROMPT="showSmartViewsInlinePrompt",e.COMPACT_COMPOSE="compactCompose",e.VIDEO_PLAYER_IN_ENHANCED_CARD="videoPlayerInEnhancedCard",e.PREMIUM_DEA="premiumDEA",e.PREMIUM_DEA_ALLOWED="premiumDeaAllowed",e.UNSUBSCRIBE_FOR_SPAM="unsubForSpam",e.INVITE_FLOW_ENABLED="inviteFlowEnabled",e.PRINT_ENABLED="printEnabled",e.SPAM_INDICATOR="spamIndicator",e.FOCUSED_INBOX="focusedInbox",e.REDIRECT_MAIL_PLUS_BENEFITS_CLICK_TO_SETTING="redirectMailPlusBenefitsClickToSetting",e.FOLDER_SEARCH_DISCOVERABILITY_SEARCH_IN_FOLDERS="folderSearchDiscoverabilitySearchInFolders",e.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX="folderSearchDiscoverabilityDefaultInbox",e.ADVANCED_SEARCH_BUTTON_HAS_LABEL="advancedSearchButtonHasLabel",e.ADVANCED_SEARCH_IN_SEARCH_HEADER="advancedSearchInSearchHeader",e.SCROLL_TO_SEARCH="scrollToSearch",e.USE_SAVED_SEARCH_FOR_FILTERS="useSavedSearchForFilters",e.USE_DISPATCHER_CLIENT="useDispatcherClient",e.EMAILS_TO_MYSELF="emailsToMyself",e.SHOW_OFFICIAL_DOMAIN_LOGO="showOfficialDomainLogo",e.USE_NON_IFRAME_DOWNLOAD="useNonIFrameDownload",e.SHOW_FORMATTED_UNREAD_COUNT="showFormattedUnreadCount",e.MAIL_PLUS_ICON_SHORTCUT="mailPlusIconShortcut",e.ALLOW_ATTACH_FILES_FROM_RECENT_EMAILS="allowAttachFilesFromRecentEmails",e.YBAR_MAIL_PLUS_SHORTCUT_PROMPT="ybarMailPlusShortcutPrompt",e.FOLDER_SEARCH_DISCOVERY="folderSearchDiscovery",e.SUB_CANCEL_LINK_IN_SETTING="subCancelLinkInSetting",e.NEW_THEMES="newThemes",e.DISPLAY_AD_REPORTER="displayAdReporter",e.HIGHLIGHT_SEARCH_RESULTS_PAGE="highlightSearchResultsPage",e.ASSET_PRECACHE="assetPrecache",e.DISPLAY_BIMI="displayBimi",e.HAS_BIMI_EXPERIMENT="hasBimiExperiment",e.ULTRA_LIGHT_THEME="ultraLightTheme",e.ULTRA_LIGHT_THEME_DEFAULT="ultraLightThemeDefault",e.USE_JEDI_CLIENT_PRIORITY="useJediClientPriority",e.MAIL_YAI="mailYAI",e.POTENTIAL_MAIL_YAI="potentialMailYAI",e.COMPOSE_ASSISTANT="composeAssistant",e.YAI_SEARCH="yaiSearch",e.YAI_RETRO_COMPOSE="yaiRetroCompose",e.COMPOSE_DROPDOWN="composeDropdown",e.YAI_ONBOARDING_CUE="yaiOnboardingCue",e.PINNED_EMAILS="pinnedEmails",e.PRIORITY_INBOX_ELIGIBLE="priorityInboxEligible",e.SHOW_NTF_CUSTOMIZE_UPSELL="showNotificationsCustomizeUpsell",e.PRIORITY_INBOX_ENABLED="priorityInboxEnabled"}(ca||(ca={})),function(e){e.PINNED_EMAILS_IDS_AND_TIMESTAMPS="pinnedEmailsIds",e.STICKY_ONBOARDING_CARDS="stickyOnboardingCards",e.AMP_EMAIL="ampEmail",e.APP_ROOT_PATH="appRootPath",e.APP_CONTAINER="appContainer",e.NPS_SURVEY_CONFIG="npsSurveyConfig",e.THEME="theme",e.THEME_MODE="themeMode",e.TEXTUAL_SUGGESTIONS="textualSuggestions",e.CLIENT_WIDTH="clientWidth",e.DESKTOP_MAIL_VERSION="desktopMailVersion",e.ORIENTATION="orientation",e.PREVIEW_PANE="previewpane",e.SUBHUB_RECO_FILTER="subhubRecommendationsFilter",e.SUBHUB_RECO_COUNT="subhubRecommendationsCount",e.MSG_LIST_DENSITY="messageListDensity",e.COMPOSE_FORMAT="composeFormat",e.LIST_ITEM_HEIGHT="listItemHeight",e.SNIPPETS="snippets",e.COMPOSE_FONT_FAMILY="composeFontFamily",e.COMPOSE_FONT_SIZE="composeFontSize",e.COMPOSE_SAVE_INTERVAL="composeSaveInterval",e.WALLET_CURRENCY_CONVERTER="walletCurrencyConverter",e.DESKTOP_NOTIFICATION="desktopNotification",e.PLAY_SOUND="playSound",e.PLAY_SOUND_MODE="playSoundMode",e.MOBILE_NOTIFICATION="mobileNotification",e.READABILITY_MODE="readabilityMode",e.PUSH_SUBSCRIPTION_VALIDITY="pushSubscriptionValidity",e.ASSOCIATION_SUBSCRIPTION_VALIDITY="associationValidityPeriod",e.EXPERIMENTAL_FEATURES="experimentalFeatures",e.EXPERIMENTAL_FEATURES_META_DATA="experimentalFeaturesMetaData",e.LANDSHARK_ON_COUPON_MESSAGE_STRINGS="landsharkOnCouponMessageStrings",e.MARK_AS_READ_INTERVAL="markAsReadInterval",e.DELIVERY_BLOCKED_SENDERS="deliveryBlockedSenders",e.SHOW_IMAGES="showImages",e.LINK_ENHANCR="linkEnhancer",e.SHOW_SEND_CONFIRMATION_PAGE="showSendConfirmationPage",e.SPELL_CHECK_BEFORE_SEND="spellCheckBeforeSend",e.VACATION_PREFERENCES="vacationPreferences",e.MESSAGE_FILTERS="messageFilters",e.MAIL_TABS="multiTask",e.CONVERSATIONS="conversations",e.ACTION_AFTER_MSG_MOVE="actionAfterMsgMove",e.SHOW_CUSTOM_FOLDERS="showCustomFolders",e.SHOW_SMART_VIEWS="showSmartViews",e.EXPANDED_FOLDERS="expandedFolders",e.STATIONERY_DEFAULT_THEME="stationeryDefaultTheme",e.TOGGLE_CONV_RELOAD_DELAY="toggleConversationReloadDelayMS",e.SHOW_ALL_SYSTEM_FOLDERS="showAllSystemFolders",e.RECENTLY_USED_EMOJIS="recentlyUsedEmojis",e.SYSTEM_TABS="systemTabs",e.SENDING_EMAIL_CONFIRM_STATUS="sendingConfirmEmail",e.DEA_BASE_NAME="disposableAddressesPrefix",e.MAILBOX_SIZE="mailboxSize",e.PLA_SEARCH_SOURCE_TAG="plaSearchSourceTag",e.SEARCH_SOURCE_TAG="searchSourceTag",e.SEARCH_FETCH_COUNT="searchFetchCount",e.SEARCH_FIRST_PAGE_COUNT="searchFirstPageCount",e.SPACE_IDS="spaceids",e.MAGIC_NUMBERS="magicNumbers",e.AOL_AD_POSITION_MULTI_SIZES="aolAdPositionMultiSizes",e.AD_BLOCK_FEATURE_CUE_ID="adBlockFeatureCueId",e.WEB_SEARCH_URL="webSearchURL",e.USE_RICH_TEXT="useRichText",e.HIDE_FORMAT_TOOLBAR="hideFormatToolbar",e.CORP_MAIL_GMAIL_SETTINGS="corpMailGmailSettings",e.ACTIONABLE_RIGHT_RAIL_CONTENT="actionableRightRailContent",e.THROTTLE_API_LIST="throttleAPIList",e.SCOUT_ONBOARDING="scoutOnboarding",e.NODIN_ONBOARD="nodinOnboard",e.DISABLED_MESSAGE_READ_CARDS="allowedMsgReadCards",e.EMPTY_FOLDER_VIDEO_CHANNELS="emptyFolderVideoChannels",e.HIDE_AD="hideAd",e.TIME_TO_WAIT_SINCE_LAST_AD_CALL="timeToWaitSinceLastAdCall",e.GEMINI_AD_COUNT="geminiAdCount",e.GEMINI_SECTION_IDS="geminiSectionIds",e.GEMINI_SECTION_IDS_TO_CACHE="sectionIdsToCache",e.GEMINI_CREATIVE_ID="geminiCreativeId",e.GEMINI_FORCE_FILTER="geminiForceFilter",e.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS="geminiMailPlusAdsCreativeIds",e.DOMAIN_MATCH_AD_RELATED_CARD_VERTICAL="domainMatchRelatedCardVertical",e.CMP_JS_URL="cmpJSUrl",e.POLYFILL_URL="polyfillUrl",e.OPUS_JS_URL="opusJSUrl",e.COM_SCORE_JS_URL="comScoreJSUrl",e.AD_FREE_MAIL_URL="adFreeMailUrl",e.MAIL_PLUS_URL="mailPlusUrl",e.MAIL_PLUS_SUBSCRIPTIONS_URL="mailPlusSubscriptionsUrl",e.TASTEMAKER_URL="tastemakerUrl",e.YAI_URL="yaiUrl",e.ABOUT_AD_URL="aboutAdsUrl",e.PRIVACY_URL="privacyUrl",e.TERMS_URL="termsUrl",e.HELP_URL="helpUrl",e.ITEM_LIST_PAGE_THRESHOLD="itemListPageThreshold",e.MESSAGE_READ_AD_ROTATION_INTERVAL="messageReadAdRotationInterval",e.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL="messageReadAdRotationIdleInterval",e.MAIL_PLUS_FREE_TRIAL_DAYS="mailPlusFreeTrialDays",e.MAIL_PLUS_MONTHLY_PRICE="mailPlusMonthlyPrice",e.MAIL_PRO_MONTHLY_PRICE="mailProMonthlyPrice",e.MAIL_PRO_YEARLY_PRICE="mailProYearlyPrice",e.GEMINI_VIDEO_AD_ID="geminiVideoAdId",e.GEMINI_VIDEO_AD_SITE="geminiVideoAdSite",e.GEMINI_VIDEO_AD_EXP_NAME="geminiVideoAdExpName",e.GEMINI_VIDEO_AD_EXP_TYPE="geminiVideoAdExpType",e.NEW_USER_TASK_BUCKET="newUserTaskBucket",e.RELATED_SEARCHES_CARD_STYLE="relatedSearchesCardStyle",e.VIDEO_PLAYER_URL="videoPlayerUrl",e.VIDEO_PLAYER_SAPI_COBRAND="videoPlayerSapiCobrand",e.AOL_VIDEO_PLAYER_URL="aolVideoPlayerUrl",e.AOL_VIDEO_PLAYER_IFRAME_SRC="aolVideoPlayerIframeSrc",e.OATH_VIDEO_PLAYER_URL="oathVideoPlayerUrl",e.SECOND_PENCIL_AD_DEPTH="secondPencilAdDepth",e.PENCIL_AD_EXPIRE_TIME="pencilAdExpireTime",e.PLA_SEARCH_ADS_BUCKET_ID="plaSearchAdsBucketId",e.PLA_SEARCH_ADS_JS_URL="plaSearchAdsJsUrl",e.JAC_SCRIPT_URL="jacScriptUrl",e.JAC_SERVICE_HOST="jacServiceHost",e.JILL_HOSTNAME="jillHostname",e.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION="rightRailUpsellVideoAdDuration",e.ADBLOCK_UPSELL_CUE_INTERVAL="adBlockUpsellCueInterval",e.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL="checkMailAdRotationIdleInterval",e.DEALS_SHOPPING_CART_AD_VERSION="dealsShoppingCartAdVersion",e.LASTPASS_FREETRIAL_UPSELL_SETTINGS="lastpassFreeTrialUpsellSettings",e.SWITCH_WIDGET_SCRIPT_URL="switchWidgetScriptUrl",e.BUY_MORE_SAVE_MORE_TERMS_LINK="buyMoreSaveMoreTermsUrl",e.MAIL_PLUS_CHECKOUT_URL="mailPlusCheckOutUrl",e.NUDGE_TO_REPLY_SETTING="nudgeToReplySetting",e.RIGHT_RAIL_COLLAPSE_LIMIT="rightRailCollapseLimit",e.MAIL_PLUS_YBAR_UPSELL_URLS="mailPlusYbarUpsellUrls",e.MAIL_PLUS_IMPRESSION_URL="mailPlusImpressionUrl",e.MAIL_PLUS_CLICK_URL="mailPlusClickUrl",e.MAIL_PLUS_MOBILE_CLICK_URL="mailPlusMobileClickUrl",e.MAIL_PLUS_YBAR_UPSELL_BUCKET_STRINGS="mailPlusYbarUpsellBucketStrings",e.STATIC_MAIL_PLUS_UPSELL_DATA="staticMailPlusUpsellData",e.SELECTED_SUBSCRIPTION_UPSELL="selectedSubscriptionUpsell",e.YMOBILE_UPSELL_VERSION="ymobileUpsellVersion",e.YPMP_UPSELL_VERSION="ypmpUpsellVersion",e.SUPPRESSED_UPSELLS="supressedUpsells",e.BREAKING_NEWS_REFRESH_INTERVAL="breakingNewsRefreshInterval",e.BREAKING_NEWS_SETTINGS="breakingNewsSettings",e.PACKAGE_TRACKING_SETTINGS="packageTrackingSettings",e.DEALS_STORIES_SETTINGS="dealsStoriesSettings",e.MAILPRO_UPSELL_INSTRUMENTATION_URL="mailProUpsellInstrumentationURL",e.PURCHASE_OFFER_TEST_PARAM="purchaseOfferTestParam",e.LIST_SUBSCRIPTION_TEST_PARAM="listSubscriptionTestParam",e.DAYS_IN_TRIAL_TEST_PARAM="daysInTrialTestParam",e.MOCKED_RECURRING_INTERVAL="mockedRecurringInterval",e.OBI_AUTH="obiAuth",e.OBI_HOSTNAME="obiHostname",e.FTWCC_ELIGIBLE_UPSELLS="ftwccEligibleUpsells",e.NUM_MESSAGE_GROUPS_TO_PREFETCH="numMessageGroupsToPrefetch",e.NEIGHBOR_PREFETCH_COUNT="neighborPrefetchCount",e.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT="falconTOMSubscriptionsPrefetchCount",e.INBOX_STYLE="inboxStyle",e.MIGRATION_STATUS="migrationStatus",e.SYNC_TIME="syncTime",e.ASYNC_TASK_POLL_INTERVAL="asyncTaskPollInterval",e.ASYNC_TASK_POLL_COUNT="asyncTaskPollCount",e.CHECK_MAIL_INTERVAL="checkMailInterval",e.MAIL_URL="mailURL",e.CALENDAR_URL="calendarURL",e.NOTEPAD_URL="notePadURL",e.FEEDBACK_URL="feedbackURL",e.BUFFER_SIZE="bufferSize",e.PREVIEWABLE_INLINE_ATTACHMENT_SIZE="previewableInlineAttachmentSize",e.MESSAGE_INITIAL_RENDER_COUNT="messageInitialRenderCount",e.STATIONERY_RESTRICTED_THEMES="stationeryRestrictedThemes",e.MESSAGE_FETCH_COUNT="messageFetchCount",e.MESSAGE_FETCH_COUNT_INITIAL="messageFetchCountInitial",e.COUPON_CARDS_FETCH_COUNT="couponCardsFetchCount",e.RIGHT_RAIL_CARDS_LIMIT="rightRailCardsLimit",e.COUPON_RECOMMENDATIONS_FETCH_COUNT="couponRecommendationsFetchCount",e.CARD_GROUPS_FETCH_COUNT="cardGroupsFetchCount",e.FLIGHT_CARD_GROUPS_FETCH_COUNT="flightCardGroupsFetchCount",e.LINK_ENHANCER_URL_BLOCK_LIST="linkEnhancerUrlBlocklist",e.NOTIFICATION_TTL="notificationTTL",e.COMPOSE_THROTTLE_COUNT="composeThrottleCount",e.NOTIFICATION="notification",e.STAR_ANIMATION="starAnimation",e.GUIDED_STAR_ANIMATION="guidedStarAnimation",e.HAS_GUIDED_STAR_ANIMATION="hasGuidedStarAnimation",e.HAS_DEALS_STAR_ANIMATION="hasDealsStarAnimated",e.SERVICE_WORKER_URL="serviceWorkerUrl",e.PARTNER_BRAND="partnerBrand",e.HAS_WIDE_LOGO="hasWideLogo",e.LINKEDIN_EXPIRY_NOTIFY_DAYS="linkedInExpiryNotifyDays",e.ASTRA_NONPROD_FLAG="astraNonProdFlag",e.IS_USER_FOLLOWING_CATEGORIES="isUserFollowingCategories",e.PUSH_NOTIFICATIONS_EXPERIMENT="pushNotificationsExperiment",e.CORONAVIRUS_URL="coronavirusUrl",e.IMAPIN="imapin",e.INTERSTITIAL_FREQUENCY="interstitialFrequency",e.APP_INSTALL_LINK="appInstallLink",e.APP_INSTALL_CUE_VARIATION="appInstallCueVariation",e.NOT_FOUND_PAGE_APP_INSTALL_LINK="notFoundPageAppInstallLink",e.MOBILE_BOTTOM_SHEET_APP_INSTALL_LINK="mobileBottomSheetAppInstallLink",e.MOBILE_MINI_BOTTOM_SHEET_APP_INSTALL_LINK="mobileMiniBottomSheetAppInstallLink",e.DO_NOT_UPSELL_APP="doNotUpsellApp",e.ACCOUNT_INFO_URL="accountInfoURL",e.DELETE_DEBOUNCE_TIME="deleteDebounceTime",e.LOGO_URL="logoUrl",e.LOGO_SRCSET="logoSrcSet",e.BASIC_MAIL_THEME="basicMailTheme",e.HOMEPAGE_URL="homepageURL",e.TODAYPAGE_URL="todayPageURL",e.SHOW_TODAY_AT_SIGNIN="showTodayAtSignin",e.SIGN_OUT_URL="signOutURL",e.AUTO_OPEN_FIRST_MESSAGE="autoOpenFirstMessage",e.LOGIN_NAME="loginName",e.V3_LIST_MESSAGE_BUFFER="v3ListMessageBuffer",e.V3_OPPOSITE_BUFFER="v3ListMessageOppositeBuffer",e.V3_LIST_NUM_OF_PLACEHOLDER="v3ListNumOfPlaceHolder",e.BULK_ACTION_DIALOG_THRESHOLD="bulkActionDialogThreshold",e.HUMAN_READABLE_CONSENT="humanReadableConsentSetting",e.CONSENT_EVENTS="consentEvents",e.ENABLED_AFFILIATE_PARTNERS="enabledAffiliatePartners",e.AFFILIATE_URL="affiliateUrl",e.NUMBER_OF_COUPON_ROWS="numberOfCouponRows",e.IC_TOM_DENY_LIST="icTomDenyList",e.MARKETING_PREFERENCES_SETTING="marketingPreferencesSetting",e.DISPATCHER_UPSELL_DATA="dispatcherUpsellData",e.TOUCHPOINT_UPSELL_DATA="touchpointUpsellData",e.MAX_NUMBER_OF_MESSAGE_BODIES="maxNumberOfMessagebodies",e.MAX_NUMBER_OF_DOCUMENTS="maxNumberOfDocuments",e.EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION="edgeToEdgeGraphicalAdVersion",e.ADBLOCK_DELAY_DISMISS_TIME_DURATION="adblockDelayDismissTimeDuration",e.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL="adblockDelayDismissInstrumentationURL",e.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST_VERSION="switchToNorrinOnWin10MsgListVersion",e.MAILPRO_TO_MAIL_PLUS_UPSELL_SETTINGS="mailProToMailPlusUpsellSettings",e.MAIL_PLUS_SETTING_TAB_LEFT_TEXT_STYLE="mailPlusSettingTabLeftTextStyle",e.RIGHT_RAIL_UPSELL_CUE_STYLE="rightRailUpsellCueStyle",e.RIGHT_RAIL_UPSELL_CUE_IMG_STYLE="rightRailUpsellCueImgStyle",e.MAIL_PLUS_SETTINGS_UPGRADE_TEXT_STYLE="mailPlusSettingsUpgradeTextStyle",e.AD_FREE_AOL_MAIL_CLICKURL="adFreeAOLMailRightRailClickUrl",e.AD_FREE_AOL_SETTINGS_CLICKURL="adFreeAOLMailSettingsClickUrl",e.INLINE_PROMPT_HELP_URL="inlinePromptHelpUrl",e.INLINE_PROMPT_DASHBOARD_URL="inlinePromptDashboardUrl",e.SUPPORT_PHONE_NUMBER="supportPhoneNumber",e.INBOX_STYLE_HELP_URL="inboxStyleHelpUrl",e.TEXT_SIZE_HELP_URL="textSizeHelpUrl",e.SOUND_SETTINGS_HELP_URL="audioSettingsHelpUrl",e.PREVIEWPANE_POSITIONS_FROM_SERVER="previewpanePositionsFromServer",e.LEFT_NAV_WIDTH_FROM_SERVER="leftNavWidthFromServer",e.MAIL_PLUS_EMAIL_STORAGE="mailPlusEmailStorage",e.SPAM_TOUCHPOINT_PLACEMENT="spamTouchpointPlacement",e.MAIL_OVERLAY_PLACEMENT="mailOverlayPlacement",e.YBAR_MAIL_PLUS_SHORTCUT_DAYS="ybarMailPlusShortcutDays",e.LAZY_LOADING_EMAIL_IMG_CONFIG="lazyLoadingEmailImgConfig",e.SUB_CANCEL_LINK="subCancelLink",e.GPT_HOST="GPTHost",e.GAM_TEST_ID="gamtestid",e.GPT_IFRAME_VERSION="GPTIframeVersion",e.HEADER_BIDDER_SITE="headerBidderSite",e.RIGHT_RAIL_AD_UNIT_PATH="rightRailAdUnitPath",e.EMPTY_FOLDER_AD_UNIT_PATH="emptyFolderAdUnitPath",e.SEND_CONFIRMATION_AD_UNIT_PATH="sendConfirmationAdUnitPath",e.GAM_TIME_TO_WAIT_SINCE_NON_REFRESH_ROTATION="gamTimeToWaitSinceNonRefreshRotation",e.AD_SOURCE_AVATAR_INLINE="adSourceAvatarInline",e.MAIL_PLUS_ONBOARDING_CUE_PERIOD="mailPlusOnboardingCuePeriod",e.BIMI_HELP_URL="bimiHelpUrl",e.GPT_IFRAME_REMOUNT_INTERVAL="gptIframeRemountInterval",e.PRIORITY_INBOX_TABS="priorityInboxTabs"}(da||(da={}));da.DO_NOT_UPSELL_APP;const _a={LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"},Ea="__setOauthStatus",ua="appBanner",ma=["fullscreen","target","sponsoredForward","messagePreview","newCompose","accountIds"],Sa={featured:"featured",everyday:"everyday",birthday:"birthday",seasonal:"seasonal"},pa=32e3,Ca=(0,n.gP)(["NotInitialized","Initializing","Initialized"]),Aa="999+",Ta=999,Ia={TUMBLR:"www@tumblr",TENOR:"www@tenor"},ha=(0,n.gP)(["IDLE","START","FINISH"]);let ga,Oa;!function(e){e.CheckInAction="CheckInAction",e.Coupon="Coupon",e.EmailMessage="EmailMessage",e.FlightReservation="FlightReservation",e.Order="Order",e.ParcelDelivery="ParcelDelivery",e.Recommendation="Recommendation",e.ReservationPackage="ReservationPackage",e.AntispamResult="AntispamResult",e.GiftCard="GiftCard",e.Invoice="Invoice",e.ShoppingCart="ShoppingCart",e.ProgramMembership="ProgramMembership"}(ga||(ga={})),function(e){e.SpamMarkedByUser="SpamMarkedByUser",e.SenderInUserAddressBook="SenderInUserAddressBook",e.PotentialSpam="PotentialSpam",e.PotentialPhishing="PotentialPhishing"}(Oa||(Oa={}));const Da=(0,n.gP)(["FOLDER_ACCESS_FAILED","MESSAGE_ACCESS_FAILED","COMPOSE_ACCESS_FAILED","SETTINGS_FAILED_TO_LOAD"]);let Ra,Na;!function(e){e.BDM="BDM",e.CPN="CPN",e.EER="EER",e.CRD="CRD",e.CRR="CRR",e.EEG="EEG",e.EML="EML",e.EVR="EVR",e.FDR="FDR",e.FI="FI",e.FLR="FLR",e.INV="INV",e.LDG="LDG",e.ORD="ORD",e.PCS="PCS",e.PE="PE",e.PKG="PKG",e.POE="POE",e.SH="SH",e.TAG="TAG",e.TNR="TNR",e.TR="TR",e.TRR="TRR",e.TXR="TXR",e.USB="USB",e.XDL="XDL",e.EEC="EEC",e.EEP="EEP",e.PRY="PRY",e.UPE="UPE",e.PRN="PRN",e.SOL="SOL",e.NER="NER"}(Ra||(Ra={})),function(e){e.NORMAL="NORMAL"}(Na||(Na={}));const La={OUTLIER:"Outlier"},fa=5,Ma=250,Pa=3,ba=3,ya=14,va=864e5,Fa=(0,n.gP)(["NONE","ERROR","VALIDATING","RESOLVED"]),Ua=(0,n.gP)(["ade","adp","bat","chm","cmd","com","cpl","exe","hta","ins","isp","jar","js","jse","lib","lnk","mde","msc","msi","msp","mst","pif","reg","scr","sct","shb","sys","vb","vbe","vbs","vxd","wsc","wsf","wsh"]),ka=(0,a.Lz)("SLN15987"),wa={LEFT:"left",RIGHT:"right"},Ga={MESSAGE_LIST:"messageList",MESSAGE_LIST_2:"messageList2",ADBLOCK_MESSAGE_LIST:"adblockMessageList",ADBLOCK_MESSAGE_LIST_2:"adblockMessageList2",MESSAGE_READ:"messageRead",COUPON_REC:"couponRec",SHOPPING_CART:"shoppingCart",RIGHT_RAIL_UPSELL:"rightRailUpsell",MESSAGE_LIST_CAROUSEL:"messageListCarousel",MESSAGE_LIST_2_FALLBACK:"messageList2Fallback",DEALS_SHOPPING_CART:"dealsShoppingCart",CROSS_DOMAIN_DPA_ADS:"crossDomainDPA",MESSAGE_LIST_SPONSORED_MESSAGE:"messageListSponsoredMessage"};(0,n.gP)(["STRIKE_PRICE","MONEY_OFF","PERCENT_OFF","FREE_SHIPPING","CUSTOM"]);let Ha;!function(e){e.OVERNIGHT="OVERNIGHT",e.TWO_DAY="TWO_DAY",e.STANDARD="STANDARD"}(Ha||(Ha={}));const Ba=200,xa=10*Ba,Va="https://support.google.com/chrome/answer/3220216?co=GENIE.Platform%3DAndroid&hl=en&oco=1",Za=16,Wa={UI_1:1,UI_3:3,UI_4:4},Ka=[Wa.UI_1,Wa.UI_4,Wa.UI_3,Wa.UI_4],za="https://s.yimg.com/nq/mailplusplus/mobileAssets/146e91324ab5812be2b10c9a8cc967f8/onDemandAssets/affiliateSenderDomains.json",Ya={YMAIL:"ymail",GDRIVE:"gdrive",DROPBOX:"dropbox",THIRD_PARTY_AI:"3pAI"},ja={[Ya.GDRIVE]:{displayName:"Google Drive"},[Ya.DROPBOX]:{displayName:"Dropbox"}};let qa,Xa;!function(e){e.CONTACTS_PANE="CONTACTS_PANE",e.CALENDAR_PANE="CALENDAR_PANE",e.TODOS_PANE="TODOS_PANE",e.BREAKING_NEWS="BREAKING_NEWS",e.NOTES_PANE="NOTES_PANE"}(qa||(qa={})),function(e){e.CONTACTS_LIST="CONTACTS_LIST",e.CONTACT_DETAILS="CONTACT_DETAILS",e.EDIT_CONTACT="EDIT_CONTACT",e.CREATE_CONTACT="CREATE_CONTACT",e.EDIT_GROUP="EDIT_GROUP",e.CREATE_GROUP="CREATE_GROUP"}(Xa||(Xa={}));const Qa=-1,Ja=4,$a=10,en="default",tn="addGroup",sn=(0,n.gP)(["DOES_NOT_EXIST","SUCCESS","FAILED"]),an=(0,n.gP)(["NOT_APPLICABLE","NOT_SUBSCRIBED","SUBSCRIBED","EXPIRED","UPGRADED_TO_MAILPRO"]),nn={INVALID:0,PRE_SIGNUP_LIGHTBOX:1,PRE_SIGNUP_PENCIL_BANNER:2,PRE_SIGNUP_LEFT_PANEL_1:3,PRE_SIGNUP_LEFT_PANEL_2:4,PRE_SIGNUP_LEFT_PANEL_3:5,POST_SIGNUP_THANKYOU_TOAST:11,FREE_TRIAL_ENDING_NOTICATION_1:12,FREE_TRIAL_ENDING_NOTICATION_2:13,FREE_TRIAL_LAST_DAY_NOTIFICATION:14,FREE_TRIAL_EXPIRED_NOTIFICATION:15,MAILPRO_SIGNUP_THNAKYOU_TOAST:21},rn=16106688e5,on=14,ln=["1005265","1005237"],cn=(0,n.gP)(["STARTED","SUBMITTED","ENDED","DELETED","LIKED"]),dn=(0,n.gP)(["SUCCESS","PENDING","FAIL"]);let _n;!function(e){e.INITIALIZED="INITIALIZED",e.PENDING="PENDING",e.MISCLICKED="MISCLICKED"}(_n||(_n={}));const En=5e3,un={[ca.PREMIUM_DEA]:"YMAIL_DISPOSABLE_EMAIL",[ca.BLOCKED_DOMAINS]:"YMAIL_BLOCK_DOMAIN"},mn=((0,n.gP)(["LIGHT","DARK"]),{SLIDEUP:"slideUp",GUIDEDSTAR:"guidedStars"}),Sn=(0,n.gP)(["SAVE_VACATION_RESPONSE","PREVENT_ROUTE_CHANGE"]);let pn;!function(e){e.INVALID_EMAIL="INVALID_EMAIL",e.INVALID_PROVIDER="INVALID_PROVIDER",e.DUPLICATE_EMAIL="DUPLICATE_EMAIL",e.NONE="NONE"}(pn||(pn={}));const Cn={ATT:"AT&T",BT:"British Telecom",FRONTIER:"Frontier",ROGERS:"Rogers",SKY:"Sky",VERIZON:"Verizon",AOL:"AOL"};let An;!function(e){e.SBC="sbc",e.ATT="att",e.VERIZON="verizon",e.VZ="vz",e.VZ_ACS="vz-acs",e.ROG="rog",e.ROGERS="rogers",e.ROGERS_ACS="rogers-acs",e.BT="bt",e.BT_1="bt-1",e.FTR="ftr",e.FRONTIER="frontier",e.SKY="sky",e.YCORP="ycorp",e.AOL="aol"}(An||(An={}));const Tn="ycorp",In=(e="us",t="en-US",s="")=>s.toUpperCase()===Cn.AOL?`https://login.aol.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.aol.com%2Fd&prefill=0`:`https://login.yahoo.com/?display=login&.intl=${e}&.lang=${t}&.src=ym&done=https%3A%2F%2Fmail.yahoo.com%2Fd&prefill=0`,hn={rowsWithoutCollapse:4,filters:500,blockedSenders:1e3,mailPlusBlockedDomains:500,freeUserBlockedDomains:3},gn={DEFAULT:"default",PTRV01:"ptrv01",PTRV02:"ptrv02",LAUNCHV01:"launchv01",COMPOSEV01:"composev01"},On=["message.aol.com","email.aol.com","comms.aol.net"],Dn=["dc2.aol.com","cc.aol.com","email.aol.net","email.cs.com","email.netscape.net","comms.wmconnect.com"],Rn=(0,n.gP)(["aimyfe.com","aldoshoes.com","allmodern.com","amazon.ca","amazon.co.uk","amazon.com","amazon.de","amazon.es","amazon.fr","amazon.in","amazon.it","andenhud.com","angara.com","arhaus.com","arwin.com","ashleyfurniture.com","asics.com","avocadogreenmattress.com","banggood.com","bbqguys.com","beautyforever.com","bhks.com","birchlane.com","brilliantearth.com","budgetpetcare.com","buy123.com","campsaver.com","casper.com","chewy.com","chicme.com","click108.com","clocksandcolours.com","containerstore.com","cruisecritic.com","cupshe.com","dell.com","draxe.com","dvtokyo.com","dyson.hk","ebay.com","ecipo.hu","enjukuracing.com","eobuwie.com","epantofi.ro","epapoutsia.gr","etmall.com","fanatics.com","firststreethat.com","fitnesssuperstore.com","footer.com","forever21.com","gap.com","gapcanada.ca","gapfactory.com","glassesusa.com","gorjana.com","gotobuy.com","greencome.com","harryanddavid.com","helenarubinstein.com","hp.com","hugoboss.com","iherb.com","ihg.com","ikea.com","jcpenney.com","jomashop.com","jossandmain.com","joybird.com","jsstore.com","keau.com","kiehls.com","kohls.com","lanecrawford.com","levis.com","lifeisgood.com","lilysilk.com","livego168.com","livingspaces.com","macys.com","major-made.com","marriott.com","mdmmd.com","michaels.com","microsoft.com","minusplus.hk","miu-star.com","modcloth.com","mollybuy.shop","momoshop.com","moneymetals.com","mydoll.com","nadula.com","ncl.com","newchic.com","niceioi.com","nike.com","nomatic.com","nongchunxiang.com","nordictrack.com","nordstrom.com","nordstromrack.com","novica.com","obdesign.com","obuvki.bg","oguma.com","opticsplanet.com","pcone.com","peets.com","perigold.com","petsafe.net","pricerunner.com","pricerunner.dk","pricerunner.se","pure17go.com","purple.com","qchicken.com","queenshop.com","redance.com","redbubble.com","revolve.com","ritzcarltonshops.com","roomstogo.com","shopdisney.com","shutterfly.com","simonpearce.com","skechers.com","sleepnumber.com","slidebelts.com","snug.com","so-nice.com","stealthangelsurvival.com","taiwancosmworld.com","talbots.com","talisa.com","teepublic.com","thredup.com","traegergrills.com","trivago.co.uk","trivago.com","trivago.es","trulybeauty.com","twhg.com","unice.com","uv100.com","vacanza.com","venus.com","vetfriends.com","victoriasecret.com","victoriassecret.com","vitalydesign.com","vrai.com","walmart.com","watsons.com","wayfair.ca","wayfair.com","webstaurantstore.com","wellprobiotics.com","witsper.com","wstyle.com","ymswood.com","yoins.com","ypshop.com","zappos.com","ztore.com","zulily.com"]);let Nn,Ln,fn;!function(e){e.WEEKLY="weekly",e.MONTHLY="monthly",e.YEARLY="yearly"}(Nn||(Nn={})),function(e){e.ACTIVE="active",e.PENDINGUNSUB="pendingunsub",e.FAILED="failed"}(Ln||(Ln={})),function(e){e.AttachmentUi="AttachmentUi",e.ContactsPane="ContactsPane",e.CalendarPane="CalendarPane",e.ContactCard="ContactCard",e.MessageBrief="MessageBrief",e.PhotoBrief="PhotoBrief",e.DocumentBrief="DocumentBrief",e.RightRailNativeAd="RightRailNativeAd",e.RelatedSearchesCard="RelatedSearchesCard",e.TravelCardsGroup="TravelCardsGroup",e.PlaAds="PlaAds",e.RightPaneAds="RightPaneAds",e.SavedDeals="SavedDeals",e.RetailerFilter="RetailerFilter",e.SubhubRecommendations="SubhubRecommendations",e.SubscriptionCard="SubscriptionCard",e.DealsRecommendControl="DealsRecommendControl",e.TodosPane="TodosPane",e.NotesPane="NotesPane"}(fn||(fn={}));const Mn=[fn.TravelCardsGroup,fn.ContactCard,fn.ContactsPane,fn.CalendarPane,fn.TodosPane,fn.SubscriptionCard,fn.RelatedSearchesCard],Pn=[fn.TravelCardsGroup,fn.ContactCard,fn.SubscriptionCard,fn.RelatedSearchesCard],bn=["imaps://gmail.com:993","imaps://gmail.com"],yn=10,vn=5,Fn=15,Un=3,kn=(Ke.DESKTOP_MAIL_VERSION,Lt.STORM,Ke.DESKTOP_MAIL_PREVIOUS_VERSION,Ke.DESKTOP_MAIL_VERSION_HISTORY,5),wn=5,Gn={THEMED_BUTTON:"themedButton",CTR_ON_IMG:"ctrOnImg"},Hn={DEFAULT:"default",PRODUCT:"product"},Bn={DEFAULT:"DEFAULT",BULK:"BULK",TRASH:"TRASH"},xn={FOLDER_MIMETYPE:"application/vnd.pachyderm.folder",SPREADSHEET_MIMETYPE:"application/vnd.google-apps.spreadsheet",DOCUMENT_MIMETYPE:"application/vnd.google-apps.document"},Vn={PRIVATE:"private",PUBLIC:"public"},Zn={PRICE_GRABBER:"priceGrabber",SKIM_LINK:"skimLink",VIG_LINK:"viglink",IMPACT_RADIUS:"impactRadius",COMMISSION_JUNCTION:"commissionJunction",AWIN:"awin",AD_MARKETPLACE:"adMarketPlace"},Wn={MESSAGE_EXTRACTION:"message_extraction",PRODUCT_EXTRACTION:"product_extraction",SENDER_EXTRACTION_RECEIPTS:"sender_extraction_receipts",SENDER_EXTRACTION:"sender_extraction",SENDER_PRODUCT_EXTRACTION:"sender_product_extraction",NOBLE_MESSAGE_HEADER:"noble_message_header",CONTACT_CARD:"contact_card",SEARCH_CONTACT_CARD:"search_contact_card",POTENTIAL_CONTACT_CARD:"potential_contact_card",SHORTCUTS_STORE_BRAND_HEADER:"shortcuts_store_brand_header",COUPON_SMART_VIEW_BRIEF_ITEM:"coupon_smart_view_brief_item",COUPON_SMART_VIEW_DEAL_ITEM:"coupon_smart_view_deal_item",COUPON_SMART_VIEW_COUPON_LIST_ITEM:"coupon_smart_view_coupon_list_item",MESSAGE_HEADER:"message_header",RECOMMENDED_DEALS:"recommended_deals",RECOMMENDED_CATEGORIES:"recommended_categories",RECOMMENDED_PRODUCTS:"recommended_products",CARD_EXTRACTION:"card_extraction",STATIC_CARD_EXTRACTION:"static_card_extraction",CATEGORY_FALLBACK_DEALS_EXTRACTION:"category_fallback_deals_extraction",SHORTCUTS_FEEDBACK:"shortcuts_feedback",SHORTCUTS_INBOX:"shortcuts_inbox",PROMOCODE_EXTRACTION:"promocode_extraction",RR_SENDER_EXTRACTION:"rr_sender_extraction",RR_SENDER_PRODUCT_EXTRACTION:"rr_sender_product_extraction",RR_DEAL_EXTRACTION:"rr_deal_extraction",RR_PRODUCT_EXTRACTION:"rr_product_extraction",RR_MISSED:"rr_missed",TOM_ONBOARDING:"tom_onboarding",MESSAGE_TAG:"messagetag",DPA2IC:"dpa2ic",AFFILIATE_BANNER:"affiliate_banner",CONQUESTING_AFFILIATE_BANNER:"conquesting_affiliate_banner",IC_TOM_VIEW:"ic_tom_view",TOI_CONTACT_CARD:"toi_contact_card",TOI_HEADER:"toi_header",CONQUESTING_DEAL_EXTRACTION:"conquesting_deal_extraction",CONQUESTING_PRODUCT_EXTRACTION:"conquesting_product_extraction",SHOPPING_TAB_WALLET_DETAILS_FEEDBACK:"shopping_tab_wallet_details_feedback",SHOPPING_TAB_WALLET_EMPTY:"shopping_tab_wallet_empty",SHOPPING_TAB_WALLET_INFORMATION:"shopping_tab_wallet_information",SHOPPING_TAB_WALLET_DETAILS:"shopping_tab_wallet_details",SHOPPING_TAB_WALLET_ITEM:"shopping_tab_wallet_item",SHOPPING_TAB_WALLET_LIST:"shopping_tab_wallet_list",SHOPPING_TAB_WALLET_HEADER:"shopping_tab_wallet_header",SHOPPING_TAB_NAVIGATION:"shopping_tab_navigation"};let Kn;!function(e){e.GIFT_CARD="GIFT_CARD",e.CREDIT="CREDIT",e.REWARD="REWARD"}(Kn||(Kn={}));const zn={PACKAGE_TRACKING:"package_tracking",ENABLE_PACKAGE_TRACKING:"enable_package_tracking",PKG_TRACKING_URL_CLICKED:"pkg_tracking_url_clicked"},Yn={SHORTCUTS_INBOX:"shortcuts_inbox",SHORTCUTS_STORE:"shortcuts_store",SHORTCUTS_STORE_DEALS_PAGE:"shortcuts_store_deals_page",SHORTCUTS_STORE_EMAILS_PAGE:"shortcuts_store_emails_page",SHORTCUTS_STORE_PRODUCTS_PAGE:"shortcuts_store_products_page",SHORTCUTS_STORE_DEALS_SECTION:"shortcuts_store_deals_section",SHORTCUTS_STORE_EMAILS_SECTION:"shortcuts_store_emails_section",SHORTCUTS_STORE_PRODUCTS_SECTION:"shortcuts_store_products_section",SHORTCUTS_STORE_BRAND_HEADER:"shortcuts_store_brand_header"},jn={RR_MESSAGE_LIST_DEALS:"rr_message_list_deals",RR_MESSAGE_LIST_PRODUCTS:"rr_message_list_products",RR_MESSAGE_READ_DEALS:"rr_message_read_deals",RR_MESSAGE_READ_PRODUCTS:"rr_message_read_products"},qn="shopping_tentpole";let Xn,Qn,Jn,$n;!function(e){e.AFFILIATE_RETAILERS="affiliateRetailers",e.RECOMMENDED_DEALS="recommendedDeals",e.CATEGORY_FOLLOWING_LIST="categoryFollowingList",e.STOREFRONT_BRANDS="storefrontBrands",e.SPICE_TO_GPT="spiceToGpt",e.ALL_INBOX_DEALS="allInboxDeals"}(Xn||(Xn={})),function(e){e.COMMERCE="COMMERCE",e.DPA="DPA",e.DMA="DMA",e.DMA1="DMA1",e.ENTITIES="ENTITIES",e.KE="KE",e.OFFERS="OFFERS",e.HI="HI",e.IC_TNT="IC_TNT",e.COMMERCE_UTIL="COMMERCE_UTIL"}(Qn||(Qn={})),function(e){e.AFF_PRO_OFF="AFF_PRO_OFF",e.CPN="CPN",e.EER="EER",e.GRO_PRO_OFF_CPN="GRO_PRO_OFF_CPN",e.STA_OFF="STA_OFF",e.ADB_TNTPLE_OFF="ADB_TNTPLE_OFF",e.PCS="PCS",e.EEG="EEG"}(Jn||(Jn={})),function(e){e.PKG="PKG",e.PCS="PCS",e.CPN="CPN",e.GN_CLAIM_HINT="GN_CLAIM_HINT",e.EEG="EEG"}($n||($n={}));const er={InfoReceived:"InfoReceived",InTransit:"InTransit",OutForDelivery:"OutForDelivery",Delivered:"Delivered",PickupAvailable:"PickupAvailable",OrderProcessing:"OrderProcessing",Unknown:"Unknown"};let tr,sr,ar;!function(e){e.EMAIL="EMAIL",e.MAILBOX="MAILBOX",e.CONQUEST="CONQUEST"}(tr||(tr={})),function(e){e.OFFERS="OFR",e.ENTITIES="ENT",e.DPA2IC="DPA2IC",e.COMMERCE="IC",e.KE="KE",e.IC_TNT="IC_TNT",e.HI="HI",e.IC_CONQ="IC_CONQ",e.GN_CLAIM_HINT="GN_CLAIM_HINT"}(sr||(sr={})),function(e){e.PERCENT_OFF="percentOff",e.MONEY_OFF="moneyOff",e.FREE_SHIPPING="freeShipping",e.PROMO_CODE="promoCode"}(ar||(ar={}));const nr={BRAND:"Brand",EXTRACTION_IMAGE:"ExtractionImage",IMAGE:"Image",GENERIC:"Generic",STATIC_IMAGE:"StaticImage",EXTRACTION_IMAGE_TYPE:{freeShipping:"freeShipping",percentOff:"percentOff",moneyOff:"moneyOff",upToPercentOff:"upToPercentOff",upToMoneyOff:"upToMoneyOff"},GENERIC_IMAGE_TYPE:{Generic0:"FALLBACK_GENERIC_MONEY_BAG",Generic1:"FALLBACK_GENERIC_PIGGY_BANK",Generic2:"FALLBACK_GENERIC_SHOPPING_BAG",Generic3:"FALLBACK_GENERIC_TAG",Generic4:"FALLBACK_GENERIC_GIFT_BOX"},CATEGORY_TYPE:{Clothing:"APPAREL",Computers:"DEVICE_DESKTOP",Cosmetics:"LIPSTICK",Decor:"SATIONERY_SPRING",Electronics:"DEVICE_DESKTOP",Furniture:"SOFA",Jewelry:"DIAMOND",Outerwear:"APPAREL",Pants:"PANTS",Shoes:"SPORTS","Apparel & Accessories":"APPAREL","Arts & Entertainment":"THEATERS","Food, Beverages & Tobacco":"EMOJI_FOOD_AND_DRINK","Health & Beauty":"WELLNESS","Home & Garden":"HOME_OUTLINE","Kitchen Appliances":"KITCHEN_BLENDER","Kitchen & Dining":"FORK_KNIFE","Linens & Bedding":"HOTELS","Party & Celebration":"BIRTHDAY_CAKE","Personal Care":"EYELASH","Shirts & Tops":"APPAREL"}};let rr,or;!function(e){e.AFFILIATE_PRODUCT_OFFER="affiliateProductOffer",e.COUPON="Coupon",e.EXTRACTED_DEAL="extractedDeal",e.INBOX_DEAL="inboxDeal",e.PAYMENT_DETAIL="PaymentDetail",e.PRODUCT_OFFER="ProductOffer",e.PRODUCT_RECOMMENDATION_DEAL="productDealRecommendationDeal",e.INBOX_PRODUCT_RECOMMENDATION_DEAL="inboxProductDealRecommendationDeal",e.RECOMMENDED_DEAL="recommendedDeal",e.STATIC_DEAL="staticDeal",e.ADB_DEAL="adbDeal",e.CONQUEST_DEAL="conquestDeal",e.CONQUEST_PRODUCT_DEAL="conquestProductDeal"}(rr||(rr={})),function(e){e.DEALS="deals",e.NOBLE_DEALS="nobleDeals",e.INBOX_FALLBACK_DEAL="inboxFallbackDeal",e.PRODUCT_RECOMMENDATIONS="productRecommendations",e.INBOX_PRODUCT_RECOMMENDATIONS="inboxProductRecommendations",e.STATIC_DEAL="staticDeal",e.PROMO_CODE="promoCode",e.SHOPPING_CART="shoppingCart",e.CONQUEST_DEAL="conquestDeal",e.STOREFRONT="storefront",e.RECOMMENDED_DEAL="recommendedDeal"}(or||(or={}));const ir="ProductGroup";let lr,cr,dr,_r;!function(e){e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(lr||(lr={})),function(e){e.FUJI2="fuji2",e.DEFAULT="default"}(cr||(cr={})),function(e){e.DEFAULT="DEFAULT",e.SUNRISE="SUNRISE",e.AQUA_GREEN="AQUA_GREEN",e.AQUA_BLUE="AQUA_BLUE",e.DEEP_PURPLE="DEEP_PURPLE",e.PURPLE="PURPLE",e.AOL_HIGH_CONTRAST="AOL_HIGH_CONTRAST",e.BLUE_NIGHT="BLUE_NIGHT",e.DARK_GREY="DARK_GREY",e.HIGH_CONTRAST="HIGH_CONTRAST",e.CLASSIC="CLASSIC",e.SIMPLE="SIMPLE",e.AIM="AIM",e.AOLCOM="AOLCOM",e.NIGHT_LANDSCAPE="NIGHT_LANDSCAPE",e.ROADTRIP="ROADTRIP",e.SUNSET_AUSSIE="SUNSET_AUSSIE",e.LIGHTHOUSE="LIGHTHOUSE",e.GALAXY="GALAXY",e.SPRING="SPRING",e.WINTER="WINTER",e.SUMMER="SUMMER",e.FALL="FALL",e.WESTERN="WESTERN",e.SUNSET="SUNSET",e.ATT="ATT",e.AOL="AOL",e.FRONTIER="FRONTIER",e.ROGERS="ROGERS",e.BT="BT",e.SKY="SKY",e.NEXTGENHOME="NEXTGENHOME"}(dr||(dr={})),function(e){e.LIGHT="LIGHT",e.MEDIUM="MEDIUM",e.DARK="DARK"}(_r||(_r={}));const Er="___newSearch___",ur=120;let mr,Sr;!function(e){e.COMPACT="COMPACT",e.MINIMIZED="MINIMIZED"}(mr||(mr={})),function(e){e.NOT_IN_PREVIEW="NOT_IN_PREVIEW",e.IN_PREVIEW="IN_PREVIEW"}(Sr||(Sr={}));const pr=()=>{},Cr={SUBMITTED:11},Ar=["atwMN","atwKV","atwCrPr","jac.cp","jac.noad","jac.kvs","jac.rotate","jac.ip"];let Tr;!function(e){e.EMPTY_FOLDER_VIDEO="emptyFolderVideo",e.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER="staticMailPlusUpsellForEmptyFolder"}(Tr||(Tr={}));let Ir;!function(e){e.UNAVAILABLE="UNAVAILABLE",e.PENDING="PENDING",e.DETECTED="DETECTED",e.UNDETECTED="UNDETECTED"}(Ir||(Ir={}));const hr="spto_1107",gr=6,Or=12,Dr={AFFILIATE_BANNER:"stcTntPl",CONQUESTING_AFFILIATE_BANNER:"stcCnqstTntPl"};let Rr;!function(e){e.TAX_TAG="tax_tag",e.GREAT_SAVING_TAG="great_saving_tag"}(Rr||(Rr={}));const Nr={travel:["travel","sptotravel"],invoice:["receipt","bankingandpayments","sptyreceipt"],package:["sptyshipmentprocurement","shipmentprocurement","sptoshippingandfreight","shippingandfreight"]},Lr=30,fr={[i.Ej.RIGHT_RAIL]:da.RIGHT_RAIL_AD_UNIT_PATH,[i.Ej.EMPTY_FOLDER]:da.EMPTY_FOLDER_AD_UNIT_PATH,[i.Ej.SEND_CONFIRMATION]:da.SEND_CONFIRMATION_AD_UNIT_PATH};let Mr,Pr;!function(e){e[e.DEFAULT=1]="DEFAULT",e[e.FORCE_EXPANDED=2]="FORCE_EXPANDED",e[e.CONTRACTED=3]="CONTRACTED"}(Mr||(Mr={})),function(e){e.GIFT_CARD="GIFT_CARD",e.CREDIT="CREDIT",e.REWARD="REWARD"}(Pr||(Pr={}));const br="https://legal.yahoo.com/us/en/yahoo/privacy/index.html",yr=3,vr="|";let Fr;!function(e){e.PRIORITY="priority",e.UPDATES="updates",e.OFFERS="offers",e.SOCIAL="social",e.NEWSLETTERS="newsletters",e.ALL="all"}(Fr||(Fr={}));const Ur={[Fr.PRIORITY]:Wt.PRIORITY,[Fr.UPDATES]:Wt.UPDATES,[Fr.OFFERS]:Wt.OFFERS,[Fr.SOCIAL]:Wt.SOCIAL,[Fr.NEWSLETTERS]:Wt.NEWSLETTERS,[Fr.ALL]:Wt.ALL_INBOX}},87611:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});var a=s(92559);const n={COMPOSE_FROM_CONTACTS_PANE:[a.JE.CONTACT_ITEM_EMAIL_CLICKED,a.JE.CONTACT_DETAILS_EMAIL_CLICKED],REPLACE_ATTACHMENT_WITH_RIGHT_RAIL:[a.JE.CONTACTS_PANE_ICON_ON,a.JE.TODOS_ICON_CLICKED_OPEN,a.JE.CALENDAR_ICON],EDIT_FORM:[a.JE.CONTACT_CARD_EDIT_CONTACT,a.JE.OPEN_EDIT_CONTACT],TODOS_PANE_MESSAGE_LINKED:[a.JE.OPEN_LINKED_MESSAGE_FROM_TODO_PANE],CONTACTS_FULL_PANE_TO_RIGHT_RAIL:[a.JE.CONTACTS_FULL_PANE_CLOSE_VIA_RR]}},97860:(e,t,s)=>{"use strict";s.d(t,{O:()=>r,Z:()=>o});var a=s(67294),n=s(37422);const r={appId:"",config:{},crumb:"",environment:"devbox",guid:"",guidHash:"",mailBrandNameString:"",mailWssid:"",os:n.Msg.OTHER,partner:"",timezone:{name:"Etc/GMT"},userNamespace:n.Tzw.YAHOO,yahooBrandNameString:"",yahooMailPlusBrandName:"",region:"us"},o=(0,a.createContext)(r)},79137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(63352),n=s(95406),r=s(34443);function o(e,t,s=!0,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack,(0,a.Z)(t&&"object"==typeof t,"Expected failureMap to be an object."),Object.keys(t).forEach((e=>{const s=t[e];(0,a.Z)(s&&"object"==typeof s,`Invalid map passed to ApiError: ${e} had a value of ${s}`)})),this.token="API-ERROR",this.name=this.constructor.name,this.message=e,this.failureMap=t,this.extraStatusCode=this.getExtraStatusCode(),this.extraErrorCode=this.getExtraErrorCode(),this.statusCode=this.getStatusCode(),this.errorCode=this.getErrorCode(),this.errorInfo=n,this.isRetryable=!!s&&this.getRetryable()}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.getStatusCode=function(){const e=String(this.extraStatusCode).split(",")[0].split(":")[1]||r.sj;return Number(e)},o.prototype.getErrorCode=function(){return this.message===r.PM?"EMPTY_RESPONSE":String(this.extraErrorCode).split(",")[0].split(":")[1]||r.sj},o.prototype.getExtraStatusCode=function(){const e=[];return Object.keys(this.failureMap).forEach((t=>{const s=this.failureMap[t].httpCode||r.sj;e.push(`${t}:${s}`)})),e.join(",")||r.sj},o.prototype.getExtraErrorCode=function(){const e=[];return Object.keys(this.failureMap).forEach((t=>{const s=this.failureMap[t],a=(0,n.u9)(s,"response.error.code",r.sj);e.push(`${t}:${a}`)})),e.join(",")||r.sj},o.prototype.getRetryable=function(){return this.message===r.PM||Object.keys(this.failureMap).every((e=>{const t=this.failureMap[e];if(429===t.httpCode)return!1;if(!t.response||!t.response.error)return!0;const s=t.response.error.code||"",a=s.split("-")[0],n=(t.response.id||"").split("_")[0],o=[n,s,`${s}-${n}`];for(const i of o)if(-1!==r.cO.indexOf(i))return!0;return"EC"!==a&&"EP"!==a&&"EB-6000"!==s&&"EB-6003"!==s}))};const i=o},34443:(e,t,s)=>{"use strict";s.d(t,{BM:()=>c,Bl:()=>N,Hs:()=>R,L$:()=>L,PM:()=>m,Rv:()=>h,X$:()=>i,YU:()=>E,Zh:()=>p,bD:()=>l,cO:()=>f,dO:()=>S,di:()=>o,eM:()=>g,gM:()=>u,gv:()=>I,hF:()=>d,lV:()=>C,mm:()=>A,ps:()=>T,sj:()=>n,tO:()=>r,uL:()=>_,xj:()=>O,yM:()=>D});var a=s(95406);const n=0,r="Authentication.InvalidCredentials",o="Authentication.InvalidCrumb",i="Authentication.MissingCrumb",l="Authentication.WssidReissue",c="LaunchError.LaunchApiFailed",d="LaunchError.AbusiveUser",_="LaunchError.WrongMailboxState",E="LaunchError.PageNotFound",u="LaunchError.ActiveMailboxNotFound",m="Empty response returned from JEDI",S="The response returned from JEDI contains errors",p="Unhandled partial failure",C="Account is not supported",A="Multiple mailboxes found",T="One or more batch requests failed",I="Update request failed",h="Compose request failed",g="Message read request failed",O="Related Cards request failed",D="MailppApiClient.InvalidRequest",R="MailppApiClient.UnknownError",N=(0,a.gP)(["MISSING_YT_COOKIE","COOKIE_CHECK_SIGNATURE","COOKIE_CHECK_TIME_STAMP","INVALID_COOKIE_SCOPE","REMOVED_YT_COOKIE","DIFFERENT_USER","MISSING_OTH_COOKIE"]),L={[C]:"unsupported_acct",[A]:"multi_mboxes"},f=["EC-4001-SetMailboxAttribute","EP-5000"]},42655:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(79137),n=s(95406),r=s(54747),o=s.n(r),i=s(34443);function l(e,t,s){var a,r,o,c,d;if(!e)throw new Error("name is a required argument for MailError");"string"!=typeof t&&(s=t,t=null),Error.apply(this),Error.captureStackTrace&&Error.captureStackTrace(this,l);const _=(0,n.u9)(l.MANIFEST,e);if(!_)throw new Error("Error name ["+e+"] is not in the list of available errors. see ./manifest.js");t=t||_.description,_.requiredData&&_.requiredData.forEach((t=>{if(!s||!s.hasOwnProperty(t))throw new Error("property ["+t+"] is required for ["+e+"] error. Got: "+JSON.stringify(s))})),this.token="MAIL-ERROR",this.name=e,this.message=t,this.data=s||{},this.isRetryable=!1,this.statusCode=(0,n.u9)(this,"data.statusCode",null),this.errorCode=(null===(a=this.data.body)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.code)||(null===(o=this.data.body)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errorCode)||(null===(d=this.data.body)||void 0===d?void 0:d.errorCode)||this.data.errorCode||null,this.errno=this.data.errno||null,this.code=_.code||i.sj}l.MANIFEST=o(),l.VALIDATE_SUCCESS=123456,l.prototype=Object.create(Error.prototype),l.prototype.getDataByName=function(e,t=null){return(0,n.u9)(this.data,e,t)},l.prototype.setDataByName=function(e,t){this.data[e]=t},l.errorify=e=>{let t;return e instanceof l?e:(e instanceof a.Z?(t=new l("ApiError",e.message,e.failureMap),t.stack=e.stack,t.statusCode=e.statusCode,t.errorCode=e.errorCode,t.extraStatusCode=e.extraStatusCode,t.extraErrorCode=e.extraErrorCode,t.isRetryable=e.isRetryable,Object.assign(t.data,{info:e.errorInfo})):e&&"DecoderError"===e.kind?(t=new l("DecoderError",e.message),t.at=e.at):e instanceof Error?(t=new l("GenericError",[e.name,e.message].join(": ")),t.stack=e.stack):t=new l("UnknownError",`Error: ${JSON.stringify(e)}`,{errorCode:"UNKNOWN"}),t)},l.prototype.serialize=function(){return JSON.stringify(this.toJSON())},l.prototype.toJSON=function(){return{name:this.name,message:this.message,code:this.code,data:this.data,token:"MAIL-ERROR"}},l.jsonToError=function(e){return Object.assign(new Error,{stack:void 0},e)};const c=l},54747:e=>{e.exports={SyntaxError:{description:"Engineers messed up somewhere"},ApiError:{description:"The API layer returned an error"},DecoderError:{description:"API errors due to parsing failures"},HttpTransport:{NotOkStatusCode:{description:"Request returned with not-ok status code",requiredData:["statusCode"]},CrossDomainError:{description:"Origin is not allowed by Access-Control-Allow-Origin at Request.crossDomainError"},ContentTypeError:{description:"Return type does not match Request Accept type.",requiredData:["statusCode"]},ConnectionTimedOut:{description:"Request timed out."},ParseError:{description:"Parser is unable to parse the response.",requiredData:["statusCode","responseText"]},OutboundError:{description:"Request fails to go to the server from the client's browser."},ServerNotFound:{description:"DNS lookup failed."},ConnectionRefused:{description:"Client was not able to connect to host."},ConnectionReset:{description:"Connection reset by peer."}},BaseClient:{RequestBlocked:{description:"Request is blocked"},EmptyResponse:{description:"Response is empty"}},RequestQueue:{Rejected:{description:"A write request was issued. Therefore, the RequestQueue is dropping the call"},Timeout:{description:"Request timed out in queue"}},CloudStorageClient:{CloudStorageResultsError:{description:"The CloudStorageClient returned an error for fetching cloud storage results"}},BootcampApiClient:{DeleteRecentSearch:{description:"The BootcampApiClient returned an error for deleting recent search"},SearchError:{description:"The BootcampApiClient returned an error for the search"},SearchChunkError:{description:"The BootcampApiClient returned a chunk error"},SearchAdsError:{description:"The BootcampApiClient returned an error for parsing search ads"},SuggestionError:{description:"The BootcampApiClient returned an error for the suggestions"},LocalStoresError:{description:"The BootcampApiClient returned an error for fetching local stores"},TopRetailersError:{description:"The BootcampApiClient returned an error for fetching top retailers"},TopDealCategoriesError:{description:"The BootcampApiClient returned an error for fetching top deal categories"}},LinkEnhancerClient:{InvalidRequestUrl:{description:"Request URL is invalid."},EmptyResponseBody:{description:"Response Body is empty"},NoRootType:{description:"No Root Type"},NoWebSnippet:{description:"No Web Snippet"}},MailApiClient:{SaveAndSend:{description:"Both `Save` and `Send` requests have failed"},EmptyRequestPayload:{description:"Request payload is empty"}},LaunchError:{LaunchApiFailed:{description:"Launch API has failed"},AbusiveUser:{description:"Block abusive users to launch"},WrongMailboxState:{description:"Mailbox is deleted/disabled or maintainence"},NoScript:{description:"Javascript is disabled"},UnsupportedBrowser:{description:"browser is unsupported"},PageNotFound:{description:"Page not found"},ActiveMailboxNotFound:{description:"Active mailbox not found"},LaunchWssidMissing:{description:"V2 wssid is missing from jedi mailboxes call"}},Authentication:{InvalidCredentials:{description:"The user cookies are not valid anymore.",requiredData:["statusCode","errorCode","refresh"]},MissingCrumb:{description:"Crumb not passed as query parameter.",requiredData:["statusCode","errorCode"]},InvalidCrumb:{description:"No valid crumb found for the given user.",requiredData:["statusCode","errorCode"]},WssidReissue:{description:"Request does not have a valid wssid.",requiredData:["statusCode","errorCode","wssid"]}},GenericError:{description:"A generic error has occurred.",code:"FE-100"},UnknownError:{description:"An unkown error has occurred.",code:"FE-100"},AthenaApiClient:{DataError:{description:"The AthenaApiClient returned an error while parsing response."}},ClassicABClient:{CategoryDataError:{description:"Classic addressbook returned error for categories."},ContactsDataError:{description:"Classic addressbook returned error for contacts list."},ContactsSyncDataError:{description:"Classic addressbook returned error for contacts sync."}},AstraApiClient:{BatchCallError:{description:"The AstraApiClient returned an error while parsing response for the batch api call."},CategoryFollowingListError:{description:"The AstraApiClient returned an error while parsing response for category following list."},AffiliateOffersError:{description:"The AstraApiClient returned an error for fetching affiliate product offers"},StorefrontModulesError:{description:"The AstraApiClient returned an error while parsing response for storefront modules"},StorefrontDealsError:{description:"AstraApiClient returned an error while fetching more storefront deals"}},MailppApiClient:{InvalidRequest:{description:"Request URL is invalid."},UnknownError:{description:"An unkown error as occurred"}},obiApiClient:{ExistingSubscriptionError:{description:"Purchase offer returned error because the free trial is present in subscription history",code:"OBI-100"}},PushNotifications:{MetadataFetchFailed:{description:"Failed to get message metadata for a push notification"},MissingRegistrationId:{description:"Missing registrationId from successful TAP response"}},TastemakerApiClient:{FeatureNameMissing:{description:"featureName param is required"}}}},1449:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(76223),n=s.n(a),r=s(67294),o=s(37422);const i={...s(97860).O,intl:{locale:"en-US",now:()=>Date.now(),textComponent:"span",formatDate:()=>"",formatTime:()=>"",formatRelative:()=>"",formatNumber:()=>"",formatPlural:()=>"other",formatMessage:()=>"",formatHTMLMessage:()=>"",onError:()=>{},formats:"",messages:{},defaultLocale:"en-US",defaultFormats:""},navigateTo:()=>{},getUrlFromRoute:()=>"",getThemeMode:()=>o.zgU.LIGHT,getTheme:()=>o.b39.DEFAULT,getCss:(e,t)=>n()(e,{...t,themeMode:o.zgU.LIGHT,theme:o.b39.DEFAULT})},l=(0,r.createContext)(i)},38320:(e,t,s)=>{"use strict";s.d(t,{Jj:()=>i,MR:()=>_,pI:()=>c,r1:()=>d,ug:()=>l});var a=s(58359),n=s(72243),r=s(66905),o=s(81666);const i={DEFAULT:"default",GRANTED:"granted",DENIED:"denied"},l={NOOP:"noop",RENEW:"renew-subscription",MIGRATE:"migrate",SUBSCRIBE:"subscribe"};async function c(){if(!(0,o.Z)())return null;try{const e=await window.navigator.serviceWorker.getRegistration();return e?e.pushManager.getSubscription():null}catch(e){return null}}async function d({guidHash:e,appId:t,userNamespace:s}){if(!(0,o.Z)())throw new Error("Service Workers not supported");const i=a.Z.feature("push_notifications_unsubscribe",{}),l=await window.navigator.serviceWorker.getRegistration();if(!l)return void i.logFailure(new Error("Service worker not subscribed"));const c=l&&await l.pushManager.getSubscription();if(c){if(!(await c.unsubscribe())){const e=new Error("Unsubscribe failed");throw i.logFailure(e),e}i.logSuccess();const o=await(0,n.b)();await Promise.all(["tap","rivendell"].map((n=>async function({db:e,guidHash:t,appId:s,userNamespace:n,service:o}){const i=new r.Z({guidHash:t,appId:s,userNamespace:n,service:o}),l=await e.get(`${o}_registration`,"registrationId");if(l){const t=a.Z.feature(`push_notifications_delete_association_${o}`);try{await i.deleteAssociation(l),t.logSuccess()}catch(c){t.logFailure(c)}await e.delete(`${o}_registration`,"registrationId")}}({db:o,guidHash:e,appId:t,userNamespace:s,service:n})))),o.close()}}function _(){var e;return null===(e=window.Notification)||void 0===e?void 0:e.permission}},81666:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(8106);function n(){return(0,a.jU)()&&!!window.navigator.serviceWorker&&!!window.PushManager&&!!ServiceWorkerRegistration.prototype.showNotification}},58359:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(11282);const n=s.n(a)().create("norrin/push_notifications")},92559:(e,t,s)=>{"use strict";s.d(t,{JE:()=>i,KJ:()=>u,OI:()=>E,Rb:()=>n,fS:()=>o,nJ:()=>l,pf:()=>_,rO:()=>d,w6:()=>r,wM:()=>c});var a=s(37422);let n;!function(e){e.click="click",e.nav="nav",e.shortcut="shortcut",e.keydown="keydown",e.callout="callout",e.view="view",e.swipe="swipe",e.voice="voice",e.scoutInject="scoutInject",e.interaction_click="interaction_click",e.monetizable_click="monetizable_click"}(n||(n={}));const r={COMPOSE_FLOW:"compFlow"};let o;!function(e){e.SEARCH_SUGGESTION="SEARCH_SUGGESTION",e.YAI_SEARCH_SUGGESTION="YAI_SEARCH_SUGGESTION",e.SEARCH_ZERO_RESULTS="SEARCH_ZERO_RESULTS",e.AD_ROTATION_SKIPPED="AD_ROTATION_SKIPPED",e.PREMIUM_AD_STARTED="PREMIUM_AD_STARTED",e.PREMIUM_AD_STOPPED="PREMIUM_AD_STOPPED"}(o||(o={}));const i={BIMI_EXPERIMENT:"bimiExperiment",STICKY_ONBOARDING_INVOKE:"StickyOnboarding_invoke",STICKY_ONBOARDING_COMPLETE:"StickyOnboarding_complete",STICKY_ONBOARDING_INCOMPLETE:"StickyOnboarding_incomplete",STICKY_ONBOARDING_MINIMIZE:"StickyOnboarding_minmize",STICKY_ONBOARDING_MINIMIZE_TOI:"StickyOnboarding_minmize_TOI",STICKY_ONBOARDING_RESUME:"StickyOnboarding_resume",STICKY_ONBOARDING_PERSONALIZE_START:"StickyOnboarding_personalize_start",STICKY_ONBOARDING_NOTIFICATION_CLICK:"StickyOnboarding_notification_click",STICKY_ONBOARDING_NOTIFICATION_ENABLED:"StickyOnboarding_notification_enabled",STICKY_ONBOARDING_CONTACT_IMPORT_START:"StickyOnboarding_contactimport_start",STICKY_ONBOARDING_CONTACT_IMPORT_COMPLETE:"StickyOnboarding_contactimport_complete",STICKY_ONBOARDING_CONTACT_IMPORT_FAILURE:"StickyOnboarding_contactimport_failure",STICKY_ONBOARDING_CONTACT_IMPORT_SKIP:"StickyOnboarding_contactimport_skip",STICKY_ONBOARDING_ACCOUNT_CONNECT_START:"StickyOnboarding_accountconnect_start",STICKY_ONBOARDING_ACCOUNT_CONNECT_COMPLETE:"StickyOnboarding_accountconnect_complete",NORRIN_FORCE_OPTIN:"norrinForceOptin",MOBILE_ONBOARDING_WELCOME:"welcomeOnbrdng",MOBILE_ONBOARDING_PAGINATED_CONTENT:"pgntdCntntOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS:"notifsOnbrdng",MOBILE_ONBOARDING_FOLDERS:"folderOnbrdng",MOBILE_ONBOARDING_SWIPING:"swipeOnbrdng",MOBILE_ONBOARDING_COMPOSE:"composeOnbrdng",MOBILE_ONBOARDING_THEMING:"thmOnbrdng",MOBILE_ONBOARDING_SNIPPETS:"snptsOnbrdng",MOBILE_ONBOARDING_BLOCK_IMAGES:"blkImgsOnbrdng",MOBILE_ONBOARDING_CONVERSATIONS:"cnvrstnsOnbrdng",MOBILE_ONBOARDING_DONE:"doneOnbrdng",MOBILE_ONBOARDING_NOTIFICATIONS_ON:"notifsOnbrdngOn",MOBILE_ONBOARDING_NOTIFICATIONS_OFF:"notifsOnbrdngOff",CONVERSATIONS_CUE_TAP:"cue_conversationsCue_tap",DISMISS_APP_BANNER:"appBannerDismiss",APP_BANNER_SHOWN:"appBannerShown",VIEW_APP:"viewApp",TOOLBAR_SELECTALL_MSG:"tlbrSlctAllMsg",TOOLBAR_SELECT_NONE:"tlbrSlctNone",TOOLBAR_BULK_CONTEXT_MENU:"tlbrBlkCtxtMenu",TOOLBAR_BULK_CONTEXT_ALL:"tlbrBlkCtxtAll",TOOLBAR_BULK_CONTEXT_NONE:"tlbrBlkCtxtNone",TOOLBAR_BULK_CONTEXT_READ:"tlbrBlkCtxtRd",TOOLBAR_BULK_CONTEXT_UNREAD:"tlbrBlkCtxtUnrd",TOOLBAR_BULK_CONTEXT_STARRED:"tlbrBlkCtxtStrrd",TOOLBAR_BULK_CONTEXT_UNSTARRED:"tlbrBlkCtxtUnStrrd",TOOLBAR_UNSUBSCRIBE:"tlbrUnsub",TOOLBAR_KEEP_AS_NEW:"tlbrKeepNew",TOOLBAR_REPLY:"tlbrReply",TOOLBAR_REPLYALL:"tlbrReplyAll",TOOLBAR_FORWARD:"tlbrForward",TOOLBAR_DELETE:"tlbrDel",TOOLBAR_ARCHIVE:"tlbrArchv",TOOLBAR_RESTORE:"tlbrRstr",TOOLBAR_MOVE:"tlbrMov",TOOLBAR_MOVE_MENU:"tlbrMovMenu",DRAG_DROP_MOVE:"dndMov",TOOLBAR_SPAM:"tlbrSpam",TOOLBAR_NOT_SPAM:"tlbrNotSpam",TOOLBAR_MORE_MENU:"tlbrMoreMenu",TOOLBAR_MARK_READ:"tlbrMrkRd",TOOLBAR_MARK_UNREAD:"tlbrMrkUnRd",TOOLBAR_MARK_STARRED:"tlbrMrkStrrd",TOOLBAR_MARK_UNSTARRED:"tlbrMrkUStrrd",TOOLBAR_VIEW_RAW:"tlbrRaw",TOOLBAR_PRINT:"tlbrPrint",TOOLBAR_ADD_TO_CONTACTS:"tlbAddToContacts",TOOLBAR_FILTER_MESSAGES_LIKE_THIS:"tlbrFltrMsgsLikeThis",TOOLBAR_SORT_MENU:"tlbrSrtMenu",TOOLBAR_SORT_NEW:"tlbrSrtNew",TOOLBAR_SORT_OLD:"tlbrSrtOld",TOOLBAR_SORT_UNREAD:"tlbrSrtUnrd",TOOLBAR_SORT_STARRED:"tlbrSrtStrrd",TOOLBAR_SORT_SENDER:"tlbrSrtSndr",TOOLBAR_SORT_ALPHA:"tlbrSrtAlpha",TOOLBAR_SORT_SUBJECT:"tlbrSrtSub",TOOLBAR_SORT_ATTACHMENT:"tlbrSrtAttmt",TOOLBAR_SORT_RELEVANCE:"tlbrSrtRelvnce",TOOLBAR_CLOSE_MSG:"tlbrCloseMsg",TOOLBAR_BACK_TO_LIST:"tlbrBackToLst",TOOLBAR_BULK_SELECT_MESSAGE:"blkSlctMsg",TOOLBAR_BULK_SELECT_ALL_MESSAGE:"blkSlctAllMsg",QUICK_REPLY:"qckReply",QUICK_REPLYALL:"qckReplyAll",QUICK_FORWARD:"qckForward",CONTACT_SEARCH:"cntctSrch",SUBJECT_SEARCH:"subSrch",PHISHING_BANNER_SPAM:"pshBnrSpm",PHISHING_BANNER_NOT_SPAM:"pshBnrNotSpm",PHISHING_BANNER_SHOWN:"pshBnrShwn",SPAM_INDICATOR_SPAM:"spmIdctrSpm",SPAM_INDICATOR_NOT_SPAM:"spmIdctrNotSpm",SPAM_INDICATOR_SHOWN:"spmIdctrShwn",SPAM_UNSUB_DIALOG_SHOWN:"spmUnsubDialogShown",SPAM_UNSUB_DIALOG_CLOSE:"spmUnsubDialogClose",SPAM_UNSUB_DIALOG_SPAM:"spmUnsubDialogSpam",SPAM_UNSUB_DIALOG_UNSUB:"spmUnsubDialogUnsub",SPAM_UNSUB_DIALOG_BACKGROUND:"spmUnsubDialogBg",CHANGE_REPLY_TO_SETTING:"chngRplyTo",REPLY_TO_HELP_LINK:"rplyToHlpLnk",MSG_LST_CONTEXT_MENU:"msgLstContxtMenu",MSG_GRP_HDR_MARK_READ:"msgHdrMrkGrpRd",MSG_GRP_HDR_MARK_UNREAD:"msgHdrMrkGrpUnRd",MSG_GRP_HDR_MARK_STAR:"msgHdrMrkGrpStrrd",MSG_GRP_HDR_MARK_UNSTAR:"msgHdrMrkGrpUnStrrd",MSG_HDR_MARK_READ:"msgHdrMrkRd",MSG_HDR_MARK_UNREAD:"msgHdrMrkUnRd",MSG_HDR_MARK_STAR:"msgHdrMrkStrrd",MSG_HDR_MARK_UNSTAR:"msgHdrMrkUnStrrd",MSG_HDR_PRINT:"msgHdrPrint",MSG_HDR_PREV:"msgHdrPrev",MSG_HDR_NEXT:"msgHdrNext",MSG_REPLY:"msgReply",MSG_REPLY_ALL:"msgReplyAll",MSG_FORWARD:"msgForward",MSG_SMART_REPLY:"msgSmartReply",MSG_DELETE:"msgDelete",MSG_ARCHIVE:"msgArchive",SHOW_IMG:"showImg",SHOW_IMG_ALWAYS:"showImgAlws",OPEN_LINK:"openlnk",OPEN_DOC_PREVIEW:"openDocPrvw",OPEN_MAILTO_LINK:"openMailToLnk",ZOOM_IN_ATTACHMENT_PREVIEW:"zoomInDocPrvw",ZOOM_OUT_ATTACHMENT_PREVIEW:"zoomOutDocPrvw",OPEN_LIGHTBOX_ATTACHMENT_PREVIEW:"fullscrnDocPrvw",DOWNLOAD_ATTACHMENT:"dwnldattmt",DOWNLOAD_ATTACHMENT_ALL:"dwnldattmtAll",ATTACHMENT_PRINT:"printattmt",ATTACHMENT_LIGHTBOX_OPEN:"openattmlghtbx",ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD:"dwnldimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_SHARE:"shareimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_CLOSE:"closeimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE:"nextimglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP:"nextImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST:"nextImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE:"previmglghtbxinmsg",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP:"prevImgPrvwingroup",ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST:"prevImgPrvwinlist",ATTACHMENT_LIGHTBOX_IMAGE_ZOOM:"zoomimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_OPEN:"openimglghtbx",ATTACHMENT_LIGHTBOX_IMAGE_MSG:"rdmsgimglghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD:"dwnlddoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_SHARE:"sharedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE:"closedoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE:"nextdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP:"nextDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST:"nextDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE:"prevdoclghtbxinmsg",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP:"prevDocPrvwingroup",ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST:"prevDocPrvwinlist",ATTACHMENT_LIGHTBOX_DOCUMENT_ZOOM:"zoomdoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_OPEN:"opendoclghtbx",ATTACHMENT_LIGHTBOX_DOCUMENT_MSG:"rdmsgdoclghtbx",ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD:"dnlwdDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_SHARE:"shareDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_CLOSE:"closeDocPrvw",ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE:"nextDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE:"prevDocPrvwinmsg",ATTACHMENT_PREVIEW_DOCUMENT_ZOOM:"zoomDocPrvw",ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD:"dnlwdImgPrvw",ATTACHMENT_PREVIEW_IMAGE_SHARE:"shareImgPrvw",ATTACHMENT_PREVIEW_IMAGE_CLOSE:"closeImgPrvw",ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE:"nextImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE:"prevImgPrvwinmsg",ATTACHMENT_PREVIEW_IMAGE_ZOOM:"zoomImgPrvw",ATTACHMENT_VIEW_DOCUMENTS:"attmVwDoc",ATTACHMENT_VIEW_IMAGES:"attmVwImg",ATTACHMENT_VIEW_MESSAGES:"attmVwMsg",ATTACHMENT_ACTION_UNKNOWN:"attmUnknown",COMPOSE_CLOSE_LAYOUT_POPUP:"closeLayout",COMPOSE_OPEN_LAYOUT_POPUP:"openLayout",DOC_OPEN:"opendoc",DOC_READ_MSG:"rdmsgdoc",DOC_DELETE_PREVIEW_OPEN:"preDelDocOp",DOC_DELETE_PREVIEW_CLOSE:"preDelDocCls",DOC_DELETE_PREVIEW_READ_MSG:"preDelRdMsgDoc",DOC_MESSAGE_DELETE:"msgDelDoc",DOC_OPEN_LINK:"openlnkdoc",DOC_SHARE:"sharedoc",RIGHT_RAIL_DOC_OPEN:"opendocrail",RIGHT_RAIL_DOC_OPEN_ALL:"openalldocrail",PHOTO_OPEN:"openimg",PHOTO_READ_MSG:"rdmsgimg",PHOTO_DELETE_PREVIEW_OPEN:"preDelImgOp",PHOTO_DELETE_PREVIEW_CLOSE:"preDelImgCls",PHOTO_DELETE_PREVIEW_READ_MSG:"preDelRdMsgImg",PHOTO_MESSAGE_DELETE:"msgDelImg",PHOTO_DOWNLOAD:"dwnldimg",PHOTO_SHARE:"shareimg",RIGHT_RAIL_PHOTO_OPEN:"openimgrail",RIGHT_RAIL_PHOTO_OPEN_ALL:"opendocrail",TRAVEL_READ_MSG:"rdmsgtrv",OPEN_MSG:"openMsg",SELECT_MSG:"slctMsg",MARK_MSG_READ:"mrkMsgRd",MARK_MSG_UNREAD:"mrkMsgUnRd",MARK_MSG_STARRED:"mrkMsgStrrd",MARK_MSG_UNSTARRED:"mrkMsgUnStrrd",MSG_LIST_DEL:"msgLstDel",MSG_LIST_ARCHIVE:"msgLstArchv",MSG_LIST_MV_INBOX:"msgLstRstr",RIGHT_RAIL_MSG_OPEN:"openmsgrail",RIGHT_RAIL_MSG_OPEN_ALL:"openallmsgrail",TOGGLE_LIST_VISIBILITY:"toggleListView",MSG_LIST_REPLY:"msgLstRply",MSG_LIST_REPLY_ALL:"msgLstRplyAll",NUDGE_TO_REPLY_SHOWN:"nudgeToReplyShown",NUDGE_TO_REPLY_CLICKED:"nudgeToReplyClicked",NUDGE_AND_SMART_REPLY_RESPONSE:"nudgeAndSmartReplyResponse",GPT_CATEGORY_LIST_ON_MSG_OPEN:"gptCategoryListOnMsgOpen",UNDO_DELETE_ACTION:"undoDel",UNDO_ARCHIVE_ACTION:"undoArchv",UNDO_MOVE_ACTION:"undoMov",VIEW_MSG_LINK:"viewMsgLnk",UNUSUAL_DISCOUNT:"annotation_show",UNUSUAL_DISCOUNT_MAIL_CLICKED:"annotated_message_open",SHOW_MAIL_PLUS_TAB:"showMailPlusTab",SHOW_SETTINGS_PRIVACY_TAB:"showSettingsPrivacyTab",AUTO_FORWARD_NOTIFICATION_REVIEW_LINK:"autoFwdNtfnReviewLnk",AUTO_FORWARD_NOTIFICATION_REVIEW_CLOSE:"autoFwdNtfnReviewClose",AUTO_FORWARD_NOTIFICATION_EXPIRY_CLOSE:"autoFwdNtfnExpiryClose",AUTO_FORWARD_NOTIFICATION_EXPIRED_CLOSE:"autoFwdNtfnExpiredClose",AUTO_FORWARD_NOTIFICATION_ONLY_REVIEW_SHOWN:"autoFwdNtfnOnlyReviewShown",AUTO_FORWARD_NOTIFICATION_REVIEW_AND_EXPIRY_SHOWN:"autoFwdNtfnReviewAndExpiryShown",AUTO_FORWARD_NOTIFICATION_EXPIRED_SHOWN:"autoFwdNtfnReviewAndExpiredShown",AUTO_FORWARD_CUE_REVIEW_LINK:"autoFwdCueReviewLnk",AUTO_FORWARD_CUE_CLOSE:"autoFwdCueClose",AUTO_FORWARD_SETTING_UPSELL_CLICKED:"autoFwdSettingUpsellClicked",AUTO_FORWARD_NOTIFICATION_MAIL_PLUS_SETTINGS:"autoFwdMailPlusSettings",DEA_MAIL_PLUS_SETTINGS:"deaMailPlusSettings",DOMAIN_BLOCK_MAIL_PLUS_SETTINGS:"domainBlockMailPlusSettings",NUDGE_TO_REPLY_MAIL_PLUS_SETTINGS:"nudgeToReplyMailPlusSettings",COMPACT_COMPOSE_MAIL_PLUS_SETTINGS:"compactComposeMailPlusSettings",HIDE_DEAL_MAIL_PLUS_SETTINGS:"dealRecoMailPlusSettings",MAIL_PLUS_TASTEMAKER_UPSELL_SHOWN:"mailPlusTstMkrUpsellShown",MAIL_PLUS_TASTEMAKER_UPSELL_CTA:"mailPlusTstMkrUpsellCTA",MAIL_PLUS_TASTEMAKER_UPSELL_BLUR:"mailPlusTstMkrUpsellBlur",MAIL_PLUS_TASTEMAKER_UPSELL_CLOSE:"mailPlusTstMkrUpsellClose",MAIL_PLUS_UPSELL_BENEFITS_CLICK:"mailPlusUpsellBenefitsClick",MAIL_PLUS_SPONSORED_AD_CLICK:"mailPlusSponsoredAdClick",EMPTY_FOLDER_STATIC_MAIL_PLUS_UPSELL_CLICK:"emptyFolderStaticMailPlusUpsellClick",EMPTY_FOLDER_STATIC_MAIL_PLUS_UPSELL_RENDER:"emptyFolderStaticMailPlusUpsellRender",MAILPRO_TO_MAIL_PLUS_UPSELL_CLICK:"mailProToMailPlusUpsellClick",MAILPRO_TO_MAIL_PLUS_UPSELL_DISMISS:"mailProToMailPlusUpsellDismiss",LAUNCH:"launch",YMAIL_LOGO:"logo",MAIL_ICON:"inbxBtn",CONTACTS_ICON:"cntctBtn",CALENDAR_ICON:"clndrBtn",NOTEPAD_ICON:"ntpdBtn",TODO_ICON:"todoBtn",HELP_ICON:"helpBtn",HELP_GO_WEB:"helpGoWeb",HELP_GO_PHONE:"helpGoPhone",MESSENGER_ICON:"mssgnrBtn",SETTINGS_GEAR_ICON:"sttgsBtn",SETTINGS_LABEL:"sttgsLabelBtn",SEARCH_BAR:"clickSrchBar",SEARCH_BAR_FOCUS_BLURRED:"searchBarFocusBlurred",ADVANCED_SEARCH:"advncdSrch",SEARCH_BUTTON:"mailSrch",SEARCH_PEOPLE_SUGGEST:"mailSrchPeopleSuggst",SEARCH_KWRD_SUGGEST:"mailSrchKwrdSuggst",SEARCH_EMAIL_SUGGEST:"mailSrchEmailSuggst",SEARCH_RECENT_SUGGEST:"mailSrchRecentSuggst",SEARCH_EMPTY_PEOPLE_SUGGEST:"mailSrchEmptyPeopleSuggst",SEARCH_EMPTY_KWRD_SUGGEST:"mailSrchEmptyKwrdSuggst",SEARCH_EMPTY_EMAIL_SUGGEST:"mailSrchEmptyEmailSuggst",SEARCH_EMPTY_RECENT_SUGGEST:"mailSrchEmptyRecentSuggst",SEARCH_SUGGESTION_SHOWN:"srchsuggst",SEARCH_EMAIL_SUGGESTION_SHOWN:"showedEmailSnippets",ADVANCED_SEARCH_BUTTON:"advncdMailSrch",ADVANCED_SEARCH_PROMPT_CLOSED:"advncdSrchPrmptClosed",ACCOUNT_SETTINGS:"sttgsMenu",SIGNOUT:"signout",HOME_BUTTON:"homeBtn",CORONAVIRUS_BUTTON:"coronaBtn",SIDEBAR_BUTTON:"sidebarBtn",MARKETING_BEACON:"mktgBeacn",NEWUSER_MARKETING_BEACON:"newUserMktgBeacn",IE_TO_EDGE:"ie2edge",UNREAD_SMARTVIEW:"unrdSmrtvw",STARRED_SMARTVIEW:"strrdSmrtvw",EMAILS_TO_MYSELF_SMARTVIEW:"emailsToMyselfSmrtvw",EMAILS_TO_MYSELF_ACCOUNT_SELECTOR:"emailsToMyselfAccountSelector",CONTACTS_FULL_PANE_SMARTVIEW:"contacts_FullPaneSmrtvw",PHOTO_SMARTVIEW:"photoSmrtvw",DOCUMENT_SMARTVIEW:"docSmrtvw",TUTORIAL_SMARTVIEW:"tutrlSmrtvw",COUPONS_SMARTVIEW:"cpnSmrtvw",STOREFRONT_SMARTVIEW:"strfrntSmrtvw",RECEIPTS_SMARTVIEW:"rcptSmrtvw",WALLET_SMARTVIEW:"wlltSmrtvw",TRAVEL_SMARTVIEW:"trvSmrtvw",SUBSCRIPTIONS_SMARTVIEW:"sbscrptnSmrtvw",ATTACHMENTS_SMARTVIEW:"attSmrtvw",INBOX_FOLDER:"inboxFldr",DRAFT_FOLDER:"draftFldr",SENT_FOLDER:"sentFldr",ARCHIVE_FOLDER:"archiveFldr",BULK_FOLDER:"spamFldr",TRASH_FOLDER:"trashFldr",USER_FOLDER:"usrFldr",ADD_FOLDER:"addFldr",FOLDER_CONTEXTMENU:"fldrContxtMenu",FOLDER_CONTEXTMENU_ALL_READ:"ctxtMenuFldrAllRd",FOLDER_CONTEXTMENU_ALL_ARCHIVE:"ctxtMenuFldrAllArch",FOLDER_CONTEXTMENU_ALL_DELETE:"ctxtMenuFldrAllDel",FOLDER_CONTEXTMENU_RENAME:"ctxtMenuFldrAllRen",FOLDER_CONTEXTMENU_MOVE:"ctxtMenuFldrAllMov",FOLDER_CONTEXTMENU_DELETE:"ctxtMenuDelFldr",FOLDER_CONTEXTMENU_EMPTY:"ctxtMenuEmpty",FOLDER_EMPTY:"fldrEmpty",ACCOUNT_SWITCH:"accntSwitch",COLLAPSE_ACCOUNT_SWITCHER:"cllpsAccntSwtchr",EXPAND_ACCOUNT_SWITCHER:"expndAccntSwtchr",EDIT_IMAP_ACCOUNT:"editImapAccnt",FIX_IMAP_ACCOUNT:"fixImapAccnt",CONFIRM_DELETE_ACCOUNT:"cnfmDelAccnt",DELETE_ACCOUNT:"delAccnt",ADD_ACCOUNT:"addAccnt",SELECT_YAHOO_ACCOUNT:"slctYahooAccnt",SELECT_OUTLOOK_ACCOUNT:"slctOutlookAccnt",SELECT_AOL_ACCOUNT:"slctAolAccnt",SELECT_GOOGLE_ACCOUNT:"slctGoogleAccnt",SELECT_OFFICE365_ACCOUNT:"slctOffice365Accnt",SELECT_OTHER_ACCOUNT:"slctOtherAccnt",AUTHORIZE_IMAP_ACCOUNT:"cnnctAccnt",CONNECT_ACCOUNT_SUCCESS:"cnnctAccntSuccess",CONNECT_ACCOUNT_FAILURE:"cnnctAccntFailure",CANCEL_ADD_ACCOUNT:"cancelAddAccnt",ADD_DEA:"addDea",ADD_DEA_BASE:"addDeaBase",ADD_DEA_FILTER:"addDeaFilter",EDIT_DEA:"editDea",CANCEL_EDIT_DEA:"cancelEditDea",CANCEL_ADD_DEA:"cancelAddDea",CANCEL_ADD_BASE:"cancelAddBase",CANCEL_DEA_FILTER:"cancelDeaFilter",THEME_CHANGED:"thmSttgs",SETTINGS_POPUP_THEME:"themesClrSttgsPop",SETTINGS_THEME:"themesClrSttgs",SETTINGS_POPUP_THEME_MODE:"themesModeSttgsPop",SETTINGS_THEME_MODE:"themesModeSttgs",SETTINGS_POPUP_PREVIEW_PANE:"prvpSttgsPop",SETTINGS_PREVIEW_PANE:"prvpSttgs",SETTINGS_POPUP_MSG_LIST_DENSITY:"dnstySttsPop",SETTINGS_MSG_LIST_DENSITY:"dnstyStts",SETTINGS_COMPOSE_FORMAT:"cmpFmtSttgs",SETTINGS_NAV_COMPOSE_FORMAT_CUE:"cmpFmtSttgsCue",SETTINGS_POPUP_TAB_SETTING:"tabSttgsPop",SETTINGS_POPUP_READABILITY_MODE_SETTING:"readabilityModeSttgspop",SETTINGS_READABILITY_MODE_SETTING:"readabilityModeSttgs",SETTINGS_TAB_SETTING:"tabSttgs",SETTINGS_POPUP_SNIPPET:"snpptsSttgsPop",SETTINGS_SNIPPET:"snpptsSttgs",SETTINGS_INBOX_STYLE:"inbxStyleSttgs",SETTINGS_POPUP_MORE:"moreSttgsPop",SETTINGS_POPUP_PRIVACY:"prvcySttgsPop",SETTINGS_HELP:"hlpSttgs",SETTINGS_POPUP_FEEDBACK:"fdbckSttgsPop",SETTINGS_POPUP_MAIL_PLUS_UPSELL:"mailPlusUpsellSttgsPop",SETTINGS_FEEDBACK:"fdbckSttgs",SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX:"inbxSttgs",SETTINGS_LEFT_RAIL_ACCOUNTS:"accntSttgs",SETTINGS_LEFT_RAIL_NOTIFICATIONS:"notfctnSttgs",SETTINGS_LEFT_RAIL_WRITING_EMAILS:"writeSttgs",SETTINGS_LEFT_RAIL_VIEWING_EMAILS:"viewSttgs",SETTINGS_LEFT_RAIL_CATEGORIZATION:"ctgrySttgs",SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY:"replySttgs",SETTINGS_LEFT_RAIL_FILTERS:"filtrSttgs",SETTINGS_LEFT_RAIL_SWITCH_TO_CLASSIC:"swtchSttgs",SETTINGS_LEFT_RAIL_ABOUT:"aboutSttgs",SETTINGS_LEFT_RAIL_ABOUT_ADS:"aboutAdsSttgs",SETTINGS_LEFT_RAIL_AD_FREE:"adFrSttgs",SETTINGS_LEFT_RAIL_PRIVACY:"privcySttgs",SETTINGS_PRIVACY_LINK0:"termsSttgs",SETTINGS_PRIVACY_LINK1:"privacyPolicySttgs",SETTINGS_PRIVACY_LINK2:"yourPrivacyChoicesSttgs",SETTINGS_PRIVACY_LINK3:"caPrivacyNoticeSttgs",SETTINGS_TERMS:"termsSttgs",SETTINGS_DO_NOT_SELL:"doNotSellSttgs",SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY:"secPrivSttgs",SETTINGS_LEFT_RAIL_ENCRYPTION:"cryptSttgs",SETTINGS_LEFT_RAIL_CONTACTS:"cntctSttgs",SETTINGS_NOTIFICATIONS:"setNtfctn",SETTINGS_NOTIFICATIONS_NEW_MAIL:"setNtfctnNewMail",SETTINGS_NOTIFICATIONS_YGM:"setNtfctnYGM",SETTINGS_EXPERIMENTAL_FEATURES:"setExprmntlFtrs",SETTINGS_CONVERSATION:"setConvstn",SETTINGS_HUMAN_READABLE_CONSENT_SHOW:"showHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTOUT:"optOutHrconsent",SETTINGS_HUMAN_READABLE_CONSENT_OPTIN:"optInHrconsent",SETTINGS_AUTOMATIC_REPLY:"saveReplySttgs",SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY:"cancelEditReplySttgs",SETTINGS_CANCEL_EDIT_ACCOUNT:"cancelEditAccnt",SETTINGS_LINK_ENHANCER:"linkEnhancerSttgs",SETTINGS_SEND_CONFIRMATION:"sendConfirmationSttgs",SETTINGS_SPELL_CHECK_BEFORE_SEND:"spellCheckBeforeSendSttgs",SETTINGS_CATEGORIZATION_CHANGE:"chgCtgrySttgs",SETTINGS_CATEGORIZATION_ORDER:"ordCtgrySttgs",SETTINGS_COLLAPSE_SYSTEM_FOLDERS:"cllpsSysFldrs",SETTINGS_EXPAND_SYSTEM_FOLDERS:"expndSysFldrs",SETTINGS_LEFT_RAIL_MAIL_PRO:"mailProSttgs",SETTINGS_BLOCK_IMAGES:"showImgSttgs",SETTINGS_MOBILE_NOTIFICATION:"mobNtfctn",SETTINGS_OPT_OUT:"optOutSttgs",SETTINGS_SIGNATURE:"sigSttgs",SETTINGS_ACCOUNTS:"acctSttngs",SETTINGS_DISABLE_FORWARDING:"delAutoFwd",SETTINGS_ENABLE_FORWARDING:"addAutoFwd",SETTINGS_BLOCKED_SENDERS:"blkSdrSttgs",SETTINGS_MSG_FILTERS_SAVE:"saveMsgFltrSttgs",SETTINGS_FIRST_MESSAGE:"frstMsgSttgs",SETTINGS_DEAL_RECO_TOGGLE_DISABLED:"dealRecoToggleDisabledSettings",SETTING_DEAL_RECO_TOGGLE_ENABLED:"dealRecoToggleEnabledSettings",SETTINGS_MAIL_PLUS_FEATURE_SEE_BENEFITS:"settingsMailPlusFeatureSeeBenefits",SETTINGS_DISABLED_FEATURE_BUTTON_HOVER:"disabledFeatureButtonHover",SETTINGS_DISABLED_FEATURE_CLOSE_BUTTON_CLICK:"disabledFeatureCloseButtonClick",SETTINGS_LEFT_RAIL_MAIL_PLUS:"mailPlusSttngs",SETTINGS_MAIL_PLUS_MANAGE_ACCOUNT:"mailPlusManageAccountSettings",SETTINGS_MAIL_PLUS_KEEP_PLUS:"mailPlusKeepPlusSettings",SETTINGS_MAIL_PLUS_FREE_TRIAL:"mailPlusFreeTrial",SETTINGS_MAIL_PLUS_ACTIVATE_SUBSCRIPTION:"mailPlusActiveSubscriptions",SETTINGS_MAIL_PLUS_EMAIL_FORWDING_LEARN_MORE:"mailPlusEmailForwardingLearnMore",SETTINGS_BLOCKED_DOMAINS:"blckDmnSettings",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE:"afterMsgMoveSettings",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE_SELECT:"afterMsgMoveSettingsSelect",SETTINGS_ADD_BLOCKED_DOMAIN_BUTTON:"addBlockedDomainButton",ADD_BLOCKED_DOMAIN_SUBSCRIPTION:"addBlckDmnSubscriptions",ADD_BLOCKED_DOMAIN:"addBlckDmn",DELETE_BLOCKED_DOMAIN:"delBlckDmn",BLOCKED_DOMAIN_ITEM_HOVER:"blockedDomainItemHover",NAVIGATE_TO_SETTINGS_SECURITY:"navigateToSecuritySettings",SETTINGS_INBOX_HIGHLIGHTS:"inboxHighlightsSettings",OPT_OUT_SUBMIT_FEEDBACK:"optOutSbmt",OPT_OUT_CANCEL_FEEDBACK:"optOutCncl",OPT_OUT_WITHOUT_FEEDBACK:"optOutWithoutFdbck",COMPOSE_BUTTON:"cmpsBtn",CANCEL_COMPOSE:"cancelCmp",CONTACT_SUGGEST:"contctsuggst",CONTACT_SUGGEST_RELATED_CONTACTS:"contctsuggstRelated",DELETE_CONTACT_SUGGEST:"delcontctsuggst",SELECT_CONTACT:"slctcontct",SELECT_CONTACT_RELATED_CONTACTS:"slctcontctRelated",SHOW_HOVER_CARD:"showHvrcrd",COMPOSE_ADD_ATTACHMENT:"compsAddAttmnt",COMPOSE_DRAG_ATTACHMENT:"dragAttmnt",COMPOSE_ADD_BIG_ATTACHMENT:"compsAddBigAttmnt",DELETE_DRAFT:"delDraft",KEEP_WRITING:"keepDrafting",TOGGLE_TO_SHOW_FORMAT_TOOLBAR:"tgglToShwFrmtTlbr",TOGGLE_TO_HIDE_FORMAT_TOOLBAR:"tgglToHideFrmtTlbr",OPEN_COMPOSE_MORE_MENU:"opnCompsMoreMnu",SEND:"send",SEND_MSG:"sendMsg",COMPOSE_FULL_SCREEN:"compsFullScreen",COMPOSE_POP_OUT:"compsPopOut",COMPOSE_AUTO_OPEN_STATIONERY_POPUP:"compsAutoOpnStnryPop",COMPOSE_OPEN_STATIONERY_POPUP:"compsOpnStnryPop",COMPOSE_CLOSE_STATIONERY_POPUP:"compsClsStnryPop",COMPOSE_ADD_STATIONERY:"compsAddStnry",COMPOSE_CLEAR_STATIONERY:"compsClrStnry",COMPOSE_CLEAR_DEFAULT_STATIONERY:"compsClrDfltStnry",COMPOSE_ADD_LINK:"compAddLink",COMPOSE_BOLD:"compsBold",COMPOSE_ITALIC:"compsItalic",COMPOSE_UNDERLINE:"compsUndrLn",COMPOSE_CHOOSE_COLOR:"compsClr",COMPOSE_CHOOSE_FONT:"compsFnt",COMPOSE_INDENT:"compsIndnt",COMPOSE_OUTDENT:"compsOutdnt",COMPOSE_FILE_SELECT_BTN_CLICKED:"compsFileSlctBtnClicked",COMPOSE_OPEN_MORE_MENU:"compMoreMnu",COMPOSE_CHOOSE_LIST_TYPE:"compsLst",COMPOSE_ALIGN_TEXT:"compsAlgn",COMPOSE_STRIKETHROUGH_TEXT:"compsStrikeThrough",COMPOSE_PLAIN_TEXT_MODE:"compsPlainText",COMPOSE_RICH_TEXT_MODE:"compsRichText",RELATED_CONTACTS_CLOSED:"relatedContctsClosed",YAI_SEARCH_SUGGESTION_CLICK:"yai_search_suggestion_click",YAI_EMPTY_SEARCH_SUGGESTION_CLICK:"yai_empty_search_suggestion_click",YAI_SEARCH_THUMB_UP:"yai_search_thumb_up",YAI_SEARCH_THUMB_DOWN:"yai_search_thumb_down",YAI_SEARCH_SUBMIT:"yai_search_submit",YAI_COMPOSE_INTENT_BOX_SHOW:"yai_compose_intent_box_show",YAI_COMPOSE_EDIT_BOX_SHOW:"yai_compose_edit_box_show",YAI_COMPOSE_INTENT_SUBMIT:"yai_compose_intent_submit",YAI_COMPOSE_MORE_CLICK:"yai_compose_more_click",YAI_COMPOSE_:"yai_compose_",_CLICK:"_click",COMPOSE_SHOW_CC_BCC:"compsshowCC",COMPOSE_HIDE_CC_BCC:"compsHideCC",COMPOSE_BUTTON_MULTI:"cmpsBtnMulti",COMPOSE_CREATE_EVENT:"epchClCmpsMdlEvntCrtSccd",GIF_SEARCH:"compsGifSrch",GIF_CATEGORY:"compsGifCtgry",GIF_ADD:"compsAddGif",GIF_OPEN:"openGifCntxt",GIF_CHANGE_SIZE:"changeGifsz",GIF_SEND_AS_ATTACHMENT:"sendGifAttmnt",GIF_DOWNLOAD:"dnwldGif",GIF_REMOVE:"removeGif",EMOJI_CLOSE:"closeEmjiPckr",EMOJI_OPEN:"openEmjiPckr",EMOJI_ADD:"compsAddEmoji",EMOJI_CATEGORY_CHANGED:"emjiCtgryChngd",DRAG_CONTACT:"dragCntct",EMERGENCY_RELOAD_SHOWED:"emReloadShwd",EMERGENCY_RELOAD_ACCEPTED:"emReloadAcptd",EMERGENCY_RELOAD_CANCELED:"emReloadCncld",EMERGENCY_RELOAD_CLOSED:"emReloadClsd",PERIODIC_RELOAD_SHOWED:"peReloadShwd",PERIODIC_RELOAD_ACCEPTED:"peReloadAcptd",FILTER_MESSAGES:"fltrMsg",FILTER_IMAGES:"fltrPhoto",FILTER_DOCUMENTS:"fltrDocs",FILTER_FROM:"fltrFrom",FILTER_TO:"fltrTo",FILTER_ALL:"fltrAll",FILTER_PEOPLE:"fltrPeople",FILTER_NOT_PEOPLE:"fltrNotPeople",FILTER_TRAVEL_VIEW_UPCOMING:"fltrTrUpc",FILTER_TRAVEL_VIEW_PAST:"fltrTrPst",FILTER_PHOTOS:"fltrPhoto",FILTER_ACTIVE:"fltrActv",FILTER_PAST:"fltrPst",UNSUB_BUTTON:"unsub_btn",UNSUB_CONFIRM:"unsub_confirm",SUBSCRIPTION_OPEN:"subscriptionOpen",SUBHUB_RECOMMENDATION_SHOWN:"subhubRecoShown",SUBHUB_RECOMMENDATION_CORE_ACTION:"subscribe",COUPON_CLIPPED:"cpnClipped",UNUSUAL_DISCOUNT_COUPON_CLIPPED:"message_coupon_clipped",COUPON_UNCLIPPED:"cpnUnclipped",COUPON_OPENED:"cpnOpen",RECEIPT_OPENED:"rcptOpn",COUPON_REC_OPENED:"cpnRecOpened",COUPON_REC_CLOSED:"cpnRecClosed",CARD_INTERACT:"card_interact",CARD_VIEW:"card_view",LIST_VIEW:"list_view",TOI_CAROUSEL_VISIBLE:"toi_carousel_visible",TOI_CAROUSEL_SIDESWIPE:"toi_carousel_sideswipe",TOI_CARD_OPEN:"toi_card_open",TOI_CARD_COLLAPSE:"toi_card_collapse",TOI_CARD_DEFAULT_ACTION_VIEWMESSAGE:"toi_card_default_action_viewMessage",TOI_CARD_ACTION_TRACK:"toi_card_action_track",TOI_CARD_ACTION_REMOVE:"toi_card_action_remove",TOI_CARD_ACTION_REMOVE_ALL:"toi_card_action_remove_all",TOI_CARD_MISSED:"toi_card_missed",YAI_RETRO_TOI_SHOW:"yai_retro_toi_show",YAI_RETRO_TOI_CLICK_GENERATE:"yai_retro_toi_click_generate",YAI_RETRO_TOI_REPLY:"yai_retro_toi_reply",YAI_RETRO_TOM_SHOW:"yai_retro_tom_show",YAI_RETRO_TOM_CLICK_GENERATE:"yai_retro_tom_click_generate",YAI_RETRO_SEND:"yai_retro_send",FALLBACK_COUPON_CLIPPER_FROM_SENDER_SHOWN:"fallbackCpnClprFrmSenderShwn",FALLBACK_COUPON_CLIPPER_FROM_INBOX_SHOWN:"fallbackCpnClprFrmInboxShwn",COUPON_SELF_EXTRACTION_MODAL_OPENED:"cpnSlfExtrnOpnd",COUPON_SELF_EXTRACTION_MODAL_CLOSED:"cpnSlfExtrnClsd",COUPON_SELF_EXTRACTION_MODAL_CANCELLED:"cpnSlfExtrnCncld",COUPON_SELF_EXTRACTION_MODAL_SAVE:"cpnSlfExtrnSv",FEEDBACK_PANEL_GIVE_FEEDBACK:"fbpFbk",TUTORIAL_VIDEO:"tutorialVid",ABNORMAL_ZOOM_DIALOG_CLOSED:"zoomDiagClosed",HIDE_RIGHT_RAIL_AD:"hideRightRailAd",BOOKING_CARD_RENDERED:"bookingCardRendered",NAVIGATE_TO_BOOKING:"navigateToBooking",ADFREE_UPSELL_ACCEPT:"adFreeAcptd",ADFREE_UPSELL_CANCEL:"adFreeCncld",GET_RR_WIDER_MAIL_EXTENSION:"rrWiderMailGetExtension",RR_WIDER_MAIL_INSTALL_SUCCESS:"rrWiderMailInstallSuccess",RR_WIDER_MAIL_INSTALL_FAILURE:"rrWiderMailInstallFailure",LINK_ENHANCER_ADD_LINK:"addEnLnk",LINK_ENHANCER_RESIZE_LINK:"resizeEnLnk",LINK_ENHANCER_REMOVE_LINK:"removeEnLnk",LINK_ENHANCER_OPEN_LINK:"openEnLnk",LINK_ENHANCER_SHARE_LINK:"shareEnLnk",LINK_ENHANCER_MOVE_LINK_BOTTOM:"moveEnLnkBottom",LINK_ENHANCER_MOVE_LINK_INLINE:"moveEnLnkInline",PENCIL_AD_CLICKED:"pencilAdClicked",PENCIL_AD_FEEDBACK_OPEN:"pencilAdFeedbackOpen",PENCIL_AD_FEEDBACK_MENU_OPEN:"pencilAdFeedbackMenuOpen",SEARCH_AD_FETCHED:"searchAdFetched",PENCIL_AD_DELETE:"pencilAdDelete",PENCIL_AD_DELETE_TLBR:"pencilAdDeleteTlbr",PENCIL_AD_SELECTION_TOGGLED:"pencilAdSelectionToggled",TOGGLE_BOTTOM_STICKY_PENCIL_AD:"toggleBottomStickyPencilAd",HIDE_BOTTOM_STICKY_PENCIL_AD:"hideBottomStickyPencilAd",AD_FEEDBACK_POSITIVE:"adFeedbackPositive",AD_FEEDBACK_NEGATIVE:"adFeedbackNegative",WHY_THIS_AD_LINK_CLICKED:"whyThisAdLinkClicked",AD_FEEDBACK_MAIL_PRO_LINK_CLICKED:"adFeedbackMailProLinkClicked",AD_FEEDBACK_MAIL_PLUS_LINK_CLICKED:"adFeedbackMailPlusLinkClicked",NAVIGATE_TO_MAIL_PRO_MONTHLY:"navigateToMailProUrlMonthly",NAVIGATE_TO_MAIL_PRO_YEARLY:"navigateToMailProUrlYearly",NAVIGATE_TO_MAIL_PRO_ACTIVE_USER:"navigateToMailProUrlActiveUser",NAVIGATE_TO_MAIL_PRO_PASTDUE_USER:"navigateToMailProUrlPastDueUser",NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE:"navigateToMailProUrlFromErrorPage",NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE:"navigateToTryMailProForFree",NAVIGATE_TO_MAIL_PRO_FROM_ADFEEDBACK:"navigateToMailProUrlFromAdfeedback",NAVIGATE_TO_MAIL_PRO_FROM_TLBR:"navigateToMailProUrlFromTlbr",NAVIGATE_TO_MAIL_PRO_FROM_RIGHT_RAIL_UPSELL:"navigateToMailProUrlFromRightRailUpsell",NAVIGATE_TO_MAIL_PRO_FROM_SETTINGS_POPOVER:"navigateToMailProUrlFromSettingsPopover",NAVIGATE_TO_MAIL_PRO_TAB_FROM_ADFEEDBACK:"navigateToMailProTabFromAdfeedback",NAVIGATE_TO_MAIL_PLUS_FROM_ADFEEDBACK:"navigateToMailPlusUrlFromAdfeedback",LEARN_MORE_ON_MAIL_PLUS:"learnMoreOnMailPlus",REACTIVATE_MAIL_PLUS:"ReactivateMailPlus",TABS_MENU_OPEN:"tabsMenuOpen",TABS_MENU_CLOSE:"tabsMenuClose",TAB_CLICKED_WITH_ATTACHMENT_PREVIEW:"tabClickedWithAttachmentPreview",SEARCH_PLA_AD_ITEM_CLICKED:"searchPlaAdItemClicked",RSVP_CALENDAR_RESPONSE:"rsvpCalendarResponse",RSVP_NAVIGATE_TO_CALENDAR:"rsvpNavigateToCalendar",RSVP_LOADED:"rsvpModuleLoaded",RELATED_SEARCHES_CARD_CLICKED:"relatedSearchesCardClicked",FEATURE_VIEWED:"featureViewed",ADBLOCK_DETECTED:"adblockDetected",ADBLOCK_BEACON_FAILED:"adblockBeaconFailed",NO_ABP_DETECTED:"noAbpDetected",NO_ADBLOCK_DETECTED:"noAdblockDetected",ABP_DETECTED:"abpDetected",ADBLOCK_UI_UPDATE:"adblockUIUpdate",PUSH_NOTIFICATION_RECEIVED:"pushNotificationReceived",PUSH_NOTIFICATION_OPENED:"pushNotificationOpened",PUSH_NOTIFICATIONS_REQUEST_GRANTED:"pushNotificationsRequestGranted",PUSH_NOTIFICATIONS_REQUEST_REJECTED:"pushNotificationsRequestRejected",PUSH_NOTIFICATION_ACTION_DELETE:"pushNotificationActionDelete",PUSH_NOTIFICATION_ACTION_MARK_AS_READ:"pushNotificationActionMarkAsRead",PULL_TO_REFRESH:"pullToRefresh",NAVIGATE_TO_FOLDER:"navigateToFolder",NAVIGATE_TO_SETTINGS:"navigateToSttngs",CHECK_MAIL:"checkMail",MANUAL_SAVE_DRAFT:"manualSaveDraft",CONTACT_CARD_EMAIL_CLICKED:"contactCardEmailClicked",CONTACT_CARD_AVATAR_CLICKED:"contactCardAvatarClicked",CONTACT_CARD_URL_CLICKED:"contactCardUrlClicked",CONTACT_CARD_CLICKED:"contactCardClicked",CONTACT_CARD_NAME_CLICKED:"contactCardNameClicked",CONTACT_CARD_LOAD_FAILED:"contactCardLoadFailed",CONTACT_CARD_ADD_TO_CONTACTS:"contactCardAddToContacts",CONTACT_CARD_EDIT_CONTACT:"contactCardEditContact",MERCHANT_CARD_MENU_PRIVACY_CLICKED:"merchantCardMenuPrivacyLinkClicked",MERCHANT_CARD_HIDE_DEALS:"merchantCardHideDeals",MERCHANT_CARD_SHOW_DEALS:"merchantCardShowDeals",MERCHANT_CARD_TOGGLE_PREVIEW_DEALS:"merchantCardTogglePreviewDeals",OPEN_CONTACT_PICKER:"openContactPicker",OPEN_CONTACTS_FULL_PANE:"openCntctFull",OPEN_CONTACT_LIST:"openCntctLst",OPEN_CONTACT:"openCntct",CONTACTS_PANE_ICON_ON:"cntctIconOn",CONTACTS_PANE_ICON_OFF:"cntctIconOff",TOP_VIEW:"cntctsPaneTopView",USER_CREATED_VIEW:"cntctsPaneUserView",PEOPLE_VIEW:"cntctsPanePeopleView",BUSINESS_VIEW:"cntctsPaneBusinessView",GROUPS_VIEW:"cntctsPaneGroupsView",TOGGLE_ALPHA_SECTION:"toggleAlphaSctn",CONTACT_DETAILS_BACK:"contactDetailsBack",CONTACT_GROUP_EDIT_BACK:"contactGroupEditBack",CONTACT_GROUP_SAVE:"contactGroupSave",CONTACT_GROUP_CREATE:"contactGroupCreate",CONTACT_GROUP_EDIT_CANCEL:"contactGroupEditCancel",CONTACT_GROUP_CREATE_BACK:"contactGroupCreateBack",CONTACT_GROUP_CREATE_CANCEL:"contactGroupCreateCancel",ADD_CONTACT_TO_GROUP:"addContactToGroup",OPEN_EDIT_CONTACT:"openEditContact",CHANGE_USER_GROUP:"changeUserGroup",EDIT_USER_GROUP:"editUserGroup",OPEN_CREATE_USER_GROUP:"openCreateUserGroup",DELETE_USER_GROUP:"deleteUserGroup",CONTACT_EDIT_SAVE:"contactEditSave",CONTACT_CREATE_SAVE:"contactCreateSave",CONTACT_EDIT_CANCEL:"contactEditCancel",CONTACT_CREATE_CANCEL:"contactCreateCancel",SEARCH_CONTACTS:"searchContacts",CLEAR_CONTACTS_SEARCH:"clearContactsSearch",OPEN_CREATE_CONTACT:"openCreateContact",CONFIRM_DELETE_CONTACT:"confirmDeleteContact",EXPORT_ALL_CONTACTS:"exportAllContacts",IMPORT_CONTACTS:"importContacts",RESTORE_CONTACTS:"restoreContacts",PRINT_ALL_CONTACTS:"printAllContacts",CHANGE_CONTACTS_SORT_ORDER:"changeContactsSortOrder",CHANGE_CONTACTS_CATEGORY_FILTER:"changeContactsCategoryFilter",IMPORT_CSV_CONTACTS_CLICKED:"importCsvContactsClicked",IMPORT_CSV_CONTACTS_SIZE_EXCEEDED:"importCsvContactsSizeExceeded",IMPORT_CSV_CONTACTS_REQUESTED:"importCsvContactsRequested",IMPORT_LINKEDIN_CONTACTS:"importLinkedInContacts",IMPORT_GMAIL_CONTACTS:"importGmailContacts",IMPORT_YMAIL_CONTACTS:"importYMailContacts",IMPORT_AOL_CONTACTS:"importAolContacts",IMPORT_OUTLOOK_CONTACTS:"importOutlookContacts",LINKEDIN_AUTH_EXPIRED:"linkedInAuthExpired",DISCONNECT_GMAIL_CONTACTS:"disconnectGmailContacts",DISCONNECT_YMAIL_CONTACTS:"disconnectYMailContacts",DISCONNECT_AOL_CONTACTS:"disconnectAolContacts",DISCONNECT_OUTLOOK_CONTACTS:"disconnectOutlookContacts",CONTACT_ITEM_EMAIL_CLICKED:"contactListEmailClicked",CONTACT_DETAILS_EMAIL_CLICKED:"contactDetailsEmailClicked",CONTACTS_FULL_PANE_CLOSE_VIA_RR:"contactsFullPaneCloseViaRr",CONTACTS_FULL_PANE_MOVE_TO_RR:"contactsFullPaneMoveToRr",CONTACTS_RR_MOVE_TO_FULL_PANE:"contactsRrMoveToFullPane",TODOS_ICON_CLICKED_OPEN:"todosIcnClkdOpn",TODOS_ICON_CLICKED_CLOSED:"todosIcnClkdClsd",TODOS_PANE_SWITCH_TO_ACTIVE_TAB:"todosPnSwtchToActvTb",TODOS_PANE_SWITCH_TO_COMPLETED_TAB:"todosPnSwtchToCmpltdTb",TODO_CREATION_CANCEL:"todoCrtnCncl",TODO_EDIT_CANCEL:"todoEditCncl",OPEN_LINKED_MESSAGE_FROM_TODO_PANE:"opnLnkdMsgFrmTodoPn",CREATING_TODO_FROM_MESSAGE:"creatngTodoFrmMsg",CREATE_TODO_CLICK:"crtTodoClk",EDIT_TODO_CLICK:"edtTodoClk",DELETE_TODO_CLICK:"delTodoClk",UNDO_DELETE_TODO_CLICK:"undoDelTodoClk",TOGGLE_TODO_STATUS_TO_ACTIVE:"tgglTodoStatusActv",TOGGLE_TODO_STATUS_TO_COMPLETED:"tgglTodoStatusCmpltd",TODO_DELETE:"delTodo",TODO_CREATE:"crtTodo",TODO_UPDATE:"updtTodo",TODO_NOTIFICATION_CLICK:"todoNtfctnClk",TODOS_FETCHED_AT_LAUNCH:"todoFtchdAtLnch",FETCH_TODOS_RETRY_REQUESTED:"ftchTodosRetryRqstd",FETCH_TODOS_RETRY_SUCCEEDED:"ftchTodosRetrySccd",FETCH_TODOS_RETRY_FAILED:"ftchTodosRetryFld",SUGGESTED_TODO_CARD_SHOWN:"sggstdTodoCrdShwn",COUPON_BRAND_VIGLINK_CLICKED:"couponBrandViglinkClicked",COUPON_VIGLINK_CLICKED:"couponViglinkClicked",COUPON_BODY_VIGLINK_CLICKED:"couponBodyViglinkClicked",UNUSUAL_DISCOUNT_COUPON_CARD_VIGLINK_CLICKED:"annotated_message_link_click",COUPON_CARD_VIGLINK_CLICKED:"couponMsgReadCardClicked",COUPON_LIST_VIGLINK_CLICKED:"couponSmrtViewCardClicked",MESSAGE_READ_AVATAR_CLICKED:"MsgReadCardLogoClicked",MESSAGE_READ_FROM_FIELD_CLICKED:"MsgReadFromFieldClicked",COUPON_CARD_DEAL_FROM_MESSAGE_LOGO_CLICKED:"couponMsgReadDealLogoClicked",SHOPPING_COUPONS_VIEW_CLICKED:"shoppingCouponsVwClicked",SHOPPING_EMAILS_VIEW_CLICKED:"shoppingEmailsVwClicked",SHOPPING_CART_AD_REQUEST_SUCCESS:"shoppingCartAdRequestSuccess",SHOPPING_CART_AD_REQUEST_FAILURE:"shoppingCartAdRequestFailure",DEALS_SHOPPING_CART_AD_REQUEST_SUCCESS:"dealsShoppingCartAdRequestSuccess",DEALS_SHOPPING_CART_AD_REQUEST_FAILURE:"dealsShoppingCartAdRequestFailure",SHOPPING_CART_AD_RENDERED:"shoppingCartAdRendered",SHOPPING_CART_AD_CLICKED:"shoppingCartAdClicked",DEALS_SHOPPING_CART_AD_CLICKED:"dealsShoppingCartAdClicked",DEALS_SHOPPING_CART_AD_RENDERED:"dealsShoppingCartAdRendered",SHOPPING_CART_EXPAND_TOGGLED:"shoppingCartExpandToggled",DOMAIN_MATCHED_PENCIL_AD_MSG_READ:"domainMatchedPencilAdMsgRd",DOMAIN_MATCHED_AD_RENDERED:"domainMatchAdRendered",DOMAIN_MATCHED_AD_CLICKED:"domainMatchAdClicked",DOMAIN_MATCHED_AD_EXPANDED:"domainMatchAdExpanded",DOMAIN_MATCHED_AD_COLLAPSED:"domainMatchAdCollapsed",CROSS_DOMAIN_DPA_AD_REQUEST_SUCCESS:"crossDomainDPAAdRequestSuccess",CROSS_DOMAIN_DPA_AD_REQUEST_FAILURE:"crossDomainDPAAdRequestFailure",CROSS_DOMAIN_DPA_AD_REQUEST_ERROR:"crossDomainDPAAdRequestError",CROSS_DOMAIN_DPA_AD_RENDERED:"crossDomainDPAAdRendered",CROSS_DOMAIN_DPA_AD_CLICKED:"crossDomainDPAAdClicked",AD_FEEDBACK_OPENED:"adFeedbackOpened",AD_FEEDBACK_CLOSE:"adFeedbackClose",AD_FEEDBACK_SUBMIT:"adFeedbackSubmit",AD_POLICY_LINK_CLICKED:"adPolicyLinkClicked",CONNECTED_PROVIDERS:"connctdPrvdrs",CATEGORY_FOLLOW:"category_follow",CATEGORY_UNFOLLOW:"category_unfollow",SUGGESTED_CATEGORIES_CARD_SHOW:"suggested_categories_card_show",CATEGORY_FOLLOWING_SHOW:"annotation_show",CATEGORY_FOLLOWING_MSG_OPEN:"annotated_message_open",BLOCK_SENDERS_SUBMIT:"blkSdrSbmt",BLOCK_SENDERS_WITH_DELETE_SUBMIT:"blkSdrDelSbmt",UNBLOCK_SENDERS_SUBMIT:"unblkSdrSbmt",MAIL_PLUS_SPONSORED_AD_RENDERED:"mailPlusSponsoredAdRendered",PORTRAIT_AD_CLICKED:"portraitAdClicked",PORTRAIT_AD_EXPANDED:"portraitAdExpanded",PORTRAIT_AD_CLOSED:"portraitAdClosed",COUPONS_SEARCH_TOP_RETAILER_CLICKED:"couponsSearchTopRetailerClicked",COUPONS_SEARCH_TOP_DEAL_CLICKED:"couponsSearchTopDealClicked",COUPONS_SEARCH_RECENT_SEARCH_CLICKED:"couponsSearchRecentSearchClicked",RETAILER_FILTER_CLICKED:"retailerFilterClicked",CATEGORY_FILTER_CLICKED:"categoryFilterClicked",USERNAME_PHONE_REG_ONBOARDING:"userNamePhoneRegOnbrdng",USERNAME_PHONE_REG_ADD_ACCOUNT:"userNamePhoneRegAddAcct",USERNAME_PHONE_REG_ADD_PROVIDER:"userNamePhoneRegAddPrvdr",USERNAME_PHONE_REG_CANCEL_AUTHORIZE:"userNamePhoneRegCnclAuth",RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:"rightRailUpsellVideoAdStarted",RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:"rightRailUpsellVideoAdFinished",RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:"rightRailUpsellVideoAdClicked",LASTPASS_FREETRIAL_UPSELL_VIEW_ELIGIBLE:"lastpassFreeTrialUpsellViewEligible",AUTOTAG_DROPDOWN_SHOWN:"autotagDrpDnShown",AUTOTAG_CONTACT_SELECTED:"autotagCntctSelect",AUTOTAG_DROPDOWN_CLOSED:"autotagDrpDnClosed",BREAKING_NEWS_CLICKED:"breakingNewsClicked",BREAKING_NEWS_DISMISSED:"breakingNewsDismissed",BREAKING_NEWS_DISABLED:"breakingNewsDisabled",BREAKING_NEWS_ENABLED:"breakingNewsEnabled",BREAKING_NEWS_ICON:"breakingNewsIcon",LATEST_NEWS_CLICKED:"lastestNewsClicked",BREAKING_NEWS_RENDERED:"breakingNewsRendered",PACKAGE_TRACKING_DISABLED:"packageTrackingDisabled",PACKAGE_TRACKING_ENABLED:"packageTrackingEnabled",DEALS_STORIES_ENABLED:"dealsStoriesEnabled",DEALS_STORIES_HIDDEN:"dealsStoriesHidden",DEALS_STORIES_DISABLED:"dealsStoriesDisabled",TOP_OF_INBOX_PACKAGE_TRACKING_ENABLED:"topOfInboxPackageTrackingEnabled",TOP_OF_INBOX_PACKAGE_TRACKING_DISABLED:"topOfInboxPackageTrackingDisabled",TOP_OF_INBOX_PACKAGE_TRACKING_COOKIE_ENABLED:"topOfInboxPackageTrackingCookieEnabled",TOP_OF_INBOX_PACKAGE_TRACKING_COOKIE_DISABLED:"topOfInboxPackageTrackingCookieDisabled",PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:"purchaseMailproFreeTrialSuccess",PURCHASE_MAILPRO_FREE_TRIAL_FAILED:"purchaseMailproFreeTrialFailed",LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:"listMailPremiumSubscriptionsSuccess",LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:"listMailproSubscriptionsFailed",PURCHASE_MAILPRO_FREE_TRIAL:"purchaseMailproFreeTrial",UPGRADE_TO_MAILPRO:"upgradeToMailpro",PURCHASE_FREE_TRIAL_FROM_AD_FEEDBACK:"purchaseFreeTrialFromAdFeedback",PURCHASE_FREE_TRIAL_FROM_RIGHT_RAIL_UPSELL:"purchaseFreeTrialFromRightRailUpsell",PURCHASE_FREE_TRIAL_FROM_SETTINGS_MENU:"purchaseFreeTrialFromSettingsMenu",PURCHASE_FREE_TRIAL_FROM_SETTINGS_TAB:"purchaseFreeTrialFromSettingsTab",GET_MAILPRO_CLICK_FROM_AD_FEEDBACK:"getMailproClickFromAdFeedback",MAIL_PLUS_SWITCH_WIDGET:"mailPlusSwitchWidget",CLOUD_STORAGE_GDRIVE_CONNECT_CLICKED:"csGDriveConnectClicked",CLOUD_STORAGE_DROPBOX_CONNECT_CLICKED:"csDropboxConnectClicked",CLOUD_STORAGE_ITEMS_FETCHED:"csItemsFetched",CLOUD_STORAGE_FOLDER_ITEMS_FETCHED:"csFolderItemsFetched",CLOUD_STORAGE_ITEMS_SEARCHED:"csItemsSearched",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_ACCEPTED:"csChangePermissionsAccepted",CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_CANCELLED:"csChangePermissionsCancelled",CLOUD_STORAGE_ITEM_LINK_INSERTED:"csItemLinkAdded",CLOUD_STORAGE_ITEM_PREVIEW_CLICKED:"csItemPreviewClicked",ATTACH_FILES_FROM_GDRIVE:"attFromGdrive",ATTACH_FILES_FROM_DROPBOX:"attFromDropbox",ATTACH_FILES_FROM_RECENT_FILES:"attFromRecentFiles",ATTACH_FILES_FROM_COMPUTER:"attFromComputer",MERCHANT_SITE_CLICK:"merchantSiteClick",PRODUCT_CATEGORY_CLICK:"productCategoryClick",AFFILIATE_DEAL_CLICK:"affiliateDealClick",DEAL_CARD_SHOWN:"dealCardShown",PRODUCT_CATEGORY_SHOWN:"productCategoryShown",RELATED_CARDS_REQUEST_SUCCESS:"relatedCardsRequestSuccess",DEALS_VIEW_LEARN_MORE:"dealsViewLearnMore",DEALS_VIEW_CASH_BACK:"dealsViewCashBack",DEALS_VIEW_BANNER_INVOKED:"dealsViewBannerInvoked",DEALS_VIEW_CASH_BACK_BANNER:"dealsViewCashBackBannerClick",DEALS_VIEW_NAV_FROM_NOTIFICATION:"dealsViewNavFromNotification",SIMPLE_CTA_MSG_BUTTON_CLICK:"simpleCTAMsgButtonClick",SIMPLE_CTA_MSG_READ_INVOKE:"simpleCTAMsgReadInvoke",SIMPLE_CTA_MSG_READ_BANNER_CLICK:"simpleCTAMsgReadBannerClick",CATEGORY_WITH_IMAGE_MSG_RD_INVOKE:"categoryWithImagesMsgReadInvoke",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_CLICK:"categoryWithImagesMsgReadCategoryClick",CATEGORY_WITH_IMAGES_MSG_RD_CATEGORY_INVOKE:"categoryWithImagesMsgReadCategoryInvoke",CATEGORY_WITH_IMAGES_MSG_RD_BANNER_CLICK:"categoryWithImagesMsgReadBannerClick",ARTICLE_CONTENT_MSG_READ_CARD_LINK_CLICK:"articleContentMsgReadCardLinkClick",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_LINK_CLICK:"articleContentWithoutBgMsgReadCardLinkClick",ARTICLE_CONTENT_MSG_RD_INVOKE:"articleContentMsgReadInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_RD_INVOKE:"articleContentWithoutBgMsgReadInvoke",ARTICLE_CONTENT_MSG_READ_CARD_INVOKE:"articleContentMsgReadCardInvoke",ARTICLE_CONTENT_WITHOUT_BG_MSG_READ_CARD_INVOKE:"articleContentWithoutBgMsgReadCardInvoke",ARTICLE_CONTENT_MSG_READ_BANNER_CLICK:"articleContentMsgReadBannerClick",SUBHUB_RECOMMENDATION_SUBSCRIBE_CLICK:"subhubRecoSubscribeClick",SUBHUB_RECOMMENDATION_GO_TO_WEBSITE_CLICK:"subhubRecoGoToWebsiteClick",SUBHUB_RECOMMENDATION_DIALOG_CLOSE_CLICK:"subhubRecoDialogCloseClick",SUBHUB_RECOMMENDATION_DIALOG_CANCEL_CLICK:"subhubRecoDialogCancelClick",NPS_SURVEY_SHOWN:"nps_intercept_presented",NPS_SURVEY_ACCEPT:"nps_invitation_accepted",NPS_SURVEY_DECLINE:"nps_invitation_declined",OLDMAIL:"oldMail",NEWMAIL:"newMail",INLINE_IMAGE_PREVIEW:"inlineImgPrvw",INLINE_IMAGE_DOWNLOAD:"inlineImgDwnld",INLINE_PROMPT_AD_TARGET_CUE_CLOSE:"inlinePromptAdTargetCueClose",INLINE_PROMPT_AD_TARGET_CUE_LEARN_MORE:"inlinePromptAdTargetCueLearnMore",INLINE_PROMPT_AD_TARGET_CUE_TURN_ON:"inlinePromptAdTargetCueTurnOn",INLINE_PROMPT_REDIRECT_LINK_CLICK:"inlinePromptRedirectLinkClick",INLINE_PROMPT_DONE_BUTTON_CLICK:"inlinePromptDoneButtonClick",INLINE_PROMPT_SMARTVIEWS_LEARN_MORE:"inlinePromptSmartViewsLearnMore",INLINE_PROMPT_SMARTVIEWS_TURN_ON:"inlinePromptSmartViewsTurnOn",INLINE_PROMPT_SMARTVIEWS_MOUNT:"inlinePromptSmartViewsMount",SEND_CONFIRM_BACK:"sendConfrmBack",SEND_CONFIRM_CLOSE:"sendConfrmCls",LAZY_LOAD_EMAIL_IMG:"lazy_load_email_img",MAIL_PLUS_ICON_SHORTCUT_CLICK:"mailPlusIconShortcutClick",EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL:"emailsToMyselfMailPlusUpsell",EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL_RENDER:"emailsToMyselfMailPlusUpsellRender",EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL_CLICK:"emailsToMyselfMailPlusUpsellClick",ATHENA_ADBLOCKER_SIGNAL_DETECTED:"athenaAdblockerSignalDetected",HIGHLIGHT_SRP_OPEN_MSG:"highlightSrpOpenMsg",LAYOUT_IMG_CHANGE:"lytImgChng",LAYOUT_IMG_DELETE:"lytImgDlt",LAYOUT_TEXT_DELETE:"lytTxtDlt",LAYOUT_TEXT_CLEAR:"lytTxtClr",LAYOUT_ELLIPSIS_SELECT:"lytEllpsSlct",LAYOUT_BACKGROUND_DELETE:"lytBgDlt",NEWSLETTER_PICKER_SIMPLE:"nwsLttrPckrSimpleSlct",NEWSLETTER_PICKER_NEWSLETTER:"nwsLttrPckrNewsletterSlct",NEWSLETTER_PICKER_FORMATIVE:"nwsLttrPckrFormativeSlct",NEWSLETTER_PICKER_CTA:"nwsLttrPckrCallToActionSlct",TODAY_ON_AOL_PAGE_OPENED:"todayOnAolPageOpened",FOLDER_PILL_CLOSE_CLICK:"folderPillCloseClick",FOLDER_SEARCH_SYNTAX_CONVERTED_TO_PILL:"folderSearchSyntaxConvertedToPill",NAVIGATION_VIEW:"navigation_view",NAVIGATION_INTERACT:"navigation_interact",MAIL_PLUS_ONBOARDING_TO_MAIL_PLUS_SETTINGS:"mailPlusOnboardingToMailPlusSettings",MAIL_PLUS_ONBOARDING_TO_MAIL_PLUS_NEXT_BTN:"mailPlusOnboardingToMailPlusNextBtn",MAIL_PLUS_ONBOARDING_TO_MAIL_PLUS_NEXT:"mailPlusOnboardingToMailPlusNext",MAIL_PLUS_ONBOARDING_TO_MAIL_PLUS_BACK:"mailPlusOnboardingToMailPlusBack",USER_ONBOARDING_PREFIX:"usr_onbrdng",COMPACT_COMPOSE_WINDOW_TOGGLE:"compact_cmp_window_toggle",COMPACT_COMPOSE_WINDOW_CLOSE:"compact_cmp_window_close",WALLET_ADD_MAILBOX:"wallet_add_mailbox",NOTES_ICON_CLICKED_OPEN:"notesIcnClkdOpn",NOTES_ICON_CLICKED_CLOSED:"notesIcnClkdClsd",NOTEBOOKS_AND_NOTES_FETCHED_AT_ICON_CLICK_OPEN:"notebooksAndNotesFtchdAtIcnClkOpn",FETCH_NOTEBOOKS_AND_NOTES_RETRY_REQUESTED:"ftchnotebooksAndNotesRetryRqstd",FETCH_NOTES_RETRY_REQUESTED:"ftchNotesRetryRqstd",NOTES_PANE_SWITCH_TO_FOLDERS_TAB:"notesPnSwtchToFldrsTb",NOTES_PANE_SWITCH_TO_NOTES_TAB:"notesPnSwtchToNotesdTb",NOTE_CREATE:"crtNote",NOTE_UPDATE:"updtNote",CREATE_NOTE_CLICK:"crtNoteClk",NOTE_CREATION_CANCEL:"noteCrtnCncl",NOTE_EDIT_CANCEL:"noteEditCncl",EDIT_NOTE_CLICK:"edtNoteClk",NOTE_DELETE:"delNote",UNDO_DELETE_NOTE_CLICK:"undoDelNoteClk",JOURNAL_FOLDER_CREATE:"crtJrnlFlder",JOURNAL_FOLDER_UPDATE:"updJrnlFlder",NOTES_VIEW:"notesView",FOLDERS_VIEW:"fldrsView",SET_NOTEBOOK_ID:"setNotebookId",JOURNAL_FOLDER_DELETE:"delJrnlFlder",UNDO_DELETE_JOURNAL_FOLDER_CLICK:"undoDelJrnlFldrClk",NOTE_NAME_CLICK:"noteNameClk",PINNED_EMAIL_CLICK_ACTIVE:"emailpin_click_active",PINNED_EMAIL_CLICK_INACTIVE:"emailpin_click_inactive",PINNED_EMAIL_CLICK_CONTEXT_MENU_ACTIVE:"emailpin_click_rightclick_active",PINNED_EMAIL_CLICK_CONTEXT_MENU_INACTIVE:"emailpin_click_rightclick_inactive",PINNED_EMAIL_SECTION_DISPLAY:"emailpin_section_display",PINNED_EMAIL_CLICK_MORE_MENU_ACTIVE:"emailpin_click_moremenu_active",PINNED_EMAIL_CLICK_MORE_MENU_INACTIVE:"emailpin_click_moremenu_inactive",PINNED_EMAIL_MAX:"emailpin_max_display"},l={STICKY_ONBOARDING:"StickyOnboarding",LAUNCH:"launch",ONBOARDING:"onboarding",PRE_INBOX_ONBOARDING:"pre_inbx_onbrdng",LEFTRAIL_COMPOSE:"leftr_comp",LEFTRAIL_COMPOSE_DROPDOWN:"leftr_comp_dpd",COMPOSE_TOPBAR:"comp_topbar",COMPOSE_CONTACTS:"comp_contcts",COMPOSE_TOOLBAR:"comp_toolbr",COMPOSE_MSG:"comp_msg",COMPOSE_CONFIRM_DLG:"comp_confDlg",RTE_TOOLBAR:"rte_toolbr",FRMT_TOOLBAR:"frmt_toolbr",CONTACT_PICKER:"cntct_pckr",COMPOSE_MODAL:"compose_modal",MSG_READ_ATTACHMENT:"msgrd_attm",MSG_BODY:"msg_body",ATTM_PREVIEW:"attm_prvw",MSG_READ_TOOLBAR:"msgrd_toolbar",QUICK_COMPOSE:"quickComp",MSG_READ_AD:"msgrd_ad",MSG_HEADER:"msgrd_header",MSG_READ_RELATED_CARDS:"msgrd_relatedCards",MSG_LIST:"msglst",MSG_LIST_MSG:"msglst_msg",MSG_LIST_TOOLBAR:"msglst_toolbr",MSG_LIST_CONTEXT_MENU:"msglst_contxt_menu",MSG_LIST_TOOLBAR_POPUP:"msglst_toolbr_pop",MSG_LIST_BULK_ACTION:"msglst_blkactn",MSG_LIST_SORT:"msglst_srt",MSG_LIST_NOTIFICATION:"msglst_notf",MSG_LIST_AD:"msglst_ad",DOC_LIST:"doc_vw",PHOTO_LIST:"photo_vw",COUPONS_LIST:"coupons_vw",STOREFRONT_VIEW:"storefront_view",ATTACHMENT_VIEW:"attm_vw",RECEIPTS_LIST:"receipts_vw",TRAVEL_LIST:"travel_vw",SHOPPING_VIEW:"shopping_vw",INBOX_FILTERS:"inbox_filters",SHOPPING_CART:"shopping_cart",DPA_ADS:"dpa_ads",MSG_LIST_SEARCH:"msglst_search",NOT_FOUND_VIEW:"notfound_vw",PHISHING_BANNER:"phishing_banner",TODAY_PAGE:"today_page",SPAM_INDICATOR:"spam_indicator",SPAM_UNSUB_DIALOG:"spam_unsub_dialog",REPLY_TO_ALERT_POPOVER:"reply_to_alert_popover",REPLY_TO_ALERT_BANNER:"reply_to_alert_banner",ATTACHMENT_LIGHTBOX:"attm_lghtbx",FEATURE_CUE:"feature_cue",THEMES_CUE:"themes_cue",READABILITY_MODE_CUE:"readability_mode_cue",NEW_USER_TASKS_CUE:"new_user_tasks_cue",INSIDE_INBOX_NEW_USER_ONBOARDING_CUE:"inside_inbox_new_user_onboarding_cue",FILTER_MESSAGES:"filter_messages",FEATURE_CARD:"feature_card",HEADER:"hdr",HEADER_NAV:"hdr_nav",HEADER_SEARCH:"hdr_srch",HEADER_SETTINGS:"hdr_sttngs",HEADER_LIST:"hdr_list",LEFTRAIL_SMARTVIEW:"leftr_smrtvw",LEFTRAIL_SYSFOLDER:"leftr_systfldr",LEFTRAIL_USERFOLDER:"leftr_usrfldr",LEFTRAIL_CONTEXTMENU:"leftr_contxtmnu",LEFTRAIL_ACCOUNTS:"leftr_acct",LEFTRAIL_FOLDER:"leftr_fldr",RIGHT_RAIL:"rightrail",RIGHT_RAIL_AD_FREE_UPSELL:"rightRailAdFreeUpsell",RIGHT_RAIL_TRAVEL_CARD:"rightRailTravelCard",RIGHT_RAIL_PLA_CARD:"rightRailPlaCard",SETTINGS_POPUP:"sttgspop",SETTINGS_MAIN:"sttgsMain",SETTINGS_LEFT_RAIL:"sttgsLftr",SETTINGS_INBOX_TAB:"sttgsInbx",SETTINGS_ACCOUNTS_TAB:"sttgsAccnts",SETTINGS_NOTIFICATIONS_TAB:"sttgsNtfctn",SETTINGS_VIEWING_EMAIL_TAB:"sttgsView",SETTINGS_AUTOMATIC_REPLY_TAB:"sttgsReply",SETTINGS_WRITING_EMAIL_TAB:"sttgsWrite",SETTINGS_CATEGORIZATION_TAB:"sttgsCtgry",SETTINGS_CONTACTS_TAB:"sttgsCntcts",SETTINGS_EXPERIMENTAL_FEATURES_TAB:"sttgsExprmntlFtrs",SETTINGS_MESSAGE_FILTERS_TAB:"sttgsMsgFltrs",SETTINGS_SECURITY_PRIVACY_TAB:"sttgsSecPrivacy",SETTINGS_MAIL_PLUS_TAB:"sttgsMailPlus",SETTINGS_MOBILE_AFTER_MESSAGE_MOVE:"mobileAfterMsgMoveSettings",SETTINGS_BLOCKED_DOMAINS:"sttgsBlockedDomains",SETTINGS_POPUP_TOI:"sttgsPopToi",CPN_STORE_LOCATOR:"cpnStoreLctr",CPN_RECOMMENDATION:"cpnRec",CPN_RECOMMENDATION_SMRTVW:"cpnRecSmrtVw",COUPON_SELF_EXTRACTION_MODAL:"cpnSlfExtrnMdl",PERIODIC_RELOAD:"periodic_rld",EMERGENCY_RELOAD:"emergency_rld",VIDEO_PLAYER:"video_player",SUBSCRIPTIONS_VIEW:"subscriptions",UNSUB_PANE:"unsub_pane",FEEDBACK_PANEL:"feedback_panel",TUTORIALS:"tutorials",ADFREE_UPSELL_DIALOG:"adFreeDlg",NOTIFICATION_ACTION:"NtfctnActn",MAIL_PRO_SETTINGS:"mailProSettings",MAIL_PLUS_UPSELL:"mailPlusUpsell",MAIL_PLUS_SPONSORED_AD:"mailPlusSponsoredAd",DEALS_RECOMMEND_CONTROL:"dealRecommendControl",TABS_MENU:"tabsMenu",RSVP_CARD:"rsvp_card",RIGHT_RAIL_RELATED_SEARCHES_CARD:"rr_related_searches_card",FEATURE_VIEWABILITY:"feature_viewability",CONTACTS_FULL_PANE:"contacts_full_pane",CONTACTS_PANE:"contacts_pane",CONTACT_CARD:"contact_card",TOP_CONTACTS_TAB:"top_contacts_tab",PEOPLE_CONTACTS_TAB:"people_contacts_tab",BUSINESS_CONTACTS_TAB:"business_contacts_tab",USER_CREATED_CONTACTS_TAB:"user_created_contacts_tab",GROUPS_CONTACTS_TAB:"groups_contacts_tab",CONTACTS_PANE_SEARCH:"contacts_pane_search",RELATED_CONTACTS:"related_contacts",CONTACTS_OVERFLOW_MENU:"contacts_overflow_menu",EDIT_CREATE_USER_GROUP:"edit_create_user_group",CSV_CONTACTS_IMPORT_STATUS_BAR:"csv_contacts_import_status_bar",TODOS_PANE:"todos_pane",CONTENT_PROVIDERS:"content_providers",COUPONS_SEARCH_PANE:"coupons_search_pane",NUDGE_AND_SMART_REPLY:"nudge_and_smart_reply",USERNAME_PHONE_REG:"userName_Phone_reg",AD_FEEDBACK:"ad_feedback",LASTPASS_FREETRIAL_UPSELL:"lastpass_freetrial_upsell",BREAKING_NEWS:"breaking_news",PACKAGE_TRACKING:"package_tracking",DEALS_STORIES:"deals_stories",TOP_OF_INBOX_PACKAGE_TRACKING:"top_of_inbox_package_tracking",TOP_OF_INBOX_BOTTOM_OPTIONS:"top_of_inbox_bottom_options",TOP_OF_INBOX_RETRO_COMPOSE:"top_of_inbox_retro_compose",MAIL_PREMIUM_FREE_TRIAL:"mail_premium_free_trial",COMPOSE_ATTACH_FILES_MENU:"cmpAttFilesMenu",SUBHUB_RECOMMENDATION_RIGHT_RAIL:"subhubRecoRightRail",COMPACT_COMPOSE_ATTM_PREVIEW:"compact_cmp_attm_prvw",INLINE_PROMPT_REDIRECT_DIALOG:"inline_prompt_redirect_dialog",INLINE_PROMPT_SMARTVIEWS:"inline_prompt_smartViews",SEND_CONFIRM:"send_confirm",BOTTOM_STICKY_PENCIL_AD:"bottomStickyPencilAd",SEARCH_BOX:"searchBox",WALLET_ADD_MAILBOX:"wallet_add_mailbox",WALLET_FEEDBACK:"wallet_feedback",WALLET_EMPTY:"wallet_empty",WALLET_DETAIL:"wallet_detail",WALLET_ITEM_LIST:"wallet_item_list",WALLET_HEADER_CUE:"wallet_header_cue",NOTES_PANE:"notes_pane",YAI_SEARCH_ANSWER_CARD:"yai_search_answer_card",PINNED_EMAILS_LIST:"pinned_emails_list",PINNED_EMAILS_MESSAGE_READ:"pinned_emails_message_read"},c={[a.Sck.INBOX]:"Inbox",[a.Sck.DRAFT]:"Drafts",[a.Sck.SENT]:"Sent",[a.Sck.ARCHIVE]:"Archive",[a.Sck.BULK]:"Spam",[a.Sck.TRASH]:"Trash",[a.Sck.USER]:"UserFolder",[a.d$d.ALL_MAIL]:"AllMail",[a.K8C.UNREAD]:"Unread",[a.K8C.STARRED]:"Starred",[a.K8C.PHOTOS]:"Photos",[a.K8C.DOCUMENTS]:"Documents",[a.K8C.SUBSCRIPTIONS]:"Subscription",[a.K8C.SUBSCRIPTION_DETAIL]:"Subscription",[a.K8C.COUPONS]:"Deals",[a.K8C.COUPON_EMAILS]:"Deals",[a.K8C.RECEIPTS]:"Receipts",[a.K8C.WALLET]:"Wallet",[a.K8C.TRAVEL]:"Travel",[a.K8C.TRAVEL_PAST]:"Travel",[a.K8C.TRAVEL_EMAILS]:"Travel",[a.K8C.ATTACHMENTS]:"Attachments",[a.K8C.OLDMAIL]:"OldMail",[a.K8C.NEWMAIL]:"NewMail",[a.K8C.SENDER_ROLLUP]:"SenderRollup",[a.K8C.PEOPLE]:"People",[a.n8z.EDIT_DRAFT]:"Compose",[a.n8z.NEW_DRAFT]:"Compose",[a.n8z.SEARCH]:"Search"};let d;!function(e){e.replyMsg="replyMsg",e.replyAllMsg="replyAllMsg",e.forwardMsg="forwardMsg",e.deleteMsg="deleteMsg",e.archiveMsg="archiveMsg",e.moveMsg="moveMsg",e.openMsg="openMsg",e.dwnldAttmnt="dwnldAttmnt",e.printAttmnt="printAttmnt",e.search="search",e.createFldr="createFldr",e.markRead="markRead",e.markUnread="markUnread",e.markStar="markStar",e.markUnstar="markUnstar",e.markSpam="markSpam",e.markUnspam="markUnspam",e.renameFldr="renameFldr",e.deleteFldr="deleteFldr",e.composeMsg="composeMsg",e.sendMsg="sendMsg",e.clickMsgLink="clickMsgLink",e.listing="listing",e.unsub="unsub",e.printMsg="printMsg"}(d||(d={}));const _={TRAVEL_UPCOMING:"trvUpcEmpty",TRAVEL_PAST:"trvPstEmpty",SEARCH:"search_zero_results"},E={CHANGE:"change"},u={BRAND_SEARCH:"brand_search",COUPON_SMART_VIEW:"coupon_smart_view",HOVER:"hover",POPOVER:"popover",RIGHT_RAIL:"right_rail",TOM:"tom",MESSAGE_LIST:"message_list",MESSAGE_READ:"message_read",TOI:"toi",WALLET:"wallet"}},79483:(e,t,s)=>{"use strict";s.d(t,{S_:()=>X,ZP:()=>q});var a=s(17016),n=s(99691),r=s(62631),o=s(31057),i=s(18247),l=s(37422),c=s(92559),d=s(95406),_=s(6273),E=s(85927),u=s(2464);const m=10;function S({messageGroupIds:e=[]},t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=(0,E.selectors)(t);return e.reduce(((e,t)=>e.concat(s(t)?a(t):[])),[])}function p(e){const{messageIds:t,itemsToUpdate:s}=e;let a=[];return s&&(a=s.map((e=>e.messageId))),t&&t.length?t:a}function C({itemsToUpdate:e},t,s=""){var a,n;const{getFoldersSelectors:r}=(0,E.selectors)(t),{doesFolderIdExist:o,getFolderName:i}=r(),l=s||(null==e||null===(a=e[0])||void 0===a||null===(n=a.folder)||void 0===n?void 0:n.id)||"";return o(l)?i(l):""}function A({listId:e},t){const{getListsSelectors:s}=(0,E.selectors)(t),{doesListExist:a,getItemIdsSelectors:n}=s();return{numMsg:a(e)?n(e).getItemIds().length:0}}function T(e,t){const{doesMessageIdExist:s,getCardConversationIdByMessageId:a}=(0,E.selectors)(t),n=p(e)||[],r=n.slice(0,m),o=r.map((e=>s(e)?a(e):""));return{msgId:r.join(","),ccid:o.join(","),numMsg:n.length}}function I(e,t){const{destinationFolderId:s,destinationFolderType:a}=e,n=p(e)||[];return{fldr:C(e,t),destFldr:s&&C(e,t,s)||a||"",msgId:n.slice(0,m).join(","),numMsg:n.length}}function h(e,t){const s=p(e)||[];return{fldr:C(e,t),msgId:s.slice(0,m).join(","),numMsg:s.length}}function g(e){var t;return{msgId:e.messageId||(null===(t=e.message)||void 0===t?void 0:t.messageId)||""}}function O(e,t){var s;const{messageId:a="",message:n={},route:r={}}=e,{messageId:o="",folderId:i="",folder:l={}}=n;return{msgId:a||o,fldr:C(e,t,i||l.id||(null===(s=r.params)||void 0===s?void 0:s.fid))}}function D(e,t){const{itemsToUpdate:s,messageId:a,streamItem:n}=e,{getMessageFolderId:r,doesMessageGroupIdExist:i}=(0,E.selectors)(t);if(a)return{msgId:a,fldr:C(e,t,r(a))};if(n){const{id:s,listId:a}=n,r=S({messageGroupIds:[s]},t),l=(0,o.Fh)(a)||"";if(s&&a&&i(s))return{msgId:r.slice(0,m).join(","),fldr:C(e,t,l)}}if(!s||!s.length)return{};const l=p(e)||[],c=s[0].id||"",d=s[0].listId||"",_=d&&(0,o.GG)(d),u=s.length>1&&s.some((e=>e.id!==c)),A=l.length;return _&&u?{msgId:l.slice(0,m).join(","),numMsg:A}:{msgId:l.slice(0,m).join(","),fldr:C(e,t),numMsg:A}}function R({itemsToUpdate:e}){return{numMsg:e.filter((e=>e.isAffected)).length}}function N(e){const{attachment:t={}}=e,{id:s}=t;return{msgId:s&&(0,i.b1)(s)}}function L(e,t){const{route:s,streamItem:n,i13nModel:{actionData:r={}}={}}=e,{getSetting:o,doesMessageBodyExist:i,getMessageBodiesSelectors:c,__getLastNonDraftMessageIdByGroupId:_,getImportantContactsSelectors:u,doesMessageGroupIdExist:m,getGroupIdContainingMessageId:S,getMessageIdsFromMessageGroupId:p,getMessageGroupParticipantsInfo:A,getMessageFromAddress:T,getListItemIdIndex:I,getMessagesSelectors:h,getMessageFolderId:g,getCardConversationIdByMessageId:O,getContactListSelectors:D}=(0,E.selectors)(t),{getDecos:R,doesMessageIdExist:N}=h();let L,f,M,P;if(n)L=n.listId,P=n.id;else{if(!e.listId||!s.params.groupId){if(M=(0,d.u9)(e,"hashParams.messageId"),!M)return r;const s=N(M)?O(M):null;return Object.assign(r,{msgId:M,fldr:C(e,t,g(M)),ccid:s||""})}L=e.listId,P=s.params.groupId}m(P)?(f=P,M=M||_(f)):(M=P,f=S(M));const{getImportantContacts:b}=u(),y=b()||[],v=p(f),{senders:F=[]}=A(f,L);M=M||v[v.length-1];const U=N(M)?T(M):[],k=U.length>0?U[0]:{},w=k.email,G=(0,a.isValidEmail)(k.email)?(0,a.destructEmailAddressParts)(k.email).domainPart:"NODOMAIN.COM",H=[],B=N(M)?R(M):[],{getContactByEmail:x}=D(),V=x(w),Z=N(M)?O(M):null,W=c(),K=i(M)?W.get(M):{},z=o(l.Zrf.AMP_EMAIL)&&(null==K?void 0:K.amp);return B.forEach((e=>H.push(e.id))),Object.assign({},r,{query:s?s.params.query||s.params.fid:"",mid:f,msgId:M,fldr:C(e,t,g(M)),ccid:Z||"",sdrDomain:G,mailDecos:H,numRcpt:F.length,numMsg:v.length,importntCntct:y.some((e=>-1!==e.emails.indexOf(k.email))),itemIdx:I(L,f),isKnownEntity:null==V?void 0:V.isBusiness,isAMP:!!z})}function f(e,t){const{message:s,messageId:a}=e,{isFeatureEnabled:n,getMessagesSelectors:r,getContactListSelectors:o}=(0,E.selectors)(t),i=(0,d.u9)(e,"i13nModel.actionData",{}),{getContactByEmail:c}=o();if(s){var _,u,m,S;const a=(null==s||null===(_=s.headers)||void 0===_||null===(u=_.from)||void 0===u||null===(m=u[0])||void 0===m?void 0:m.email)||"",r=c(a),o=(null==r?void 0:r.isBusiness)&&r.name||null;return{...i,msgId:s.id,mHref:n(l.ANe.CLICK_URL_LOGGING)?i.mHref:null,url:i.mHref||"",sndr:a,fldr:C(e,t,null===(S=s.folder)||void 0===S?void 0:S.id),...null!==o&&{brandName:o}}}if(a){var p;const{getFromAddresses:s,getFolderOfDelivery:o}=r(),d=s(a),_=c(d),E=(null==_?void 0:_.isBusiness)&&_.name||null,u=o(a);return{...i,msgId:a,mHref:n(l.ANe.CLICK_URL_LOGGING)?i.mHref:null,url:i.mHref||"",sndr:(null==d||null===(p=d[0])||void 0===p?void 0:p.email)||"",fldr:C(e,t,u),...null!==E&&{brandName:E}}}return i}function M(e){const t=e.listId||(0,o.LY)(e.route),s=(0,o.tr)(t),a=(0,o.Q7)(t),n=(0,o.DF)(t),r=(0,o.lG)(t);let i="kwrd";if(!r)switch(e.i13nModel.mKey){case c.JE.SEARCH_BUTTON:i="kwrd";break;case c.JE.SEARCH_RECENT_SUGGEST:i="recentSearch";break;case c.JE.SEARCH_KWRD_SUGGEST:i="suggestedSearch";break;default:i="kwrd"}return Object.assign({srchQry:s,srchType:r?"cntct":i,query:r?n:a},(0,d.u9)(e,"i13nModel.actionData",{}))}function P(e){const{value:t}=e,s={[l.EsZ.NO]:"none",[l.EsZ.RIGHT]:"vrtcl",[l.EsZ.BOTTOM]:"hrztl"};if(s[t])return{setTo:s[t]}}function b(e){const{value:t}=e,s={[l.Ds1.SLIM]:"slm",[l.Ds1.NORMAL]:"rglr",[l.Ds1.RELAXED]:"rlxd"};if(s[t])return{setTo:s[t]}}function y(e){const{value:t}=e;return{setTo:t?"true":"false"}}function v({messageId:e,i13nModel:{mKey:t="",sec:s="",actionData:a={}}={},recommendations:n=!1}={},r){if(e){const{getMessagesSelectors:o,getCouponsSelectors:i}=(0,E.selectors)(r),{getParentMessageIdForCardConversationId:l}=o(),{isSingleCouponParentMessageId:d,getCardConversationId:_,getUnusualDiscount:u,getFromAddress:m,doesDealExist:S}=i();if(!S(e))return{};const p=_(e),C=u(e),A=n?l(p):"",{email:T=""}=m(e),I=n&&t===c.JE.COUPON_CLIPPED&&s===c.nJ.MSG_BODY&&d(A);if(C){const[,t]=T.split("@");return{ccid:p,sndr:t,cardMid:e,parentMid:A,...a}}return{...a,ccid:p,fromEmail:T,cardMid:e,parentMid:A,recommendationsEligible:I}}return{}}function F(e){const{files:t}=e,s=[],a=[];return t.forEach((e=>{const t=e.type.split("/");let r;r=t.length>1?(0,n.SA)(t[0],t[1]):(0,n.SA)(e.type,e.subtype),s.push(r),a.push(e.size)})),{attmTypes:s,attmSizes:a}}function U(e,t){const{getMessagesSelectors:s,doesMessageGroupIdExist:a,getMessageIdsFromMessageGroupId:n}=(0,E.selectors)(t),{getDecos:r,doesMessageIdExist:o}=s();if(!e||!e.streamItem)return{};const{groupId:i}=e.streamItem;if(!o(i)&&!a(i))return{};const l=a(i)?n(i):[i],c={},d=[];l.forEach((e=>{r(e).forEach((e=>c[e.id]=e.id))}));for(const _ in c)d.push(c[_]);return{mailDecos:d}}function k(e,t){const{isFeatureEnabled:s}=(0,E.selectors)(t),a=(0,d.u9)(e,"i13nModel.actionData",{});return s(l.ANe.CLICK_URL_LOGGING)?a:{...a,mHref:null}}function w(e,t){const s=(0,d.u9)(e,"i13nModel.actionData",{}),{getListsSelectors:a}=(0,E.selectors)(t),{isListExpanded:n}=a();return{...s,listId:e.listId,isExpanding:n(e.listId)}}function G(e,t){const{getRoute:s,getListsSelectors:a}=(0,E.selectors)(t),{getItemIdsSelectors:n,doesListExist:r,getListStatus:c}=a(),d=e.listId||(0,o.LY)(s()),_=(0,o.WN)(d),u={};if(d&&(0,o.GG)(d)){const e=(0,o.tr)(d);Object.assign(u,{srchQry:e,srchType:(0,o.lG)(d)?"cntct":"kwrd"})}if(!d||!r(d)||c(d)!==l.DAQ.LOADED)return Object.assign(u,{listIsLoading:!0});const p=(n(d).getItemIds()||[]).slice(0,10);let C;switch(_){case l.F6k.TRAVEL_CARDS:case l.F6k.MESSAGES:C=(S({messageGroupIds:p},t)||[]).slice(0,m);break;case l.F6k.ATTACHMENTS:case l.F6k.DOCUMENTS:case l.F6k.IMAGES:C=p.map(i.b1).slice(0,m);break;case l.F6k.COUPON_CARDS:{const{getCouponsSelectors:e,getMessagesSelectors:s,getCardMessageToSchemasSelectors:a}=(0,E.selectors)(t),{getParentMessageIdForCardConversationId:n}=s(),{getCardConversationId:r}=e(),{getSchemas:o}=a();C=p.map((e=>{var t;const s=o(e).filter((e=>e.type===l.rgK.Coupon)),a=(null==s||null===(t=s[0])||void 0===t?void 0:t.id)||"",i=a&&r(a)||"";return i&&n(i)||""})).filter(Boolean).slice(0,m);break}case l.F6k.REFUND_CARDS:C=p}return C&&Object.assign(u,{msgId:C.join(",")}),u}function H(e,t){var s;const{messageId:n,brandId:r="",email:o}=e,{doesBrandExist:i,getSortOrder:c,getCurrentListFilter:d,getBrandName:_,getBrandSubscriptions:E}=(0,u.selectors)(t[u.key]);if(n)return{msgId:n,senderDomain:(0,a.isValidEmail)(o)?[(0,a.destructEmailAddressParts)(o).domainPart]:[]};if(!i(r))return{};const m=E(r),S=m.reduce(((e,t)=>{const s=t.domain;return-1===e.indexOf(s)&&e.push(s),e}),[]);return{brandName:_(r)||"",sortBy:d()&&c(d())||l.Asd.RELEVANCE,tab:"active"===(null===(s=m[0])||void 0===s?void 0:s.status)?"Active":"Unsubscribe",subId:m.map((e=>e.subid)).join(","),logInfo:m.map((e=>e.meta)).join(","),senderDomain:S}}function B(e,t){const{messageId:s=""}=e,{getMessagesFolderIdSelectors:a,doesMessageIdExist:n,getCardConversationIdByMessageId:r}=(0,E.selectors)(t),{getFolderId:o}=a(),i=s&&o(s),l=n(s)?r(s):null;return{msgId:s,fldr:C(e,t,i),ccid:l||""}}function x(e,t){const{doesMessageIdExist:s,getCardConversationIdByMessageId:a}=(0,E.selectors)(t),{streamItems:n=[],i13nModel:{mKey:r=""}={},folderId:o=""}=e,i=(S({messageGroupIds:n.filter((({id:e,listId:t,firstMessageId:s})=>e&&t&&s)).map((({id:e})=>e))},t)||[]).slice(0,m),l=e=>s(e)?a(e):"",d={msgId:i.join(",")};return r===c.JE.FOLDER_CONTEXTMENU_ALL_READ||r===c.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE?Object.assign(d,{fldr:C(e,t,o)||""}):Object.assign(d,{ccid:i.map(l).join(",")}),d}const V={[c.fS.SEARCH_SUGGESTION]:function(e,t){const{query:s,suggestions:a}=e,{getImportantContactsSelectors:n,getRecentSearchesSelectors:r,isFeatureEnabled:o,getEnvironmentSelectors:i}=(0,E.selectors)(t),{getImportantContacts:c}=n(),d=c(),{getRecentSearches:u}=r(),m=u(),S=(0,_.$o)(a,d,m,s,i().getPartner(),o(l.ANe.SHOW_RECENT_SUGGESTIONS),o(l.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS)).reduce(((e,t)=>(t.hasOwnProperty("type")&&(e[t.type]?e[t.type]++:e[t.type]=1),e)),{});return{query:s,people:S[l.sWL.PERSON]||0,keyword:S[l.sWL.KEYWORD]||0,recent:0}},[c.fS.SEARCH_ZERO_RESULTS]:M,[c.JE.MSG_SMART_REPLY]:function(e,t){const{doesMessageGroupIdExist:s,getMessageIdsFromMessageGroupId:a}=(0,E.selectors)(t);if(!s(e.messageGroupId))return{};const n=a(e.messageGroupId)||[],r=n&&n.length?n[n.length-1]:"";return{numMsg:n.length,msgId:e.messageId||r}},[c.JE.TOOLBAR_SELECTALL_MSG]:A,[c.JE.TOOLBAR_SELECT_NONE]:A,[c.JE.TOOLBAR_BULK_CONTEXT_ALL]:A,[c.JE.TOOLBAR_BULK_CONTEXT_NONE]:A,[c.JE.TOOLBAR_BULK_CONTEXT_READ]:A,[c.JE.TOOLBAR_BULK_CONTEXT_UNREAD]:A,[c.JE.TOOLBAR_BULK_CONTEXT_STARRED]:A,[c.JE.TOOLBAR_BULK_CONTEXT_UNSTARRED]:A,[c.JE.UNDO_DELETE_ACTION]:R,[c.JE.UNDO_ARCHIVE_ACTION]:R,[c.JE.UNDO_MOVE_ACTION]:R,[c.JE.SEARCH_BUTTON]:M,[c.JE.ADVANCED_SEARCH_BUTTON]:M,[c.JE.CONTACT_SEARCH]:M,[c.JE.SUBJECT_SEARCH]:M,[c.JE.SEARCH_PEOPLE_SUGGEST]:M,[c.JE.SEARCH_KWRD_SUGGEST]:M,[c.JE.SEARCH_RECENT_SUGGEST]:M,[c.JE.SETTINGS_POPUP_PREVIEW_PANE]:P,[c.JE.SETTINGS_PREVIEW_PANE]:P,[c.JE.SETTINGS_POPUP_MSG_LIST_DENSITY]:b,[c.JE.SETTINGS_MSG_LIST_DENSITY]:b,[c.JE.SETTINGS_POPUP_TAB_SETTING]:y,[c.JE.SETTINGS_TAB_SETTING]:y,[c.JE.SETTINGS_POPUP_SNIPPET]:y,[c.JE.SETTINGS_SNIPPET]:y,[c.JE.SETTINGS_BLOCK_IMAGES]:y,[c.JE.SETTINGS_NOTIFICATIONS]:y,[c.JE.SETTINGS_CONVERSATION]:y,[c.JE.SETTINGS_AUTOMATIC_REPLY]:function({value:e}){const{enabled:t}=e;return{setTo:t?"true":"false"}},[c.JE.BLOCK_SENDERS_SUBMIT]:function(e){const{deleteItemsFromSenders:t}=e;return{deleteItemsFromSenders:t?t.length:0}},[c.JE.SEND]:function(e,t){const{to:s=[],cc:a=[],bcc:n=[],csid:r,attachmentsInfo:o=[],stationeryTheme:i=""}=e,{isReplyMessage:l,isReplyAllMessage:c,isForwardMessage:d,getInForwardToMessageId:_}=(0,E.selectors)(t),u=_(r),m=!!i;return{sttnry:m,to:s?s.length:0,cc:a?a.length:0,bcc:n?n.length:0,mid:u||"",compType:l(r)||c(r)||d(r)?"inline":"comp",numAttchmts:o.length,sizeAttchmts:o.reduce(((e,{size:t})=>e+t),0),...m&&{sttnryId:i}}},[c.JE.COMPOSE_ADD_ATTACHMENT]:F,[c.JE.COMPOSE_DRAG_ATTACHMENT]:F,[c.JE.UNUSUAL_DISCOUNT_COUPON_CLIPPED]:v,[c.JE.COUPON_CLIPPED]:v,[c.JE.COUPON_UNCLIPPED]:v,[c.JE.AUTHORIZE_IMAP_ACCOUNT]:function(e){const{email:t,provider:s}=e;return{prvdr:s||(0,r.tO)(t)}},[c.JE.COUPON_OPENED]:U,[c.JE.RECEIPT_OPENED]:U,[c.JE.TRAVEL_READ_MSG]:U,[c.JE.LINK_ENHANCER_MOVE_LINK_INLINE]:k,[c.JE.LINK_ENHANCER_ADD_LINK]:k,[c.JE.LINK_ENHANCER_RESIZE_LINK]:k,[c.JE.LINK_ENHANCER_REMOVE_LINK]:k,[c.JE.LINK_ENHANCER_MOVE_LINK_BOTTOM]:k,[c.JE.LINK_ENHANCER_SHARE_LINK]:k,[c.JE.TOGGLE_LIST_VISIBILITY]:w,[c.JE.TOOLBAR_DELETE]:T,[c.JE.MSG_LIST_DEL]:T,[c.JE.MSG_DELETE]:T,[c.JE.TOOLBAR_MOVE]:I,[c.JE.DRAG_DROP_MOVE]:I,[c.JE.TOOLBAR_RESTORE]:I,[c.JE.MSG_LIST_MV_INBOX]:I,[c.JE.TOOLBAR_ARCHIVE]:h,[c.JE.MSG_LIST_ARCHIVE]:h,[c.JE.MSG_ARCHIVE]:h,[c.JE.TOOLBAR_FORWARD]:g,[c.JE.MSG_FORWARD]:g,[c.JE.QUICK_FORWARD]:g,[c.JE.TOOLBAR_REPLY]:O,[c.JE.QUICK_REPLY]:O,[c.JE.MSG_REPLY]:O,[c.JE.TOOLBAR_REPLYALL]:O,[c.JE.QUICK_REPLYALL]:O,[c.JE.MSG_REPLY_ALL]:O,[c.JE.OPEN_LINK]:f,[c.JE.LINK_ENHANCER_OPEN_LINK]:f,[c.JE.TOGGLE_LIST_VISIBILITY]:w,[c.JE.UNREAD_SMARTVIEW]:G,[c.JE.STARRED_SMARTVIEW]:G,[c.JE.PHOTO_SMARTVIEW]:G,[c.JE.DOCUMENT_SMARTVIEW]:G,[c.JE.COUPONS_SMARTVIEW]:G,[c.JE.ATTACHMENTS_SMARTVIEW]:G,[c.JE.INBOX_FOLDER]:G,[c.JE.DRAFT_FOLDER]:G,[c.JE.SENT_FOLDER]:G,[c.JE.ARCHIVE_FOLDER]:G,[c.JE.BULK_FOLDER]:G,[c.JE.TRASH_FOLDER]:G,[c.JE.USER_FOLDER]:G,[c.JE.ATTACHMENT_VIEW_DOCUMENTS]:G,[c.JE.ATTACHMENT_VIEW_IMAGES]:G,[c.JE.ATTACHMENT_VIEW_MESSAGES]:G,[c.JE.TRAVEL_SMARTVIEW]:G,[c.JE.RECEIPTS_SMARTVIEW]:G,[c.JE.SUBSCRIPTIONS_SMARTVIEW]:G,[c.JE.ATTACHMENTS_SMARTVIEW]:G,[c.JE.CONTACTS_FULL_PANE_SMARTVIEW]:G,[c.JE.NEWMAIL]:G,[c.JE.OLDMAIL]:G,[c.JE.STOREFRONT_SMARTVIEW]:G,[c.JE.EMAILS_TO_MYSELF_SMARTVIEW]:G,[c.JE.TOOLBAR_MARK_READ]:D,[c.JE.MARK_MSG_READ]:D,[c.JE.MSG_GRP_HDR_MARK_READ]:D,[c.JE.MSG_HDR_MARK_READ]:D,[c.JE.TOOLBAR_MARK_UNREAD]:D,[c.JE.MARK_MSG_UNREAD]:D,[c.JE.MSG_HDR_MARK_UNREAD]:D,[c.JE.MSG_GRP_HDR_MARK_UNREAD]:D,[c.JE.TOOLBAR_MARK_STARRED]:D,[c.JE.MARK_MSG_STARRED]:D,[c.JE.MSG_HDR_MARK_STAR]:D,[c.JE.MSG_GRP_HDR_MARK_STAR]:D,[c.JE.TOOLBAR_MARK_UNSTARRED]:D,[c.JE.MSG_HDR_MARK_UNSTAR]:D,[c.JE.MSG_GRP_HDR_MARK_UNSTAR]:D,[c.JE.MARK_MSG_UNSTARRED]:D,[c.JE.TOOLBAR_SPAM]:D,[c.JE.PHISHING_BANNER_SPAM]:D,[c.JE.SPAM_UNSUB_DIALOG_SPAM]:D,[c.JE.TOOLBAR_NOT_SPAM]:D,[c.JE.PHISHING_BANNER_NOT_SPAM]:D,[c.JE.OPEN_MSG]:L,[c.JE.RIGHT_RAIL_MSG_OPEN]:L,[c.JE.DOC_READ_MSG]:L,[c.JE.PHOTO_READ_MSG]:L,[c.JE.ATTACHMENT_LIGHTBOX_DOCUMENT_MSG]:L,[c.JE.ATTACHMENT_LIGHTBOX_IMAGE_MSG]:L,[c.JE.PHOTO_DELETE_PREVIEW_READ_MSG]:L,[c.JE.DOC_DELETE_PREVIEW_READ_MSG]:L,[c.JE.TRAVEL_READ_MSG]:L,[c.JE.SEND_MSG]:function(e){const{message:t}=e;return{msgId:(null==t?void 0:t.id)||""}},[c.JE.ADD_FOLDER]:function(e){return{newFldr:e.folderName||""}},[c.JE.FOLDER_CONTEXTMENU_DELETE]:function(e){return{fldr:e.folderName||""}},[c.JE.FOLDER_CONTEXTMENU_RENAME]:function(e){const{originalFolderName:t,newFolderName:s}=e;return{fldr:t||"",newFldr:s||""}},[c.JE.PHOTO_DOWNLOAD]:N,[c.JE.DOWNLOAD_ATTACHMENT]:N,[c.JE.ATTACHMENT_PREVIEW_DOCUMENT_DOWNLOAD]:N,[c.JE.ATTACHMENT_PREVIEW_IMAGE_DOWNLOAD]:N,[c.JE.ATTACHMENT_LIGHTBOX_DOCUMENT_DOWNLOAD]:N,[c.JE.ATTACHMENT_LIGHTBOX_IMAGE_DOWNLOAD]:N,[c.JE.INLINE_IMAGE_DOWNLOAD]:N,[c.JE.DOWNLOAD_ATTACHMENT_ALL]:function({attachments:e=[]}){return e.map((({id:e})=>({msgId:e&&(0,i.b1)(e)}))).slice(-10)},[c.JE.ATTACHMENT_PRINT]:N,[c.JE.TOOLBAR_UNSUBSCRIBE]:H,[c.JE.UNSUB_CONFIRM]:H,[c.JE.SPAM_UNSUB_DIALOG_UNSUB]:H,[c.JE.TOOLBAR_PRINT]:B,[c.JE.MSG_HDR_PRINT]:B,[c.JE.FOLDER_CONTEXTMENU_ALL_DELETE]:x,[c.JE.FOLDER_CONTEXTMENU_EMPTY]:x,[c.JE.FOLDER_CONTEXTMENU_ALL_READ]:x,[c.JE.FOLDER_CONTEXTMENU_ALL_ARCHIVE]:x,[c.JE.FOLDER_EMPTY]:x};var Z=s(11282);const W=s.n(Z)().create("norrin/i13n_client");var K=s(99839),z=s(30155),Y=s(63352);const j={init(e){if("undefined"==typeof window)return;const t=window,s=t.rapidInstance;t.Y=t.YAHOO||{},t.Y.i13n=t.Y.i13n||{};const a=Object.assign({},e.rapid);if(a&&(a.pageview_on_init=!1),t.Y.i13n.Rapid){if(!s)try{t.rapidInstance=new t.Y.i13n.Rapid(a)}catch(n){const e=new z.H(n);K.Z.error("Rapid init error",{rapidConfig:a,name:n.name||"",message:n.message||"",stack:e.toString()})}}else K.Z.error("Rapid is not loaded");return t.rapidInstance},getRapidInstance:()=>"undefined"!=typeof window&&void 0!==window.rapidInstance&&window.rapidInstance,sendI13nModel(e,t=null,s=!1){const a=Object.assign({},e.i13nModel),n=V[a.mKey];if(t){const{getSelectedAccountId:e=(()=>{})}=(0,E.selectors)(t);a.accountId=e(),a.usergenef=1,a.flowSource=function({mKeyGroup:e=""}={}){const t=[c.rO.replyMsg,c.rO.replyAllMsg,c.rO.forwardMsg,c.rO.composeMsg,c.rO.sendMsg];return e&&-1!==t.indexOf(e)?c.w6.COMPOSE_FLOW:""}(a),a.listName=function(e){const{getRoute:t,doesFolderIdExist:s,getFolderDisplayTypeByFolderId:a,getSmartViewTypeFromListId:n}=(0,E.selectors)(e),r=t(),i=r&&(0,o.LY)(r),d=i&&(0,o.WN)(i),_=i&&(d===l.F6k.SUBSCRIPTIONS||(0,o.GG)(i));let u="";if(_){let e=n(i);d===l.F6k.SUBSCRIPTIONS&&(e=l.K8C.SUBSCRIPTIONS),u=c.wM[e]}else{const e=i&&(0,o.Fh)(i),t=e&&s(e)&&a(e);u=c.wM[t]}!r||r.name!==l.n8z.NEW_DRAFT&&r.name!==l.n8z.EDIT_DRAFT&&r.name!==l.n8z.SEARCH||(u=c.wM[r.name]);-1===Object.values(c.wM).indexOf(u)&&(u=c.wM.INBOX);return u}(t)}"function"==typeof n&&(a.actionData=Object.assign({},a.actionData,n.call(this,e,t))),s&&a.mKeyGroup!==c.rO.search&&a.sec!==c.nJ.FEATURE_CUE&&(a.mKey="SRP_"+a.mKey),function({mKey:e,sec:t,mKeyGroup:s,actionData:a={},interactionType:n=c.Rb.click,flowSource:r=null,accountId:o=null,usergenef:i=null,listName:_=null}={}){if(!t||!e)return;if(s===c.rO.listing&&(a.listIsLoading||!a.msgId))return;c.Rb[n]||(n=c.Rb.click);const{mHref:E,...u}=a,m={mKey:e,mHref:E?E.slice(0,290):null,intrctn:n,coreActn:s||null,actnData:(0,d.xb)(u)?null:JSON.stringify(u),flowSrc:r,accountId:o,usergenef:i,list_name:_},S=W.feature(l.BrN.RapidClient,Object.assign({},{sec:t},m)),p=j.getRapidInstance();p?(S.logSuccess(),p.beaconClick(t,null,0,m)):S.logFailure()}(a)},sendBeaconEvent(e,t){const{i13nModel:s}=e,a=V[s.eventName];"function"==typeof a&&(s.pageParams=a.call(this,e,t),s.pageParams.etrg=s.etrg),function({eventName:e,pageParams:t,outcome:s}){const a={eventName:e,outcome:s},n=W.feature(l.BrN.RapidClient,a),r=j.getRapidInstance();r?(n.logSuccess(),r.beaconEvent(e,t,s)):n.logFailure()}(s)}},q=j;function X(e){return(0,Y.Z)(e,"the section id doesn't exist"),function(t){(0,Y.Z)(t,"expected a payload containg at least a mKey");const{mKey:s,event:n,...r}=t;return(0,Y.Z)(s,"mKey can't be undefined. Check typo or define it in constants"),{i13nModel:{...r,mKey:s,sec:e,interactionType:n?(0,a.getInteractionFromEvent)(n):c.Rb.click}}}}},50566:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ABOUT_OUR_ADS_PAGE_REQUESTED:()=>Mo,ABOUT_YAHOO_MAIL_PAGE_REQUESTED:()=>Ro,ABP_DETECTED:()=>Wd,ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED:()=>Vo,ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED:()=>xo,ACCOUNT_ADD_AUTHORIZED:()=>si,ACCOUNT_ADD_ERROR:()=>Qo,ACCOUNT_ADD_FAILED:()=>qo,ACCOUNT_ADD_FINISHED:()=>Xo,ACCOUNT_ADD_REQUESTED:()=>zo,ACCOUNT_ADD_SELECT_PROVIDER:()=>ei,ACCOUNT_ADD_SUCCEEDED:()=>Yo,ACCOUNT_ADD_WIZARD_OPENED:()=>$o,ACCOUNT_DELETE_CONFIRMED:()=>ti,ACCOUNT_DELETE_FAILED:()=>Ko,ACCOUNT_DELETE_REQUESTED:()=>Zo,ACCOUNT_DELETE_SUCCEEDED:()=>Wo,ACCOUNT_DETAILS_CHANGE_FAILED:()=>Bo,ACCOUNT_DETAILS_CHANGE_REQUESTED:()=>Go,ACCOUNT_DETAILS_CHANGE_SUCCEEDED:()=>Ho,ACCOUNT_MENU_SHOWN:()=>p,ACCOUNT_REAUTH_FAILED:()=>di,ACCOUNT_REAUTH_REQUESTED:()=>li,ACCOUNT_REAUTH_SUCCEEDED:()=>ci,ACCOUNT_SETTINGS_CANCEL:()=>Jo,ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED:()=>ie,ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED:()=>re,ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED:()=>oe,ADBLOCK_BEACON_FAILED:()=>Zd,ADBLOCK_DETECTED:()=>Vd,ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED:()=>Bd,ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED:()=>Hd,ADBLOCK_UPSELL_OPTION_CLICKED:()=>xd,ADD_BIG_ATTACHMENT:()=>hs,ADD_COMPOSE_HEADER:()=>BE,ADD_TO_CONTACTS:()=>Ol,ADFREE_MAIL_PAGE_REQUESTED:()=>No,ADFREE_UPSELL_ACCEPT:()=>dt,ADFREE_UPSELL_CANCEL:()=>_t,AD_FAILED:()=>ze,AD_FALLBACK_CLICKED:()=>Xe,AD_FEEDBACK_CLICKED:()=>it,AD_FEEDBACK_CLOSED:()=>et,AD_FEEDBACK_STARTED:()=>Je,AD_FEEDBACK_SUBMITTED:()=>$e,AD_RECEIVED:()=>Ke,AD_REPORTER_CLICKED:()=>fm,AD_ROTATION_SKIPPED:()=>we,AFFILIATE_OFFERS_FAILED:()=>td,AFFILIATE_OFFERS_REQUESTED:()=>sd,AFFILIATE_OFFERS_SUCCEEDED:()=>ad,AI_COMPOSER_DISMISS_ERROR:()=>nS,AI_COMPOSER_INITIALIZED:()=>tS,AI_COMPOSER_NOTIFY_ERROR:()=>aS,AI_COMPOSER_UPDATE_VIEW:()=>sS,ALIAS_EMAIL_CREATE_FAILED:()=>Hi,ALIAS_EMAIL_CREATE_REQUESTED:()=>wi,ALIAS_EMAIL_CREATE_SUCCEEDED:()=>Gi,ALL_ATTACHMENTS_DOWNLOADED:()=>Ia,ALL_STREAM_ITEMS_SELECTED:()=>wa,ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:()=>Ga,AOL_SETTINGS_MIGRATION_FAILED:()=>vr,AOL_SETTINGS_MIGRATION_INITIATED:()=>br,AOL_SETTINGS_MIGRATION_SUCCEEDED:()=>yr,APPLICATION_VISIBILITY_DID_CHANGE:()=>l,APP_BANNER_SHOWN:()=>Yl,APP_INSTALL_CUE_CONTINUE:()=>Kl,APP_INSTALL_CUE_INVOKED:()=>zl,APP_LOAD_COMPLETED:()=>r,ASTRA_BATCH_API_FAILED:()=>wd,ASTRA_BATCH_API_SUCCEEDED:()=>Gd,ATHENA_ADBLOCKER_SIGNAL_DETECTED:()=>Mm,ATTACHMENT_DOWNLOADED:()=>Ta,ATTACHMENT_MOVED_TO_INLINE:()=>Da,ATTACHMENT_OPENED:()=>Vn,ATTACHMENT_PREVIEW_FAILED:()=>js,ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN:()=>xn,ATTACHMENT_REMOVED:()=>Aa,ATTACHMENT_STATE_UPDATED:()=>Qt,ATTACHMENT_ZOOMED:()=>Zn,ATTACH_FILES_MENU_ITEM_CLICKED:()=>Nu,AUTOTAG_CONTACT_SELECTED:()=>Wt,AUTOTAG_DROPDOWN_CLOSED:()=>zt,AUTOTAG_DROPDOWN_SHOWN:()=>Zt,BLOCK_SENDERS_REQUESTED:()=>Rn,BLOCK_SENDERS_WITH_DELETE_REQUESTED:()=>Nn,BOOKING_CARD_RENDERED:()=>pc,BREAKING_NEWS_CLICKED:()=>$E,BREAKING_NEWS_DISMISSED:()=>QE,BREAKING_NEWS_FAILED:()=>XE,BREAKING_NEWS_REFRESH:()=>JE,BREAKING_NEWS_RENDERED:()=>eu,BREAKING_NEWS_SUCCESS:()=>qE,BROWSER_NOTIFICATIONS_DISPLAYED:()=>ro,BULK_CANCEL_FAILED:()=>co,BULK_CANCEL_REQUESTED:()=>lo,BULK_PROGRESS_INITIATED:()=>oo,BULK_PROGRESS_RECEIVED:()=>io,CANCEL_APP_RELOAD:()=>c,CAPTCHA_BEGAN:()=>En,CARD_CLOSED:()=>no,CARD_MARK_AS_SHOWN_REQUESTED:()=>so,CARD_TRY_NOW_REQUESTED:()=>ao,CATEGORY_FOLLOW_FAILED:()=>Qc,CATEGORY_FOLLOW_FAILURE_RESET:()=>ed,CATEGORY_FOLLOW_REQUESTED:()=>jc,CATEGORY_FOLLOW_SUCCEEDED:()=>Xc,CATEGORY_LIST_EXPANSION_TOGGLED:()=>__,CATEGORY_UNFOLLOW_FAILED:()=>$c,CATEGORY_UNFOLLOW_REQUESTED:()=>qc,CATEGORY_UNFOLLOW_SUCCEEDED:()=>Jc,CC_BCC_TOGGLED:()=>Zl,CHANGE_FOLDER_FAILED:()=>Xa,CHANGE_FOLDER_SUCCEEDED:()=>qa,CHANGE_NOTEBOOKS_SECTION_VIEW:()=>MS,CHANGE_NOTES_PANE_SECTION:()=>_S,CHANGE_NOTES_PANE_VIEW:()=>dS,CHANGE_TODOS_PANE_FILTER:()=>Rm,CHANGE_TODOS_PANE_VIEW:()=>Nm,CHANNELS_FETCH_REQUESTED:()=>sl,CHANNEL_CHANGED:()=>$i,CHANNEL_FETCH_REQUESTED:()=>rl,CHECK_MAIL_FAILED:()=>Qs,CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:()=>Xs,CHECK_MAIL_RECEIVED_WITH_UPDATES:()=>qs,CHECK_NUDGE_AND_SMART_REPLY_FAILED:()=>ja,CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:()=>Ya,CLEAR_FORWARDED_ATTACHMENT_IDS:()=>WE,CLOSE_ALL_PAGES_REQUESTED:()=>D,CLOSE_COMPACT_COMPOSE:()=>Ot,CLOSE_MAIL_PLUS_FEATURE_UPSELL:()=>tc,CLOSE_PAGE_REQUESTED:()=>O,CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:()=>pu,CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:()=>Su,CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:()=>_u,CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:()=>cu,CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:()=>du,CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED:()=>mu,CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED:()=>Eu,CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:()=>uu,CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:()=>hu,CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:()=>Iu,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:()=>Tu,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:()=>Cu,CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:()=>Au,CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED:()=>Ru,CLOUD_STORAGE_ITEM_LINK_ADDED:()=>Lu,CLOUD_STORAGE_ITEM_PERMISSION_UPDATED:()=>Mu,CLOUD_STORAGE_ITEM_PREVIEW_CLICKED:()=>fu,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:()=>Du,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:()=>Ou,CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:()=>gu,COMBINE_DEALS_FAILED:()=>Nd,COMBINE_DEALS_SUCCEEDED:()=>Rd,COMPOSE_ADDRESSING_FAILED:()=>_s,COMPOSE_ATTRIBUTES_FETCH_FAILED:()=>mE,COMPOSE_ATTRIBUTES_RECEIVED:()=>uE,COMPOSE_ATTRIBUTES_REQUESTED:()=>EE,COMPOSE_CLOSED:()=>Vt,COMPOSE_FONT_FAMILY_CHANGE_FAILED:()=>ge,COMPOSE_FONT_FAMILY_CHANGE_REQUESTED:()=>Ie,COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED:()=>he,COMPOSE_FONT_SIZE_CHANGE_FAILED:()=>Te,COMPOSE_FONT_SIZE_CHANGE_REQUESTED:()=>Ce,COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED:()=>Ae,COMPOSE_INVALID_MESSAGE_OPENED:()=>us,COMPOSE_NO_ADDRESS_DETECTED:()=>cs,COMPOSE_OPENED:()=>xt,COMPOSE_RECIPIENT_LIMIT_EXCEEDED:()=>ds,CONFIRM_APP_RELOAD:()=>d,CONFIRM_DELETE_DIALOG_CLOSED:()=>Cs,CONFIRM_EMAIL_RESEND_FAILED:()=>ri,CONFIRM_EMAIL_RESEND_REQUESTED:()=>ai,CONFIRM_EMAIL_RESEND_SUCCEEDED:()=>ni,CONTACTS_CATEGORY_FILTER_CHANGED:()=>h_,CONTACTS_CSV_IMPORT_FAILED:()=>z_,CONTACTS_CSV_IMPORT_REQUESTED:()=>W_,CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY:()=>K_,CONTACTS_CSV_IMPORT_SIZE_FAILED:()=>Y_,CONTACTS_FULL_PANE_CONTRACTED:()=>n_,CONTACTS_FULL_PANE_OPENED:()=>a_,CONTACTS_GROUP_DELETE_FAILED:()=>F_,CONTACTS_GROUP_DELETE_REQUESTED:()=>b_,CONTACTS_GROUP_DELETE_SUCCEEDED:()=>v_,CONTACTS_GROUP_EDIT_EMAIL_SEARCH:()=>y_,CONTACTS_GROUP_FETCH_FAILED:()=>d_,CONTACTS_GROUP_FETCH_SUCCEEDED:()=>c_,CONTACTS_LIST_FETCH_FAILED:()=>l_,CONTACTS_LIST_FETCH_SUCCEEDED:()=>i_,CONTACTS_PANE_BACK_BUTTON_CLICKED:()=>u_,CONTACTS_PANE_CONTACT_CLICKED:()=>E_,CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED:()=>S_,CONTACTS_PANE_CREATE_GROUP_FAILED:()=>f_,CONTACTS_PANE_CREATE_GROUP_REQUESTED:()=>O_,CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:()=>L_,CONTACTS_PANE_EDIT_BUTTON_CLICKED:()=>m_,CONTACTS_PANE_EDIT_GROUP:()=>P_,CONTACTS_PANE_GROUP_CHANGED:()=>M_,CONTACTS_PANE_LIST_FILTER_CHANGED:()=>o_,CONTACTS_PANE_SAVE_GROUP_FAILED:()=>N_,CONTACTS_PANE_SAVE_GROUP_REQUESTED:()=>D_,CONTACTS_PANE_SAVE_GROUP_SUCCEEDED:()=>R_,CONTACTS_PANE_SEARCHED:()=>C_,CONTACTS_PROVIDERS_STATUS_FETCH_FAILED:()=>Mi,CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:()=>fi,CONTACTS_RESTORE_CLICKED:()=>g_,CONTACTS_RESTORE_FAILED:()=>Z_,CONTACTS_RESTORE_REQUESTED:()=>x_,CONTACTS_RESTORE_SUCCEEDED:()=>V_,CONTACTS_SNAPSHOT_FETCH_FAILED:()=>B_,CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:()=>H_,CONTACTS_SORT_ORDER_CHANGED:()=>I_,CONTACT_ADDED:()=>ls,CONTACT_CREATE_CLICKED:()=>A_,CONTACT_DETAIL_FETCH_FAILED:()=>Hr,CONTACT_DETAIL_FETCH_REQUESTED:()=>wr,CONTACT_DETAIL_FETCH_SUCCEEDED:()=>Gr,CONTACT_DRAG_DROP:()=>Pl,CONTACT_EDIT_CANCELLED:()=>p_,CONTACT_PHOTO_UPLOAD_FAILED:()=>Cl,CONTACT_PHOTO_UPLOAD_SUCCEEDED:()=>pl,CONTACT_PICKER_GROUP_CHANGED:()=>El,CONTACT_PICKER_OPENED:()=>_l,CONTACT_SAVE_FAILED:()=>Sl,CONTACT_SAVE_REQUESTED:()=>ul,CONTACT_SAVE_SUCCEEDED:()=>ml,CONTACT_SEARCH_CLOSED:()=>T_,CONTACT_SUGGESTIONS_FAILED:()=>is,CONTACT_SUGGESTIONS_REQUESTED:()=>ss,CONTACT_SUGGESTIONS_SUCCEEDED:()=>as,CONVERSATIONS_CHANGE_FAILED:()=>j,CONVERSATIONS_CHANGE_REQUESTED:()=>z,CONVERSATIONS_CHANGE_SUCCEEDED:()=>Y,COUPONS_ADD_TAG_DECO_FAILED:()=>hc,COUPONS_ADD_TAG_DECO_REQUESTED:()=>Cc,COUPONS_ADD_TAG_DECO_SUCCEEDED:()=>Tc,COUPONS_LIST_FAILED:()=>xc,COUPONS_LIST_SUCCEEDED:()=>Bc,COUPONS_REMOVE_TAG_DECO_FAILED:()=>gc,COUPONS_REMOVE_TAG_DECO_REQUESTED:()=>Ac,COUPONS_REMOVE_TAG_DECO_SUCCEEDED:()=>Ic,COUPONS_SEARCH_TOP_DEAL_CLICKED:()=>iE,COUPON_ICON_MSG_LIST_CLICKED:()=>Ua,COUPON_RECOMMENDATIONS_AD_CLICKED:()=>Uc,COUPON_RECOMMENDATIONS_CLOSED:()=>Fc,COUPON_RECOMMENDATIONS_OPENED:()=>vc,CREATE_CONTACT_FAILED:()=>Al,CREATE_CONTACT_SUCCEEDED:()=>Tl,CREATE_FOLDER_FAILED:()=>$a,CREATE_FOLDER_REQUESTED:()=>Qa,CREATE_FOLDER_SUCCEEDED:()=>Ja,CREATE_JOURNAL_FOLDER_FAILED:()=>RS,CREATE_JOURNAL_FOLDER_REQUESTED:()=>OS,CREATE_JOURNAL_FOLDER_SUCCEEDED:()=>DS,CREATE_NOTE_FAILED:()=>mS,CREATE_NOTE_REQUESTED:()=>ES,CREATE_NOTE_SUCCEEDED:()=>uS,CREATE_TODO_FAILED:()=>pm,CREATE_TODO_REQUESTED:()=>mm,CREATE_TODO_SUCCEEDED:()=>Sm,DEALS_SHOPPING_CART_AD_CLICKED:()=>YE,DEALS_SHOPPING_CART_AD_RENDERED:()=>ct,DEALS_VIEW_EXPANSION_TOGGLED:()=>Vc,DEAL_CARD_GROUP_SHOWN:()=>sc,DEFAULT_SENDING_ADDRESS_CHANGE_FAILED:()=>de,DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED:()=>le,DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED:()=>ce,DELETE_COMPOSE_HEADER:()=>xE,DELETE_CONTACT_FAILED:()=>gl,DELETE_CONTACT_REQUESTED:()=>Il,DELETE_CONTACT_SUCCEEDED:()=>hl,DELETE_CONTACT_SUGGESTIONS_FAILED:()=>os,DELETE_CONTACT_SUGGESTIONS_REQUESTED:()=>ns,DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:()=>rs,DELETE_DRAFT_FAILED:()=>$t,DELETE_DRAFT_SUCCEEDED:()=>Jt,DELETE_FOLDER_FAILED:()=>sn,DELETE_FOLDER_REQUESTED:()=>en,DELETE_FOLDER_SUCCEEDED:()=>tn,DELETE_ITEMS_FAILED:()=>Dn,DELETE_ITEMS_REQUESTED:()=>gn,DELETE_ITEMS_SUCCEEDED:()=>On,DELETE_JOURNAL_FOLDER_CANCEL_REQUESTED:()=>US,DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED:()=>bS,DELETE_JOURNAL_FOLDER_FAILED:()=>vS,DELETE_JOURNAL_FOLDER_NOW_REQUESTED:()=>FS,DELETE_JOURNAL_FOLDER_SUCCEEDED:()=>yS,DELETE_NON_EMPTY_FOLDER_REQUESTED:()=>_n,DELETE_NOTE_CANCEL_REQUESTED:()=>TS,DELETE_NOTE_DEFERRED_REQUESTED:()=>AS,DELETE_NOTE_FAILED:()=>gS,DELETE_NOTE_NOW_REQUESTED:()=>IS,DELETE_NOTE_SUCCEEDED:()=>hS,DELETE_PENCIL_AD:()=>nt,DELETE_PREVIEW_CLOSED:()=>sa,DELETE_PREVIEW_REQUESTED:()=>ta,DELETE_RECENT_SEARCH_FAILED:()=>Bn,DELETE_RECENT_SEARCH_REQUESTED:()=>Gn,DELETE_RECENT_SEARCH_SUCCEEDED:()=>Hn,DELETE_TODO_CANCEL_REQUESTED:()=>hm,DELETE_TODO_DEFERRED_REQUESTED:()=>Im,DELETE_TODO_FAILED:()=>Dm,DELETE_TODO_NOW_REQUESTED:()=>gm,DELETE_TODO_SUCCEEDED:()=>Om,DISABLED_FEATURE_BUTTON_HOVERED:()=>Oo,DISABLED_FEATURE_CLOSE_BUTTON_CLICKED:()=>Do,DISCONNECT_CONTACTS_PROVIDER_REQUESTED:()=>Li,DISPATCHER_UPSELL_FETCH_FAILED:()=>yE,DISPATCHER_UPSELL_FETCH_SUCCEEDED:()=>bE,DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:()=>yi,DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:()=>Pi,DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:()=>bi,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE:()=>Fi,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED:()=>ki,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:()=>vi,DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED:()=>Ui,DOCUMENT_FETCH_FAILED:()=>Kn,DOCUMENT_FETCH_REQUESTED:()=>zn,DOCUMENT_FETCH_SUCCEEDED:()=>Wn,DOWNLOAD_COMPLETED:()=>Co,DOWNLOAD_FAILED:()=>Ao,DOWNLOAD_REQUESTED:()=>po,DRAFT_SUBJECT_UPDATED:()=>ts,DRAWER_CLOSED:()=>Vl,DRAWER_OPENED:()=>xl,EDIT_COMPACT_COMPOSE_SUBJECT:()=>ht,EDIT_CONTACT_FROM_CARD:()=>Dl,EDIT_LIST_DROPDOWN_CONTACT_SELECTED:()=>Kt,EMAIL_PROVIDER_SELECTED:()=>jo,EMOJI_CATEGORY_CHANGED:()=>Ml,EMOJI_PICKER_CLOSED:()=>Ll,EMOJI_PICKER_OPENED:()=>fl,EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:()=>dl,EXCEPTION_OCCURRED:()=>ji,EXPANDED_FOLDERS_PREF_CHANGE_FAILED:()=>V,EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED:()=>B,EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED:()=>x,EXPAND_ACCOUNT_LIST:()=>H,EXPORT_ALL_CONTACTS_REQUESTED:()=>U_,EXTERNAL_LINK_CLICKED:()=>R,EXTRACT_COUPON_FAILED:()=>Kc,EXTRACT_COUPON_REQUESTED:()=>Zc,EXTRACT_COUPON_SUCCEEDED:()=>Wc,FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED:()=>yu,FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED:()=>Pu,FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:()=>bu,FEATURE_CLOSED:()=>eo,FEATURE_CUE_MARK_AS_CLOSE_FAILED:()=>$r,FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:()=>Jr,FEATURE_CUE_MARK_AS_SHOWN_FAILED:()=>jr,FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:()=>zr,FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:()=>Yr,FEATURE_CUE_MARK_AS_SUCCESS_FAILED:()=>Qr,FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:()=>Xr,FEATURE_CUE_NOTIFICATION_CLOSED:()=>to,FEATURE_DISABLED:()=>bl,FEATURE_ENABLED:()=>yl,FEATURE_TRY_NOW_REQUESTED:()=>qr,FEEDBACK_PANEL_GIVE_FEEDBACK:()=>Dt,FEEDBACK_SUBMITTED:()=>Po,FETCH_ALL_CONTACTS:()=>Rl,FETCH_ALL_CONTACTS_FAILED:()=>G_,FETCH_ALL_CONTACTS_SUCCESS:()=>w_,FETCH_ALL_NOTEBOOKS_AND_NOTES_FAILED:()=>cS,FETCH_ALL_NOTEBOOKS_AND_NOTES_REQUESTED:()=>iS,FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED:()=>lS,FETCH_ALL_TODOS_FAILED:()=>_m,FETCH_ALL_TODOS_REQUESTED:()=>cm,FETCH_ALL_TODOS_SUCCEEDED:()=>dm,FETCH_PRIMARY_ACCOUNT:()=>ii,FETCH_RAW_MESSAGE:()=>aE,FETCH_RAW_MESSAGE_FAILED:()=>rE,FETCH_RAW_MESSAGE_SUCCEEDED:()=>nE,FILE_ATTACHMENT_ADDED:()=>Ca,FLASH_SALE_AD_ENDED:()=>at,FOLDER_CONTEXT_MENU_REQUESTED:()=>dn,FORCE_OPTIN_DONE:()=>KE,FORWARD_ATTACHMENTS:()=>ZE,GEMINI_AD_FAILED:()=>je,GEMINI_AD_RECEIVED:()=>Ye,GEMINI_AD_REQUESTED:()=>qe,GEMINI_SPONSORED_ASSET_FAILED:()=>st,GEMINI_SPONSORED_ASSET_RECEIVED:()=>tt,GENERATE_MSG_FROM_PROMPT_FAILED:()=>Xm,GENERATE_MSG_FROM_PROMPT_REQUESTED:()=>jm,GENERATE_MSG_FROM_PROMPT_SUCCEEDED:()=>qm,GET_AFFILIATE_CRUMB_FAILED:()=>Fd,GET_AFFILIATE_CRUMB_SUCCEEDED:()=>vd,GET_INVITE_INFO_REQUESTED:()=>Fl,GET_WIDER_MAIL_EXTENSION_URL:()=>Et,GIF_CATEGORIES_CONTENT_FETCH_FAILED:()=>Ms,GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:()=>fs,GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:()=>Ns,GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD:()=>Ls,GIF_FETCHED:()=>gs,GIF_FETCH_FAILED:()=>Rs,GIF_FETCH_REQUESTED:()=>Os,GIF_FETCH_SUCCEEDED:()=>Ds,GPT_IFRAME_LOADED:()=>Pm,GPT_IFRAME_REMOUNT_REQUESTED:()=>ym,GPT_IFRAME_REMOUNT_SUCCEEDED:()=>vm,GPT_IFRAME_UBA_CLASSNAME_ADDED:()=>Fm,GPT_IFRAME_UNLOADED:()=>bm,HANDLE_RTE_TOOLBAR_ACTIONS:()=>ps,HEADER_NAVIGATION_SELECTED:()=>S,HELP_PAGE_REQUESTED:()=>Lo,HIDEAD_PREF_CHANGE_FAILED:()=>te,HIDEAD_PREF_CHANGE_REQUESTED:()=>$,HIDEAD_PREF_CHANGE_SUCCEEDED:()=>ee,HIDE_RIGHT_PANE_ADS:()=>Be,HOME_BUTTON_CLICKED:()=>A,IMPORTANT_CONTACTS_FETCH_FAILED:()=>xr,IMPORTANT_CONTACTS_FETCH_SUCCEEDED:()=>Br,IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:()=>Ni,INBOX_COMMERCE_FEATURE_CLICKED:()=>Ld,INITIAL_STATE:()=>a,INLINE_ATTACHMENT_MOVED_TO_TRAY:()=>Oa,INLINE_FILE_ATTACHMENT_ADDED:()=>ha,INLINE_FILE_ATTACHMENT_REMOVED:()=>ga,INLINE_IMAGES_TO_ATTACHMENT:()=>Ra,INVITEINFO_FETCH_FAILED:()=>Bl,INVITEINFO_FETCH_SUCCEEDED:()=>Hl,ITEMS_DRAG_STARTED:()=>Fa,ITEM_LIST_PAGE_SCROLLED:()=>La,JAC_AD_RENDERED:()=>Lm,KEY_DID_BIND:()=>St,KEY_DID_UNBIND:()=>Ct,KEY_DID_UPDATE:()=>pt,LASTPASS_FREETRIAL_UPSELL_SHOWN:()=>NE,LAUNCH_COMPLETED:()=>n,LAUNCH_ERROR:()=>E,LAUNCH_FAILED:()=>y,LAUNCH_PAGE_REQUESTED:()=>b,LEFT_NAV_RESIZED:()=>$u,LINK_ENHANCER_ADD_LINK:()=>Ne,LINK_ENHANCER_FETCH_FAILED:()=>Re,LINK_ENHANCER_FETCH_REQUESTED:()=>Oe,LINK_ENHANCER_FETCH_SUCCEEDED:()=>De,LINK_ENHANCER_MOVE_LINK_BOTTOM:()=>be,LINK_ENHANCER_MOVE_LINK_INLINE:()=>ye,LINK_ENHANCER_OPEN_LINK:()=>Me,LINK_ENHANCER_REMOVE_LINK:()=>fe,LINK_ENHANCER_RESIZE_LINK:()=>Le,LINK_ENHANCER_SHARE_LINK:()=>Pe,LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:()=>HE,LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:()=>GE,LIST_REFRESHED:()=>Wl,LOCATION_SUGGEST_FAILED:()=>uc,LOCATION_SUGGEST_REQUESTED:()=>Ec,LOCATION_SUGGEST_SUCCEEDED:()=>mc,LOOK_AHEAD_ADS_PARSED:()=>Ue,LOOK_AHEAD_ADS_RENDERED:()=>ke,MAILBOX_NOT_SYNCING:()=>vl,MAILTO_ACTION_REQUESTED:()=>Is,MAIL_PLUS_FEATURE_REQUESTED:()=>Ql,MAIL_PLUS_FREE_TRIAL_REQUESTED:()=>Jl,MAIL_PLUS_SETTINGS_BUTTON_CLICKED:()=>Xl,MARKETING_PREFERENCES_WRITE_FAILED:()=>ME,MARKETING_PREFERENCES_WRITE_SUCCEEDED:()=>fE,MESSAGES_LIST_SCROLLED:()=>Na,MESSAGES_SELECTION_REPLACED:()=>va,MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED:()=>qi,MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED:()=>Xi,MESSAGE_AUTO_SAVE_FAILED:()=>wt,MESSAGE_AUTO_SAVE_REQUESTED:()=>Ut,MESSAGE_AUTO_SAVE_SUCCEEDED:()=>kt,MESSAGE_BODIES_FAILED:()=>Ks,MESSAGE_BODIES_OPEN_GROUP_RECEIVED:()=>zs,MESSAGE_BODIES_RECEIVED:()=>Ws,MESSAGE_BODIES_REQUESTED:()=>Zs,MESSAGE_BODY_LINK_CLICKED:()=>ea,MESSAGE_CARD_EXPANSION_CHANGED:()=>_i,MESSAGE_CARD_FOCUSED:()=>Ys,MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:()=>ui,MESSAGE_GROUP_BY_CHANGED:()=>ba,MESSAGE_GROUP_OPENED:()=>Vs,MESSAGE_GROUP_WITH_BODIES_FAILED:()=>xs,MESSAGE_GROUP_WITH_BODIES_OPENED:()=>Hs,MESSAGE_GROUP_WITH_BODIES_RECEIVED:()=>Bs,MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED:()=>ne,MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED:()=>se,MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED:()=>ae,MESSAGE_LIST_TOOLBAR_MENU_SHOWN:()=>ya,MESSAGE_PRINT_CANCELED:()=>mo,MESSAGE_PRINT_CLOSED:()=>uo,MESSAGE_PRINT_FAILED:()=>So,MESSAGE_PRINT_REQUESTED:()=>_o,MESSAGE_PRINT_SUCCEEDED:()=>Eo,MESSAGE_READ_AD_ROTATION_TIMER:()=>Nl,MESSAGE_READ_MOUSE_MOVED:()=>Um,MESSAGE_READ_SHOW_IMAGES_REQUESTED:()=>J,MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:()=>Js,MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED:()=>$s,MESSAGE_SAVE_FAILED:()=>Ft,MESSAGE_SAVE_REQUESTED:()=>yt,MESSAGE_SAVE_SUCCEEDED:()=>vt,MORE_COUPONS_REQUESTED:()=>wc,MORE_COUPONS_REQUEST_FAILED:()=>Gc,MORE_COUPONS_SUCCESS:()=>Hc,MORE_ITEMS_REQUESTED:()=>hn,MORE_MESSAGES_REQUEST_FAILED:()=>Pa,MORE_MESSAGES_REQUEST_SUCCESS:()=>Ma,MORE_RECEIPTS_REQUESTED:()=>Ps,MORE_RECEIPTS_REQUEST_FAILED:()=>bs,MORE_RECEIPTS_SUCCESS:()=>ys,MORE_SEARCH_LIST_ITEMS_FAILED:()=>Mn,MORE_SEARCH_LIST_ITEMS_RECEIVED:()=>fn,MORE_SEARCH_LIST_ITEMS_REQUESTED:()=>Ln,MORE_SENDER_ROLLUP_FAILED:()=>nu,MORE_SENDER_ROLLUP_REQUESTED:()=>su,MORE_SENDER_ROLLUP_SUCCEEDED:()=>au,MORE_SMARTVIEW_COUPONS_REQUESTED:()=>kc,MORE_TRAVEL_ITEMS_FAILED:()=>Gs,MORE_TRAVEL_ITEMS_SUCCEEDED:()=>ws,MOVE_AND_READ_CHANGE_REQUESTED:()=>da,MOVE_FOLDER_FAILED:()=>cn,MOVE_FOLDER_REQUESTED:()=>on,MOVE_FOLDER_SUCCEEDED:()=>ln,MOVE_ITEMS_REQUESTED:()=>In,MULTI_TASKING_PREF_CHANGE_FAILED:()=>G,MULTI_TASKING_PREF_CHANGE_REQUESTED:()=>k,MULTI_TASKING_PREF_CHANGE_SUCCEEDED:()=>w,NAVIGATE_TO_BOOKING:()=>Sc,NAVIGATE_TO_COMPOSE_REQUESTED:()=>At,NAVIGATE_TO_MAIL_PRO:()=>jl,NAVIGATE_TO_WIDER_PROMO:()=>ql,NEED_TO_KNOW_NEWS_CUE_CLICKED:()=>lu,NEED_TO_KNOW_NEWS_FAILED:()=>iu,NEED_TO_KNOW_NEWS_SUCCEEDED:()=>ou,NOTE_TAB_CLOSE:()=>kS,NOTE_TAB_STATUS:()=>wS,NOTIFICATION_CLOSED:()=>Vr,NOTIFICATION_PAUSED:()=>Zr,NOTIFICATION_RESUME:()=>Wr,NO_ABP_DETECTED:()=>Kd,NO_ADBLOCK_DETECTED:()=>zd,NO_FULL_PANE_AD_RETURNED_FOR_SEND_CONFIRM:()=>Gm,ONLINE_STATUS_CHANGED:()=>h,ON_LIST_SCROLL_TIME_CHUNK:()=>P,OPEN_CALENDAR_PANE_REQUESTED:()=>s_,OPEN_COMPACT_COMPOSE:()=>It,OPEN_FIRST_EMAIL:()=>oE,OPEN_PAGE_REQUESTED:()=>g,OPEN_TABS_MENU:()=>v,OPT_OUT_CANCEL_FEEDBACK:()=>go,OPT_OUT_OF_NORRIN:()=>To,OPT_OUT_REQUESTED:()=>Io,OPT_OUT_SUBMIT_FEEDBACK:()=>ho,PAC_CUE_MARK_AS_SHOWN_REQUESTED:()=>jE,PARENT_MESSAGE_METADATA_FAILED:()=>yc,PARENT_MESSAGE_METADATA_REQUESTED:()=>Pc,PARENT_MESSAGE_METADATA_SUCCEEDED:()=>bc,PENCIL_AD_CLICKED:()=>Qe,PERMANENT_DELETE_CANCELLED:()=>tE,PHISHING_BANNER_MOUNTED:()=>Oc,PHISHING_REMOVE_BDM_DECO_FAILED:()=>Nc,PHISHING_REMOVE_BDM_DECO_REQUESTED:()=>Dc,PHISHING_REMOVE_BDM_DECO_SUCCEEDED:()=>Rc,PINNED_EMAIL_LIMIT_REACHED:()=>kr,PINNED_EMAIL_LIST_FAILED:()=>yd,PINNED_EMAIL_LIST_SUCCEEDED:()=>bd,PINNED_EMAIL_PIN_REQUESTED:()=>Fr,PINNED_EMAIL_UNPIN_REQUESTED:()=>Ur,POP_OUT_COMPOSE:()=>Tt,POST_LAUNCH_ATTRIBUTES_RECEIVED:()=>_E,POST_LAUNCH_FETCH_TODOS_FAILED:()=>um,POST_LAUNCH_FETCH_TODOS_SUCCEEDED:()=>Em,POST_LAUNCH_SYNC_FAILED:()=>dE,POST_LAUNCH_SYNC_SUCCEEDED:()=>cE,PREFERRED_TIMEZONE_CHANGE_REJECTED:()=>I,PREFETCHED_ADS_RENDERED:()=>Fe,PREFETCHED_AD_RENDERED:()=>ve,PREMIUM_AD_STARTED:()=>Ge,PREMIUM_AD_STOPPED:()=>He,PREVIEW_MESSAGE_CLOSED:()=>U,PREVIEW_MESSAGE_REQUESTED:()=>F,PRINT_ALL_CONTACTS_REQUESTED:()=>k_,PRIVACY_TERMS_PAGE_REQUESTED:()=>fo,PROMO_CODE_COPY_FAILED:()=>kd,PROMO_CODE_COPY_SUCCEEDED:()=>Ud,PURCHASE_MAILPRO_FREE_TRIAL:()=>UE,PURCHASE_MAILPRO_FREE_TRIAL_FAILED:()=>wE,PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:()=>kE,PUSH_NOTIFICATIONS_REQUEST_GRANTED:()=>J_,QUOTED_TEXT_EXPANDED:()=>As,READ_CHANGE_FAILED:()=>la,READ_CHANGE_REQUESTED:()=>oa,READ_CHANGE_SUCCEEDED:()=>ia,RECEIPTS_LIST_FAILED:()=>Fs,RECEIPTS_LIST_SUCCEEDED:()=>vs,RECENT_AND_READ_CHANGE_REQUESTED:()=>ca,RECENT_SEARCHES_FAILED:()=>kn,RECENT_SEARCHES_REQUESTED:()=>Un,RECENT_SEARCHES_SUCCEEDED:()=>wn,RELATED_CARDS_FETCH_FAILED:()=>Fu,RELATED_CARDS_FETCH_SUCCEEDED:()=>vu,RELATED_CONTACTS_CLOSED:()=>Yt,RELATED_SEARCHES_CARD_CLICKED:()=>X_,RELATED_SEARCHES_FETCH_FAILED:()=>q_,RELATED_SEARCHES_FETCH_SUCCEEDED:()=>j_,REMOVE_SPAM_SCHEMA_FAILED:()=>Mc,REMOVE_SPAM_SCHEMA_REQUESTED:()=>Lc,REMOVE_SPAM_SCHEMA_SUCCEEDED:()=>fc,RENAME_FOLDER_FAILED:()=>rn,RENAME_FOLDER_REQUESTED:()=>an,RENAME_FOLDER_SUCCEEDED:()=>nn,REPHRASE_CONTENT_BY_PROMPT_REQUESTED:()=>Jm,REPHRASE_CONTENT_BY_TONE_REQUESTED:()=>Qm,REPHRASE_CONTENT_FAILED:()=>eS,REPHRASE_CONTENT_SUCCEEDED:()=>$m,RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED:()=>md,RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:()=>Ed,RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:()=>ud,RESPOND_TO_INVITE:()=>Ul,RESPOND_TO_INVITE_FAILED:()=>wl,RESPOND_TO_INVITE_SUCCEEDED:()=>kl,REVIEW_FORWARD_EMAIL:()=>oi,RIGHT_RAIL_COMMS_ICON_CLICKED:()=>r_,RIGHT_RAIL_IC_DEALS_FAILED:()=>xe,RIGHT_RAIL_IC_DEALS_RECEIVED:()=>Ve,RIGHT_RAIL_IC_PRODUCTS_FAILED:()=>Ze,RIGHT_RAIL_IC_PRODUCTS_RECEIVED:()=>We,RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED:()=>OE,RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED:()=>gE,RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED:()=>hE,ROTATE_AD_ON_LIST_SCROLL:()=>M,RSVP_NAVIGATE_TO_CALENDAR:()=>Gl,RTE_MORE_MENU_SHOWN:()=>Ss,SCOUT_TIMER:()=>Kr,SCROLL_TO_SEARCH_PAGE_SCROLLED:()=>fa,SEARCH_INPUT_BLURRED:()=>mn,SEARCH_INPUT_FOCUSED:()=>un,SEARCH_LIST_ITEMS_BLOCK_RECEIVED:()=>pn,SEARCH_LIST_ITEMS_FAILED:()=>An,SEARCH_LIST_ITEMS_RECEIVED:()=>Cn,SEARCH_LIST_ITEMS_REQUESTED:()=>Sn,SEARCH_PLA_AD_CLICKED:()=>Fn,SEARCH_RELEVANCE_CUE_TRIGGERED:()=>Tn,SELECT_WALLET_LIST_ITEM:()=>Pd,SELF_EXTRACT_COUPON_MODAL_CLOSED:()=>Yc,SELF_EXTRACT_COUPON_MODAL_OPENED:()=>zc,SEND:()=>jt,SENDER_ROLLUP_FAILED:()=>ru,SENDER_ROLLUP_SUCCEEDED:()=>tu,SEND_FAILURE:()=>Xt,SEND_SUCCESS:()=>qt,SETTINGS_ADD_FILTER_REQUESTED:()=>er,SETTINGS_BLOCKED_DOMAINS_FETCHED:()=>nc,SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:()=>rc,SETTINGS_BLOCKED_DOMAIN_ADD_FAILED:()=>ic,SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED:()=>_c,SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:()=>oc,SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED:()=>cc,SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED:()=>dc,SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:()=>lc,SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:()=>Dr,SETTINGS_BLOCKED_SENDERS_RECEIVED:()=>Or,SETTINGS_BLOCKED_SENDERS_REQUESTED:()=>gr,SETTINGS_CHANGE_FAILED:()=>Pr,SETTINGS_CHANGE_REQUESTED:()=>fr,SETTINGS_CHANGE_SUCCEEDED:()=>Mr,SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED:()=>ur,SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:()=>_r,SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED:()=>Er,SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED:()=>dr,SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:()=>cr,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:()=>hr,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:()=>Ir,SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED:()=>Tr,SETTINGS_LOCATION_CHANGE_FAILED:()=>lr,SETTINGS_LOCATION_CHANGE_REQUESTED:()=>or,SETTINGS_LOCATION_CHANGE_SUCCEEDED:()=>ir,SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:()=>jn,SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:()=>Yn,SETTINGS_MENU_CLOSED:()=>Xn,SETTINGS_MENU_REQUESTED:()=>qn,SETTINGS_PEOPLE_I_KNOW_CHANGE_FAILED:()=>Ar,SETTINGS_PEOPLE_I_KNOW_CHANGE_REQUESTED:()=>pr,SETTINGS_PEOPLE_I_KNOW_CHANGE_SUCCEEDED:()=>Cr,SETTINGS_PEOPLE_I_KNOW_FETCH_FAILED:()=>Sr,SETTINGS_PEOPLE_I_KNOW_FETCH_SUCCEEDED:()=>mr,SETTINGS_POPOVER_AUTOOPEN_CHANGED:()=>bo,SETTINGS_SAVE_BLOCKED_SENDERS_FAILED:()=>Lr,SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED:()=>Rr,SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED:()=>Nr,SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED:()=>rr,SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED:()=>nr,SETTINGS_SAVE_FILTERS_FAILED:()=>ar,SETTINGS_SAVE_FILTERS_REQUESTED:()=>tr,SETTINGS_SAVE_FILTERS_SUCCEEDED:()=>sr,SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:()=>$n,SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:()=>Qn,SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:()=>Jn,SET_NOTEBOOK_ID:()=>PS,SHOPPING_CART_AD_CLICKED:()=>zE,SHOPPING_CART_AD_RENDERED:()=>lt,SHOW_APP_RELOAD:()=>_,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED:()=>K,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED:()=>Z,SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED:()=>W,SHOW_IMAGE_PREF_CHANGE_FAILED:()=>Q,SHOW_IMAGE_PREF_CHANGE_REQUESTED:()=>q,SHOW_IMAGE_PREF_CHANGE_SUCCEEDED:()=>X,SHOW_INVALID_REPLY_TO_ADDRESS_ALERT:()=>Es,SHOW_MOBILE_ONBOARDING_CUE:()=>$d,SHOW_PUSH_NOTIFICATIONS_CUE:()=>Q_,SIGNATURE_STATUS_CHANGE_FAILED:()=>ue,SIGNATURE_STATUS_CHANGE_REQUESTED:()=>_e,SIGNATURE_STATUS_CHANGE_SUCCEEDED:()=>Ee,SIGNATURE_TEXT_CHANGE_FAILED:()=>pe,SIGNATURE_TEXT_CHANGE_REQUESTED:()=>me,SIGNATURE_TEXT_CHANGE_SUCCEEDED:()=>Se,SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:()=>hi,SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:()=>gi,SOCIAL_ACCOUNTS_CONNECT_FAILED:()=>Ii,SOCIAL_ACCOUNTS_CONNECT_REQUESTED:()=>Ri,SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:()=>Ti,SOCIAL_ACCOUNTS_DISCONNECT_FAILED:()=>Ai,SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED:()=>pi,SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:()=>Ci,SOCIAL_ACCOUNTS_IMPORT_FAILED:()=>Di,SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:()=>Oi,SOCIAL_ACCOUNTS_STATUS_RECEIVED:()=>mi,SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:()=>Si,SPELL_CHECK_FAILED:()=>lm,SPELL_CHECK_SUCCESS:()=>im,SPELL_CHECK_SUGGESTIONS_REQUESTED:()=>om,SPONSORED_SAVE_TO_INBOX_FAILED:()=>Bt,SPONSORED_SAVE_TO_INBOX_REQUESTED:()=>Gt,SPONSORED_SAVE_TO_INBOX_SUCCEEDED:()=>Ht,STAR_CHANGE_FAILED:()=>ra,STAR_CHANGE_REQUESTED:()=>aa,STAR_CHANGE_SUCCEEDED:()=>na,STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED:()=>ec,STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:()=>$l,STOREFRONT_BRAND_FOLLOW_FAILED:()=>hd,STOREFRONT_BRAND_FOLLOW_REQUESTED:()=>Td,STOREFRONT_BRAND_FOLLOW_SUCCEEDED:()=>Id,STOREFRONT_BRAND_UNFOLLOW_FAILED:()=>Dd,STOREFRONT_BRAND_UNFOLLOW_REQUESTED:()=>gd,STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:()=>Od,STOREFRONT_DEALS_FAILED:()=>ld,STOREFRONT_DEALS_REQUESTED:()=>od,STOREFRONT_DEALS_SUCCEEDED:()=>id,STOREFRONT_EMAILS_MODULES_FAILED:()=>pd,STOREFRONT_EMAILS_MODULES_SUCCEEDED:()=>Sd,STOREFRONT_MODULES_FAILED:()=>rd,STOREFRONT_MODULES_SUCCEEDED:()=>nd,STOREFRONT_PRODUCTS_FAILED:()=>_d,STOREFRONT_PRODUCTS_REQUESTED:()=>cd,STOREFRONT_PRODUCTS_SUCCEEDED:()=>dd,STOREFRONT_RECEIPTS_MODULES_FAILED:()=>Ad,STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:()=>Cd,STREAM_CONTEXT_MENU:()=>Ba,STREAM_CONTEXT_MENU_SHOWN:()=>xa,STREAM_CURSOR_MOVED:()=>ka,STREAM_ITEMS_MULTIPLE_TOGGLE:()=>Za,STREAM_ITEMS_RANGE_SELECTED:()=>za,STREAM_ITEMS_SELECTION_CHANGED:()=>Ka,STREAM_ITEMS_SELECTION_CLEARED:()=>Ha,STREAM_ITEM_TOGGLED:()=>Va,STREAM_SELECT_CURSOR_MOVED:()=>Wa,SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:()=>Jd,SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:()=>Qd,SUBJECT_FOCUSED:()=>ms,SUBSCRIBE_MARKETING_PREFERENCES:()=>PE,SUBSCRIPTION_LIST_FETCH_FAILED:()=>jd,SUBSCRIPTION_LIST_FETCH_SUCCEEDED:()=>Yd,SUBSCRIPTION_LIST_FILTER_CHANGED:()=>qd,SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:()=>Xd,SUGGESTIONS_FAILED:()=>vn,SUGGESTIONS_FROM_CONTACTS_RECEIVED:()=>yn,SUGGESTIONS_RECEIVED:()=>bn,SUGGESTIONS_REQUESTED:()=>Pn,SYNC_DATA:()=>N,SYNC_NOW_FAILED:()=>f,SYNC_NOW_SUCCEEDED:()=>L,TASTEMAKER_CONSUME_FAILED:()=>qu,TASTEMAKER_CONSUME_SUCCEEDED:()=>ju,TASTEMAKER_DELETE_FAILED:()=>Qu,TASTEMAKER_DELETE_SUCCEEDED:()=>Xu,THEME_CHANGE_FAILED:()=>Fo,THEME_CHANGE_REQUESTED:()=>yo,THEME_CHANGE_SUCCEEDED:()=>vo,THEME_MODE_CHANGE_FAILED:()=>wo,THEME_MODE_CHANGE_REQUESTED:()=>Uo,THEME_MODE_CHANGE_SUCCEEDED:()=>ko,TIMEZONE_CHANGE_DETECTED:()=>T,TOGGLE_ADVANCED_SEARCH_PANE:()=>Ju,TOGGLE_BOTTOM_STICKY_PENCIL_AD_COLLAPSE:()=>ot,TOGGLE_COMPACT_COMPOSE_STATE:()=>gt,TOGGLE_DEAL_RECOMMENDATION_PREVIEW:()=>ac,TOGGLE_DETAIL_PANE_EXPANSION:()=>lE,TOGGLE_PENCIL_AD_SELECTION:()=>rt,TOM_UPSELL_CLICKED:()=>DE,TOM_UPSELL_SHOWN:()=>RE,TOP_DEAL_CATEGORIES_REQUEST_FAILED:()=>AE,TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:()=>CE,TOP_OF_INBOX_BOTTOM_OPTIONS_CLOSE:()=>Ku,TOP_OF_INBOX_BOTTOM_OPTIONS_OPEN:()=>Wu,TOP_OF_INBOX_CARD_REMOVE:()=>wu,TOP_OF_INBOX_CARD_REMOVE_ALL:()=>Hu,TOP_OF_INBOX_CARD_REMOVE_ALL_UNDO:()=>Bu,TOP_OF_INBOX_CARD_REMOVE_UNDO:()=>Gu,TOP_OF_INBOX_COOKIE_ENABLE:()=>Yu,TOP_OF_INBOX_EXPAND_CLOSE:()=>zu,TOP_OF_INBOX_FETCH_FAILED:()=>ku,TOP_OF_INBOX_FETCH_SUCCEEDED:()=>Uu,TOP_OF_INBOX_FIRST_CARD_OPENED:()=>Zu,TOP_OF_INBOX_MESSAGES_FETCH_FAILED:()=>Vu,TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:()=>xu,TOP_RETAILERS_REQUEST_FAILED:()=>pE,TOP_RETAILERS_REQUEST_SUCCEEDED:()=>SE,TOUCHPOINT_UPSELL_FETCH_FAILED:()=>FE,TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:()=>vE,TRAVEL_LIST_FAILED:()=>ks,TRAVEL_LIST_SUCCEEDED:()=>Us,TUTORIAL_VIDEO_PLAYED:()=>Yi,UNDO_MOVE_AND_READ_REQUESTED:()=>ma,UNDO_MOVE_FAILED:()=>ua,UNDO_MOVE_REQUESTED:()=>_a,UNDO_MOVE_SUCCEEDED:()=>Ea,UNSEEN_COUNT_RESET:()=>Bi,UNSUBSCRIBE_BY_BRAND_FAILED:()=>zi,UNSUBSCRIBE_BY_BRAND_REQUESTED:()=>Wi,UNSUBSCRIBE_BY_BRAND_SUCCEEDED:()=>Ki,UNSUBSCRIBE_BY_EMAIL_FAILED:()=>Zi,UNSUBSCRIBE_BY_EMAIL_REQUESTED:()=>xi,UNSUBSCRIBE_BY_EMAIL_SUCCEEDED:()=>Vi,UNSUBSCRIBE_LIST_REQUEST_FAILED:()=>Ji,UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED:()=>Qi,UNSUBSCRIBE_MARKETING_PREFERENCES:()=>LE,UNUSUAL_DISCOUNT_VIGLINK_CLICKED:()=>eE,UPDATE_ALL_THEMES_RENDERED:()=>km,UPDATE_COMPOSE_HEADER_FOCUS:()=>VE,UPDATE_EDIT_DRAFT_STATE:()=>es,UPDATE_ITEMS_FAILED:()=>pa,UPDATE_ITEMS_SUCCEEDED:()=>Sa,UPDATE_JOURNAL_FOLDER_FAILED:()=>fS,UPDATE_JOURNAL_FOLDER_REQUESTED:()=>NS,UPDATE_JOURNAL_FOLDER_SUCCEEDED:()=>LS,UPDATE_NOTE_FAILED:()=>CS,UPDATE_NOTE_REQUESTED:()=>SS,UPDATE_NOTE_SUCCEEDED:()=>pS,UPDATE_STICKY_ONBOARDING_EXPANSION:()=>wm,UPDATE_TODO_FAILED:()=>Tm,UPDATE_TODO_REQUESTED:()=>Cm,UPDATE_TODO_SUCCEEDED:()=>Am,UPLOAD_PROGRESS_RECEIVED:()=>Ts,USER_DWELLED_ON_CONTENT:()=>e_,USER_LOCATION_UPDATE_FAILED:()=>m,USER_LOCATION_UPDATE_SUCCEEDED:()=>u,USER_LOGGED_OUT:()=>C,USER_NAME_PHONE_REG_CANCEL_AUTH:()=>IE,USER_NAME_PHONE_REG_UPSELL_LOADED:()=>TE,USER_NAVIGATED_ONBOARDING:()=>t_,V3_MESSAGE_CARD_EXPANSION_CHANGED:()=>Ei,V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:()=>Pt,V3_MESSAGE_SAVE_FAILED:()=>Lt,V3_MESSAGE_SAVE_REQUESTED:()=>Rt,V3_MESSAGE_SAVE_SUCCEEDED:()=>Nt,V3_MESSAGE_SEND_FAILED:()=>bt,V3_MESSAGE_SEND_REQUESTED:()=>ft,V3_MESSAGE_SEND_SUCCEEDED:()=>Mt,VIDEO_CHANNELS_METADATA_FAILED:()=>nl,VIDEO_CHANNELS_METADATA_RECEIVED:()=>al,VIDEO_CHANNEL_FAILED:()=>il,VIDEO_CHANNEL_RECEIVED:()=>ol,VIDEO_PLAYER_CLOSED:()=>tl,VIDEO_PLAYER_OPENED:()=>el,VIDEO_PLAYER_PAUSED:()=>cl,VIDEO_PLAYER_PLAYED:()=>ll,VIEW_RAW_MESSAGE:()=>sE,VIGLINK_CLICKED:()=>$_,WALLET_FEEDBACK_ALREADY_ADDED:()=>oS,WALLET_FEEDBACK_YES:()=>rS,WALLET_LIST_FAILED:()=>Md,WALLET_LIST_SUCCEEDED:()=>fd,WEATHER_FAILED:()=>sm,WEATHER_GET_REQUESTED:()=>em,WEATHER_LOCATION_FAILED:()=>rm,WEATHER_LOCATION_SUCCESS:()=>nm,WEATHER_LOCATION_SUGGESTIONS_REQUESTED:()=>am,WEATHER_SUCCESS:()=>tm,WIDER_MAIL_INSTALL_FAILURE:()=>mt,WIDER_MAIL_INSTALL_SUCCESS:()=>ut,WINDOW_RESIZED:()=>i,WINDOW_RESIZING:()=>o,YAI_OPT_IN_FAILED:()=>BS,YAI_OPT_IN_REQUESTED:()=>GS,YAI_OPT_IN_SUCCEEDED:()=>HS,YAI_REFRESH_SEARCH_FAILED:()=>Ym,YAI_REFRESH_SEARCH_SUCCEEDED:()=>zm,YAI_RETRO_COMPOSE_CLEAR:()=>WS,YAI_RETRO_COMPOSE_FAILED:()=>ZS,YAI_RETRO_COMPOSE_REQUESTED:()=>xS,YAI_RETRO_COMPOSE_SUCCEEDED:()=>VS,YAI_SEARCH_ANSWER_FEEDBACK_ADDED:()=>Km,YAI_SEARCH_CONSUME_FAILED:()=>Wm,YAI_SEARCH_CONSUME_REQUESTED:()=>Vm,YAI_SEARCH_CONSUME_SUCCEEDED:()=>Zm,YAI_SUGGESTIONS_FAILED:()=>xm,YAI_SUGGESTIONS_RECEIVED:()=>Bm,YAI_SUGGESTIONS_REQUESTED:()=>Hm});const a="INITIAL_STATE",n="LAUNCH_COMPLETED",r="APP_LOAD_COMPLETED",o="WINDOW_RESIZING",i="WINDOW_RESIZED",l="APPLICATION_VISIBILITY_DID_CHANGE",c="CANCEL_APP_RELOAD",d="CONFIRM_APP_RELOAD",_="SHOW_APP_RELOAD",E="LAUNCH_ERROR",u="USER_LOCATION_UPDATE_SUCCEEDED",m="USER_LOCATION_UPDATE_FAILED",S="HEADER_NAVIGATION_SELECTED",p="ACCOUNT_MENU_SHOWN",C="USER_LOGGED_OUT",A="HOME_BUTTON_CLICKED",T="TIMEZONE_CHANGE_DETECTED",I="PREFERRED_TIMEZONE_CHANGE_REJECTED",h="ONLINE_STATUS_CHANGED",g="OPEN_PAGE_REQUESTED",O="CLOSE_PAGE_REQUESTED",D="CLOSE_ALL_PAGES_REQUESTED",R="EXTERNAL_LINK_CLICKED",N="SYNC_DATA",L="SYNC_NOW_SUCCEEDED",f="SYNC_NOW_FAILED",M="ROTATE_AD_ON_LIST_SCROLL",P="ON_LIST_SCROLL_TIME_CHUNK",b="LAUNCH_PAGE_REQUESTED",y="LAUNCH_FAILED",v="OPEN_TABS_MENU",F="PREVIEW_MESSAGE_REQUESTED",U="PREVIEW_MESSAGE_CLOSED",k="MULTI_TASKING_PREF_CHANGE_REQUESTED",w="MULTI_TASKING_PREF_CHANGE_SUCCEEDED",G="MULTI_TASKING_PREF_CHANGE_FAILED",H="EXPAND_ACCOUNT_LIST",B="EXPANDED_FOLDERS_PREF_CHANGE_REQUESTED",x="EXPANDED_FOLDERS_PREF_CHANGE_SUCCEEDED",V="EXPANDED_FOLDERS_PREF_CHANGE_FAILED",Z="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_REQUESTED",W="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_SUCCEEDED",K="SHOW_CUSTOM_FOLDERS_PREF_CHANGE_FAILED",z="CONVERSATIONS_CHANGE_REQUESTED",Y="CONVERSATIONS_CHANGE_SUCCEEDED",j="CONVERSATIONS_CHANGE_FAILED",q="SHOW_IMAGE_PREF_CHANGE_REQUESTED",X="SHOW_IMAGE_PREF_CHANGE_SUCCEEDED",Q="SHOW_IMAGE_PREF_CHANGE_FAILED",J="MESSAGE_READ_SHOW_IMAGES_REQUESTED",$="HIDEAD_PREF_CHANGE_REQUESTED",ee="HIDEAD_PREF_CHANGE_SUCCEEDED",te="HIDEAD_PREF_CHANGE_FAILED",se="MESSAGE_LIST_DENSITY_PREF_CHANGE_REQUESTED",ae="MESSAGE_LIST_DENSITY_PREF_CHANGE_SUCCEEDED",ne="MESSAGE_LIST_DENSITY_PREF_CHANGE_FAILED",re="ACTION_AFTER_MESSAGE_MOVE_CHANGE_REQUESTED",oe="ACTION_AFTER_MESSAGE_MOVE_CHANGE_SUCCEEDED",ie="ACTION_AFTER_MESSAGE_MOVE_CHANGE_FAILED",le="DEFAULT_SENDING_ADDRESS_CHANGE_REQUESTED",ce="DEFAULT_SENDING_ADDRESS_CHANGE_SUCCEEDED",de="DEFAULT_SENDING_ADDRESS_CHANGE_FAILED",_e="SIGNATURE_STATUS_CHANGE_REQUESTED",Ee="SIGNATURE_STATUS_CHANGE_SUCCEEDED",ue="SIGNATURE_STATUS_CHANGE_FAILED",me="SIGNATURE_TEXT_CHANGE_REQUESTED",Se="SIGNATURE_TEXT_CHANGE_SUCCEEDED",pe="SIGNATURE_TEXT_CHANGE_FAILED",Ce="COMPOSE_FONT_SIZE_CHANGE_REQUESTED",Ae="COMPOSE_FONT_SIZE_CHANGE_SUCCEEDED",Te="COMPOSE_FONT_SIZE_CHANGE_FAILED",Ie="COMPOSE_FONT_FAMILY_CHANGE_REQUESTED",he="COMPOSE_FONT_FAMILY_CHANGE_SUCCEEDED",ge="COMPOSE_FONT_FAMILY_CHANGE_FAILED",Oe="LINK_ENHANCER_FETCH_REQUESTED",De="LINK_ENHANCER_FETCH_SUCCEEDED",Re="LINK_ENHANCER_FETCH_FAILED",Ne="LINK_ENHANCER_ADD_LINK",Le="LINK_ENHANCER_RESIZE_LINK",fe="LINK_ENHANCER_REMOVE_LINK",Me="LINK_ENHANCER_OPEN_LINK",Pe="LINK_ENHANCER_SHARE_LINK",be="LINK_ENHANCER_MOVE_LINK_BOTTOM",ye="LINK_ENHANCER_MOVE_LINK_INLINE",ve="PREFETCHED_AD_RENDERED",Fe="PREFETCHED_ADS_RENDERED",Ue="LOOK_AHEAD_ADS_PARSED",ke="LOOK_AHEAD_ADS_RENDERED",we="AD_ROTATION_SKIPPED",Ge="PREMIUM_AD_STARTED",He="PREMIUM_AD_STOPPED",Be="HIDE_RIGHT_PANE_ADS",xe="RIGHT_RAIL_IC_DEALS_FAILED",Ve="RIGHT_RAIL_IC_DEALS_RECEIVED",Ze="RIGHT_RAIL_IC_PRODUCTS_FAILED",We="RIGHT_RAIL_IC_PRODUCTS_RECEIVED",Ke="AD_RECEIVED",ze="AD_FAILED",Ye="GEMINI_AD_RECEIVED",je="GEMINI_AD_FAILED",qe="GEMINI_AD_REQUESTED",Xe="AD_FALLBACK_CLICKED",Qe="PENCIL_AD_CLICKED",Je="AD_FEEDBACK_STARTED",$e="AD_FEEDBACK_SUBMITTED",et="AD_FEEDBACK_CLOSED",tt="GEMINI_SPONSORED_ASSET_RECEIVED",st="GEMINI_SPONSORED_ASSET_FAILED",at="FLASH_SALE_AD_ENDED",nt="DELETE_PENCIL_AD",rt="TOGGLE_PENCIL_AD_SELECTION",ot="TOGGLE_BOTTOM_STICKY_PENCIL_AD_COLLAPSE",it="AD_FEEDBACK_CLICKED",lt="SHOPPING_CART_AD_RENDERED",ct="DEALS_SHOPPING_CART_AD_RENDERED",dt="ADFREE_UPSELL_ACCEPT",_t="ADFREE_UPSELL_CANCEL",Et="GET_WIDER_MAIL_EXTENSION_URL",ut="WIDER_MAIL_INSTALL_SUCCESS",mt="WIDER_MAIL_INSTALL_FAILURE",St="KEY_DID_BIND",pt="KEY_DID_UPDATE",Ct="KEY_DID_UNBIND",At="NAVIGATE_TO_COMPOSE_REQUESTED",Tt="POP_OUT_COMPOSE",It="OPEN_COMPACT_COMPOSE",ht="EDIT_COMPACT_COMPOSE_SUBJECT",gt="TOGGLE_COMPACT_COMPOSE_STATE",Ot="CLOSE_COMPACT_COMPOSE",Dt="FEEDBACK_PANEL_GIVE_FEEDBACK",Rt="V3_MESSAGE_SAVE_REQUESTED",Nt="V3_MESSAGE_SAVE_SUCCEEDED",Lt="V3_MESSAGE_SAVE_FAILED",ft="V3_MESSAGE_SEND_REQUESTED",Mt="V3_MESSAGE_SEND_SUCCEEDED",Pt="V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED",bt="V3_MESSAGE_SEND_FAILED",yt="MESSAGE_SAVE_REQUESTED",vt="MESSAGE_SAVE_SUCCEEDED",Ft="MESSAGE_SAVE_FAILED",Ut="MESSAGE_AUTO_SAVE_REQUESTED",kt="MESSAGE_AUTO_SAVE_SUCCEEDED",wt="MESSAGE_AUTO_SAVE_FAILED",Gt="SPONSORED_SAVE_TO_INBOX_REQUESTED",Ht="SPONSORED_SAVE_TO_INBOX_SUCCEEDED",Bt="SPONSORED_SAVE_TO_INBOX_FAILED",xt="COMPOSE_OPENED",Vt="COMPOSE_CLOSED",Zt="AUTOTAG_DROPDOWN_SHOWN",Wt="AUTOTAG_CONTACT_SELECTED",Kt="EDIT_LIST_DROPDOWN_CONTACT_SELECTED",zt="AUTOTAG_DROPDOWN_CLOSED",Yt="RELATED_CONTACTS_CLOSED",jt="SEND",qt="SEND_SUCCESS",Xt="SEND_FAILURE",Qt="ATTACHMENT_STATE_UPDATED",Jt="DELETE_DRAFT_SUCCEEDED",$t="DELETE_DRAFT_FAILED",es="UPDATE_EDIT_DRAFT_STATE",ts="DRAFT_SUBJECT_UPDATED",ss="CONTACT_SUGGESTIONS_REQUESTED",as="CONTACT_SUGGESTIONS_SUCCEEDED",ns="DELETE_CONTACT_SUGGESTIONS_REQUESTED",rs="DELETE_CONTACT_SUGGESTIONS_SUCCEEDED",os="DELETE_CONTACT_SUGGESTIONS_FAILED",is="CONTACT_SUGGESTIONS_FAILED",ls="CONTACT_ADDED",cs="COMPOSE_NO_ADDRESS_DETECTED",ds="COMPOSE_RECIPIENT_LIMIT_EXCEEDED",_s="COMPOSE_ADDRESSING_FAILED",Es="SHOW_INVALID_REPLY_TO_ADDRESS_ALERT",us="COMPOSE_INVALID_MESSAGE_OPENED",ms="SUBJECT_FOCUSED",Ss="RTE_MORE_MENU_SHOWN",ps="HANDLE_RTE_TOOLBAR_ACTIONS",Cs="CONFIRM_DELETE_DIALOG_CLOSED",As="QUOTED_TEXT_EXPANDED",Ts="UPLOAD_PROGRESS_RECEIVED",Is="MAILTO_ACTION_REQUESTED",hs="ADD_BIG_ATTACHMENT",gs="GIF_FETCHED",Os="GIF_FETCH_REQUESTED",Ds="GIF_FETCH_SUCCEEDED",Rs="GIF_FETCH_FAILED",Ns="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED",Ls="GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED_OLD",fs="GIF_CATEGORIES_CONTENT_FETCH_REQUESTED",Ms="GIF_CATEGORIES_CONTENT_FETCH_FAILED",Ps="MORE_RECEIPTS_REQUESTED",bs="MORE_RECEIPTS_REQUEST_FAILED",ys="MORE_RECEIPTS_SUCCESS",vs="RECEIPTS_LIST_SUCCEEDED",Fs="RECEIPTS_LIST_FAILED",Us="TRAVEL_LIST_SUCCEEDED",ks="TRAVEL_LIST_FAILED",ws="MORE_TRAVEL_ITEMS_SUCCEEDED",Gs="MORE_TRAVEL_ITEMS_FAILED",Hs="MESSAGE_GROUP_WITH_BODIES_OPENED",Bs="MESSAGE_GROUP_WITH_BODIES_RECEIVED",xs="MESSAGE_GROUP_WITH_BODIES_FAILED",Vs="MESSAGE_GROUP_OPENED",Zs="MESSAGE_BODIES_REQUESTED",Ws="MESSAGE_BODIES_RECEIVED",Ks="MESSAGE_BODIES_FAILED",zs="MESSAGE_BODIES_OPEN_GROUP_RECEIVED",Ys="MESSAGE_CARD_FOCUSED",js="ATTACHMENT_PREVIEW_FAILED",qs="CHECK_MAIL_RECEIVED_WITH_UPDATES",Xs="CHECK_MAIL_RECEIVED_WITH_NO_UPDATES",Qs="CHECK_MAIL_FAILED",Js="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED",$s="MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUEST_FAILED",ea="MESSAGE_BODY_LINK_CLICKED",ta="DELETE_PREVIEW_REQUESTED",sa="DELETE_PREVIEW_CLOSED",aa="STAR_CHANGE_REQUESTED",na="STAR_CHANGE_SUCCEEDED",ra="STAR_CHANGE_FAILED",oa="READ_CHANGE_REQUESTED",ia="READ_CHANGE_SUCCEEDED",la="READ_CHANGE_FAILED",ca="RECENT_AND_READ_CHANGE_REQUESTED",da="MOVE_AND_READ_CHANGE_REQUESTED",_a="UNDO_MOVE_REQUESTED",Ea="UNDO_MOVE_SUCCEEDED",ua="UNDO_MOVE_FAILED",ma="UNDO_MOVE_AND_READ_REQUESTED",Sa="UPDATE_ITEMS_SUCCEEDED",pa="UPDATE_ITEMS_FAILED",Ca="FILE_ATTACHMENT_ADDED",Aa="ATTACHMENT_REMOVED",Ta="ATTACHMENT_DOWNLOADED",Ia="ALL_ATTACHMENTS_DOWNLOADED",ha="INLINE_FILE_ATTACHMENT_ADDED",ga="INLINE_FILE_ATTACHMENT_REMOVED",Oa="INLINE_ATTACHMENT_MOVED_TO_TRAY",Da="ATTACHMENT_MOVED_TO_INLINE",Ra="INLINE_IMAGES_TO_ATTACHMENT",Na="MESSAGES_LIST_SCROLLED",La="ITEM_LIST_PAGE_SCROLLED",fa="SCROLL_TO_SEARCH_PAGE_SCROLLED",Ma="MORE_MESSAGES_REQUEST_SUCCESS",Pa="MORE_MESSAGES_REQUEST_FAILED",ba="MESSAGE_GROUP_BY_CHANGED",ya="MESSAGE_LIST_TOOLBAR_MENU_SHOWN",va="MESSAGES_SELECTION_REPLACED",Fa="ITEMS_DRAG_STARTED",Ua="COUPON_ICON_MSG_LIST_CLICKED",ka="STREAM_CURSOR_MOVED",wa="ALL_STREAM_ITEMS_SELECTED",Ga="ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION",Ha="STREAM_ITEMS_SELECTION_CLEARED",Ba="STREAM_CONTEXT_MENU",xa="STREAM_CONTEXT_MENU_SHOWN",Va="STREAM_ITEM_TOGGLED",Za="STREAM_ITEMS_MULTIPLE_TOGGLE",Wa="STREAM_SELECT_CURSOR_MOVED",Ka="STREAM_ITEMS_SELECTION_CHANGED",za="STREAM_ITEMS_RANGE_SELECTED",Ya="CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED",ja="CHECK_NUDGE_AND_SMART_REPLY_FAILED",qa="CHANGE_FOLDER_SUCCEEDED",Xa="CHANGE_FOLDER_FAILED",Qa="CREATE_FOLDER_REQUESTED",Ja="CREATE_FOLDER_SUCCEEDED",$a="CREATE_FOLDER_FAILED",en="DELETE_FOLDER_REQUESTED",tn="DELETE_FOLDER_SUCCEEDED",sn="DELETE_FOLDER_FAILED",an="RENAME_FOLDER_REQUESTED",nn="RENAME_FOLDER_SUCCEEDED",rn="RENAME_FOLDER_FAILED",on="MOVE_FOLDER_REQUESTED",ln="MOVE_FOLDER_SUCCEEDED",cn="MOVE_FOLDER_FAILED",dn="FOLDER_CONTEXT_MENU_REQUESTED",_n="DELETE_NON_EMPTY_FOLDER_REQUESTED",En="CAPTCHA_BEGAN",un="SEARCH_INPUT_FOCUSED",mn="SEARCH_INPUT_BLURRED",Sn="SEARCH_LIST_ITEMS_REQUESTED",pn="SEARCH_LIST_ITEMS_BLOCK_RECEIVED",Cn="SEARCH_LIST_ITEMS_RECEIVED",An="SEARCH_LIST_ITEMS_FAILED",Tn="SEARCH_RELEVANCE_CUE_TRIGGERED",In="MOVE_ITEMS_REQUESTED",hn="MORE_ITEMS_REQUESTED",gn="DELETE_ITEMS_REQUESTED",On="DELETE_ITEMS_SUCCEEDED",Dn="DELETE_ITEMS_FAILED",Rn="BLOCK_SENDERS_REQUESTED",Nn="BLOCK_SENDERS_WITH_DELETE_REQUESTED",Ln="MORE_SEARCH_LIST_ITEMS_REQUESTED",fn="MORE_SEARCH_LIST_ITEMS_RECEIVED",Mn="MORE_SEARCH_LIST_ITEMS_FAILED",Pn="SUGGESTIONS_REQUESTED",bn="SUGGESTIONS_RECEIVED",yn="SUGGESTIONS_FROM_CONTACTS_RECEIVED",vn="SUGGESTIONS_FAILED",Fn="SEARCH_PLA_AD_CLICKED",Un="RECENT_SEARCHES_REQUESTED",kn="RECENT_SEARCHES_FAILED",wn="RECENT_SEARCHES_SUCCEEDED",Gn="DELETE_RECENT_SEARCH_REQUESTED",Hn="DELETE_RECENT_SEARCH_SUCCEEDED",Bn="DELETE_RECENT_SEARCH_FAILED",xn="ATTACHMENT_PREVIEW_SWITCH_TO_FULL_SCREEN",Vn="ATTACHMENT_OPENED",Zn="ATTACHMENT_ZOOMED",Wn="DOCUMENT_FETCH_SUCCEEDED",Kn="DOCUMENT_FETCH_FAILED",zn="DOCUMENT_FETCH_REQUESTED",Yn="SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED",jn="SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED",qn="SETTINGS_MENU_REQUESTED",Xn="SETTINGS_MENU_CLOSED",Qn="SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED",Jn="SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED",$n="SETTINGS_SAVE_VACATION_PREFERENCES_FAILED",er="SETTINGS_ADD_FILTER_REQUESTED",tr="SETTINGS_SAVE_FILTERS_REQUESTED",sr="SETTINGS_SAVE_FILTERS_SUCCEEDED",ar="SETTINGS_SAVE_FILTERS_FAILED",nr="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_SUCCEEDED",rr="SETTINGS_SAVE_DELIVERYBLOCKEDSENDERS_FAILED",or="SETTINGS_LOCATION_CHANGE_REQUESTED",ir="SETTINGS_LOCATION_CHANGE_SUCCEEDED",lr="SETTINGS_LOCATION_CHANGE_FAILED",cr="SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED",dr="SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED",_r="SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED",Er="SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED",ur="SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED",mr="SETTINGS_PEOPLE_I_KNOW_FETCH_SUCCEEDED",Sr="SETTINGS_PEOPLE_I_KNOW_FETCH_FAILED",pr="SETTINGS_PEOPLE_I_KNOW_CHANGE_REQUESTED",Cr="SETTINGS_PEOPLE_I_KNOW_CHANGE_SUCCEEDED",Ar="SETTINGS_PEOPLE_I_KNOW_CHANGE_FAILED",Tr="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED",Ir="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED",hr="SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED",gr="SETTINGS_BLOCKED_SENDERS_REQUESTED",Or="SETTINGS_BLOCKED_SENDERS_RECEIVED",Dr="SETTINGS_BLOCKED_SENDERS_FETCH_FAILED",Rr="SETTINGS_SAVE_BLOCKED_SENDERS_REQUESTED",Nr="SETTINGS_SAVE_BLOCKED_SENDERS_SUCCEEDED",Lr="SETTINGS_SAVE_BLOCKED_SENDERS_FAILED",fr="SETTINGS_CHANGE_REQUESTED",Mr="SETTINGS_CHANGE_SUCCEEDED",Pr="SETTINGS_CHANGE_FAILED",br="AOL_SETTINGS_MIGRATION_INITIATED",yr="AOL_SETTINGS_MIGRATION_SUCCEEDED",vr="AOL_SETTINGS_MIGRATION_FAILED",Fr="PINNED_EMAIL_PIN_REQUESTED",Ur="PINNED_EMAIL_UNPIN_REQUESTED",kr="PINNED_EMAIL_LIMIT_REACHED",wr="CONTACT_DETAIL_FETCH_REQUESTED",Gr="CONTACT_DETAIL_FETCH_SUCCEEDED",Hr="CONTACT_DETAIL_FETCH_FAILED",Br="IMPORTANT_CONTACTS_FETCH_SUCCEEDED",xr="IMPORTANT_CONTACTS_FETCH_FAILED",Vr="NOTIFICATION_CLOSED",Zr="NOTIFICATION_PAUSED",Wr="NOTIFICATION_RESUME",Kr="SCOUT_TIMER",zr="FEATURE_CUE_MARK_AS_SHOWN_REQUESTED",Yr="FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED",jr="FEATURE_CUE_MARK_AS_SHOWN_FAILED",qr="FEATURE_TRY_NOW_REQUESTED",Xr="FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED",Qr="FEATURE_CUE_MARK_AS_SUCCESS_FAILED",Jr="FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED",$r="FEATURE_CUE_MARK_AS_CLOSE_FAILED",eo="FEATURE_CLOSED",to="FEATURE_CUE_NOTIFICATION_CLOSED",so="CARD_MARK_AS_SHOWN_REQUESTED",ao="CARD_TRY_NOW_REQUESTED",no="CARD_CLOSED",ro="BROWSER_NOTIFICATIONS_DISPLAYED",oo="BULK_PROGRESS_INITIATED",io="BULK_PROGRESS_RECEIVED",lo="BULK_CANCEL_REQUESTED",co="BULK_CANCEL_FAILED",_o="MESSAGE_PRINT_REQUESTED",Eo="MESSAGE_PRINT_SUCCEEDED",uo="MESSAGE_PRINT_CLOSED",mo="MESSAGE_PRINT_CANCELED",So="MESSAGE_PRINT_FAILED",po="DOWNLOAD_REQUESTED",Co="DOWNLOAD_COMPLETED",Ao="DOWNLOAD_FAILED",To="OPT_OUT_OF_NORRIN",Io="OPT_OUT_REQUESTED",ho="OPT_OUT_SUBMIT_FEEDBACK",go="OPT_OUT_CANCEL_FEEDBACK",Oo="DISABLED_FEATURE_BUTTON_HOVERED",Do="DISABLED_FEATURE_CLOSE_BUTTON_CLICKED",Ro="ABOUT_YAHOO_MAIL_PAGE_REQUESTED",No="ADFREE_MAIL_PAGE_REQUESTED",Lo="HELP_PAGE_REQUESTED",fo="PRIVACY_TERMS_PAGE_REQUESTED",Mo="ABOUT_OUR_ADS_PAGE_REQUESTED",Po="FEEDBACK_SUBMITTED",bo="SETTINGS_POPOVER_AUTOOPEN_CHANGED",yo="THEME_CHANGE_REQUESTED",vo="THEME_CHANGE_SUCCEEDED",Fo="THEME_CHANGE_FAILED",Uo="THEME_MODE_CHANGE_REQUESTED",ko="THEME_MODE_CHANGE_SUCCEEDED",wo="THEME_MODE_CHANGE_FAILED",Go="ACCOUNT_DETAILS_CHANGE_REQUESTED",Ho="ACCOUNT_DETAILS_CHANGE_SUCCEEDED",Bo="ACCOUNT_DETAILS_CHANGE_FAILED",xo="ACCOUNTS_OAUTH_TOKEN_REMOVE_SUCCEEDED",Vo="ACCOUNTS_OAUTH_TOKEN_REMOVE_FAILED",Zo="ACCOUNT_DELETE_REQUESTED",Wo="ACCOUNT_DELETE_SUCCEEDED",Ko="ACCOUNT_DELETE_FAILED",zo="ACCOUNT_ADD_REQUESTED",Yo="ACCOUNT_ADD_SUCCEEDED",jo="EMAIL_PROVIDER_SELECTED",qo="ACCOUNT_ADD_FAILED",Xo="ACCOUNT_ADD_FINISHED",Qo="ACCOUNT_ADD_ERROR",Jo="ACCOUNT_SETTINGS_CANCEL",$o="ACCOUNT_ADD_WIZARD_OPENED",ei="ACCOUNT_ADD_SELECT_PROVIDER",ti="ACCOUNT_DELETE_CONFIRMED",si="ACCOUNT_ADD_AUTHORIZED",ai="CONFIRM_EMAIL_RESEND_REQUESTED",ni="CONFIRM_EMAIL_RESEND_SUCCEEDED",ri="CONFIRM_EMAIL_RESEND_FAILED",oi="REVIEW_FORWARD_EMAIL",ii="FETCH_PRIMARY_ACCOUNT",li="ACCOUNT_REAUTH_REQUESTED",ci="ACCOUNT_REAUTH_SUCCEEDED",di="ACCOUNT_REAUTH_FAILED",_i="MESSAGE_CARD_EXPANSION_CHANGED",Ei="V3_MESSAGE_CARD_EXPANSION_CHANGED",ui="MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED",mi="SOCIAL_ACCOUNTS_STATUS_RECEIVED",Si="SOCIAL_ACCOUNT_STATUS_FETCH_FAILED",pi="SOCIAL_ACCOUNTS_DISCONNECT_REQUESTED",Ci="SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED",Ai="SOCIAL_ACCOUNTS_DISCONNECT_FAILED",Ti="SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED",Ii="SOCIAL_ACCOUNTS_CONNECT_FAILED",hi="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED",gi="SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED",Oi="SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED",Di="SOCIAL_ACCOUNTS_IMPORT_FAILED",Ri="SOCIAL_ACCOUNTS_CONNECT_REQUESTED",Ni="IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED",Li="DISCONNECT_CONTACTS_PROVIDER_REQUESTED",fi="CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED",Mi="CONTACTS_PROVIDERS_STATUS_FETCH_FAILED",Pi="DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED",bi="DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED",yi="DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED",vi="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED",Fi="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE",Ui="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED",ki="DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED",wi="ALIAS_EMAIL_CREATE_REQUESTED",Gi="ALIAS_EMAIL_CREATE_SUCCEEDED",Hi="ALIAS_EMAIL_CREATE_FAILED",Bi="UNSEEN_COUNT_RESET",xi="UNSUBSCRIBE_BY_EMAIL_REQUESTED",Vi="UNSUBSCRIBE_BY_EMAIL_SUCCEEDED",Zi="UNSUBSCRIBE_BY_EMAIL_FAILED",Wi="UNSUBSCRIBE_BY_BRAND_REQUESTED",Ki="UNSUBSCRIBE_BY_BRAND_SUCCEEDED",zi="UNSUBSCRIBE_BY_BRAND_FAILED",Yi="TUTORIAL_VIDEO_PLAYED",ji="EXCEPTION_OCCURRED",qi="MESSAGES_UNSUBSCRIBE_CONTENT_RECEIVED",Xi="MESSAGES_UNSUBSCRIBE_CONTENT_REQUESTED",Qi="UNSUBSCRIBE_LIST_REQUEST_SUCCEEDED",Ji="UNSUBSCRIBE_LIST_REQUEST_FAILED",$i="CHANNEL_CHANGED",el="VIDEO_PLAYER_OPENED",tl="VIDEO_PLAYER_CLOSED",sl="CHANNELS_FETCH_REQUESTED",al="VIDEO_CHANNELS_METADATA_RECEIVED",nl="VIDEO_CHANNELS_METADATA_FAILED",rl="CHANNEL_FETCH_REQUESTED",ol="VIDEO_CHANNEL_RECEIVED",il="VIDEO_CHANNEL_FAILED",ll="VIDEO_PLAYER_PLAYED",cl="VIDEO_PLAYER_PAUSED",dl="EMPTY_FOLDER_VIDEO_FETCH_CHANNEL",_l="CONTACT_PICKER_OPENED",El="CONTACT_PICKER_GROUP_CHANGED",ul="CONTACT_SAVE_REQUESTED",ml="CONTACT_SAVE_SUCCEEDED",Sl="CONTACT_SAVE_FAILED",pl="CONTACT_PHOTO_UPLOAD_SUCCEEDED",Cl="CONTACT_PHOTO_UPLOAD_FAILED",Al="CREATE_CONTACT_FAILED",Tl="CREATE_CONTACT_SUCCEEDED",Il="DELETE_CONTACT_REQUESTED",hl="DELETE_CONTACT_SUCCEEDED",gl="DELETE_CONTACT_FAILED",Ol="ADD_TO_CONTACTS",Dl="EDIT_CONTACT_FROM_CARD",Rl="FETCH_ALL_CONTACTS",Nl="MESSAGE_READ_AD_ROTATION_TIMER",Ll="EMOJI_PICKER_CLOSED",fl="EMOJI_PICKER_OPENED",Ml="EMOJI_CATEGORY_CHANGED",Pl="CONTACT_DRAG_DROP",bl="FEATURE_DISABLED",yl="FEATURE_ENABLED",vl="MAILBOX_NOT_SYNCING",Fl="GET_INVITE_INFO_REQUESTED",Ul="RESPOND_TO_INVITE",kl="RESPOND_TO_INVITE_SUCCEEDED",wl="RESPOND_TO_INVITE_FAILED",Gl="RSVP_NAVIGATE_TO_CALENDAR",Hl="INVITEINFO_FETCH_SUCCEEDED",Bl="INVITEINFO_FETCH_FAILED",xl="DRAWER_OPENED",Vl="DRAWER_CLOSED",Zl="CC_BCC_TOGGLED",Wl="LIST_REFRESHED",Kl="APP_INSTALL_CUE_CONTINUE",zl="APP_INSTALL_CUE_INVOKED",Yl="APP_BANNER_SHOWN",jl="NAVIGATE_TO_MAIL_PRO",ql="NAVIGATE_TO_WIDER_PROMO",Xl="MAIL_PLUS_SETTINGS_BUTTON_CLICKED",Ql="MAIL_PLUS_FEATURE_REQUESTED",Jl="MAIL_PLUS_FREE_TRIAL_REQUESTED",$l="STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED",ec="STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED",tc="CLOSE_MAIL_PLUS_FEATURE_UPSELL",sc="DEAL_CARD_GROUP_SHOWN",ac="TOGGLE_DEAL_RECOMMENDATION_PREVIEW",nc="SETTINGS_BLOCKED_DOMAINS_FETCHED",rc="SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED",oc="SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED",ic="SETTINGS_BLOCKED_DOMAIN_ADD_FAILED",lc="SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED",cc="SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED",dc="SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED",_c="SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED",Ec="LOCATION_SUGGEST_REQUESTED",uc="LOCATION_SUGGEST_FAILED",mc="LOCATION_SUGGEST_SUCCEEDED",Sc="NAVIGATE_TO_BOOKING",pc="BOOKING_CARD_RENDERED",Cc="COUPONS_ADD_TAG_DECO_REQUESTED",Ac="COUPONS_REMOVE_TAG_DECO_REQUESTED",Tc="COUPONS_ADD_TAG_DECO_SUCCEEDED",Ic="COUPONS_REMOVE_TAG_DECO_SUCCEEDED",hc="COUPONS_ADD_TAG_DECO_FAILED",gc="COUPONS_REMOVE_TAG_DECO_FAILED",Oc="PHISHING_BANNER_MOUNTED",Dc="PHISHING_REMOVE_BDM_DECO_REQUESTED",Rc="PHISHING_REMOVE_BDM_DECO_SUCCEEDED",Nc="PHISHING_REMOVE_BDM_DECO_FAILED",Lc="REMOVE_SPAM_SCHEMA_REQUESTED",fc="REMOVE_SPAM_SCHEMA_SUCCEEDED",Mc="REMOVE_SPAM_SCHEMA_FAILED",Pc="PARENT_MESSAGE_METADATA_REQUESTED",bc="PARENT_MESSAGE_METADATA_SUCCEEDED",yc="PARENT_MESSAGE_METADATA_FAILED",vc="COUPON_RECOMMENDATIONS_OPENED",Fc="COUPON_RECOMMENDATIONS_CLOSED",Uc="COUPON_RECOMMENDATIONS_AD_CLICKED",kc="MORE_SMARTVIEW_COUPONS_REQUESTED",wc="MORE_COUPONS_REQUESTED",Gc="MORE_COUPONS_REQUEST_FAILED",Hc="MORE_COUPONS_SUCCESS",Bc="COUPONS_LIST_SUCCEEDED",xc="COUPONS_LIST_FAILED",Vc="DEALS_VIEW_EXPANSION_TOGGLED",Zc="EXTRACT_COUPON_REQUESTED",Wc="EXTRACT_COUPON_SUCCEEDED",Kc="EXTRACT_COUPON_FAILED",zc="SELF_EXTRACT_COUPON_MODAL_OPENED",Yc="SELF_EXTRACT_COUPON_MODAL_CLOSED",jc="CATEGORY_FOLLOW_REQUESTED",qc="CATEGORY_UNFOLLOW_REQUESTED",Xc="CATEGORY_FOLLOW_SUCCEEDED",Qc="CATEGORY_FOLLOW_FAILED",Jc="CATEGORY_UNFOLLOW_SUCCEEDED",$c="CATEGORY_UNFOLLOW_FAILED",ed="CATEGORY_FOLLOW_FAILURE_RESET",td="AFFILIATE_OFFERS_FAILED",sd="AFFILIATE_OFFERS_REQUESTED",ad="AFFILIATE_OFFERS_SUCCEEDED",nd="STOREFRONT_MODULES_SUCCEEDED",rd="STOREFRONT_MODULES_FAILED",od="STOREFRONT_DEALS_REQUESTED",id="STOREFRONT_DEALS_SUCCEEDED",ld="STOREFRONT_DEALS_FAILED",cd="STOREFRONT_PRODUCTS_REQUESTED",dd="STOREFRONT_PRODUCTS_SUCCEEDED",_d="STOREFRONT_PRODUCTS_FAILED",Ed="RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED",ud="RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED",md="RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED",Sd="STOREFRONT_EMAILS_MODULES_SUCCEEDED",pd="STOREFRONT_EMAILS_MODULES_FAILED",Cd="STOREFRONT_RECEIPTS_MODULES_SUCCEEDED",Ad="STOREFRONT_RECEIPTS_MODULES_FAILED",Td="STOREFRONT_BRAND_FOLLOW_REQUESTED",Id="STOREFRONT_BRAND_FOLLOW_SUCCEEDED",hd="STOREFRONT_BRAND_FOLLOW_FAILED",gd="STOREFRONT_BRAND_UNFOLLOW_REQUESTED",Od="STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED",Dd="STOREFRONT_BRAND_UNFOLLOW_FAILED",Rd="COMBINE_DEALS_SUCCEEDED",Nd="COMBINE_DEALS_FAILED",Ld="INBOX_COMMERCE_FEATURE_CLICKED",fd="WALLET_LIST_SUCCEEDED",Md="WALLET_LIST_FAILED",Pd="SELECT_WALLET_LIST_ITEM",bd="PINNED_EMAIL_LIST_SUCCEEDED",yd="PINNED_EMAIL_LIST_FAILED",vd="GET_AFFILIATE_CRUMB_SUCCEEDED",Fd="GET_AFFILIATE_CRUMB_FAILED",Ud="PROMO_CODE_COPY_SUCCEEDED",kd="PROMO_CODE_COPY_FAILED",wd="ASTRA_BATCH_API_FAILED",Gd="ASTRA_BATCH_API_SUCCEEDED",Hd="ADBLOCK_UPSELL_EXTENSION_INSTALL_SUCCEEDED",Bd="ADBLOCK_UPSELL_EXTENSION_INSTALL_FAILED",xd="ADBLOCK_UPSELL_OPTION_CLICKED",Vd="ADBLOCK_DETECTED",Zd="ADBLOCK_BEACON_FAILED",Wd="ABP_DETECTED",Kd="NO_ABP_DETECTED",zd="NO_ADBLOCK_DETECTED",Yd="SUBSCRIPTION_LIST_FETCH_SUCCEEDED",jd="SUBSCRIPTION_LIST_FETCH_FAILED",qd="SUBSCRIPTION_LIST_FILTER_CHANGED",Xd="SUBSCRIPTION_LIST_SORT_ORDER_CHANGED",Qd="SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED",Jd="SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED",$d="SHOW_MOBILE_ONBOARDING_CUE",e_="USER_DWELLED_ON_CONTENT",t_="USER_NAVIGATED_ONBOARDING",s_="OPEN_CALENDAR_REQUESTED",a_="CONTACTS_FULL_PANE_OPENED",n_="CONTACTS_FULL_PANE_CONTRACTED",r_="RIGHT_RAIL_COMMS_ICON_CLICKED",o_="CONTACTS_PANE_LIST_FILTER_CHANGED",i_="CONTACTS_LIST_FETCH_SUCCEEDED",l_="CONTACTS_LIST_FETCH_FAILED",c_="CONTACTS_GROUP_FETCH_SUCCEEDED",d_="CONTACTS_GROUP_FETCH_FAILED",__="CATEGORY_LIST_EXPANSION_TOGGLED",E_="CONTACTS_PANE_CONTACT_CLICKED",u_="CONTACTS_PANE_BACK_BUTTON_CLICKED",m_="CONTACTS_PANE_EDIT_BUTTON_CLICKED",S_="CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED",p_="CONTACT_EDIT_CANCELLED",C_="CONTACTS_PANE_SEARCHED",A_="CONTACT_CREATE_CLICKED",T_="CONTACT_SEARCH_CLOSED",I_="CONTACTS_SORT_ORDER_CHANGED",h_="CONTACTS_CATEGORY_FILTER_CHANGED",g_="CONTACTS_RESTORE_CLICKED",O_="CONTACTS_PANE_CREATE_GROUP_REQUESTED",D_="CONTACTS_PANE_SAVE_GROUP_REQUESTED",R_="CONTACTS_PANE_SAVE_GROUP_SUCCEEDED",N_="CONTACTS_PANE_SAVE_GROUP_FAILED",L_="CONTACTS_PANE_CREATE_GROUP_SUCCEEDED",f_="CONTACTS_PANE_CREATE_GROUP_FAILED",M_="CONTACTS_PANE_GROUP_CHANGED",P_="CONTACTS_PANE_EDIT_GROUP",b_="CONTACTS_GROUP_DELETE_REQUESTED",y_="CONTACTS_GROUP_EDIT_EMAIL_SEARCH",v_="CONTACTS_GROUP_DELETE_SUCCEEDED",F_="CONTACTS_GROUP_DELETE_FAILED",U_="EXPORT_ALL_CONTACTS_REQUESTED",k_="PRINT_ALL_CONTACTS_REQUESTED",w_="FETCH_ALL_CONTACTS_SUCCESS",G_="FETCH_ALL_CONTACTS_FAILED",H_="CONTACTS_SNAPSHOT_FETCH_SUCCEEDED",B_="CONTACTS_SNAPSHOT_FETCH_FAILED",x_="CONTACTS_RESTORE_REQUESTED",V_="CONTACTS_RESTORE_SUCCEEDED",Z_="CONTACTS_RESTORE_FAILED",W_="CONTACTS_CSV_IMPORT_REQUESTED",K_="CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY",z_="CONTACTS_CSV_IMPORT_FAILED",Y_="CONTACTS_CSV_IMPORT_SIZE_FAILED",j_="RELATED_SEARCHES_FETCH_SUCCEEDED",q_="RELATED_SEARCHES_FETCH_FAILED",X_="RELATED_SEARCHES_CARD_CLICKED",Q_="SHOW_PUSH_NOTIFICATIONS_CUE",J_="PUSH_NOTIFICATIONS_REQUEST_GRANTED",$_="VIGLINK_CLICKED",eE="UNUSUAL_DISCOUNT_VIGLINK_CLICKED",tE="PERMANENT_DELETE_CANCELLED",sE="VIEW_RAW_MESSAGE",aE="FETCH_RAW_MESSAGE",nE="FETCH_RAW_MESSAGE_SUCCEEDED",rE="FETCH_RAW_MESSAGE_FAILED",oE="OPEN_FIRST_EMAIL",iE="COUPONS_SEARCH_TOP_DEAL_CLICKED",lE="TOGGLE_DETAIL_PANE_EXPANSION",cE="POST_LAUNCH_SYNC_SUCCEEDED",dE="POST_LAUNCH_SYNC_FAILED",_E="POST_LAUNCH_ATTRIBUTES_RECEIVED",EE="COMPOSE_ATTRIBUTES_REQUESTED",uE="COMPOSE_ATTRIBUTES_RECEIVED",mE="COMPOSE_ATTRIBUTES_FETCH_FAILED",SE="TOP_RETAILERS_REQUEST_SUCCEEDED",pE="TOP_RETAILERS_REQUEST_FAILED",CE="TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED",AE="TOP_DEAL_CATEGORIES_REQUEST_FAILED",TE="USER_NAME_PHONE_REG_UPSELL_LOADED",IE="USER_NAME_PHONE_REG_CANCEL_AUTH",hE="RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED",gE="RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED",OE="RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED",DE="TOM_UPSELL_CLICKED",RE="TOM_UPSELL_SHOWN",NE="LASTPASS_FREETRIAL_UPSELL_SHOWN",LE="UNSUBSCRIBE_MARKETING_PREFERENCES",fE="MARKETING_PREFERENCES_WRITE_SUCCEEDED",ME="MARKETING_PREFERENCES_WRITE_FAILED",PE="SUBSCRIBE_MARKETING_PREFERENCES",bE="DISPATCHER_UPSELL_FETCH_SUCCEEDED",yE="DISPATCHER_UPSELL_FETCH_FAILED",vE="TOUCHPOINT_UPSELL_FETCH_SUCCEEDED",FE="TOUCHPOINT_UPSELL_FETCH_FAILED",UE="PURCHASE_MAILPRO_FREE_TRIAL",kE="PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS",wE="PURCHASE_MAILPRO_FREE_TRIAL_FAILED",GE="LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS",HE="LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED",BE="ADD_COMPOSE_HEADER",xE="DELETE_COMPOSE_HEADER",VE="UPDATE_COMPOSE_HEADER_FOCUS",ZE="FORWARD_ATTACHMENTS",WE="CLEAR_FORWARDED_ATTACHMENT_IDS",KE="FORCE_OPTIN_DONE",zE="SHOPPING_CART_AD_CLICKED",YE="DEALS_SHOPPING_CART_AD_CLICKED",jE="PAC_CUE_MARK_AS_SHOWN_REQUESTED",qE="BREAKING_NEWS_SUCCESS",XE="BREAKING_NEWS_FAILED",QE="BREAKING_NEWS_DISMISSED",JE="BREAKING_NEWS_REFRESH",$E="BREAKING_NEWS_CLICKED",eu="BREAKING_NEWS_RENDERED",tu="SENDER_ROLLUP_SUCCEEDED",su="MORE_SENDER_ROLLUP_REQUESTED",au="MORE_SENDER_ROLLUP_SUCCEEDED",nu="MORE_SENDER_ROLLUP_FAILED",ru="SENDER_ROLLUP_FAILED",ou="NEED_TO_KNOW_NEWS_SUCCEEDED",iu="NEED_TO_KNOW_NEWS_FAILED",lu="NEED_TO_KNOW_NEWS_CUE_CLICKED",cu="CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED",du="CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED",_u="CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED",Eu="CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED",uu="CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED",mu="CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED",Su="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED",pu="CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED",Cu="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED",Au="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED",Tu="CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED",Iu="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED",hu="CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED",gu="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED",Ou="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED",Du="CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED",Ru="CLOUD_STORAGE_ITEM_CHANGE_PERMISSIONS_DIALOG_CLICKED",Nu="ATTACH_FILES_MENU_ITEM_CLICKED",Lu="CLOUD_STORAGE_ITEM_LINK_ADDED",fu="CLOUD_STORAGE_ITEM_PREVIEW_CLICKED",Mu="CLOUD_STORAGE_ITEM_PERMISSION_UPDATED",Pu="FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED",bu="FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED",yu="FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED",vu="RELATED_CARDS_FETCH_SUCCEEDED",Fu="RELATED_CARDS_FETCH_FAILED",Uu="TOP_OF_INBOX_FETCH_SUCCEEDED",ku="TOP_OF_INBOX_FETCH_FAILED",wu="TOP_OF_INBOX_CARD_REMOVE",Gu="TOP_OF_INBOX_CARD_REMOVE_UNDO",Hu="TOP_OF_INBOX_CARD_REMOVE_ALL",Bu="TOP_OF_INBOX_CARD_REMOVE_ALL_UNDO",xu="TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED",Vu="TOP_OF_INBOX_MESSAGES_FETCH_FAILED",Zu="TOP_OF_INBOX_FIRST_CARD_OPENED",Wu="TOP_OF_INBOX_BOTTOM_OPTIONS_OPEN",Ku="TOP_OF_INBOX_BOTTOM_OPTIONS_CLOSE",zu="TOP_OF_INBOX_EXPAND_CLOSE",Yu="TOP_OF_INBOX_COOKIE_ENABLE",ju="TASTEMAKER_CONSUME_SUCCEEDED",qu="TASTEMAKER_CONSUME_FAILED",Xu="TASTEMAKER_DELETE_SUCCEEDED",Qu="TASTEMAKER_DELETE_FAILED",Ju="TOGGLE_ADVANCED_SEARCH_PANE",$u="LEFT_NAV_RESIZED",em="WEATHER_GET_REQUESTED",tm="GET_WEATHER_SUCCESS",sm="GET_WEATHER_FAILED",am="WEATHER_LOCATION_SUGGESTIONS_REQUESTED",nm="WEATHER_LOCATION_SUCCESS",rm="WEATHER_LOCATION_FAILED",om="SPELL_CHECK_SUGGESTIONS_REQUESTED",im="SPELL_CHECK_SUCCESS",lm="SPELL_CHECK_FAILED",cm="FETCH_ALL_TODOS_REQUESTED",dm="FETCH_ALL_TODOS_SUCCEEDED",_m="FETCH_ALL_TODOS_FAILED",Em="POST_LAUNCH_FETCH_TODOS_SUCCEEDED",um="POST_LAUNCH_FETCH_TODOS_FAILED",mm="CREATE_TODO_REQUESTED",Sm="CREATE_TODO_SUCCEEDED",pm="CREATE_TODO_FAILED",Cm="UPDATE_TODO_REQUESTED",Am="UPDATE_TODO_SUCCEEDED",Tm="UPDATE_TODO_FAILED",Im="DELETE_TODO_DEFERRED_REQUESTED",hm="DELETE_TODO_CANCEL_REQUESTED",gm="DELETE_TODO_NOW_REQUESTED",Om="DELETE_TODO_SUCCEEDED",Dm="DELETE_TODO_FAILED",Rm="CHANGE_TODOS_PANE_FILTER",Nm="CHANGE_TODOS_PANE_VIEW",Lm="JAC_AD_RENDERED",fm="AD_REPORTER_CLICKED",Mm="ATHENA_ADBLOCKER_SIGNAL_DETECTED",Pm="GPT_IFRAME_LOADED",bm="GPT_IFRAME_UNLOADED",ym="GPT_IFRAME_REMOUNT_REQUESTED",vm="GPT_IFRAME_REMOUNT_SUCCEEDED",Fm="GPT_IFRAME_UBA_CLASSNAME_ADDED",Um="MESSAGE_READ_MOUSE_MOVED",km="UPDATE_ALL_THEMES_RENDERED",wm="UPDATE_STICKY_ONBOARDING_EXPANSION",Gm="NO_FULL_PANE_AD_RETURNED_FOR_SEND_CONFIRM",Hm="YAI_SUGGESTIONS_REQUESTED",Bm="YAI_SUGGESTIONS_RECEIVED",xm="YAI_SUGGESTIONS_FAILED",Vm="YAI_SEARCH_CONSUME_REQUESTED",Zm="YAI_SEARCH_CONSUME_SUCCEEDED",Wm="YAI_SEARCH_CONSUME_FAILED",Km="YAI_SEARCH_ANSWER_FEEDBACK_ADDED",zm="YAI_REFRESH_SEARCH_SUCCEEDED",Ym="YAI_REFRESH_SEARCH_FAILED",jm="GENERATE_MSG_FROM_PROMPT_REQUESTED",qm="GENERATE_MSG_FROM_PROMPT_SUCCEEDED",Xm="GENERATE_MSG_FROM_PROMPT_FAILED",Qm="REPHRASE_CONTENT_BY_TONE_REQUESTED",Jm="REPHRASE_CONTENT_BY_PROMPT_REQUESTED",$m="REPHRASE_CONTENT_SUCCEEDED",eS="REPHRASE_CONTENT_FAILED",tS="AI_COMPOSER_INITIALIZED",sS="AI_COMPOSER_UPDATE_VIEW",aS="AI_COMPOSER_NOTIFY_ERROR",nS="AI_COMPOSER_DISMISS_ERROR",rS="WALLET_FEEDBACK_YES",oS="WALLET_FEEDBACK_ALREADY_ADDED",iS="FETCH_ALL_NOTEBOOKS_AND_NOTES_REQUESTED",lS="FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED",cS="FETCH_ALL_NOTEBOOKS_AND_NOTES_FAILED",dS="CHANGE_NOTES_PANE_VIEW",_S="CHANGE_NOTES_PANE_SECTION",ES="CREATE_NOTE_REQUESTED",uS="CREATE_NOTE_SUCCEEDED",mS="CREATE_NOTE_FAILED",SS="UPDATE_NOTE_REQUESTED",pS="UPDATE_NOTE_SUCCEEDED",CS="UPDATE_NOTE_FAILED",AS="DELETE_NOTE_DEFERRED_REQUESTED",TS="DELETE_NOTE_CANCEL_REQUESTED",IS="DELETE_NOTE_NOW_REQUESTED",hS="DELETE_NOTE_SUCCEEDED",gS="DELETE_NOTE_FAILED",OS="CREATE_JOURNAL_FOLDER_REQUESTED",DS="CREATE_JOURNAL_FOLDER_SUCCEEDED",RS="CREATE_JOURNAL_FOLDER_FAILED",NS="UPDATE_JOURNAL_FOLDER_REQUESTED",LS="UPDATE_JOURNAL_FOLDER_SUCCEEDED",fS="UPDATE_JOURNAL_FOLDER_FAILED",MS="CHANGE_NOTEBOOKS_SECTION_VIEW",PS="SET_NOTEBOOK_ID",bS="DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED",yS="DELETE_JOURNAL_FOLDER_SUCCEEDED",vS="DELETE_JOURNAL_FOLDER_FAILED",FS="DELETE_JOURNAL_FOLDER_NOW_REQUESTED",US="DELETE_JOURNAL_FOLDER_CANCEL_REQUESTED",kS="NOTE_TAB_CLOSE",wS="NOTE_TAB_STATUS",GS="YAI_OPT_IN_REQUESTED",HS="YAI_OPT_IN_SUCCEEDED",BS="YAI_OPT_IN_FAILED",xS="YAI_RETRO_COMPOSE_REQUESTED",VS="YAI_RETRO_COMPOSE_SUCCEEDED",ZS="YAI_RETRO_COMPOSE_FAILED",WS="YAI_RETRO_COMPOSE_CLEAR"},87873:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});const a=(0,s(67294).createContext)({store:{},subscription:{}})},66905:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(6097),n=s(37422),r=s(17901),o=s(51917),i=s(19793);let l;!function(e){e.ADD="add",e.UPDATE="update",e.DELETE="delete"}(l||(l={}));var c=s(42655),d=s(52300);function _(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const E="x-cp-namespace",u="x-rivendell-regid";function m(e,t){if(null==e)throw new Error(`${t}; Expected 'val' to be defined, but received ${e}`)}class S extends r.Z{static isResponseError(e){if("object"!=typeof e||null===e)return!1;const{token:t,name:s,errorCode:a}=e;return"MAIL-ERROR"===t&&"HttpTransport.NotOkStatusCode"===s&&!!a}constructor(e){const{guidHash:t,appId:s,userNamespace:a,service:n}=e;super({...e,loggerName:`${n}_client_request`}),this.host="tap"===n?"https://client-tap.push.yahoo.com/":"https://api.push.yahoo.com/",this.ymreqid=new o.Z(t,i.N7,i.Q_).generate(),this.appId=s,this.userNamespace=a}async register(e,t,s){const r=new URL("/v1/registration",this.host);r.searchParams.set("mailAppId",this.appId),r.searchParams.set("ymreqid",this.ymreqid);const o=new a.Z(n.f2m.POST,r.toString());if(o.withCredentials=!0,o.setHeader(E,this.userNamespace),o.setHeader("Content-Type","application/json"),"update"===e){if(m(s,"registrationId must be defined for update operation"),!s)throw new Error("registrationId cannot be an empty string and must be defined for update operation");o.setHeader(u,s)}const i=t.toJSON();m(i.keys,"keys are missing from parsedSubscription");const l={app:{id:"com.yahoo.mail.browser.chrome"},pushInfo:{pushToken:d.DS.encode(JSON.stringify(i)),pushService:"webpush",osNotificationEnabled:!0,appNotificationEnabled:!0}},_=o.send(JSON.stringify(l)).then((e=>{var t;const s=null===(t=e.body)||void 0===t?void 0:t.registrationId;if(!s)throw new c.Z("PushNotifications.MissingRegistrationId");return{registrationId:s}}));return this.logRequest(_,{apiName:"register",appId:this.appId,operation:e,ymreqid:this.ymreqid}),_}async addRegistration(e){return this.register("add",e)}async updateRegistration(e,t){return this.register("update",e,t)}async associate(e,t,s){const r=new URL("/v1/association",this.host);r.searchParams.set("mailAppId",this.appId),r.searchParams.set("ymreqid",this.ymreqid);const o=new a.Z(n.f2m.POST,r.toString());o.withCredentials=!0,o.setHeader(u,e),o.setHeader(E,this.userNamespace),o.setHeader("Content-Type","application/json");const i={operation:t,useGuidAsValue:!0};t!==l.DELETE&&(i.attributes=s);const c=o.send(JSON.stringify(i));this.logRequest(c,{apiName:"associate",operation:t,appId:this.appId,ymreqid:this.ymreqid}),await c}async addAssociation(e,t){return this.associate(e,l.ADD,t)}async updateAssociation(e,t){return this.associate(e,l.UPDATE,t)}async deleteAssociation(e){return this.associate(e,l.DELETE,[])}}_(S,"ERROR_NO_REGISTRATION_EXISTS",400001),_(S,"ERROR_NO_ASSOCIATION_EXISTS",400013),_(S,"ERROR_ASSOCIATION_EXISTS",400017);const p=S},72243:(e,t,s)=>{"use strict";s.d(t,{b:()=>n});var a=s(4424);const n=()=>(0,a.X3)("tap-sdk",3,{upgrade(e){const t=e;["tap_registration","tap_association","rivendell_association","rivendell_registration"].forEach((t=>((e,t)=>{e.objectStoreNames.contains(t)||e.createObjectStore(t)})(e,t))),t.objectStoreNames.contains("tap_subscription")&&t.deleteObjectStore("tap_subscription")}})},35098:(e,t,s)=>{"use strict";s.d(t,{F3:()=>d,Pq:()=>o,j3:()=>i,y1:()=>n});var a=s(72243);let n;!function(e){e.FTI="FTI",e.PE="PE",e.SH="SH",e.TR="TR",e.CPN="CPN",e.PKG="PKG",e.PCS="PCS",e.INV="INV",e.ORD="ORD"}(n||(n={}));const r=e=>Object.keys(n).some((t=>e===t)),o=e=>{var t,s;const a=e.split("|");if("mail/new_mail_v4"!==a[0])return;if("notify"!==a[1])return;if(0!==(null===(t=a[3])||void 0===t?void 0:t.indexOf("deco:")))return;const n=null===(s=a[3].split(":").pop())||void 0===s?void 0:s.split(",").filter(r);return n?{subscriptionId:a[2],decos:n}:void 0},i=e=>`mail/new_mail_v4|notify|${e.subscriptionId}|deco:${e.decos.join(",")}`;function l(e){return void 0!==e&&"object"==typeof e&&null!==e&&!Array.isArray(e)&&"tags"in e&&Array.isArray(e.tags)}function c(e){return null!=e}const d=async()=>{var e;const t=await(0,a.b)(),s=await t.get("tap_association","attributes"),n=await t.get("tap_association","inactiveAttributes");if(t.close(),!l(s)||s.tags.some((e=>"string"!=typeof e)))throw new TypeError("Invalid notify tags.");return l(n)&&n.tags.every((e=>"string"==typeof e))&&0===(null===(e=s.tags)||void 0===e?void 0:e.length)?n.tags.map(o).filter(c).map((({subscriptionId:e})=>({subscriptionId:e,decos:[]}))):s.tags.map(o).filter(c)}},9026:(e,t,s)=>{"use strict";s.d(t,{$o:()=>b,HM:()=>g,KC:()=>E,Kz:()=>C,L5:()=>M,L_:()=>P,Lv:()=>f,O3:()=>R,OW:()=>v,P4:()=>h,Sr:()=>S,XF:()=>O,Zd:()=>_,b3:()=>T,cN:()=>y,jX:()=>D,s8:()=>N,tK:()=>p,v1:()=>I,zg:()=>o.zgU});var a=s(10728),n=s(95406),r=s(90775),o=s(37422);const i=a.E6z.vzm_turmeric,l=a.E6z.vzm_turmeric,c=a.E6z.vzm_inkwell,d=a.E6z.vzm_pebble,_={SPRING:{IMAGE:"/img/spring.png",THEME_CHOOSER_THUMBNAIL:"/img/spring_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#80a9c1",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#D78681",GRADIENT_COLOR_2:"#D78681",GRADIENT_COLOR_3:"#D78681",HIGHLIGHT:"#D78681",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#D78681",SEGMENT_BORDER_COLOR:(0,r.m)("#D78681",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#D78681",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#D78681",.08),READER_BACKGROUND_COLOR_DARK:"#2F3638",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#D78681",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#D78681",.16),FOLDER_ACTIVED_BORDER:"2px solid #D78681",ITEM_SELECTED_BGCOLOR:(0,r.m)("#D78681",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#D78681",.16),OPACITY_MASK_COLOR:"#2a2828",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#D78681",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},WINTER:{IMAGE:"/img/winter.png",THEME_CHOOSER_THUMBNAIL:"/img/winter_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#b2bbc0",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#000000",GRADIENT_COLOR_2:"#000000",GRADIENT_COLOR_3:"#000000",HIGHLIGHT:"#6998B5",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#6998B5",SEGMENT_BORDER_COLOR:(0,r.m)("#6998B5",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#6998B5",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#6998B5",.08),READER_BACKGROUND_COLOR_DARK:"#293138",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#6998B5",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#6998B5",.16),FOLDER_ACTIVED_BORDER:"2px solid #6998B5",ITEM_SELECTED_BGCOLOR:(0,r.m)("#6998B5",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#6998B5",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#6998B5",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},SUMMER:{IMAGE:"/img/summer.png",THEME_CHOOSER_THUMBNAIL:"/img/summer_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#d1a468",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"#d1a468",GRADIENT_COLOR_1:"#000000",GRADIENT_COLOR_2:"#000000",GRADIENT_COLOR_3:"#000000",HIGHLIGHT:"#FF8B12",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#FF8B12",SEGMENT_BORDER_COLOR:(0,r.m)("#FF8B12",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#FF8B12",.08),READER_BACKGROUND_COLOR_DARK:"#3A2E1D",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.16),FOLDER_ACTIVED_BORDER:"2px solid #FF8B12",ITEM_SELECTED_BGCOLOR:(0,r.m)("#FF8B12",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#FF8B12",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#FF8B12",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},GALAXY:{IMAGE:"/img/galaxy.png",THEME_CHOOSER_THUMBNAIL:"/img/galaxy_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#318d97",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#2FB575",GRADIENT_COLOR_2:"#2FB575",GRADIENT_COLOR_3:"#2FB575",HIGHLIGHT:"#2FB575",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#2FB575",SEGMENT_BORDER_COLOR:(0,r.m)("#2FB575",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#2FB575",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#2FB575",.08),READER_BACKGROUND_COLOR_DARK:"#0D2024",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#2FB575",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#2FB575",.16),FOLDER_ACTIVED_BORDER:"2px solid #2FB575",ITEM_SELECTED_BGCOLOR:(0,r.m)("#2FB575",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#2FB575",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#2FB575",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},FALL:{IMAGE:"/img/fall.png",THEME_CHOOSER_THUMBNAIL:"/img/fall_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#17151a",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#E0633B",GRADIENT_COLOR_2:"#E0633B",GRADIENT_COLOR_3:"#E0633B",HIGHLIGHT:"#E0633B",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#E0633B",SEGMENT_BORDER_COLOR:(0,r.m)("#E0633B",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#E0633B",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#E0633B",.08),READER_BACKGROUND_COLOR_DARK:"#462731",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#E0633B",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#E0633B",.16),FOLDER_ACTIVED_BORDER:"2px solid #E0633B",ITEM_SELECTED_BGCOLOR:(0,r.m)("#E0633B",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#E0633B",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#E0633B",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},WESTERN:{IMAGE:"/img/western.png",THEME_CHOOSER_THUMBNAIL:"/img/western_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#d77b3f",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#949772",GRADIENT_COLOR_2:"#949772",GRADIENT_COLOR_3:"#949772",HIGHLIGHT:"#949772",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#949772",SEGMENT_BORDER_COLOR:(0,r.m)("#949772",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#949772",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#949772",.08),READER_BACKGROUND_COLOR_DARK:"#683C20",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#949772",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#949772",.16),FOLDER_ACTIVED_BORDER:"2px solid #949772",ITEM_SELECTED_BGCOLOR:(0,r.m)("#949772",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#949772",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#949772",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},SUNSET:{IMAGE:"/img/sunset.png",THEME_CHOOSER_THUMBNAIL:"/img/sunset_thumb.png",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#1e252a",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"100%",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#000000",GRADIENT_COLOR_2:"#000000",GRADIENT_COLOR_3:"#000000",HIGHLIGHT:"#FF8B12",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#FF8B12",SEGMENT_BORDER_COLOR:(0,r.m)("#FF8B12",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#FF8B12",.08),READER_BACKGROUND_COLOR_DARK:"#37201E",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#FF8B12",.16),FOLDER_ACTIVED_BORDER:"2px solid #FF8B12",ITEM_SELECTED_BGCOLOR:(0,r.m)("#FF8B12",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#FF8B12",.16),OPACITY_MASK_COLOR:"#1d1d1d",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#000000",.3),CLIP_BUTTON_COLOR:"#FF8B12",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"}},E={NIGHT_LANDSCAPE:{IMAGE:"/img/night_landscape.jpg",THEME_CHOOSER_THUMBNAIL:"/img/night_landscape_thumb.png",BG_BACKGROUND_COLOR:"#1d1f39",BACKGROUND_COLOR:"#1d1f39",BACKGROUND_SIZE:"100% auto",BACKGROUND_REPEAT:"no-repeat",MAX_BACKGROUND_SIZE:"100% auto",GRADIENT_COLOR_1:"#8DA4EC",GRADIENT_COLOR_2:"#8DA4EC",GRADIENT_COLOR_3:"#8DA4EC",HIGHLIGHT:"#8DA4EC",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#8DA4EC",SEGMENT_BORDER_COLOR:(0,r.m)("#8DA4EC",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#8DA4EC",.08),READER_BACKGROUND_COLOR_DARK:"#232739",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#8DA4EC",.16),FOLDER_ACTIVED_BORDER:"2px solid #8DA4EC",ITEM_SELECTED_BGCOLOR:(0,r.m)("#8DA4EC",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#8DA4EC",.16),OPACITY_MASK_COLOR:"#111222",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#111222",.3),CLIP_BUTTON_COLOR:"#8DA4EC",CARD_HIGHLIGHT_COLOR:"#1d1f39",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},ROADTRIP:{IMAGE:"/img/roadtrip.jpg",THEME_CHOOSER_THUMBNAIL:"/img/roadtrip_thumb.png",BACKGROUND_REPEAT_IMAGE:"/img/roadtrip_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"349px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#be8f85",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#d9aa76",GRADIENT_COLOR_2:"#d9aa76",GRADIENT_COLOR_3:"#d9aa76",HIGHLIGHT:"#d9aa76",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#d9aa76",SEGMENT_BORDER_COLOR:(0,r.m)("#d9aa76",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#d9aa76",.08),READER_BACKGROUND_COLOR_DARK:"#5D4641",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#d9aa76",.16),FOLDER_ACTIVED_BORDER:"2px solid #d9aa76",ITEM_SELECTED_BGCOLOR:(0,r.m)("#d9aa76",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#d9aa76",.16),OPACITY_MASK_COLOR:a.FPr,PREVIEWR_TOOLBAR_COLOR:(0,r.m)(a.FPr,.3),CLIP_BUTTON_COLOR:"#d9aa76",CARD_HIGHLIGHT_COLOR:"#5D4641",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},SUNSET_AUSSIE:{IMAGE:"/img/sunset_aussie.jpg",THEME_CHOOSER_THUMBNAIL:"/img/sunset_aussie_thumb.png",BACKGROUND_REPEAT_IMAGE:"/img/sunset_aussie_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#5B3B3E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#ef8f4e",GRADIENT_COLOR_2:"#ef8f4e",GRADIENT_COLOR_3:"#ef8f4e",HIGHLIGHT:"#ef8f4e",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:(0,r.m)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#ef8f4e",.08),READER_BACKGROUND_COLOR_DARK:"#3E292B",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:(0,r.m)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#ef8f4e",.16),OPACITY_MASK_COLOR:"#352431",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#352431",.3),CLIP_BUTTON_COLOR:"#ef8f4e",CARD_HIGHLIGHT_COLOR:"#5B3B3E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},LIGHTHOUSE:{IMAGE:"/img/lighthouse.jpg",THEME_CHOOSER_THUMBNAIL:"/img/lighthouse_thumb.png",BACKGROUND_REPEAT_IMAGE:"/img/lighthouse_bg_pattern.jpg",BACKGROUND_REPEAT_IMAGE_SIZE:"263.5px auto",BACKGROUND_REPEAT:"repeat-x",BACKGROUND_REPEAT_IMAGE_POSITION:"top",BACKGROUND_COLOR:"#03383E",BACKGROUND_SIZE:"100% auto",MAX_BACKGROUND_SIZE:"1920px auto",BG_BACKGROUND_COLOR:"transparent",GRADIENT_COLOR_1:"#85CBAC",GRADIENT_COLOR_2:"#85CBAC",GRADIENT_COLOR_3:"#85CBAC",HIGHLIGHT:"#85CBAC",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#85CBAC",SEGMENT_BORDER_COLOR:(0,r.m)("#85CBAC",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#85CBAC",.08),READER_BACKGROUND_COLOR_DARK:"#011B1E",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#85CBAC",.16),FOLDER_ACTIVED_BORDER:"2px solid #85CBAC",ITEM_SELECTED_BGCOLOR:(0,r.m)("#85CBAC",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#85CBAC",.16),OPACITY_MASK_COLOR:"#072328",PREVIEWR_TOOLBAR_COLOR:(0,r.m)("#072328",.3),CLIP_BUTTON_COLOR:"#85CBAC",CARD_HIGHLIGHT_COLOR:"#03383E",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},..._},u={HIGH_CONTRAST:{YBAR_BACKGROUND_COLOR:"#2C363F",BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:a.E6z.vzm_white,GRADIENT_COLOR_2:"#2C363F",GRADIENT_COLOR_3:"#0F69FF",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#0F69FF",SEGMENT_BORDER_COLOR:(0,r.m)("#0F69FF",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#0F69FF",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#0F69FF",.08),READER_BACKGROUND_COLOR_DARK:"#161B1F",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#0F69FF",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#0F69FF",.16),FOLDER_ACTIVED_BORDER:"2px solid #0F69FF",ITEM_SELECTED_BGCOLOR:(0,r.m)("#0F69FF",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#0F69FF",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#0F69FF",CARD_HIGHLIGHT_COLOR:"#373A43",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#0F69FF",BACKGROUND_COLOR:"#2C363F",SEARCH_INPUT_BORDER:"1px solid #828A93",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#0C54CC"},DEFAULT:{BROWSER_URLBAR_COLOR:a.E6z.vzm_white,GRADIENT_COLOR_1:a.m1H,GRADIENT_COLOR_2:a.m1H,GRADIENT_COLOR_3:a.twz,HIGHLIGHT:"#4faaff",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:a.HOW,SEGMENT_BORDER_COLOR:(0,r.m)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#4faaff",.08),READER_BACKGROUND_COLOR_DARK:"#33316F",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)(a.HOW,.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)(a.HOW,.16),FOLDER_ACTIVED_BORDER:`2px solid ${a.HOW}`,ITEM_SELECTED_BGCOLOR:(0,r.m)(a.vAi,.32),ITEM_HOVERED_BGCOLOR:(0,r.m)(a.vAi,.16),PREVIEWR_TOOLBAR_COLOR:a.twz,CLIP_BUTTON_COLOR:a.HOW,CARD_HIGHLIGHT_COLOR:a.E6z.vzm_blurple,SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},SUNRISE:{BROWSER_URLBAR_COLOR:"#e07400",GRADIENT_COLOR_1:"#f3b049",GRADIENT_COLOR_2:"#ea7d56",GRADIENT_COLOR_3:"#d4207d",HIGHLIGHT:"#ef8f4e",BOLD_OUTLINE_COLOR:a.E6z.vzm_turmeric,BOLD_OUTLINE_COLOR_DARK:a.E6z.vzm_mimosa,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#ef8f4e",SEGMENT_BORDER_COLOR:(0,r.m)("#ef8f4e",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#ef8f4e",.08),READER_BACKGROUND_COLOR_DARK:"#6F2B32",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#ef8f4e",.16),FOLDER_ACTIVED_BORDER:"2px solid #ef8f4e",ITEM_SELECTED_BGCOLOR:(0,r.m)("#ef8f4e",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#ef8f4e",.16),PREVIEWR_TOOLBAR_COLOR:"#d4207d",CLIP_BUTTON_COLOR:"#ef8f4e",CARD_HIGHLIGHT_COLOR:"#d4207d",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},AQUA_GREEN:{BROWSER_URLBAR_COLOR:a.E6z.vzm_spirulina,GRADIENT_COLOR_1:"#a0b952",GRADIENT_COLOR_2:"#4fa46d",GRADIENT_COLOR_3:a.E6z.vzm_spirulina,HIGHLIGHT:"#7aaf60",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#7aaf60",SEGMENT_BORDER_COLOR:(0,r.m)("#7aaf60",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#7aaf60",.08),READER_BACKGROUND_COLOR_DARK:"#204E39",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#7aaf60",.16),FOLDER_ACTIVED_BORDER:"2px solid #7aaf60",ITEM_SELECTED_BGCOLOR:(0,r.m)("#7aaf60",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#7aaf60",.16),PREVIEWR_TOOLBAR_COLOR:a.E6z.vzm_spirulina,CLIP_BUTTON_COLOR:"#7aaf60",CARD_HIGHLIGHT_COLOR:"#4FA46D",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},AQUA_BLUE:{BROWSER_URLBAR_COLOR:"#0034a3",GRADIENT_COLOR_1:"#26b0b1",GRADIENT_COLOR_2:"#1373aa",GRADIENT_COLOR_3:"#0034a3",HIGHLIGHT:"#1d92ae",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#1d92ae",SEGMENT_BORDER_COLOR:(0,r.m)("#1d92ae",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#1d92ae",.08),READER_BACKGROUND_COLOR_DARK:"#073053",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#1d92ae",.16),FOLDER_ACTIVED_BORDER:"2px solid #1d92ae",ITEM_SELECTED_BGCOLOR:(0,r.m)("#1d92ae",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#1d92ae",.16),PREVIEWR_TOOLBAR_COLOR:"#0034a3",CLIP_BUTTON_COLOR:"#1d92ae",CARD_HIGHLIGHT_COLOR:"#1373aa",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},DEEP_PURPLE:{BROWSER_URLBAR_COLOR:"#200f35",GRADIENT_COLOR_1:"#8d7da2",GRADIENT_COLOR_2:"#59496e",GRADIENT_COLOR_3:"#200f35",HIGHLIGHT:"#b08ae4",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#b08ae4",SEGMENT_BORDER_COLOR:(0,r.m)("#b08ae4",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#b08ae4",.08),READER_BACKGROUND_COLOR_DARK:"#271E30",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#b08ae4",.16),FOLDER_ACTIVED_BORDER:"2px solid #b08ae4",ITEM_SELECTED_BGCOLOR:(0,r.m)("#b08ae4",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#b08ae4",.16),PREVIEWR_TOOLBAR_COLOR:"#200f35",CLIP_BUTTON_COLOR:"#b08ae4",CARD_HIGHLIGHT_COLOR:"#59496e",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},BLUE_NIGHT:{BROWSER_URLBAR_COLOR:"#1c3e5c",GRADIENT_COLOR_1:"#1c3e5c",GRADIENT_COLOR_2:"#1c3e5c",GRADIENT_COLOR_3:"#1c3e5c",HIGHLIGHT:"#4faaff",BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#4faaff",SEGMENT_BORDER_COLOR:(0,r.m)("#4faaff",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#4faaff",.08),READER_BACKGROUND_COLOR_DARK:"#0E1E2D",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#4faaff",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#4faaff",.16),FOLDER_ACTIVED_BORDER:"2px solid #4faaff",ITEM_SELECTED_BGCOLOR:(0,r.m)("#4faaff",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#4faaff",.16),PREVIEWR_TOOLBAR_COLOR:"#0e283e",CLIP_BUTTON_COLOR:"#4faaff",CARD_HIGHLIGHT_COLOR:"#1c3e5c",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},DARK_GREY:{BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:"#5C6070",GRADIENT_COLOR_2:"#5C6070",GRADIENT_COLOR_3:"#373A43",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#5C6070",SEGMENT_BORDER_COLOR:(0,r.m)("#5C6070",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#5C6070",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#5C6070",.08),READER_BACKGROUND_COLOR_DARK:"#2A2B32",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#5C6070",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#5C6070",.16),FOLDER_ACTIVED_BORDER:"2px solid #5C6070",ITEM_SELECTED_BGCOLOR:(0,r.m)("#5C6070",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#5C6070",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#5C6070",CARD_HIGHLIGHT_COLOR:"#373A43",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"}};let m={DEFAULT:{...u.DARK_GREY,GRADIENT_COLOR_1:(0,r.m)(a.E6z.vzm_white,.5),GRADIENT_COLOR_2:(0,r.m)(a.E6z.vzm_white,.5),GRADIENT_COLOR_3:(0,r.m)(a.E6z.vzm_white,.3),SIDEBAR_COLOR:"#333",BACKGROUND_COLOR:a.E6z.vzm_black}};m=Object.keys(m).reduce((function(e,t){return e[`${o.Bs7.AOL}_${t}`]=m[t],e}),{});const S={AOL:{BROWSER_URLBAR_COLOR:"#0096ef",GRADIENT_COLOR_1:"#0096ef",GRADIENT_COLOR_2:"#0096ef",GRADIENT_COLOR_3:"#0096ef",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#e81d82",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#e81d82",SEGMENT_BORDER_COLOR:(0,r.m)("#e81d82",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#e81d82",.16),SEGMENT_HOVER_COLOR:(0,r.m)("#e81d82",.08),READER_BACKGROUND_COLOR_DARK:"#005486",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#e81d82",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#e81d82",.08),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #e81d82",FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,ITEM_SELECTED_BGCOLOR:(0,r.m)(a.vAi,.32),ITEM_HOVERED_BGCOLOR:(0,r.m)(a.vAi,.16),PREVIEWR_TOOLBAR_COLOR:"#027fc9",CLIP_BUTTON_COLOR:a.HOW,CARD_HIGHLIGHT_COLOR:"#0096ef",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#ffffff57",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#ffffff26"},AOL_HIGH_CONTRAST:{YBAR_BACKGROUND_COLOR:"#2C363F",BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:a.E6z.vzm_white,GRADIENT_COLOR_2:"#2C363F",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#006DB0",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#006DB0",SEGMENT_BORDER_COLOR:(0,r.m)("#006DB0",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#006DB0",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#006DB0",.08),READER_BACKGROUND_COLOR_DARK:"#161B1F",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#006DB0",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#006DB0",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #006DB0",ITEM_SELECTED_BGCOLOR:(0,r.m)("#006DB0",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#006DB0",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#006DB0",CARD_HIGHLIGHT_COLOR:"#373A43",BACKGROUND_COLOR:"#2C363F",FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#2C363F",SEARCH_INPUT_BORDER:"1px solid #828A93",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#2c363fc7"},CLASSIC:{YBAR_BACKGROUND_COLOR:"#004D7C",BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:a.E6z.vzm_white,GRADIENT_COLOR_2:"#004D7C",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#0096EF",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#0096EF",SEGMENT_BORDER_COLOR:(0,r.m)("#0096EF",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#0096EF",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#0096EF",.08),READER_BACKGROUND_COLOR_DARK:"#00263D",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#0096EF",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#0096EF",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #0096EF",ITEM_SELECTED_BGCOLOR:(0,r.m)("#0096EF",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#0096EF",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#0096EF",CARD_HIGHLIGHT_COLOR:"#373A43",BACKGROUND_COLOR:(0,r.m)("#004D7C",.8),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#E81D82",SEARCH_INPUT_BORDER:"1px solid #828A93",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#D11A75"},SIMPLE:{YBAR_BACKGROUND_COLOR:"#0092CC",BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:a.E6z.vzm_white,GRADIENT_COLOR_2:"#0092CC",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#288EE4",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#288EE4",SEGMENT_BORDER_COLOR:(0,r.m)("#288EE4",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#288EE4",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#288EE4",.08),READER_BACKGROUND_COLOR_DARK:"#004764",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#288EE4",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#288EE4",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #288EE4",ITEM_SELECTED_BGCOLOR:(0,r.m)("#288EE4",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#288EE4",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#288EE4",CARD_HIGHLIGHT_COLOR:"#373A43",BACKGROUND_COLOR:(0,r.m)("#0092CC",.8),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#288EE4",SEARCH_INPUT_BORDER:"1px solid #828A93",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#2480CD"},AIM:{BROWSER_URLBAR_COLOR:"#373A43",THEME_CHOOSER_THUMBNAIL:"/img/aim_thumb.png",GRADIENT_COLOR_1:"#198EA4",GRADIENT_COLOR_2:"#1B8497",GRADIENT_COLOR_3:"#1EABBA",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#1EA7B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#1EA7B7",SEGMENT_BORDER_COLOR:(0,r.m)("#1EA7B7",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#1EA7B7",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#1EA7B7",.08),READER_BACKGROUND_COLOR_DARK:"#0D424B",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#1EA7B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#1EA7B7",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #1EA7B7",ITEM_SELECTED_BGCOLOR:(0,r.m)("#1EA7B7",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#1EA7B7",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#1EA7B7",CARD_HIGHLIGHT_COLOR:"#373A43",FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,YBAR_BACKGROUND_IMAGE:"/img/aim_ybar_background.png",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#EDCA03",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#D5B603"},AOLCOM:{BROWSER_URLBAR_COLOR:"#373A43",GRADIENT_COLOR_1:"#3399FF",GRADIENT_COLOR_2:"#3399FF",GRADIENT_COLOR_3:"#3399FF",HIGHLIGHT:a.E6z.vzm_white,BG_BACKGROUND_COLOR:(0,r.m)("#000000",.6),BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#333333",COMPOSE_BUTTON_COLOR_PARTNER_DARK:"#333333",SEGMENT_BORDER_COLOR:(0,r.m)("#3399FF",.64),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#3399FF",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#3399FF",.08),READER_BACKGROUND_COLOR_DARK:"#194B7D",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#3399FF",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#3399FF",.16),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.32),FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_sky,.16),FOLDER_ACTIVED_BORDER:"2px solid #3399FF",ITEM_SELECTED_BGCOLOR:(0,r.m)("#3399FF",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#3399FF",.16),PREVIEWR_TOOLBAR_COLOR:"#2d2d2d",CLIP_BUTTON_COLOR:"#3399FF",CARD_HIGHLIGHT_COLOR:"#373A43",BACKGROUND_COLOR:(0,r.m)("#3399FF",.8),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${a.E6z.vzm_white}`,SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"#ffffff57",SEARCH_INPUT_BUTTON_HOVER_COLOR:"#ffffff26"}},p={ATT:{BROWSER_URLBAR_COLOR:"#009fdb",GRADIENT_COLOR_1:"#009fdb",GRADIENT_COLOR_2:"#009fdb",GRADIENT_COLOR_3:"#009fdb",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#009fdb",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BORDER_COLOR:(0,r.m)("#009fdb",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#009fdb",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#009fdb",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),READER_BACKGROUND_COLOR_DARK:"#005486",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#009fdb",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#009fdb",.16),FOLDER_ACTIVED_BORDER:"2px solid #009fdb",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)(a.E6z.vzm_white,.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#009fdb",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#009fdb",.16),PREVIEWR_TOOLBAR_COLOR:"#0083b4",CLIP_BUTTON_COLOR:"#009fdb",CARD_HIGHLIGHT_COLOR:"#009fdb",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},FRONTIER:{BROWSER_URLBAR_COLOR:"#931F27",GRADIENT_COLOR_1:"#BD2832",GRADIENT_COLOR_2:"#BD2832",GRADIENT_COLOR_3:"#931F27",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#BD2832",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BORDER_COLOR:(0,r.m)("#BD2832",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#BD2832",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#BD2832",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),READER_BACKGROUND_COLOR_DARK:"#6F2B32",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#BD2832",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#BD2832",.16),FOLDER_ACTIVED_BORDER:"2px solid #BD2832",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)(a.E6z.vzm_white,.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#BD2832",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#BD2832",.16),PREVIEWR_TOOLBAR_COLOR:"#76171d",CLIP_BUTTON_COLOR:"#BD2832",CARD_HIGHLIGHT_COLOR:"#931F27",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},ROGERS:{...u.DARK_GREY,BROWSER_URLBAR_COLOR:"#373A43",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)(a.E6z.vzm_white,.32)}`},BT:{BROWSER_URLBAR_COLOR:"#6400AA",GRADIENT_COLOR_1:"#6400AA",GRADIENT_COLOR_2:"#6400AA",GRADIENT_COLOR_3:"#6400AA",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#6400AA",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BORDER_COLOR:(0,r.m)("#6400AA",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#6400AA",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#6400AA",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),READER_BACKGROUND_COLOR_DARK:"#271E30",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#6400AA",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#6400AA",.16),FOLDER_ACTIVED_BORDER:"2px solid #6400AA",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)(a.E6z.vzm_white,.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#6400AA",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#6400AA",.16),PREVIEWR_TOOLBAR_COLOR:"#420070",CLIP_BUTTON_COLOR:"#6400AA",CARD_HIGHLIGHT_COLOR:"#6400AA",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},SKY:{BROWSER_URLBAR_COLOR:"#0051B7",GRADIENT_COLOR_1:"#0051B7",GRADIENT_COLOR_2:"#0051B7",GRADIENT_COLOR_3:"#0051B7",HIGHLIGHT:a.E6z.vzm_white,BOLD_OUTLINE_COLOR:i,BOLD_OUTLINE_COLOR_DARK:l,THIN_OUTLINE_COLOR:c,THIN_OUTLINE_COLOR_DARK:d,COMPOSE_BUTTON_COLOR:"#0051B7",COMPOSE_BUTTON_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BORDER_COLOR:(0,r.m)("#0051B7",.64),SEGMENT_BACKGROUND_COLOR:(0,r.m)("#0051B7",.32),SEGMENT_HOVER_COLOR:(0,r.m)("#0051B7",.08),SEGMENT_BORDER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.32),SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),SEGMENT_HOVER_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),READER_BACKGROUND_COLOR_DARK:"#073053",FOLDER_ACTIVED_BACKGROUND_COLOR:(0,r.m)("#0051B7",.32),FOLDER_HOVERED_BACKGROUND_COLOR:(0,r.m)("#0051B7",.16),FOLDER_ACTIVED_BORDER:"2px solid #0051B7",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.16),FOLDER_HOVERED_BACKGROUND_COLOR_PARTNER_DARK:(0,r.m)(a.E6z.vzm_white,.08),FOLDER_ACTIVED_BORDER_PARTNER_DARK:`2px solid ${(0,r.m)(a.E6z.vzm_white,.32)}`,ITEM_SELECTED_BGCOLOR:(0,r.m)("#0051B7",.32),ITEM_HOVERED_BGCOLOR:(0,r.m)("#0051B7",.16),PREVIEWR_TOOLBAR_COLOR:"#033370",CLIP_BUTTON_COLOR:"#0051B7",CARD_HIGHLIGHT_COLOR:"#0051B7",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255,255,255, 0.3)",SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgb(255, 255, 255, 0.6)"},...S},C={...p,...u,...E},A={...u,...p,...m,DEFAULT:{...u.DEFAULT,BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"},PURPLE:{...u.DEFAULT,BROWSER_URLBAR_COLOR:"#755BF9",GRADIENT_COLOR_1:"#7282fb",GRADIENT_COLOR_2:"#755BF9",GRADIENT_COLOR_3:"#7934f7"}},T=(0,n.gP)(C),I=((0,n.gP)(A),(0,n.gP)(E)),h=(0,n.gP)(p),g=(0,n.gP)(m),O=[T.SPRING,T.WINTER,T.SUMMER,T.GALAXY,T.FALL,T.WESTERN,T.CLASSIC,T.SIMPLE,T.AIM,T.AOLCOM,T.SUNSET,T.AOL_HIGH_CONTRAST],D=[T.HIGH_CONTRAST],R=new Set([T.CLASSIC,T.SIMPLE,T.HIGH_CONTRAST,T.AOL_HIGH_CONTRAST]),N={[o.zgU.LIGHT]:{PRIMARY_BLUE:a.E6z.vzm_dory,LIST_ITEM_SEPARATOR_COLOR:a.E6z.vzm_dirty_seagull,HOVER_BLUE:"#0C54CC",SUBSCRIPTION_BUTTON:a.E6z.ycolorGrayI},[o.zgU.MEDIUM]:{PRIMARY_BLUE:a.E6z.vzm_dory,LIST_ITEM_SEPARATOR_COLOR:a.E6z.vzm_dirty_seagull,HOVER_BLUE:"#0C54CC",SUBSCRIPTION_BUTTON:a.E6z.ycolorGrayI},[o.zgU.DARK]:{PRIMARY_BLUE:a.CHL,LIST_ITEM_SEPARATOR_COLOR:(0,r.m)(a.E6z.vzm_white,.1),HOVER_BLUE:a.CHL,SUBSCRIPTION_BUTTON:(0,r.m)(a.E6z.vzm_black,.25)}},L=(o.zgU.LIGHT,a.E6z.vzm_dory,a.E6z.vzm_inkwell,a.E6z.ycolorGrayI,o.zgU.DARK,a.CHL,a.CHL,a.E6z.vzm_charcoal,a.E6z.vzm_batcave,(0,r.m)(a.E6z.vzm_black,.25),e=>e.BACKGROUND_COLOR?`linear-gradient(${e.BACKGROUND_COLOR}, ${e.BACKGROUND_COLOR})`:`linear-gradient(45deg,\n        ${e.GRADIENT_COLOR_1},\n        ${e.GRADIENT_COLOR_2},\n        ${e.GRADIENT_COLOR_3})`),f=(e,t)=>{const s=e||T.DEFAULT;return s.IMAGE?`url(${t(s.IMAGE)})`:L(s)},M=(e,t,s)=>{const a=e||T.DEFAULT;return a.THEME_CHOOSER_THUMBNAIL?`url(${t(a.THEME_CHOOSER_THUMBNAIL)})`:R.has(s)?`linear-gradient(90deg, ${a.GRADIENT_COLOR_1} 50%,\n            ${a.GRADIENT_COLOR_2} 50%)`:L(a)},P=e=>!!I[e],b=({context:e,includeMedium:t=!1})=>{const s=e.getThemeMode();return t&&s===o.zgU.MEDIUM||s===o.zgU.DARK},y=e=>!!h[e],v=(e,t=!1)=>{const s=b({context:e,includeMedium:t}),a=P(e.getTheme());return{darkModeNonPhotoTheme:!a&&s,["darkModePhotoTheme_"+e.getTheme()]:a&&s}}},62631:(e,t,s)=>{"use strict";s.d(t,{Cs:()=>T,Cz:()=>S,Nu:()=>E,VH:()=>d,Ws:()=>C,Xx:()=>o,_K:()=>A,hE:()=>p,hS:()=>c,k8:()=>r,kp:()=>u,tO:()=>_,zJ:()=>m});var a=s(37422),n=s(17016);function r(e,t){if(t.isPrimary!==e.isPrimary)return t.isPrimary-e.isPrimary;if(t.type===a.tO8.DEA&&e.type!==a.tO8.DEA)return-1;if(t.type===a.tO8.DEA&&e.type===a.tO8.DEA){const s=e.email.toLowerCase()||"",a=t.email.toLowerCase()||"";return s.localeCompare(a)}return t.type!==a.tO8.DEA&&e.type===a.tO8.DEA?1:e.id-t.id}function o(e,t){return e.status!==t.status?e.status===a.dpb.ENABLED?-1:1:0}function i(e){if(!e)return!1;if(a.gaM[e])return!0;const t=e.indexOf(".");return!(t<0)&&i(e.substr(t+1))}function l(e){const[t,s]=e.toLowerCase().split("@");let n=t;if(i(s))n=e;else{if(!function(e){if(!e)return!1;const t=e.split(".");return!(t[0]!==a.zoT.YAHOO||t.length>3||(t.length>2&&a.LDx[t[2]]?!a.d1h[t[1]]:2!==t.length||!a.d1h[t[1]]&&!a.LDx[t[1]]))}(s))return!1;"yahoo.cn"===s&&(n=e)}return!(n.length<4||n.length>32)&&!!n}function c({domainCheck:e},t){let s=!1;if(e&&e.length>0){const a="(@"+e.join(".com$|@")+".com$)";if(s=new RegExp(a,"i").test(t),!s){const a="(@"+e.join("|@")+")\\.";s=new RegExp(a,"i").test(t)}}return s}function d(e){return e&&e.email?_(e.email)||function(e){return Object.keys(a.wxL||{}).find((t=>!!e.serverUri&&e.serverUri.indexOf(a.wxL[t].serverUri)>-1))}(e):null}function _(e){if(!e)return null;let t=function(e){if(!e)return null;return(0,n.getCorpMailEmailProvider)(e)||(l(e)?a.zoT.YAHOO:null)}(e);return t||(t=a.iZF.find((t=>c({domainCheck:a.wxL[t].domainHints||a.wxL[t].domainCheck},e)))),t}function E(e){const t=[a.tO8.SENDAS,a.tO8.POPIN,a.tO8.IMAPIN,a.tO8.EXCHANGEIN,a.tO8.BIZMAIL];return e.filter((e=>{const{isPrimary:s,type:n,accountVerified:r,status:o}=e;return s||n===a.tO8.ALIAS||n===a.tO8.DEA||"ENABLED"===o&&r&&t.indexOf(n)>-1}))}function u(e){const t=[a.tO8.SENDAS,a.tO8.POPIN,a.tO8.IMAPIN];return e.filter((e=>{const{isPrimary:s,type:n,accountVerified:r,status:o}=e;return s||n===a.tO8.ALIAS||"ENABLED"===o&&r&&t.indexOf(n)>-1}))}function m(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function S(e){return e&&a.wxL[e]?a.wxL[e].type||a.tO8.IMAPIN:""}function p({status:e,type:t,createTime:s,syncTime:n=20}={}){const r=Date.now(),o=t===a.tO8.EXCHANGEIN?10:n;return!!(e===a.dpb.ENABLED&&T({type:t})&&r/1e3-s<60*o)}function C(e,t){return void 0!==e.find((e=>e.type!==a.tO8.POPIN&&e.email===t))}function A({email:e,provider:t,type:s,sendingName:n="",description:r="",wssid:o="",crumb:i="",linkedAccounts:l}){let c={email:e,type:s,sendingName:n,description:r};const d={};if(o&&(d.wssid=o),i&&(d.crumb=i),T(c)){const s=e,{serverUri:n}=a.wxL[t];c={...c,serverUri:n,status:"ENABLED",authType:"OAUTH2",email:s,replyToAddress:s}}else s===a.tO8.SENDAS&&l.length>0&&Object.assign(c,{linkedAccounts:l});return{newAccount:c,config:d}}function T({type:e}){return-1!==[a.tO8.IMAPIN,a.tO8.EXCHANGEIN].indexOf(e)}},45481:(e,t,s)=>{"use strict";s.d(t,{$U:()=>u,Fg:()=>m,fF:()=>A,gM:()=>p,k_:()=>C,sx:()=>S});var a=s(17673),n=s(37422),r=s(92559),o=s(50566),i=s(95406),l=s(45167),c=s(31057),d=s(8106),_=s(49239);const E=["amazon.com","ebay.com"];const u=(e="")=>{const{domainPart:t}=(0,l.Cz)(e),s=[],a=t.split(".");for(;a.length>1;)s.push(a.join(".")),a.shift();return s},m=(e,t,s,a)=>{if(!e)return-1!==s.indexOf(n.$iD.VIG_LINK)?{affiliatePartnerName:n.$iD.VIG_LINK,domain:""}:{};let r,o=(0,l.Cz)(t).domainPart,i=!1;const c=o.split(".");for(let n=c.length-2;n>=0;n--){var d;if("co"!==c[n]&&"com"!==c[n]&&(o=c[n]+".com",null!=e&&null!==(d=e.affiliateDomains)&&void 0!==d&&d[o])){r=e.affiliateDomains[o],i=-1!==E.indexOf(o);break}}return-1!==s.indexOf(n.$iD.AWIN)&&6===r?{affiliatePartnerName:n.$iD.AWIN,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.PRICE_GRABBER)&&1===r?{affiliatePartnerName:n.$iD.PRICE_GRABBER,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.SKIM_LINK)&&2===r?{affiliatePartnerName:n.$iD.SKIM_LINK,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.IMPACT_RADIUS)&&5===r?{affiliatePartnerName:n.$iD.IMPACT_RADIUS,domain:o,isMonetizable:!0}:-1!==s.indexOf(n.$iD.COMMISSION_JUNCTION)&&7===r?{affiliatePartnerName:n.$iD.COMMISSION_JUNCTION,domain:o,isMonetizable:!0}:-1===s.indexOf(n.$iD.AD_MARKETPLACE)||8!==r||i&&!a?-1!==s.indexOf(n.$iD.VIG_LINK)?-1===r?{affiliatePartnerName:n.$iD.VIG_LINK,domain:o,isMonetizable:!0}:{affiliatePartnerName:n.$iD.VIG_LINK,domain:o,isMonetizable:!1}:{affiliatePartnerName:"",domain:"",isMonetizable:!1}:{affiliatePartnerName:n.$iD.AD_MARKETPLACE,domain:o,isMonetizable:!0}},S=({affiliateLink:e,locale:t,region:s="na",partner:a,appId:r,clickRef:o="",route:i="",annotation:l="",affiliateCrumb:E="",pageId:u="",eventName:m="",brandKey:S="",xpname:p,segment:C="",slot:A="",position:T,interactedItem:I=""})=>{var h,g,O;const D="mail-srp",R="shopping",N="mail-receipt",L=new URL("https://mobile.mail.yahoo.com/apps/"+(E?"directly":"affiliateRouter")),f="undefined"!=typeof window&&void 0!==window.AppBootstrapData?window.AppBootstrapData.buckets:[],M=(0,d.jU)()?null===(h=window)||void 0===h||null===(g=h.AppBootstrapData)||void 0===g||null===(O=g.config)||void 0===O?void 0:O.spaceids:null,P=(0,_.F)(i,M);return p===n.pdX.PROMOCODE_EXTRACTION&&(l="promocode"),p!==n.pdX.AFFILIATE_BANNER&&p!==n.pdX.CONQUESTING_AFFILIATE_BANNER||(o=o.concat(`&experience=${m}&key=${S}`)),L.search=`?brandUrl=${encodeURIComponent(e)}&appName=${r}&partner=${{yahoo:1,att:2}[a]||1}&locale=${{"en-US":1}[t]||2}&pageId=${(()=>{if(u)return u;const e=(i.name===n.n8z.SEARCH||i.name===n.n8z.MESSAGE_FROM_SEARCH_LIST)&&!(0,c.rB)(i),t=i.name===n.n8z.STOREFRONT,s=i.name===n.n8z.MESSAGE_FROM_LIST&&(0,c.aY)((0,c.LY)(i))===n.qd8.RECEIPTS;return e?D:t?R:s?N:""})()}&clickRef=${o}&region=${s}&annotation=${l}&buckets=${f.join(",")}${E?"&wssid="+E:""}&segment=${C}${P?"&spaceId="+P:""}${void 0!==T?"&position="+T:""}&interactedItem=${I}&slot=${A}`,{affiliatePartnerUrl:e?L.href:e,affiliatePartnerName:""}},p=(0,i.gP)([o.WINDOW_RESIZED,o.AD_FEEDBACK_CLOSED,o.MESSAGE_CARD_EXPANSION_CHANGED,o.PREVIEW_MESSAGE_REQUESTED,o.ITEM_LIST_PAGE_SCROLLED,o.DELETE_ITEMS_REQUESTED,o.SEND,o.RESPOND_TO_INVITE,o.V3_MESSAGE_SEND_REQUESTED,o.SEARCH_LIST_ITEMS_REQUESTED,o.SEARCH_LIST_ITEMS_BLOCK_RECEIVED,o.MESSAGE_READ_AD_ROTATION_TIMER,o.ADFREE_UPSELL_CANCEL,o.SETTINGS_MENU_CLOSED,o.CONFIRM_DELETE_DIALOG_CLOSED,o.MOVE_ITEMS_REQUESTED,o.LAUNCH_COMPLETED,o.ROTATE_AD_ON_LIST_SCROLL,o.FLASH_SALE_AD_ENDED,o.MESSAGE_READ_MOUSE_MOVED]),C=(e,t=!1)=>{switch(e.type){case o.APPLICATION_VISIBILITY_DID_CHANGE:return e.isVisible&&!t;case o.RIGHT_RAIL_COMMS_ICON_CLICKED:return e.isPaneVisible;case o.OPEN_PAGE_REQUESTED:return e.route.name!==n.n8z.SPONSORED_MESSAGE||e.route.name!==n.n8z.PORTRAIT_AD;case o.STREAM_CURSOR_MOVED:return e.previewPane!==n.EsZ.NO;case o.ONLINE_STATUS_CHANGED:return e.online&&e.rotateAdsOnline;case o.SYNC_DATA:return e.forceSync&&(0,i.u9)(e,"i13nModel.mKey",null)===r.JE.PULL_TO_REFRESH;case o.CHECK_MAIL_RECEIVED_WITH_UPDATES:case o.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:return e.rotateAds;case o.MESSAGE_READ_AD_ROTATION_TIMER:return!1;default:return!!p[e.type]}},A=(e,t)=>{const s={};return t.query&&Object.keys(t.query).forEach((e=>{-1!==n.MSy.indexOf(e)&&(s[e]=t.query[e])})),Object.keys(s).length?`https://${e}?${a.stringify(s)}`:`https://${e}`}},43373:(e,t,s)=>{"use strict";s.r(t),s.d(t,{apiErrorLogger:()=>S,apiPassiveErrorLogger:()=>p,getTAE:()=>u,logRapidTAE:()=>m});var a=s(63352),n=s(37422),r=s(42655),o=s(79483),i=s(8106),l=s(95406);const c=(0,l.gP)([n.BrN.BootcampClient,n.BrN.CloudStorageClient,n.BrN.AstraClient,n.BrN.MailppApiClient,n.BrN.MailAPIClient,n.BrN.EpochCalendarClient]),d=(0,l.gP)([n.BrN.CredstoreClient,n.BrN.LinkEnhancerClient,n.BrN.XobniClient,n.BrN.SpellCheckClient]);function _(e){return n.uXU.indexOf(e)>-1}function E(e){return[n.BrN.AstraClient,n.BrN.MailppApiClient].includes(e)}function u(e,t,s){const{apiName:a,statusCode:r,errorCode:o,alertTAE:l=!0}=s;return!1===l?100:function({apiName:e,isOnline:t,alertTAE:s=!0},a,r){if(!1===s)return!1;if(!(0,i.jU)())return!0;if(!t)return!1;if(["CRUMB","AUTH","EC-4012","EC-4023"].indexOf(a)>-1)return!1;if("EC-4008"===a&&r!==n.BrN.AstraClient)return!1;if(["REQUEST_BLOCKED","DEBOUNCED","ES-2001"].indexOf(a)>-1)return!1;if(d[r])return!!_(e);if(E(r)&&("EC-4003"===a||"ES-2214"===a||"ES-2013"===a))return!1;switch(e){case"checkMail":case"messages.autosave":case"messages.autoSaveV3":case"messages.prefetchGetBodies":case"messages.prefetchGetBodiesFull":case"messages.prefetchGetExtractedBodies":case"messages.prefetchGetExtractedBodiesFull":case"getContentProviders":case"getCouponRecommendations":case"searchSuggestions":case"recentSearches":case"mailbox.syncNow":return!1}return!0}(s,o,e)?function(e,t){return 429===e||"EC-4017"===t||"EC-4018"===t}(r,o,t.name)?19:a&&function(e){return 0===e.indexOf("launch.")}(a)?15:function(e,t="",s){return!([400,500].indexOf(s)>-1)&&(0===e.indexOf("HttpTransport.")&&!t||["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENOTFOUND","OUTBOUND","REQUEST_QUEUE_TIMEOUT","REQUEST_QUEUE_REJECTED","YCPI"].indexOf(t)>-1)}(t.name,o,r)?18:_(a)?24:function(e,t){return e===n.BrN.BootcampClient||e===n.BrN.CloudStorageClient||["search_list.get","search_list.update"].indexOf(t)>-1}(e,a)?function(e,t){return"getShareableLink"===e&&409===t}(a,r)||function(e,t){return"cloudStorageItems"===e&&"EP-5020"===t}(a,o)||function(e,t){return"getSearchAds"===e&&412===t}(a,r)?100:20:function(e){return n.cNW.indexOf(e)>-1}(a)?4:function(e){return n.vrh.indexOf(e)>-1}(a)?13:function(e){return"document.fetch"===e}(a)?22:E(e)?23:function(e){return e===n.BrN.EpochCalendarClient}(e)?25:function(e){let t;switch(e){case"ET-5003":t=1;break;case"ET-5004":t=4;break;case"ET-5005":case"ET-5008":case"ET-5009":case"ET-5010":case"ET-5011":t=2;break;default:t=14}return t}(o):100}function m(e,t,s){if((0,i.jU)()){const a=t||s||"",n=o.ZP.getRapidInstance();n&&n.beaconEvent(0,{etrg:"error",taeCode:e,errCode:a},"norrin_tae")}}function S(e,t,s,n){(0,a.Z)(s.apiName,"logData.apiName must be present");const r={},{statusCode:o=null,errorCode:i=null,at:l,errno:_=null}=n;if(null!==o&&(r.statusCode=o),null!==i&&(r.errorCode=i),null!==_&&(r.errno=_),l&&(r.at=l),c[t]||d[t]){const{extraStatusCode:e=null,extraErrorCode:a=null}=n;e&&(r.extraStatusCode=e),a&&(r.extraErrorCode=a);const l=u(t,n,Object.assign({},s,r));r.tae=l,m(l,i,o)}e.feature(t,Object.assign({},s,r)).logFailure(n)}function p({logger:e,apiName:t,message:s,loggerName:a=n.BrN.MailAPIClient,statusCode:o=0,errorCode:i="",extraStatusCode:l="",extraErrorCode:c="",ymreqid:d="",batchRelatedCards:_=!1}){const E={apiName:t,alertTAE:!1,statusCode:o,errorCode:i,extraStatusCode:l,extraErrorCode:c,ymreqid:d,batchRelatedCards:_},u={name:t,message:s,data:E,statusCode:o,errorCode:i,extraStatusCode:l,extraErrorCode:c};S(e,a,E,r.Z.jsonToError(u))}},78137:(e,t,s)=>{"use strict";s.d(t,{Od:()=>i,R3:()=>o,qr:()=>n,w6:()=>r,xH:()=>l});var a=s(63352);function n(e,t){for(let s=e.length;s;s--)if(t(e[s-1]))return s-1;return-1}function r(e,t=0){(0,a.Z)("number"==typeof e&&parseInt(Number(e),10)===e&&e>=0,"`range` should be a non-negative integer");const s=Array(e);for(;e--;)s[e]=e+t;return s}function o(e,...t){return e.concat(t)}function i(e,t,s=1){return-1===t?e:e.slice(0,t).concat(e.slice(t+s))}const l=e=>Array.prototype.concat.apply([],e)},99691:(e,t,s)=>{"use strict";s.d(t,{Cw:()=>D,HD:()=>h,Ij:()=>g,M:()=>P,N3:()=>T,Rj:()=>b,Rq:()=>p,SA:()=>N,SJ:()=>R,Vb:()=>f,Y9:()=>F,_n:()=>I,fA:()=>L,gu:()=>v,lz:()=>y,mD:()=>m,oA:()=>O,oZ:()=>M,wt:()=>U,yo:()=>S});var a=s(37422),n=s(63352),r=s(44908),o=s.n(r),i=s(76531);const{Types:l,SubTypes:c,Dispositions:d,SimplifiedTypes:_}=a.sSc,E=/\?(size|h|w)=([^&]*)/g,u=/&(size|h|w)=([^&]*)/g,m=e=>{const[,t=""]=e.match(a.sSc.KnownDocTypes)||[];return t.substring(0,3).toLowerCase()},S=e=>{const t=e.split("/");return{type:t[0],subtype:t[1]}},p=(()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return"<"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()+"@yahoo.com>"}})();function C(e,t=p()){const[s,a]=e.type.split("/");return{downloadUrl:e.downloadLink||URL.createObjectURL(e),filename:e.name,mimeType:e.type,size:e.size,type:s,subtype:a,contentId:t,dataId:t,isFromDataURI:!!e.isFromDataURI}}const A=(e,t=d.ATTACHMENT)=>({...C(e),disposition:t}),T=e=>A(e,d.INLINE),I=e=>A(e,d.ATTACHMENT);function h(e,t=!1){return e.filter((({type:e,disposition:s})=>e===l.MESSAGE||s===d.ATTACHMENT||t&&s===d.INLINE))}function g(e){return e.filter((({type:e,subtype:t,disposition:s})=>!(e===l.MESSAGE&&t===c.RFC822&&s===d.INLINE)))}function O(e,{previewableInlineAttachmentSize:t,showImages:s,isSpam:a}){const r={};if(!e)return[];const o=e.filter((e=>!e));return o.length?((0,n.Z)(o,"Invalid attachment information: "+JSON.stringify(o)),[]):e.filter(Boolean).filter((({type:e,disposition:n,size:o,filename:i})=>{if(!o)return!1;const c=((i||"")+(o||0)).replace(/\s\s+/g," ");return!(r[c]||!(r[c]=!0)||!(e!==l.IMAGE||s&&!a&&(n!==d.INLINE||o>=t)))}))}function D(e){return e.filter(Boolean).filter((({type:e,subtype:t})=>N(e,t)===_.CAL))}function R(e=[]){const t=e.filter(Boolean).map((e=>{switch(N(e.type,e.subtype)){case _.CAL:return i.Kinds.ATTACH_CAL;case _.IMAGE:return i.Kinds.ATTACH_IMAGE;case _.DOC:case _.PDF:case _.XLS:case _.PPT:case _.CSV:case _.TEXT:return i.Kinds.ATTACH_DOC;default:return i.Kinds.ATTACHMENT}}));return 1===o()(t).length?t[0]:i.Kinds.ATTACHMENT}function N(e,t){switch(e){case l.IMAGE:switch(t){case c.TIFF:return _.TIFF;default:return _.IMAGE}case l.AUDIO:return _.AUDIO;case l.VIDEO:return _.VIDEO;case l.APPLICATION:switch(t){case c.ACROBAT:case c.PDF:case c.VND_PDF:case c.X_PDF:return _.PDF;case c.GZIP:case c.TAR:case c.X_COMPRESSED:case c.X_ZIP:case c.ZIP:return _.COMPRESSED;case c.EXCEL:case c.MSEXCEL:case c.X_EXCEL:case c.X_MS_EXCEL:case c.XLS_M:case c.X_XLS:case c.XLS:case c.XLS_M_TEMPLATE:case c.XLS_TEMPLATE:case c.XLSX:return _.XLS;case c.DOC:case c.DOCX:case c.DOT:case c.FRAMEMAKER:case c.MS_WORD:case c.MSTNEF:case c.RICHTEXT:case c.SC2:case c.VND_MS_WORD:case c.VND_MSWORD:case c.WINWORD:case c.WORD:case c.X_DOT:case c.X_FM:case c.X_FRAMEMAKER:case c.X_MAKER:case c.X_MS_WORD:case c.X_MSW6:case c.X_RTF:case c.X_SOFFICE:case c.ZZ_DOT:return _.DOC;case c.PPT:case c.PPTX:case c.PPTX_SLIDESHOW:case c.PPTX_TEMPLATE:return _.PPT;case c.ICS:return _.CAL;case c.FOLDER:return _.FOLDER;case c.GDOCX:return _.GDOCS;case c.GXLS:return _.GSHEETS;case c.GPPT:return _.GSLIDES;default:return _.APPLICATION}case l.TEXT:switch(t){case c.CALENDAR:return _.CAL;case c.CSV:return _.CSV;default:return _.TEXT}default:return _.FILE}}function L({id:e},t=[],s=!0){return t.map((t=>{const a=s?{dataId:t.dataId?t.dataId:p(),contentId:t.contentId?t.contentId:p()}:{};return{messageReference:{id:e,pid:t.partId},...t,...a}}))}function f(e,t,s){(0,n.Z)(e<=t,"You cannot have a page number greater than the last page of the document.");const a=e-(e%s||s)+1;let r=a+(s-1);return r>t&&(r=t),{startPage:a,endPage:r}}function M(e){return!(!e||!e.id)&&[l.APPLICATION,l.TEXT].indexOf(e.type)>-1}function P(e){if(!e)return!1;const{type:t,subtype:s,size:n,isExternal:r,filename:o}=e,i=`${t}/${s}`,l=N(t,s)===_.IMAGE,d=a._ob.previewableMimeTypes.indexOf(i)>-1,E=s===c.OCTET_STREAM&&a.sSc.KnownDocTypes.test(o);return!r&&n>0&&(d||l||E)}function b(e,t){return!!(e&&e.id&&t&&P(e))}function y(e){if(!e||!e.id)return!1;const{downloadUrl:t}=e;return!(t&&t.indexOf("blob:")>=0)&&!!t}function v(e,t){return e?(e=e.replace(E,"?").replace(u,""))+"&size="+t+"w&w="+t+"&h="+t:""}function F(e){return e?e=e.replace(E,"?").replace(u,""):""}function U(e){if(!e)return!0;const t=e.split(".");if(t.length>1){const e=t.pop();if(a.N9o[e])return!1}return!0}},336:(e,t,s)=>{"use strict";s.d(t,{J:()=>o,Z:()=>r});var a=s(99839),n=s(74756);function r(e,t=!0){try{return async function(e,t=!0){if(!e||!/^https?:\/\//.test(e))return"";const s=new Image;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+encodeURIComponent((new Date).getTime())),e=e.replace("[timestamp]",(new Date).getTime()),s.src=await(0,n.aV)(e),s.src}(e,t)}catch(s){return a.Z.error("sendBeacon_exception",{url:e}),""}}function o(e){if(!e||!/^https?:\/\//.test(e))return"";const t="beaconIframe"+Date.now(),s=document.createElement("iframe");s.src=e,s.width="0",s.height="0",s.style.display="none",s.referrerPolicy="origin",s.style.visibility="hidden",s.id=t,s.sandbox="allow-scripts allow-same-origin",document.body.appendChild(s),setTimeout((()=>{const e=document.getElementById(t);null!=e&&e.remove()}),3e4)}},87195:(e,t,s)=>{"use strict";s.d(t,{Eg:()=>l,UM:()=>c,Xx:()=>_,kW:()=>d});const a=1,n=1024,r=1048576,o=1073741824,i={[a]:"B",[n]:"kB",[r]:"MB",[o]:"GB"};function l(e,t){return e.length>t?e.substr(0,t):e.length<t?new Array(t-e.length+1).join("0")+e:e}function c(e){var t,s,a=e.length,n="";for(t=0;t<a;t+=4)s=e.substr(t,4),s=s+=new Array(4-s.length+1).join("0"),n+=parseInt(s,2).toString(16);return n}function d(e){var t,s,a=e.length,n="";for(t=0;t<a;t++)s=parseInt(e[t],16).toString(2),n+=s=new Array(4-s.length+1).join("0")+s;return n}function _(e,t=0){if("number"!=typeof e||e<=0)return"";const s=[o,r,n,a].find((t=>e>=t)),l=Math.pow(10,t);return`${Math.round(e/s*l)/l}${i[s]}`}},90775:(e,t,s)=>{"use strict";function a(e,t){var s=0,a=[0,0,0,t];if(4!==e.length&&7!==e.length)throw new Error('The hex string has have length of 4 or 7 including the "#". We got: '+e);for(4===e.length&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),s=0;s<3;s++)a[s]=parseInt(e.slice(2*s+1,2*s+3),16);return"rgba("+a.join(", ")+")"}s.d(t,{m:()=>a})},35456:(e,t,s)=>{"use strict";s.d(t,{X1:()=>d,ZK:()=>E,iT:()=>u,yP:()=>_});var a=s(4832),n=s(37422),r=s(77953),o=s(19822),i=s(29824);const l=/messages\/@.id==(.*?)\/.*?content\/parts\/@.id==(.*?)\//i,c=/^https/i;function d(e){const t=e.querySelectorAll('[class*="yahoo-style-wrap"]');return 0===t.length?null:t[0]}function _(e){if(!e)return!1;const t=e.getAttribute("class");return t&&-1!==t.indexOf("yiv")}function E(e,t){const{getFeaturesSelectors:s,getAttachmentsSelectors:i}=t,{getSetting:E}=s(),u=(0,r.UZ)(e),m=function(e){return!!e.querySelector(a.LINK_EHANCER_CARD_SELECTOR)}(u),S=d(u),p=_(S);!function(e,t){const{getDownloadUrlByContentId:s,doesAttachmentExistById:n,getContentIdByAttachmentId:r}=t;[].forEach.call(e.querySelectorAll(a.INLINE_IMAGE_SELECTOR),(e=>{let t=e.getAttribute("data-id");const a=e.getAttribute("src");if(!t){if(!a||!l.test(a))return;{const[,e,s]=l.exec(a),o=e+":"+s;if(!n(o))return;t=r(o)}}let o=s(t);!o&&c.test(a)&&(o=a),e.setAttribute("src",o||"cid://"+t.slice(1,-1)),e.removeAttribute("data-id"),e.setAttribute("data-id",t)}))}(u,i()),function(e){const t=e.querySelector(a.STATIONERY_BODY_SELECTOR);t&&t.removeAttribute("contenteditable")}(u),function(e){[].forEach.call(e.querySelectorAll("font"),(e=>{const t=e.style&&e.style.backgroundColor,s=e.parentNode&&"SPAN"===e.parentNode.nodeName;!t&&s&&(e.style.backgroundColor="inherit")}))}(u);let C="";return S&&!p?(!function(e,t){const{getFeaturesSelectors:s}=t,{getSetting:a}=s();e.style.fontFamily||(e.style.fontFamily=a(n.Zrf.COMPOSE_FONT_FAMILY).replace(/"/g,"")),e.style.fontSize||(e.style.fontSize=(0,o.getFontSizeStyle)(a(n.Zrf.COMPOSE_FONT_SIZE)))}(S,t),C=u.innerHTML.replace(/&quot;/g,"")):C=u.innerHTML?'<div class="yahoo-style-wrap" style="font-family:'+E(n.Zrf.COMPOSE_FONT_FAMILY).replace(/"/g,"")+";font-size:"+(0,o.getFontSizeStyle)(E(n.Zrf.COMPOSE_FONT_SIZE))+';">'+u.innerHTML+"</div>":"<div><br /></div>",`<html${m?` ${a.OutlookSupportHTMLAttributes}`:""}><head>${m?a.OutlookSupportHTMLHeadContent:""}</head><body>`+C+"</body></html>"}function u(e){return(0,i.convertToPlainText)((0,r.UZ)(e))}},54418:(e,t,s)=>{"use strict";s.d(t,{N:()=>r,_:()=>n});const a={};function n(e={},t,s){var{appName:n}=e,r=e[t],o=Date.now(),i=a[t];return e.collectConfigAccess&&(a[t]={name:t,boolean:r,firstTime:i?i.firstTime:o,lastTime:o,...n&&{appName:n},...s&&{note:s}}),void 0===r?null:r}function r(e={},t,s){var{appName:n}=e,r=e[t],o=Date.now(),i=a[t];return e.collectConfigAccess&&(a[t]={name:t,setting:r,firstTime:i?i.firstTime:o,lastTime:o,...n&&{appName:n},...s&&{note:s}}),void 0===r?null:r}},74756:(e,t,s)=>{"use strict";s.d(t,{aV:()=>i});var a=s(96943);const n=/\$({|%7B)GDPR_CONSENT_(\d+)(}|%7D)/g,r=/\$({|%7B)GDPR(}|%7D)/g,o=/\[timestamp\]/g,i=async e=>{if(!e)return"";try{const s=await new Promise(((e,s)=>{if(!window.__tcfapi){const e="Missing TCF API",t=new Error(e);return a.Z.error(e),s(t)}window.__tcfapi("getTCData",2,((t,a)=>a&&"error"!==t.cmpStatus?e(t):s(!1)),t)})),i=((e,t)=>{const{gdprApplies:s}=t;return e.replace(r,s?"1":"0")})(e,s);return(e=>e.replace(o,Date.now()+""))(((e,t)=>{const{gdprApplies:s,tcString:a}=t;return e.replace(n,s?a:"")})(i,s))}catch(s){const t=`Error adding consent to ${e}`;return a.Z.error(t),e}var t}},40315:(e,t,s)=>{"use strict";s.d(t,{$w:()=>D,CD:()=>N,Ij:()=>H,K5:()=>d,MI:()=>G,QD:()=>y,Qy:()=>w,SF:()=>v,Ux:()=>g,Zw:()=>x,dW:()=>Z,hM:()=>k,iY:()=>h,kD:()=>O,ky:()=>P,n3:()=>F,oe:()=>I,p6:()=>A,pQ:()=>T,qb:()=>M,us:()=>R,vC:()=>V,vp:()=>L,ze:()=>B,zk:()=>f});s(70089);var a=s(22418),n=s(39593),r=s.n(n),o=s(99839),i=s(8106),l=s(51463),c=s.n(l);const d=86400,_=/[^0-9/\ :.-]/g,E=/[\/\s:.-]/;let u;const m=e=>o.Z.error("debug_datetime_polyfill",{...e}),S=c()((e=>m(e))),p=c()((e=>m(e))),C=(()=>{try{return new Intl.DateTimeFormat("en",{timeZone:"GMT"}),!0}catch(e){return!1}})();function A(e,t,s){try{if(u)return u(t,s).format(e);const{timeZone:n,timeZoneName:r,...o}=s;return!(0,i.jU)()||C||(e=>Intl._DateTimeFormatTimeZone&&Intl._timeZoneData&&Intl._timeZoneData.get(e)?(p({status:"loaded",timeZone:e}),!0):(S({status:"loading",timeZone:e}),!1))(n)?(u=(0,a.Z)(Intl.DateTimeFormat),u(t,s).format(e)):new Intl.DateTimeFormat(t,o).format(e)}catch(n){const{timeZone:a="unknown"}=s;throw n.data={timeZone:a,locale:t,date:e&&e.getTime()||"undefined",hasPolyfill:!!Intl._DateTimeFormatTimeZone,hasTimeZoneData:!(!Intl._timeZoneData||!Intl._timeZoneData.get(a))},n}}const T=function(e,t){const s=new(r())({max:t});return function(t,a){t instanceof Date||(t=new Date(t));const n=t.getTime()+"-"+a;let r=s.get(n);return void 0===r&&(r=e(t,a),s.set(n,r)),r}}((function(e,t){const s=A(e,"en-US",{timeZone:t,hour12:!1,hourCycle:"h23",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}).replace(_,"").split(E),a=parseInt(s[2],10),n=s[0]-1,r=s[1],o=(s[3]||0)%24,i=s[4]||0,l=s[5]||0;return(Date.UTC(a,n,r,o,i,l)-new Date(e).setMilliseconds(0))/6e4}),1e3);function I({timezone:e,offset:t=0}){const s=Date.now();void 0!==e&&(t=T(s,e));const a=new Date(s+6e4*t),n=a.getUTCDate(),r=a.getUTCMonth(),o=a.getUTCFullYear(),i=Date.UTC(o,r,n);return void 0!==e?i-6e4*(t=T(i,e)):i}function h({timezone:e,time:t}){const s=new Date(t).getTime(),a=t=>6e4*T(t,e),n=e=>e-a(e),r=new Date((o=s)+a(o));var o;const i=r.getUTCDay(),l=r.getUTCDate(),c=r.getUTCMonth(),d=r.getUTCFullYear();return{weekday:i,date:l,month:c,year:d,startOfPastHour:e=>n(Date.UTC(d,c,l,-1*e)),startOfPastDay:e=>n(Date.UTC(d,c,l,-24*e)),startOfMonth:e=>n(Date.UTC(d,e,1)),startOfYear:e=>n(Date.UTC(e,0,1))}}function g(){return new Date}function O(e){return e?new Date(1e3*e):g()}function D(e){const t=new Date(e||g()).getTime();return Math.floor(t/1e3)}function R(e){return N(e)+(d-1)}function N(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(+t/1e3)}function L(e,t){return!(!M(e)||!M(t))&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function f(e){if(!(e instanceof Date))throw new Error("Expected date to be an instance of Date");return L(new Date,e)}function M(e){return function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)&&!isNaN(e.getTime())}function P(e){if(!M(e))throw new Error("Expected date to be an instance of Date");return new Date(e.valueOf())}function b(e){const t=P(e);return t.setDate(t.getDate()-t.getDay()),t}function y(e){const t=e.getDay();return 0===t||6===t}function v(e){const t=b(e),s=[t];for(let a=1;a<=6;a++){const e=P(t);e.setDate(e.getDate()+a),s.push(e)}return s}function F(e){const t=P(e);t.setDate(1);const s=t.getMonth(),a=P(b(t)),n=[P(a)];for(a.setDate(a.getDate()+7);a.getMonth()===s;)n.push(P(a)),a.setDate(a.getDate()+7);return n}const U=1e3*d;function k(e,t){const s=new Date(t).getTime()-new Date(e).getTime();return Math.ceil(s/U)}function w(e){return N(e)-d}function G(e,t=0){const s=new Date(e);return s.setDate(s.getDate()+t),s}function H(e){const t=e=>e<10?`0${e}`:e;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())}`}function B(e){return"zh-Hant-HK"===e||"ko-KR"===e?"numeric":"short"}const x=e=>t=>{if(t.getMinutes()%e==0)return t;const s=6e4*e;return new Date(Math.floor(t/s)*s)},V=(e,t)=>e.setSeconds(0,0)===t.setSeconds(0,0),Z=e=>{if(!e)return!1;const t=new Date,s=(e.setSeconds(0,0)-t.setSeconds(0,0))/36e5;return s>=0&&s<24}},20292:(e,t,s)=>{"use strict";s.d(t,{pP:()=>a,th:()=>n});function a(e){const t=e.querySelectorAll("a");Array.prototype.forEach.call(t,(e=>{e.removeAttribute("href"),e.classList.add("removed-link")}))}function n(e={}){if(!window)throw new Error("Could not find browser window");return window.getSelection()&&window.getSelection().toString()&&e.current&&e.current.contains(window.getSelection().anchorNode)}},45167:(e,t,s)=>{"use strict";s.d(t,{Cz:()=>c,aL:()=>_,ad:()=>d,dv:()=>m,eV:()=>S,oC:()=>u,vV:()=>E});var a=s(37422);const n=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,r=/^"(\\"|[^"])+"$/,o=/^[A-Za-z0-9\-]+$/,i=["sgproxy_test_10@localhost","sgproxy_test_20@localhost"],l={"yahooinc.com":a.zoT.YAHOO_INC,"verizonmedia.com":a.zoT.VERIZON_MEDIA,"edgecast.com":a.zoT.YAHOO_INC};function c(e){const t=e.lastIndexOf("@");if(-1===t)return{localPart:e,domainPart:""};return{localPart:e.slice(0,t),domainPart:e.slice(t+1)}}function d(e){return!(!n.test(e)&&!r.test(e))}function _(e){const t=e.split("."),s=t.length;if(s<2)return!1;for(let a=0;a<s;a++)if(!o.test(t[a]))return!1;return!0}function E(e){if(!e)return!1;if(-1!==i.indexOf(e))return!0;const{localPart:t,domainPart:s}=c(e);return!!d(t)&&!!_(s)}const u=(e,t)=>{if(!E(e))return!1;const{domainPart:s}=c(e);return t.indexOf(s)>=0};function m(e){if(!E(e))return null;const{domainPart:t}=c(e);return t&&l[t.toLowerCase()]||null}function S(e){const t=m(e);return!!t&&t===a.zoT.YAHOO_INC}},88913:(e,t,s)=>{"use strict";s.d(t,{$9:()=>o,Eo:()=>n,nM:()=>r});var a=s(47745);function n(){return"devbox"===a.N||"openhouse"===a.N}function r(){return"pullrequest"===a.N}function o(){return"alpha"===a.N}},59678:(e,t,s)=>{"use strict";s.d(t,{JV:()=>r,A8:()=>o,yW:()=>i,Zo:()=>l});var a=s(37422);const n=e=>e&&e.length?e.reduce(((e,t)=>{const s=t.split(",");return{...e,[s[0]]:[s[1],s[2]]}}),{}):{},r=(e=[],t)=>{const s=n(e);if(s[t]){const e=s[t][1],a=s[t][0]?1:0;return+(e||0)||a}return 0},o=({attribute:e=[],key:t,recurringInterval:s=0})=>{const a=((e=[],t)=>{const s=n(e);return s[t]&&s[t][0]||0})(e,t),r=Math.floor(Date.now()/1e3)-parseInt(a,10);return r>0&&r>s},i=e=>r(e,a.ANe.MOBILE_PAC_NOTIFICATION_CUE)<a.xDW,l=e=>r(e,a.ANe.WEB_PAC_NOTIFICATION_CUE)<a.hqH},42907:(e,t,s)=>{"use strict";s.d(t,{F2:()=>k,IZ:()=>N,Nk:()=>_,OG:()=>P,PC:()=>g,PH:()=>b,R_:()=>y,YY:()=>v,Z_:()=>u,b8:()=>f,gm:()=>F,i3:()=>M,j2:()=>T,lS:()=>L,oe:()=>I,p4:()=>A,rC:()=>h,vJ:()=>D,vU:()=>C,xr:()=>O});var a=s(37422),n=s(95406),r=s(63352),o=s(50361),i=s.n(o),l=s(99095),c=(s(31057),s(20305)),d=s(96943);const _="/ \\ %",E=(0,n.gP)([a.K8C.CONTACTS_FULL_PANE,a.K8C.PHOTOS,a.K8C.DOCUMENTS,a.K8C.ATTACHMENTS,a.K8C.EMAILS_TO_MYSELF,a.K8C.SUBSCRIPTIONS,a.K8C.STOREFRONT,a.K8C.COUPONS,a.K8C.COUPON_EMAILS,a.K8C.RECEIPTS,a.K8C.WALLET,a.K8C.TRAVEL,a.K8C.TUTORIAL]),u=(0,n.gP)([a.K8C.UNREAD,a.K8C.STARRED,a.K8C.OLDMAIL,a.K8C.NEWMAIL]),m=(0,n.gP)([a.K8C.STARRED,a.K8C.UNREAD]),S={...E,...m},p={...a.o4,...(0,n.gP)([a.K8C.UNREAD,a.K8C.STARRED])},C={[a.Sck.INBOX]:"inbx",[a.Sck.SENT]:"sent",[a.Sck.DRAFT]:"drft",[a.Sck.TRASH]:"trsh",[a.Sck.BULK]:"spm",[a.Sck.ARCHIVE]:"archve",[a.Sck.USER]:"usrFldr",[a.Sck.CHATS]:"cht",SEARCH_KEYWORD:"keywSrp",SEARCH_PEOPLE:"cntctSrp",SEARCH_SMARTVIEW:"smrtSrp",SUBSCRIPTION_DETAIL:"subhubDetail"},A={[a.Sck.INBOX]:0,[a.K8C.NEWMAIL]:1,[a.K8C.OLDMAIL]:2,[a.K8C.UNREAD]:3,[a.K8C.STARRED]:4,[a.Sck.DRAFT]:5,[a.Sck.SENT]:6,[a.Sck.ARCHIVE]:7,[a.Sck.BULK]:8,[a.Sck.TRASH]:9},T=(0,l.defineMessages)({folder_inbox:{id:"folder_inbox",defaultMessage:"Inbox"},folder_draft:{id:"folder_draft",defaultMessage:"Drafts"},folder_sent:{id:"folder_sent",defaultMessage:"Sent"},folder_trash:{id:"folder_trash",defaultMessage:"Trash"},folder_trash_recently_deleted:{id:"folder_trash_recently_deleted",defaultMessage:"Recently Deleted"},folder_bulk:{id:"folder_bulk",defaultMessage:"Spam"},folder_archive:{id:"folder_archive",defaultMessage:"Archive"},folder_all_mail:{id:"folder_all_mail",defaultMessage:"All Mail"},folder_user_saved:{id:"folder_saved_mail",defaultMessage:"Saved Mail"}});function I({formatMessage:e,folderDisplayType:t,name:s="",displayIdOverride:a=""}){const n=["folder",null==t?void 0:t.toLowerCase()];a&&n.push(a);const r=T[n.join("_")];return r?e(r):s}function h({formatMessage:e,smartViewType:t}){const s=c.Z["smart_view_"+t.toUpperCase()];return s?e(s):""}function g(e){let t;switch(e.type){case a.Sck.SENT:case a.Sck.BULK:case a.Sck.ARCHIVE:case a.Sck.TRASH:return 0;case a.Sck.DRAFT:return e.total;default:return t=e.unread<0?0:e.unread,t}}function O(){return Object.keys(S).map((e=>R(e)))}function D(){return Object.keys(E).map((e=>R(e)))}function R(e){return{folder:{name:e,id:e,types:[e],isSmartView:!0,isSystem:!1,unread:0,total:0},children:[]}}function N(e){return e.types.find((e=>p.hasOwnProperty(e)))}function L(e,t){const s=e.find((e=>!0===e.isSelected));return t.find((e=>N(e.folder)===a.Sck.INBOX&&e.folder.accountId===s.id)).folder}function f(e,t,s=!1){const a=P(e.name);let n="",r="";const o=[];let i=!1;return"1"===e.accountId||s||e.name.match(/\//)&&(n=a.shift(),n+=a.shift()),a.forEach((s=>{n+=s,i?i=!1:(r+=s,t.hasOwnProperty(n)&&t[n].accountId===e.accountId&&(o.push(r),r="",i=!0))})),o}function M(e,t,s,a=""){let n=a,r="";const o=[];let i=!1;return s.forEach((s=>{if(n+=s,i)i=!1;else{r+=s;Object.keys(t).some((s=>t[s].path===n&&t[s].accountId===e.accountId))&&(o.push(r),r="",i=!0)}})),o}function P(e){let t,s,a="";const n=[];for(t=0;t<e.length;t++)s=e.charAt(t),"/"===s?(""!==a&&n.push(a),n.push("/"),a=""):a+=s;return""!==a&&n.push(a),n}function b(e,t,s,a){const n=i()(t);if((0,r.Z)(s.length>0,"folderPathParts must be populated for insert into folder tree to work."),a===s.length-1)n.name=s[a],e.push({folder:Object.assign({},n,{level:a}),children:[]});else{const t=s[a];e.forEach((e=>{e.folder.name===t&&e.folder.accountId===n.accountId&&b(e.children,n,s,a+1)}))}}function y(e,t,s){const a=[];return!t.isPrimary&&t.folderPrefix.length>0&&a.push(t.folderPrefix),s&&a.push(s),a.push(e),a.join("/")}function v(e){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=a.folder;t[n.id]=n,a.children.length>0&&Object.assign(t,v(a.children))}return t}const F=e=>e>a.Mit?a.Hzy:""+e,U=(e,t,s)=>{try{return new Intl.NumberFormat(e,s).format(t)}catch(a){return d.Z.error("Error formatting count:",{err:a}),F(t)}},k=(e,t)=>U(e,t,{notation:"compact",compactDisplay:"short"})},87367:(e,t,s)=>{"use strict";s.d(t,{a7:()=>E});var a=s(95406);const n=796,r=805,o=818,i=828,l=873,c=884,d=914,_={"amazon.com":c,"linkedin.com":r,"paypal.com":i,"groupon.com":c,"ebay.com":c,"chase.com":i,"indeed.com":r,"capitalone.com":i,"nextdoor.com":l,"kohls.com":c,"intuit.com":i,"walmart.com":c,"southwest.com":d,"synchronybank.com":i,"zillow.com":l,"ups.com":c,"bestbuy.com":c,"netflix.com":o,"apple.com":902,"homedepot.com":c,"cvs.com":849,"bankofamerica.com":i,"jcpenney.com":c,"target.com":c,"directv.com":o,"discover.com":i,"costco.com":c,"siriusxm.com":n,"walgreens.com":811,"oldnavy.com":c,"victoriassecret.com":c,"ticketmaster.com":o,"macys.com":c,"evite.com":o,"docusign.net":866,"tripadvisor.com":d,"bedbathandbeyond.com":c,"bathandbodyworks.com":c,"fidelity.com":i,"livingsocial.com":c,"citibank.com":i,"citi.com":i,"cox.net":o,"redbox.com":o,"wayfair.com":c,"michaels.com":c,"uber.com":d,"geico.com":n,"wellsfargo.com":i,"staples.com":c,"booking.com":d,"travelzoo.com":d,"delta.com":d,"progressive.com":n,"hilton.com":d,"meetup.com":793,"zulily.com":c,"jobstreet.com":r,"lowes.com":c,"sears.com":c,"nordstorm.com":c,"trulia.com":l,"dsw.com":c,"creditkarma.com":i,"ziprecruiter.com":r,"synchronyfinancial.com":i,"airbnb.com":d,"capitaloneemail.com":i,"aa.com":d,"statefarm.com":n,"hrblock.com":i,"email-marriott.com":d,"americanexpress.com":i,"houzz.com":l};function E(e){return e.map((e=>{const t=(0,a.u9)(e,"email","").toLowerCase().match(/(?:\.|@)([\w-]+\.(?:com|net|biz))/),s=t&&t[1];return _[s]||null})).filter((e=>null!==e))}},8106:(e,t,s)=>{"use strict";s.d(t,{OA:()=>C,X2:()=>d,XM:()=>l,Y0:()=>c,aA:()=>T,aX:()=>A,av:()=>S,jU:()=>i,je:()=>m,mL:()=>E,nl:()=>u,wx:()=>I,xo:()=>_,xq:()=>p});var a=s(37422),n=s(95406),r=s(8575),o=s(17673);function i(){return"undefined"!=typeof window}function l(e){if(i())return new Promise((t=>{const s=new Image;s.src=e,s.onload=()=>{t()}}))}function c(e,t={}){if(!e)return e;const{protocol:s,host:a,pathname:n,query:i,hash:l}=(0,r.parse)(e),c={...o.parse(i),...t},d=o.stringify(c);let _="";return s&&(_=s+"//"),a&&(_+=a),n&&(_+=n),d&&(_=_+"?"+d),l&&(_+=l),_}function d(e){const{partner:t="",reason:s="unkown",isMobile:n=!1}=e||{},r=window.location.port;let o=window.location.protocol+"//"+window.location.hostname;r&&(o+=":"+r),o+=(n?a.IZo:a.JKT)+"?reason="+s,"ycorp"===t&&(o+="&.partner=ycorp"),window.location.replace(o)}function _(e){const t=window.location.href,{query:s}=(0,r.parse)(t),a=(1*o.parse(s).counter||0)+1,n=c(t,{reason:e,counter:a});a<10&&(window.location.href=n)}function E(e){try{return new Intl.DateTimeFormat("en",{timeZone:e}),!0}catch(t){return!1}}function u(){return i()&&"function"==typeof(0,n.u9)(window,"DataTransfer.prototype.setDragImage")}function m(e){if(!i())return;const t=(0,n.u9)(window,"AppBootstrapData.browserName");t&&t.toLowerCase().indexOf("safari")>=0||(e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px")}function S(e,t){return u()&&(t||((t=document.createElement("img")).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",document.body.appendChild(t)),e.setDragImage(t,0,0)),t}function p(e){e&&document.body.removeChild(e)}function C(){try{return JSON.parse.apply(JSON,arguments)}catch(e){return null}}function A(){var e,t;if(!i())return!1;return((null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)||"").indexOf("Photon")>-1}function T(){return!!i()&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)}function I(){return!!i()&&"scrollBy"in window}},95992:(e,t,s)=>{"use strict";s.d(t,{a:()=>r});const a=/&(#?[\w\d]+);?/g,n={amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",quot:'"',lcub:"{",rcub:"}"};function r(e,t){return e?e.replace(a,((e,s)=>{var a,r;return"#"===s.charAt(0)?(r="x"===s.charAt(1)?parseInt(s.substr(2).toLowerCase(),16):parseInt(s.substr(1),10),isNaN(r)||r<-32768||r>65535||(a=String.fromCharCode(r))):t&&n[s]&&(a=n[s]),a||e})):""}},17016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{NOOP:()=>h,box:()=>K,compareObjectsWithKeys:()=>j,composeContactsInfo:()=>X,destructEmailAddressParts:()=>L,generateRandomInteger:()=>R,generateRandomStringWithLength:()=>N,generateUID:()=>D,getAppContainerId:()=>w,getAppInfoFromUrl:()=>$,getComparableValue:()=>Q,getCorpMailEmailProvider:()=>v,getDisplayName:()=>J,getFilterPriority:()=>se,getHash:()=>B,getInteractionFromEvent:()=>k,getQueryParamByName:()=>z,getRootDomainFromEmailAddress:()=>Y,getRootSpaceIdByApp:()=>ee,isBusinessOutboundLinkDisabled:()=>ae,isCorpMailEmail:()=>y,isEmailFromAllowlistDomains:()=>b,isInvalid:()=>V,isLocalStorageAvailable:()=>q,isValidEmail:()=>P,isValidFolderName:()=>F,isValidFolderPrefix:()=>U,nothing:()=>x,sanitizeData:()=>te,transformSimpleBody:()=>G,validateDomainPart:()=>M,validateLocalPart:()=>f});var a=s(37422),n=s(92559),r=s(63352),o=s(95406),i=s(17673),l=s(18446),c=s.n(l),d=s(39693),_=s.n(d),E=s(4119),u=s(78263),m=s(45167),S=s(61908),p=s(27955),C=s.n(p),A=s(74630),T=s(77953),I=s(5359);const h=()=>{},g=/^[^\\\/%]+$/,O={[a.Tzw.YAHOO]:{[a.BQZ.MAIL_APP]:159600001,[a.BQZ.BASIC_MAIL_APP]:794600001,[a.BQZ.MOBILE_APP]:959521375,[a.BQZ.BASIC_MOBILE_APP]:959521375},[a.Tzw.AOL]:{[a.BQZ.MAIL_APP]:972825001,[a.BQZ.BASIC_MAIL_APP]:1197808570,[a.BQZ.MOBILE_APP]:1197803638,[a.BQZ.BASIC_MOBILE_APP]:1197803638}};function D(){var e=(Date.now()+Math.floor(1e9*Math.random())).toString();return e.substr(e.length-10)}function R({min:e=0,max:t=0,randomSeed:s=Math.random()}){return Math.floor(s*(t-e)+e)}function N({min:e=0,max:t=0}){const s=R({min:e,max:t}),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<s;r++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}const L=m.Cz,f=m.ad,M=m.aL,P=m.vV,b=m.oC,y=m.eV,v=m.dv;function F(e){return void 0!==e&&g.test(e.trim())}function U(e){if(!e)return""===e;return _()(e.split("/")).every((e=>F(e)))}function k(e){return(0,r.Z)(e,"event object is required"),e.key===a.R8U.ENTER?n.Rb.nav:"keydown"===e.type||"keypress"===e.type?n.Rb.shortcut:n.Rb.click}function w(e){return(0,o.u9)(e||{},"container.id","app-container")}function G(e){const t=e.htmlAnnotations.map((e=>(e.divIds||(e.divIds=e.divids,delete e.divids),e))),{html:s,amp:a}=e,n={html:s,htmlAnnotations:t};return a&&(n.amp=a),n}function H(e){let t,s,a,n,r=new Array(256),o=0,i=-1;const l=e.length;for(n=0;256!==n;++n)t=n,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,t=1&t?-306674912^t>>>1:t>>>1,r[n]=t;for(r="undefined"!=typeof Int32Array?new Int32Array(r):r,o=0;o<l;)t=e.charCodeAt(o++),t<128?i=i>>>8^r[255&(i^t)]:t<2048?(i=i>>>8^r[255&(i^(192|t>>6&31))],i=i>>>8^r[255&(i^(128|63&t))]):t>=55296&&t<53248?(t=64+(1023&t),a=1023&e.charCodeAt(o++),i=i>>>8^r[255&(i^(240|t>>8&7))],i=i>>>8^r[255&(i^(128|t>>2&63))],i=i>>>8^r[255&(i^(128|a>>6&15|3&t))],i=i>>>8^r[255&(i^(128|63&a))]):(i=i>>>8^r[255&(i^(224|t>>12&15))],i=i>>>8^r[255&(i^(128|t>>6&63))],i=i>>>8^r[255&(i^(128|63&t))]);return s=-1^i,s=new Uint32Array([s])[0].toString(16),s}function B(){let e="";for(let t=0;t<arguments.length;t++)e+=JSON.stringify(arguments[t]);return H(e)}const x=Object.freeze({isNotNothing:()=>!1,isNothing:()=>!0,chain:()=>x,checkIf:()=>x,checkIfNot:()=>x,unbox:(e,t=(()=>h))=>t(),debug:()=>(console.log("Box:[NOTHING]"),x)});function V(e){return null==e||"number"==typeof e&&isNaN(e)||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||e===x}function Z(e){return!1===e||V(e)}const W=e=>e;function K(e){return V(e)?x:{checkIf:(t,s=W)=>Z(t(e))?x:K(s(e)),checkIfNot:(t,s=W)=>Z(t(e))?K(s(e)):x,isNotNothing:()=>!0,isNothing:()=>!1,chain:t=>K(t(e)),unbox:(t=(()=>e))=>t(e),debug:(t=W)=>(console.log("Box:[",JSON.stringify(t(e),null,2),"]"),K(e))}}function z(e,t){return i.parse(e)[t]||null}function Y(e){if(!e)return null;const{domainPart:t}=L(e);let s=t.split(".").slice(-2).join(".");return["co.uk","co.in","com.hk","com.tw","com.au","com.hk","com.my","com.sg","com.mx"].includes(s)&&(s=t.split(".").slice(-3).join(".")),s}function j(e,t,s=[]){if(!s.length)return c()(e,t);for(const a of s)if(!c()(e[a],t[a]))return!1;return!0}function q(){try{const{localStorage:e}=window,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function X(e){var t;const{doesComposeSessionExist:s,getCompactComposeSessions:n,getComposeHeaderFocus:r,getMainStreamListIds:o,getCursorItem:i,doesStreamExist:l,getMessageGroupStreamItems:c,getStreamItemInFocus:d,getRoute:_,getComposeFormatsSelectors:m}=e,S=_(),{getLastActiveComposeSession:p}=m();let C=p();if(!C){const e=(0,u.BA)(o(S)),t=l(e)?i(e):void 0;if(t){const e=d();if(e){const s=c(t).find((t=>t.folderType===a.Sck.DRAFT&&(t.csid===e.csid||t.csid===e.id)));C=s?s.csid:void 0}}}const A=s(C),T=(S.name===a.n8z.NEW_DRAFT||S.name===a.n8z.EDIT_DRAFT)&&(null==S||null===(t=S.params)||void 0===t?void 0:t.csid)===C,I=n().some((e=>(null==e?void 0:e.csid)===C));let h=E.vX.TO;return A&&(h=r(C),-1===E.DD.indexOf(h)&&(h=E.vX.TO)),{csid:C,isCompose:A,inputFocus:h,isComposeInView:(T||I)&&A}}function Q(e,t){const{firstName:s,middleName:n,lastName:r,name:o,emails:i=[]}=t;return e===a.bW1.FIRST_NAME?s&&s.toUpperCase()||n&&n.toUpperCase()||r&&r.toUpperCase()||o&&o.toUpperCase()||i[0]&&i[0].toUpperCase()||void 0:r&&r.toUpperCase()||s&&s.toUpperCase()||n&&n.toUpperCase()||o&&o.toUpperCase()||i[0]&&i[0].toUpperCase()||void 0}function J({firstName:e="",middleName:t="",lastName:s="",name:n=""},r){return r!==a.bW1.FIRST_NAME&&(e||t||s)?s?t||e?`${`${s}, ${e}`.trim()} ${t}`.trim():s:`${e} ${t}`.trim():n}function $(e,t){const s=(0,S.XT)(t&&t.name);let n=s.NORRIN_APP_ID,r=a.BQZ.MAIL_APP;return 0===e.indexOf(a.ibP)?(n=s.NOBLE_APP_ID,r=a.BQZ.MAILBOXES_APP):0===e.indexOf(`${a.IZo}/test/`)?(n=s.NOBLE_APP_ID,r=`${a.BQZ.MOBILE_APP}_TEST`):0===e.indexOf(`${a.IZo}/`)?(n=s.NOBLE_APP_ID,r=a.BQZ.MOBILE_APP):0===e.indexOf(`${a.jQ2}/test/`)?r=`${a.BQZ.MAIL_APP}_TEST`:0===e.indexOf(a.jQ2)?r=a.BQZ.MAIL_APP:0===e.indexOf(`${a.bCI}/test/`)?(n=s.BASIC_MOBILE_APP_ID,r=`${a.BQZ.BASIC_MOBILE_APP}_TEST`):0===e.indexOf(a.bCI)?(n=s.BASIC_MOBILE_APP_ID,r=a.BQZ.BASIC_MOBILE_APP):0===e.indexOf(`${a.Zs1}/test/`)?(n=s.BASIC_MAIL_APP_ID,r=`${a.BQZ.BASIC_MAIL_APP}_TEST`):0===e.indexOf(a.Zs1)&&(n=s.BASIC_MAIL_APP_ID,r=a.BQZ.BASIC_MAIL_APP),{appId:n,appName:r}}function ee(e,t){const s=e&&e.name;return O[s][t]}const te=e=>(0,A.g)((0,T.wd)(C()(e||""))),se=e=>{var t;const s=0|(null===(t=(e||[]).slice().sort(((e,t)=>t.priority-e.priority))[0])||void 0===t?void 0:t.priority);return s<1500?1500+s+1:s>1999?1999:s+1};function ae(e){const t=Y(e)||"";return I.s.includes(t)}},53957:(e,t,s)=>{"use strict";s.d(t,{iZ:()=>A,qC:()=>_,uj:()=>T,vG:()=>C,zM:()=>p});var a=s(67294),n=s(73935),r=s(63352),o=s(9333),i=s(76531),l=s(99839),c=s(8106),d=s(8575);function _(e,t=[]){(0,r.Z)("function"==typeof e.querySelectorAll,"#fixImageSrc: Expect container to be a html element"),[].forEach.call(e.querySelectorAll('img[src^="cid://"], img[src^="blob:"]'),(e=>{const s=e.src&&e.src.startsWith("cid://"),a="<"+e.src.slice("cid://".length)+">",n=t.find((t=>t.contentId===(s?a:e.getAttribute("data-id"))));n&&(e.src=n.downloadUrl,e.setAttribute("data-id",n.dataId||e.dataset.id))}))}const E=/(relative|absolute)/i,u=/messages\/@\.id==(.*)\/content\/parts\/@\.id==([0-9.]*)\//i,m='img[src*="/content/parts/@.id=="]:not([class*=preview])';function S(e,t,s,r,c,d,_){const u=document.createElement("div"),m=document.createElement("span"),{width:S,height:p}=s.getBoundingClientRect(),{naturalWidth:C=S,naturalHeight:A=p}=s;if(!(C<250||A<100)){m.classList.add("img-dl-btn"),u.classList.add("img-preview-wrapper"),s.parentNode.insertBefore(u,s),s.parentNode.removeChild(s),s.classList.add("preview"),_&&s.setAttribute("data-attachment-id",r),u.appendChild(s),u.appendChild(m),s.addEventListener("mouseenter",(t=>{if(m.contains(t.relatedTarget))return;let s=t.target&&t.target.parentNode;for(;s&&s!==e&&!E.test(s.style.position);)s=s.parentNode;const a=t.target.getBoundingClientRect(),n=s.getBoundingClientRect(),r=a.top-n.top+a.height-40,o=a.left-n.left+a.width-40;m.style.top=`${r}px`,m.style.left=`${o}px`,m.style.opacity=.8})),s.addEventListener("mouseleave",(e=>{m.contains(e.relatedTarget)||(m.style.opacity=1e-4)}));try{if(r&&r.includes("inlineImage"))return;n.unstable_renderSubtreeIntoContainer(t,a.createElement(o.default,{title:d,kind:i.Kinds.DOWNLOAD,colorState:i.ColorStates.WHITE,onClick:()=>c(r),size:S<=100?i.Sizes.XXS:i.Sizes.XS}),m)}catch(T){l.Z.error("inline_image_download_btn",T)}}}const p=e=>{const[,t,s]=e&&e.match(u)||[];return t&&s?`${t}:${s}`:null};function C(e){const t=e&&e.src||"",s=A(t);t!==s&&(e.src=s)}function A(e){const{protocol:t,host:s,pathname:a,query:n,hash:r}=(0,d.parse)(e);if(!s||!a||!(s.indexOf("dl-mail.ymail.com")>-1&&a.indexOf("/raw")>-1))return e;const o=r?`#${r}`:"";return`${t}//apis.mail.yahoo.com${a.split("/").map(((e,t)=>2===t?"v3":10===t?"refresh":e)).join("/")}?${n}${o}`}function T({element:e,component:t,onDownload:s,downloadTitle:a,shouldFixSrcURL:n=!1,logVisibilityStat:r=(()=>{}),msgId:o,externalInlineImagePreviewEnabled:i}){const d=function(e,t,s,a){const n=s?"img":m,r=Array.from(e.querySelectorAll(n));a&&r.forEach(C);return r.filter((t=>!s||function(e,t){let s=e;for(;s&&s!==t;){if("A"===s.nodeName&&s.hasAttribute("href"))return!1;s=s.parentNode}return!0}(t,e))).map(((e,a)=>{const n=p(e&&e.src);return s?{image:e,attachmentId:n||`inlineImage-${t}:${a}`,partId:`${a}`}:n?{image:e,attachmentId:n}:void 0})).filter(Boolean)}(e,o,i,n),_=function(e,t,s){let a;(0,c.aA)()&&(a=new IntersectionObserver((s=>{let n,r;const{boundingClientRect:o={},intersectionRatio:i}=s[0],l=document.querySelector('[data-test-id="message-group-view-scroller"]');l&&(n=l.getBoundingClientRect().height,r=Math.round(n/l.scrollHeight*100)),t({msgGroupHeight:n,msgGroupVisibility:r,msgCardVisibility:Math.round(100*i),msgCardHeight:Math.round(o.height||0)}),a.unobserve(e),a.disconnect()})));function n(){a&&a.observe(e)}return(e=[])=>{if(!e.length)return n(),e;const t=e.length;let a=e.filter((({image:{complete:e,naturalWidth:t}})=>e&&t)).length,r=e.filter((({image:{complete:e,naturalWidth:t}})=>e&&!t)).length;const o=(e,a)=>{t===e+a&&(l.Z.error("total_inline_images_in_msg",{msgId:s,failed:a,loaded:e}),n())};return o(a,r),e.filter((({image:e})=>!e.complete)).forEach((({image:e})=>{e.addEventListener("load",(()=>o(++a,r))),e.addEventListener("error",(()=>o(a,++r)))})),e}}(e,r,o),E=[_,I],u=function({element:e,component:t,onDownload:s,downloadTitle:a,externalInlineImagePreviewEnabled:n}){return(r=[])=>(r.forEach((({attachmentId:r,image:o})=>{o.complete&&o.naturalWidth?S(e,t,o,r,s,a,n):o.addEventListener("load",(()=>S(e,t,o,r,s,a,n)))})),r)}({element:e,component:t,onDownload:s,downloadTitle:a,externalInlineImagePreviewEnabled:i});return E.push(u),d.length?function(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return function(){return e(t.apply(this,arguments))}}))}(...E)(d):_()}function I(e=[]){return e.forEach((({attachmentId:e,image:t})=>{const s=()=>l.Z.error("inline_image_load_failure",{attachmentId:e,src:t.src});t.complete&&0===t.naturalWidth?s():t.addEventListener("error",s)})),e}},31057:(e,t,s)=>{"use strict";s.d(t,{Bq:()=>b,C4:()=>V,Ct:()=>xe,DF:()=>Ne,Er:()=>ne,Ez:()=>_e,Fh:()=>M,GG:()=>Y,H7:()=>ue,I1:()=>J,I7:()=>we,Ie:()=>ee,JB:()=>m,JO:()=>re,Kw:()=>P,LY:()=>L,Mz:()=>oe,Ob:()=>Le,Po:()=>ve,Q7:()=>$,QP:()=>N,Qe:()=>Ce,Qo:()=>j,RI:()=>B,Rm:()=>de,SH:()=>pe,WN:()=>K,WW:()=>te,YC:()=>De,Yd:()=>ye,Yy:()=>ae,_o:()=>v,aY:()=>z,ap:()=>x,ci:()=>G,cn:()=>ge,d0:()=>Z,dV:()=>Pe,dZ:()=>Me,fG:()=>Ue,ft:()=>Ie,hE:()=>He,h_:()=>se,iB:()=>y,j_:()=>U,ju:()=>Be,kC:()=>Te,kw:()=>Oe,lG:()=>Q,m6:()=>Fe,n4:()=>Ae,rA:()=>Ee,rB:()=>Re,rR:()=>q,s7:()=>Se,sm:()=>me,sv:()=>Ge,tE:()=>le,tr:()=>ce,uW:()=>f,ug:()=>be,uh:()=>F,vQ:()=>ie,wb:()=>S,xe:()=>w,y0:()=>ke,yE:()=>X,yd:()=>fe,yv:()=>k,yz:()=>W,zu:()=>he});var a=s(18446),n=s.n(a),r=s(88306),o=s.n(r),i=s(17673),l=s(92039),c=s(60037),d=s(37422),_=s(8106),E=s(95406),u=s(63523);const m=e=>`ListUi-${e}`,S="DEFAULT_MESSAGES_METADATA_CACHEKEY",p=/^folders=([0-9]+)$/,C=/^is\:(starred|flagged|unread|read)$/gi;function A({name:e="",referrer:t="",keyword:s="",excludefolders:a=[],folders:n=[],accountIds:r=[],fromNames:o=[],emailAddresses:i=[],listContentType:l=d.F6k.MESSAGES,listFilter:c=d.ukn.WITH_KEYWORD,sortOrder:_=d.Asd.DATE_DESC,listIds:E=[],contactIds:u=[],brandId:m="",mimeType:S=""}){return{name:e,referrer:t,keyword:s,folders:[...n],accountIds:[...r],emailAddresses:[...i],excludefolders:[...a],listContentType:l,listFilter:c,sortOrder:_,contactIds:[...u],brandId:m,fromNames:[...o],listIds:[...E],mimeType:S}}const T=A(Object.create(null)),I=Object.keys(T).sort(),h=I.map((e=>T[e])),g=JSON.stringify(I.map((()=>"")));function O(e){const t=JSON.parse(e);if(!Array.isArray(t))return A(t);return A(t.reduce((function(e,t,s){return e[I[s]]=t||h[s],e}),Object.create(null)))}const D=function(e){return JSON.stringify(I.map((function(t,s){const a=e[t];return!a||a===h[s]||Array.isArray(a)&&a.length<=0?"":Array.isArray(h[s])&&!Array.isArray(a)?[a]:a})))},R=(0,_.jU)()?o()(O):O;function N(e){let t={};t=i.parse(e)||{};const s=parseInt(e,10)?e:t.folders;return s&&(t.folders=Array.isArray(s)?s:[s]),D(t)}function L(e){const{query:t,fid:s,serializedListId:a}=(null==e?void 0:e.params)||{};let n={};if(a)return N(a);if(t)n=i.parse(t);else if(s){n=i.parse(s);const{folders:e=[s]}=n;n.folders=e}else null!=e&&e.query&&(n=e.query);return(null==e?void 0:e.name)===d.n8z.SUBSCRIPTION_LIST&&(n.listContentType=d.F6k.SUBSCRIPTIONS),D(n)}const f=()=>D({listContentType:d.F6k.PINNED_EMAILS,excludefolders:[d.Sck.TRASH,d.Sck.BULK]});function M(e){const{folders:t}=R(e);if(1===t.length)return t[0]}function P(e,t=d.Asd.DATE_DESC){return D({folders:[e],sortOrder:t})}const b=(e,t)=>D({listContentType:d.F6k.SUBSCRIPTIONS,sortOrder:e,accountIds:[t]}),y=e=>D({listContentType:d.F6k.SUBHUB_RECOMMENDATION_LIST,sortOrder:e}),v=()=>D({listContentType:d.F6k.BLOCKED_DOMAINS}),F=(e,t,s="")=>D({listContentType:d.F6k.CONTACTS,listFilter:e,keyword:t,name:s}),U=e=>F(d.ukn.WITH_KEYWORD,e),k=e=>D({listContentType:d.F6k.CONTACTS,listFilter:d.ukn.IMPORTANT_CONTACTS,keyword:e}),w=({type:e,filter:t,accountId:s,folderId:a})=>D({referrer:d.v6P[e]||void 0,listFilter:t,folders:[a],accountIds:[s]}),G=e=>{const t=R(e);return t.listFilter===d.ukn.WITH_KEYWORD?t.keyword:""};function H(e){const{keyword:t=""}=R(e);return t.split(" ").filter((e=>e.trim().match(C)))}function B(e){return H(e).length>0}function x(e,t){const s=H(e);let a=!0;return s.forEach((e=>{if(a)switch(e){case"is:unread":a=!t.read;break;case"is:read":a=!!t.read;break;case"is:starred":case"is:flagged":a=!!t.flagged}})),a}function V(e){return R(e).listFilter}function Z(e){if(!e)return S;const{keyword:t}=R(e);return t&&V(e)===d.ukn.WITH_KEYWORD?e:S}function W(e){const t=R(e);return t.name||t.keyword||""}function K(e){return R(e).listContentType}function z(e){return R(e).referrer}function Y(e){const t=z(e);return!!t&&(0,E.VO)(d.v6P).indexOf(t)>-1}function j(e){const t=z(e);return!!t&&(0,E.VO)(d.izb).indexOf(t)>-1}function q(e){const t=V(e);return d.mVv.indexOf(t)>-1?t:null}function X(e){return Y(e)&&!q(e)}function Q(e){const{emailAddresses:t=[]}=R(e);return t.length>0}function J(e){return R(e).mimeType}function $(e){return R(e).keyword}function ee(e,t){const s=R(e),a=K(e);let n=V(e);const r=z(e),{MESSAGES:o,IMAGES:i,DOCUMENTS:l,PEOPLE:_,AL:E,CARDS:m,PLA:S}=d.ZyO;let p=[o,i,l,_,E].join(",");const C=X(e);let A;const T=J(e),I=r===d.qd8.EMAILS_TO_MYSELF;if(I)p=[o,i,l].join(",");else if(C)switch(a){case d.F6k.MESSAGES:p=o;break;case d.F6k.IMAGES:p=i,A=n;break;case d.F6k.DOCUMENTS:p=l}else if(Q(e))r===d.qd8.CONTACT_DETAILS&&(n=d.ukn.FROM,p=[_,i,l,m].join(","));else switch(a){case d.F6k.MESSAGES:p=null!=t&&t.plaAdsEnabled?[o,_,S].join(","):[o,_,E].join(",");break;case d.F6k.IMAGES:p=[i,_].join(",");break;case d.F6k.DOCUMENTS:p=[l,_].join(",")}const h=Object.assign({},s,{listFilter:n,expand:p});if(I){const{keyword:t}=R(e);h.keyword=t,h.accountIds=[]}return C&&[d.F6k.IMAGES,d.F6k.DOCUMENTS].indexOf(a)>-1&&!(0,u.lX)(e)&&!I&&(h.keyword=""),A&&(h.filters=A),h.mimeType=T&&Object.keys(c.LO).indexOf(T)>-1?T:"",h}function te(e){return R(e).sortOrder}function se(e){return R(e).name}function ae(e){return R(e).brandId}function ne(e){return R(e).accountIds}function re(e){return R(e).excludefolders}function oe(e){const{folders:t,keyword:s}=R(e),a=(0,l.MW)(s)[l.nk.FOLDERS]||[];return t.length?{folderIds:t,folderNames:[]}:{folderIds:[],folderNames:a}}function ie(e){return e!==g}function le(e,t={}){return D(Object.assign({},R(e),t))}function ce(e){const t=R(e),s=A({}),a={},{emailAddresses:n=[],listFilter:r=d.ukn.WITH_KEYWORD}=t;n.length>0&&r===d.ukn.WITH_KEYWORD&&(t.listFilter=d.ukn.FROM);return Object.keys(t).forEach((e=>{const n=t[e];Array.isArray(n)?n.length>0&&(a[e]=n):n&&n!==s[e]&&(a[e]=n)})),i.stringify(a)}function de(e){return ce(e).replace(p,"$1")}function _e(e){return D(e)}const Ee=_e,ue=({referrer:e="",listFilter:t=d.ukn.ALL_COUPON_CARDS,...s})=>""===e?"":Ee({listContentType:d.F6k.COUPON_CARDS,listFilter:t,referrer:e,...s}),me=({referrer:e="",listFilter:t=d.ukn.ALL_WALLET_CARDS,...s})=>Ee({listContentType:d.F6k.WALLET_CARDS,listFilter:t,referrer:e,...s});function Se(e){return q(L(e))}function pe(e){const t=L(e);return e.name===d.n8z.LIST&&Y(t)&&!!Se(e)}function Ce(e){const t=V(e);return!!t&&Object.values(d.x5k).indexOf(t)>-1}function Ae(e){const t=L(e);return e.name===d.n8z.LIST&&Ce(t)}function Te(e){const t=L(e),s=Y(t),a=q(t);return e.name===d.n8z.LIST&&s&&(a===d.ukn.NEWMAIL||a===d.ukn.OLDMAIL)}function Ie(e){const t=Y(e),s=q(e);return t&&(s===d.ukn.NEWMAIL||s===d.ukn.OLDMAIL)}function he(e){const t=L(e);return(e.name===d.n8z.LIST||e.name===d.n8z.SEARCH)&&Y(t)}function ge(e){if(!e)return!1;const t=L(e),{name:s}=e;return!!([d.n8z.STOREFRONT,d.n8z.SUBSCRIPTION_LIST].indexOf(s)>-1||j(t))}function Oe(e){if(!X(e)&&!Ie(e))return;const t=V(e),s=z(e);switch(t){case d.ukn.OLDMAIL:return d.K8C.OLDMAIL;case d.ukn.NEWMAIL:return d.K8C.NEWMAIL}return Object.keys(d.v6P).find((e=>d.v6P[e]===s))}function De(e){if(!e)return;const{name:t}=e;return t===d.n8z.SUBSCRIPTION_LIST?d.K8C.SUBSCRIPTIONS:t===d.n8z.STOREFRONT?d.K8C.STOREFRONT:Oe(L(e))}function Re(e){const t=Oe(L(e));return(null==e?void 0:e.name)===d.n8z.SEARCH&&!!t&&[d.K8C.UNREAD,d.K8C.STARRED].indexOf(t)>-1}function Ne(e){const{emailAddresses:t=[]}=R(e);return t[0]}function Le(e){return R(e).emailAddresses}function fe(e){return R(e).listIds}function Me(e){return R(e).fromNames}function Pe(e,t){const{keyword:s=""}=R(e);return-1!==((0,l.MW)(s).is||[]).indexOf(t)}function be(e){const{referrer:t,keyword:s,emailAddresses:a,folders:n}=R(e);return!!(t||s||a&&a.length||n&&0===n.length)}function ye(e){const t=K(e);return t===d.F6k.REFUND_CARDS||t===d.F6k.COUPON_CARDS||t===d.F6k.TRAVEL_CARDS}const ve=(e,t)=>t.reduce(((e,t)=>-1!==e.indexOf(t)?e:[...e,t]),[...e]);function Fe(e,t,s){if(-1!==t.indexOf(s))return t;return te(e)===d.Asd.DATE_DESC?[s,...t]:[...t,s]}const Ue=(e,t,s)=>{const{itemIds:a,totalHits:r,hasMoreItems:o}=t.lists[s];return 0!==a.length&&o?a.length>e.length||a.length<e.length&&a.length===r?a:n()(e.slice(0,a.length),a)?e:((e,t)=>{let s=-1;for(let a=t.length-1;a>=0;a--){const n=e.findIndex((e=>e===t[a]));if(-1!==n){s=n;break}}return-1===s?t:ve(t,e.slice(s+1,e.length))})(e,a):a.length===e.length&&n()(e,a)?e:a},ke=e=>{switch(e.name){case d.n8z.FOLDER:case d.n8z.SEARCH:return!0;case d.n8z.LIST:return Te(e);default:return!1}},we=e=>{var t;return(null==e||null===(t=e.query)||void 0===t?void 0:t.ncid)||""},Ge=e=>{var t;return(null==e||null===(t=e.query)||void 0===t?void 0:t.activity)||""},He=e=>{var t;return(null==e||null===(t=e.query)||void 0===t?void 0:t.pspid)||""},Be=e=>z(L(e))===d.qd8.EMAILS_TO_MYSELF,xe=e=>{const t=R(e);return t.listFilter===d.ukn.WITH_KEYWORD&&!!t.keyword}},10728:(e,t,s)=>{"use strict";s.d(t,{Tgy:()=>ct,oHn:()=>dt,zBt:()=>q,yVS:()=>X,bFX:()=>Q,n$M:()=>J,qHZ:()=>$,fej:()=>j,qcv:()=>ee,TSB:()=>te,qxO:()=>se,Fg:()=>ae,ACI:()=>Y,n4M:()=>z,ODI:()=>K,gOp:()=>W,SVW:()=>G,Hgi:()=>w,nGq:()=>i,E54:()=>m,vAi:()=>d,Plh:()=>U,GZk:()=>vt,Zbf:()=>yt,lao:()=>bt,uNm:()=>Ft,BOt:()=>Pt,rcB:()=>It,ljI:()=>ht,ZzG:()=>At,CHL:()=>E,SDK:()=>Ct,Ehc:()=>ze,YS_:()=>L,jh8:()=>N,h_d:()=>C,EDd:()=>V,bG1:()=>x,yN:()=>B,qNP:()=>H,NzJ:()=>R,eob:()=>h,mg$:()=>o,m1H:()=>f,twz:()=>M,KxA:()=>S,fa0:()=>Ze,zoe:()=>ne,GxM:()=>nt,nNF:()=>at,yLL:()=>rt,CT1:()=>Mt,M2k:()=>k,V2F:()=>Oe,MBf:()=>ge,Lw9:()=>fe,THM:()=>Le,yAb:()=>Ne,L0R:()=>Me,$O5:()=>Re,yQx:()=>he,A3h:()=>Se,rZd:()=>Ce,O2p:()=>pe,zJB:()=>Ae,xwf:()=>Ie,BKZ:()=>Te,DGE:()=>Ee,yNf:()=>me,zDu:()=>ue,eV3:()=>De,Ch$:()=>_e,k5G:()=>de,iWM:()=>Pe,BNf:()=>be,zhE:()=>St,mQ2:()=>ot,gs7:()=>st,BMy:()=>Qe,E6z:()=>je,lmS:()=>We,dEt:()=>Ve,qVV:()=>ke,tsr:()=>we,ogS:()=>Ge,GdE:()=>Ue,Q3u:()=>ve,TQs:()=>Fe,XpS:()=>He,bA8:()=>Be,Yw5:()=>xe,HOW:()=>P,Zcy:()=>b,OU2:()=>F,HxO:()=>v,S6d:()=>y,hMM:()=>lt,ZYh:()=>Tt,a1j:()=>mt,v9j:()=>ut,kaB:()=>Et,mzh:()=>_t,FPr:()=>Ot,S9T:()=>g,HB2:()=>gt,fo3:()=>ce,w_K:()=>ft,K_u:()=>$e,A_$:()=>et,jv9:()=>tt,lHY:()=>Je,cl5:()=>O,oqp:()=>Ke,MEf:()=>Ye,FsO:()=>c,naA:()=>ye,iUz:()=>qe,Cjz:()=>u,xW2:()=>it,MmD:()=>Lt,LSY:()=>Xe,Cjq:()=>pt,TfM:()=>Rt,vws:()=>Nt,j8t:()=>Dt});var a=s(55570),n=s.n(a);var r=s(90775);const o=4,i=n().vzm_dory,l=n().vzm_dory,c="transparent",d=n().vzm_dory,_=(n().ycolorRed2a,n().vzm_watermelon,n().vzm_solo_cup),E=((0,r.m)(_,.1),n().vzm_sky),u=n().vzm_white,m=n().vzm_inkwell,S=n().vzm_battleship,p=n().vzm_dolphin,C=n().vzm_shark,A=(n().vzm_grey_hair,n().ycolorPurple14a),T=(n().vzm_blurple,n().vzm_grape_jelly,n().vzm_batcave),I=n().vzm_bob,h=((0,r.m)(I,.3),n().vzm_pebble),g=(n().vzm_denim,n().vzm_gandalf),O=n().ycolorGrayG,D=n().vzm_masala,R=n().vzm_dirty_seagull,N=n().ycolorGrayI,L=(n().ycolorGrayFg,n().ycolorGrayFg,n().vzm_dirty_seagull,n().ycolorGrayJ,(0,r.m)(n().vzm_dory,.08),(0,r.m)(n().vzm_black,.05),(0,r.m)(n().vzm_black,.08),(0,r.m)(n().vzm_black,.1),(0,r.m)(n().vzm_black,.16),(0,r.m)(n().vzm_black,.2),(0,r.m)(n().vzm_black,.24),(0,r.m)(n().vzm_black,.3),(0,r.m)(n().vzm_black,.46),(0,r.m)(n().vzm_black,.6),(0,r.m)(n().vzm_black,.7),(0,r.m)(n().vzm_black,.85),(0,r.m)(n().vzm_white,.06),(0,r.m)(n().vzm_white,.08),(0,r.m)(n().vzm_white,.1),(0,r.m)(n().vzm_white,.12),(0,r.m)(n().vzm_white,.16),(0,r.m)(n().vzm_white,.2),(0,r.m)(n().vzm_white,.3),(0,r.m)(n().vzm_white,.5),(0,r.m)(n().vzm_white,.6)),f=((0,r.m)(n().vzm_white,.8),(0,r.m)(n().vzm_white,.95),"#7282fb"),M="#7934f7",P=((0,r.m)(n().vzm_white,.5),(0,r.m)(n().vzm_white,.3),(0,r.m)(n().vzm_dory,.08),(0,r.m)(n().vzm_dory,.16),n().vzm_dirty_seagull,"#188fff"),b=n().vzm_dory,y=u,v=(n().vzm_cobalt,n().ycolorGrayG),F=(n().vzm_dirty_seagull,n().vzm_dory),U=(n().vzm_dory,n().vzm_cobalt,(0,r.m)(n().vzm_dory,.16),(0,r.m)(n().vzm_dory,.04),(0,r.m)(n().vzm_dory,.32),n().vzm_charcoal,n().vzm_inkwell,"bold"),k=500,w='"YahooSans VF", YahooSans, "Helvetica Neue", "Segoe UI", Helvetica, Arial, sans-serif',G="13px",H="11px",B="13px",x="15px",V="17px",Z="24px",W=20,K=32,z=96,Y=28,j=40,q=10,X=14,Q=24,J=27,$=34,ee=42,te=44,se=60,ae=68,ne={NORMAL:m,BATCAVE_GRAY:T,FIRST_LEVEL_GRAY:C,FIRST_LEVEL_ORANGE:D,NORMAL_LESS_DIM:(0,r.m)(n().vzm_inkwell,.8),IMPROVED_GRAY_DARK:S,INVERTED:u,INVERTED_MORE_DIM:(0,r.m)(n().vzm_white,.3),INVERTED_DIM:(0,r.m)(n().vzm_white,.5),INVERTED_LESS_DIM:(0,r.m)(n().vzm_white,.8),SELECTED:l,PRIMARY_HOVER:F,DARKER_PRIMARY_HOVER:"#0C54CC",SELECTED_DARK_THEME_MODE:E,DISABLED:g,STARRED:n().vzm_cheetos,STARRED_DARK:n().vzm_turmeric,SMARTVIEW_DARK:(0,r.m)(n().vzm_white,.6),LESS_IMPORTANT:p,SECOND_LEVEL_GRAY:g,THIRD_LEVEL_GRAY:O,FAINT:n().vzm_dirty_seagull,COOL_FAINT:n().ycolorGrayFg,ADVISORY:n().vzm_turmeric,WARNING:n().vzm_malibu,HEADING:"#775eec",HOVER_BGCOLOR:(0,r.m)(n().vzm_dory,.08),ICON_HOVER_BGCOLOR:(0,r.m)(n().vzm_dory,.15),ACTIVE_BGCOLOR:(0,r.m)(n().ycolorGrayFg,.3),YBADGE:n().ycolorPurple14c,YBANG:n().vzm_grape_jelly,GREEN:n().vzm_mulah,PURPLE:A,TOUCH_PRIMARY:n().vzm_dory,BONSAI:n().vzm_bonsai,TB_ICON_FILL_COLOR:(0,r.m)("#27292b",.8),Attachments:{MEDIA:n().vzm_barney,CAL:n().vzm_barney,EXCEL:n().vzm_mulah,DOC:n().vzm_dory,SLIDE:n().vzm_carrot_juice,PDF:n().vzm_carrot_juice,GENERIC:n().vzm_dory,COMPRESSED:n().ycolorTurquoise8b},SmartViews:{PEOPLE:n().vzm_turmeric,SHOPPING:"#EF5483"},SocialIcons:{FACEBOOK:"#3B5998",LINKEDIN:"#0077B5",TWITTER:"#1DA1F2"},GRAY_VZM_BOB:I},re=(n().ycolorGrayI,n().vzm_dirty_seagull,n().vzm_malibu,n().vzm_gandalf,(0,r.m)(n().vzm_black,.5),3),oe=6,ie=10,le=(0,r.m)(n().vzm_black,.3),ce={LOW:`0 0 ${re}px ${le}`,MED:`0 0 ${oe}px ${le}`,HIGH:`0 0 ${ie}px ${le}`,BLACK_MED:`0 0 ${oe}px ${n().vzm_black}`},de=(n().vzm_inkwell,n().ycolorGrayFg,13*o),_e=6*o,Ee=8*o,ue=6*o,me=11*o,Se=14*o,pe=12*o,Ce=15*o,Ae=18*o,Te=16*o,Ie=20*o,he=17*o,ge=20*o,Oe=18*o,De=5*o,Re=42,Ne=60,Le=98,fe=168,Me=268,Pe=15*o,be=20*o,ye=34*o,ve=32,Fe=30,Ue=180,ke=180,we=32,Ge=45,He=285,Be=490,xe=180,Ve=180,Ze=8*o,We=158,Ke=400,ze=16*o,Ye=16*o,je=n(),qe={APP_HEADER_MAIL_APPS:0,APP_HEADER_ACCOUNT_MENU:0,APP_HEADER_SEARCHBOX:10,FOLDER_LIST:20,PRIORITY_INBOX_TABS:25,MESSAGE_LIST_TOOLBAR:30,MESSAGE_LIST_MAIN:40,MESSAGE_GROUP_HEADER:50,SEGMENTED_CONTROL_FILTERS:60,ATTACHMENT_PREVIEW:70,ATTACHMENT_PREVIEW_TOOLBAR:80,COMMS_PROPERTIES_BAR:90,CONTACTS_SEARCH_BAR:100,CONTACTS_PANE_HEADER:110,CONTACTS_LIST:120,CONTACTS_FOOTER:130,FOLDER_SELECTION_MENU:140},Xe={CURSOR:11e3,MODAL:1e4,POPOVER:{LOW:100,MEDIUM:500,HIGH:900},OVERLAY:9e3,NOTIFICATION:9100,NOTIFICATION_FROM_MODAL:10100,PERSISTENT_NOTIFICATION:90,TIMECHUNK:10},Qe={TRANSPARENT:0,LOW:.3,MEDIUM:.75},Je=108,$e=144,et=28,tt=250,st=192,at=st,nt=340,rt=2,ot=1360,it=1600,lt={S:"88px",L:"160px"},ct=192,dt=332,_t=332,Et=`${_t}px`,ut=`${ct}px`,mt=52,St=(je.vzm_dory,n().vzm_turmeric,{enter:225,leave:195,fullScreen:375}),pt=(n().vzm_sea_foam,n().ycolorBluegreen7a,n().vzm_solo_cup,n().vzm_barney,{PURPLE_GRADIENT:"purpleGradient"}),Ct=29*o,At=9*o,Tt=9*o,It=23.5*o,ht=36*o,gt=11*o,Ot="#2A211E",Dt={display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:4*o+"px",right:0,height:8*o+"px",width:8*o+"px",marginRight:"16px",backgroundColor:(0,r.m)(n().vzm_black,.7),borderRadius:"2px",cursor:"pointer",zIndex:2},Rt={display:"inline-block",width:Z,height:Z,fill:ne.NORMAL,"pointer-events":"none",flexShrink:0,WebkitTapHighlightColor:c},Nt={display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},Lt=21*o,ft=8*o,Mt=40*o,Pt=9*o,bt=130*o,yt=150*o,vt=48*o,Ft=260},10587:(e,t,s)=>{"use strict";s.d(t,{A9:()=>n,Cf:()=>a});const a="all",n=e=>{const t=(null==e?void 0:e.preferences)||{};return Object.keys(t).reduce(((e,s)=>((s!==a&&!1===t[s].isSubscribed||s===a&&!0===t[s].isSubscribed)&&(e[s]=!0),e)),{})}},18247:(e,t,s)=>{"use strict";s.d(t,{AN:()=>g,DQ:()=>_,EK:()=>D,K:()=>u,Se:()=>T,Xu:()=>d,Zr:()=>p,aX:()=>C,ad:()=>m,b1:()=>S,gc:()=>l,ln:()=>h,mv:()=>c,o_:()=>O,sQ:()=>E});var a=s(63352),n=s(37422),r=s(42907),o=s(95406),i=s(33612);function l({messageGroupId:e,mId:t}){return t?e+"-"+t:e}function c(e){return(0,r.IZ)(e.folder)===n.Sck.DRAFT}function d(e){return(0,r.IZ)(e.folder)===n.Sck.TRASH}function _(e){return(0,r.IZ)(e.folder)===n.Sck.BULK}function E(e){return t=>t.folder.id===e}function u(e){return e.length>27?e.split("_").pop().replace(/\+/g,"-").replace(/\//g,"_"):e}function m({partId:e,contentId:t},s){return(0,a.Z)(s,"#generateAttachmentId must receive a messageId"),`${s}:${e||t}`}function S(e=""){if(e.includes("inlineImage"))return(0,i.dX)(e);const[t]=e.split(":");return t}function p(e,t){return e.filter((({folder:e})=>t((0,r.IZ)(e))))}function C({schemaOrg:e=[]}){var t;const s=e.find((e=>{const t=e.schema;return((null==t?void 0:t["@type"])||"")===n.rgK.AntispamResult})),a=(null==s||null===(t=s.schema)||void 0===t?void 0:t.antispamStatus)||[],r="http://schema.org/v1/",i=[];return a.forEach((e=>{if(e.startsWith(r)){const t=e.slice(r.length);n.DBG[t]&&i.push(n.DBG[t])}})),i.length>0?(0,o.gP)(i):{}}const A=e=>e.filter((e=>e["@id"]&&e.name&&"GPT"===e.taxonomy&&["haifaproduct","GPT_ASPEN_LIB","haifaproductv2"].includes(e.method))).map((e=>{var t,s;const a=(null===(t=e.name)||void 0===t?void 0:t.split(">"))||[],n=(null===(s=e.hierarchy)||void 0===s?void 0:s.split("."))||[],r=[];for(let o=0;o<a.length;o++)r.push({id:n[o]||e["@id"],name:a[o],level:o+1,isLeafNode:o===a.length-1});return r})).reduce(((e,t)=>{for(const s of t)e.some((e=>e.id===s.id))||e.push(s);return e}),[]);function T(e,t=[]){return e.schemaOrg.forEach((s=>{const a=s.schema||s,r=a["@type"];switch(r){case n.rgK.ReservationPackage:a.subReservation&&T({...e,schemaOrg:a.subReservation},t);break;case n.rgK.FlightReservation:{if(!a.reservationFor)break;const{reservationId:e="",reservationFor:s}=a;let{underName:i=[],potentialAction:l=[]}=a;const{departureAirport:c,departureTime:d,departureTerminal:_="",arrivalAirport:E,arrivalTerminal:u="",flightNumber:m="",arrivalTime:S=""}=s;if(!(c&&E&&d&&a["@id"]))break;let p="";Array.isArray(l)||(l=[l]),Array.isArray(i)||(i=[i]),l.some((e=>{if(e["@type"]===n.rgK.CheckInAction&&e.url)return p=(0,o.u9)(e,"url.@value")||(0,o.u9)(e,"url",""),!0})),t.push({id:a["@id"],type:r,providerName:(0,o.u9)(s,"provider.name",""),providerIataCode:(0,o.u9)(s,"provider.iataCode",""),providerUrl:(0,o.u9)(s,"provider.url",""),departureAirportName:(0,o.u9)(c,"name",""),departureAirportDesc:(0,o.u9)(c,"description",""),departureAirportCode:(0,o.u9)(c,"iataCode",""),departureTime:d,departureTerminal:_,arrivalAirportName:(0,o.u9)(E,"name",""),arrivalAirportDesc:(0,o.u9)(E,"description",""),arrivalAirportCode:(0,o.u9)(E,"iataCode",""),arrivalTime:S,arrivalTerminal:u,flightNumber:m,reservationId:e,passengers:i.map((e=>e.name)),checkInUrl:p});break}case n.rgK.Recommendation:{var i;const s=a.recommendedItem||[],l=e.cardConversationId||"",c=e.cardId||"",d=a["@id"],_=(0,o.u9)(e,"headers.from",[]),E=(null==a?void 0:a.identifier)||[],u=JSON.parse((null===(i=E.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===i?void 0:i.value)||"[]")[0]||{};s.forEach((s=>{var a,o,i,E,m,S;const p=s.name||"",C=s["@id"]||"",T=e.id||"",I=s["@type"],h=(null==s?void 0:s.category)||[],g=A(h);t.push({parentMessageId:T,cardConversationId:l,cardId:c,cmid:d,dealLink:(null===(a=s.url)||void 0===a?void 0:a["@value"])||s.url||"",dealType:n.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL,description:p,from:_[0]||{},id:C,imageUrl:(null===(o=s.image)||void 0===o?void 0:o["@value"])||s.image||"",price:(null===(i=s.offers)||void 0===i||null===(E=i.price)||void 0===E?void 0:E["@value"])||(null===(m=s.offers)||void 0===m?void 0:m.price)||"",amountUnit:null===(S=s.offers)||void 0===S?void 0:S.priceCurrency,type:r,extractionMeta:u,entity:I,categories:g})}));break}case n.rgK.ParcelDelivery:{var l,c,d,_,E,u;const s=(null==a||null===(l=a.partOfOrder)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.orderNumber)||"",n=(null==a?void 0:a.trackingNumber)||"",o=(null==a||null===(d=a.itemShipped)||void 0===d||null===(_=d[0])||void 0===_?void 0:_.name)||"",i=(null==e?void 0:e.cardConversationId)||"",S=(null==a?void 0:a["@id"])||"",p=(null==a?void 0:a.trackingUrl)||"",C=(null==a?void 0:a.deliveryStatus)||[],A=(null==a||null===(E=a.partOfOrder)||void 0===E||null===(u=E[0])||void 0===u?void 0:u.inferredOrderDate)||"";let T="";(a.expectedArrivalUntil||a.expectedArrivalFrom)&&(T=(null==a?void 0:a.expectedArrivalUntil)||(null==a?void 0:a.expectedArrivalFrom)||"");let I="";if(C.length>1){var m;const e=C.length;I=null==C||null===(m=C[e-1])||void 0===m?void 0:m.description}t.push({cardConversationId:i,id:S,orderNumber:s,trackingNumber:n,name:o,type:r,trackingUrl:p,expectedArrival:T,deliveryStatusToShow:I,orderDate:A});break}case n.rgK.Coupon:{var S,p,C,I,h,g;const s=e.id,i=(0,o.u9)(a,"validThrough",""),l=(0,o.u9)(a,"description",""),c=(0,o.u9)(e,"headers.from",[]),d=(0,o.u9)(e,"cardConversationId",""),_=(0,o.u9)(e,"decos",[]).some((e=>e&&e.id===n.Jd6.TAG)),E=(0,o.u9)(a,"category",[]),u=(0,o.u9)(a,"valueReference",[]),m=0!==u.length?(0,o.u9)(u[0],"propertyID",""):"",T=(0,o.u9)(a,"image.url",null),O=(null==a||null===(S=a.image)||void 0===S||null===(p=S.height)||void 0===p?void 0:p.value)||null,D=(null==a||null===(C=a.image)||void 0===C||null===(I=C.width)||void 0===I?void 0:I.value)||null,R=(null==a||null===(h=a.offerSubType)||void 0===h?void 0:h[0])||{},N=Object.keys(R).filter((e=>!e.startsWith("@"))).map((e=>{const t=R[e],s=(null==t?void 0:t.value)||(null==t?void 0:t.maxValue)||"",a=(null==t?void 0:t.currency)||"";switch(e){case n.eN2.PERCENT_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${s}%`};break;case n.eN2.MONEY_OFF:if(s)return{discountType:e,hasUpToField:!!t.maxValue,value:`${a}${s}`};break;case n.eN2.FREE_SHIPPING:return{discountType:e,value:t}}}));if(!s||!l||!c.length||!i&&!m)break;const L=(null==a?void 0:a.identifier)||[],f=JSON.parse((null===(g=L.find((({propertyID:e})=>"extractionMeta"===e)))||void 0===g?void 0:g.value)||"[]")[0]||{},M=A(E),P=(0,o.u9)(E.find((e=>"Great Savings"===e.name)),"name","");t.push({id:s,type:r,validThrough:i,cardId:e.cardId||"",isInferredDate:"Inferred"===m,description:l,dealLink:(0,o.u9)(a,"url.value",a.url||""),saved:_,from:c[0],cardConversationId:d,unusualDiscount:P,couponCategories:M,retailer:(0,o.u9)(a,"broker.name",""),imageUrl:T,imageHeight:O,imageWidth:D,discountInfo:N.filter((e=>!!e)),extractionMeta:f,entity:"coupon"});break}case n.rgK.Order:{const{acceptedOffer:s={},orderedItem:n=[],potentialSaving:i={},orderDate:l,seller:c,inferredOrderDate:d,broker:_={}}=a;if(!n.length||!a["@id"])break;n.forEach((e=>{e.category=Array.isArray(e.category)?e.category:[]}));const E=(0,o.u9)(s,"price",null);t.push({id:e.immutableid,type:r,price:null!==E?Number(Number(E).toFixed(2)):null,currency:(0,o.u9)(s,"priceCurrency",""),potentialSavings:Number(Number((0,o.u9)(i,"price",0)).toFixed(2)),orderedItems:n,orderDate:l||d,sellerName:c?(0,o.u9)(c,"name",""):"",broker:_});break}case n.rgK.GiftCard:case n.rgK.ProgramMembership:{var O;const{id:s="",cardId:o="",cardConversationId:i="",headers:l={}}=e,c=(null==a?void 0:a.membershipPointsEarned)||!1,d=(null==a?void 0:a.monetaryRewardsEarned)||!1,{provider:_={},giftcardNumber:E="",sponsor:u={},amount:m={},image:S={},redemptionUrl:p="",subscribedTo:C=[],hostingOrganization:A={},membershipPointsEarned:T={},monetaryRewardsEarned:I={}}=a,{name:h="",url:g=""}=_,{name:f=""}=u.name?u:_,{validThrough:M="",value:P="",currency:b=""}=m,{url:y=""}=S,{date:v="",from:F=[],internalDate:U=""}=l,{name:k="",url:w=""}=A,{value:G="",unitText:H="",validThrough:B=""}=T,{value:x="",currency:V="",validThrough:Z=""}=I,W={id:s,type:r,cardId:o,cardConversationId:i,redemptionUrl:p,receivedDate:U||v,fromEmail:(null===(O=F[0])||void 0===O?void 0:O.email)||"",uniqueCardId:`${o}-${i}`};if(r===n.rgK.GiftCard)W.walletItemType=n.mUW.GIFT_CARD,W.provider={name:h,url:g},W.giftCardNumber=E,W.sentBy=f,W.expirationDate=M,W.amount={value:P,currency:b},W.imageUrl=y;else if(c){var D,R;W.walletItemType=n.mUW.REWARD,W.imageUrl=(null===(D=C[0])||void 0===D||null===(R=D.providesService)||void 0===R?void 0:R.image)||"",W.hostingOrganization={name:k,url:w},W.amount={value:G,unitText:H},W.expirationDate=B}else if(d){var N,L;W.walletItemType=n.mUW.CREDIT,W.imageUrl=(null===(N=C[0])||void 0===N||null===(L=N.providesService)||void 0===L?void 0:L.image)||"",W.hostingOrganization={name:k,url:w},W.amount={value:x,currency:V},W.expirationDate=Z}t.push(W);break}case n.rgK.EmailMessage:{const s=[];(a.category||[]).forEach((e=>{e.topics?e.topics.forEach((e=>{s.push({id:e["@id"],name:e.name})})):e.topic&&s.push({id:e.topic["@id"],name:e.topic.name})})),t.push({id:e.immutableid||e.id,type:r,categories:s});break}}})),t}function I(e){return`${e.email}@${e.name}`}function h(e){const t=e.length;if(t<=1)return e;const s=e[0],a={[I(s)]:s,[I(e[t-1])]:e[t-1]},n=[s];return e.slice(1,t-1).forEach((e=>{const t=I(e),n=a[t];(n!==s&&!n||!n.recent&&e.recent)&&(a[t]=e)})),e.slice(1,t-1).forEach((e=>{const t=I(e);a[t]===e&&n.push(e)})),n.push(e[t-1]),n.every((({email:e,recent:t,name:a})=>s.email===e&&s.recent===t&&s.name===a))?[s]:n}function g(e){if(1===e.length)return[0];const t=[0,e.length-1];let s=2;for(let a=1;a<e.length-1;a++){e[a].recent?(t.splice(s,0,a),s++):t.push(a)}return t}function O({recipients:e,participants:t,myAddresses:s}){let a=function(...e){const t={},s=[];let a=0;return e.forEach((e=>{e.forEach((e=>{const n=t[e.email];void 0===n?(t[e.email]=a,s[a]=Object.assign({},e),a++):s[n].recent=s[n].recent||e.recent}))})),s}(e,t);if(a.length){const e=a.filter((e=>!s[e.email]));e.length&&(a=e)}return a}function D({schemas:e=[]}){let t=!1;return e.forEach((e=>{const s=e.schema;if((null==s?void 0:s["@type"])===n.rgK.EmailMessage){const e=null==s?void 0:s.category;void 0!==typeof e&&(null==e||e.forEach((e=>{if("topics"in e){const s=e.topics;void 0!==typeof s&&s.forEach((e=>{e["@id"]!==n.LNv||(t=!0)}))}})))}})),t}},62760:(e,t,s)=>{"use strict";s.d(t,{LA:()=>E,Y3:()=>l,aS:()=>o,bR:()=>m,eW:()=>u,g_:()=>_,sd:()=>C});var a=s(18247),n=s(31057),r=s(37422);s(44908);function o(e){return e.filter((e=>{var t,s;return(null==e||null===(t=e.headers)||void 0===t||null===(s=t.from)||void 0===s?void 0:s.length)&&(e.headers.from[0].email||e.headers.from[0].name)})).map((e=>{var t;return{email:e.headers.from[0].email,name:e.headers.from[0].name,recent:!(null!==(t=e.flags)&&void 0!==t&&t.read)}}))}function i(e){return e.messages.some((e=>e.attachments&&e.attachments.length))}function l(e=[]){return e.map((e=>e.domain)).join("").toLowerCase().indexOf("yahoo")>=0}function c(e){return e.messages.some((e=>l(e.verifiedDomains)))}function d(e){return e.messages.some(a.mv)}function _(e){return e.messages.every(a.mv)}function E(e){return e.messages.every(a.Xu)}function u(e){return e.messages.every(a.DQ)}function m(e=""){return e.replace(/\^_(.+?)\^_/g,"$1")}function S(e){const t=e.messages;for(let s=t.length-1;s>=0;s--){if(t[s].folder.types[0]!==r.Sck.TRASH)return t[s].folder}return t[t.length-1].folder}function p(e,t={}){const{listId:s}=t;let r;s&&(r=(0,n.Fh)(s));return(function(e,t){return function(e,t){const s=e.messages;let a;for(let n=s.length-1;n>=0;n--)if(t(s[n])){a=s[n];break}return a}(e,(0,a.sQ)(t))}(e,r)||e.messages[e.messages.length-1]).headers.date}function C(e,t={}){const s=function(e){const t=e.messages;let s=!0,a=!1,n=!1,r=!1;for(let o=0;o<t.length;o++){const e=t[o];e.flags.read||(s=!1),e.flags.flagged&&(a=!0),e.flags.answered&&(n=!0,r=!1),e.flags.forwarded&&(r=!0,n=!1)}return{read:s,flagged:a,answered:n,forwarded:r}}(e),a=o(e.messages),n=e.messages.reduce(((e,t)=>t.headers.to.filter((e=>e.email||e.name)).reduce(((e,s)=>(e.push({email:s.email,name:s.name,recent:!t.flags.read}),e)),e)),[]);const r=e.messages[e.messages.length-1],l=e.messages[0].headers.subject,_=r.snippet;return{flags:s,participants:a,recipients:n,subjectWithMatchDelimiter:l,snippetWithMatchDelimiter:_,subject:m(l),snippet:m(_),date:p(e,t),messageCount:e.messages.length,hasAttachment:i(e),hasVerifiedMessage:c(e),hasDraft:d(e),folder:S(e)}}},70582:(e,t,s)=>{"use strict";s.d(t,{EL:()=>_,_m:()=>d,dj:()=>i});var a=s(96943),n=s(37422);const r="[a-zA-Z0-9-_]*",o={start:0,end:0},i="yahoo_quoted";function l(e){if(0===e.length)return!1;const{divIds:t}=e[0];return 0!==t.length}function c(e,{divIds:t=[]}){const s=[];let n=o;return t.forEach((t=>{let i=o;try{i=function(e,{divId:t}){let s,a;const n=new RegExp("<div[^>]+id=[\"']"+r+t+r+"[\"'][^>]*>","gm").exec(e);if(!n)return o;const i=e.slice(n.index),l=/<div|<\/div>/gi;for(s=0;s>0||!a||"</div>"!==a[0];){const e=l.exec(i);if(!e){a=[""],a.index=i.length;break}a=e,"<div"===a[0]?s++:s--}return{imbalancedBy:s,start:n.index,end:n.index+a.index+a[0].length}}(e.slice(n.end),{divId:t})}catch(l){a.Z.error("Mismatched HTML tags",{divId:t,error:l})}i!==o&&(i.start+=n.end,i.end+=n.end,s.push(i),n=i)})),s}function d(e="",t=[]){if(!l(t))return{nonQuote:e,quote:""};const s=c(e,{divIds:t[0].divIds});let a="",n="",r=o;for(let o=0;o<s.length;o++){const{start:t,end:i,imbalancedBy:l}=s[o];a+=o>0?e.slice(r.end,t):e.slice(0,t),n+=e.slice(t,i),l>0&&(n+=new Array(l).fill("</div>").join("")),r=s[o]}return a+=e.slice(r.end),{quote:n,nonQuote:a}}function _(e="",t=[],s=!1){let a=!1,r=!1;if(!l(t))return{messageAbove:e,messageBelow:"",expandable:a,truncated:r};const i=c(e,{divIds:t[0].divIds});let d=o;const _=[],E=[];for(let n=0;n<i.length;n++){const{start:t,end:a,imbalancedBy:r}=i[n];if((0===n?_:E).push(e.slice(d.end,t)),s){let s=e.slice(t,a);r>0&&(s+=new Array(r).fill("</div>").join("")),E.push(`<div class="qtd-body">${s}</div>`)}d=i[n]}return 0===i.length?(function(e){return 0!==e.length&&e.some((({type:e})=>e===n.fpK.TRUNCATED))}(t)&&(a=!0,r=!0),_.push(e)):(E.push(e.slice(d.end)),a=!0),{messageAbove:_.join(""),messageBelow:E.join(""),expandable:a,truncated:r}}},68591:(e,t,s)=>{"use strict";function a(){}function n(){}function r(){return!1}s.d(t,{Fc:()=>n,Ow:()=>a,Sf:()=>r,bO:()=>o,e_:()=>i});const o={};function i(){return!1}},60536:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(37422);const n={[a.BQZ.MAIL_APP]:a.jQ2,[a.BQZ.BASIC_MAIL_APP]:a.Zs1,[a.BQZ.MOBILE_APP]:a.IZo,[a.BQZ.BASIC_MOBILE_APP]:a.bCI};class r{constructor(e={},t,{TTL:s=180,domain:r=null,path:o,plainText:i=!1}={}){let l;if(s&&(l=new Date,l.setTime(l.getTime()+1e3*s)),this.cookieName=t,e.res&&e.req&&e.req.cookies&&e.res.cookie&&!i)this._set=this._serverSet,this._get=this._serverGet,o=o||n[e.req.APP_NAME];else if(e.window&&e.window.document&&"string"==typeof e.window.document.cookie){this._set=this._browserSet,this._get=this._browserGet;const t=e.window.AppBootstrapData&&e.window.AppBootstrapData.appName;o=o||n[t]}else this._set=()=>null,this._get=()=>null;this.io={req:e.req,res:e.res,window:e.window,cookieName:t,expires:l,domain:r,path:o||a.jQ2,plainText:i,defaultResult:i?"":{}}}_serverSet(e){const{req:t,res:s,cookieName:a,expires:n=0,path:r}=this.io,o=t.cookies[a]||{},i=Object.assign(o,e);s.headersSent||s.cookie(a,i,{path:r,expires:n})}_serverGet(){const{req:e,cookieName:t}=this.io;return e.cookies[t]}_browserSet(e){const{cookieName:t,expires:s=null,domain:a,path:n,window:r,plainText:o}=this.io;let i="";if(o)i=e.toString();else{const s=this._browserGet({window:r,cookieName:t}),a=Object.assign(s,e);i=`j:${JSON.stringify(a)}`}r.document.cookie=t+"="+encodeURIComponent(i)+`${a?";domain="+a:""};path=${n};expires=${s&&s.toGMTString()}`}_browserGet(){var e,t;const{window:s,cookieName:a,plainText:n}=this.io,r=null==s||null===(e=s.document)||void 0===e||null===(t=e.cookie)||void 0===t?void 0:t.match("(^|;) ?"+a+"=([^;]*)(;|$)"),o=n?"":"j:{}",i=decodeURIComponent(r?r[2]:o);if(n)return i;if(0===i.indexOf("j:"))try{return JSON.parse(i.substr(2))}catch(l){return{}}return{}}browserGetText(){return this._browserGet()}get(){const{defaultResult:e}=this.io;return this._get()||e}set(e){return this._set(e)}}},99647:(e,t,s)=>{"use strict";s.d(t,{t2:()=>o,uj:()=>r});var a=s(60536),n=s(37422);const r={TOUCH_ENABLED_DESKTOP:"ted",LEFT_NAV_WIDTH:"lnw",[n.a1v.H_SLIDER_POS_V2]:"hsp",[n.a1v.V_SLIDER_POS_V2]:"vsp",WINDOW_WIDTH:"ww",REFRESH_COUNT:"rcnt",INITIAL_TIMESTAMP:"itmp"};class o extends a.p{constructor(e){super(e,"YM.CLIENT.PARAMS",{TTL:2592e3,path:"/"})}setClientParam(e,t){e&&Object.values(r).indexOf(e)>-1&&this.set({[e]:t})}getClientParam(e){return this.get()[e]}getClientParams(){return this.get()}setRefreshCountWithinSeconds(e){const t=this.getClientParam(r.INITIAL_TIMESTAMP);!t||Date.now()>t+1e3*e?(this.setClientParam(r.INITIAL_TIMESTAMP,Date.now()),this.setClientParam(r.REFRESH_COUNT,1)):this.setClientParam(r.REFRESH_COUNT,this.getClientParam(r.REFRESH_COUNT)+1)}}},95406:(e,t,s)=>{"use strict";s.d(t,{PJ:()=>m,T8:()=>E,VO:()=>d,gP:()=>i,oF:()=>_,u9:()=>o,wU:()=>c,xb:()=>l});var a=s(28368),n=s.n(a);const r=Object.prototype.hasOwnProperty;function o(e,t,s){if(!t||!e)return s;if("string"==typeof t&&(t=t.split(".")),1===t.length)return r.call(e,t[0])?e[t[0]]:s;return(e=e[t.splice(0,1)[0]])?o(e,t,s):s}function i(e){var t={};return("[object Array]"===Object.prototype.toString.call(e)?e:Object.keys(e)).forEach((function(e){null===e?t.null=null:void 0===e?t.undefined=void 0:t[e]=e.toString()})),t}function l(e){return!e||0===Object.keys(e).length}function c(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((s=>e[s]===t[s]))}function d(e){return Object.keys(e).map((t=>e[t]))}const _=(e,t)=>{let s=e;return t.forEach((t=>{if(!r.call(e,t))return;const{[t]:a,...n}=s;s=n})),s},E=(e,t,s)=>{const a=e[t],n=_(e,[t]);return n[s]=a,n},u=(e,t)=>{if("function"==typeof e&&"function"==typeof t)return!0};function m(e,t){return n()(e,t,u)}},7228:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,E:()=>r});const a=/\.\w*$/;function n(e){if("string"!=typeof e)return"";const t=e.match(a);return t?t[0]:""}function r(e,t){void 0===e?e="undefined":"string"!=typeof e&&(e=e.toString());let s=e.split("/").pop();return t&&s.substr(-t.length)===t&&(s=s.substr(0,s.length-t.length)),s}},42363:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});const a=(e={},t="")=>{const s=t.split("@")[1],a=Object.keys(e);if(!t)return null;for(const n of a){if(new RegExp(n).test(s))return e[n]}return null}},3405:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>ne,EU:()=>ae,Ec:()=>Ee,F6:()=>k,I6:()=>ee,IX:()=>Z,KI:()=>v,KW:()=>L,P:()=>te,Q0:()=>X,Rb:()=>z,Rl:()=>ie,Sk:()=>B,Tx:()=>J,VP:()=>de,Vp:()=>P,Vu:()=>N,Ye:()=>le,Yw:()=>y,ah:()=>x,ao:()=>U,bI:()=>W,dM:()=>M,f9:()=>$,fq:()=>G,gN:()=>Q,i5:()=>j,jK:()=>Y,jq:()=>V,kO:()=>q,lB:()=>K,m9:()=>F,mH:()=>_e,oS:()=>O,ok:()=>b,os:()=>w,re:()=>ue,tf:()=>re,uo:()=>ce,w2:()=>R,xj:()=>H,z2:()=>oe,zo:()=>se});var a=s(18446),n=s.n(a),r=s(88306),o=s.n(r),i=s(43174),l=s.n(i),c=s(44908),d=s.n(c),_=s(14779),E=s.n(_),u=s(17673),m=s(8575),S=s(63352),p=s(37422),C=s(97324),A=s(31057),T=s(18247),I=s(62760),h=s(63523);function g(e){const t=[],s=E()(e,t);return{match:e=>{const a=s.exec(e);if(!a)return null;const n=a.slice(1);return t.reduce(((e,t,s)=>n[s]?{...e,[t.name]:decodeURIComponent(n[s])}:e),{})},stringify:E().compile(e)}}const O=o()((({routesConfig:e})=>e.map((e=>{const t=e.path;return(0,S.Z)(!!e.name&&!!t,`config.routes should be in this format [{route.name: routePattern}] => ${JSON.stringify(e)}`),{...e,pattern:g(t)}}))),(({appName:e})=>e));function D(e,t={}){const{pathname:s,query:a}=(0,m.parse)(e),n={...t,...a?u.parse(a):void 0},r=u.stringify(n);return r?s+"?"+r:s}function R(e,t,s){const a={...s,...t.query},n=e.find((e=>e.name===t.name));if(!n)return{name:p.n8z.NOT_FOUND,params:{},query:{},url:""};const r=n.pattern.stringify(t.params||{},{pretty:!0});return{...t,params:t.params||{},query:a,url:D(r,a)||""}}const N=(e,t)=>e===t||(null==e?void 0:e.name)===(null==t?void 0:t.name)&&n()(null==e?void 0:e.params,null==t?void 0:t.params)&&n()(null==e?void 0:e.query,null==t?void 0:t.query);function L({brandId:e,accountId:t,listIds:s,fromNames:a,fromEmails:n}){const r=(0,h.qt)(p.K8C.SUBSCRIPTION_DETAIL,{brandId:e,accountIds:[t],listIds:d()(s),fromNames:d()(a),emailAddresses:d()(n),excludefolders:[p.Sck.TRASH,p.Sck.BULK]}),o=(0,A.tr)((0,A.Ez)(r));return{name:p.n8z.LIST,params:{serializedListId:o},query:{}}}const f=(e,t={})=>{const s=(0,A.tE)(e,t),a=(0,A.tr)(s);return a?{name:p.n8z.LIST,params:{serializedListId:a},query:{}}:null};function M(e,t={}){const s=(0,A.tE)(e,t);if((0,A.Yd)(s)||(0,A.rR)(s))return f(s);const a=(0,A.tr)(s);return a?{name:p.n8z.SEARCH,params:{query:a},query:{}}:null}function P(){return{name:p.n8z.TODAYPAGE,params:{},query:{}}}function b(e,t={}){const s=(0,A.tE)(e,t),a=(0,A.Rm)(s);return a?{name:p.n8z.FOLDER,params:{fid:a},query:{}}:null}function y(e,t={}){const s=(0,A.tE)(e,t),a=(0,A.tr)(s);return{name:p.n8z.FOCUSED_INBOX,params:{serializedListId:a},query:{}}}function v(e,t={}){return(0,A.aY)(e)===p.qd8.SUBSCRIPTIONS||(0,A.C4)(e)===p.ukn.ALL_INBOX?f(e,t):(0,A.ug)(e)?M(e,t):b(e,t)}function F(e,t,s={}){return(0,A.Yd)(e)||(0,A.rR)(e)||(0,A.aY)(e)===p.qd8.SUBSCRIPTIONS?{name:p.n8z.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:(0,A.tr)(e),groupId:t}),query:s}:(0,A.ug)(e)?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:(0,A.tr)(e),groupId:t}),query:s}:{name:p.n8z.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:(0,A.Rm)(e),groupId:t}),query:s}}function U(e,t,s={}){return F(e,t,s)}function k({attachment:e,listId:t,isConversationMode:s}){const a=s?e.conversationId:e.id&&(0,T.b1)(e.id);return a?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:{groupId:a,query:(0,A.tr)(t)},query:{}}:null}function w({groupId:e,listId:t}){return e?{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:{groupId:e,query:(0,A.tr)(t)},query:{}}:null}function G(e,t,s={}){return{name:p.n8z.EDIT_DRAFT,params:{csid:t,serializedListId:(0,A.Rm)(e)},query:s}}function H({item:e,listId:t,isConversationMode:s}){if((0,A.WN)(t)===p.F6k.MESSAGES){if(Array.isArray(e.messages)&&1===e.messages.length&&(0,I.g_)(e))return G(t,e.messages[0].csid);const a=(0,A.ug)(t),n=(0,A.Rm)(t),r=e.messages&&e.messages[0],o=a&&s?null==r?void 0:r.conversationId:e.id;return o&&n?F(t,o):null}return k({attachment:e.attachment,listId:t,isConversationMode:s})}function B(e,t,s,a={},n){const r=(0,A.Rm)(e);if((0,A.ug)(e))return{name:p.n8z.MESSAGE_FROM_SEARCH_LIST,params:Object.assign({query:r,groupId:t,attachmentId:s}),query:a};const o={fid:r,groupId:t,attachmentId:s};return n&&(o.csid=n),{name:p.n8z.MESSAGE_FROM_FOLDER_LIST,params:o,query:a}}function x(e,t,s={}){return{...e,params:{...e.params,attachmentId:t},query:{...e.query,...s}}}function V(e){return M((0,A.Ez)(e))}function Z(e={}){return{name:p.n8z.CONTACTS,params:e,query:{}}}function W(){return{name:p.n8z.TODAYPAGE,params:{},query:{}}}function K(e){const t=(0,A.Ez)({accountIds:[e]}),s=(0,A.tr)(t);return{name:p.n8z.SUBSCRIPTION_LIST,params:{query:s},query:{}}}function z(e,t){const s=(0,A.Ez)({accountIds:[e],brandId:t,folders:[p.RfP.INBOX],listContentType:p.F6k.MESSAGES,listFilter:p.ukn.FROM}),a=(0,A.tr)(s);return{name:p.n8z.STOREFRONT,params:{query:a},query:{}}}function Y(e,t={}){switch(e){case p.K8C.CONTACTS_FULL_PANE:return Z();case p.K8C.TUTORIAL:return{name:p.n8z.TUTORIAL,params:{},query:{}};case p.K8C.SUBSCRIPTIONS:{const{accountIds:e}=t,s=Array.isArray(e)?e[0]:e;return s?K(s):null}case p.K8C.STOREFRONT:{const{accountIds:e,brandId:s}=t,a=Array.isArray(e)?e[0]:e;return a?z(a,s):null}case p.K8C.WALLET:return function(){const e=(0,A.Ez)({listContentType:p.F6k.WALLET_CARDS,listFilter:p.ukn.ALL_WALLET_CARDS,referrer:p.qd8.WALLET}),t=(0,A.tr)(e);return{name:p.n8z.WALLET,params:{query:t},query:{}}}();default:return V((0,h.qt)(e,t))}}const j=(e,t)=>b((0,A.Kw)(e,t)),q=(e,t)=>b((0,A.Kw)(e,t),{listContentType:p.F6k.SENDERS}),X=(e,t)=>({name:p.n8z.SPONSORED_MESSAGE,params:{fid:(0,A.Rm)(e),creativeId:t},query:{}});function Q(){return{name:p.n8z.MAILPLUS_BENEFITS_UPSELL,params:{},query:{}}}function J(e={},t){return{name:p.n8z.SETTINGS,params:e,query:t||{}}}function $(e={}){return{name:p.n8z.CONTACTS,params:{},query:e}}function ee(e={}){return{name:p.n8z.CONTACT_DETAILS,params:e,query:{}}}function te(e,t){return{name:p.n8z.CONTACT_DETAILS_FROM_SEARCH,params:{query:(0,A.tr)(e),id:t},query:{}}}function se(e={}){return{name:p.n8z.BLOCKED_DOMAINS,params:e,query:{}}}function ae(e={}){return{name:p.n8z.ACCOUNT_LIST_FROM_SETTINGS,params:e,query:{}}}function ne(e={}){return{name:p.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST,params:e,query:{}}}function re({email:e}){return{name:p.n8z.ADD_MAILBOX_PROGRESS,params:{email:e},query:{}}}function oe(e){return{name:p.n8z.SEND_CONFIRMATION,params:{csid:e},query:{}}}function ie(e,t={},s){return{name:p.n8z.NEW_DRAFT,params:{csid:e},query:t,...s?{referrerRoute:s}:void 0}}function le(e,t,s={}){let a;switch(e){case p.DUg.PRIORITY:a=p.qd8[p.K8C.PRIORITY];break;case p.DUg.UPDATES:a=p.qd8[p.K8C.UPDATES];break;case p.DUg.OFFERS:a=p.qd8[p.K8C.OFFERS];break;case p.DUg.SOCIAL:a=p.qd8[p.K8C.SOCIAL];break;case p.DUg.NEWSLETTERS:a=p.qd8[p.K8C.NEWSLETTERS]}return V({listFilter:p.x5k[e],...a&&{referrer:a},folders:[t],...s})}function ce(e){const{csid:t}=e.params;return t}function de(e,t){let s=p.vGy;switch(t){case p.BQZ.BASIC_MAIL_APP:s=C.jR;break;case p.BQZ.BASIC_MOBILE_APP:s=C.db}return Object.keys(e.query||{}).filter((e=>-1===s.indexOf(e)&&!e.includes("amp;"))).reduce(((t,s)=>({...t,[s]:e.query[s]})),{})}function _e(e=[],t=(()=>!0)){const[s,a]=l()(e,(e=>t(e)));return[...s,...a]}const Ee=({name:e})=>e===p.n8z.MESSAGE||e===p.n8z.MESSAGE_FROM_FOLDER_LIST||e===p.n8z.MESSAGE_FROM_LIST||e===p.n8z.MESSAGE_FROM_SEARCH_LIST||e===p.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST,ue=e=>{const{name:t,params:s={}}=e;return t===p.n8z.SETTINGS&&s.settingsGroupId===p.u5h.MAIL_PLUS}},25869:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const a=new Map;const n={loadScript:function(e,t=!1){if(t&&a.has(e))return a.get(e);const s=new Promise(((t,s)=>{const n=document.createElement("script"),r=document.getElementsByTagName("head")[0];n.readyState?n.onreadystatechange=()=>{"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t(),a.delete(e))}:(n.onload=()=>{t(),a.delete(e)},n.onerror=()=>{s(new Error(`Failed to load script from ${e}`)),a.delete(e)}),n.type="text/javascript",n.setAttribute("data-origin","norrin"),n.setAttribute("data-inserted-time",Date.now()),n.src=e,r.appendChild(n),setTimeout((()=>r.removeChild(n)),1e3)}));return a.set(e,s),s}}},63523:(e,t,s)=>{"use strict";s.d(t,{BO:()=>r,D3:()=>i,U6:()=>c,W2:()=>d,lX:()=>l,qt:()=>o});var a=s(37422),n=s(31057);function r(e){return e&&e.types?e.types[0]:""}function o(e,t={}){let s={};switch(e){case a.K8C.UNREAD:s={keyword:a.Qj.UNREAD,excludefolders:[a.Sck.ARCHIVE],referrer:a.qd8[a.K8C.UNREAD]};break;case a.K8C.STARRED:s={keyword:a.Qj.STARRED,referrer:a.qd8[a.K8C.STARRED]};break;case a.K8C.CONTACTS_FULL_PANE:s={};break;case a.K8C.PHOTOS:s={listContentType:a.F6k.IMAGES,referrer:a.qd8[a.K8C.PHOTOS],listFilter:a.ukn.ALL_PHOTOS};break;case a.K8C.DOCUMENTS:s={listContentType:a.F6k.DOCUMENTS,referrer:a.qd8[a.K8C.DOCUMENTS]};break;case a.K8C.COUPONS:s={listContentType:a.F6k.COUPON_CARDS,referrer:a.qd8[a.K8C.COUPONS],listFilter:a.ukn.ALL_COUPON_CARDS};break;case a.K8C.RECEIPTS:s={listContentType:a.F6k.REFUND_CARDS,referrer:a.qd8[a.K8C.RECEIPTS],listFilter:a.ukn.ALL_REFUND_CARDS};break;case a.K8C.WALLET:s={listContentType:a.F6k.WALLET_CARDS,sortOrder:a.Asd.CARD_DATE_DESC,listFilter:a.ukn.ALL_WALLET_CARDS};break;case a.K8C.TRAVEL:s={excludefolders:[a.Sck.TRASH,a.Sck.BULK],listContentType:a.F6k.TRAVEL_CARDS,sortOrder:a.Asd.CARD_DATE_ASC,listFilter:a.ukn.TRAVEL_VIEW_UPCOMING,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.TRAVEL_PAST:s={excludefolders:[a.Sck.TRASH,a.Sck.BULK],listContentType:a.F6k.TRAVEL_CARDS,sortOrder:a.Asd.CARD_DATE_DESC,listFilter:a.ukn.TRAVEL_VIEW_PAST,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.TRAVEL_EMAILS:s={keyword:a.Qj.TRAVEL,listContentType:a.F6k.MESSAGES,sortOrder:a.Asd.DATE_DESC,referrer:a.qd8[a.K8C.TRAVEL]};break;case a.K8C.PEOPLE:s={listFilter:a.ukn.PEOPLE,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.PEOPLE]};break;case a.K8C.UPDATES:s={listFilter:a.ukn.UPDATES,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.UPDATES]};break;case a.K8C.NEWSLETTERS:s={listFilter:a.ukn.NEWSLETTERS,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.NEWSLETTERS]};break;case a.K8C.SOCIAL:s={listFilter:a.ukn.SOCIAL,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.SOCIAL]};break;case a.K8C.SHOPPING_EMAILS:s={listFilter:a.ukn.SHOPPING,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.COUPONS]};break;case a.K8C.SUBSCRIPTIONS:s={};break;case a.K8C.SUBSCRIPTION_DETAIL:s={excludefolders:[],referrer:a.qd8.SUBSCRIPTIONS};break;case a.K8C.ATTACHMENTS:s={listContentType:a.F6k.DOCUMENTS,referrer:a.qd8[a.K8C.ATTACHMENTS]};break;case a.K8C.OLDMAIL:s={listFilter:a.ukn.OLDMAIL,referrer:a.qd8[a.K8C.OLDMAIL]};break;case a.K8C.NEWMAIL:s={listFilter:a.ukn.NEWMAIL,referrer:a.qd8[a.K8C.NEWMAIL]};break;case a.K8C.SENDER_ROLLUP:s={referrer:a.qd8[a.K8C.SENDER_ROLLUP]};break;case a.K8C.COUPON_EMAILS:s={listFilter:a.ukn.SHOPPING,excludefolders:[a.Sck.TRASH,a.Sck.BULK],referrer:a.qd8[a.K8C.COUPON_EMAILS]};break;case a.K8C.STOREFRONT:s={};break;case a.K8C.EMAILS_TO_MYSELF:s={referrer:a.qd8[a.K8C.EMAILS_TO_MYSELF],excludefolders:[a.Sck.DRAFT,a.Sck.SENT]}}const{excludefolders:n,...r}=t;return t=r,s.excludefolders&&n&&(s.excludefolders=n),e!==a.K8C.OLDMAIL&&e!==a.K8C.NEWMAIL&&e!==a.K8C.SENDER_ROLLUP&&delete t.folders,Object.assign(s,t)}function i(e){const t=(0,n.WN)(e),s=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.F6k.MESSAGES&&s===a.v6P[a.K8C.TRAVEL]}function l(e){const t=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.v6P[a.K8C.ATTACHMENTS]}function c(e){const t=(0,n.aY)(e);return(0,n.GG)(e)&&t===a.v6P[a.K8C.SENDER_ROLLUP]}function d(e){const t=e.split(":");if(2!==t.length)return null;const s=(n=t[0],Object.keys(a.B_Z).find((e=>a.B_Z[e]===n))||null);var n;return s&&a.qwE.indexOf(s)>-1?{name:s,status:parseInt(t[1],10)||0}:null}},49239:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});var a=s(31057),n=s(63523),r=s(37422);const o=(e,t,s=!1,o)=>{if(t&&null!=e&&e.name)switch(e.name){case r.n8z.SEARCH:case r.n8z.MESSAGE_FROM_SEARCH_LIST:case r.n8z.MESSAGE_FROM_LIST:case r.n8z.LIST:return((e,t)=>{const s=(0,a.LY)(e),o=(0,a.WN)(s),i=(0,a.C4)(s),l=(0,a.yE)(s),c=(0,a.lG)(s),d=(0,n.D3)(s),_=(0,a.aY)(s);if(e.name===r.n8z.MESSAGE_FROM_SEARCH_LIST||e.name===r.n8z.MESSAGE_FROM_LIST)return t.messageViewTabPane;if(l){if(_===r.qd8.SUBSCRIPTIONS)return t.subscriptions;switch(o){case r.F6k.IMAGES:return t.photosSmartviewSearch;case r.F6k.DOCUMENTS:return t.documentsSmartviewSearch;case r.F6k.COUPON_CARDS:return t.couponsSmartview;case r.F6k.TRAVEL_CARDS:return i===r.ukn.TRAVEL_VIEW_UPCOMING?t.travelUpcoming:t.travelPast;default:return d?t.travelEmails:t.messageSmartviewSearch}}return c?t.searchPeople:t.searchKeyword})(e,t);case r.n8z.BASE:case r.n8z.EDIT_FOLDER:case r.n8z.FOLDER:{const e={[r.Sck.INBOX]:t.folderViewInbox,[r.Sck.DRAFT]:t.folderViewDrafts,[r.Sck.SENT]:t.folderViewSent,[r.Sck.ARCHIVE]:t.folderViewArchive,[r.Sck.TRASH]:t.folderViewTrash,[r.Sck.BULK]:t.folderViewSpam,[r.Sck.USER]:t.folderViewCustom};return s?t.launchFolder:e[o]||t.folderViewCustom}case r.n8z.NEW_DRAFT:case r.n8z.EDIT_DRAFT:return s?t.launchCompose:t.composeNew;case r.n8z.MESSAGE_FROM_FOLDER_LIST:{const a=e.params&&e.params.attachmentId?t.attachment:t.messageViewTabPane;return s?t.launchMessage:a}case r.n8z.TUTORIAL:return t.tutorial;case r.n8z.SETTINGS:case r.n8z.SIGNATURES_FROM_SETTINGS:case r.n8z.THEME_CHOOSER:case r.n8z.ACCOUNT_LIST_FROM_SETTINGS:case r.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case r.n8z.ADD_ACCOUNT_PROVIDER:case r.n8z.BLOCKED_SENDERS:case r.n8z.BLOCKED_DOMAINS:case r.n8z.AFTER_MESSAGE_MOVE:case r.n8z.MESSAGE_PREVIEW:case r.n8z.MAILPLUS_BENEFITS_UPSELL:case r.n8z.INBOX_HIGHLIGHT_SETTINGS:return t.settings;case r.n8z.CONTACTS:case r.n8z.CONTACT_DETAILS:case r.n8z.CONTACT_DETAILS_FROM_SEARCH:case r.n8z.EDIT_CONTACT:case r.n8z.EDIT_CONTACT_FROM_SEARCH:case r.n8z.CREATE_CONTACT:return t.contacts;case r.n8z.SUBSCRIPTION_LIST:return t.subscriptions;case r.n8z.STOREFRONT:return t.storefront;case r.n8z.SEND_CONFIRMATION:return t.sendConfirm;case r.n8z.TODAYPAGE:return t.today;case r.n8z.FOCUSED_INBOX:return t.folderViewInbox;case r.n8z.SPONSORED_MESSAGE:case r.n8z.PORTRAIT_AD:case r.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL:default:return t.root}return null}},30155:(e,t,s)=>{"use strict";s.d(t,{H:()=>c});const a=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=/[\(\)]/g,o=/^\s+/,i=/'/g,l=/\((.+):(\d+):(\d+)\)/;class c{constructor(e){this.error=e||null}toString(){try{let e=this.parse().join("\n");return e.length>1e4&&(e=e.substr(0,1e4)+"..."),e}catch(e){return e.message||"Error in parsing an Error object"}}parse(){const e=this.error;if(null===e)throw new Error("Error is null or undefined");if(e.stack&&e.stack.match(a))return this.parseChromeOrIE();if(e.stack)return this.parseFFOrSafari();throw new Error("Cannot parse an Error object")}parseChromeOrIE(){return this.error.stack.split("\n").map((e=>e=(e=e.replace(o," ")).replace(i,'"')))}parseFFOrSafari(){const e=this.error.stack.split("\n").filter((e=>""!==e)).map((e=>{if(-1===e.indexOf("@")&&-1===e.indexOf(":"))e=` at ${e}`;else{const t=e.split("@"),s=this.extractLocation(t.pop()),a=t.join("@")||void 0,[n,r,o]=s;e=` at ${a} (${n}:${r}:${o})`}return e}));return[`${this.error.name}:${this.error.message}`.replace(i,'"')].concat(e)}extractLocation(e){if(-1===e.indexOf(":"))return[e];const t=n.exec(e.replace(r,""));return[t[1],t[2]||void 0,t[3]||void 0]}getFirstStackInfo(){const e={source:"",lineno:0,colno:0};try{const t=this.parse();if(t&&t[1]&&t[1].match(l)){const[s="",a="",n=0,r=0]=t[1].match(l);e.source=a,e.lineno=parseInt(n,10),e.colno=parseInt(r,10)}}catch(t){return e}return e}}},78263:(e,t,s)=>{"use strict";s.d(t,{BA:()=>a,k3:()=>n});const a=(e=[])=>e.sort().join(""),n=(e,t)=>`${e}:${t}`},55636:(e,t,s)=>{"use strict";s.d(t,{$j:()=>p,B_:()=>C,Dk:()=>A,N2:()=>E,Wq:()=>u,aS:()=>_,hr:()=>d,s_:()=>c,u6:()=>S});const a=/'/g,n=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u08B3\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,r=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B4\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/;function o(e){return e.charCodeAt(0)>=1568}function i(e){return(e=e.slice(-1))&&o(e)&&n.test(e)}function l(e){return(e=e[0])&&o(e)&&r.test(e)}function c(e="",t=""){let s=((e="",t="")=>{const s=d(t);return e.search(new RegExp(`(^${s}| +${s})`,"i"))})(e,t);if(s>0&&s++,s>=0){const a=s+t.length;return function(e,t="â"){return e.forEach(((e,s,a)=>{0!==s&&l(e)&&i(a[s-1])&&(a[s-1]=a[s-1]+t,a[s]=t+a[s]),a[s+1]&&i(e)&&l(a[s+1])&&(a[s+1]=t+a[s+1],a[s]=a[s]+t)})),e}([e.substring(0,s),e.substring(s,a),e.substring(a)])}return[e]}function d(e=""){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function _(e,t,s){var a="";return t=t||0,s=void 0!==s?s:"...",a=e=e||"",e.length>t&&(a=e.substr(0,t-s.length)+s),a}function E(e=""){return e.replace(a,'"')}function u(e){return!e||!e.trim().length}const m=/(^[\u200C\s]*|[\u200C\s]*$)/g;function S(e){return"string"!=typeof e?e:e.replace(m,"")}const p=(e,t)=>e.includes(t)?e.substring(e.indexOf(t)+t.length):e,C=(e,t)=>{if(!t||!e)return{};const s=d(t).split(" "),a={};return s.forEach((t=>{const s=new RegExp(`\\b${t}\\b`,"gi"),n=(e.match(s)||[]).length;a[t]=n})),a},A=e=>!!e&&/^[\u1100-\u11FF\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u302E\u302F\u3038-\u303B\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3131-\u318E\u31F0-\u321E\u3260-\u327E\u32D0-\u32FE\u3300-\u3357\u3400-\u4DBF\u4E00-\u9FFC\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{16FF0}\u{16FF1}\u{1B000}-\u{1B11E}\u{1B150}-\u{1B152}\u{1B164}-\u{1B167}\u{1F200}\u{20000}-\u{2A6DD}\u{2A700}-\u{2B734}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}]+$/u.test(e)},6273:(e,t,s)=>{"use strict";s.d(t,{$o:()=>u,u6:()=>c,vf:()=>l,wP:()=>_});var a=s(37422),n=s(55636),r=s(27955),o=s.n(r);function i(e=[]){const t=[];return e.forEach((e=>{Object.keys(e.entities).forEach((s=>{const n=e.entities[s],r=e.intent===a._pp.ALL;t.push(Object.assign({},n,r?{name:o()(n.name)}:null))}))})),t}function l(e=[]){return i(e.filter((e=>e.intent===a._pp.PEOPLE)).filter((e=>{const t=e.entities;return Object.keys(t).forEach((e=>{const s=t[e];s.type!==a.sWL.PERSON||s.emailIds&&0!==s.emailIds.length||delete t[e]})),Boolean(Object.keys(t).length)})))}function c(e){return i(e.filter((e=>e.intent===a._pp.ALL)).filter((e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach((e=>{const n=t[e];n.type===a.sWL.EMAIL&&n.name&&(s=!0)})),s})))}function d(e=[],t,s){const r=new RegExp("(^|\\s)"+(0,n.hr)(t),"gi");return e.filter((e=>{const{name:s="",backyard:a="",emails:n=[]}=e,o=s+" "+a+" "+n.join(" ");return t&&-1!==o.search(r)})).map((e=>function(e,t){return{emailIds:e.emails,imageUrl:t.toUpperCase()===a.Bs7.AOL?`https://proddata.xobni.aol.com/v4/contacts/${e.xobniId}/photo`:`https://proddata.xobni.yahoo.com/v4/contacts/${e.xobniId}/photo`,name:e.name,serviceId:e.xobniId,sourceService:"XOBNI",type:a.sWL.PERSON}}(e,s))).filter(((e,t,s)=>s.findIndex((t=>t.serviceId===e.serviceId))===t))}function _(e){const t=[];return e.forEach((e=>{e.emailIds.forEach((s=>{const a=JSON.parse(JSON.stringify(e));a.emailIds=[s],t.push(a)}))})),t}function E(e,t=!1){return{type:a.sWL.HEADER,headerType:a.OzC[e],firstEntry:t}}function u(e=[],t=[],s=[],n="",r=""){const o=""===n.trim(),_=l(e),u=function(e){return i(e.filter((e=>e.intent===a._pp.ALL)).filter((e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach((e=>{const n=t[e];n.type===a.sWL.KEYWORD&&n.name&&(s=!0)})),s})))}(e).slice(0,4),m=d(t,n,r),S=c(e),p=function(e){return i(e.filter((e=>e.intent===a._pp.ALL)).filter((e=>{const t=e.entities;let s=!1;return Object.keys(t).forEach((e=>{const n=t[e];n.type===a.sWL.YAISUGGESTION&&n.name&&(s=!0)})),s})))}(e),C=function(e,t=""){const s=[];return e.forEach((e=>{e.query&&-1!==e.query.indexOf(t)&&s.push({type:a.sWL.RECENT,name:e.query})})),s}(s,n),A=function(e=[],t=[]){const s=e.map((e=>{const s=t.find((t=>t.serviceId===e.serviceId));return void 0!==s?s:e})),a=t.filter((e=>!s.find((t=>t.serviceId===e.serviceId))));return[].concat(s,a)}(m,_);let T;const I=[],h=[],g=[],O=[];if(T=o?C.length?C:u:u.length?u:C,T.length){const e=0===_.length;T[0].type===a.sWL.KEYWORD?I.push(E(a.sWL.KEYWORD,e)):I.push(E(a.sWL.RECENT,e))}p.length&&O.push(E("YAISUGGESTION",!0)),A.length&&h.push(E(a.sWL.PERSON,!0));const D=2+Math.max(0,2-T.length),R=2+Math.max(0,2-A.length);if(S.length){const e=0===S.length;g.push(E(a.sWL.EMAIL,e))}return[].concat(O,p,h,A.slice(0,D),I,T.slice(0,R),g,S.slice(0,3))}},31602:(e,t,s)=>{"use strict";s.d(t,{NB:()=>E,Zg:()=>u,h1:()=>_});var a=s(9026),n=s(41546);const r={GRADIENT_COLOR_1:"--gradient-color1",GRADIENT_COLOR_2:"--gradient-color2",GRADIENT_COLOR_3:"--gradient-color3",HIGHLIGHT:"--highlight",BOLD_OUTLINE_COLOR:"--bold-outline-color",BOLD_OUTLINE_COLOR_DARK:"--bold-outline-color-dark",THIN_OUTLINE_COLOR:"--thin-outline-color",THIN_OUTLINE_COLOR_DARK:"--thin-outline-color-dark",COMPOSE_BUTTON_COLOR:"--compose-btn-color",SEGMENT_BORDER_COLOR:"--segment-border-color",SEGMENT_BACKGROUND_COLOR:"--segment-bgcolor",SEGMENT_HOVER_COLOR:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR:"--folder-actived-bg-color",FOLDER_HOVERED_BACKGROUND_COLOR:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER:"--folder-actived-border",ITEM_SELECTED_BGCOLOR:"--item-selected-bgcolor",ITEM_HOVERED_BGCOLOR:"--item-hovered-bgcolor",LIST_ITEM_SEPARATOR_COLOR:"--list-item-sep-color",PREVIEWR_TOOLBAR_COLOR:"--previewr-toolbar",CLIP_BUTTON_COLOR:"--clip-btn-color",BG_BACKGROUND_COLOR:"--bg-background-color",BACKGROUND_COLOR:"--bg-color",BACKGROUND_SIZE:"--bg-size",MAX_BACKGROUND_SIZE:"--max-bg-size",CARD_HIGHLIGHT_COLOR:"--card-highlight-color",BACKGROUND_REPEAT:"--bg-repeat",BACKGROUND_REPEAT_IMAGE:"--bg-repeat-img",BACKGROUND_REPEAT_IMAGE_SIZE:"--bg-repeat-img-size",BACKGROUND_REPEAT_IMAGE_POSITION:"--bg-repeat-img-position",BACKGROUND_IMAGE:"--bg-img",PRIMARY_BLUE:"--primary-blue",HOVER_BLUE:"--hover-blue",SUBSCRIPTION_BUTTON:"--sub-button",YBAR_BACKGROUND_COLOR:"--ybar-background-color",SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"--search-input-button-background-color",SEARCH_INPUT_BORDER:"--search-input-border",SEARCH_INPUT_BUTTON_HOVER_COLOR:"--search-input-button-hover-color",YBAR_BACKGROUND_IMAGE:"--ybar-background-image"},o={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",SEGMENT_BORDER_COLOR_PARTNER_DARK:"--segment-border-color",SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:"--segment-bgcolor",SEGMENT_HOVER_COLOR_PARTNER_DARK:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"},i={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"};s(76531),s(37422);var l=s(8106);const c=function(e){return Object.keys(e).reduce(((t,s)=>`${t}${s}:${e[s]};`),"")};function d({themeInput:e,themeModeInput:t,Themes:s=a.b3}){let n=e;Object.keys(s).indexOf(e)<0&&(n=s.DEFAULT);let r=t;return Object.keys(a.zg).indexOf(t)<0&&(r=a.zg.LIGHT),{theme:n,themeMode:r}}const _=(e,t)=>{if((0,l.jU)()&&"aol"===t)switch(e){case a.b3.AIM:window.YBAR.switchMailLogo("aim");break;case a.b3.AOLCOM:window.YBAR.switchMailLogo("aoldotcom");break;default:window.YBAR.switchMailLogo("aolmail")}},E=function(e,t){const{theme:s,themeMode:l}=d({themeInput:e,themeModeInput:t}),_=function(e,t){if((0,a.cN)(e))switch(t){case a.zg.LIGHT:return r;case a.zg.MEDIUM:return{...r,...i};case a.zg.DARK:return{...r,...o}}return r}(s,l),E={},u=a.Kz[s]||a.b3.DEFAULT;Object.keys(_).forEach((e=>{const t=_[e],s=u[e]||Object.values(a.zg).includes(l)&&a.s8[l][e]||void 0;E[t]=s})),((e,t,s,o)=>{a.O3.has(e)&&(o[r.YBAR_BACKGROUND_COLOR]="LIGHT"===s?"#FFFFFF":t.YBAR_BACKGROUND_COLOR,o[r.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR]="LIGHT"===s&&t.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR?t.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR:"rgb(255, 255, 255, .3)",o[r.SEARCH_INPUT_BORDER]="LIGHT"===s&&t.SEARCH_INPUT_BORDER?t.SEARCH_INPUT_BORDER:"unset",o[r.SEARCH_INPUT_BUTTON_HOVER_COLOR]="LIGHT"===s&&t.SEARCH_INPUT_BUTTON_HOVER_COLOR?t.SEARCH_INPUT_BUTTON_HOVER_COLOR:"rgba(255, 255, 255, .6)",e===a.b3.CLASSIC&&(o[r.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR]=t.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR,o[r.SEARCH_INPUT_BUTTON_HOVER_COLOR]=t.SEARCH_INPUT_BUTTON_HOVER_COLOR)),e===a.b3.AIM&&(o[r.YBAR_BACKGROUND_IMAGE]=t.YBAR_BACKGROUND_IMAGE?`url(${(0,n.A)(t.YBAR_BACKGROUND_IMAGE)})`:"none",o[r.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR]=t.SEARCH_INPUT_BUTTON_BACKGROUND_COLOR)})(s,u,l,E),E[r.BACKGROUND_IMAGE]=(0,a.Lv)(u,n.A),E[r.BACKGROUND_REPEAT_IMAGE]=u.BACKGROUND_REPEAT_IMAGE?`url(${(0,n.A)(u.BACKGROUND_REPEAT_IMAGE)})`:"none";return`:root {${c(E)}}`},u=(e,t)=>{const s=document.getElementById("norrin-ybar-header");s&&(a.O3.has(e)&&t===a.zg.LIGHT?(s.classList.add("ybar-light","divider-line"),s.classList.remove("ybar-dark")):(s.classList.add("ybar-dark"),s.classList.remove("ybar-light","divider-line")))}},91097:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(60536),n=s(44140),r=s.n(n);const o="tz";class i extends a.p{constructor(e,t=86400,s){super(e,"YM.TZ",{TTL:t,path:s})}determineClientTimeZone(){const e=r().determine(),t=e&&e.name();t&&this.set({[o]:t})}getClientTimeZone(){const e=this.get();return e&&e.tz?String(e.tz):""}}},3690:(e,t,s)=>{"use strict";s.d(t,{nC:()=>i,Kn:()=>c,o3:()=>l});var a=s(60536);const n={IMAP_TOI_PACKAGE_ENABLE:"itpe",IMAP_TOI_SESSION_COUNT:"itsc"};class r extends a.p{constructor(e){super(e,"YM.TOI.PARAMS",{TTL:31536e3,path:"/"})}setClientParam(e,t){e&&Object.values(n).indexOf(e)>-1&&this.set({[e]:t})}getClientParam(e){return this.get()[e]}}var o=s(8106);const i=()=>{if(!(0,o.jU)())return-2;const e=new r({window});return(null==e?void 0:e.getClientParam(n.IMAP_TOI_PACKAGE_ENABLE))||-2},l=e=>{if(!(0,o.jU)())return;const t=new r({window});null==t||t.setClientParam(n.IMAP_TOI_PACKAGE_ENABLE,e)},c=e=>{if(!(0,o.jU)())return-1;const t=new r({window}),s=(null==t?void 0:t.getClientParam(n.IMAP_TOI_SESSION_COUNT))||-1;return-2===((null==t?void 0:t.getClientParam(n.IMAP_TOI_PACKAGE_ENABLE))||-2)?-1:-1===s?(null==t||t.setClientParam(n.IMAP_TOI_SESSION_COUNT,1),1):e?(null==t||t.setClientParam(n.IMAP_TOI_SESSION_COUNT,s+1),s+1):s}},74630:(e,t,s)=>{"use strict";s.d(t,{b:()=>i,g:()=>o});const a=/</g,n=/"/g;function r(e,t,s){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,s)}function o(e){return r(e,a,"&lt;")}function i(e){return r(e,n,"&quot;")}},50985:(e,t,s)=>{"use strict";s.d(t,{rl:()=>r,zP:()=>n});var a=s(63352);function n(e){if("undefined"!=typeof Storage&&"string"==typeof e)try{return localStorage.getItem(e)}catch(t){}}function r(e,t){if("undefined"!=typeof Storage){(0,a.Z)("string"==typeof e,"key is not a string");try{localStorage.setItem(e,t)}catch(s){}}}},16980:(e,t,s)=>{"use strict";s.d(t,{DD:()=>te,Dv:()=>K,Gt:()=>ae,HT:()=>j,Ir:()=>q,K6:()=>Z,Kl:()=>B,OC:()=>ne,WS:()=>H,_l:()=>re,bj:()=>w,ci:()=>X,ed:()=>G,i6:()=>Q,qr:()=>W,zD:()=>se});var a=s(95406),n=s(37422),r=s(18446),o=s.n(r),i=s(7837),l=s(17016),c=s(73498);const d=216e5,_=/^smtp:(\S+)/,E=/^adr:/,u=/^tel:(.*)/,m=e=>e.match(_)[1],S=e=>{const t=[],s={};return e.filter((({ep:e})=>_.test(e))).forEach((({ep:e,type:a})=>{const n=m(e);t.push(n),s[n]=a&&i.qL[a.toUpperCase()]?a:i.HU.EMAIL})),{emails:t,emailType:s}},p=e=>(null==e?void 0:e.toLowerCase().replace("-","_"))||"",C=/^(?:https?|ftp):(?:\/\/)?/i,A={FACEBOOK:"facebook",TWITTER:"twitter",LINKEDIN:"linkedin"},T={NAME:"name",POSITION:"position",COMPANY:"company",...A,WEBSITE:"website",BIRTHDAY:"birthday",ANNIVERSARY:"anniversary",NOTES:"notes",NICKNAME:"nickname",FIRSTNAME:"first_name",MIDDLENAME:"middle_name",LASTNAME:"last_name",AOL_TAG:"aol_tag"},I={[T.FIRSTNAME]:"firstName",[T.MIDDLENAME]:"middleName",[T.LASTNAME]:"lastName"},h=e=>e?!(e=e.trim())||C.test(e)?e:`http://${e}`:e,g="elcaro",O=e=>e===g,D=e=>"ke"===e||"user"===e||"yahoo"===e,R=e=>{const t=e.replace("adr:","").split(";"),s={street:t[3],city:t[4],state:t[5],zipcode:t[6],country:t[7]};return Object.keys(s).find((e=>!!s[e]))||(s.street=t[8]),s},N=(e,t)=>{const s=[];return e.filter((({ep:e,source:s})=>E.test(e)&&(t||!O(s)))).forEach((({ep:e,type:t})=>{const a=R(e);s.push({addrFields:a,type:t&&i._t[t.toUpperCase()]?t:"Address"})})),{addressesWithType:s}},L=(e,t)=>t||e.match(u)[1],f=(e,t)=>{const s=[];return e.forEach((({ep:e,type:a,display:n,source:r})=>{if(!u.test(e))return;if(!t&&O(r))return;const o=L(e,n).trim();o&&s.push({number:o,original_ep:e,type:a&&i.PR[a.toUpperCase()]?a:"Phone"})})),{phonesWithType:s}},M=e=>{const t=e.split("-");for(let s=0;s<t.length;s++)1===t[s].length&&(t[s]="0"+t[s]);return t.join("-")},P=e=>e.reduce(((e,{key:t,value:s})=>{switch(t){case T.NOTES:e[t]=s;break;case T.BIRTHDAY:case T.ANNIVERSARY:e[t]=M(s)}return e}),{}),b=(e=[])=>({nickname:(e.find((({key:e})=>e===T.NICKNAME))||{}).value}),y=(e=[])=>{const t=(e.find((({key:e})=>e===T.AOL_TAG))||{}).value;return{aolCategory:p(t)}},v=(e=[])=>({website:h((e.find((({key:e,source:t})=>e===T.WEBSITE&&D(t)))||{}).value)}),F=({attributes:e=[]})=>{const t={};return Object.keys(A).forEach((s=>{s=A[s];const a=e.find((({source:e,key:t})=>"link"===t&&e===s||D(e)&&t===s+"_url"))||{},n=h(a.value);t[s]=n})),t.backyard=(e.find((({key:e,source:t})=>"user_id"===e&&"corpdir"===t))||{}).value,t},U=({emails:e,xobniId:t=""})=>({xobniId:t,emails:e,name:"",phonesWithType:[],id:""}),k=(e,t)=>{const{name:s={},role:a={},attributes:n=[],endpoints:r=[],is_known_entity:o,is_user_curated:i,edit_token:l}=e||{};return{name:s.name||"",firstName:s.first_name||"",middleName:s.middle_name||"",lastName:s.last_name||"",position:a.position,company:a.company,editToken:l,isBusiness:o,isInUserContactList:i,...b(n),...y(n),...f(r,t),...S(r),...F({attributes:n}),...v(n),...P(n),...N(r,t)}},w=({Contacts:e})=>e.map((e=>{const{Id:t,"First Name":s,"Middle Name":a,"Last Name":n,Employer:r,"Job title":o,Birthday:l,Anniversary:c,Notes:d,Website:_,Emails:E,Phones:u,Addresses:m}=e,S=(({firstName:e,middleName:t,lastName:s})=>`${`${e} ${t}`.trim()} ${s}`.trim())({firstName:s,middleName:a,lastName:n}),p=[],C={},A=[],T=[];return E&&E.forEach((e=>{p.push(e.Id),C[e.Id]=e.Type&&i.qL[e.Type.toUpperCase()]?e.Type:"Email"})),u&&u.forEach((e=>{A.push({number:e.Id,original_ep:"tel:"+e.Id,type:e.Type&&i.PR[e.Type.toUpperCase()]?e.Type:"Phone"})})),m&&m.forEach((e=>{T.push({addrFields:R("adr:"+e.Id),type:e.Type&&i._t[e.Type.toUpperCase()]?e.Type:"Address"})})),{id:t,name:S,firstName:s,middleName:a,lastName:n,company:r,position:o,birthday:l,anniversary:c,notes:d,website:_,emails:p,emailType:C,phonesWithType:A,addressesWithType:T,isInUserContactList:!0}}));function G({emails:e,contacts_info:t,contacts_by_ep:s,relationshipHistory:n},r){return(0,a.xb)(t)||(0,a.xb)(s)?U({emails:e}):e.map((e=>{const[o]=s[`smtp:${e}`];if((0,a.xb)(t[o]))return U({emails:[e],xobniId:o});const i=k(t[o],r);return{xobniId:o,id:i.emails[0],relationshipHistory:n,...i}}))}const H=(e,t,s={})=>{const{id:a}=e||{},{id:n}=s;return{id:a,deletedContactId:n,...k(e,t)}};function B(e){return[{category:"top",remainingCount:0,contacts:(e["contacts-with-ranks"]||[]).map((({endpoints:e=[],name:t={},id:s,edit_token:a})=>({id:s,editToken:a,...S(e),name:t.name,isBusiness:!1})))}]}const x=({type:e,value:t})=>{switch(e){case c.df.EMAIL:return"smtp:"+t;case c.df.PHONE:return"tel:"+t;case c.df.ADDRESS:return"adr:"+$(t);default:return t}},V=(e=[])=>e.map((e=>({ep:x(e),name:e.name}))),Z=({newName:e,addedEndpoints:t=[],removedEndpoints:s=[]})=>{const a={};return e&&(a.new_name=e),t.length&&(a.added_endpoints=V(t)),s.length&&(a.removed_endpoints=s.map((e=>x(e)))),a},W=({name:e,endpoints:t=[]})=>({name:e,endpoints:V(t)}),K=({response:e={}})=>{const t=[],s=[];if(e){const{all_groups:a=[]}=e;a.forEach((({id:e,name:a})=>{t.push(a),s.push(e)}))}return{groups:t,groupIds:s}},z=[{type:c.df.EMAIL,validator:_,mapper:m},{type:c.df.PHONE,validator:u,mapper:L},{type:c.df.ADDRESS,validator:E,mapper:R},{type:c.df.HIDDEN,validator:/^hidden:(\S+)/,mapper:e=>e}],Y=(e=[],{name:t,ep:s,contact_id:a,...n})=>{const{first_name:r="",middle_name:o="",last_name:i=""}=n,c=Object.keys(n).length>0?{firstName:r,middleName:o,lastName:i}:{},d={name:t,id:a||(0,l.generateUID)(),isInUserContactList:!0,...c},_=z.find((({validator:e})=>e.test(s)));return _?(d.value=_.mapper(s),d.type=_.type,e.concat(d)):e},j=({response:e={}})=>{const{r:t=[]}=e;return{contacts:t.reduce(((e,{e:t,n:s,c:a})=>Y(e,{name:s,contact_id:a,ep:t})),[])}},q=({response:e={}})=>{const{name:t,endpoints:s=[],id:a}=e;return{id:a,groupName:t,contacts:s.reduce(Y,[])}};function X({response:e,count:t,allowEnhancedContactData:s}){const{available_groups:a=[],available_group_ids:r=[]}=e;return{groups:a,groupIds:r,contacts:t?(e.contact_rank_list||[]).map((({category:e,remaining_count:t,contacts:a=[]})=>({category:e.toUpperCase(),remainingCount:t,contacts:a.map((({endpoints:e=[],id:t,name:a,edit_token:r,aol_tag:o=n.Ygm.UNCATEGORIZED,...i})=>({id:t,editToken:r,...S(e),...f(e,s),...N(e,s),name:a,isInUserContactList:!0,firstName:i.first_name,middleName:i.middle_name,lastName:i.last_name,aolCategory:p(o)})))}))):void 0}}function Q(e){return[{category:"search",remainingCount:0,contacts:e.map((({i:e,n:t,e:s,a_e:a})=>({id:e,name:t,emails:(s?[s]:[]).concat(a)})))}]}function J(e,t={}){const s=[],{emailsWithType:a=[],phonesWithType:n=[],addressesWithType:r=[]}=e,{emailsWithType:i,phonesWithType:l,addressesWithType:c}=t;return a.forEach((e=>{i&&i.find((t=>t.value===e.value&&t.type===e.type))||s.push({ep:"smtp:"+e.value,type:e.type})})),n.forEach((e=>{l&&l.find((t=>t.number===e.number&&t.type===e.type))||s.push({ep:e.original_ep||"tel:"+e.number,type:e.type})})),r.forEach((e=>{c&&c.find((t=>o()(t.addrFields,e.addrFields)&&t.type===e.type))||s.push({ep:"adr:"+$(e.addrFields),type:e.type})})),s}function $(e){return";;;"+(0,a.VO)(e).join(";")+";"}function ee(e,t){const s={},a=!t;return Object.keys(T).forEach((n=>{const r=n=T[n];e[n]=e[n]||e[I[n]]||"",n===T.WEBSITE&&(e[n]=h(e[n])),a?e[n]&&(s[r]=e[n]):(t[n]=t[n]||t[I[n]]||"",t[n]!==e[n]&&(s[r]=e[n]))})),s}function te(e){const{emailsWithType:t=[],phonesWithType:s=[],addressesWithType:n=[]}=e;return{...e,emailsWithType:t.filter((e=>""!==e.value)),phonesWithType:s.filter((e=>""!==e.number)),addressesWithType:n.filter((e=>{return t=e.addrFields,!(0===(0,a.VO)(t).filter((e=>e)).length);var t}))}}function se(e,t){const s=ee(t,e);return{source:e.editToken,changes:{...s,removed_endpoints:J(e,t),added_endpoints:J(t,e)}}}function ae({contact:e,image:t}){const s=ee(e=te(e));return t&&(s.image=t),{source_contacts:[{...s,endpoints:J(e)}]}}function ne({response:e={}}){const{preferences:t={}}=e,s={};let a={};if(n.AJg.forEach((e=>{const{status:a}=t["import_status_"+e]||{};let r=t["import_time_"+e];const o=t["sync_"+e];switch(r&&(r*=1e3),a){case"DONE":s[e]={status:o?n.UcZ.CONNECTED:n.UcZ.EXPIRED,lastImportedTime:r};break;case"FAIL":s[e]={status:n.UcZ.FAILED,lastImportedTime:r};break;case"QUEUED":if(r&&(new Date).getTime()-r>d){s[e]={status:n.UcZ.FAILED,lastImportedTime:r};break}s[e]={status:n.UcZ.QUEUED,lastImportedTime:r};break;default:s[e]={status:n.UcZ.NOT_CONNECTED,lastImportedTime:r}}})),t[n.ZH2.IMPORT_STATUS_FILE]){let e=t[n.ZH2.IMPORT_TIME_FILE];const{status:s,source:r,error_code:o,error_msg:i,num_contacts_added:l}=t[n.ZH2.IMPORT_STATUS_FILE];switch(a={source:r,errorCode:o,errorMsg:i,numContactsAdded:l},e&&(e*=1e3,a.lastImportedTime=e),s){case"QUEUED":e&&(new Date).getTime()-e>d?a.status=n.woE.FAIL:a.status=n.woE.IN_PROGRESS;break;case"IN_PROGRESS":a.status=n.woE.IN_PROGRESS;break;case"DONE":a.status=n.woE.DONE;break;case"QUEUE_FAIL":case"FAIL":a.status=n.woE.FAIL;break;default:a.status=n.woE.NONE}}return{providerResult:s,csvFileResult:a}}function re({results:e={}}){return Object.keys(n.Nq8).reduce(((t,s)=>{const a=n.ZUn[s],r=e[a];return t[s]=r?{status:r.is_expired?n.UcZ.EXPIRED:n.UcZ.CONNECTED,connectedTimestamp:r.issued_ts,expiredTimestamp:r.expired_ts}:{status:n.UcZ.NOT_CONNECTED},t}),{})}},78034:(e,t,s)=>{"use strict";let a;s.d(t,{X:()=>a}),function(e){e.improve="improve",e.shorten="shorten",e.elaborate="elaborate",e.makeFriendly="makeFriendly",e.makeProfessional="makeProfessional",e.addEmojis="addEmojis",e.enthusiastic="enthusiastic",e.persuasive="persuasive",e.concerned="concerned",e.urgent="urgent",e.respectful="respectful",e.humorous="humorous",e.grateful="grateful",e.curious="curious",e.apologetic="apologetic"}(a||(a={}))},51917:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(87195);const n=class{constructor(e,t,s,n,r){var o,i,l;if(l=0,(i="_seq")in(o=this)?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,!e)throw new TypeError("guidMd5 is required argument");this.state={guiMd5Section:(0,a.Eg)((0,a.kW)(e),64),clientIdSection:(0,a.Eg)(t.toString(2),8),sessionSection:(0,a.Eg)(s.toString(2),16),versionSection:(0,a.Eg)(1..toString(2),8),randomClientSection:(0,a.Eg)((n||Math.floor(256*Math.random())).toString(2),8),debugSection:(0,a.Eg)((r||0).toString(2),8)},this._seq=0}generate(){const e=(0,a.Eg)(this._getNextSeq().toString(2),16),t=[this.state.guiMd5Section,this.state.clientIdSection,this.state.sessionSection,e,this.state.versionSection,this.state.randomClientSection,this.state.debugSection].join("");return this._formatBinary(t)}_formatBinary(e){const t=(0,a.UM)(e);let s=0;return[8,4,4,4,12].map((function(e){const a=t.substr(s,e);return s+=e,a})).join("-")}_getNextSeq(){return this._seq>65535&&(this._seq=0),this._seq++}static getSeq(e){const t=e.substr(26,4);return parseInt(t,16)}}},31280:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AccountType:()=>B,AccountsType:()=>R,AdType:()=>z,AddressType:()=>T,AttachmentErrorType:()=>oe,AttachmentType:()=>I,BodyType:()=>P,BootcampApiQueryParams:()=>De,BrowserNotificationType:()=>ie,BulkTask:()=>le,CloudStorageClientType:()=>Se,CloudStorageItem:()=>Ne,CloudStorageItemRow:()=>Le,ContactListItemType:()=>ge,ContactType:()=>Ae,CredstoreClientType:()=>de,DocumentPageType:()=>q,DocumentType:()=>X,DomainSpecificResponseType:()=>te,EmojiType:()=>Ce,FalconContact:()=>Oe,FalconTOMSubscriptionItemStringsObject:()=>fe,FalconTOMSubscriptionItemType:()=>Me,FilterActionType:()=>J,FilterCriterionType:()=>$,FilterFolderActionTypes:()=>Q,FilterType:()=>ee,FlagsType2:()=>h,FolderNodeListType:()=>D,FolderNodeType:()=>O,FolderType:()=>g,FolderType2:()=>L,GroupedFoldersType:()=>f,HeadersType:()=>v,HtmlAnnotationType:()=>M,I13nModelPropType:()=>Pe,ImageType:()=>w,JACAdCallResultType:()=>j,JACAdResultType:()=>Y,LinkEnhancerClientType:()=>me,LinkEnhancerDomainStylesType:()=>pe,LoaderType:()=>ae,LocaleShape:()=>ne,LocationType:()=>_e,MailPlusInstrumentationUrlType:()=>be,MailboxType:()=>H,MessageGroupType:()=>k,MessageType:()=>F,NativeAdType:()=>K,NodinMessageType:()=>U,NotificationDescriptor:()=>re,PageType:()=>y,PencilAdType:()=>W,PeopleSuggestionType:()=>Z,PlayerConfigType:()=>ue,RouteType:()=>b,ScrollToTopElementConfigDescriptor:()=>Re,SectionIdType:()=>V,SenderType:()=>G,SpaceIdType:()=>x,StringType:()=>Ee,SuggestionsByHeaderType:()=>N,TimezoneType:()=>A,ToolbarActionsType:()=>ce,VacationResponseType:()=>se,XobniAddressType:()=>Ie,XobniContact:()=>he,XobniPhoneType:()=>Te,any:()=>E,array:()=>d,arrayOf:()=>p,bool:()=>c,number:()=>l,object:()=>_,oneOf:()=>m,shape:()=>u,string:()=>i});var a=s(45697),n=s.n(a),r=s(37422),o=s(95406);const{string:i,number:l,bool:c,array:d,object:_,any:E,shape:u,oneOf:m,oneOfType:S,arrayOf:p,func:C}=n(),A=u({name:i.isRequired,lastObservedTimezone:u({client:i,server:i}),location:u({city:i,state:i,country:i}),geoLocation:u({city:i,state:i,country:i}),longName:i,formattedOffset:i,currentOffset:l}),T=u({name:i,email:i}),I=u({virus:i,filename:i,size:l,partId:i,mimeType:i,type:m((0,o.VO)(r.sSc.Types)),messageReference:u({mid:i,pid:i}),disposition:i,downloadUrl:i,thumbnailUrl:i,contentId:i,dataId:i}),h=u({isSpam:c,isRead:c,isFlagged:c}),g=u({id:i.isRequired,name:i.isRequired,isSystem:c.isRequired,types:p(i).isRequired}),O=u({folder:g.isRequired,children:p(_).isRequired}),D=p(O),R=u({default:d.isRequired}),N=u({to:d,cc:d,bcc:d}),L=u({id:i.isRequired,accountId:i.isRequired,name:i.isRequired,isSystem:c,types:p(i).isRequired,total:l,unread:l}),f=u({systemFolders:d.isRequired,customFolders:d.isRequired}),M=u({divIds:p(i).isRequired,classId:i}),P=u({html:i,text:i,htmlAnnotations:p(M),attachments:p(I),bidi:p(i)}),b=u({name:i.isRequired,params:_,query:_}),y=u({route:b.isRequired,metadata:_}),v=u({subject:i,cc:p(T).isRequired,bcc:p(T).isRequired,to:p(T).isRequired,from:p(T).isRequired,date:i.isRequired}),F=u({id:i.isRequired,folder:L.isRequired,flags:u({flagged:c,read:c}).isRequired,headers:v.isRequired,snippet:i.isRequired,attachments:p(I).isRequired,body:P,verifiedDomains:n().array.isRequired,composeProps:n().object}),U=u({messageId:i.isRequired,flags:u({flagged:c,read:c}).isRequired,headers:_.isRequired,snippet:i.isRequired,subject:i.isRequired,attachments:p(I).isRequired,downloadAllUrl:i.isRequired}),k=u({id:i.isRequired,messages:p(F).isRequired}),w=u({url:i,width:l,height:l}),G=u({name:i,email:i.isRequired,recent:c}),H=u({id:i,email:i,isPrimary:c.isRequired,state:m((0,o.VO)(r.U4$)).isRequired,type:m((0,o.VO)(r.WNU)).isRequired}),B=u({id:i,isPrimary:c.isRequired,email:i,accountVerified:c.isRequired,sendingName:i,status:m((0,o.VO)(r.dpb)).isRequired,type:m((0,o.VO)(r.tO8)).isRequired,serverUri:i,signature:i,signatureActive:c,secondaryAccounts:d,replyToAddress:i}),x=S([l,i]),V=S([l,_]),Z=u({type:n().oneOf((0,o.VO)(r.sWL)),serviceId:n().string,name:n().string,emailIds:n().arrayOf(n().string)}),W=u({adHeadline:i.isRequired,adSummary:i.isRequired,adImg:i.isRequired,adSource:i.isRequired,clickUrl:i.isRequired,type:i.isRequired,creativeId:i,beacon:i,impressionTrackingUrls:d}),K=u({contentType:i.isRequired,url:i.isRequired,usageType:i.isRequired}),z=u({creativeId:i.isRequired,pencilAd:W,nativeAd:K}),Y=u({position:i.isRequired,bookId:l.isRequired}),j=u({spaceId:i.isRequired,positions:p(Y).isRequired}),q=u({content:_,state:m((0,o.VO)(r.DAQ))}),X=u({pages:q.isRequired,numPages:l.isRequired,height:l.isRequired,width:l.isRequired,exceptions:_.isRequired,sheets:_.isRequired}),Q=u({folderActionValueBean:u({folder:u({name:i.isRequired})}).isRequired}),J=u({type:m((0,o.VO)(r.Ic2)),value:Q}),$=u({field:S([m((0,o.VO)(r.w9A)),n().string]),operator:m((0,o.VO)(r.GVQ)),matchCase:c,value:i.isRequired}),ee=u({index:l.isRequired,name:i.isRequired,matchType:m((0,o.VO)(r.k92)),actions:p(J).isRequired,criterions:p($).isRequired}),te=u({domains:p(i).isRequired,domainMessageBody:i.isRequired}),se=u({enabled:c.isRequired,startDate:l,endDate:l,messageBody:i,domainSpecificResponse:te}),ae=u({loadModule:C.isRequired}),ne=u({firstDay:l,name:i}),re=u({requireInteraction:c,sticky:c,modal:c,icon:i,type:m((0,o.VO)(r.j_x))}),oe=u({code:l,isRetryable:c}),ie=u({title:i.isRequired,options:u({body:i.isRequired,icon:i.isRequired,lang:i.isRequired,tag:i.isRequired,timestamp:l.isRequired}).isRequired,onClick:C}),le=u({id:i,status:m((0,o.VO)(r.sZ3)).isRequired,progress:l.isRequired,expires:l}),ce=u({spam:c,ham:c,move:c,archive:c,restore:c,delete:c,permDelete:c,raf:c}),de=u({getAuthorizationURL:C}),_e=u({city:i,state:i,country:i,timezone:u({name:i.isRequired,longName:i,currentOffset:i,offsetPositive:c}).isRequired}),Ee=u({id:i,defaultMessage:i,description:i}),ue=u({playlist:_.isRequired}),me=u({get:C}),Se=u({getFilePermissions:C}),pe=u({domainLogo:i.isRequired,domainColor:i.isRequired}),Ce=u({unicode:i.isRequired,unicode_alt:i.isRequired,code_decimal:i.isRequired,name:i.isRequired,shortname:i.isRequired,category:i.isRequired,emoji_order:i.isRequired,aliases:d.isRequired,aliases_ascii:d.isRequired,keywords:d.isRequired}),Ae=u({id:i,name:i,email:i,iataCode:i}),Te={number:i.isRequired,type:i},Ie={type:i,addrFields:u({street:i,city:i,country:i,state:i,zipcode:i})},he=u({id:i.isRequired,xobniId:i,categories:d,emails:p(i).isRequired,name:i,phonesWithType:p(u(Te)),position:i,company:i,flickr:i,facebook:i,twitter:i,linkedIn:i,notes:i,addressesWithType:p(u(Ie))}),ge=u({id:i,name:i,position:i,company:i,editToken:i,isBusiness:c,phonesWithType:p(u(Te)),emails:p(i),emailType:_,backyard:i,flickr:i,facebook:i,twitter:i,linkedIn:i,website:i,relationshipHistory:_,notes:i,birthday:i,anniversary:i,addressesWithType:p(u(Ie)),hiddenEndpoint:i}),Oe=u({email:i,image:i,isBusiness:c,isFalcon:c,name:i.isRequired,website:i.isRequired}),De=u({name:n().string,keyword:n().string,emailAddresses:n().arrayOf(n().string),accountIds:n().arrayOf(n().string),folders:n().arrayOf(n().string),listFilter:n().string}),Re=u({scrollThresholdPercentage:l,render:C}),Ne=u({creationDate:l,downloadLink:i,id:i,itemType:i,lastUpdateTime:l,mimeType:i,name:i,online:c,ownerId:i,ownerNames:d,path:i,shareableThumbnailLink:i,sharedWith:d,size:l,source:i,tags:_,thumbnail:i}),Le=u({id:i,item:Ne}),fe=u({heading:i,body:i,ctaText:i}),Me=u({strings:fe,falconTOMImageUrl:i,impressionTracker:i,impressionBeacon:i,redirectUrl:i,version:i,messageId:i,ymreqid:i,sku:i,isPrefetched:c}),Pe=u({mKey:i.isRequired,sec:i.isRequired,mKeyGroup:i,interactionType:i}),be=u({mailPlusClickUrl:i.isRequired,mailPlusImpressionUrl:i.isRequired})},78735:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});var a=s(67294),n=s(99612),r=s(8106);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function i(e){const t=t=>(0,r.jU)()&&"ResizeObserver"in window?a.createElement(n.ZP,null,(({width:s,targetRef:n})=>a.createElement(e,o({},t,{resizeWatcherRef:n,width:s})))):a.createElement(e,t);return t.displayName=`withResizeAwareness(${e.displayName||e.name})`,t}},48755:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>F,o1:()=>b,wl:()=>U});var a=s(50566),n=s(14890),r=s(37422),o=s(95406),i=s(45481),l=s(88552),c=s(92559),d=s(18446),_=s.n(d),E=s(68113),u=s(98109);const{MESSAGE_FROM_SEARCH_LIST:m,MESSAGE_FROM_FOLDER_LIST:S,SPONSORED_MESSAGE:p,FOLDER:C}=r.n8z,{STARTED:A,SUBMITTED:T,ENDED:I,DELETED:h,LIKED:g}=r._re,O=6e5,D=(0,o.gP)([5564699].concat(u.df)),{SUCCESS:R,PENDING:N,FAIL:L}=r.vaW,f=["OUTBOUND"],{STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER:M,EMPTY_FOLDER_VIDEO:P}=r.GyM,b={creativeId:"",pencilAd:{adHeadline:"",adSummary:"",adImg:"",adSource:"",clickUrl:"",creativeId:"",type:"",adFeedbackBeacon:"",rules:{},actionUrls:{},impressionTrackingUrls:[],carouselAssets:[],callExtension:{}},nativeAd:{contentType:"",url:"",usageType:"",geminiSponsoredAsset:"",actionUrls:{},embeddedLandingUrls:{}},timestamp:0},y=(0,n.combineReducers)({timestamp:(e=0,t)=>{switch(t.type){case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return t.actionTimestamp;case a.DELETE_ITEMS_REQUESTED:case a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return t.actionTimestamp;break;case a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&(0,o.u9)(t,"card.folderType",null)===r.Sck.DRAFT)return 0;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&(0,o.u9)(t,"card.folderType",null)!==r.Sck.DRAFT)return t.actionTimestamp;break;case a.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible&&t.messageReadAdRotationActive?t.actionTimestamp:0;case a.OPEN_PAGE_REQUESTED:return t.route.name===m||t.route.name===S?t.actionTimestamp:0;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case a.HIDE_RIGHT_PANE_ADS:return 0}return e},timestampV2:(e=0,t)=>{switch(t.type){case a.MESSAGE_READ_AD_ROTATION_TIMER:return t.actionTimestamp}return e},active:(e=!1,t)=>{switch(t.type){case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.V3_MESSAGE_CARD_EXPANSION_CHANGED:return!0;case a.DELETE_ITEMS_REQUESTED:case a.MOVE_ITEMS_REQUESTED:if(t.fromMessageGroupView)return!0;break;case a.MESSAGE_CARD_FOCUSED:if(t.messageReadAdRotationActive&&(0,o.u9)(t,"card.folderType",null)===r.Sck.DRAFT)return!1;if((!t.messageReadAdRotationActive||t.actionTimestamp>t.messageReadAdRotationTimestamp+t.messageReadAdRotationIdleInterval)&&(0,o.u9)(t,"card.folderType",null)!==r.Sck.DRAFT)return!0;break;case a.APPLICATION_VISIBILITY_DID_CHANGE:return!(!t.isVisible||!t.messageReadAdRotationActive)||e;case a.OPEN_PAGE_REQUESTED:return t.route.name===m||t.route.name===S;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return!1}return e}}),v=e=>{const t=Object.keys(e).reduce(((e,t)=>({...e,[t]:e[t]===T?I:null})),e);return _()(e,t)?e:t},F=(0,n.combineReducers)({adRotationId:(e=0,t)=>{if(i.gM[t.type])return t.actionTimestamp;switch(t.type){case a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){if(t.noAdRotationOnCompose&&(t.route.name===S||t.route.name===m)&&!t.messageReadAdRotationActive)break;return t.actionTimestamp}break;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!t.noAdRotationOnCompose)return t.actionTimestamp;break;case a.OPEN_PAGE_REQUESTED:if(t.emptyFolderAdEligibleRoute&&!t.isListLoaded)break;if(t.route.name!==p)return t.actionTimestamp;break;case a.CHANGE_FOLDER_SUCCEEDED:if(t.emptyFolderAdEligibleRoute)return t.actionTimestamp;break;case a.STREAM_CURSOR_MOVED:if(t.previewPane!==r.EsZ.NO)return t.actionTimestamp;break;case a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return t.actionTimestamp;break;case a.SYNC_DATA:if(t.forceSync&&(0,o.u9)(t,"i13nModel.mKey",null)===c.JE.PULL_TO_REFRESH)return t.actionTimestamp;break;case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return t.actionTimestamp;break;case a.RIGHT_RAIL_COMMS_ICON_CLICKED:if(t.isPaneVisible)return t.actionTimestamp}return e},geminiAds:(e={},t)=>{switch(t.type){case a.AD_FEEDBACK_SUBMITTED:return t.sectionId&&e[t.sectionId]?{...e,[t.sectionId]:[e[t.sectionId][0]]}:e;case a.INITIAL_STATE:case a.GEMINI_AD_RECEIVED:{if(t.geminiAd&&Object.keys(t.geminiAd).length>0)return Object.keys(t.geminiAd).filter((e=>t.geminiAd[e]&&!t.geminiAd[e].error)).reduce(((e,s)=>{if(D[s])return{...e,[s]:[{ads:t.geminiAd[s],timestamp:t.actionTimestamp}]};const a=e[s]||[];return e[s]=[...a,{ads:t.geminiAd[s],timestamp:t.actionTimestamp}].filter((e=>t.actionTimestamp-e.timestamp<O)),e}),{...e});const s=t.sectionIds&&u.df.find((e=>e===t.sectionIds[r.e$m.MESSAGE_READ]));if(s)return{...e,[s]:[]};break}case a.GEMINI_AD_REQUESTED:{const{sectionIds:s={}}=t;return(0,o.VO)(s).reduce(((e,s)=>(e[s]&&(e[s].length>1?e[s]=e[s].slice(1).filter((e=>t.actionTimestamp-e.timestamp<O)):e[s]=e[s].filter((e=>t.actionTimestamp-e.timestamp<O))),e)),{...e})}case a.OPEN_PAGE_REQUESTED:case a.PREVIEW_MESSAGE_REQUESTED:case a.STREAM_CURSOR_MOVED:return Object.keys(e).reduce(((e,t)=>(D[t]&&(e[t]=[]),e)),{...e})}return e},geminiError:(e={},t)=>{switch(t.type){case a.GEMINI_AD_RECEIVED:{const e={};return Object.keys(t.geminiAd||{}).reduce(((e,s)=>(t.geminiAd[s]&&t.geminiAd[s].error&&(e[s]=t.geminiAd[s]),e)),e)}case a.GEMINI_AD_FAILED:return(0,o.VO)(t.sectionIds||[]).reduce(((e,s)=>(e[s]=t.error,e)),{})}return e},searchAds:(e={},t)=>{switch(t.type){case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:if((0,o.u9)(t,"response.ADS",null))return{...e,[t.listId]:(0,o.u9)(t,"response.ADS.WITH_KEYWORD.items",null)}}return e},searchPlaAds:(e={},t)=>{switch(t.type){case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{var s,n;const{items:a=[],instrumentation:r}=(null==t||null===(s=t.response)||void 0===s||null===(n=s.PLAADS)||void 0===n?void 0:n.WITH_KEYWORD)||{};if(a.length)return{...e,[t.listId]:{ads:a,instrumentation:r}}}}return e},adFeedback:(e={},t)=>{switch(t.type){case a.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible)return v(e);break;case a.OPEN_PAGE_REQUESTED:if(t.route.name!==p)return v(e);break;case a.STREAM_CURSOR_MOVED:if(t.previewPane!==r.EsZ.NO)return v(e);break;case a.ONLINE_STATUS_CHANGED:if(t.online&&t.rotateAdsOnline)return v(e);break;case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHECK_MAIL_RECEIVED_WITH_NO_UPDATES:if(t.rotateAds)return v(e);break;case a.AD_FEEDBACK_STARTED:return{...e,[t.sectionId]:A};case a.AD_FEEDBACK_SUBMITTED:return{...e,[t.sectionId]:T};case a.AD_FEEDBACK_CLOSED:return{...e,[t.sectionId]:e[t.sectionId]===T?I:null};case a.DELETE_PENCIL_AD:return{...e,[t.sectionId]:h};case a.AD_FEEDBACK_CLICKED:if(t.feedbackType)return{...e,[t.sectionId]:t.feedbackType===E.gT.POSITIVE?g:h};break;default:if(i.gM[t.type]&&-1===[a.AD_FEEDBACK_CLOSED,a.MESSAGE_READ_AD_ROTATION_TIMER].indexOf(t.type))return v(e)}return e},messageReadAdRotation:y,geminiCategories:(e=[],t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:case a.PREVIEW_MESSAGE_REQUESTED:if(t.geminiCategories&&t.geminiCategories.length)return t.geminiCategories}return e},sponsoredAds:(e={},t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:return t.sponsoredAd?{...e,[(0,o.u9)(t,"sponsoredAd.creativeId")]:t.sponsoredAd}:e;case a.GEMINI_SPONSORED_ASSET_RECEIVED:{const s=e[t.creativeId]&&{...e[t.creativeId].nativeAd,geminiSponsoredAsset:t.asset};return{...e,[t.creativeId]:{...e[t.creativeId],nativeAd:s}}}}return e},relatedSearches:(e={},t)=>{switch(t.type){case a.RELATED_SEARCHES_FETCH_SUCCEEDED:return t.queries}return e},adblockerDetectionStatus:(e=r.vc$.UNAVAILABLE,t)=>{switch(t.type){case a.ADBLOCK_DETECTED:return r.vc$.DETECTED;case a.NO_ABP_DETECTED:return r.vc$.PENDING;case a.NO_ADBLOCK_DETECTED:return r.vc$.UNDETECTED}return e},isABPDetected:(e=!1,t)=>{switch(t.type){case a.ABP_DETECTED:return!0}return e},checkMailAdRotationIdleTimestamp:(e=0,t)=>{switch(t.type){case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:return t.userInitiated?t.actionTimestamp:e;case a.GEMINI_AD_RECEIVED:case a.MESSAGE_READ_AD_ROTATION_TIMER:return e}return t.actionTimestamp||e},hasSponsoredMessageOnMessageList:(e=N,t)=>{if(e===L)return e;switch(t.type){case a.INITIAL_STATE:return t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?R:L;case a.GEMINI_AD_RECEIVED:return e!==N||t.route.name!==C&&t.route.name!==S||t.geminiAd[5545468]?e:t.geminiAd&&t.geminiAd[5602797]&&!t.geminiAd[5602797].error?R:L;case a.OPEN_PAGE_REQUESTED:return e!==R||t.previousRoute.name!==C&&t.previousRoute.name!==S?e:N}return e},mailPlusSponsoredMsgOnAdMisclick:(e=r.$Fz.INITIALIZED,t)=>{switch(t.type){case a.PENCIL_AD_CLICKED:return e===r.$Fz.INITIALIZED?r.$Fz.PENDING:e;case a.APPLICATION_VISIBILITY_DID_CHANGE:{const{actionTimestamp:s,applicationLastVisibleTimeStamp:a,isVisible:n}=t;if(null==a)return e;const o=s-a;return e!==r.$Fz.PENDING&&e!==r.$Fz.MISCLICKED?e:n?o<=r.dK?r.$Fz.MISCLICKED:r.$Fz.INITIALIZED:e}case a.GEMINI_AD_REQUESTED:return e===r.$Fz.PENDING?e:r.$Fz.INITIALIZED}return e},isBottomStickyPencilAdCollapsed:(e=!1,t)=>{switch(t.type){case a.TOGGLE_BOTTOM_STICKY_PENCIL_AD_COLLAPSE:return!e}return e},emptyFolderAlterUpsellType:(e=M,t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:{const{hasShownEmptyFolderVideo:s=!1}=t;return s?e===M?P:M:e}}return e},gptIframeLoadStatus:(e=!1,t)=>{switch(t.type){case a.GPT_IFRAME_LOADED:return!0;case a.GPT_IFRAME_UNLOADED:return!1}return e},emailsToMyselfSelectedEmails:(e=[],t)=>{switch(t.type){case a.OPEN_PAGE_REQUESTED:return null!=t&&t.selectedEmails?null==t?void 0:t.selectedEmails:e;case a.CHANGE_FOLDER_SUCCEEDED:return[]}return e},sendConfirmFallbackStatus:(e=!1,t)=>{switch(t.type){case a.NO_FULL_PANE_AD_RETURNED_FOR_SEND_CONFIRM:return!0;case a.OPEN_PAGE_REQUESTED:return!1}return e},gptIframeRemountStatus:(e=!1,t)=>{switch(t.type){case a.GPT_IFRAME_REMOUNT_REQUESTED:return!0;case a.GPT_IFRAME_REMOUNT_SUCCEEDED:return!1}return e},gptIframeHasUBAClassname:(e=!1,t)=>{switch(t.type){case a.GPT_IFRAME_UBA_CLASSNAME_ADDED:return!0}return e}}),U=e=>t=>({getAdRotationId:()=>e.adRotationId,getGeminiAds:t=>e.geminiAds[t],hasAnyGeminiAd:()=>Object.keys(e.geminiAds).length,getGeminiAdData:s=>(0,l.Sf)(e,t,s),getGeminiAdDataInArray:s=>(0,l.DD)(e,t,s),getAllGeminiError:()=>e.geminiError,getGeminiError:t=>e.geminiError[t],getNativeAdData:s=>(0,l.Sf)(e,t,s).nativeAd,getPencilAdData:s=>(0,l.fc)(e,t,s),getAdFeedbackStatus:()=>e.adFeedback,getFeedbackStartedSectionIds:()=>Object.keys(e.adFeedback).filter((t=>e.adFeedback[t]===A)),getAdFeedbackBeacon:s=>(0,o.u9)((0,l.Sf)(e,t,s),"pencilAd.adFeedbackBeacon"),getAdFeedbackConfig:s=>(0,o.u9)((0,l.Sf)(e,t,s),"adFeedbackConfig"),getMessageReadAdRotationTimestamp:()=>e.messageReadAdRotation.timestamp,getMessageReadAdRotationTimestampV2:()=>e.messageReadAdRotation.timestampV2,getMessageReadAdRotationActive:()=>e.messageReadAdRotation.active,getGeminiCategories:()=>e.geminiCategories,getSponsoredAd:t=>e.sponsoredAds[t],getSearchAdData:t=>e.searchAds[t]?e.searchAds[t].pencilAd:null,getPlaAdData:t=>{const s={ads:[],instrumentation:{}};return t?(0,o.u9)(e,`searchPlaAds.${t}`,s):s},getRelatedSearches:()=>e.relatedSearches,getGeminiAdDataFromCreativeId:s=>{let a;return Object.keys(e.geminiAds).find((n=>(a=(0,l.Sf)(e,t,n),a.creativeId===s)))?a:null},isAdblockerDetected:()=>e.adblockerDetectionStatus===r.vc$.DETECTED,adblockerDetectionStatus:()=>e.adblockerDetectionStatus,getNativeAdFormType:s=>{var a;const n=(0,l.Sf)(e,t,s),r=(null==n||null===(a=n.nativeAd)||void 0===a?void 0:a.embeddedLandingUrls)||{};return((0,o.VO)(r).find((e=>"fsubmit"===e.label))||{}).type||null},getCachedGeminiAds:s=>(0,l.LF)(e,t,s),getDPAAds:()=>(0,l.uJ)(e,t),getDomainMatchAds:()=>(0,l.cg)(e,t),getGeminiAdTimestamp:s=>(0,l.OP)(e,t,s),getCheckMailAdRotationIdleTimestamp:()=>e.checkMailAdRotationIdleTimestamp,isABPDetected:()=>e.isABPDetected,hasSponsoredMessageOnMessageList:()=>e.hasSponsoredMessageOnMessageList,hasGeminiBeenBlocked:()=>Object.keys(e.geminiError).some((t=>{var s,a;const n=(null===(s=e.geminiError[t])||void 0===s||null===(a=s.data)||void 0===a?void 0:a.errorCode)||"";return-1!==f.indexOf(n)})),getPortraitAd:(t,s)=>{let a={};return(e.geminiAds[s]||[]).forEach((e=>{t===e.ads[0].creativeId&&(a=e.ads[0])})),a.pencilAd},isNativeMailPlusUpsellAd:()=>{var e;const{getSetting:s,isFeatureEnabled:a,getRoute:n}=t,o=s(r.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS),i=n(),l=parseInt(null==i||null===(e=i.params)||void 0===e?void 0:e.creativeId,10);return a(r.ANe.MAIL_PLUS_SPONSORED_MESSAGE)&&-1!==o.indexOf(l)},hasAdBeenMisclicked:()=>e.mailPlusSponsoredMsgOnAdMisclick===r.$Fz.MISCLICKED,isBottomStickyPencilAdCollapsed:()=>e.isBottomStickyPencilAdCollapsed,getEmptyFolderAlterUpsellType:()=>{const{getEnvironmentSelectors:s}=t,{getBuckets:a}=s();return-1!==a().indexOf("YMPEMPTYVIDT02")?e.emptyFolderAlterUpsellType===M?P:M:e.emptyFolderAlterUpsellType},isGPTIframeLoaded:()=>e.gptIframeLoadStatus,getEmailsToMyselfSelectedEmails:()=>e.emailsToMyselfSelectedEmails,getSendConfirmFallbackStatus:()=>e.sendConfirmFallbackStatus,shouldRemountGPTIframe:()=>e.gptIframeRemountStatus,doesGPTIrameHasUBAClassname:()=>e.gptIframeHasUBAClassname})},15523:(e,t,s)=>{"use strict";let a;s.d(t,{J:()=>a}),function(e){e.INTENT="INTENT",e.REPHRASE="REPHRASE"}(a||(a={}))},63465:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>_,_Z:()=>c,wl:()=>E});var a=s(14890),n=s(50566),r=s(57557),o=s.n(r),i=s(15523),l=s(45124);let c;!function(e){e.DOES_NOT_EXIST="DOES_NOT_EXIST",e.PENDING="PENDING",e.SUCCEEDED="SUCCEEDED",e.FAILED="FAILED"}(c||(c={}));const d={generatedContentByCsid:{},rephrasedContentByCsid:{},composeAssistant:{}},_=(0,a.combineReducers)({generatedContentByCsid:(e={},t)=>{switch(t.type){case n.GENERATE_MSG_FROM_PROMPT_REQUESTED:{const{csid:s}=t;return{...e,[s]:{csid:s,status:c.PENDING}}}case n.GENERATE_MSG_FROM_PROMPT_SUCCEEDED:{const{csid:s,result:a}=t;return{...e,[s]:{...e[s],status:c.SUCCEEDED,result:a}}}case n.GENERATE_MSG_FROM_PROMPT_FAILED:{const{csid:s}=t;return{...e,[s]:{...e[s],status:c.FAILED}}}case n.DELETE_ITEMS_REQUESTED:return t.csid?o()(e,t.csid):e;default:return e}},rephrasedContentByCsid:(e={},t)=>{switch(t.type){case n.REPHRASE_CONTENT_BY_PROMPT_REQUESTED:{const{csid:s,prompt:a}=t;return{...e,[s]:{csid:s,params:{prompt:a},status:c.PENDING}}}case n.REPHRASE_CONTENT_BY_TONE_REQUESTED:{const{csid:s,tone:a}=t;return{...e,[s]:{csid:s,params:{tone:a},status:c.PENDING}}}case n.REPHRASE_CONTENT_SUCCEEDED:{const{csid:s,result:a}=t;return{...e,[s]:{...e[s],status:c.SUCCEEDED,result:a}}}case n.REPHRASE_CONTENT_FAILED:{const{csid:s}=t;return{...e,[s]:{...e[s],status:c.FAILED}}}case n.DELETE_ITEMS_REQUESTED:return t.csid?o()(e,t.csid):e;default:return e}},composeAssistant:(e={},t)=>{switch(t.type){case n.AI_COMPOSER_INITIALIZED:return{...e,[t.csid]:{pluginInitialized:!0,view:t.view}};case n.AI_COMPOSER_UPDATE_VIEW:return{...e,[t.csid]:{...e[t.csid],view:t.view,errorType:null}};case n.GENERATE_MSG_FROM_PROMPT_FAILED:case n.REPHRASE_CONTENT_FAILED:{const{csid:s,error:a}=t,n=a.errorCode===l.W.CONTENT_VIOLATION?l.W.CONTENT_VIOLATION:l.W.OTHER;return{...e,[s]:{...e[s],errorType:n}}}case n.AI_COMPOSER_NOTIFY_ERROR:{const{csid:s,errorType:a}=t;return{...e,[s]:{...e[s],errorType:a}}}case n.AI_COMPOSER_DISMISS_ERROR:{const{csid:s}=t;return{...e,[s]:{...e[s],errorType:null}}}default:return e}}}),E=(e=d)=>({getComposeAssistantView:t=>{var s;return(null===(s=e.composeAssistant[t])||void 0===s?void 0:s.view)||i.J.INTENT},isPluginReady:t=>{var s;return(null===(s=e.composeAssistant[t])||void 0===s?void 0:s.pluginInitialized)||!1},getErrorTypeIfPresent:t=>{var s;return(null===(s=e.composeAssistant[t])||void 0===s?void 0:s.errorType)||null},getGeneratedItemStatus:t=>{var s;return(null===(s=e.generatedContentByCsid[t])||void 0===s?void 0:s.status)||c.DOES_NOT_EXIST},getGeneratedContent:t=>{var s;return(null===(s=e.generatedContentByCsid[t])||void 0===s?void 0:s.result)||""},getRephrasedItem:t=>e.rephrasedContentByCsid[t]||{},getRephrasedItemStatus:t=>{var s;return(null===(s=e.rephrasedContentByCsid[t])||void 0===s?void 0:s.status)||c.DOES_NOT_EXIST},getRephrasedContent:t=>{var s;return(null===(s=e.rephrasedContentByCsid[t])||void 0===s?void 0:s.result)||""}})},62594:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(41143),n=s.n(a),r=s(85927),o=s(78263),i=s(24893);function l(e){const{doesStreamExist:t,getCurrentListId:s,getCursorItem:a,getDraftMessageId:l,getGroupIdContainingMessageId:c,getRouteParams:d,getSelectedStreamItems:_}=(0,r.selectors)(e),E=s();(0,i.c)(E,"panic: getCurrentStreamContext: no current listId");const u=(0,o.BA)([E]);let m;const S=d();if(m=S.csid?c(l(S.csid)):S.groupId,!m){var p;n()(t(u),"panic: getCurrentStreamItemContext: non-existent stream and no route id");if(_(u).length)return{streamId:u};m=null===(p=a(u))||void 0===p?void 0:p.id}return(0,i.c)(m,"panic: getCurrentStreamItemContext no streamItem"),{streamId:u,streamItem:{id:m,listId:E}}}},53164:(e,t,s)=>{"use strict";s.d(t,{Z:()=>E,w:()=>u});var a=s(14890),n=s(50566),r=s(37422),o=s(18446),i=s.n(o),l=s(57557),c=s.n(l),d=s(95406);const _=(0,a.combineReducers)({cardConversationId:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.cardConversationId||e;default:return e}},cardId:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.cardId||e;default:return e}},categories:(e=[],t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.categories||e;case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.couponCategories||e;default:return e}},cmid:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.cmid||e;case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.WALLET_LIST_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:return a.id||e;default:return e}},dealLink:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.dealLink||e;default:return e}},dealType:(e=r.WSI.EXTRACTED_DEAL,t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:return(null==a?void 0:a.dealType)||r.WSI.RECOMMENDED_DEAL;case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return(null==a?void 0:a.dealType)||r.WSI.INBOX_DEAL;default:return e}},description:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.description||e;default:return e}},discountInfo:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.discountInfo;default:return e}},from:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.from;default:return e}},imageHeight:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.imageHeight;default:return e}},imageUrl:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.imageUrl||e;default:return e}},imageWidth:(e=null,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.imageWidth;default:return e}},isInferredDate:(e=!1,t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.isInferredDate||!1;default:return e}},parentMessageId:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.parentMessageId||e;default:return e}},relevanceScore:(e=0,t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:return a.relevanceScore||e;default:return e}},retailer:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.retailer||e;default:return e}},retailerLogoUrl:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.retailerLogoUrl||e;default:return e}},saved:(e=!1,t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COUPONS_ADD_TAG_DECO_REQUESTED:case n.COUPONS_REMOVE_TAG_DECO_REQUESTED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.saved;default:return e}},senderEmails:(e=[],t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.senderEmails||e;default:return e}},src:(e="msg",t)=>{const{type:s,deal:a}=t;switch(s){case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:return a.src||e;default:return e}},unusualDiscount:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.unusualDiscount||e;default:return e}},validThrough:(e="",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.validThrough||e;default:return e}},extractionMeta:(e={},t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.extractionMeta||e;default:return e}},entity:(e="coupon",t)=>{const{type:s,deal:a}=t;switch(s){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.COUPONS_LIST_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.COMBINE_DEALS_SUCCEEDED:case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.CHANGE_FOLDER_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.RIGHT_RAIL_IC_DEALS_RECEIVED:return a.entity||e;default:return e}}});const E=function(e={},t){const{listData:s={},type:a,dealsToSave:o=[]}=t;switch(a){case n.POST_LAUNCH_SYNC_SUCCEEDED:case n.MORE_COUPONS_SUCCESS:case n.MESSAGE_BODIES_RECEIVED:case n.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case n.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case n.EXTRACT_COUPON_SUCCEEDED:case n.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case n.COUPONS_LIST_SUCCEEDED:case n.COUPONS_REMOVE_TAG_DECO_REQUESTED:case n.COUPONS_ADD_TAG_DECO_REQUESTED:case n.COMBINE_DEALS_SUCCEEDED:case n.WALLET_LIST_SUCCEEDED:case n.CHANGE_FOLDER_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===r.rgK.Coupon&&!i()(e[t],c()(s.schemaCards[t],["id","type"])))).reduce(((t,n)=>({...t,[n]:_(e[n],{type:a,deal:s.schemaCards[n]})})),{});return Object.keys(t).length?{...e,...t}:e}case n.STOREFRONT_MODULES_SUCCEEDED:case n.STOREFRONT_DEALS_SUCCEEDED:{const t=o.filter((t=>!i()(e[t.cmid],t))).reduce(((t,s)=>({...t,[s.cmid]:_(e[s.cmid],{type:a,deal:s})})),{});return Object.keys(t).length?{...e,...t}:e}case n.RIGHT_RAIL_IC_DEALS_RECEIVED:{if(!o.length)return e;const t=o.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>({...e,[t.id]:{...t}})),{})})),{})})),{});return{...e,...t}}default:return e}},u=(e={})=>({doesDealExist:t=>!!e[t],getDealFromCmid:t=>e[t],getExtractedDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.EXTRACTED_DEAL)),getRecommendedDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.RECOMMENDED_DEAL&&!!e.relevanceScore)),getStaticDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.STATIC_DEAL)),getInboxDeals:()=>((0,d.VO)(e)||[]).filter((e=>e.dealType===r.WSI.RECOMMENDED_DEAL&&!e.relevanceScore)),getImageUrl:t=>e[t].imageUrl,getImageHeight:t=>e[t].imageHeight,getImageWidth:t=>e[t].imageWidth,getValidThroughDate:t=>e[t].validThrough,isInferredDate:t=>e[t].isInferredDate,getDealLink:t=>e[t].dealLink,getDescription:t=>e[t].description,getFromAddress:t=>e[t].from,isSavedDeal:t=>e[t].saved,getCardConversationId:t=>e[t].cardConversationId,getUnusualDiscount:t=>e[t].unusualDiscount,getCouponCategory:t=>e[t].categories,getRetailer:t=>e[t].retailer,getDiscountInfo:t=>e[t].discountInfo,getJediRightRailDeals:()=>{var t;return(null===(t=(0,d.VO)(e)||[])||void 0===t?void 0:t.map((e=>{const{dealLink:t,from:{name:s,email:a}={}}=e;return{...e,email:a,brandUrl:t,brandName:s}})).filter((e=>{const{email:t,brandUrl:s,brandName:a}=e;return s&&a&&t})))||[]}})},33471:(e,t,s)=>{"use strict";s.d(t,{OR:()=>u,ZP:()=>C,gA:()=>S,lV:()=>p});var a=s(31057),n=s(17016),r=s(20289);const o=["sprint.com","sprint.delivery.net","sprintcustserv.com","paperless.t-mobile.com","prod.t-mobileorders.com","t-mobile.com","t-mobileorders.com","t-mobile-email.com","message.att-mail.com"],i=["boostmobile.com","cricketwireless.com","delivery.boostmobile.com","delivery.virginmobileusa.com","ebill.virginmobile.com.au","ec.tracfone.com","tracfone-email.com","tracfonemail.com","email.tracfone.com","e.online.att-mail.com","email2.tracfone.com","email.metropcs.com","email.straighttalk.com","email2.straighttalk.com","emailff.att-mail.com","emaildl.att-mail.com","mail.cricketwireless.com","mintmobile.com","noreply.mintmobile.com","paymentplan.virginmobile.ca","prepaid.sprint.com","retail.boostmobile.com","straighttalk.com","straighttalkmail.com","tracfone.com","virginmobile.ca","virginmobile.com","virginmobileusa.com","e.uscellular.com","uscellular.com","email-uscellular.com","xfinitymobile.com"],l=["googlefi-noreply@google.com","google-fi-support@google.com"],c=["boostmobile.com","cricketwireless.com","delivery.boostmobile.com","delivery.virginmobileusa.com","ebill.virginmobile.com.au","verizon.net","bellsouth.net","ameritech.net","att.net","attworld.com","flash.net","nvbell.net","pacbell.net","prodigy.net","sbcglobal.net","snet.net","swbell.net","wans.net","currently.com","rogers.com","nl.rogers.com","btopenworld.com","btinternet.com,","talk21.com","sky.com","e.online.att-mail.com","frontier.com","frontiernet.net","myfrontiermail.com","citlink.net","newnorth.net","epix.net","gvni.com","frontiernet.com","ctaz.com","ctaz.net","citlink.com","evansinet.com","globalvalleynetworks.com","email.metropcs.com","email.straighttalk.com","email2.straighttalk.com","emailff.att-mail.com","emaildl.att-mail.com","mail.cricketwireless.com","message.att-mail.com","mintmobile.com","noreply.mintmobile.com","paperless.t-mobile.com","paymentplan.virginmobile.ca","prepaid.sprint.com","prod.t-mobileorders.com","retail.boostmobile.com","sprint.com","sprint.delivery.net","sprintcustserv.com","straighttalk.com","straighttalkmail.com","t-mobile.com","t-mobileorders.com","t-mobile-email.com","virginmobile.ca","virginmobile.com","virginmobileusa.com","e.uscellular.com","uscellular.com","email-uscellular.com","xfinitymobile.com"],d=["em.gamestop.com","blizzardnets.com","record.blizzardnets.com","pushed.blizzardnets.com","engage.xbox.com","playstationemail.com","promo.newegg.com","blizzardmarket.com","txn-email.playstation.com","em.blizzard.com","acct.epicgames.com","epicgames.com","accounts.nintendo.com","eu.playstationmail.net","nintendo.net","blizzard.com","e.newegg.com","e.blizzardgearstore.com","accts.epicgames.com","nvidia.com","newegg.com","asia.playstation.com","nedm.asus.com","gamestop.com","thesoxbox.com","email-gamestop.com","tmail.nvidia.com","digital.gameinformer.com","playstation.sony.com","ccg.nintendo.com","asus.com","noa.nintendo.com","invidiasalonandspa.com","e.gamestop.com","pcgamer.com","status.xbox.com","psn.jp.playstation.com"],_=e=>!!e&&(0,n.isEmailFromAllowlistDomains)(e,c),E=e=>!!e&&(0,n.isEmailFromAllowlistDomains)(e,d),u=e=>e?(0,n.isEmailFromAllowlistDomains)(e,o)?r.GQ.POWER:(0,n.isEmailFromAllowlistDomains)(e,i)||l.indexOf(e)>=0?r.GQ.SAVER:"":"",m=(e,t)=>{const{doesMessageGroupIdExist:s,getRoute:n,getMessageIdsFromMessageGroupId:r,getMessageListItems:o,getMessageFromAddress:i}=e,l=n();let c;return o((0,a.LY)(l)).find((e=>{const a=s(e.id)&&r(e.id)[0],{email:n}=(a&&i(a)||[])[0]||{};return c=t(n),!!c})),c},S=e=>m(e,_),p=e=>m(e,E),C=e=>m(e,u)},57801:(e,t,s)=>{"use strict";s.d(t,{PH:()=>c,Si:()=>l,v4:()=>i});var a=s(85927),n=s(31057),r=s(37422),o=s(71421);const i=1e3,l=650;function c(e,t,s){const{getCouponsSelectors:c,getDealsViewSelectors:d,getListsSelectors:_,getMainContentWidth:E,getAdsSelectors:u,getAdSectionIds:m}=(0,a.selectors)(e),S=E(),{getCouponCardStreamItems:p,getRecommendedDeals:C}=c(),{getDealsViewListExpansion:A}=d(),{doesListExist:T}=_(),{getGeminiAdDataInArray:I}=u(),h=I(m()[r.e$m.DEALS_SHOPPING_CART]);let g=2;if(S>i?g=3:S<l&&(g=1),s!==r.DAQ.DOES_NOT_EXIST){var O,D;const e=t.filter((e=>(0,n.WN)(e)===r.F6k.COUPON_CARDS&&T(e))).map((e=>[...p(e)])),s=C(),a=h.reduce(((e,t,s)=>{const a=4*s;return a<e.length&&e.splice(a,0,t),e}),[...s]),i=(0,o.Bb)(a,S/g,S),l=i.slice(0,3),c=A()?i:l,d=!!c.length;d&&e.unshift((c||[]).map((e=>{var t,s;return{listId:(0,n.H7)({referrer:r.qd8.RECOMMENDED_DEALS}),id:(null===(t=e[0])||void 0===t?void 0:t.cmid)||(null===(s=e[0])||void 0===s?void 0:s.creativeId),itemRow:e}}))),e.forEach((e=>{const t=e.length-1;e[t]&&(e[t].isLastItemInGroup=!0)}));let _=0;return null!==(O=e[d?0:-1])&&void 0!==O&&O.length&&e[d?0:-1].unshift({listId:(0,n.tE)(t[0],{listContentType:r.F6k.RECOMMENDED_DEALS_HEADER}),id:_++}),null!==(D=e[d?1:0])&&void 0!==D&&D.length&&e[d?1:0].unshift({listId:(0,n.tE)(t[0],{listContentType:r.F6k.COUPON_SEPARATOR}),id:_++}),e.reduce(((e,t)=>e.concat(t)),[])}return[]}},42490:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(37422);const n=e=>{const{getRouteParams:t,doesAttachmentExistById:s,getDocumentIdByAttachmentId:n,getAttachmentTypeByAttachmentId:r}=e,{attachmentId:o}=t()||{};if(!o||!s(o)||r(o)===a.sSc.Types.IMAGE)return"";const i=n(o);return i||""}},62650:(e,t,s)=>{"use strict";s.d(t,{B:()=>c,H:()=>i});var a=s(95406),n=s(37422),r=s(10728),o=s(8106);const i=e=>{const{getWindowDimensions:t,getSetting:s,getSmartViewTypeFromRoute:i,getRoute:l,isFeatureEnabled:c}=e,d=s(n.Zrf.PREVIEW_PANE)===n.EsZ.RIGHT,_=t(),E=i(l())===n.K8C.COUPONS,u=c(n.ANe.DEALS);let m=(0,a.u9)(_,"innerWidth",0);return!m&&(0,o.jU)()&&window.innerWidth&&(m=window.innerWidth),!!m&&((!d&&m<r.mQ2||d&&m<r.xW2)&&!(u&&E))},l=new RegExp(/^\d{4}(((0)[0-9])|((1)[0-2]))([0-2][0-9]|(3)[0-1])$/);function c(e={}){const t=(0,a.VO)(e).filter((e=>e.segment_inactivesince&&l.test(e.segment_inactivesince)));if(!t.length)return"1995-03-01";return(0,a.VO)(t).map((e=>e.segment_inactivesince.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"))).reduce(((e,t)=>new Date(e)-new Date(t)<0?t:e))}},55426:(e,t,s)=>{"use strict";s.d(t,{CY:()=>m,I2:()=>u,VR:()=>p,jD:()=>S,sD:()=>E,zz:()=>_});var a=s(37422),n=s(40315),r=s(30155),o=s(99839),i=s(31057);const l=e=>!(e.length<2)&&e[0].timestamp<e[e.length-1].timestamp,c=({now:e,timezone:t})=>{const s=a.tdP.Types,{year:r,startOfYear:o}=(0,n.iY)({time:e,timezone:t}),i=[];for(let a=0;a<20;a++)i.push((l=s.YEAR,c=o(r+a),((e,t,s)=>({type:e,value:t,timestamp:s}))(l,c,c)));var l,c;return i.sort(((e,t)=>t.timestamp-e.timestamp))},d=({now:e,timezone:t})=>{const s=a.tdP.Types,r=(e,t,s)=>({type:e,value:t,timestamp:s}),o=(e,t)=>r(e,t,t),{weekday:i,month:l,year:c,startOfPastHour:d,startOfPastDay:_,startOfMonth:E,startOfYear:u}=(0,n.iY)({time:e,timezone:t}),m=[r(s.TODAY,0,d(0)),r(s.YESTERDAY,0,_(1)),r(s.THIS_WEEK,0,_(i)),r(s.LAST_WEEK,0,_(7+i)),r(s.THIS_MONTH,l,E(l))];for(let a=2;a<i+1;a++)m.push(r(s.DAY,i-a,_(a)));for(let a=0;a<6&&!(l-a-1<0);a++)m.push(r(s.MONTH,l-a-1,E(l-a-1)));m.push(o(s.THIS_YEAR,u(c)));for(let a=0;a<c-1970&&!(c-a-1<0);a++)m.push(o(s.YEAR,u(c-a-1)));return(e=>{if(0===e.length)return[];const t=a.tdP.PriorityMap,s=e.length-1,n=e[s];let r=[n],o=t[n.type];for(let a=s-1;a>=0;a--)t[e[a].type]<=o&&(r=[e[a]].concat(r)),o=Math.min(o,t[e[a].type]);return r})(m.sort(((e,t)=>t.timestamp-e.timestamp)))},_=({now:e,timezone:t,hasFutureTime:s=!1})=>{const n=s?c:d;try{return n({now:e,timezone:t}).map((e=>({listId:(0,i.rA)({listContentType:a.F6k.TIMECHUNK}),type:e.type,value:e.value,predicate:t=>t.timestamp>e.timestamp})))}catch(l){const e=new r.H(l),{data:t={},name:s="",message:a=""}=l,n=Object.assign({name:s,message:a,stack:e.toString()},t);return o.Z.error("Timechunk error V3",n),[]}},E=(e=[],t=[],s=l)=>{let a=[...e],n=0;const r={isGroupedList:!1,list:e};if(0===t.length)return r;const o=s(e);o&&a.reverse();const i=t.reduce(((e,{type:t,value:s,listId:r,predicate:i})=>{let l=[];return[l,a]=((e,t)=>{const s=[],a=[],n=e.length;for(let r=0;r<n;r++)t(e[r])?s.push(e[r]):a.push(e[r]);return[s,a]})(a,i),n=l.length,n?e.concat({type:t,value:s,ts:new Date(s),listId:r,items:o?l.reverse():l}):e}),[]);return o&&i.reverse(),i.length?{isGroupedList:!0,list:i}:r},u=(e,t,s,a)=>{const n=[];let r=[];if((!t||t<1)&&(t=1),e.forEach((e=>{r.length>=t&&(n.push({id:[e.listId,r[0].id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight}),r=[]),r.push(e)})),r.length>0){const e=r[0];n.push({id:[e.listId,e.id,s,a,n.length].join("-"),items:r,listId:e.listId,listItemHeight:e.listItemHeight})}return n},m=(e=[],t)=>e.reduce(((e,{items:s,listId:a,type:n,value:r})=>e.concat({id:[a,n,r].join("-"),type:n,value:r,listId:a}).concat(u(s,t,n,r))),[]),S=(e=[])=>e.reduce(((e,{items:t,listId:s,type:a,value:n})=>e.concat({id:[s,a,n].join("-"),type:a,value:n,listId:s}).concat(t)),[]),p=(e,t=a.ie0.ALL,s)=>{const{id:n,listId:r}=e;if((0,i.WN)(r)!==a.F6k.MESSAGES)return!1;const o=s.getMessageIdsFromMessageGroupId(n);switch(t){case a.ie0.READ:return!o.some((e=>!s.getMessageFlags(e).read));case a.ie0.STARRED:return o.some((e=>s.getMessageFlags(e).flagged));case a.ie0.UNREAD:return o.some((e=>!s.getMessageFlags(e).read));case a.ie0.UNSTARRED:return!o.some((e=>s.getMessageFlags(e).flagged));case a.ie0.ALL:return!0;default:return!1}}},77684:(e,t,s)=>{"use strict";s.d(t,{$p:()=>g,Fk:()=>I,TU:()=>m});var a=s(37422),n=s(31057),r=s(42907),o=s(95406),i=s(8106),l=s(85927),c=s(50566),d=s(62631),_=s(17016),E=s(3405),u=s(49239);const m={COMPOSE:"cmps",COMPOSE_REPLY:"cmpsRply",COMPOSE_REPLY_ALL:"cmpsRplyAll",COMPOSE_FORWARD:"cmpsFwd",MESSAGE_READ:"msgRd",MESSAGE_LIST:"msgLst",CONTACTS:"contacts",FOCUSED_INBOX:"focused_inbox",SETTINGS:"sttgs",SETTINGS_FILTERS:"sttgs_fltr",SETTINGS_ACCOUNTS:"sttgs_accnt",SETTINGS_NOTIFICATIONS:"sttgs_not",SETTINGS_WRITING_EMAIL:"sttgs_write",SETTINGS_VIEWING_EMAIL:"sttgs_view",SETTINGS_AUTOMATIC_REPLY:"sttgs_rply",SETTINGS_PERSONALIZE_INBOX:"sttgs_per",SETTINGS_SECURITY_AND_PRIVACY:"sttgs_sec",SETTINGS_ENCRYPTION:"sttgs_crypt",SETTINGS_CONTACTS:"sttgs_cntct",SETTINGS_MAIL_PRO:"sttgs_mpro",SETTINGS_MAIL_PLUS:"sttgs_mplus",TRAVEL_LIST:"trvLst",TUTORIAL:"tutrl",SUBSCRIPTIONS:"subhub",STOREFRONT:"strftnt",SEND_CONFIRM:"sndCnfrm",TODAYPAGE:"todayLst",ONBOARDING:"onbrding",WALLET:"wllt"},S={[a.ofO.REPLY]:m.COMPOSE_REPLY,[a.ofO.REPLY_ALL]:m.COMPOSE_REPLY_ALL,[a.ofO.FORWARD]:m.COMPOSE_FORWARD},p={[a.u5h.PERSONALIZE_INBOX]:m.SETTINGS_PERSONALIZE_INBOX,[a.u5h.ACCOUNTS]:m.SETTINGS_ACCOUNTS,[a.u5h.NOTIFICATIONS]:m.SETTINGS_NOTIFICATIONS,[a.u5h.WRITING_EMAIL]:m.SETTINGS_WRITING_EMAIL,[a.u5h.VIEWING_EMAIL]:m.SETTINGS_VIEWING_EMAIL,[a.u5h.AUTOMATIC_REPLY]:m.SETTINGS_AUTOMATIC_REPLY,[a.u5h.FILTERS]:m.SETTINGS_FILTERS,[a.u5h.SECURITY_AND_PRIVACY]:m.SETTINGS_SECURITY_AND_PRIVACY,[a.u5h.ENCRYPTION]:m.SETTINGS_ENCRYPTION,[a.u5h.CONTACTS]:m.SETTINGS_CONTACTS,[a.u5h.MAIL_PRO]:m.SETTINGS_MAIL_PRO,[a.u5h.MAIL_PLUS]:m.SETTINGS_MAIL_PLUS},C=(e,t)=>{let s;const{getSelectedAccountId:n,getAccountSelectors:r,getFeaturesSelectors:l}=e,{getAccountById:c,getImapInAccounts:E,getPrimaryAccount:u,userHasRegisteredAccount:m}=r(),{getSetting:S,isEnabled:p}=l(),C=p(a.Zrf.MAIL_TABS),A=S(a.Zrf.PREVIEW_PANE),T=S(a.Zrf.THEME),I=S(a.Zrf.LOGIN_NAME),h=S(a.Zrf.THEME_MODE),g=u()||{},O=n(),D=m()?c(O)||{}:g,R=E().length,N=(0,d.VH)(D),{domainPart:L}=(0,_.destructEmailAddressParts)(D.email||I||""),f=D.type===a.tO8.FREE?"PRIMARY":D.type,M=p(a.ANe.SHOULD_SW_SUBSCRIBE),P=(0,i.jU)()?(0,o.u9)(window,"AppBootstrapData.guid"):null,b=(0,i.jU)()?(0,o.u9)(window,"AppBootstrapData.shardId"):null,y=((0,i.jU)()?(0,o.u9)(window,"AppBootstrapData.userNamespace")===a.Tzw.AOL:null)?"_lGUID":"_GUID";switch(g.type){case a.tO8.PHONE:s="phReg";break;case a.tO8.EXTERNAL:s="usReg";break;default:s=""}return{[y]:P,tabs:C,prvwpan:A,r13e:S(a.Zrf.READABILITY_MODE)?1:0,vwCntxt:t,acctDomain:L,acctType:f,accountId:O,impn:R,theme:`${T}-${h}`,prvdr:N,regType:s,authType:D.authType,pshNtfctnsSbscrbd:M,shardId:b}},A=e=>{const t=(0,n.LY)(e);return(0,n.aY)(t)===a.qd8.SUBSCRIPTIONS?r.vU.SUBSCRIPTION_DETAIL:(0,n.lG)(t)?r.vU.SEARCH_PEOPLE:(0,n.yE)(t)?r.vU.SEARCH_SMARTVIEW:r.vU.SEARCH_KEYWORD},T=e=>{const t=(0,n.LY)(e);return(0,n.WN)(t)===a.F6k.TRAVEL_CARDS?m.TRAVEL_LIST:m.MESSAGE_LIST},I=(e,t=!1)=>{const{getAction:s,getRoute:i,getSetting:d,getFoldersSelectors:_}=(0,l.selectors)(e),E=s(),C=i(),I=(0,n.LY)(C),h=d(a.Zrf.SPACE_IDS),{getPrimaryFolderTypeByFolderId:g,doesFolderIdExist:O}=_(),D=(0,n.Fh)(I),R=O(D)?g(D):a.Sck.INBOX;let N;switch(C.name){case a.n8z.SEARCH:N={activeViewType:m.MESSAGE_LIST,activeFolderType:A(C)};break;case a.n8z.MESSAGE_FROM_SEARCH_LIST:case a.n8z.MESSAGE_FROM_LIST:N={activeViewType:m.MESSAGE_READ,activeFolderType:A(C)};break;case a.n8z.LIST:N={activeViewType:T(C),activeFolderType:A(C)};break;case a.n8z.BASE:case a.n8z.EDIT_FOLDER:case a.n8z.FOLDER:N={activeViewType:m.MESSAGE_LIST,activeFolderType:r.vU[R]||r.vU.USER};break;case a.n8z.NEW_DRAFT:case a.n8z.EDIT_DRAFT:N={activeViewType:m.COMPOSE,activeFolderType:r.vU[R]||r.vU.USER};break;case a.n8z.MESSAGE_FROM_FOLDER_LIST:N={activeViewType:m.MESSAGE_READ,activeFolderType:r.vU[R]||r.vU.USER};break;case a.n8z.ONBOARDING:N={activeViewType:m.ONBOARDING,activeFolderType:""};break;case a.n8z.TUTORIAL:N={activeViewType:m.TUTORIAL,activeFolderType:r.vU.INBOX};break;case a.n8z.SETTINGS:N={activeViewType:p[(0,o.u9)(C,"params.settingsGroupId")]||m.SETTINGS_PERSONALIZE_INBOX,activeFolderType:r.vU.INBOX};break;case a.n8z.SIGNATURES_FROM_SETTINGS:case a.n8z.THEME_CHOOSER:case a.n8z.ACCOUNT_LIST_FROM_SETTINGS:case a.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:case a.n8z.ADD_ACCOUNT_PROVIDER:case a.n8z.BLOCKED_SENDERS:case a.n8z.BLOCKED_DOMAINS:case a.n8z.AFTER_MESSAGE_MOVE:case a.n8z.MESSAGE_PREVIEW:case a.n8z.MAILPLUS_BENEFITS_UPSELL:case a.n8z.INBOX_HIGHLIGHT_SETTINGS:N={activeViewType:m.SETTINGS,activeFolderType:""};break;case a.n8z.CONTACTS:case a.n8z.CONTACT_DETAILS:case a.n8z.CONTACT_DETAILS_FROM_SEARCH:case a.n8z.EDIT_CONTACT:case a.n8z.EDIT_CONTACT_FROM_SEARCH:case a.n8z.CREATE_CONTACT:N={activeFolderType:"",activeViewType:m.CONTACTS};break;case a.n8z.SUBSCRIPTION_LIST:N={activeFolderType:"",activeViewType:m.SUBSCRIPTIONS};break;case a.n8z.STOREFRONT:N={activeFolderType:"",activeViewType:m.STOREFRONT};break;case a.n8z.WALLET:N={activeFolderType:"",activeViewType:m.WALLET};break;case a.n8z.SEND_CONFIRMATION:N={activeFolderType:"",activeViewType:m.SEND_CONFIRM};break;case a.n8z.TODAYPAGE:N={activeFolderType:"",activeViewType:m.TODAYPAGE};break;case a.n8z.SPONSORED_MESSAGE:case a.n8z.PORTRAIT_AD:case a.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL:N={activeFolderType:"",activeViewType:""};break;case a.n8z.FOCUSED_INBOX:N={activeViewType:m.FOCUSED_INBOX,activeFolderType:r.vU.INBOX}}switch(N.spaceId=(0,u.F)(C,h,t,R),d(a.Zrf.PREVIEW_PANE)===a.EsZ.NO||C.name!==a.n8z.FOLDER&&C.name!==a.n8z.SEARCH&&C.name!==a.n8z.LIST||(0,n.WN)(I)!==a.F6k.MESSAGES||(0,n.yE)(I)||(N.activeViewType=m.MESSAGE_LIST,N.spaceId=h.messageViewReadingPane),E.type){case c.PREVIEW_MESSAGE_CLOSED:N.activeViewType=m.MESSAGE_LIST;break;case c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:N.activeViewType=S[null==E?void 0:E.composeMode]}return N&&!N.spaceId&&(N.spaceId=h.root),N},h=({activeViewType:e,activeFolderType:t},s)=>s?e:`${e}_${t||r.vU.INBOX}`,g=()=>{let e={},t={},s=0;return(r,{browserLoggerParams:o})=>{const i=(0,l.selectors)(r),{getRoute:d,getAction:_,doesStreamExist:u,getCursorItem:m,getSetting:S,getSelectedMailboxId:p,getMainStreamListIds:A,listExistsAndIsEmpty:T,autoDisplayFirstMessageInRoute:g,isMobileRoute:O}=i,D=d(),R=_(),N=!A(D).some((e=>{const t=(0,n.WN)(e);return t!==a.F6k.MESSAGES&&t!==a.F6k.TRAVEL_CARDS||!T(e)})),L=(0,E.Vu)(D,t),f=-1!==[c.INITIAL_STATE,c.ITEM_LIST_PAGE_SCROLLED,c.PREVIEW_MESSAGE_CLOSED,c.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(R.type),M=O()&&g(D)&&-1!==[c.DELETE_ITEMS_REQUESTED,c.MOVE_ITEMS_REQUESTED,c.UNDO_MOVE_REQUESTED].indexOf(R.type);let P,b;if(L&&N||(s=0),R.streamId&&u(R.streamId)&&S(a.Zrf.PREVIEW_PANE)!==a.EsZ.NO&&(D.name===a.n8z.FOLDER||D.name===a.n8z.SEARCH||D.name===a.n8z.LIST)){const t=m(R.streamId);!t||t.id===e.id&&t.listId===e.listId||(0,n.WN)(t.listId)!==a.F6k.MESSAGES?t||(e={}):(e=t,P=I(r))}else if(p()&&!L){const e=!t.name;t=D,s=N?R.actionTimestamp:s,P=I(r,e)}else f||M?P=I(r):L&&N&&!s?(P=I(r),s=R.actionTimestamp):R.type===c.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED&&R.name===a.ANe.LANDSHARK_CUE?P={spaceId:a._L}:R.type===c.FEATURE_CLOSED&&R.name===a.ANe.LANDSHARK_CUE&&"download_button"!==R.i13nModel.mKey&&(P=I(r));if(D.name===a.n8z.SEARCH){const e=(0,n.LY)(D);b=(0,n.lG)(e)?(0,n.DF)(e):(0,n.Q7)(e)}const y=(0,n.I7)(D),v=(0,n.sv)(D),F=(0,n.hE)(D);return P?{...P,pageParams:Object.assign({},{...void 0!==b?{query:b}:{}},{...y?{ncid:y}:{}},{...v?{activity:v}:{}},{...F?{pspid:F}:{}},C(i,h(P,D.name===a.n8z.SETTINGS)),o)}:{}}}},71421:(e,t,s)=>{"use strict";s.d(t,{Bb:()=>E,DV:()=>_,NC:()=>c,S2:()=>l,k1:()=>d});var a=s(31057),n=s(37422),r=s(44908),o=s.n(r);const i=(e=[])=>e.reduce(((e,t)=>{if(![n.F6k.MESSAGES,n.F6k.PINNED_EMAILS].includes((0,a.WN)(t.listId))||void 0===t.folder)return e;const{groupId:s,folder:r,destinationFolder:i={},flags:l=[],isAffected:c}=t,{originalFolderIds:d=[],folderIds:_=[],folderTypes:E=[],flags:u=[]}=e[s]||{};let m,S;return s?(c?(m=i.id?[i.id]:[],S=i.types?[].concat(i.types):[]):(m=[r.id],S=[].concat(r.types)),{...e,[s]:{flags:c?u:u.concat(l),originalFolderIds:o()(d.concat(r.id)),folderIds:o()(_.concat(m)),folderTypes:o()(E.concat(S))}}):e}),{}),l=(e=[],t=[])=>{const s=i(e);return Object.keys(s).filter((e=>{const{folderIds:a=[],folderTypes:r=[]}=s[e];if(t.length)return!a.some((e=>-1!==t.indexOf(e)));return!r.some((e=>-1===[n.Sck.TRASH,n.Sck.BULK].indexOf(e)))}))},c=(e=[],t,s)=>{const r=((e=[])=>e.reduce(((e,t)=>{const{groupId:s,flags:a=[],isAffected:n,folder:r={},destinationFolder:i={}}=t,{originalFolderIds:l=[],folderIds:c=[],folderTypes:d=[],flags:_=[]}=e[s]||{};let E,u;return n?(E=i.id?[i.id]:[],u=i.types?[].concat(i.types):[]):(E=[null==r?void 0:r.id],u=[].concat(null==r?void 0:r.types)),{...e,[s]:{flags:_.concat(a),originalFolderIds:o()(l.concat(null==r?void 0:r.id)),folderIds:o()(c.concat(E)),folderTypes:o()(d.concat(u))}}}),{}))(e),i=(0,a.C4)(t);return i===n.ukn.NEWMAIL&&"unread"===s?Object.keys(r).filter((e=>{const{flags:t=[]}=r[e];return t.some((e=>!e.read))})):i===n.ukn.OLDMAIL&&"read"===s?Object.keys(r).filter((e=>{const{flags:t=[]}=r[e];return t.some((e=>e.read))})):[]},d=(e=[],t,s=[])=>{const n=i(e);return Object.keys(n).filter((e=>{const{flags:r=[]}=n[e];return s.some((e=>(0,a.dV)(t,e)))&&r.every((e=>e.read))}))},_=(e,t)=>{const s=e.path.toLocaleLowerCase(),a=t.path.toLocaleLowerCase(),n=s.split("/"),r=a.split("/"),o=e.path.split("/"),i=t.path.split("/");let l=0,c=0;for(;l<n.length&&c<r.length;){const e=n[l],t=r[c],s=o[l],a=i[c];if(e!==t)return e.localeCompare(t);if(s!==a)return s.localeCompare(a);l++,c++}const d=s.localeCompare(a);return d||(s.localeCompare(a)||s.length-a.length)},E=(e,t,s)=>{const a=Math.floor(s/t),n=[];let r=0,o=0;return e.forEach((e=>{n[r]||(n[r]=[]),n[r].push(e),o++,o%a==0&&(r++,o=0)})),n}},95357:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(50566),n=s(31057),r=s(37422),o=s(78263);const i=e=>{const{getRouteParams:t}=e,{groupId:s}=t();return{groupIds:[s],messageIds:[],csid:""}},l=e=>{const{getRouteParams:t,doesComposeSessionExist:s,getDraftMessageId:a,getAction:n}=e,{csid:r}=t(),o=s(r)?a(r):void 0,i={groupIds:[],messageIds:[],csid:""},l=n();return o?i.messageIds=[o]:l.full&&(i.csid=r),i},c=e=>{const{getAction:t,getRoute:s,isMessageRoute:c,isAttachmentRoute:d,isDraftRoute:_,isComposeRoute:E,doesStreamExist:u,getCursorItem:m,getListsSelectors:S,getMainStreamListIds:p,getSetting:C,isMobileRoute:A,getCurrentListId:T,doesListExist:I,autoDisplayFirstMessageInRoute:h,getSelectedMailboxId:g}=e,O=t(),D={groupIds:[],messageIds:[],csid:""};if(!g())return D;switch(O.type){case a.LAUNCH_COMPLETED:{const{listId:t}=O,{getItemIdsSelectors:s,doesListExist:a}=S();if(c())return i(e);if(E()||_())return l(e);if(!t||!a(t)||(0,n.WN)(t)!==r.F6k.MESSAGES)return D;const{getItemIds:o}=s(t),d=[];return D.groupIds=d.concat(o().slice(0,C(r.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH))),D}case a.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case a.MESSAGE_CARD_EXPANSION_CHANGED:return O.itemsToUpdate?(D.messageIds=O.itemsToUpdate.filter((e=>Boolean(e.messageId))).map((e=>e.messageId||"")),D):D;case a.PREVIEW_MESSAGE_REQUESTED:case a.GET_INVITE_INFO_REQUESTED:case a.MESSAGE_READ_SHOW_IMAGES_REQUESTED:if(O.itemId)D.groupIds=[O.itemId];else if(O.messageIds){const e=[];D.messageIds=e.concat(O.messageIds)}return D;case a.DELETE_PREVIEW_REQUESTED:return O.messageGroupId&&(D.groupIds=[O.messageGroupId]),D;case a.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case a.MESSAGE_PRINT_REQUESTED:return O.messageId&&(D.messageIds=[O.messageId]),D;case a.V3_MESSAGE_SAVE_SUCCEEDED:case a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case a.STREAM_CURSOR_MOVED:case a.ITEM_LIST_PAGE_SCROLLED:return D}if(d())return(e=>{const{getRouteParams:t,doesMessageGroupIdExist:s}=e,{groupId:a}=t();return s(a)?{groupIds:[a],messageIds:[],csid:""}:{groupIds:[],messageIds:[],csid:""}})(e);if(c())return i(e);if(E()||_())return l(e);if(A()&&h(s())){const e=T();if(I(e)){const{getFirstItemIdOfList:t}=S(),s=t(e);return D.groupIds=[s],D}}if(C(r.Zrf.PREVIEW_PANE)===r.EsZ.NO||O.type===a.STREAM_ITEM_TOGGLED)return D;const R=p(s()),N=(0,o.BA)(R);if(N&&u(N)){const e=m(N)||{};if(e.id)switch((0,n.WN)(e.listId)){case r.F6k.MESSAGES:return D.groupIds=[e.id],D;case r.F6k.MESSAGE:return D.messageIds=[e.id],D}}return D}},88552:(e,t,s)=>{"use strict";s.d(t,{DD:()=>c,GZ:()=>C,Kz:()=>T,LF:()=>i,OP:()=>d,SL:()=>A,Sf:()=>l,cg:()=>u,fc:()=>_,uJ:()=>E});var a=s(31057),n=s(48755),r=s(37422),o=s(10728);const i=(e,t,s)=>{const{getSetting:a,isFeatureEnabled:n,getAdsSelectors:o}=t,i=n(r.ANe.ROTATE_PENCIL_AD_ON_EXPIRE),l=a(r.Zrf.PENCIL_AD_EXPIRE_TIME),{getGeminiAds:c,getAdRotationId:d}=o(),_=c(s)||[],E=d();return s?_.filter(((e,t)=>!i||E-e.timestamp<l||t===_.length-1)):[]},l=(e,t,s)=>{const{ads:a}=i(e,t,s)[0]||{};return(a&&a.length>0?a[0]:a)||n.o1},c=(e,t,s)=>{const{ads:a}=i(e,t,s)[0]||{};return(a&&1===a.length&&!a[0].creativeId?a[0]:a)||[]},d=(e,t,s)=>{const{timestamp:a}=i(e,t,s)[0]||{};return a||n.o1.timestamp},_=(e,t,s="")=>{const{getRoute:o,isFeatureEnabled:i,getSetting:c}=t,d=c(r.Zrf.GEMINI_SECTION_IDS),_=o(),E=(0,a.LY)(_),u=l(e,t,s).pencilAd,m=e.searchAds[E],S=_.name===r.n8z.SEARCH;return s===d[r.e$m.MESSAGE_LIST_2]?S?m&&i(r.ANe.SECOND_SEARCH_AD)?i(r.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)?m[0]?m[0].pencilAd:n.o1.pencilAd:m[1]?m[1].pencilAd:n.o1.pencilAd:n.o1.pencilAd:u:m&&m[0]?m[0].pencilAd:u},E=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t;let n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.SHOPPING_CART];a(r.ANe.CROSS_DOMAIN_DPA_ADS)&&(n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.CROSS_DOMAIN_DPA_ADS]);const o=c(e,t,n);return(a(r.ANe.SHOPPING_CART_AD)||a(r.ANe.CROSS_DOMAIN_DPA_ADS))&&o.length?o:[]},u=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t,n=s(r.Zrf.GEMINI_SECTION_IDS)[r.e$m.MESSAGE_READ],o=c(e,t,n);return a(r.ANe.DOMAIN_MATCH_AD)&&o.length?o:[]},m=(e,t,s=!1)=>{let a=0;switch(t){case r._re.LIKED:a=o.$O5;break;case r._re.DELETED:a=o.yAb;break;case r._re.STARTED:a=e?o.L0R:o.Lw9;break;case r._re.SUBMITTED:a=e?o.THM:o.yAb}return s?a+o.eV3:a},S={[r.Ds1.SLIM]:o.BKZ,[r.Ds1.RELAXED]:o.xwf,[r.Ds1.NORMAL]:o.V2F},p=(e,t,s,a=!1)=>a?o.eV3+(s?o.MBf:o.yQx):s?S[t]:e,C=(e,t)=>{const{getSetting:s,getAdsSelectors:n,isFeatureEnabled:o}=e,i=s(r.Zrf.PREVIEW_PANE)===r.EsZ.RIGHT,l=n(),{getAdFeedbackStatus:c}=l,d=c()[t],_=d===r._re.STARTED||d===r._re.SUBMITTED||d===r._re.DELETED||d===r._re.LIKED,E=s(r.Zrf.MSG_LIST_DENSITY),u=s(r.Zrf.LIST_ITEM_HEIGHT,{contentType:r.F6k.MESSAGES}),S=o(r.ANe.TALL_PENCIL_AD),C=(0,a.rA)({listContentType:r.F6k.PENCIL_AD});return{id:[C,r.F6k.PENCIL_AD,t].join("-"),listId:C,sectionId:t,listItemHeight:_?m(i,d,S):p(u,E,i,S)}},A=(e,t)=>{const{isFeatureEnabled:s,isYaiSemanticSearch:n}=e,o=s(r.ANe.BOTTOM_STICKY_PENCIL_AD),i=n(),l=(0,a.LY)(t);return o&&!i?t.name===r.n8z.SEARCH&&!(0,a.rB)(t)&&!(0,a.Qo)(l):!i||!(t.name===r.n8z.SEARCH&&!(0,a.rB)(t))},T=(e,t,s)=>{if(t!==r.F6k.MESSAGES)return!1;const{getSetting:a,getAdsSelectors:n,isFeatureEnabled:o,getMailPremiumFreeTrialSelectors:i}=e,l=a(r.Zrf.GEMINI_SECTION_IDS),c=n(),{getAdFeedbackStatus:d,getPencilAdData:_}=c,E=d(),u=i().getUpsellId();return o(r.ANe.SECOND_PENCIL_AD)&&_(l[r.e$m.MESSAGE_LIST_2]).clickUrl&&(!s||o(r.ANe.SECOND_SEARCH_AD))&&E[l[r.e$m.MESSAGE_LIST_2]]!==r._re.ENDED&&(u!==r.$AH.PRE_SIGNUP_PENCIL_BANNER||u===r.$AH.PRE_SIGNUP_PENCIL_BANNER&&s)}},58468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n,w:()=>r});var a=s(50566);const n=function(e={historyStack:[],activePageIndex:-1},t){switch(t.type){case a.INITIAL_STATE:return{historyStack:[{backIdx:-1,route:t.route}],activePageIndex:0};default:return t.historyState||e}},r=(e={})=>({getActivePageIndex:()=>{const{activePageIndex:t=-1}=e;return t},getHistoryStack:()=>{const{historyStack:t=[]}=e;return t},getCurrentPage:()=>{const{historyStack:t=[],activePageIndex:s=-1}=e;return t.length?t[s]:{}},getPageAtIndex:t=>{const{historyStack:s=[]}=e;return s.length&&t<s.length?s[t]:{}}})},85927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Se,selectors:()=>Ae});var a=s(44908),n=s.n(a),r=s(18446),o=s.n(r),i=s(14890),l=s(22222),c=s(45895),d=s(19822);var _=s(18247),E=s(37422),u=s(62631),m=s(50566),S=s(63352),p=s(17016),C=s(78137),A=s(99691),T=s(40315),I=s(42907),h=s(99839),g=s(31057),O=s(10728),D=s(95406),R=s(3405),N=s(63523),L=s(78263),f=s(57801),M=s(62650),P=s(55426),b=s(77684);const y=(e,t)=>(e=>e.map((e=>e.folderType===E.Sck.DRAFT?{...e,expansionState:E.Lvq.EXPANDED}:{...e,expansionState:E.Lvq.COLLAPSED})))(e).map((e=>e.messageId===t?{...e,expansionState:E.Lvq.EXPANDED}:e)),v=(e,t)=>{const{getMessageFlags:s,isSentFolder:a}=t,n=e.map((({listId:e=null}={})=>e)),r=n.length>0&&n[0]?(0,g.Fh)(n[0]):null,o=(e=>{const{getRouteParams:t,getHashParams:s,getRoute:a}=e,n=t(),r=a(),o=n.attachmentId&&"1"!==r.query.fullscreen,i=s();return o?(0,_.b1)(r.params.attachmentId):i.messageId||null})(t);if(o)return y(e,o);const i=e.filter((e=>e.folderType!==E.Sck.DRAFT)).pop(),l=e.filter((e=>e.messageId)).some((e=>!s(e.messageId).read)),c=e.map((e=>e.folderType===E.Sck.SENT&&r&&a(r)||e.folderType===E.Sck.DRAFT||!s(e.messageId).read||!l&&s(e.messageId).flagged||e.messageId===i.messageId?{...e,expansionState:E.Lvq.EXPANDED}:{...e,expansionState:E.Lvq.COLLAPSED}));return c.map(((e,t)=>{if(e.expansionState===E.Lvq.EXPANDED)return e;const s=t+1<c.length?c[t+1]:void 0;return 0===t||s&&s.expansionState===E.Lvq.EXPANDED?e:{...e,expansionState:E.Lvq.STACKED}}))},F=(0,D.VO)(E.tX8),U=(0,D.VO)(E.AE_),k=[E.Asd.DATE_DESC,E.Asd.DATE_ASC,E.Asd.STARRED,E.Asd.SUBJECT],w=[E.Asd.DATE_DESC,E.Asd.DATE_ASC,E.Asd.UNREAD,E.Asd.STARRED],G=[E.Asd.DATE_DESC,E.Asd.DATE_ASC,E.Asd.UNREAD,E.Asd.STARRED,E.Asd.SENDER,E.Asd.SUBJECT,E.Asd.ATTACHMENT];var H=s(88552);E.RaK,E.eMV;const B=(e,t)=>{const{getRoute:s,getSetting:a,isMobileRoute:n}=e,r=n(),o=s(),i=(0,g.I7)(o),l=a(E.Zrf.MAIL_PLUS_IMPRESSION_URL),c=a(E.Zrf.MAIL_PLUS_CLICK_URL),d=a(E.Zrf.MAIL_PLUS_URL),_=a(E.Zrf.MAIL_PLUS_MOBILE_CLICK_URL);return r?{mailPlusClickUrl:_[t]||d,mailPlusImpressionUrl:""}:i?{mailPlusClickUrl:`${d}?ncid=${encodeURIComponent(i)}`,mailPlusImpressionUrl:l[t]||""}:{mailPlusClickUrl:c[t]||d,mailPlusImpressionUrl:l[t]||""}};var x=s(73498),V=s(53164),Z=s(58468),W=s(83521),K=s(11371),z=s(43852),Y=s(86921),j=s(12680),q=s(82159),X=s(55831),Q=s(51487),J=s(3690),$=s(86056),ee=s.n($),te=s(39058),se=s(92039);const ae=[E.n8z.SUBSCRIPTION_LIST],ne=E.nuI.Status,re=e=>e.url,oe=e=>e.params,ie=e=>-1!==e.url.indexOf("/search/"),le=e=>"/m/"===e.url.substr(0,3),ce=e=>-1!==e.url.indexOf("/edit/"),de=e=>-1!==e.url.indexOf("/compose/"),_e=e=>e.name===E.n8z.FOLDER,Ee=e=>((0,S.Z)(e&&void 0!==e.url,"isMessageRoute: route.url does not exist",e||{url:"undefined"}),-1!==e.url.indexOf("/messages/")),ue=(e,t)=>{const s=[E.Asd.DATE_DESC,E.Asd.DATE_ASC].indexOf(e)>=0;return t>=4&&s},me=({list:e,timePredicates:t,sortOrder:s=E.Asd.DATE_ASC})=>{if(!ue(s,e.length))return e;const{list:a,isGroupedList:n}=(0,P.sD)(e,t);return n?(0,P.jD)(a):a},Se=K.ZP,pe=((e={})=>(t,s,a,n)=>r=>{const o=s(),i=((t,s)=>(e[t]||(e[t]=(0,l.createSelector)(s,(()=>({})))),e[t]))(t,a)(r);return i[o]||(i[o]=n(...a.map((e=>e(r))))),i[o]})({}),Ce=e=>{let t=c.cA.NARROW;return e<c.u3.MIN_WIDTH_FOR_TWO_COLUMNS?t=c.cA.FLEXIBLE:e>=c.u3.WIDE_MESSAGE_LIST&&(t=c.cA.WIDE),t},Ae=(0,l.createSelector)((e=>e),(e=>{const t=K.ww,s=(0,l.createSelector)(t.mailboxes,t.folders,((e,t)=>{(0,S.Z)(t,"getRootAccountsWithDefaultFolder: foldersSelectors is not available");const s=e.getAccountsSelectors().getRootAccounts(),{doesFolderIdExist:a,getFolderUnreadCount:n,getFolderIdsFromFolderType:r}=t;return s.map((e=>{const t=r(E.Sck.INBOX,e.id)[0];return{...e,defaultFolder:{id:t,unread:a(t)?n(t):0}}}))})),a={getDesignClassifierDimensions:()=>{const{clientWidth:e,clientHeight:t,screenWidth:s,screenHeight:n}=a.getEnvironmentSelectors().getWindowDimensions(),r=a.getRouterSelectors().getRoute(),o=r&&r.name,i=e&&n?((e,t,s,a)=>{let n=a;return e>t&&s<a&&(n=s),n<c.u3.MIN_HEIGHT_FOR_TWO_COLUMNS||e<c.u3.MIN_WIDTH_FOR_TWO_COLUMNS?1:2})(e,t,s,n):1;return{clientWidth:e,clientHeight:t,orientation:(l=e,d=t,l>d?E.hym.LANDSCAPE:E.hym.PORTRAIT),columns:i,messageListWidth:i>1&&!ae.includes(o)?Ce(e):c.cA.FLEXIBLE,sidebarWidth:i>1||o===E.n8z.SUBSCRIPTION_LIST?Ce(e):c.cA.FLEXIBLE,isDetailPaneExpanded:a.isDetailPaneExpanded()};var l,d},shouldShowTwoColumnInRoute:()=>{const e=a.getRoute(),t=e&&e.name;return!t||!ae.includes(t)},isDetailPaneExpanded:()=>t.designClassifier(e).isDetailPaneExpanded(),getOrientation:()=>a.getDesignClassifierDimensions().orientation,getPrescribedNumberOfColumns:()=>a.getDesignClassifierDimensions().columns,getPrescribedMessageListWidth:()=>a.getDesignClassifierDimensions().messageListWidth,getPrescribedSidebarWidth:()=>a.getDesignClassifierDimensions().sidebarWidth,getAction:()=>t.action(e),getActionTimeStamp:()=>a.getAction().actionTimestamp,isWindowResizingDone:()=>a.getAction().type===m.WINDOW_RESIZING,getFeaturesSelectors:()=>t.features(e)(a),getSenderRollupSelectors:()=>t.senderRollup(e),getComposeFormatsSelectors:()=>t.composeFormats(e),getComposeFormat:e=>a.getComposeFormatsSelectors().getComposeFormat(e),getCompactComposeSessions:()=>{const{getAllComposeFormats:e,getComposeFormatById:t}=a.getComposeFormatsSelectors();return e().map((e=>{const{format:s,...a}=t(e)||{};return{...a,isMinimized:s===E.UeM.MINIMIZED}}))},canOpenNewComposeSession:()=>{const{getRoute:e,isFreshCompose:t,getComposeFormatsSelectors:s,doesComposeSessionExist:n}=a,r=e(),o=[].concat(s().getAllComposeFormats());return E.n8z.EDIT_DRAFT!==r.name&&E.n8z.NEW_DRAFT!==r.name||o.push((0,R.uo)(r)),!o.length||!o.some((e=>n(e)&&t(e)))},isSendConfirmationEnabled:()=>{const{isFeatureEnabled:e,getSetting:t}=a;return e(E.ANe.SEND_CONFIRMATION)&&t(E.Zrf.SHOW_SEND_CONFIRMATION_PAGE)},isFeatureEnabled:e=>pe("isFeatureEnabled",(()=>e),[e=>e],(()=>a.getFeaturesSelectors().isEnabled(e)))(a),getSetting:e=>pe("getSetting",(()=>e),[e=>e],(()=>a.getFeaturesSelectors().getSetting(e)))(a),getDefaultSetting:e=>a.getFeaturesSelectors().getDefaultSetting(e),getAdsSelectors:()=>t.ads(e)(a),getPrintItemsSelectors:()=>t.printItems(e),getAddFilterSelectors:()=>t.addFilter(e),getReplySuggestionSelectors:()=>t.replySuggestions(e),getItemToPrint:()=>a.getPrintItemsSelectors().getItemToPrint(),getUnsyncedDataSelectors:()=>t.unsyncedData(e),getReconciledUnsyncedData:()=>pe("getReconciledUnsyncedData",(()=>"RECONCILE_UNSYNCED_DATA_CACHE"),[e=>e],(()=>a.getUnsyncedDataSelectors().getReconciledUnsyncedData(a)))(a),getUnsyncedDataToSync:(e=Date.now())=>a.getUnsyncedDataSelectors().getUnsyncedDataToSync(a,e),getReconciledUnysncedDataByHash:e=>a.getReconciledUnsyncedData().find((t=>t.hash===e)),getRequestHashForUnsyncedDataItem:e=>`${e.type}-${e.hash}`,getUnsyncedDataToSyncByRequestHash:(e,t)=>{const{getRequestHashForUnsyncedDataItem:s,getUnsyncedDataToSync:n}=a;return n(t).find((t=>s(t)===e))},getOnlineSelectors:()=>t.online(e),isOnline:()=>a.getOnlineSelectors().isOnline(),getContentProviders:()=>t.contentProviders(e),getSupportedEmailProviders:({excludePrimary:e=!1}={})=>{const{getEnvironmentSelectors:t,getPrimaryAccountId:s,getProviderFromAccount:n,isFeatureEnabled:r}=a,o=t().getPartner();let i=[...E.NdR];if(e||o){const e=n(s());i=i.filter((t=>t!==e))}return r(E.ANe.OFFICE365)||(i=i.filter((e=>e!==E.zoT.OFFICE365))),i},getListsSelectors:()=>t.lists(e),doesListExist:e=>a.getListsSelectors().doesListExist(e),doesListHasMoreItems:e=>a.getListsSelectors().hasMoreItems(e),getListStatus:e=>a.getListsSelectors().getListStatus(e),doesListItemExist:(e,t)=>a.getListsSelectors().doesListItemExist(e,t),getListItemIdIndex:(e,t)=>a.getListsSelectors().getListItemIdIndex(e,t),shouldFetchMoreItems:(e,t)=>{const{getFeaturesSelectors:s,getListsSelectors:n,getListItemIds:r,doesListHasMoreItems:o}=a,{getListItemIdIndex:i,doesListExist:l}=n(),c=s().getSetting("messageScrollLoadThreshold"),d=i(e,t),_=l(e)?r(e):[],E=l(e)&&o(e),u=_.length-d;return E&&u<=c},getPreviousListItemId:(e,t)=>a.getListsSelectors().getPreviousListItemId(e,t),getNextListItemId:(e,t)=>a.getListsSelectors().getNextListItemId(e,t),isListEmpty:e=>a.getListsSelectors().isListEmpty(e),isListStale:e=>a.getReconciledUnsyncedData().some((t=>t.type===E.sKi.LIST_TO_UPDATE&&t.userInputtedValues.listId===e&&t.userInputtedValues.isStale)),getListLmv3Query:e=>a.getListsSelectors().getLmv3Query(e),getListSuggestedWords:e=>a.getListsSelectors().getSuggestedWords(e),getAllItemsCountForListId:e=>{const{getListsSelectors:t,doesListExist:s,getListLmv3Query:n,doesFolderIdExist:r,getFolderTotal:o}=a,{getTotalHits:i}=t(),l=(0,g.Fh)(e);return s(e)&&n(e)?i(e):l&&r(l)&&o(l)||null},getStreamsSelectors:()=>t.streams(e),getFoldersSelectors:()=>t.folders(e),getMessageGroupsSelectors:()=>t.messageGroups(e),getCardGroupsSelectors:()=>t.cardGroups(e)(a),getCardMessageToSchemasSelectors:()=>t.cardMessageToSchemas(e),getFlightsSelectors:()=>t.flights(e),getItemIdsSelectors:e=>a.getListsSelectors().getItemIdsSelectors(e),getListItemIds:e=>a.getItemIdsSelectors(e).getItemIds(),getPeopleListItems:e=>a.getListItemIds(e).map(a.getContactListSelectors().getContactById),getMessageTimestamp:e=>a.getMessagesSelectors().getTimeStamp(e),getMessageListItems:e=>{const{getSetting:t}=a,s=(0,g.WN)(e);let n=t(E.Zrf.LIST_ITEM_HEIGHT,{contentType:s});return pe("getMessageListItems",(()=>`${e}-${n}`),[e=>e.getListsSelectors(),e=>e.getMessagesSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageGroupsSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:t,getFoldersSelectors:r,getMessagesSelectors:o,getListsSelectors:i,getCardGroupsSelectors:l,getMessageFolderId:c,getFeaturesSelectors:d,isFeatureEnabled:u}=a,{getMessageIdsFromCardGroupId:m}=l(),{getPrimaryFolderTypeByFolderId:S,doesFolderIdExist:p}=r(),{getTimeStamp:C,getSchemaOrg:A,getDecos:T}=o(),{getItemIdsSelectors:I}=i(),{getSetting:h}=d(),{getItemIds:O}=I(e),D=(0,g.Fh)(e);return O().reduce(((a,r)=>{const o=s===E.F6k.TRAVEL_CARDS?m(r):t(r,e),i=[],l=[],d=T(o[0]),I=u(E.ANe.UNUSUAL_DISCOUNT)&&(0,X.m3)(d,E.Jd6.XDL);let g=!1;o.forEach((e=>{const t=c(e);if(!p(t))return;S(t)!==E.Sck.DRAFT?i.push(e):l.push(e);const s=A(e);u(E.ANe.TAX_SEASON_MESSAGE_TAG)&&(g=(0,_.EK)({schemas:s}))})),n=h(E.Zrf.LIST_ITEM_HEIGHT,{contentType:s,isMessageTag:g||I});let O=D&&S(D)===E.Sck.DRAFT?l:i;0===O.length&&(O=o);const R=O[O.length-1],N=0===i.length?o[0]:i[0],L=[...O].reverse().find((e=>c(e)===D))||R;return void 0===L?a:[...a,{id:r,listId:e,firstMessageId:N,relevantMessageId:L,recentMessageId:R,listItemHeight:n,timestamp:1e3*C(L)}]}),[])}))(a)},getSystemFolderListWithSmartView:t=>pe("getSystemFolderListWithSmartView",(()=>t),[e=>e],(()=>{const s=a.isInboxStyleNewOldMail(),{getFoldersSelectors:n,getEnvironmentSelectors:r}=a,{getPartner:o}=r(),{isSystemFolder:i,getPrimaryFolderTypeByFolderId:l,getFolderName:c}=n(),d=e.folders,_=Object.keys(d).filter((e=>{const a=d[e].accountId===t,n=i(e),r=l(e);return a&&n&&!(s&&r===E.Sck.INBOX)&&(o()!==E.Ql2.AOL||r!==E.Sck.ARCHIVE)})).map((e=>({id:e,type:l(e),kind:"folder",name:c(e),level:0}))),u=Object.keys(I.Z_).filter((e=>s?e!==E.K8C.UNREAD:e!==E.K8C.OLDMAIL&&e!==E.K8C.NEWMAIL)).map((e=>({id:e,type:e,kind:"smartview",name:e,level:0})));return _.concat(u).sort(((e,t)=>I.p4[e.type]-I.p4[t.type]))}))(a),getCustomFolderList:e=>pe("getCustomFolderList",(()=>e),[e=>e.getFoldersSelectors()],(t=>t.getCustomFolderList(e)))(a),getSystemFolderListForDisplaying:e=>{const{getFoldersSelectors:t,getEnvironmentSelectors:s}=a,{getPartner:n}=s();return t().getSystemFolderListForDisplaying(e,n())},getCustomFolderListForDisplaying:e=>pe("getCustomFolderListForDisplaying",(()=>e),[e=>e.getFoldersSelectors(),e=>e.getEnvironmentSelectors()],((t,s)=>{const{getPartner:a}=s;return t.getCustomFolderListForDisplaying(e,a())}))(a),getAttachmentListItems:e=>{const{getAttachmentsSelectors:t,getFeaturesSelectors:s,getListsSelectors:n,isFeatureEnabled:r,getMessageIdForAttachmentId:o}=a,{getSetting:i}=s(),{getTimeStamp:l,getAttachmentById:c}=t(),{getItemIdsSelectors:d}=n(),{getItemIds:_}=d(e),u=(0,g.WN)(e),m=i(E.Zrf.LIST_ITEM_HEIGHT,{contentType:u}),S=r(E.ANe.CONVERSATIONS);return _().map((t=>{const s=c(t),a=o(t);let n=!0;return(u===E.F6k.IMAGES&&s.isExternal||u===E.F6k.DOCUMENTS&&!(0,A.M)(s))&&(n=!1),{id:t,listId:e,listItemHeight:m,timestamp:l(t),messageId:a,messageGroupId:S?s.conversationId:a,previewable:n,downloadUrl:s.downloadUrl}}))},getMessageListItemsSinceTimestamp:(e,t)=>(0,g.WN)(e)!==E.F6k.MESSAGES?[]:a.getMessageListItems(e).filter((e=>e.timestamp>=t)),canPlayNewMailNotifcationSound:()=>{const{getAction:e,getSetting:t,isFeatureEnabled:s}=a,{type:n}=e(),r=t(E.Zrf.PLAY_SOUND),o=s(E.ANe.ENABLE_PLAY_SOUND);return!(n!==m.CHECK_MAIL_RECEIVED_WITH_UPDATES||!o||!r)},canPlayYGMNotifcationSound:()=>{const{getAction:e,getSetting:t,isFeatureEnabled:s,getDefaultFolderIdForSelectedAccount:n,getFoldersSelectors:r}=a,{type:o}=e(),i=t(E.Zrf.PLAY_SOUND_MODE),l=s(E.ANe.ENABLE_PLAY_SOUND_MODE);if(o!==m.POST_LAUNCH_SYNC_SUCCEEDED||!l||i<0)return!1;const c=n(),d=r().getFolderUnreadCount(c);return!!c&&d>0},getRefundSelectors:()=>({getRefundCardsForCardConversationId:e=>{const{getCardGroupsSelectors:t,getCardMessageToSchemasSelectors:s,getReceiptSelectors:n}=a,{getMessageIdsFromCardGroupId:r}=t(),o=r(e)||[],{getSchemas:i}=s();return o.map((e=>{const t=(i(e)||[]).filter((({type:e})=>e===E.rgK.Order));return t.length?{cmid:e,price:n().getPrice(t[0].id),potentialSavings:n().getPotentialSavings(t[0].id),itemName:n().getFirstItemName(t[0].id),orderDate:n().getOrderDate(t[0].id),currency:n().getCurrency(t[0].id)}:{}}))}}),getReceiptSelectors:()=>t.receipts(e),getPlaAdsSelectors:()=>({getPlaAdDataForCurrentRoute:()=>{const{getAdsSelectors:e,getRoute:t}=a,s=t(),n=(0,g.LY)(s);return e().getPlaAdData(n)}}),getMailPremiumFreeTrialSelectors:()=>t.mailPremiumFreeTrial(e)(a),isMailPlusTrialEligible:()=>{const{isFeatureEnabled:e,getMailPremiumFreeTrialSelectors:t}=a,{hasCrossDeviceMailPlusInSubsList:s}=t();return!e(E.ANe.MAIL_PRO)&&!s()},getMailPlusInstrumentationUrls:e=>B(a,e),getCardConversationIdByMessageId:e=>a.getMessagesSelectors().getCardConversationId(e),getStorefrontBrandsSelectors:()=>t.storefrontBrands(e),getProductRecommendationsSelectors:()=>t.productRecommendations(e),getPackageTrackingSelectors:()=>t.packageTracking(e),getCategoryFollowingSelectors:()=>t.categoryFollowing(e),getRootCouponSelectors:()=>t.deals(e),getRightRailCommerceCards:()=>{const{getProductRecommendationsSelectors:e,getCouponsSelectors:t,getSetting:s}=a,n=e().getJediRightRailProductRecommendations().filter((e=>e.imageUrl)),r=t().getJediRightRailDeals().filter((e=>e.imageUrl)),o=s(E.Zrf.RIGHT_RAIL_CARDS_LIMIT),i=new Map;n.forEach((e=>{const t=e.brandName;i.has(t)?i.get(t).push(e):i.set(t,[e])}));const l=[];for(let a=0;a<Math.min(o,n.length);a++){const e=Array.from(i.keys()),t=e[Math.floor(Math.random()*e.length)];l.push(i.get(t)[0]),1===i.get(t).length?i.delete(t):i.get(t).splice(0,1)}return[...l,...r].slice(0,o)},getCouponsSelectors:()=>({getCouponExpirationTime:(s,a=new Date)=>{const n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())),r=t.deals(e).getValidThroughDate(s),o=t.deals(e).isInferredDate(s),i=new Date(r);return i.setUTCHours(23),i.setUTCMinutes(59),i.setUTCSeconds(59),{date:i.getDate(),month:i.getMonth(),dateDiff:Math.floor((i.getTime()-n.getTime())/864e5),timestamp:i.getTime(),isInferred:o}},getCouponCardsForCardConversationId:(e,t=new Date)=>{const{getParentMessageIdForCardConversationId:s,getParentConversationIdForCardConversationId:n}=a.getMessagesSelectors(),{isFeatureEnabled:r,getCategoryFollowingSelectors:o}=a,i=r(E.ANe.CONVERSATIONS)?n:s,{doesDealExist:l,getDealFromCmid:c,getCouponExpirationTime:d,getRetailer:_}=a.getCouponsSelectors(),{isCategoryFollowed:u}=o();return(a.getCardGroupsSelectors().getMessageIdsFromCardGroupId(e)||[]).filter((e=>l(e))).map((a=>{const n=c(a),r=i(e),{name:o,email:l}=n.from,{from:E,validThrough:u,isInferredDate:m,cardConversationId:S,...p}=n,C=_(a);return{...p,domain:o,email:l,parentMessageGroupId:r,parentMessageId:s(e),expirationTime:d(a,t),retailer:C}})).filter((e=>e&&(e.expirationTime.isInferred||e.expirationTime.dateDiff>=0)&&e.email&&e.domain&&e.description)).sort(((e,t)=>{let s=(t.categories||[]).filter((e=>u(e.id))).length-(e.categories||[]).filter((e=>u(e.id))).length;const a="Great Savings";var n,r;(0===s&&e.unusualDiscount!==t.unusualDiscount&&(t.unusualDiscount===a?s=1:e.unusualDiscount===a&&(s=-1)),0===s&&e.saved!==t.saved&&(s=t.saved?1:-1),0===s)&&(s=((null===(n=e.expirationTime)||void 0===n?void 0:n.timestamp)||0)-((null===(r=t.expirationTime)||void 0===r?void 0:r.timestamp)||0));return s}))},getCouponCardStreamItems:e=>pe("getCouponCardStreamItems",(()=>e),[e=>e.getRootCouponSelectors(),e=>e.getMessagesSelectors()],(()=>{const{getCouponsSelectors:t,isFeatureEnabled:s,getMessagesSelectors:n,getListsSelectors:r}=a,{doesDealExist:o,getCouponExpirationTime:i,getDealLink:l,getDescription:c,getFromAddress:d,isSavedDeal:_,getCardConversationId:u,getImageUrl:m}=t(),{getParentMessageIdForCardConversationId:S,getParentConversationIdForCardConversationId:p}=n(),C=s(E.ANe.CONVERSATIONS)?p:S,A=s(E.ANe.AFFILIATE_PARTNER);return r().getItemIdsSelectors(e).getItemIds().filter((e=>o(e))).reduce(((t,s)=>{const{name:a="",email:n=""}=d(s),r=_(s),o=c(s),{dateDiff:E,isInferred:S,timestamp:p}=i(s),T=l(s),I=u(s),h=C(I),g=m(s);return(S||E>=0)&&t.push({id:e+s,timestamp:p,fromEmail:n,fromName:a,saved:r,description:o,daysUntilExpiry:E,isInferredDate:S,cardMid:s,cardConversationId:I,listId:e,dealLink:T,isAffiliatePartnerEnabled:A,imageUrl:g,groupId:h}),t}),[])}))(a),getNumberOfUnexpiredCoupons:(e,t)=>{const{getCardConversationId:s}=a.getMessagesSelectors(),{getCouponCardsForCardConversationId:n}=a.getCouponsSelectors();return(0,i.compose)((e=>e.length),(e=>n(e,t)),s)(e)},isSingleCouponParentMessageId:(e,t=new Date)=>!!e&&1===a.getCouponsSelectors().getNumberOfUnexpiredCoupons(e,t),getCouponRecommendations:(e="")=>{const{getListsSelectors:t}=a,{doesListExist:s}=t(),n=(0,g.H7)({referrer:E.qd8.COUPON_RECOMMENDATIONS,keyword:e});if(!s(n))return[];const{getItemIdsSelectors:r}=t();return r(n).getItemIds()||[]},getCouponCategoriesForMessageGroup:(t="")=>{const{getGroupId:s,doesMessageGroupIdExist:n,getCardConversationIdsFromMessageGroupId:r,getCardMessageToSchemasSelectors:o,getCardGroupsSelectors:i,getCategoryFollowingSelectors:l}=a,{getSchemas:c}=o(),{getMessageIdsFromCardGroupId:d}=i(),{isCategoryFollowed:_}=l(),u=[];let m={};if(""===t&&(t=s()),!t||!n(t))return u;const S=r(t),p=d(S.length&&S[0])||[];if(!p.length)return u;p.forEach((t=>{const s=(c(t)||[]).filter((({type:e})=>e===E.rgK.Coupon));let a=[];s.length&&(a=(0,V.w)(e.deals).getCouponCategory(s[0].id)),a&&a.length&&(m=a.reduce(((e,t)=>({...e,[t.id]:t})),m))}));const C=(0,D.VO)(m);return C.length>1&&C.sort(((e,t)=>(_(t.id)?1:0)-(_(e.id)?1:0)||t.level-e.level)),C},emailHasCoupons:()=>{const{getRoute:e,isFeatureEnabled:t,getGroupId:s,__patchV2MessageGroupItemId__:n,doesMessageGroupIdExist:r}=a,o=s(),i=(0,g.LY)(e());if(!o||!r(o,i))return!1;const l=n(o,i);return t(E.ANe.DEALS)&&l.messages[0].decos.some((e=>e&&"CPN"===e.id))},getCouponCardFromCardMessageId:(t,s)=>{const{getCouponsSelectors:n}=a,{getCouponExpirationTime:r,getImageUrl:o,doesDealExist:i}=n();if(!t||!i(t))return{};const l=(0,V.w)(e.deals).getCouponCategory(t)||[],c=o(t)||"",{name:d,email:_}=(0,V.w)(e.deals).getFromAddress(t);return{cmid:t,saved:(0,V.w)(e.deals).isSavedDeal(t),description:(0,V.w)(e.deals).getDescription(t),email:_,domain:d,categories:l,expirationTime:r(t,s),dealLink:(0,V.w)(e.deals).getDealLink(t),unusualDiscount:(0,V.w)(e.deals).getUnusualDiscount(t),imageUrl:c}},...t.deals(e)}),getComposeSessionsSelectors:()=>t.composeSessions(e),getAttachmentsSelectors:()=>t.attachments(e),getInlineImagesAttachmentsSelectors:()=>t.inlineImagesAttachments(e),getMailActionTimeDetails:()=>t.mailActionTimeData(e).getMailActionTimeData(),getMailActionFirstEmailOpened:()=>t.mailActionTimeData(e).getFirstEmailOpenedTime(),getMessageToAttachmentsSelectors:()=>t.messageToAttachments(e),getSubjectsAndSnippetsSelectors:()=>t.subjectsAndSnippets(e),getMessagesSelectors:()=>t.messages(e),getMessagesFlagSelectors:()=>t.messagesFlags(e),getMessagesFolderIdSelectors:()=>t.messagesFolderId(e),getMessageBodiesSelectors:()=>t.messageBodies(e),getSearchSuggestionSelectors:()=>t.searchSuggestions(e),getDocumentSelectors:()=>t.documents(e),isDocumentLoaded:e=>a.getDocumentSelectors().isDocumentLoaded(e),isDocumentPageLoaded:(e,t)=>a.getDocumentSelectors().isPageLoaded(e,t),getDocumentRetryCount:(e,t,s)=>a.getDocumentSelectors().getRetryCount(e,t,s),getRouterSelectors:()=>t.router(e),getPagesSelectors:()=>t.pages(e),getSmartViewPages:()=>{const e=a.getSelectedAccountIdByRoute(a.getRoute());return(a.getSetting(E.Zrf.SYSTEM_TABS)||[]).filter((e=>!!e.status)).map((t=>{const s=a.getSmartViewPageByType(t.name);return s?t.name===E.K8C.COUPONS&&s.name===E.n8z.SEARCH?s:a.normalizeRoute((0,R.dM)((0,g.LY)(s),{accountIds:e})):a.normalizeRoute((0,R.jK)(t.name,{accountIds:e,excludefolders:a.isFeatureEnabled(E.ANe.CONVERSATIONS)?[E.Sck.TRASH,E.Sck.BULK]:[E.Sck.TRASH,E.Sck.BULK,E.Sck.DRAFT,E.Sck.SENT]}))}))},getSmartViewTypeFromListId:e=>{const t=(0,g.aY)(e);return Object.keys(E.v6P).find((e=>E.v6P[e]===t))},getSmartViewTypeFromRoute:e=>{switch(e.name){case E.n8z.TUTORIAL:return E.K8C.TUTORIAL;case E.n8z.CONTACTS:return E.K8C.CONTACTS_FULL_PANE}return a.getSmartViewTypeFromListId((0,g.LY)(e))},getDefaultFolderRoute:(e="",t=E.Asd.DATE_DESC)=>{const{getFolderIdsByFolderTypeForAccount:s,getSelectedAccountIdByRoute:n,getAccountSelectors:r,isInboxStyleNewOldMail:o,getAccountIdByFolderId:i,getRouterSelectors:l,getRoutesInfo:c,doesFolderIdExist:d,isFeatureEnabled:_,getSetting:u}=a,{getAccountById:m,getSelectedAccountId:p}=r(),C=l().getRoute(),A=(0,R.VP)(C);let T,I;if(e&&d(e))T=e,I=i(T);else{const e=n(C);I=m(e)?e:p(),T=s(E.Sck.INBOX,I)[0]}if(o())return(0,R.w2)(c(),(0,R.jK)(E.K8C.NEWMAIL,{accountIds:[I],folders:[T]}),A);if(_(E.ANe.PRIORITY_INBOX_ENABLED)){const e=u(E.Zrf.PRIORITY_INBOX_TABS);return(0,S.Z)(e.length>0,"Priority inbox tabs config should not be empty"),(0,R.w2)(c(),(0,R.Ye)(e[0],T,{sortOrder:t}),A)}return(0,R.w2)(c(),(0,R.i5)(T,t),A)},getFolderRouteForFolderId:(e="1",t=E.Asd.DATE_DESC)=>{const{getPrimaryFolderTypeByFolderId:s,getDefaultFolderRoute:n,doesFolderIdExist:r}=a;return r(e)&&s(e)!==E.Sck.INBOX?(0,R.i5)(e,t):n(e,t)},isShoppingSmartViewEnabled:()=>{const{isFeatureEnabled:e}=a;return e(E.ANe.SMARTVIEW_CATEGORIES_SHOPPING)||e(E.ANe.SMARTVIEW_CATEGORIES_IN_TABS)},getSmartViewPosition:e=>{const{isShoppingSmartViewEnabled:t}=a;return e===E.K8C.COUPONS?t()?E.sDs.TAB_BAR:E.sDs.SIDE_BAR:E.uXt.indexOf(e)>-1?E.sDs.SIDE_BAR:E.qwE.indexOf(e)>-1?E.sDs.TAB_BAR:void 0},getMaxTabCounts:()=>{const{getSetting:e}=a;return e(E.Zrf.MAIL_TABS)?E.$WX:E.i9C},isDraftGroup:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return t&&t.some((e=>a.doesMessageIdHasFolderId(e)&&a.isDraftMessage(e)))},doesGroupHasStaleMessageId:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return t&&t.some((e=>!a.doesMessageIdHasFolderId(e)))},getTabPages:()=>pe("getTabPages",(()=>"tabs"),[e=>e.getRoute(),e=>e.getSelectedAccountIdByRoute(e.getRoute()),e=>e.getPagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.isFeatureEnabled(E.ANe.SHOW_TABS),e=>e.isFeatureEnabled(E.ANe.SMARTVIEW_CATEGORIES_ENABLED),e=>e.getSetting(E.Zrf.SYSTEM_TABS)],(()=>{const{isFeatureEnabled:e,getSmartViewPages:t,getDefaultFolderRoute:s,doesRouteContainFailure:n,getPages:r,getSmartViewPosition:o,getSmartViewTypeFromRoute:i,getSelectedAccountIdByRoute:l,getRoute:c,normalizeRoute:d}=a;let _=r();const u=e(E.ANe.SHOW_TABS),m=e(E.ANe.SMARTVIEW_CATEGORIES_ENABLED),S=l(c());if(m){const e=t()||[],[a,...r]=_.reduce(((e,t)=>{const s=(0,g.zu)(t)&&!(0,g.rB)(t)?i(t):null;return s&&s!==E.K8C.TUTORIAL?o(s)===E.sDs.SIDE_BAR&&(s===E.K8C.COUPONS&&t.name===E.n8z.SEARCH?e.push(t):e.push(d((0,R.dM)((0,g.LY)(t),{accountIds:S})))):e.push(t),e}),[]),l=r.findIndex((e=>(0,g.rB)(e)));if(l>-1)_=[...r.splice(l,1),...e,...(0,R.mH)(r,n)];else{const t=s();_=a?_e(a)||(0,g.rB)(a)||(0,g.kC)(a)?[a,...e,...(0,R.mH)(r,n)]:[t,...e,...(0,R.mH)([a,...r],n)]:[t,...e,...(0,R.mH)(r,n)]}}return u||(_=_.filter((e=>m&&(_e(e)||e.name===E.n8z.TUTORIAL||(0,g.zu)(e)&&i(e)||(0,g.rB)(e))||n(e)))),_}))(a),getPages:()=>a.getPagesSelectors().getPages().filter((e=>(0,R.Vu)(a.reconcileRoute(e),e))),doesRouteContainFailure:e=>pe("doesRouteContainFailure",(()=>e),[e=>e.getPages(),e=>e.getMessagesSelectors(),e=>e.getComposeSessionsSelectors()],(()=>{const{getComposeSessionsSelectors:t,isFeatureEnabled:s,getMessageGroupStreamItems:n,doesMessageGroupIdExist:r}=a,{isSendFailed:o,doesComposeSessionExist:i}=t(),l=s(E.ANe.CONVERSATIONS)&&Ee(e)||ce(e)||de(e),c=e=>e&&i(e)&&o(e);if(l){const{params:{csid:t,groupId:s}}=e,a=(0,g.LY)(e);return s&&r(s,a)?n({id:s,listId:a}).some((({csid:e})=>c(e))):c(t)}return!1}))(a),doesPageExist:e=>a.getPagesSelectors().doesPageExist(e),getSmartViewPageByType:e=>a.getPagesSelectors().getPages().find((t=>(0,g.zu)(t)&&a.getSmartViewTypeFromRoute(t)===e)),getSettingsPageRoute:()=>a.getPagesSelectors().getSettingsPageRoute(),getFolderPageRoute:()=>a.getPagesSelectors().getFolderPageRoute(),getSortOrderForFolderRoute:()=>{const e=a.getFolderPageRoute();return e?(0,g.WW)((0,g.LY)(e)):E.Asd.DATE_DESC},getRoutesInfo:()=>(0,R.oS)({appName:a.getAppName(),routesConfig:a.getRouterSelectors().getRoutesConfig()}),getPreviousRoute:()=>a.getRouterSelectors().getRoute(),getRoute:()=>a.reconcileRoute(a.getRouterSelectors().getRoute()),isAttPreviewFromCompose:(e,t)=>{if(!t)return!1;const{getFoldersSelectors:s,getMessageCsid:n,doesComposeSessionExist:r,doesMessageIdExist:o}=a,{getPrimaryFolderTypeByFolderId:i}=s(),l=(0,g.Fh)(e);if(!l||i(l)!==E.Sck.DRAFT)return!1;const c=(0,_.b1)(t);if(!c||!o(c))return!1;return!!r(n(c))},reconcileRoute:(e,t=!1)=>{const{getReconciledValidPage:s}=a;if(e){const a=s(e,t);return a?a.route:e}return e},getReconciledValidPage:(e,t=!1)=>{const{getReconciledPage:s}=a;let n,r=s(e,t);for(;r&&Object.keys(r).length&&!o()(n,r);)n=r,r=s(n.route,t);return n},getReconciledPage:(t,s=!1)=>pe("getReconciledPage",(()=>`${t.url}-${s}`),[e=>e],(()=>{const{getFolderPageRoute:n,getAction:r,isValidListMessageGroup:o,getRoutesInfo:i,getSetting:l,isListEmpty:c,doesListExist:d,doesFolderIdExist:_,doesMessageGroupIdExist:u,getSelectedAccountIdByRoute:S,getFolderIdsByFolderTypeForAccount:p,getPrescribedNumberOfColumns:C,getSelectedMailboxId:A,hasSelectedStreamItems:T,doesComposeSessionExist:I,isSent:h,doesPageExist:O,doesStreamExist:D,isMessageGroupLoading:N,isSpamFolder:f,isSendRequested:M,getSmartViewPageByType:P,getSmartViewTypeFromListId:b,isAttPreviewFromCompose:y,createPageForRoute:v,getFallbackPageForRoute:F,getContactListSelectors:U,getAccountIdByFolderId:k,getAccountSelectors:w,getAdListItemsSelectors:G,getListItemIds:H,getDefaultFolderRoute:B,getFolderRouteForFolderId:x,getPrimaryFolderTypeByFolderId:V,isInboxStyleNewOldMail:W,getAdsSelectors:K,isFeatureEnabled:z,isSendConfirmationEnabled:Y}=a,{getAccountById:j,getSelectedAccountId:q}=w(),{getCurrentPage:X,getPageAtIndex:Q}=(0,Z.w)(e.history),J=(0,R.VP)(t),$=r(),ee=n();if(A()&&($.type!==m.OPEN_PAGE_REQUESTED||!(0,R.Vu)($.route,t))&&($.type!==m.POP_OUT_COMPOSE||-1!==[E.n8z.NEW_DRAFT,E.n8z.EDIT_DRAFT].indexOf(t.name))){if(!z(E.ANe.SMARTVIEWS)&&(0,g.cn)($.route))return v((0,R.w2)(i(),B(),J));if($.type===m.SEARCH_LIST_ITEMS_RECEIVED&&$.navigateFromToAll){return v((0,R.w2)(i(),(0,R.dM)((0,g.tE)($.listId,{listFilter:E.ukn.ALL})),J),0)}if($.type===m.CONTACT_EDIT_CANCELLED||$.type===m.CONTACT_SAVE_REQUESTED){let e;if(t.name===E.n8z.EDIT_CONTACT_FROM_SEARCH?e=(0,R.w2)(i(),(0,R.P)((0,g.LY)(t),t.params.id),J):t.name===E.n8z.EDIT_CONTACT?e=(0,R.w2)(i(),(0,R.I6)(t.params),J):t.name===E.n8z.CREATE_CONTACT&&(e=(0,R.w2)(i(),(0,R.f9)(t.params),J)),e)return v(e)}if($.type===m.DELETE_CONTACT_REQUESTED){let e;if(t.name===E.n8z.CONTACT_DETAILS?e=(0,R.w2)(i(),(0,R.f9)(),J):t.name===E.n8z.CONTACT_DETAILS_FROM_SEARCH&&(e=(0,R.w2)(i(),(0,R.dM)((0,g.LY)(t)),J)),e)return v(e)}if($.type===m.ACCOUNT_ADD_SUCCEEDED&&le((0,R.w2)(i(),t,J)))return v((0,R.w2)(i(),(0,R.EU)(),J));if($.type===m.V3_MESSAGE_SEND_REQUESTED&&Y()&&$.csid&&!$.isCompactCompose){const e=1;return v((0,R.w2)(i(),(0,R.z2)($.csid),J),e)}if(!s&&-1!==[m.POP_OUT_COMPOSE,m.CLOSE_PAGE_REQUESTED,m.CLOSE_ALL_PAGES_REQUESTED].indexOf($.type)&&!O(t)){const e=(0,g.LY)(t);if($.type!==m.CLOSE_ALL_PAGES_REQUESTED&&-1!==[E.n8z.MESSAGE_FROM_SEARCH_LIST,E.n8z.MESSAGE_FROM_LIST].indexOf(t.name)){if((0,g.GG)(e)){const t=b(e);if(t){const e=P(t);if(e)return v(e)}}return v((0,R.w2)(i(),(0,R.dM)(e),J))}let s=(0,g.Fh)(e);const a=(0,g.WW)(e),{serializedListId:n}=oe(t);if(!s&&n&&(s=(0,g.Fh)((0,g.QP)(n))),!s){if(ee)return v(ee);s=p(E.Sck.INBOX,S(t))[0]}return v((0,R.w2)(i(),x(s,a),J))}if($.type===m.MESSAGE_GROUP_WITH_BODIES_FAILED){const e=(0,g.LY)(t);if((0,g.aY)(e)===E.qd8.TODOS)return v((0,R.w2)(i(),(0,R.dM)(e,{referrer:""}),J))}switch(t.name){case E.n8z.MESSAGE_FROM_LIST:case E.n8z.MESSAGE_FROM_SEARCH_LIST:case E.n8z.MESSAGE_FROM_FOLDER_LIST:{const e=(0,g.LY)(t),s=(0,g.Fh)(e),{groupId:a,attachmentId:n}=oe(t),r=(0,L.BA)([e]),m=D(r)&&T(r)||G().hasSelectedPencilAds(),S=2===C();if(n&&"1"===t.query.fullscreen)return;if(m&&S&&le(t)&&Ee(t))return v((0,R.w2)(i(),(0,R.KI)((0,g.LY)(t),{},{accountId:q()}),J));if(s&&!_(s))return v((0,R.w2)(i(),B(),J));const p=s?k(s):void 0;if(p&&!j(p))return v((0,R.w2)(i(),B(),J));if(!u(a,e)&&!N(a)||d(e)&&(0,g.WN)(e)===E.F6k.MESSAGES&&!o(e,a)&&!y(e,n)){let t=l(E.Zrf.ACTION_AFTER_MSG_MOVE);S&&t===E.jdT.GO_BACK_TO_FOLDER&&(t=E.jdT.SHOW_NEXT_MESSAGE);const{streamItems:n=[]}=$,r=n.filter((e=>e.listId&&(0,g.WN)(e.listId)===E.F6k.MESSAGES));let o;o=r[0]&&r[0].listId===e?r.map((e=>e.id)):H(e);const _=o.findIndex((e=>e===a)),u=!!s&&f(s);if(t===E.jdT.GO_BACK_TO_FOLDER||d(e)&&c(e)||u||-1===_)return v((0,R.w2)(i(),(0,R.KI)(e,{},{accountId:q()}),J));let m;switch(parseInt(t,10)){case E.jdT.SHOW_NEXT_MESSAGE:m=o[_+1]||o[_-1]||void 0;break;case E.jdT.SHOW_PREVIOUS_MESSAGE:m=o[_-1]||o[_+1]||void 0}return m?v((0,R.w2)(i(),(0,R.m9)(e,m),J),0):v((0,R.w2)(i(),(0,R.KI)(e,{},{accountId:q()}),J))}const A=!!s&&V(s)===E.Sck.INBOX,I=W();if(A){if(I&&t.name===E.n8z.MESSAGE_FROM_FOLDER_LIST)return v((0,R.w2)(i(),{name:E.n8z.MESSAGE_FROM_LIST,params:Object.assign({serializedListId:(0,g.tr)(e),groupId:a})},J));if(!I&&t.name===E.n8z.MESSAGE_FROM_LIST&&(0,g.ft)(e))return v((0,R.w2)(i(),{name:E.n8z.MESSAGE_FROM_FOLDER_LIST,params:Object.assign({fid:s,groupId:a,attachmentId:n})},J))}break}case E.n8z.EDIT_FOLDER:case E.n8z.FOLDER:case E.n8z.LIST:{const{isInboxFolder:e}=a.getFoldersSelectors(),s=(0,g.LY)(t),n=(0,g.Fh)(s);if(!n)break;if(!_(n))return v((0,R.w2)(i(),B(),J));if(!j(k(n)))return v((0,R.w2)(i(),B(),J));const r=W(),o=z(E.ANe.PRIORITY_INBOX_ENABLED);if(e(n)&&(r&&(t.name===E.n8z.FOLDER||t.name===E.n8z.BASE)||!r&&((0,g.kC)(t)||t.name===E.n8z.BASE)||o&&(t.name===E.n8z.FOLDER||t.name===E.n8z.BASE)||!o&&(0,g.n4)(t)))return v((0,R.w2)(i(),B(),J));break}case E.n8z.EDIT_DRAFT:case E.n8z.NEW_DRAFT:{const{serializedListId:e,csid:s}=oe(t),{referrerRoute:a}=t;if(!I(s)||h(s)||M(s)){let s;if(le(t)){const{route:e,backIdx:t=-1}=X();return-1!==t?Q(t):F(e)}if(e&&(s=(0,g.Fh)((0,g.QP)(e))),!s){if(a&&(a.name===E.n8z.MESSAGE_FROM_SEARCH_LIST||a.name===E.n8z.SEARCH))return v((0,R.w2)(i(),(0,R.dM)((0,g.LY)(a)),J));if(ee)return v(ee);s=p(E.Sck.INBOX,S(t))[0]}return v((0,R.w2)(i(),x(s),J))}return}case E.n8z.CONTACT_DETAILS:case E.n8z.EDIT_CONTACT:{const e=!$.unsyncedData||$.unsyncedData.find((e=>e.type===E.sKi.CONTACTS_LIST));if(!(-1!==[m.INITIAL_STATE,m.LAUNCH_COMPLETED].indexOf($.type))&&!e&&!U().doesContactExist(t.params))return v((0,R.w2)(i(),(0,R.f9)(t.params),J));break}case E.n8z.CONTACT_DETAILS_FROM_SEARCH:case E.n8z.EDIT_CONTACT_FROM_SEARCH:{const e=(0,g.LY)(t),s=!$.unsyncedData||$.unsyncedData.find((e=>e.type===E.sKi.CONTACTS_LIST));if(!(-1!==[m.INITIAL_STATE,m.LAUNCH_COMPLETED].indexOf($.type))&&!s&&!U().doesContactExist(t.params))return v((0,R.w2)(i(),(0,R.dM)(e),J));break}case E.n8z.SPONSORED_MESSAGE:{const e=decodeURIComponent(t.params.creativeId),{getSponsoredAd:s}=K();if(!s(e))return v((0,R.w2)(i(),B(),J));break}case E.n8z.PORTRAIT_AD:{const{getGeminiAdDataFromCreativeId:e}=K();if(!e(decodeURIComponent(t.params.creativeId)))return v(ee||(0,R.w2)(i(),B(),J));break}case E.n8z.BLOCKED_DOMAINS:if(!z(E.ANe.BLOCKED_DOMAINS))return v((0,R.w2)(i(),(0,R.Tx)(),J));break;case E.n8z.AFTER_MESSAGE_MOVE:if(!(z(E.ANe.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE)||z(E.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED)))return v((0,R.w2)(i(),(0,R.Tx)(),J));break;case E.n8z.MAILPLUS_BENEFITS_UPSELL:if(!z(E.ANe.MAIL_PLUS_ELIGIBLE))return v((0,R.w2)(i(),B(),J));break;case E.n8z.SEND_CONFIRMATION:{var te;const e=null==t||null===(te=t.params)||void 0===te?void 0:te.csid;if(!Y()||!e)return v((0,R.w2)(i(),B(),J));break}case E.n8z.FOCUSED_INBOX:if(!z(E.ANe.FOCUSED_INBOX))return v((0,R.w2)(i(),B(),J));break;case E.n8z.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL:if(!z(E.ANe.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL)||!z(E.ANe.EMAILS_TO_MYSELF))return v((0,R.w2)(i(),B(),J))}}}))(a),getHistoryPageIndex:()=>(0,Z.w)(e.history).getActivePageIndex(),getHistoryStack:()=>(0,Z.w)(e.history).getHistoryStack(),getCurrentPage:()=>{const{getCurrentHistoryState:e}=a,{historyStack:t,activePageIndex:s}=e();return t.length?t[s]:{}},getPageAtIndex:e=>{const{getCurrentHistoryState:t}=a,{historyStack:s}=t();return s.length&&e<s.length?s[e]:{}},getPreviousPage:()=>{const{getCurrentHistoryState:e,getFallbackPageForRoute:t}=a,{historyStack:s,activePageIndex:n}=e(),{route:r={},backIdx:o=-1}=s.length?s[n]:{};return-1!==o?s[o]:t(r)},getLastPageWithRoute:(e,t,s)=>{const{getRoutesInfo:n}=a;if(t<0||t>=e.length)return h.Z.error("pageindex_out_of_bounds",{pageIndex:t,historyStack:e,route:s}),{route:(0,R.w2)(n(),s,(0,R.VP)(s)),backIdx:-1};let r=e&&e.length?e[t].backIdx:-1;for(;r>=0;){const t=e[r];if(!t)break;if((0,R.Vu)(s,t.route))return t;r=t.backIdx}return{route:(0,R.w2)(n(),s,(0,R.VP)(s)),backIdx:-1}},createPageForRoute:(e,t=-1,s={})=>{const{getHistoryStack:n,getHistoryPageIndex:r,getLastPageWithRoute:o,getRoutesInfo:i}=a;let{historyStack:l=[],activePageIndex:c=-1}=s;return(!l.length||c<0)&&(l=n(),c=r()),t<0?o(l,c,e):0===t?{route:(0,R.w2)(i(),e,(0,R.VP)(e)),backIdx:l.length?l[c].backIdx:-1}:{route:(0,R.w2)(i(),e,(0,R.VP)(e)),backIdx:c}},getFallbackPageForRoute:e=>{const{doesComposeSessionExist:t,getDraftMessageId:s,getReplyingToMessageId:n,getMessageFolderId:r,getRoutesInfo:o,getSelectedAccountId:i,getPrescribedNumberOfColumns:l,getDefaultFolderRoute:c,getFolderRouteForFolderId:d}=a;let _;const u=2===l();switch(e.name){case E.n8z.MESSAGE_FROM_SEARCH_LIST:_=(0,R.dM)((0,g.LY)(e));break;case E.n8z.MESSAGE_FROM_FOLDER_LIST:_=(0,R.ok)((0,g.LY)(e));break;case E.n8z.NEW_DRAFT:case E.n8z.EDIT_DRAFT:{let a=null,o="";const i=e.params&&e.params.csid;if(!i)break;if(t(i)&&(a=s(i)?s(i):n(i)),a&&(o=r(a)),!o)break;_={name:E.n8z.FOLDER,params:{fid:o}};break}case E.n8z.CONTACT_DETAILS:_=(0,R.f9)(e.params);break;case E.n8z.CONTACT_DETAILS_FROM_SEARCH:_=(0,R.dM)((0,g.LY)(e));break;case E.n8z.SPONSORED_MESSAGE:_=(0,R.ok)((0,g.LY)(e));break;case E.n8z.THEME_CHOOSER:case E.n8z.SIGNATURES_FROM_SETTINGS:case E.n8z.ACCOUNT_LIST_FROM_SETTINGS:case E.n8z.BLOCKED_SENDERS:case E.n8z.BLOCKED_DOMAINS:case E.n8z.MESSAGE_PREVIEW:case E.n8z.INBOX_HIGHLIGHT_SETTINGS:_=(0,R.Tx)();break;case E.n8z.ACCOUNT_SELECTOR_FROM_ACCOUNT_LIST:_=(0,R.EU)();break;case E.n8z.ADD_ACCOUNT_PROVIDER:_=(0,R.Bc)();break;case E.n8z.LIST:{const t=(0,g.LY)(e);(0,g.aY)(t)===E.qd8.SUBSCRIPTIONS&&(_=(0,R.lB)(i()));break}case E.n8z.MESSAGE_FROM_LIST:{const t=(0,g.LY)(e);if(u&&(0,g.aY)(t)===E.qd8.SUBSCRIPTIONS){const e=(0,g.Er)(t);_=(0,R.lB)(Array.isArray(e)?e[0]:e)}else _=(0,R.KI)(t);break}}return _?_.name===E.n8z.FOLDER?{route:(0,R.w2)(o(),d(_.params.fid),(0,R.VP)(e)),backIdx:-1}:{route:(0,R.w2)(o(),_,(0,R.VP)(e)),backIdx:-1}:{route:(0,R.w2)(o(),c(),(0,R.VP)(e)),backIdx:-1}},getCurrentHistoryState:()=>{const{getHistoryStack:e,getHistoryPageIndex:t,getAction:s,getRouterSelectors:n,getReconciledValidPage:r}=a;let o=e();const i=t(),l=s(),{popstate:c,nextPage:d,type:_,startOverStack:E}=l,u=n().getRoute(),S=r(d?d.route:u);let p=S||(d||void 0);switch(_){case m.OPEN_PAGE_REQUESTED:return void 0!==c?p&&Object.keys(p).length?{historyStack:E?[p]:[...o.slice(0,c),p,...o.slice(c+1)],activePageIndex:c}:{historyStack:E?[{route:u,backIdx:-1}]:o,activePageIndex:c}:(i!==o.length-1&&(o=[...o.slice(0,i+1)]),p||(p={route:u,backIdx:i}),{activePageIndex:i+1,historyStack:[...o,p]});case m.LAUNCH_COMPLETED:case m.INITIAL_STATE:return p||(p={route:u,backIdx:-1}),{activePageIndex:0,historyStack:[p]};default:return p&&Object.keys(p).length?(i!==o.length-1&&(o=[...o.slice(0,i+1)]),{activePageIndex:i+1,historyStack:[...o,p]}):{historyStack:o,activePageIndex:i}}},normalizeRoute:e=>(0,R.w2)(a.getRoutesInfo(),e,(0,R.VP)(a.getRoute())),getHashParams:()=>a.getRouterSelectors().getHashParams(),getRouteUIContext:()=>a.getRouterSelectors().getRouteUIContext(),getMrdParams:()=>a.getRouterSelectors().getMrdParams(),getRouteName:()=>a.getRoute().name,getRouteUrl:()=>re(a.getRoute()),getRouteParams:()=>oe(a.getRoute()),getQueryParams:()=>a.getRoute().query||{},isMobileRoute:()=>le(a.getRoute()),isOriginSearchRoute:()=>ie(a.getRoute()),isMessageRoute:()=>Ee(a.getRoute()),isAttachmentRoute:()=>{return(e=a.getRoute()).params&&e.params.attachmentId;var e},isStorefrontRoute:()=>{return!(null==(e=a.getRoute())||!e.url)&&-1!==e.url.indexOf("/storefront/");var e},isDraftRoute:()=>ce(a.getRoute()),isComposeRoute:()=>de(a.getRoute()),isFolderRoute:()=>_e(a.getRoute()),isValidListMessageGroup:(e,t)=>{const{doesListItemExist:s,getMessageFolderId:n,getMessageIdsFromMessageGroupId:r,isInboxStyleNewOldMail:o}=a;if(!(o()&&(0,g.ft)(e)||(0,g.RI)(e)))return s(e,t);const i=(0,g.Fh)(e),l=r(t,e);return!(l.length<1)&&(!i||l.some((e=>n(e)===i)))},getAccountSelectors:t.mailboxes(e).getAccountsSelectors,getVideoPlayerSelectors:()=>t.videoPlayers(e),enableSmartReply:(e,t)=>{const{isFeatureEnabled:s,__getLastNonDraftMessageIdByGroupId:n,findReplyForwardCsidsOfMessage:r,isSent:o,getReplySuggestionSelectors:i,doesMessageIdExist:l}=a;let c=!1,d=[];if(t&&l(t)&&t===n(e)){const e=(r(t)||[]).filter((e=>!o(e)));d=i().getReplySuggestions(t)||[],c=!e.length&&s(E.ANe.SMART_REPLY)}return c&&d.length>0},getContactListSelectors:()=>t.contacts(e),getRelatedListIdByContactId:s=>{const{name:a,emails:n=[]}=t.contacts(e).getContactById(s)||{};return(0,g.Ez)({listContentType:E.F6k.PEOPLE,referrer:E.qd8.CONTACT_DETAILS,name:a,emailAddresses:n,contactIds:[s]})},getSocialAccountSelectors:()=>t.socialAccounts(e),getCloudStorageAccountSelectors:()=>t.cloudStorageAccounts(e),getFalconTOMSubscriptionSelectors:()=>t.falconTOMSubscriptions(e),getFalconRelatedCardSelectors:()=>t.falconRelatedCards(e)(a),getTopOfInboxCardsSelectors:()=>t.topOfInboxCards(e)(a),getFalconTOMSubscriptionByGroupId:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getFalconTOMSubscriptionSelectors:n}=a;return t(E.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)?s().getOfferCardByGroupId(e):n().getFalconTOMSubscriptionByGroupId(e)},getFalconTOMSubscriptionsApiCallStatus:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getFalconTOMSubscriptionSelectors:n}=a;return t(E.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)?s().getRelatedCardsStatus(e):n().getFalconTOMSubscriptionsApiCallStatus(e)},getDPAAds:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getAdsSelectors:n}=a,r=t(E.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED),o=t(E.ANe.CROSS_DOMAIN_DPA_ADS);return r&&!o?s().getDPAAdsByGroupId(e):n().getDPAAds()},getDomainMatchAds:e=>{const{isFeatureEnabled:t,getFalconRelatedCardSelectors:s,getAdsSelectors:n}=a;return t(E.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&t(E.ANe.DOMAIN_MATCH_AD_VIA_RELATED_CARDS)?s().getDomainMatchAdsByGroupId(e):n().getDomainMatchAds()},getDisplayAdLocation:()=>{const{getRoute:e,emptyFolderDisplayAdEligible:t}=a,s=e();return t()?Q.Ej.EMPTY_FOLDER:s.name===E.n8z.SEND_CONFIRMATION?Q.Ej.SEND_CONFIRMATION:Q.Ej.RIGHT_RAIL},getDisplayAdPositions:e=>{const{isFeatureEnabled:t,getEnvironmentSelectors:s}=a,{getPartner:n}=s(),r=n()===E.Ql2.AOL;if(e===Q.Ej.EMPTY_FOLDER)return r?[Q.S_.FULL_PANE,Q.S_.MON]:[Q.S_.FULL_SCREEN,Q.S_.MON];if(e===Q.Ej.SEND_CONFIRMATION){return t(E.ANe.SEND_CONFIRM_FALLBACK_FOR_GAM)?[Q.S_.FULL_PANE]:[Q.S_.FULL_PANE,Q.S_.MON]}return a.isNarrowScreen()?[Q.S_.SKY]:[Q.S_.LREC,Q.S_.MON]},getEnabledVerticals:()=>{const{isFeatureEnabled:e}=a,t=[];return e(E.ANe.DEALS)&&(t.push(E.f8s.COMMERCE),t.push(E.f8s.IC_TNT),t.push(E.f8s.HI),t.push(E.f8s.IC_CONQ)),e(E.ANe.YAI_RETRO_COMPOSE)&&t.push(E.f8s.GN_CLAIM_HINT),(t.length||e(E.ANe.DISPLAY_BIMI)||e(E.ANe.SHOPPING_CART_AD)||e(E.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS))&&t.push(E.f8s.KE),t},getFeatureCueSelectors:()=>t.featureCues(e),getSubjectAndSnippetSelectors:()=>t.subjectsAndSnippets(e),getGifItemsSelectors:()=>t.gifItems(e),getGifCategoriesSelectors:()=>t.gifCategories(e),getLinkEnhancerSelectors:()=>t.linkEnhancer(e),getDownloadsSelectors:()=>t.downloads(e),isQuotedTextExpanded:t.composeSessions(e).isQuotedTextExpanded,getComposeUndoStack:t.composeSessions(e).getUndoStack,getComposeRedoStack:t.composeSessions(e).getRedoStack,getComposeUiState:t.composeSessions(e).getUiState,getMessageFolderId:t.messagesFolderId(e).getFolderId,doesMessageIdHasFolderId:t.messagesFolderId(e).doesMessageIdHasFolderId,getFolderHighestModSeq:e=>a.doesFolderIdExist(e)?a.getFoldersSelectors().getFolderHighestModSeq(e):0,doesFolderIdExist:e=>a.getFoldersSelectors().doesFolderIdExist(e),getFolderName:e=>a.getFoldersSelectors().getFolderName(e),getFolderDisplayTypeByFolderId:e=>a.getFoldersSelectors().getFolderDisplayTypeByFolderId(e),getFolderIdsByName:t.folders(e).getFolderIdsByName,getFolderIdsByPath:t.folders(e).getFolderIdsByPath,getFolderIdsByNameForSelectAccountId:e=>a.getFoldersSelectors().getFolderIdsByNameAndAccountId(e,a.getSelectedAccountId()),getFolderTotal:t.folders(e).getFolderTotal,getPrimaryFolderTypeByFolderId:t.folders(e).getPrimaryFolderTypeByFolderId,isPermDeleteFolderType:t.folders(e).isPermDeleteFolderType,isSavedMailFolder:e=>{const{getFoldersSelectors:t,getEnvironmentSelectors:s}=a,{getPartner:n}=s(),{getPrimaryFolderTypeByFolderId:r,getFolderName:o,doesFolderIdExist:i,getFolderLevelByFolderId:l}=t();if(!i(e))return!1;const c=r(e),d=o(e),_=l(e);return n()===E.Ql2.AOL&&c===E.Sck.USER&&"Saved"===d&&0===_},getMenuItemsForFolderById:e=>{const{getFoldersSelectors:t,isSavedMailFolder:s}=a,{getPrimaryFolderTypeByFolderId:n,doesFolderIdExist:r}=t();if(!r(e))return[];switch(n(e)){case E.Sck.INBOX:return[E.lsH.MARK_READ,E.lsH.ARCHIVE];case E.Sck.DRAFT:case E.Sck.SENT:case E.Sck.ARCHIVE:return[E.lsH.MARK_READ];case E.Sck.BULK:case E.Sck.TRASH:return[E.lsH.DELETE];default:return s(e)?[E.lsH.MARK_READ,E.lsH.ARCHIVE,E.lsH.DELETE,E.lsH.SEPARATOR,E.lsH.RENAME_FOLDER,E.lsH.DELETE_FOLDER]:[E.lsH.MARK_READ,E.lsH.ARCHIVE,E.lsH.DELETE,E.lsH.SEPARATOR,E.lsH.MOVE_FOLDER,E.lsH.RENAME_FOLDER,E.lsH.DELETE_FOLDER,E.lsH.CREATE_FOLDER]}},formatFolderName:(e,t={})=>{const{getFoldersSelectors:s,isInboxStyleNewOldMail:n,isSavedMailFolder:r,getProviderFromAccount:o,getSelectedAccountId:i}=a,{getPrimaryFolderTypeByFolderId:l,getFolderName:c,doesFolderIdExist:d}=s(),_=t.isRead;if(!d(e))return()=>"";const m=l(e),S=c(e);let p="";const C=o(i()),A=m===E.Sck.ARCHIVE,T=C===E.zoT.GOOGLE;if((0,u.Cz)(C)===E.tO8.IMAPIN&&T&&A)return e=>e(I.j2.folder_all_mail);if(n())switch(m){case E.Sck.TRASH:p="recently_deleted";break;case E.Sck.INBOX:return void 0===_?e=>e(j.Z.new_old_mail):e=>e((0,Y.Z)(_?E.K8C.OLDMAIL:E.K8C.NEWMAIL))}return r(e)&&(p="saved"),e=>(0,I.oe)({formatMessage:e,folderDisplayType:m,name:S,displayIdOverride:p})},getInboxDisplayName:()=>{const{getDefaultFolderIdForSelectedAccount:e,formatFolderName:t}=a;return t(e(),{isRead:!1})},formatFullFolderPath:e=>{const{getEnvironmentSelectors:t,getFoldersSelectors:s,formatFolderName:n}=a,{getPrimaryFolderTypeByFolderId:r,getFolderPath:o,doesFolderIdExist:i}=s(),{getPartner:l}=t();if(!i(e))return()=>"";const c=o(e),d=r(e);return c.includes("/")?l()===E.Ql2.AOL&&"Saved"===c.substring(0,c.indexOf("/"))?e=>{const t=(0,I.oe)({formatMessage:e,folderDisplayType:d,name:"Saved",displayIdOverride:"saved"});return c.replace("Saved",t)}:()=>c:t=>n(e)(t)},getFolderFullName:s=>{const n=a.getAccountIdByFolderId(s),r=a.getAccountById(n),o=t.folders(e).getFolderPath(s),i=a.getAccountSelectors().getFolderPrefixByAccountId(n);return!r.isPrimary&&i.length>0?o.substr(o.indexOf("/")+1):o},isInboxStyleNewOldMail:()=>{const{isFeatureEnabled:e,getSetting:t}=a;return e(E.ANe.ALLOW_INBOX_STYLE)&&!!t(E.Zrf.INBOX_STYLE)},getStaleFolderIds:e=>{const t=(0,I.YY)(e);return Object.keys(t).filter((e=>{const s=t[e],n=a.getFolderHighestModSeq(e);return n&&n!==s.highestModSeq}))},shouldUpdateFolders:s=>t.folders(e).shouldUpdateFolders(s),isSpamFolder:s=>t.folders(e).isSpamFolder(s),isSpamMessage:e=>(0,i.compose)(a.isSpamFolder,a.getMessageFolderId)(e),isTrashFolder:s=>t.folders(e).isTrashFolder(s),isTrashMessage:e=>(0,i.compose)(a.isTrashFolder,a.getMessageFolderId)(e),isDraftFolder:s=>t.folders(e).isDraftFolder(s),isDraftMessage:e=>(0,i.compose)(a.isDraftFolder,a.getMessageFolderId)(e),isSentFolder:s=>t.folders(e).isSentFolder(s),isSentMessage:e=>(0,i.compose)(a.isSentFolder,a.getMessageFolderId)(e),getParticipant:e=>{const{doesMessageIdExist:t,getFromAddresses:s}=a.getMessagesSelectors(),n=[e].filter((e=>{if(!t(e))return!1;const a=s(e);return a.length>0&&(a[0].email||a[0].name)})),[r]=n.map((e=>{const t=s(e),n=a.getMessageFlags(e);return{email:t[0].email,name:t[0].name,recent:!n.read}}));return r},getRecipients:e=>{const t=a.getMessagesSelectors().getToAddresses(e),s=a.getMessageFlags(e);return t.filter((e=>e.email||e.name)).reduce(((e,t)=>e.concat({email:t.email,name:t.name,recent:!s.read})),[])},getMessageFromAddress:t.messages(e).getFromAddresses,getMessageToAddress:t.messages(e).getToAddresses,getMessageCcAddress:t.messages(e).getCcAddresses,getMessageBccAddress:t.messages(e).getBccAddresses,getReplyToAddress:t.messages(e).getReplyToAddresses,getMessageDate:t.messages(e).getDate,getMessageFlags:t.messagesFlags(e).getFlags,getMessageSubject:t.subjectsAndSnippets(e).getSubject,getMessageSnippet:t.subjectsAndSnippets(e).getSnippet,getMessageTimeStamp:e=>a.getMessagesSelectors().getTimeStamp(e),getAccountIdByFolderId:s=>t.folders(e).getAccountIdByFolderId(s),doesMessageBodyExist:e=>a.getMessageBodiesSelectors().doesMessageBodyExist(e),isSecureMessage:e=>a.getMessageBodiesSelectors().isSecureMessage(e),doesMessageFullBodyExist:e=>a.getMessageBodiesSelectors().hasFullBody(e),doesMessageBodyHasError:e=>a.getMessageBodiesSelectors().hasError(e),getMessageBody:e=>a.getMessageBodiesSelectors().get(e),getMessageBodyState:e=>a.getMessageBodiesSelectors().getState(e),getMessageBodyRetryCount:e=>a.getMessageBodiesSelectors().getRetryCount(e),getAccountSignaturebyAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSignatureByAccountId(s),getAccountSignaturebyFolderId:e=>a.getAccountSignaturebyAccountId(a.getAccountIdByFolderId(e)),getSignatureByAccountEmail:e=>a.getAccountSelectors().getSignatureByAccountEmail(e),doesMessageIdExist:e=>a.getMessagesSelectors().doesMessageIdExist(e),getMessageCsid:e=>a.getMessagesSelectors().getCsid(e),getMessageModSeq:e=>a.getMessagesSelectors().getModSeq(e),doesMessageGroupIdExist:(e,t)=>{const{getMessageGroupFolderType:s}=a.getFoldersSelectors(),n=t||(0,g.LY)(a.getRoute()),r=s((0,g.Fh)(n)||"");return a.getMessageGroupsSelectors().doesMessageGroupIdExistInList(e,r)},getMessageIdsFromMessageGroupId:(e,t)=>{const{getMessageGroupFolderType:s}=a.getFoldersSelectors(),n=t||(0,g.LY)(a.getRoute()),r=s((0,g.Fh)(n)||"");return a.getMessageGroupsSelectors().getMessageIdsFromMessageGroupIdForMessageGroupFolderType(e,r)},getExpansionStateForStreamItem:e=>a.getStreamsSelectors().getExpansionStateForStreamItem(e),getMessageGroupStreamItemsWithExpansionStates:e=>{const t=v(a.getMessageGroupStreamItems(e),a),{id:s,listId:n}=e,r=(0,L.k3)(n,s);return a.doesStreamExist(r)?t.map((e=>{const t=a.getExpansionStateForStreamItem(e)||e.expansionState;return{...e,expansionState:t}})):t},getDefaultTemporaryExpansionStatesForMessageGroupStreamItems:e=>v(a.getMessageGroupStreamItems(e),a).filter((e=>e.expansionState===E.Lvq.EXPANDED)).map((e=>({...e,expansionState:E.Lvq.TEMPORARY_EXPANSION}))),isAllCardsExpanded:(e,t)=>{const s={id:t,listId:e},{getMessageGroupStreamItemsWithExpansionStates:n}=a;return n(s).every((({expansionState:e})=>e===E.Lvq.EXPANDED))},getCardConversationIdsFromMessageGroupId:e=>{const t=(a.isFeatureEnabled(E.ANe.CONVERSATIONS)?a.getMessagesSelectors().findMessageIdsForConversationId(e):[e]).filter(a.getMessagesSelectors().doesMessageIdExist).map(a.getMessagesSelectors().getCardConversationId).filter((e=>!!e));return n()(t)},getGroupIdStateHash:e=>(0,p.getHash)(e,a.getMessageIdsFromMessageGroupId(e)),getRelevantMessageIdFromMessageGroupId:(e,t)=>{const s=a.getMessageIdsFromMessageGroupId(e,t)||[],n=(0,g.Fh)(t),r=s[s.length-1];return[...s].find((e=>a.getMessageFolderId(e)===n))||r},getAccountIdFromMessageGroupId:(e,t)=>{const{getAccountIdByFolderId:s,getMessageFolderId:n,getRelevantMessageIdFromMessageGroupId:r}=a,o=r(e,t),i=n(o);(0,S.Z)(i,"getAccountIdFromMessageGroupId: folderId is undefined",{messageGroupId:e||"undefined",listId:t||"undefined",relevantMessageId:o||"undefined",folderId:i||"undefined"});return s(i)},getSubjectFromMessageGroupId:(e,t)=>{const s=a.getRelevantMessageIdFromMessageGroupId(e,t);return a.getSubjectAndSnippetSelectors().getSubject(s,t)},getGroupIdContainingMessageId:e=>a.getMessageGroupsSelectors().getGroupIdContainingMessageId(e),getGroupIdContainingAttachmentId:e=>{const t=a.isFeatureEnabled(E.ANe.CONVERSATIONS),s=a.getMessageIdForAttachmentId(e);return t?a.doesMessageIdExist(s)?a.getGroupIdContainingMessageId(s):a.getConversationIdByAttachmentId(e):s},getAttachmentIdsByGroupId:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return n()(t.reduce(((e,t)=>e.concat(a.getAttachmentIdsByMessageId(t))),[]))},getAttachmentIdIndexInMessage:(e,t)=>a.getAttachmentIdsByMessageId(t).indexOf(e),getAttachmentIdIndexInMessageGroup:(e,t)=>a.getAttachmentIdsByGroupId(t).indexOf(e),getPreviousAttachmentIdForMessageGroup:(e,t)=>{const s=a.getAttachmentIdsByGroupId(t),n=a.getAttachmentIdIndexInMessageGroup(e,t)-1;if(!(n<0))return s[n]},getNextAttachmentIdForMessageGroup:(e,t)=>{const s=a.getAttachmentIdsByGroupId(t),n=a.getAttachmentIdIndexInMessageGroup(e,t)+1;if(!(n>=s.length))return s[n]},getAttachmentIdsForMessage:e=>{const{isFeatureEnabled:t,getInlineImagesAttachmentsSelectors:s,getAttachmentIdsByMessageId:n,isNonInlineAttachmentById:r}=a,o=t(E.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW);let i=n(e)||[];if(o){i=(s().getInlineImagesIdsByMessageId(e)||[]).concat(i.filter(r))}return i},getPreviousAttachmentIdForMessage:(e,t)=>{const s=a.getAttachmentIdsForMessage(t),n=s.indexOf(e)-1;if(!(n<0))return s[n]},getNextAttachmentIdForMessage:(e,t)=>{const s=a.getAttachmentIdsForMessage(t),n=s.indexOf(e)+1;if(!(n>=s.length))return s[n]},isSingleDraftGroup:e=>{const t=a.getMessageIdsFromMessageGroupId(e);return 1===t.length&&a.isDraftMessage(t[0])},getCsidForSingleDraftGroup:e=>{if(!a.isSingleDraftGroup(e))return;const[t]=a.getMessageIdsFromMessageGroupId(e);return a.getMessageCsid(t)},__patchV2AttachmentId__:(e,t)=>{const{doesMessageIdExist:s,getAttachmentById:n,getMessageIdForAttachmentId:r,getMessageSubject:o}=a,i=r(e);return{partialMessage:{subject:s(i)?o(i,t):void 0},attachment:n(e)}},__patchV2MessageGroupItemId__:(e,t)=>a.__patchV2MessageGroupItem__({id:e},t),__patchV2MessageId__:(e,t)=>pe("__patchV2MessageId__",(()=>`${e}-${t}`),[e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors(),e=>e.getFoldersSelectors(),e=>e.getMessageToAttachmentsSelectors(),e=>e.getAttachmentsSelectors(),e=>e.getSubjectsAndSnippetsSelectors()],(()=>{const{getMessagesSelectors:s,getFoldersSelectors:n,getAttachmentIdsByMessageId:r,getAttachmentById:o,getMessageSubject:i,getMessageSnippet:l,getMessageFlags:c,getMessageFolderId:d}=a,{__get__:_}=s(),{__get__:E}=n(),u=_(e),m=r(e).map(o).filter(Boolean),S=d(e),p=c(e);return{...u,id:e,attachments:m,attachmentCount:m.length,folder:E(S),snippet:l(e,t),headers:{...u.headers,subject:i(e,t)},flags:p,folderId:S}}))(a),__patchV2MessageGroupItem__:(e={},t)=>e.id?pe("__patchV2MessageGroupItem__",(()=>`${e.id}-${t}`),[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMessagesFolderIdSelectors(),e=>e.getMessagesFlagSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:s}=a,n=s(e.id,t);e.messages=n.map((e=>a.__patchV2MessageId__(e,t)));return a.isSingleDraftGroup(e.id)&&(e.messages[0].csid=a.getCsidForSingleDraftGroup(e.id)),e}))(a):e,getMessageGroupParticipantsInfo:(e,t)=>pe("getMessageGroupParticipantsInfo",(()=>`${e}-${t}`),[e=>e.getMessageGroupsSelectors(),e=>e.getMessagesSelectors(),e=>e.getMailboxesSelectors(),e=>e.getFoldersSelectors()],(()=>{const{getMessageIdsFromMessageGroupId:s,getAccountSelectors:n,getFoldersSelectors:r,getParticipant:o,getRecipients:i}=a,l=(0,g.Fh)(t),c=l?r().getPrimaryFolderTypeByFolderId(l):void 0,d=s(e,t),u=d.reduce(((e,t)=>e.concat(i(t))),[]),m=d.reduce(((e,t)=>{const{name:s="",email:a=""}=o(t)||{};return e.concat({name:s,email:a})}),[]),S=n().getMyAddresses().reduce(((e,t)=>(e[t]=!0,e)),{});return{senders:c===E.Sck.SENT||c===E.Sck.DRAFT?(0,_.o_)({recipients:u,participants:m,myAddresses:S}):m,myAddresses:S}}))(a),getNumberOfSelectedItemsInList:e=>{const{doesStreamExist:t,getSelectedStreamItems:s,getAdListItemsSelectors:n,getAllItemsCountForListId:r,getStreamSelectionType:o}=a,i=(0,L.BA)([e]),l=t(i)?s(i):[],c=o(i),d=n().getSelectedPencilAds(),_=r(e);return c===E.ie0.BULK?_+d.length:l.length+d.length},shouldMailCountBeShownInRoute:t=>{const{getListsSelectors:s,getMessageGroupsSelectors:a,getMessageGroupStreamItemsWithExpansionStates:n,getNumberOfSelectedItemsInList:r}=Ae(e),{doesMessageGroupIdExist:o}=a(),{getFirstItemIdOfList:i}=s();if(!(0,g.y0)(t))return!0;const l=(0,g.LY)(t),c=i(l),d={id:c,listId:l},_=o(c)?n(d):[];return r(l)>0||!_.length},autoDisplayFirstMessageInRoute:t=>{const{getSetting:s,isFeatureEnabled:a,shouldMailCountBeShownInRoute:n,getFoldersSelectors:r,getPrescribedNumberOfColumns:o}=Ae(e),{getFolderTypes:i,doesFolderIdExist:l}=r(),c=(0,g.LY)(t),d=(0,g.Fh)(c),_=l(d)&&-1!==i(d).indexOf(E.Sck.DRAFT),u=a(E.ANe.OPEN_FIRST_MESSAGE),m=!!s(E.Zrf.AUTO_OPEN_FIRST_MESSAGE);return 2===o()&&u&&m&&!_&&!n(t)},getMessageGroupStreamItems:e=>{const{id:t,listId:s}=e,{getMessageCsid:n,getComposeSessionsSelectors:r,getMessageIdsFromMessageGroupId:o,isDraftMessage:i,getFoldersSelectors:l,doesComposeSessionExist:c,isSent:d,getMessageTimestamp:_,isFeatureEnabled:u,getMessageFolderId:m}=a,S=u(E.ANe.CONVERSATIONS),p=u(E.ANe.INLINE_REPLY_COMPOSE),{getPrimaryFolderTypeByFolderId:C}=l(),{findReplyForwardCsidsOfMessage:A,getDraftMessageId:T}=r(),I=o(t,s),h=I.filter((e=>i(e))),O=(0,g.tE)(s,{listContentType:E.F6k.MESSAGE}),D=(0,L.k3)(s,t);if(!S&&!p)return I.map((e=>({streamId:D,listId:O,csid:n(e),messageId:e,folderType:C(m(e))})));const R=I.map((e=>({messageId:e,timestamp:_(e)}))).sort(((e,t)=>e.timestamp-t.timestamp)).filter((({messageId:e})=>!i(e))).reduce(((e,{messageId:t})=>{const s=C(m(t)),a=n(t),r=A(t).filter((e=>!d(e))).reduce(((e,t)=>{const s=T(t);return!s||i(s)?e.concat({streamId:D,listId:O,csid:t,messageId:s,folderType:E.Sck.DRAFT}):e}),[]);return e.concat({streamId:D,listId:O,csid:a,messageId:t,folderType:s}).concat(r)}),[]),N=h.filter((e=>!R.some((t=>t.messageId===e)))).map((e=>{let t;const s=n(e);return t=c(s)?d(s)?E.Sck.SENT:E.Sck.DRAFT:C(m(e)),{streamId:D,listId:O,csid:s,messageId:e,folderType:t}}));return R.concat(N)},getSelectedMessageIdsFromStreamId:e=>{const{doesStreamExist:t,getSelectedStreamItems:s,getMessageIdsFromMessageGroupId:n}=a;return t(e)?s(e).reduce(((e,{id:t})=>e.concat(n(t))),[]):[]},isListRefreshing:(e,t=Date.now())=>a.getUnsyncedDataToSync(t).some((t=>t.type===E.sKi.LIST_TO_UPDATE&&t.id===e&&0===t.syncDefer)),getDraftErrors:d.hasInvalidComposeField.bind(d),isSendRequested:t.composeSessions(e).isSendRequested,isSent:t.composeSessions(e).isSent,isComposeSaveDue:({csid:e,lastEditedTimeStamp:t,newContentIds:s=[],removedContentIds:n=[],composeSaveInterval:r})=>{if(!a.isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;r=r||a.getFeaturesSelectors().getSetting(E.Zrf.COMPOSE_SAVE_INTERVAL);const o=a.getComposeSessionsSelectors().getLastSaveTimeStamp(e);return s.length>0||n.length||a.getActionTimeStamp()-o>r&&!a.getReconciledUnsyncedData().some((t=>t.type===E.sKi.COMPOSE&&t.id===e))},getNewMailViewListIdForAccount:e=>{const{getDefaultFolderIdForAccount:t}=a,s=t(e);return(0,g.xe)({type:E.K8C.NEWMAIL,filter:E.ukn.NEWMAIL,folderId:s,accountId:e})},isMessageGroupRequested:e=>a.getReconciledUnsyncedData().some((t=>t.type===E.sKi.MESSAGE_ITEM_TO_FETCH&&t.userInputtedValues.messageGroupId===e)),isMessageGroupLoading:e=>a.getUnsyncedDataSelectors().getUnsyncedData().some((t=>t.type===E.sKi.MESSAGE_ITEM_TO_FETCH&&t.id===e)),isSaving:({csid:e},t=Date.now())=>a.getUnsyncedDataToSync(t).some((t=>t.type===E.sKi.COMPOSE&&t.id===e)),isGeminiAdLoading:e=>a.getUnsyncedDataToSync().some((t=>t.type===E.sKi.GEMINI_AD&&(0,D.VO)(t.userInputtedValues.sectionIds).some((t=>t===e)))),getLastEditedTimestampForCompose:e=>{const t=a.findUnsyncedDataByCsid(e);if(t)return t.lastEditedTimeStamp},isFreshCompose:e=>{const t=a.findUnsyncedDataByCsid(e);return t?!t.lastEditedTimeStamp:!a.getDraftMessageId(e)},isMessageUpdatePending:()=>pe("isMessageUpdatePending",(()=>"isMessageUpdatePending"),[e=>e.getReconciledUnsyncedData()],(()=>a.getReconciledUnsyncedData().some((e=>e.type===E.sKi.MESSAGE_ITEM_TO_UPDATE))))(a),isAsyncTaskPending:()=>pe("isAsyncTaskPending",(()=>"isAsyncTaskPending"),[e=>e.getReconciledUnsyncedData()],(()=>a.getReconciledUnsyncedData().some((e=>e.type===E.sKi.ASYNC_TASK_STATUS))))(a),getAsyncTask:()=>a.getReconciledUnsyncedData().find((e=>e.type===E.sKi.ASYNC_TASK_STATUS)).userInputtedValues,isComposeSessionDirty:({csid:e,lastEditedTimeStamp:t})=>a.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}),getLastSaveTimeStampForDraft:e=>a.getComposeSessionsSelectors().getLastSaveTimeStamp(e),getDraftStatus:({csid:s,lastEditedTimeStamp:n})=>{const r=a.getLastSaveTimeStampForDraft(s);return a.isSaving({csid:s})||t.composeSessions(e).getFatalErrorCount(s)?ne.SAVING:n===r?ne.SAVED:void 0},canSendDraft:({csid:e,lastEditedTimeStamp:t,attachmentsInfo:s=[]})=>{const n=a.getDraftMessageId(e),{doesMessageIdExist:r,isMarkedAsSpam:o}=a.getMessagesSelectors();if(!n||!t||r(n)&&o(n)||a.getComposeSessionsSelectors().isComposeSessionDirty({csid:e,lastEditedTimeStamp:t}))return!1;const i=a.getAttachmentIdsByMessageId(n).map(a.getContentIdByAttachmentId),l=(0,D.VO)(s).some((e=>-1===i.indexOf(e.contentId)));return!s.length||!l},findReplyForwardCsidsOfMessage:e=>a.getComposeSessionsSelectors().findReplyForwardCsidsOfMessage(e),doesComposeSessionExist:e=>a.getComposeSessionsSelectors().doesComposeSessionExist(e),showUnsyncedDataWarning:()=>a.getReconciledUnsyncedData().some((e=>e.type===E.sKi.COMPOSE&&a.doesComposeSessionExist(e.id)&&(a.isSendRequested(e.id)||e.userInputtedValues.lastEditedTimeStamp&&a.getLastSaveTimeStampForDraft(e.id)!==e.userInputtedValues.lastEditedTimeStamp)||e.warnOnClose)),findUnsyncedDataByCsid:e=>pe("findUnsyncedDataByCsid",(()=>e),[e=>e.getReconciledUnsyncedData()],(()=>{const t=a.getReconciledUnsyncedData().find((t=>t.type===E.sKi.COMPOSE&&t.id===e));if(t)return t.userInputtedValues}))(a),getDraftCardMessage:e=>pe("getDraftCardMessage",(()=>e),[t=>(t.findUnsyncedDataByCsid(e)||{}).lastEditedTimeStamp],(()=>{const{getFoldersSelectors:t,findUnsyncedDataByCsid:s,getDraftFolderIdByAccountEmail:n}=a,{getFolderTypes:r}=t(),{from:o,to:i,cc:l,bcc:c,subject:d,lastEditedTimeStamp:_,attachmentsInfo:E}=s(e),u=n(o.email),m=Math.floor((_||Date.now())/1e3);return{message:{flags:{read:!0,flagged:!1},folder:{id:u,types:r(u)},headers:{from:[o],to:i,cc:l,bcc:c,subject:d,date:m},attachments:E}}}))(a),isAttachmentUploadPendingForComposeSession:e=>{const{getReconciledUnsyncedData:t,getAttachmentByContentId:s}=a;return t().filter((({type:t,id:s,userInputtedValues:{newContentIds:a=[]}={}})=>t===E.sKi.COMPOSE&&s===e&&a.length)).reduce(((e,{userInputtedValues:{newContentIds:t=[]}})=>e.concat(...t)),[]).some((e=>!s(e)))},doComposeFromRouteQueryParams:e=>a.getComposeSessionsSelectors().doComposeFromRouteQueryParams(e),doComposeFromMailToLink:e=>a.getComposeSessionsSelectors().doComposeFromMailToLink(e),getComposeMailToLink:e=>a.getComposeSessionsSelectors().getMailToLink(e),getComposeParams:e=>a.getComposeSessionsSelectors().getComposeParams(e),getComposeHeaderFocus:e=>a.getComposeSessionsSelectors().getComposeHeaderFocus(e),getStationeryTheme:e=>a.getComposeSessionsSelectors().getStationeryTheme(e),findDraftMessageCsid:e=>a.getComposeSessionsSelectors().findDraftMessageCsid(e),getDraftMessageId:e=>a.getComposeSessionsSelectors().getDraftMessageId(e),getForwardCreativeId:e=>a.getComposeSessionsSelectors().getForwardCreativeId(e),getInForwardToMessageId:e=>a.getComposeSessionsSelectors().getInForwardToMessageId(e),getForwardAttachmentIds:e=>a.getComposeSessionsSelectors().getForwardAttachmentIds(e),isReplyMessage:e=>a.getComposeSessionsSelectors().isReplyMessage(e),isReplyAllMessage:e=>a.getComposeSessionsSelectors().isReplyAllMessage(e),isForwardMessage:e=>a.getComposeSessionsSelectors().isForwardMessage(e),getReplyingToMessageId:e=>a.getComposeSessionsSelectors().getReplyingToMessageId(e),isReplyOrReplyAll:e=>a.isReplyMessage(e)||a.isReplyAllMessage(e),getAttachmentsByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).map(a.getAttachmentById),getAttachmentCountByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).length,hasNonInlineAttachmentsByMessageId:e=>(a.getAttachmentIdsByMessageId(e)||[]).some(a.isNonInlineAttachmentById),hasFailedComposeSend:()=>{const{getReconciledUnsyncedData:e,getComposeSessionsSelectors:t}=a,{isSendFailed:s}=t();return e().some((({type:e,id:t})=>e===E.sKi.COMPOSE&&s(t)))},getSelectedMailboxId:t.mailboxes(e).getSelectedMailboxId,getMailboxSize:t.mailboxes(e).getMailboxSize,getCurrentListId:()=>(0,g.LY)(a.getRoute()),getFolderIdsFromListId:s=>{const{folderIds:a=[],folderNames:n=[]}=(0,g.Mz)(s),{getFolderIdsByName:r,doesFolderIdExist:o}=t.folders(e);return n.reduce(((e,t)=>e.concat(r(t))),[]).concat(a).filter(o)},isSearchInputFocused:()=>(0,W.w)(e).isSearchInputFocused(),getSearchSuggestions:t.searchSuggestions(e).getSuggestions,getYaiSearchAnswer:t.searchSuggestions(e).getYaiSearchAnswer,getYaiSearchAnswerStatus:t.searchSuggestions(e).getYaiSearchAnswerStatus,getComposeSuggestions:s=>{const a=t.contacts(e).getContactBlockList(),n=t.composeSuggestions(e).getSuggestions(s)||[];return a.length?n.filter((e=>!a.find((t=>t.email===e.email)))):n},getComposeSuggestionsFromImportantsByQuery:({query:e,contextEmail:t})=>{e=e.trim().toLocaleLowerCase();const{getImportantContacts:s}=a;return s(t).filter((({email:t,contact:{name:s}={}})=>s&&s.toLocaleLowerCase().split(" ").find((t=>0===t.indexOf(e)))||t.slice(0,t.indexOf("@")).toLocaleLowerCase().split(".").find((t=>0===t.indexOf(e))))).map((({email:e,contact:{name:t,id:s}={}})=>({name:t,email:e,id:s}))).slice(0,E.eie)},getImportantContacts:e=>{const{getListsSelectors:t,getContactListSelectors:s}=a,{getImportantContactEmailsByContextEmail:n}=t(),{getContactIdByEmail:r,getContactById:o}=s();return n(e).map((e=>{const t=r(e);return{email:e,contact:o(t)}}))},getCurrentGroupId:()=>a.getRoute().params.groupId,getFolderIdsForSelectedAccount:e=>a.getFolderIdsByFolderTypeForAccount(e,a.getSelectedAccountId()),getDefaultFolderIdForSelectedAccount:()=>a.getFolderIdsForSelectedAccount(E.Sck.INBOX)[0],getDefaultFolderIdForAccount:e=>a.getFolderIdsByFolderTypeForAccount(E.Sck.INBOX,e)[0],getFolderIdsByFolderTypeForAccount:(s,a)=>t.folders(e).getFolderIdsFromFolderType(s,a),getAccountById:s=>t.mailboxes(e).getAccountsSelectors().getAccountById(s),getSendAccountsByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getSendAccountsByAccountId(s),getProviderFromAccount:s=>t.mailboxes(e).getAccountsSelectors().getProviderFromAccount(s),getAccountDescriptionByAccountId:s=>t.mailboxes(e).getAccountsSelectors().getAccountDescriptionByAccountId(s),getSelectedAccountId:()=>{const{getAccountById:e,getPrimaryAccountId:t}=a.getAccountSelectors(),s=a.getSelectedAccountIdByRoute(a.getRoute());return e(s)?s:t()},getPrimaryAccountId:()=>a.getAccountSelectors().getPrimaryAccountId(),getSendingAccountId:()=>t.mailboxes(e).getAccountsSelectors().getSendingAccountId(),getSelectedAccountIdByRoute:e=>{const t=(0,g.LY)(e),s=t?(0,g.Er)(t):[];if(1===s.length)return s[0];let n=(0,g.Fh)(t);const r=void 0!==e.params?e.params.csid:void 0,{doesComposeSessionExist:o,getDraftMessageId:i,getReplyingToMessageId:l,getMessageFolderId:c,doesFolderIdExist:d,getAccountIdByFolderId:_,getFolderPageRoute:u,getCursorItem:m,doesStreamExist:S,doesMessageGroupIdExist:p,getMainStreamListIds:C,getAccountIdFromMessageGroupId:A,getDefaultSetting:T}=a;if(!n&&r&&o(r)){const e=i(r)||l(r);n=e?c(e):void 0}if(re(e)&&Ee(e)&&p(e.params.groupId,t))return A(e.params.groupId,t);if(re(e)&&ie(e)&&T(E.Zrf.PREVIEW_PANE)!==E.EsZ.NO){const s=C(e),a=(0,L.BA)(s),r=S(a)?m(a):void 0;if(r){if(r.id&&"MESSAGES"===(0,g.WN)(r.listId)&&p(r.id,t))return A(r.id,t);if(r.csid){const e=i(r.csid)||l(r.csid);n=e?c(e):void 0}}}if(n&&d(n))return _(n);if(!n){const e=u();if(e){const t=(0,g.LY)(e),s=(0,g.Fh)(t);if(d(s))return _(s)}}const I=e.query?e.query.accountIds:void 0;return I||a.getAccountSelectors().getSelectedAccountId()},doesSelectedAccountExist:()=>a.getAccountSelectors().doesSelectedAccountExist(),getAccountNameByAccountId:e=>a.getAccountSelectors().getAccountNameByAccountId(e),hasAccountWithEmail:t.mailboxes(e).getAccountsSelectors().hasAccountWithEmail,getAccountIdByAccountEmail:s=>t.mailboxes(e).getAccountsSelectors().getAccountIdByAccountEmail(s),getEmailOfSelectedAccount:()=>t.mailboxes(e).getAccountsSelectors().getAccountEmailByAccountId(a.getSelectedAccountId()),isFolderExpanded:e=>-1!==a.getSetting(E.Zrf.EXPANDED_FOLDERS).indexOf(e),getAttachmentById:e=>a.getAttachmentsSelectors().getAttachmentById(e),getContentIdByAttachmentId:e=>a.getAttachmentsSelectors().getContentIdByAttachmentId(e),getConversationIdByAttachmentId:e=>a.getAttachmentsSelectors().getConversationIdByAttachmentId(e),getMimetypeByAttachmentId:e=>a.getAttachmentsSelectors().getMimetypeByAttachmentId(e),getAttachmentExtentionByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentExtentionByAttachmentId(e),getAttachmentTypeByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentTypeByAttachmentId(e),getAttachmentSubtypeByAttachmentId:e=>a.getAttachmentsSelectors().getAttachmentSubtypeByAttachmentId(e),getSizeByAttachmentId:e=>a.getAttachmentsSelectors().getSizeByAttachmentId(e),doesAttachmentExistById:e=>a.getAttachmentsSelectors().doesAttachmentExistById(e),getDocumentIdByAttachmentId:e=>a.getAttachmentsSelectors().getDocumentIdByAttachmentId(e),getAttachmentIdByDocumentId:e=>a.getAttachmentsSelectors().getAttachmentIdByDocumentId(e),getAttachmentMessageReferenceByContentId:e=>a.getAttachmentsSelectors().getMessageReferenceByContentId(e),getAttachmentByContentId:e=>a.getAttachmentsSelectors().getByContentId(e),isInlineAttachmentById:e=>a.getAttachmentsSelectors().isInlineAttachmentById(e),isNonInlineAttachmentById:e=>a.getAttachmentsSelectors().isNonInlineAttachmentById(e),didAttachmentUploadFail:e=>a.getAttachmentsSelectors().hasError(e),getAttachmentIdsByMessageId:t.messageToAttachments(e).attachmentsByMessageId,getAttachmentDownloadAllUrlByMessageId:e=>a.getMessagesSelectors().getDownloadAllUrl(e),getMessageIdForAttachmentId:t.messageToAttachments(e).getMessageIdForAttachmentId,getAliasSuggestions:t.mailboxes(e).getAliasSuggestions,getAliasSuggestionStatus:t.mailboxes(e).getAliasSuggestionStatus,getSocialAccountsStatus:t.mailboxes(e).getSocialAccountsStatus,getAllAccounts:t.mailboxes(e).getAccountsSelectors().getAllAccounts,getPrimaryAccount:t.mailboxes(e).getAccountsSelectors().getPrimaryAccount,getAccountsForSearch:()=>pe("getAccountsForSearch",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getAccountsSelectors().getAllAccounts().filter((e=>e.status===E.dpb.ENABLED&&e.accountVerified&&e.type&&E.qxq.indexOf(e.type)>-1))))(a),getExpiredAccounts:()=>pe("getExpiredAccounts",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getExpiredAccounts()))(a),getRootAccounts:()=>pe("getRootAccounts",(()=>"accounts"),[e=>e.getMailboxesSelectors()],(e=>e.getAccountsSelectors().getRootAccounts()))(a),getRootAccountsWithDefaultFolder:()=>s(e),getSwitchableAccounts:()=>{const{getRootAccountsWithDefaultFolder:e}=a;return e().filter((e=>{var t;return e.status===E.dpb.ENABLED&&(null===(t=e.defaultFolder)||void 0===t?void 0:t.id)}))},getValidReplyToAddresses:()=>{const{getAllAccounts:e}=a;return e().filter((e=>e.accountVerified&&e.status===E.dpb.ENABLED)).map((({email:e})=>e))},getAliasAccounts:t.mailboxes(e).getAccountsSelectors().getAliasAccounts,hasMultipleRootAccounts:t.mailboxes(e).getAccountsSelectors().hasMultipleRootAccounts,isMyEmailAddress:t.mailboxes(e).getAccountsSelectors().isMyEmailAddress,isSelectedAccount:s=>{const{getSelectedAccountId:n}=a,{getAccountEmailByAccountId:r}=t.mailboxes(e).getAccountsSelectors();return s===r(n())},getMyAddresses:()=>a.getAccountSelectors().getMyAddresses(),isUserOwnEmailMessage:e=>{const[{email:t=""}={}]=a.getMessagesSelectors().getFromAddresses(e);return a.isMyEmailAddress(t)},__patchV2MyAddresses__:()=>a.getMyAddresses().reduce(((e,t)=>({...e,[t]:!0})),{}),getMailboxesSelectors:()=>t.mailboxes(e),getSettingsSelectors:()=>t.settings(e),getComposeAttributesSelectors:()=>t.composeAttributesStatus(e),getDraftFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Sck.DRAFT,s)[0],getSelectedAccountIdByAccountEmail:e=>{let t;return t=a.getAccountSelectors().isPrimaryAccountEmail(e)?a.getAccountIdByAccountEmail(e):a.getSelectedAccountId(),t},getDraftFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=a.getAccountSelectors();return a.getDraftFolderIdByAccountId(e())},getDraftFolderIdByAccountEmail:e=>a.getDraftFolderIdByAccountId(a.getSelectedAccountIdByAccountEmail(e)),getSendFolderIdForPrimaryAccount:()=>{const{getPrimaryAccountId:e}=a.getAccountSelectors();return a.getSendFolderIdByAccountId(e())},getSendFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Sck.SENT,s)[0],getInboxFolderIdByAccountId:s=>t.folders(e).getFolderIdsFromFolderType(E.Sck.INBOX,s)[0],getSendFolderIdByAccountEmail:e=>a.getSendFolderIdByAccountId(a.getSelectedAccountIdByAccountEmail(e)),__isPermDeleteMessage:e=>{const{getMessageFolderId:t,isPermDeleteFolderType:s}=a;return s(t(e))},__getLastNonDraftMessageIdByGroupId:e=>{const{getMessageIdsFromMessageGroupId:t}=a,s=t(e).filter((e=>!a.isDraftMessage(e)));return s[s.length-1]},__getMessage:e=>a.getMessagesSelectors().__getMessage(e),__getMessageWithFlagsAndFolderId:e=>{const{getMessagesSelectors:t,getMessageFlags:s,getMessageFolderId:n}=a;return{...t().__getMessage(e),flags:s(e),folderId:n(e)}},__getOriginalMessageGroupSender:e=>{let t;if(a.doesMessageGroupIdExist(e)){const s=a.getMessageIdsFromMessageGroupId(e),[n]=s,r=a.getMessageFromAddress(n),[o]=r;t=o}return t},__getFolderIdMapFromFolderType(e,t){const{getMessageFolderId:s,getAccountIdByFolderId:n,getFolderIdsByFolderTypeForAccount:r}=a,o={};return e.forEach((e=>{const a=r(t,(e=>n(s(e)))(e)),[i]=a;o.hasOwnProperty(i)||(o[i]=[]),o[i].push(e)})),o},getCalendarSelectors:()=>t.calendar(e),getAdListItemsSelectors:()=>t.adListItems(e),getEnvironmentSelectors:()=>t.environment(e),getWindowDimensions:()=>a.getEnvironmentSelectors().getWindowDimensions(),isActiveUnknownAdBlocker:()=>{const{getEnvironmentSelectors:e}=a,{getUserAdBlockerData:t,getBrowser:s}=e(),n=t(),{browserName:r}=s(),o=n[r]||[];return(o.includes("athenaDetected")||o.includes("adblockDetected"))&&!o.includes("abpDetected")},getMainContentWidth:()=>{const{isNarrowScreen:e,getRightRailPanes:t}=a,s=e()?O.v9j:O.kaB,n=t().length?Number(s.substring(0,s.length-2)):52;return a.getWindowDimensions().contentAndRightRailWidth-n},getLeftNavWidth:()=>{const{isFeatureEnabled:s,getSetting:n}=a;if(!s(E.ANe.LEFT_NAV_RESIZING))return 0;const r=t.leftNavResizeWidth(e).leftNavResizeWidth(),o=n(E.Zrf.LEFT_NAV_WIDTH_FROM_SERVER);return r>0&&r!==o?r:o},getAppName:()=>a.getEnvironmentSelectors().getAppName(),isBrowserSupportedByNoble:()=>{const{isEnabled:e}=a.getFeaturesSelectors(),t=e(E.ANe.NOBLE_SUPPORTED_BROWSER_VERSION),s=e(E.ANe.NOBLE_SUPPORTED_OS_VERSION);return t&&s},isAppVisible:()=>a.getEnvironmentSelectors().isAppVisible(),getApplicationLastVisibleTimeStamp:()=>a.getEnvironmentSelectors().getApplicationLastVisibleTimeStamp(),getBuildRefreshStatus:()=>a.getEnvironmentSelectors().getBuildRefreshStatus(),getTimeZoneName:()=>a.getEnvironmentSelectors().getTimeZoneName(),getIsInternalIP:()=>pe("getIsInternalIP",(()=>"getIsInternalIP"),[e=>e.getEnvironmentSelectors()],(()=>a.getEnvironmentSelectors().getIsInternalIP()))(a),isNarrowScreen:()=>pe("isNarrowScreen",(()=>"isNarrowScreen"),[e=>e],(()=>(0,M.H)(a)))(a),isMessageDeliveredToSpamFolder:s=>{const n=a.getMessagesSelectors().getFolderOfDelivery(s);return!(!n||!a.doesFolderIdExist(n))&&t.folders(e).isSpamFolder(n)},shouldShowSpamAttachmentWarning:e=>!a.isSpamMessage(e)&&a.isMessageDeliveredToSpamFolder(e),getLaunchError:t.launchError(e).getLaunchErrorType,getLocationSuggestionSelectors:()=>t.locationSuggestions(e),getTravelCardListItems:(e,t,s)=>function(e,t,s,a){const n=[],{getMessagesSelectors:r,getFlightsSelectors:o,getListsSelectors:i,getCardGroupsSelectors:l,getCardMessageToSchemasSelectors:c}=e,{getItemIds:d}=i().getItemIdsSelectors(t),{getConversationId:_}=r(),{getMessageIdsFromCardGroupId:u,getMostRecentEmailId:m}=l(),{getSchemas:S}=c(),p=(0,g.C4)(t),C=(0,g.WW)(t);switch(d().forEach((e=>{const r=u(e),i=m(e),l=s?_(i):i;r.forEach((s=>{S(s).forEach((({id:s,type:r})=>{if(r===E.rgK.FlightReservation){const{getCardDate:i,isEligibleCardForFilter:c}=o(),d=i(s);c(s,p,a)&&n.push({id:s,type:r,listId:t,cardConversationId:e,groupId:l,cardDate:d,timestamp:d})}}))}))})),C){case E.Asd.CARD_DATE_ASC:n.sort(((e,t)=>e.cardDate-t.cardDate));break;case E.Asd.CARD_DATE_DESC:n.sort(((e,t)=>t.cardDate-e.cardDate))}return n}(a,e,t,s),getReceiptCardListItems:(e,t)=>function(e,t,s){const a=[],{getMessagesSelectors:n,getCardMessageToSchemasSelectors:r,getListsSelectors:o,getReceiptSelectors:i}=e,{getCardConversationId:l,getParentMessageIdForCardConversationId:c,getParentConversationIdForCardConversationId:d}=n(),{getSchemas:_}=r(),{getItemIdsSelectors:u}=o(),{getPrice:m,getFirstItemName:S,getOrderDate:p,getNumItems:C,getCurrency:A}=i(),T=u(t).getItemIds(),I=(0,g.WW)(t);switch(T.forEach((e=>{const n=_(e).filter((e=>e.type===E.rgK.Order));if(1===n.length){const r=l(e),o=n[0].id,i=m(o),_=S(o),u=p(o),T=C(o),I=A(o),h=d(r),g=c(r),O=s;a.push({id:o,type:E.rgK.Order,listId:t,schemaId:o,cardMid:e,price:i,itemName:_,numItems:T,currency:I,orderDate:u,conversationId:h,messageId:g,hasConv:O,timestamp:new Date(u).getTime()})}})),I){case E.Asd.DATE_ASC:a.sort(((e,t)=>e.timestamp-t.timestamp));break;case E.Asd.DATE_DESC:a.sort(((e,t)=>t.timestamp-e.timestamp))}return a}(a,e,t),getSenderRollupItems:(e,t)=>function(e,t){const{getSenderRollupSelectors:s,getListsSelectors:a,getAccountSelectors:n}=e,{getSenderRollupById:r}=s(),{getItemIds:o}=a().getItemIdsSelectors(t),i=(0,g.Fh)(t),l=o(),c=n().getMyAddresses().reduce(((e,t)=>(e[t]=!0,e)),{});return l.reduce(((e,s)=>{const a=r(i,s);if(a){const{messages:n,timestamp:r,type:o,unreadCount:i,from:l,subjects:d,totalCount:_}=a;n&&n.length&&e.push({id:s,listId:t,subject:d[0],senders:l,myAddresses:c,type:o,timestamp:1e3*r,unreadCount:i,totalCount:_})}return e}),[])}(a,e),getCurrentSpaceId:()=>(0,b.Fk)(e).spaceId,emptyFolderDisplayAdEligible(){const{getRoute:e,getAdsSelectors:t,listExistsAndIsEmpty:s,isFeatureEnabled:n,getListStatus:r}=a,{isABPDetected:o}=t();if(!n(E.ANe.EMPTY_FOLDER_DISPLAY_AD)||o())return!1;const i=e(),l=(0,g.LY)(i);return s(l)&&r(l)===E.DAQ.LOADED&&(0,g.WN)(l)===E.F6k.MESSAGES&&(i.name===E.n8z.FOLDER||(0,g.rB)(i))},isGPTIframeLoaded:()=>a.getAdsSelectors().isGPTIframeLoaded(),getAvailableSortOrders:()=>{const{getFoldersSelectors:e,getCurrentListId:t,getRoute:s,isFeatureEnabled:n}=a,r=t(),o=(0,g.Fh)(r),i=o?e().getPrimaryFolderTypeByFolderId(o):void 0,l=n(E.ANe.CONVERSATIONS),c=n(E.ANe.SENDER_ROLLUP);return((e,t,s,a,n=!1)=>{const r=a?(0,g.WN)(a):E.F6k.MESSAGES;switch(e.name){case E.n8z.SEARCH:return r===E.F6k.IMAGES||r===E.F6k.DOCUMENTS?U:F;case E.n8z.LIST:if(a&&(0,g.GG)(a))return U;if(a&&(0,g.C4)(a)===E.ukn.ALL_INBOX)return s?n?[...w,E.Asd.SENDER]:w:G;break;default:return t===E.Sck.DRAFT?k:s?n?[...w,E.Asd.SENDER]:w:G}})(s(),i,l,r,c)},shouldEnableGroupActions:e=>{const{getCursorItem:t,doesStreamExist:s,hasSelectedStreamItems:n,getAdListItemsSelectors:r}=a,o=s(e)?t(e):void 0,i=s(e)&&n(e)||r().hasSelectedPencilAds();return!(!o||i)},shouldEnableTriageActions:e=>{const{getCursorItem:t,doesStreamExist:s,getSelectedStreamItems:n}=a,r=s(e)?t(e):void 0,o=s(e)?n(e):[];return!!(r||o.length>0)},canShowToolbarItem:e=>{const{getSetting:t,isAllCardsExpanded:s,getMessageIdsFromMessageGroupId:n,shouldEnableGroupActions:r,doesStreamExist:o,getCursorItem:i,getFoldersSelectors:l,getCurrentListId:c}=a,d=t(E.Zrf.PREVIEW_PANE),_=o(e)?i(e):void 0,u=_?_.id:void 0,m=!!_&&s(_.listId,u),S=n(u),p=(0,g.Fh)(c());return((e,t,s,a,n)=>(r,o="")=>{let i;const l=Boolean(e),c=e===E.Sck.TRASH,d=e===E.Sck.ARCHIVE,_=e===E.Sck.BULK,u=e===E.Sck.DRAFT,m=s!==E.EsZ.NO&&t&&n.length>1;switch(r){case E.Egu.ARCHIVE:i=!(o===E.Ql2.AOL||l&&(d||_||c));break;case E.Egu.RESTORE:i=d||_||c;break;case E.Egu.SPAM:i=!_;break;case E.Egu.HAM:i=_;break;case E.Egu.RAF:i=s!==E.EsZ.NO&&(!l||!_&&!u);break;case E.Egu.EXPANDALL:i=m&&!1===a;break;case E.Egu.COLLAPSEALL:i=m&&!0===a;break;default:i=!0}return i})(p?l().getPrimaryFolderTypeByFolderId(p):void 0,r(e),d,m,S)},canEnableToolbarItem:e=>{const{shouldEnableGroupActions:t,shouldEnableTriageActions:s,getFoldersSelectors:r,getCurrentListId:o,getSelectedAccountId:i,getSelectedStreamItems:l,doesStreamExist:c,getAccountIdFromMessageGroupId:d,getMessageIdsFromMessageGroupId:_,getMessageFolderId:u,isDraftFolder:m,isSentFolder:S,getCursorItem:p}=a,C=t(e),A=s(e),T=(0,g.Fh)(o()),I=T?r().getPrimaryFolderTypeByFolderId(T):void 0,h=c(e),O=h?l(e):[],D=h?p(e):{},R=O.map((({id:e})=>e)),N=i(),L=R.map((e=>d(e,o())));let f=!1,M=!1;if(0===R.length&&D||1===R.length){const e=0===R.length?_(D.id):_(R[0]);if(1===e.length){const t=u(e[0]);f=m(t),M=S(t)}}return((e,t,s,a,r,o,i)=>l=>{let c;const d=e===E.Sck.DRAFT,_=e===E.Sck.SENT,u=e===E.Sck.BULK;let m=(r=n()(r)).length<=1;switch(1===r.length&&(m=m&&r[0]===a),l){case E.Egu.ARCHIVE:c=!d&&t&&!o;break;case E.Egu.MOVE:c=!d&&t&&m&&!o;break;case E.Egu.SPAM:c=!d&&!_&&t&&!o&&!i;break;case E.Egu.HAM:c=u&&t&&!o;break;case E.Egu.RAF:c=s;break;case E.Egu.MORE:default:c=t}return c})(I,A,C,N,L,f,M)},doesComposeHaveFatalError:s=>t.composeSessions(e).getFatalErrorCount(s)>=a.getSetting(E.Zrf.COMPOSE_THROTTLE_COUNT),isLoadingGeminiAsset:e=>a.getReconciledUnsyncedData().some((t=>t.type===E.sKi.GEMINI_AD_ASSET&&t.userInputtedValues.creativeId===e)),getStreamItemInFocus:()=>{const{doesStreamExist:e,getCursorItem:t,doesMessageGroupIdExist:s,getRoute:n,getComposeSessionsSelectors:r,getMessageGroupStreamItemsWithExpansionStates:o,getGroupId:i}=a,{doesComposeSessionExist:l}=r(),c=n(),d=(0,g.LY)(c),_=i(),u=_&&s(_,d)?(0,L.k3)(d,_):void 0;let m=e(u)?t(u):void 0;if(!m||(0,g.WN)(m.listId)===E.F6k.COMPOSE&&!l(m.id)){const e=(0,g.tE)(d,{listContentType:E.F6k.MESSAGE}),t=_&&s(_,d)?o({id:_,listId:e}):[];m=t.filter((e=>e.expansionState===E.Lvq.EXPANDED)).slice(-1)[0]||t.slice(-1)[0]}return m},getGroupIdInPreviewPane:()=>{const{getRoute:e,doesStreamExist:t,getCursorItem:s,doesMessageGroupIdExist:n,getMainStreamListIds:r,getSelectedStreamItems:o}=a,i=r(e()),l=(0,L.BA)(i),c=t(l)?o(l).length:0,d=t(l)?s(l):void 0;return 0===c&&d&&n(d.id)?d.id:null},getGroupId:()=>{const{getRoute:e,getGroupIdInPreviewPane:t,getSetting:s}=a,n=oe(e())||{};return s(E.Zrf.PREVIEW_PANE)===E.EsZ.NO||n.groupId?n.groupId:t()},getMainStreamListIds:e=>[(0,g.LY)(e)],canShowTopOfInboxCards:()=>{var e;const{getFeaturesSelectors:t,getRoute:s,getFoldersSelectors:n,getTopOfInboxCardsSelectors:r,getPrescribedNumberOfColumns:o,isFeatureEnabled:i,getMessageListItems:l}=a,c=s(),{getSetting:d}=t(),_=(0,g.LY)(c),u=(0,g.Fh)(_),{isInboxFolder:m}=n(),S=i(E.ANe.TOP_OF_INBOX_CARDS)&&c.name===E.n8z.FOLDER&&m(u),p=S&&!le(c)&&d(E.Zrf.PREVIEW_PANE)===E.EsZ.NO&&(d(E.Zrf.PACKAGE_TRACKING_SETTINGS)||i(E.ANe.YAI_RETRO_COMPOSE))&&ue((0,g.WW)(_),(null===(e=l(_))||void 0===e?void 0:e.length)||0),C=S&&le(c)&&1===o()&&1===(0,J.nC)();if(p||C){const{getTopOfInboxCards:e}=r();if(e().length)return!0}return!1},canShowStickyOnboarding:()=>{const{getSetting:t,isFeatureEnabled:s,getRoute:n,getPrimaryAccount:r,getFoldersSelectors:o}=a,i=s(E.ANe.SHOW_USER_STICKY_ONBOARDING_CUE),l=t(E.Zrf.STICKY_ONBOARDING_CARDS),c=t(E.ANe.FORCE_USER_STICKY_ONBOARDING_CUE);if(i||c){const t=n(),s=(0,g.LY)(t),a=(0,g.Fh)(s),{isInboxFolder:i}=o();if(c&&i(a))return!0;const d=r(),_=ee()(Math.floor((new Date).getTime()),1e3*d.createTime),u=(0,te.Y)([l],Ae(e))===l.length;return!(!i(a)||_>E.r9t||u||0===l.length)}return!1},getMainStreamItems:t=>{let s=[];const{getListsSelectors:n,getTravelCardListItems:r,getReceiptCardListItems:o,getEnvironmentSelectors:i,getMessageListItems:l,getAttachmentListItems:c,isFeatureEnabled:d,doesListExist:_,getMainStreamListIds:u,getMainContentWidth:m,getFeaturesSelectors:S,getSenderRollupItems:p,isStorefrontRoute:C,canShowTopOfInboxCards:A,isMobileRoute:I,getRoute:h,getFoldersSelectors:O}=a,D=(0,g.LY)(t);if(!_(D))return s;const{getSetting:R}=S(),{hasMoreItems:N,getListStatus:L}=n(),{getTimeZoneName:M}=i(),{isSpamFolder:b,isTrashFolder:y}=O(),v=d(E.ANe.CONVERSATIONS),F=(0,g.WN)(D),U=u(t),k=(0,P.zz)({timezone:M(),now:(0,T.Ux)()});switch(F){case E.F6k.TRAVEL_CARDS:{const e=Date.now(),t=(0,P.zz)({timezone:M(),now:(0,T.Ux)(),hasFutureTime:!0}),a=(0,g.C4)(D),n=a===E.ukn.TRAVEL_VIEW_UPCOMING?t:k,o=r(D,v,e);if(s=me({list:o,timePredicates:n}),a===E.ukn.TRAVEL_VIEW_UPCOMING&&0===s.length)return s;break}case E.F6k.COUPON_CARDS:{const t=U.filter((e=>_(e))).reduce(((e,t)=>e===E.DAQ.LOADING||e===E.DAQ.ERROR?e:L(t)),E.DAQ.DOES_NOT_EXIST);s=(0,f.PH)(e,U,t);break}case E.F6k.REFUND_CARDS:{const e=o(D,v);s=me({list:e,timePredicates:k}),s.length&&(s[s.length-1].isLastItemInGroup=!0);break}case E.F6k.MESSAGES:{const e=(0,g.WW)(D);let t=l(D);const a=h(),{fid:n}=oe(a),r=a.name===E.n8z.SEARCH;if(d(E.ANe.PINNED_EMAILS)&&!r&&!b(n)&&!y(n)&&R(E.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS).length>0){const a=l((0,g.uW)()),n=a.map((({id:e})=>e));t=t.filter((({id:e})=>!n.includes(e))),s=C()?t:me({list:t,timePredicates:k,sortOrder:e}),s=[{id:E.F6k.PINNED_EMAILS_TITLE,listId:(0,g.rA)({listContentType:E.F6k.PINNED_EMAILS_TITLE})},...a,...s]}else s=C()?t:me({list:t,timePredicates:k,sortOrder:e});A()&&(s.unshift({id:E.F6k.TOP_OF_INBOX_CARDS,listId:(0,g.rA)({listContentType:E.F6k.TOP_OF_INBOX_CARDS})}),I(a)||s.unshift({id:E.F6k.TOP_OF_INBOX_CARDS_TITLE,listId:(0,g.rA)({listContentType:E.F6k.TOP_OF_INBOX_CARDS_TITLE})}));break}case E.F6k.SENDERS:s=p(D);break;case E.F6k.IMAGES:{const e=(0,g.WW)(D),t=c(D),a=t.length>=4&&-1!==[E.Asd.DATE_DESC,E.Asd.DATE_ASC].indexOf(e),n=m(),r=R(E.Zrf.LIST_ITEM_HEIGHT,{contentType:F}),o=Math.floor(n/r);if(a){const{list:e,isGroupedList:a}=(0,P.sD)(t,k);s=a?[...(0,P.CY)(e,o)]:(0,P.I2)(t,o,"unknown","none")}else 0!==t.length&&(s=(0,P.I2)(t,o,"unknown","none"));break}case E.F6k.DOCUMENTS:{const e=(0,g.WW)(D),t=c(D);s=me({list:t,timePredicates:k,sortOrder:e});break}}return U.some((e=>_(e)&&N(e)))&&(s=[...s,{id:E.F6k.LOAD_MORE,listId:(0,g.rA)({listContentType:E.F6k.LOAD_MORE})}]),s},getListItemsWithAds:(e,t)=>{var s;const{doesListExist:n,getAdsSelectors:r,getContactListSelectors:o,getEnvironmentSelectors:i,getSetting:l,isFeatureEnabled:c}=a,d=(0,g.LY)(e),_=e.name===E.n8z.SEARCH,u=c(E.ANe.PENCIL_AD),m=c(E.ANe.SEARCH_AD),{isAdblockerDetected:S,isABPDetected:C}=r(),A=C(),T=n(d)&&(0,g.DF)(d),{getContactByEmail:I}=o(),h=T&&I(T),D=c(E.ANe.TALL_PENCIL_AD);if(!n(d)||0===t.length||!u||S()||_&&A||_&&!(0,g.rB)(e)&&!m)return t;const R=(0,g.WN)(d);let N=t;if(R===E.F6k.MESSAGES){const s=l(E.Zrf.GEMINI_SECTION_IDS),n=(0,H.GZ)(a,A?s[E.e$m.ADBLOCK_MESSAGE_LIST]:s[E.e$m.MESSAGE_LIST]),{getWindowDimensions:r}=i(),{innerHeight:o,ybarHeight:d}=r(),u=o-d-O.k5G;let m=(0,H.Kz)(a,R,_)&&u>0;const S=c(E.ANe.SECOND_SEARCH_AD);if((0,H.SL)(a,e)){var L,f,M;let e=0;(null==t||null===(L=t[0])||void 0===L?void 0:L.id)===E.F6k.TOP_OF_INBOX_CARDS_TITLE&&(e+=2),(null==t||null===(f=t[0+e])||void 0===f?void 0:f.id)===E.F6k.PINNED_EMAILS_TITLE&&(e+=l(E.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS).length+1),(0,g.WN)(null==t||null===(M=t[0+e])||void 0===M?void 0:M.listId)!==E.F6k.TIMECHUNK||D||(e+=1,e>1&&(m=!1)),N=t,N.splice(e,0,n)}if(m){let e=0,t=0;const n=(0,H.GZ)(a,A?s[E.e$m.ADBLOCK_MESSAGE_LIST_2]:s[E.e$m.MESSAGE_LIST_2]);for(let s=0;s<N.length;s++){if(e>u&&t>=10){N.splice(s,0,n);break}if(_&&S&&s===N.length-1&&!c(E.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL)){N.push(n);break}t+=N[s].relevantMessageId?1:0,e+=(0,g.WN)(N[s].listId)===E.F6k.TIMECHUNK?O.fa0:N[s].listItemHeight}}}if(c(E.ANe.SHOW_SEARCH_CONTACT_CARD)&&_&&null!=h&&h.isBusiness&&!(0,p.isBusinessOutboundLinkDisabled)(null==h||null===(s=h.emails)||void 0===s?void 0:s[0])){var P;const e={email:null==h||null===(P=h.emails)||void 0===P?void 0:P[0],id:E.F6k.CONTACTS,listId:(0,g.tE)(d,{listContentType:E.F6k.CONTACTS}),listItemHeight:l(E.Zrf.PREVIEW_PANE)===E.EsZ.RIGHT?O.ljI:O.rcB};N.unshift(e)}return N},isYaiSemanticSearch(){const{getRoute:e,isFeatureEnabled:t}=a;if(!t(E.ANe.YAI_SEARCH))return!1;const s=e(),n=(0,g.LY)(s);let r=(0,g.Q7)(n);return(0,se.Gi)(r)&&(r=(0,se.vl)(r)),r.split(" ").length>=E.$eb},getSubscriptionListItems:e=>{const{isFeatureEnabled:t,getListsSelectors:s}=a,{getItemIdsSelectors:n,doesListExist:r}=s();return r(e)&&t(E.ANe.SUBSCRIPTION_LIST)?n(e).getItemIds():[]},sortContactAlphabetically:(e,t)=>{const{itemType:s={},id:n}=e,{itemType:r={},id:o}=t,i=s.id||n,l=r.id||o,{getContactListSelectors:c}=a,{getContactById:d,getContactsSortOrder:_}=c(),E=d(i)||{},u=d(l)||{},m=_(),S=(0,p.getComparableValue)(m,E),C=(0,p.getComparableValue)(m,u);return S<C?-1:S>C?1:0},getContactListItems:e=>{const{getListsSelectors:t,getStreamsSelectors:s,sortContactAlphabetically:n,getContactListSelectors:r}=a,{getItemIdsSelectors:o,getTotalHits:i,doesListExist:l}=t(),{getContactCategoryById:c,getCategoryFilter:d}=r();if(!l(e))return[];const _=(0,g.C4)(e),u=d();if(_===E.ukn.GROUPS){return o(e).getItemIds().map((t=>({id:(0,x.ap)(t),itemType:t,listId:e,type:E.F6k.CONTACTS}))).sort(n)}const{doesStreamExist:m,getExpansionStateForStreamItem:S}=s(),p=o(e).getItemIds().filter((e=>o(e).getItemIds().length>0)),A=p.length>1,T=m(e),I=_===E.ukn.USER_CREATED_CONTACTS&&u===E.Ygm.ALL_CONTACTS;return(0,C.xH)(p.map((t=>{const s=A?[{id:t+"separator",listId:t,type:E.F6k.CONTACTS_SEPARATOR}]:[],a=o(t).getItemIds().filter((e=>u===E.Ygm.ALL_CONTACTS||c(e)===u)).map((e=>({id:e,listId:t,type:E.F6k.CONTACTS}))),r=i(t);let l=a;if(I&&r>E.Weh){l=[...a.slice(0,E.Weh),{id:t+"loader",listId:t,type:E.F6k.EXPAND_COLLAPSE_CONTACTS}];if(T&&!!S({streamId:e,listId:e,csid:t})){const e=r-a.length,s=e>0&&(0,C.w6)(e)||[];l=[...l,...a.slice(E.Weh).sort(n),...s.map((e=>({id:t+"loading"+e,listId:t,type:E.F6k.LOADING_INDICATOR})))]}}return l.length?[...s,...l]:[]})))},getCustomContactGroups:()=>{const{getItemIdsSelectors:e,doesListExist:t}=a,s=(0,g.uh)(E.ukn.GROUPS);return t(s)?e(s).getItemIds():[]},getWalletListItems:()=>{const{getWalletSelectors:e}=a,{getGiftCards:t,getCredits:s,getRewards:n}=e(),r=[],o=t().map((e=>({id:e.uniqueCardId,item:e,itemType:E.ki7.GIFT_CARD,type:E.F6k.WALLET_LIST_ITEM}))),i=s().map((e=>({id:e.uniqueCardId,item:e,itemType:E.ki7.CREDIT,type:E.F6k.WALLET_LIST_ITEM}))),l=n().map((e=>({id:e.uniqueCardId,item:e,itemType:E.ki7.REWARD,type:E.F6k.WALLET_LIST_ITEM}))),c=[{id:"gift_cards_separator",itemType:E.ki7.GIFT_CARD,type:E.F6k.WALLET_LIST_SEPARATOR},{id:"credits_separator",itemType:E.ki7.CREDIT,type:E.F6k.WALLET_LIST_SEPARATOR},{id:"rewards_separator",itemType:E.ki7.REWARD,type:E.F6k.WALLET_LIST_SEPARATOR}];return o.length&&r.push(c[0],...o),i.length&&r.push(c[1],...i),l.length&&r.push(c[2],...l),r},doesStreamExist:e=>a.getStreamsSelectors().doesStreamExist(e),getStreamSelectionType:t=>{const{isFeatureEnabled:s,getStreamsSelectors:a}=Ae(e),{getSelectionType:n}=a();if(!s(E.ANe.SELECT_ALL))return E.ie0.NONE;const{doesStreamExist:r}=a();return r(t)?n(t):E.ie0.NONE},getCursor:e=>{const{getCursorSelectors:t}=a.getStreamsSelectors();return t(e).getCursor()},getCursorItem:e=>{const{getCursorSelectors:t}=a.getStreamsSelectors();return t(e).getCursorItem()},hasSelectedStreamItems:e=>a.getStreamSelectionType(e)!==E.ie0.NONE||a.getSelectedStreamItems(e).length>0,getSelectedStreamItems:e=>{const{getSelectedItemsSelectors:t}=a.getStreamsSelectors();return t(e).getSelectedItems().filter((({id:e,listId:t})=>!!a.doesListItemExist(t,e)))},isStreamItemSelected:(e,t)=>{const{getSelectedItemsSelectors:s}=a.getStreamsSelectors(),n=a.getRoute();return(!le(n)||!Ee(n))&&s(e).isItemSelected(t)},isMoveAllowed:(e,t)=>{const{getAccountIdsOfSelectedItems:s,getFoldersSelectors:n,getMessageGroupStreamItems:r,getCurrentListId:o}=a,{getPrimaryFolderTypeByFolderId:i}=n();if(t){const e=r(t);return!(!e.every((e=>e.folderType===E.Sck.BULK))&&(e=>e.every((e=>e.folderType===E.Sck.DRAFT)))(e))}const l=o(),c=s(e,l),d=(0,g.Fh)(l),_=d?i(d):null,u=Boolean(_),m=_===E.Sck.DRAFT;return 1===c.length&&!(u&&m)},getParticipantInFocus:()=>{const{getMessagesSelectors:e,doesMessageGroupIdExist:t,getMessageIdsFromMessageGroupId:s,getStreamItemInFocus:n,getParticipant:r,getGroupId:o}=a,{doesMessageIdExist:i}=e(),l=n()||{},c=l.id||l.messageId,d=o();if(l&&i(c))return r(c);const _=t(d)?s(d):[],E=_[_.length-1];return i(E)?r(E):null},getImportantContactsSelectors:()=>t.importantContacts(e),getComposeSuggestionSelectors:()=>t.composeSuggestions(e),getRecentSearchesSelectors:()=>t.recentSearches(e),getBreakingNewsSelectors:()=>t.breakingNews(e),getWeatherSelectors:()=>t.weather(e),getSpellCheckSelectors:()=>t.spellCheck(e),getSenderEmailIdsFromMessageGroup:e=>{const t={},s=a.getMyAddresses();return e.forEach((e=>{a.doesMessageGroupIdExist(e)&&a.getMessageIdsFromMessageGroupId(e).forEach((e=>{const n=a.getMessageFromAddress(e)[0];n&&n.email&&-1===s.indexOf(n.email)&&(t[n.email]=!0)}))})),Object.keys(t)},getAdSectionIds:()=>{const{getRoute:e,isFeatureEnabled:t,getSetting:s,getAction:n,getAdsSelectors:r,getPrescribedNumberOfColumns:o,isMobileRoute:i,getSmartViewTypeFromRoute:l}=a,{hasSponsoredMessageOnMessageList:c,isABPDetected:d}=r(),{type:_}=n(),u=e(),S=s(E.Zrf.GEMINI_SECTION_IDS),p=i(u),C=2===o(),A=l(u),T=A===E.K8C.COUPONS,I=[],h=c(),O=t(E.ANe.MSG_READ_PENCIL_AD),D=d();switch(_){case m.HIDE_RIGHT_PANE_ADS:if(t(E.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD))return{[E.e$m.RIGHT_RAIL_UPSELL]:S[E.e$m.RIGHT_RAIL_UPSELL]}}if(T&&t(E.ANe.DEALS_SHOPPING_CART_AD)&&t(E.ANe.DEALS))return{[E.e$m.DEALS_SHOPPING_CART]:S[E.e$m.DEALS_SHOPPING_CART]};switch(u.name){case E.n8z.BASE:case E.n8z.FOLDER:case E.n8z.LIST:case E.n8z.SEARCH:if(u.name===E.n8z.LIST&&((0,g.WN)((0,g.LY)(u))!==E.F6k.MESSAGES||![E.K8C.NEWMAIL,E.K8C.OLDMAIL].includes(A)))break;if(t(E.ANe.NOBLE_HYBRID_AD))return h===E.vaW.SUCCESS||h===E.vaW.PENDING?{[E.e$m.MESSAGE_LIST]:S[E.e$m.MESSAGE_LIST],[E.e$m.MESSAGE_LIST_SPONSORED_MESSAGE]:S[E.e$m.MESSAGE_LIST_SPONSORED_MESSAGE],[E.e$m.MESSAGE_LIST_2]:S[E.e$m.MESSAGE_LIST_2]}:{[E.e$m.MESSAGE_LIST_CAROUSEL]:S[E.e$m.MESSAGE_LIST_CAROUSEL]};I.push(D?E.e$m.ADBLOCK_MESSAGE_LIST:E.e$m.MESSAGE_LIST),t(E.ANe.MESSAGE_LIST_AD_CAROUSEL)||t(E.ANe.PORTRAIT_AD)?I.push(E.e$m.MESSAGE_LIST_CAROUSEL):t(E.ANe.SECOND_PENCIL_AD)&&(I.push(D?E.e$m.ADBLOCK_MESSAGE_LIST_2:E.e$m.MESSAGE_LIST_2),S[E.e$m.MESSAGE_LIST_2_FALLBACK]&&I.push(E.e$m.MESSAGE_LIST_2_FALLBACK)),t(E.ANe.SHOPPING_CART_AD)?I.push(E.e$m.SHOPPING_CART):t(E.ANe.CROSS_DOMAIN_DPA_ADS)&&I.push(E.e$m.CROSS_DOMAIN_DPA_ADS),t(E.ANe.DOMAIN_MATCH_AD)&&I.push(E.e$m.MESSAGE_READ);break;case E.n8z.PORTRAIT_AD:I.push(E.e$m.MESSAGE_LIST_CAROUSEL);break;case E.n8z.MESSAGE_FROM_FOLDER_LIST:case E.n8z.MESSAGE_FROM_SEARCH_LIST:case E.n8z.MESSAGE_GROUP_LIST_FROM_FOLDER_LIST:case E.n8z.MESSAGE_FROM_LIST:if(p&&C){if(t(E.ANe.NOBLE_HYBRID_AD)){const e=h===E.vaW.SUCCESS||h===E.vaW.PENDING?{[E.e$m.MESSAGE_LIST]:S[E.e$m.MESSAGE_LIST],[E.e$m.MESSAGE_LIST_SPONSORED_MESSAGE]:S[E.e$m.MESSAGE_LIST_SPONSORED_MESSAGE],[E.e$m.MESSAGE_LIST_2]:S[E.e$m.MESSAGE_LIST_2]}:{[E.e$m.MESSAGE_LIST_CAROUSEL]:S[E.e$m.MESSAGE_LIST_CAROUSEL]};return O?{...e,[E.e$m.MESSAGE_READ]:S[E.e$m.MESSAGE_READ]}:e}t(E.ANe.AD_PARTIALLY_ABOVE_FOLD)||I.push(E.e$m.MESSAGE_LIST),t(E.ANe.MESSAGE_LIST_AD_CAROUSEL)?I.push(E.e$m.MESSAGE_LIST_CAROUSEL):t(E.ANe.SECOND_PENCIL_AD)&&I.push(E.e$m.MESSAGE_LIST_2),O&&I.push(E.e$m.MESSAGE_READ)}else t(E.ANe.SHOPPING_CART_AD)?I.push(E.e$m.SHOPPING_CART):t(E.ANe.CROSS_DOMAIN_DPA_ADS)&&I.push(E.e$m.CROSS_DOMAIN_DPA_ADS),(p&&O||t(E.ANe.DOMAIN_MATCH_AD))&&I.push(E.e$m.MESSAGE_READ)}return I.reduce(((e,t)=>(S[t]&&(e[t]=S[t]),e)),{})},isPeopleMessage:(e,t)=>{const{getMessagesSelectors:s,getRelevantMessageIdFromMessageGroupId:n,isPeopleSmartViewEnabled:r}=a;if(!r())return!1;const{getDecos:o}=s();return!!o(n(e,t)).find((({id:e})=>e===E.B_Z[E.K8C.PEOPLE]))},isPeopleSmartViewEnabled(){const{isFeatureEnabled:e}=a,{SMARTVIEW_CATEGORIES_IN_TABS:t,SMARTVIEW_CATEGORIES_PEOPLE:s,SMARTVIEW_CATEGORIES_PEOPLE_V2:n}=E.ANe;return e(t)||e(s)||e(n)},isMessageReadAdRotationActive:()=>{const{getFeaturesSelectors:e,getStreamItemInFocus:t,getEnvironmentSelectors:s,getRoute:n,doesStreamExist:r,getCursorItem:o}=a,{isEnabled:i,getSetting:l}=e(),c=s().isAppVisible(),d=i(E.ANe.MESSAGE_READ_AD_ROTATION),_=i(E.ANe.HIDE_RIGHT_RAIL),u=l(E.Zrf.PREVIEW_PANE)!==E.EsZ.NO,m=n(),S=(0,g.LY)(m),p=t(),C=!(!p||!p.listId)&&(0,g.WN)(p.listId)===E.F6k.MESSAGE;let A=m.name===E.n8z.MESSAGE_FROM_SEARCH_LIST||m.name===E.n8z.MESSAGE_FROM_FOLDER_LIST;if(u){const e=(0,L.BA)([S]);A=!!(r(e)?o(e):null)}return d&&!_&&c&&A&&C},isComposeFocused:()=>{const{getStreamItemInFocus:e,getRouteName:t}=a,s=e()||{},{folderType:n,listId:r}=s,o=t();return o===E.n8z.NEW_DRAFT||o===E.n8z.EDIT_DRAFT||n===E.Sck.DRAFT||r&&(0,g.WN)(r)===E.F6k.COMPOSE},getVideoChannelsMetaData(){const{getVideoPlayerSelectors:e}=a;return e().getChannelMetaData()},getAutotagSuggestions(e){const t=a.getComposeSessionsSelectors().getLastAutotagQuery(e);return a.getComposeSuggestions(t).slice(0,3)},couldShowEmptyFolderVideo(){const{getRoute:e,getMainStreamListIds:t,listExistsAndIsEmpty:s}=a,n=e();return!t(n).some((e=>!((0,g.WN)(e)===E.F6k.MESSAGES&&s(e)&&(n.name===E.n8z.FOLDER||(0,g.yE)(e)&&!(0,N.D3)(e)&&n.name!==E.n8z.MESSAGE_FROM_SEARCH_LIST)&&!(0,g.SH)(n)&&!(0,N.U6)(e)&&(0,g.aY)(e)!==E.qd8.SUBSCRIPTIONS)))},getCurrentFolderDetails(){const{formatFolderName:e,getAccountSelectors:t,getFoldersSelectors:s,getRoute:n,getSmartViewTypeFromListId:r,couldShowEmptyFolderVideo:o}=a,{getAccountById:i,getSelectedAccountId:l}=t(),{isSystemFolder:c,doesFolderIdExist:d}=s(),_=n(),E=(0,g.LY)(_),m=(0,g.GG)(E),S=(0,g.Fh)(E),p=!d(S)||c(S),C=i(l()),A=(0,u.hE)(C);return{listId:E,isSystemFolder:p,getFormattedFolderName:t=>{if(m){const e=r(E);return(0,I.rC)({formatMessage:t,smartViewType:e})}return e(S)(t).split("/").pop()},isAccountSyncing:A,isEmptyFolderUpsellEligible:o(),folderId:S}},listExistsAndIsEmpty(e){const{doesListExist:t,isListEmpty:s,doesListHasMoreItems:n}=a;return t(e)&&s(e)&&!n(e)},hasMatchingDomainInMessageGroup:e=>{const{getGroupId:t,getSenderEmailIdsFromMessageGroup:s}=a;return s([t()]).some((t=>!!e[(0,p.getRootDomainFromEmailAddress)(t)]))},hasBlockedDomain:()=>{const{getListsSelectors:e}=a,{doesListExist:t,getListStatus:s,getItemIds:n}=e(),r=(0,g._o)();let o=!1;return(t(r)?s(r):E.DAQ.LOADING)===E.DAQ.LOADED&&(o=!!n(r).find((({enable:e})=>!!e))),!!o},getActionableRightRailPane:()=>{const{getSetting:e,isFeatureEnabled:t}=a,s=e(E.Zrf.ACTIONABLE_RIGHT_RAIL_CONTENT);switch(s&&s.currentView){case E.Qk$.CONTACTS_PANE:return t(E.ANe.CONTACTS_PANE_FEATURE)?E._Ab.ContactsPane:null;case E.Qk$.CALENDAR_PANE:return E._Ab.CalendarPane;case E.Qk$.TODOS_PANE:return E._Ab.TodosPane;case E.Qk$.NOTES_PANE:return E._Ab.NotesPane;default:return null}},getContextualRightRailPanes:()=>{const{doesListExist:e,doesMessageGroupIdExist:t,isFeatureEnabled:s,isAttachmentRoute:n,getContactListSelectors:r,getCurrentListId:o,getMessagesSelectors:i,getMessageIdsFromMessageGroupId:l,getGroupId:c,getSmartViewTypeFromRoute:d,getSubjectAndSnippetSelectors:_,getRoute:u,isRRUpsellVideoAdTimestampValid:m,getPlaAdsSelectors:S,getFalconRelatedCardSelectors:p}=a,{getFalconContactCardByGroupId:C}=p(),A=m(),T=u(),I=c(),h=o(),{getSubject:O}=_();let D,R=[];const N=s(E.ANe.PLA_SEARCH_ADS)&&S().getPlaAdDataForCurrentRoute().ads.length>0;I&&t(I)&&(R=l(I));const{doesMessageIdExist:L,getFromAddresses:f}=i();let M=!1;if(R.length>0&&L(R[0])){var P;const e=null===(P=f(R[0])[0])||void 0===P?void 0:P.email,{getContactByEmail:t}=r(),s=t(e);M=null==s?void 0:s.isBusiness;const a=O(R[0],h);D=/^Fw:.*$/.test(a)}let b=!1;if(e(h)){const e=(0,g.DF)(h),{getContactByEmail:t}=r(),a=e&&t(e);b=!(null!=a&&a.isBusiness&&s(E.ANe.SHOW_SEARCH_CONTACT_CARD))}let y=!1;if(I&&s(E.ANe.COMMERCE_CARD_GROUP)){const e=C(I);y=e.name||e.website}const v=s(E.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT);if(n())return[E._Ab.AttachmentUi];if(s(E.ANe.DEALS_RECOMMEND_CONTROL_CUE))return[E._Ab.DealsRecommendControl];if(s(E.ANe.HIDE_RIGHT_RAIL))return[];const F=[];if(T.name!==E.n8z.LIST||(0,g.aY)((0,g.LY)(T))!==E.qd8.SUBSCRIPTIONS||v||F.push(E._Ab.SubscriptionCard),!(F.indexOf(E._Ab.SubscriptionCard)<0)||A&&T.name!==E.n8z.SEARCH||!s(E.ANe.RIGHT_RAIL_CONTACT_CARD)&&!s(E.ANe.MESSAGE_READ_CONTACT_CARD)||s(E.ANe.SHOW_MERCHANT_CARD)&&M&&!D||!b||y||F.push(E._Ab.ContactCard),s(E.ANe.RIGHT_RAIL_MESSAGES_CARD)&&F.push(E._Ab.MessageBrief),s(E.ANe.RIGHT_RAIL_PHOTO_CARD)&&(0,g.WN)(h)===E.F6k.IMAGES&&F.push(E._Ab.PhotoBrief),s(E.ANe.RIGHT_RAIL_DOCS_CARD)&&(0,g.WN)(h)===E.F6k.DOCUMENTS&&F.push(E._Ab.DocumentBrief),v||(s(E.ANe.DEALS)&&d(T)===E.K8C.COUPONS&&(F.push(E._Ab.SavedDeals),F.push(E._Ab.RetailerFilter)),s(E.ANe.DEALS_VIEW_FOR_INTLS)&&d(T)===E.K8C.COUPON_EMAILS&&F.push(E._Ab.SavedDeals)),!A){s(E.ANe.RIGHT_RAIL_NATIVE_AD)&&F.push(E._Ab.RightRailNativeAd),s(E.ANe.RELATED_SEARCHES_CARD)&&F.push(E._Ab.RelatedSearchesCard),s(E.ANe.BOOKING_CARD)&&!v&&F.push(E._Ab.TravelCardsGroup),N&&F.push(E._Ab.PlaAds),s(E.ANe.SUBHUB_RECOMMENDATIONS)&&F.push(E._Ab.SubhubRecommendations);(s(E.ANe.JAC_ADS)||s(E.ANe.GAM))&&!n()&&!s(E.ANe.RIGHT_RAIL_NATIVE_AD)&&!s(E.ANe.HIDE_RIGHT_RAIL)&&!(s(E.ANe.RIGHT_RAIL_PHOTO_CARD)&&(0,g.WN)(h)===E.F6k.IMAGES)&&!(s(E.ANe.RIGHT_RAIL_DOCS_CARD)&&(0,g.WN)(h)===E.F6k.DOCUMENTS)&&!N&&!s(E.ANe.SUBHUB_RECOMMENDATIONS)&&(d(T)!==E.K8C.COUPONS||v)&&F.push(E._Ab.RightPaneAds)}return F},getRightRailPanes:()=>{const{getActionableRightRailPane:e,getContextualRightRailPanes:t}=a,s=e();return s?[s]:t()},getPendingUpdate:()=>t.pendingUpdate(e).getPendingUpdate(),getDealsViewSelectors:()=>t.dealsView(e),getAccountIdsByFolderId:e=>{const{doesFolderIdExist:t}=a;return e&&t(e)?pe("getAccountIdsByFolderId",(()=>e),[e=>e.getFoldersSelectors()],(()=>{const t=a.getFoldersSelectors().getAccountIdByFolderId(e);return t?[t]:[""]}))(a):[]},getAccountIdsOfSelectedItems:(e,t)=>{const{doesStreamExist:s,getSelectedStreamItems:r,getAccountIdFromMessageGroupId:o}=a,i=[];if(!s(e))return i;return r(e).map((({id:e})=>e)).reduce(((e,s)=>(e.push(o(s,t)),e)),i),n()(i)},getSelectedItems:e=>pe("getSelectedItems",(()=>e),[e=>e.getStreamsSelectors()],(()=>{const{doesStreamExist:t,getSelectedStreamItems:s}=a;if(!t(e))return{};return s(e).reduce(((e,{id:t})=>({...e,[t]:!0})),{})}))(a),getListItems:e=>{const{doesListExist:t}=a;return t(e)?pe("getListItems",(()=>e),[e=>e.getListsSelectors()],(()=>{const{getListItemIds:t,__patchV2MessageGroupItemId__:s,__patchV2AttachmentId__:n}=a,r=(0,g.WN)(e);return t(e).map((t=>{switch(r){case E.F6k.MESSAGES:return s(t,e);case E.F6k.DOCUMENTS:case E.F6k.IMAGES:return n(t,e)}})).filter((e=>!e.messages||e.messages.length>0))}))(a):[]},getMessageGroupRoutes:e=>{const{doesListExist:t}=a;return t(e)?pe("getMessageGroupRoutes",(()=>e),[e=>e.getListsSelectors(),e=>e.isFeatureEnabled(E.ANe.CONVERSATIONS)],(()=>{const{isFeatureEnabled:t,getListItems:s}=a,n=t(E.ANe.CONVERSATIONS),r=(0,g.WN)(e),o=s(e),i={};return o.forEach((t=>{const s=(0,R.xj)({item:t,listId:e,isConversationMode:n});s&&(r===E.F6k.MESSAGES?i[t.id]=s:i[t.attachment.id]=s)})),i}))(a):{}},getAllDraftsInRoute(e){const{isDraftMessage:t,isFeatureEnabled:s,doesRouteContainDraft:n,doesMessageGroupIdExist:r,getMessageGroupStreamItems:o}=a,i=s(E.ANe.CONVERSATIONS);if(de(e)||ce(e))return[e.params.csid];if(i&&Ee(e)&&n(e)){const{params:{groupId:s}}=e,a=(0,g.LY)(e);if(s&&r(s,a))return o({id:s,listId:a}).filter((({messageId:e})=>t(e))).map((({csid:e})=>e))}return[]},doesRouteContainDraft(e){const{getSetting:t,doesMessageGroupIdExist:s,getMainStreamListIds:n,doesStreamExist:r,getCursorItem:o,isDraftGroup:i}=a,l=t(E.Zrf.PREVIEW_PANE)===E.EsZ.NO;if(de(e)||ce(e))return!0;if(l){if(Ee(e)){const t=e.params.groupId;if(s(t)&&i(t))return!0}}else{const t=n(e),a=(0,L.BA)(t);if(a&&r(a)){const e=o(a);if(e&&e.id){const t=e.id;if(s(t)&&i(t))return!0}}}return!1},doesCurrentRouteContainDraft(){const{getRoute:e,doesRouteContainDraft:t}=a;return t(e())},getFormattedTopRetailers:()=>{const{getContactListSelectors:e,getDealsViewSelectors:t}=a,s=t().getTopRetailers()||[],{getContactByEmail:n}=e(),r={};return s.map((({email:e,nameFromEmail:t})=>{const s=n(e);return{email:e,name:s?s.name:t}})).filter((({name:e})=>!r[e]&&(r[e]=!0))).sort(((e,t)=>e.name.toLowerCase()===t.name.toLowerCase()?0:e.name.toLowerCase()<t.name.toLowerCase()?-1:1))},canDisplayBlockSenderMenuItemForMessageId:t=>{const{getFeaturesSelectors:s,getFoldersSelectors:a,getMessageFolderId:n,getMessagesSelectors:r,getParticipant:o,getAccountSelectors:i}=Ae(e);if(!s().isEnabled(E.ANe.BLOCK_SENDERS))return!1;const l=o(t);return!(!l||!(0,p.isValidEmail)(l.email)||r().isOfficialDomain(t)||a().getFolderTypes(n(t)).indexOf(E.Sck.SENT)>-1)&&-1===i().getMyAddresses().indexOf(l.email)},isRRUpsellVideoAdTimestampValid(){const{isFeatureEnabled:e,getSetting:t}=a,s=e(E.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD),n=60*t(E.Zrf.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION)*1e3;if(s&&(0,p.isLocalStorageAvailable)()){const e=window.localStorage.getItem("rrUpsellVideoAdTimestamp");return e&&Date.now()-e<n}},getDEAUsageAndLimit:()=>{const{isFeatureEnabled:e,getAccountSelectors:t}=a,s=e(E.ANe.MAIL_PLUS_FREE_TRIAL),n=e(E.ANe.PREMIUM_DEA_ALLOWED),r=e(E.ANe.PREMIUM_DEA),o=e(E.ANe.MAIL_PLUS),i=r&&!(n||o||s)?E.hyX:E.iHz;return{usage:t().getDisposableEmailAccounts(!1).length,limit:i}},getBlockedDomainsUsageAndLimit:()=>{const{isFeatureEnabled:e,getListsSelectors:t}=a,{doesListExist:s,getListStatus:n,getTotalHits:r}=t(),o=e(E.ANe.MAIL_PLUS_FREE_TRIAL),i=e(E.ANe.MAIL_PLUS),l=(0,g._o)();return{usage:s(l)&&n(l)===E.DAQ.LOADED?r(l):0,limit:i||e(E.ANe.MAIL_PLUS_MOBILE_APPS)||o?E.cab.mailPlusBlockedDomains:E.cab.freeUserBlockedDomains}},getAllowedFolderIdsForMessageFilters:()=>{const{getFoldersSelectors:e,getPrimaryAccountId:t}=a,{getCustomFolderList:s,getSystemFolderList:n}=e(),r=t();return[...n(r),...s(r)].filter((({type:e})=>-1===E.a7S.indexOf(e))).map((({id:e})=>e))},shouldNavigateSearchFromToAll:e=>{const{isListEmpty:t,doesListExist:s}=a,n=(0,g.LY)(e);return n&&s(n)&&!(0,g.aY)(n)&&(0,g.C4)(n)===E.ukn.FROM&&t(n)},isAdvancedSearchPaneOpen:()=>t.advancedSearchPane(e).isAdvancedSearchPaneOpen(),getRecentlyUsedStateSelectors:()=>t.recentlyUsedState(e),pageMarkerScrollPosition:()=>t.scrollToSearch(e).pageMarkerScrollPosition(),getAffiliateCrumb:()=>t.affiliateCrumb(e).getAffiliateCrumb(),isDrawerOpen:()=>{var e;return(null===(e=a.getAction())||void 0===e?void 0:e.isDrawerExpanded)||!1},getRightRailWidth:()=>{const{isFeatureEnabled:e,getRightRailPanes:t,isNarrowScreen:s,getRoute:n,getEnvironmentSelectors:r}=a,{getWindowDimensions:o}=r(),i=t(),l=e(E.ANe.HIDE_RIGHT_RAIL),c=E.t0h.some((e=>i.includes(e))),d=!i.length||l,_=s(),u=n(),{name:m,params:S,query:p}=u,C=m===E.n8z.SETTINGS,A=S.attachmentId&&"1"!==p.fullscreen,{contentAndRightRailWidth:T}=o();return C?0:A?(0,z.yh)({contentAndRightRailWidth:T})+O.a1j:d?O.a1j:c?O.mzh:_?O.Tgy:O.mzh},getTodoSelectors:()=>t.todos(e),isRelatedTodoBeingEdited:e=>{const{getActionableRightRailPane:t,getTodoSelectors:s}=a;if(t()===E._Ab.TodosPane){const{getCurrentView:t,getCurrentViewContext:a}=s();if([q.$r.CREATE,q.$r.EDIT].includes(t())){var n,r;const t=a();if(t.msgId===e||(null===(n=t.todoContext)||void 0===n||null===(r=n.externalRef)||void 0===r?void 0:r.msgId)===e)return!0}}return!1},getTodoLinkedMessageInfoByMsgId:e=>{const{getCurrentListId:t,isFeatureEnabled:s,getMessagesSelectors:n,getMessageSubject:r,getMessagesFolderIdSelectors:o}=a,{doesMessageIdExist:i,getConversationId:l}=n(),{getFolderId:c}=o();if(!i(e))return;const d=s(E.ANe.CONVERSATIONS),_=c(e),u=t(),m=(0,g.tE)(u,{folders:[_]}),S=(0,L.BA)([m]),p=d?l(e):e;return{msgId:e,subject:r(e,m),navigateToMessageInfo:{listId:m,streamId:S,messageRoute:(0,R.m9)(m,p),groupId:p}}},getInvoiceSelectors:()=>t.invoices(e),getGiftCardSelectors:()=>t.giftCards(e),getShoppingCardSelectors:()=>t.shoppingCards(e),getMobileTimeChunkSelectors:()=>t.mobileScrollTimeChunk(e),hasBimiPhotoSource:e=>{if(!e)return!1;const{getProviderFromAccount:t,getSelectedAccountId:s}=a,n=t(s()),r=(0,u.Cz)(n)===E.tO8.IMAPIN,o=n!==E.zoT.OTHER;return"bimi"===e&&r&&o},getAllValidSendEmailsForEmailsToMyself:()=>{const{getAllAccounts:e,getEmailOfSelectedAccount:t}=a,s=t();return((0,u.kp)(e())||[s]).map((({email:e})=>e))},getGeneratedContentSelectors:()=>t.generatedContent(e),getWalletSelectors:()=>t.wallet(e),getWalletEstimate:()=>{const{getWalletSelectors:e,getSetting:t}=a,{getGiftCards:s,getCredits:n}=e(),r=s(),o=n(),i=t(E.Zrf.WALLET_CURRENCY_CONVERTER);let l=0;const c="USD";return[...r,...o].forEach((e=>{var t,s;const a=(null==e||null===(t=e.amount)||void 0===t?void 0:t.currency)||"",n=(null==e||null===(s=e.amount)||void 0===s?void 0:s.value)||"",r=Number(n);n&&a&&i[a.toUpperCase()]&&!Number.isNaN(r)&&(a===c?l+=r:i.USD&&(l+=r*i.USD/i[a.toUpperCase()]))})),{amount:l,currency:c}},getNotesSelectors:()=>t.notes(e),getYaiRetroComposeMessage:()=>t.yaiRetroCompose(e).getYaiRetroComposeMessage(),showInboxTabs:()=>{const{isFeatureEnabled:e,getRoute:t,getFoldersSelectors:s}=a,{isInboxFolder:n}=s(),r=t(),o=(0,g.LY)(r),i=(0,g.Fh)(o);return e(E.ANe.PRIORITY_INBOX_ENABLED)&&n(i)&&(0,g.n4)(r)}};return a}))},33612:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>r,dX:()=>n,wl:()=>o});var a=s(50566);const n=function(e){var t,s,a;return(null===(t=e.match(/inlineImage-.*:/))||void 0===t||null===(s=t[0])||void 0===s||null===(a=s.slice(0,-1))||void 0===a?void 0:a.replace("inlineImage-",""))||""},r=(e={},t)=>{switch(t.type){case a.INLINE_IMAGES_TO_ATTACHMENT:{const{msgId:s,attachments:a=[]}=t,n=e[s],r=a.reduce(((e,t)=>n&&n[t.id]?{...e,[t.id]:n[t.id]}:{...e,[t.id]:t}),{});return{...e,[s]:{...e[s],...r}}}case a.ATTACHMENT_ZOOMED:{const{id:s,newZoomLevel:a}=t,r=n(s);if(!r||!e[r]||!e[r][s])return e;const o=e[r][s];return{...e,[r]:{...e[r],[s]:{...o,previewerUiState:{...o.previewerUiState,zoomLevel:a}}}}}}return e},o=(e={})=>({getInlineImagesIdsByMessageId:t=>{const s=e[t]||[];return Object.values(s).sort(((e,t)=>parseInt(e.partId,10)<parseInt(t.partId,10)?-1:1)).map((({id:e})=>e))},getInlineImageByAttachmentId:t=>{const s=n(t),a=e[s];return a&&a[t]?a[t]:null}})},55842:(e,t,s)=>{"use strict";s.d(t,{$o:()=>_,ZP:()=>m,wl:()=>u});var a=s(22222),n=s(14890),r=s(89506),o=s(50566),i=s(37422),l=s(49124),c=s(95406);const d={loadStatus:i.DAQ.LOADING,notesPane:{view:r.n5.LIST},section:r.uI.NOTES,notes:[],folders:[],updatePendingById:{},folderView:r.RH.FOLDERS,selectedNotebookid:"",composeNewTabStatus:r.LJ.CLOSE};let _;!function(e){e.DELETE="DELETE"}(_||(_={}));const E=(0,n.combineReducers)({loadStatus:(e=i.DAQ.LOADING,t)=>{switch(t.type){case o.FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED:return i.DAQ.LOADED;case o.FETCH_ALL_NOTEBOOKS_AND_NOTES_FAILED:return i.DAQ.ERROR;case o.FETCH_ALL_NOTEBOOKS_AND_NOTES_REQUESTED:return i.DAQ.LOADING;default:return e}},notes:(e=[],t)=>{switch(t.type){case o.FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED:{const{notes:e}=t;return[...[...e].sort(((e,t)=>{const s=(0,l.sD)(e.lastModified);return(0,l.sD)(t.lastModified).getTime()-s.getTime()}))]}case o.CREATE_NOTE_SUCCEEDED:{const{journal:s}=t;return[s,...e]}case o.UPDATE_NOTE_SUCCEEDED:{const{journal:s,journalUid:a}=t;return e.map((e=>e.uid!==a?e:s))}case o.DELETE_NOTE_SUCCEEDED:{const{journalUid:s}=t;return e.filter((({uid:e})=>e!==s))}case o.DELETE_JOURNAL_FOLDER_SUCCEEDED:{const{folderId:s}=t;return e.filter((e=>e.folderId!==s))}default:return e}},notesPane:(e={view:r.n5.LIST},t)=>{switch(t.type){case o.RIGHT_RAIL_COMMS_ICON_CLICKED:return e;case o.CHANGE_NOTES_PANE_VIEW:return{view:t.view,viewContext:null==t?void 0:t.noteContext};case o.CREATE_NOTE_REQUESTED:case o.UPDATE_NOTE_REQUESTED:return{view:r.n5.LIST};default:return e}},updatePendingById:(e={},t)=>{switch(t.type){case o.DELETE_NOTE_DEFERRED_REQUESTED:{const{journalUid:s}=t;return{...e,[s]:{updateType:_.DELETE}}}case o.DELETE_NOTE_CANCEL_REQUESTED:case o.DELETE_NOTE_SUCCEEDED:case o.DELETE_NOTE_FAILED:{const{journalUid:s}=t;return(0,c.oF)(e,[s])}case o.DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED:{const{folderId:s}=t;return{...e,[s]:{updateType:_.DELETE}}}case o.DELETE_JOURNAL_FOLDER_CANCEL_REQUESTED:case o.DELETE_JOURNAL_FOLDER_SUCCEEDED:case o.DELETE_JOURNAL_FOLDER_FAILED:{const{folderId:s}=t;return(0,c.oF)(e,[s])}default:return e}},section:(e=r.uI.NOTES,t)=>{switch(t.type){case o.CHANGE_NOTES_PANE_SECTION:return t.section;default:return e}},folders:(e=[],t)=>{switch(t.type){case o.FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED:{const{folders:e}=t;return(0,l.IH)(e)}case o.CREATE_JOURNAL_FOLDER_SUCCEEDED:{const{folder:s}=t,a=[...e,s];return(0,l.IH)(a)}case o.UPDATE_JOURNAL_FOLDER_SUCCEEDED:{const{folder:s,folderId:a}=t,n=e.map((e=>e.id!==a?e:s));return(0,l.IH)(n)}case o.DELETE_JOURNAL_FOLDER_SUCCEEDED:{const{folderId:s}=t;return e.filter((({id:e})=>e!==s))}default:return e}},folderView:(e=r.RH.FOLDERS,t)=>{switch(t.type){case o.CHANGE_NOTEBOOKS_SECTION_VIEW:return t.section;default:return e}},selectedNotebookid:(e="",t)=>{switch(t.type){case o.SET_NOTEBOOK_ID:return t.id;default:return e}},composeNewTabStatus:(e=r.LJ.CLOSE,t)=>{switch(t.type){case o.CREATE_NOTE_SUCCEEDED:return r.LJ.OPEN;case o.NOTE_TAB_CLOSE:return r.LJ.CLOSE;default:return e}}}),u=(0,a.createSelector)(((e=d)=>e),((e=d)=>({getCurrentView:()=>e.notesPane.view,getLoadingStatus:()=>e.loadStatus,getSection:()=>e.section,getNotes:()=>e.notes,getFolders:()=>e.folders,areNotebooksAndNotesLoaded:()=>e.loadStatus===i.DAQ.LOADED,getCurrentViewContext:()=>{var t,s;return null!==(t=null===(s=e.notesPane)||void 0===s?void 0:s.viewContext)&&void 0!==t?t:{}},isPendingUpdate:t=>!!e.updatePendingById[t],getPendingUpdateType:t=>{var s;return null===(s=e.updatePendingById[t])||void 0===s?void 0:s.updateType},getView:()=>e.folderView,getNotebookId:()=>e.selectedNotebookid,getNoteNewTabStatus:()=>e.composeNewTabStatus,getNoteTabState:()=>e.composeNewTabStatus}))),m=E},34970:(e,t,s)=>{"use strict";s.d(t,{Ij:()=>n,ZP:()=>r,wl:()=>o});var a=s(50566);let n;!function(e){e[e.INITIAL=0]="INITIAL",e[e.FIRST_PAGE_MARKER=1]="FIRST_PAGE_MARKER",e[e.SUBSEQUENT_PAGE_MARKER=2]="SUBSEQUENT_PAGE_MARKER"}(n||(n={}));const r=(e=n.INITIAL,t)=>{switch(t.type){case a.SCROLL_TO_SEARCH_PAGE_SCROLLED:switch(e){case n.INITIAL:return n.FIRST_PAGE_MARKER;case n.FIRST_PAGE_MARKER:return n.SUBSEQUENT_PAGE_MARKER;default:return e}case a.OPEN_PAGE_REQUESTED:return n.INITIAL;default:return e}},o=(e=n.INITIAL)=>({pageMarkerScrollPosition:()=>e})},83521:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n,w:()=>r});var a=s(50566);const n=(e={isFocused:!1},t)=>{const{type:s}=t;switch(s){case a.SEARCH_INPUT_FOCUSED:return{...e,isFocused:!0};case a.SEARCH_INPUT_BLURRED:return{...e,isFocused:!1};default:return e}},r=(e={})=>({isSearchInputFocused:()=>e.searchInput.isFocused||!1})},11371:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>zn,ww:()=>Kn,Zl:()=>Vn});var a=s(14890),n=s(48755),r=s(50566),o=s(37422),i=s(95406),l=s(99691),c=s(10728);const{Dispositions:d}=o.sSc;const _=function(e={},t){const{type:s,listData:a={},message:n}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.OPEN_PAGE_REQUESTED:case r.MESSAGE_SAVE_SUCCEEDED:{const t=n?n.attachments.reduce(((e,t)=>({...e,[t.id]:t})),{}):a.attachments;if(!t)return e;const s=function(e,t){return Object.keys(t).reduce(((s,a)=>{const n=t[a],r=e[a]||{};return(e[a]||{}).contentId&&e[a].disposition===n.disposition||(s[a]=n),r.disposition&&r.disposition!==n.disposition&&(s[a]={...r,disposition:n.disposition}),s}),{})}(e,t);return Object.keys(s).length?{...e,...s}:e}case r.V3_MESSAGE_SAVE_FAILED:{const{newContentIds:s=[]}=t;if(!s.length)return e;const a=s.map((e=>({contentId:e})));return{...e,...a}}case r.ATTACHMENT_ZOOMED:{const{id:s,newZoomLevel:a}=t,n=e[s];return n?{...e,[s]:{...n,previewerUiState:{...n.previewerUiState,zoomLevel:a}}}:e}default:return e}};var E=s(33612);const u=(0,a.combineReducers)({startTime:(e=0,t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.startTime)||e;default:return e}},endTime:(e=0,t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.endTime)||e;default:return e}},location:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.location)||e;default:return e}},summary:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.summary)||e;default:return e}},state:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.state)||e;default:return e}},firstAttendeeStatus:(e=[],t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.firstAttendeeStatus)||e;default:return e}},organizerEmail:(e=[],t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.organizerEmail)||e;default:return e}},isSameDay:(e=!1,t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.isSameDay)||e;default:return e}},attendees:(e=[],t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.attendees)||e;default:return e}},videoLink:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.videoLink)||e;default:return e}},firstAttendeeEmail:(e=null,t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.firstAttendeeEmail)||e;default:return e}},response:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.response)||e;case r.RESPOND_TO_INVITE_SUCCEEDED:case r.RESPOND_TO_INVITE_FAILED:return t.response;default:return e}},messageId:(e="",t)=>{switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return t.currentMessageId||e;default:return e}},status:(e=null,t)=>{switch(t.type){case r.INVITEINFO_FETCH_FAILED:return"ERROR";case r.GET_INVITE_INFO_REQUESTED:return"LOADING";case r.INVITEINFO_FETCH_SUCCEEDED:return"READY";default:return e}},uid:(e="",t)=>{switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:var s,a;return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.uid)||e;default:return e}},email:(e="",t)=>{var s,a;switch(t.type){case r.INVITEINFO_FETCH_SUCCEEDED:return(null===(s=t.inviteInfoGroup)||void 0===s||null===(a=s[t.currentMessageId])||void 0===a?void 0:a.email)||e;default:return e}}}),m=(e={},t)=>{switch(t.type){case r.GET_INVITE_INFO_REQUESTED:case r.RESPOND_TO_INVITE:case r.RESPOND_TO_INVITE_SUCCEEDED:case r.RESPOND_TO_INVITE_FAILED:return{...e,[t.messageId]:u(e[t.messageId],t)};case r.INVITEINFO_FETCH_SUCCEEDED:case r.INVITEINFO_FETCH_FAILED:{const{messageIds:s}=t;let a={};return(s||[]).forEach((s=>{a={...a,[s]:u(e[s],{...t,currentMessageId:s})}})),{...e,...a}}default:return e}};var S=s(18446),p=s.n(S);const C=(e=[],t)=>{const{type:s,cardGroup:a=[]}=t;switch(s){case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.EXTRACT_COUPON_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(a,e)?e:a;default:return e}};const A=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.EXTRACT_COUPON_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter((s=>!p()(t[s],e[s]))).reduce(((a,n)=>({...a,[n]:C(e[n],{type:s,cardGroup:t[n]})})),{});return Object.keys(n).length?{...e,...n}:e}default:return e}},T=(e=[],t)=>{const{cards:s,type:a}=t;switch(a){case r.MORE_COUPONS_SUCCESS:case r.MORE_RECEIPTS_SUCCESS:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.COUPONS_LIST_SUCCEEDED:case r.EXTRACT_COUPON_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.INITIAL_STATE:case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.ASTRA_BATCH_API_SUCCEEDED:return p()(s,e)?e:s;default:return e}};const I=function(e={},t){const{listData:s={},type:a}=t;switch(a){case r.MORE_COUPONS_SUCCESS:case r.MORE_RECEIPTS_SUCCESS:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.COUPONS_LIST_SUCCEEDED:case r.EXTRACT_COUPON_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.INITIAL_STATE:case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.ASTRA_BATCH_API_SUCCEEDED:{if(!s.messageIdToSchemaIdsMap)return e;const t=Object.keys(s.messageIdToSchemaIdsMap).filter((t=>!p()(e[t],s.messageIdToSchemaIdsMap[t]))).reduce(((t,n)=>({...t,[n]:T(e[n],{type:a,cards:s.messageIdToSchemaIdsMap[n]})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};var h=s(64063),g=s.n(h);const O=(0,a.combineReducers)({name:(e="",t)=>{const{type:s,category:a}=t;switch(s){case r.MESSAGE_BODIES_RECEIVED:case r.ASTRA_BATCH_API_SUCCEEDED:return a.name||"";default:return e}},following:(e=!1,t)=>{const{type:s}=t;switch(s){case r.ASTRA_BATCH_API_SUCCEEDED:case r.CATEGORY_FOLLOW_SUCCEEDED:return!0;case r.CATEGORY_UNFOLLOW_SUCCEEDED:return!1;default:return e}},error:(e="",t)=>{const{type:s}=t;switch(s){case r.CATEGORY_FOLLOW_FAILED:case r.CATEGORY_UNFOLLOW_FAILED:return t.error;case r.CATEGORY_FOLLOW_FAILURE_RESET:return"";default:return e}}});const D=(0,a.combineReducers)({categories:function(e={},t){const{listData:s={},followedCategoryList:a=[],error:n="",type:l,response:c}=t;switch(l){case r.MESSAGE_BODIES_RECEIVED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.Coupon&&!g()(e[t],(0,i.oF)(s.schemaCards[t],["id","type"]))&&s.schemaCards[t].couponCategories)).map((e=>s.schemaCards[e].couponCategories)).reduce(((e,t)=>e.concat(t)),[]).reduce(((t,s)=>({...t,[s.id]:O(e[s.id],{type:l,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}case r.ASTRA_BATCH_API_SUCCEEDED:{var d;const t=null==c||null===(d=c[o.G1D.CATEGORY_FOLLOWING_LIST])||void 0===d?void 0:d.followedCategoryList,s=null==t?void 0:t.reduce(((t,s)=>({...t,[s.id]:O(e[s.id],{type:l,category:s})})),{});return(0,i.xb)(s)?e:{...e,...s}}case r.CATEGORY_FOLLOW_SUCCEEDED:case r.CATEGORY_UNFOLLOW_SUCCEEDED:{const t=a.reduce(((t,s)=>({...t,[s.id]:O(e[s.id],{type:l,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}case r.CATEGORY_FOLLOW_FAILED:case r.CATEGORY_UNFOLLOW_FAILED:{const t=a.reduce(((t,s)=>({...t,[s.id]:O(e[s.id],{type:l,category:s,error:n})})),{});return Object.keys(t).length?{...e,...t}:e}case r.CATEGORY_FOLLOW_FAILURE_RESET:{const t=Object.keys(e).filter((t=>e[t].error)).map((t=>({...e[t],id:t}))).reduce(((t,s)=>({...t,[s.id]:O(e[s.id],{type:l,category:s})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}},isCategoryListLoaded:function(e=!1,t){switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return!0}return e},spiceToGptMapping:function(e={},t){switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:var s,a;return((null===(s=t.response)||void 0===s||null===(a=s[o.G1D.SPICE_TO_GPT])||void 0===a?void 0:a.mapping)||[]).reduce(((e,t)=>({...e,...t})),{})}return e}}),R=(0,a.combineReducers)({composeAttributesStatus:(e=o.DAQ.LOADING,t)=>{const{route:s}=t;switch(t.type){case r.LAUNCH_COMPLETED:return s.name===o.n8z.NEW_DRAFT||s.name===o.n8z.EDIT_DRAFT?o.DAQ.LOADED:e;case r.COMPOSE_ATTRIBUTES_RECEIVED:case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case r.COMPOSE_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}}});var N=s(63352),L=s(4119),f=s(57557),M=s.n(f),P=s(4832);const b=(0,a.combineReducers)({mailToLink:(e=null,t)=>{switch(t.type){case r.OPEN_COMPACT_COMPOSE:case r.OPEN_PAGE_REQUESTED:{const{mailtoAttr:s}=t;return s||e}}return e},stationeryTheme:(e=P.NO_STATIONERY,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case r.OPEN_COMPACT_COMPOSE:case r.OPEN_PAGE_REQUESTED:if(t.stationeryTheme)return t.stationeryTheme}return a.stationeryTheme||e},composeUndoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return a.undoStack||e},composeRedoStack:(e=[],t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return[]}return a.redoStack||e},composeUiState:(e=null,t)=>{const{unsyncedDataItem:s={}}=t,{userInputtedValues:a={}}=s;switch(t.type){case r.QUOTED_TEXT_EXPANDED:return Object.assign({},e,{isQuotedTextExpanded:!0})}return a.uiState||e},lastAutotagQuery:(e="",t)=>{switch(t.type){case r.CONTACT_SUGGESTIONS_REQUESTED:return t.query}return e},attachmentProgress:(e={},t)=>{switch(t.type){case r.UPLOAD_PROGRESS_RECEIVED:{const s={...e};return t.newFileContentIds.forEach((e=>s[e]=t.percent)),s}}return e},sendStatus:(e=null,t)=>{switch(t.type){case r.V3_MESSAGE_SEND_REQUESTED:return e!==L.fq.SENT?L.fq.SENDING:e;case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return L.fq.SENT;case r.V3_MESSAGE_SAVE_FAILED:return t.error&&"ES-2001"===t.error.errorCode?L.fq.SENT:e;case r.V3_MESSAGE_SEND_FAILED:return t.error&&"ES-2001"===t.error.errorCode?L.fq.SENT:L.fq.SEND_FAILED}return e},doComposeFromRouteQueryParams:(e=!1,t)=>{switch(t.type){case r.INITIAL_STATE:return!!t.mrdParams;case r.OPEN_PAGE_REQUESTED:return!1}return e},forwardCreativeId:(e=null,t)=>{switch(t.type){case r.OPEN_COMPACT_COMPOSE:case r.OPEN_PAGE_REQUESTED:return t.forwardCreativeId||null}return e},forwardAttachmentIds:(e=[],t)=>{switch(t.type){case r.OPEN_COMPACT_COMPOSE:case r.OPEN_PAGE_REQUESTED:case r.FORWARD_ATTACHMENTS:return t.attachments?[...e,...t.attachments.map((({id:e})=>({id:e,timestamp:Date.now()})))]:e;case r.CLEAR_FORWARDED_ATTACHMENT_IDS:return[]}return e},inReplyToMessageId:(e=null,t)=>{switch(t.type){case r.INITIAL_STATE:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.replied&&s.id?s.id:null}case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyToMessageId||null;case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},inReplyAllToMessageId:(e=null,t)=>{switch(t.type){case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inReplyAllToMessageId||null;case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},inForwardToMessageId:(e=null,t)=>{switch(t.type){case r.INITIAL_STATE:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{inReplyTo:e={}}=t,{messageReference:s={}}=e;return e.forwarded&&s.id?s.id:null}case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return t.inForwardToMessageId||null;case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},selectedReplySuggestion:(e=null,t)=>{switch(t.type){case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{selectedReplySuggestion:e}=t;return e||null}}return e},draftMessageId:(e=null,t)=>{switch(t.type){case r.INITIAL_STATE:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:return t.draftMessageId||null;case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.message.id;case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?null:e}return e},fatalErrorCount:(e=0,t)=>{switch(t.type){case r.MESSAGE_SAVE_FAILED:case r.V3_MESSAGE_SAVE_FAILED:case r.MESSAGE_AUTO_SAVE_FAILED:return t.error&&/^(E(S|C|T|P)-|EMPTY_RESPONSE)/.test(t.error.errorCode)?e+1:e;case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return 0}return e},lastSaveTimeStamp:(e=0,t)=>{switch(t.type){case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return t.lastEditedTimeStamp||t.actionTimestamp}return e},lastOpenTimeStamp:(e=0,t)=>{switch(t.type){case r.OPEN_PAGE_REQUESTED:return t.actionTimestamp||e}return e},isAutotagDisabled:(e=!1)=>e,isRelatedContactsDismissed:(e=!1,t)=>{switch(t.type){case r.RELATED_CONTACTS_CLOSED:return!0}return e},composeParams:(e=null,t)=>{switch(t.type){case r.OPEN_PAGE_REQUESTED:case r.OPEN_COMPACT_COMPOSE:{const{composeParams:s={}}=t;if(Object.keys(s).length>0)return{...e,...s};break}case r.ADD_COMPOSE_HEADER:{const{composeParams:s}=t;if(s&&(s.to||s.cc||s.bcc))return{...e,...s};break}case r.DELETE_COMPOSE_HEADER:return null}return e},composeHeaderInputFocus:(e=L.vX.TO,t)=>{switch(t.type){case r.UPDATE_COMPOSE_HEADER_FOCUS:{const{inputFocus:e}=t;return e}case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:return t.isReplyingMessageSubjectEdited?L.vX.SUBJECT:e;case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{inForwardToMessageId:e}=t;return e?L.vX.TO:L.vX.EDITOR}case r.V3_MESSAGE_SEND_FAILED:return L.vX.EDITOR}return e}}),y=(e={},t)=>{switch(t.type){case r.MESSAGE_SAVE_FAILED:case r.MESSAGE_AUTO_SAVE_FAILED:case r.V3_MESSAGE_SAVE_REQUESTED:case r.V3_MESSAGE_SAVE_FAILED:case r.V3_MESSAGE_SEND_REQUESTED:case r.V3_MESSAGE_SEND_FAILED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.QUOTED_TEXT_EXPANDED:case r.UPLOAD_PROGRESS_RECEIVED:case r.ADD_COMPOSE_HEADER:case r.DELETE_COMPOSE_HEADER:case r.UPDATE_COMPOSE_HEADER_FOCUS:case r.RELATED_CONTACTS_CLOSED:case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(t.csid)return{...e,[t.csid]:b(e[t.csid],t)};break;case r.AUTOTAG_DROPDOWN_CLOSED:return{...e,[t.csid]:{...e[t.csid],isAutotagDisabled:!0}};case r.SYNC_DATA:case r.OPEN_COMPACT_COMPOSE:case r.CLEAR_FORWARDED_ATTACHMENT_IDS:case r.ONLINE_STATUS_CHANGED:case r.APPLICATION_VISIBILITY_DID_CHANGE:case r.FORWARD_ATTACHMENTS:case r.OPEN_PAGE_REQUESTED:case r.EDIT_COMPACT_COMPOSE_SUBJECT:{const{unsyncedData:s=[]}=t,a=s.filter((e=>e.type===o.sKi.COMPOSE));if(a.length){const s=a.map((s=>({[s.id]:b(e[s.id],{type:t.type,attachments:t.csid===s.id?t.attachments:null,isReplyingMessageSubjectEdited:t.isReplyingMessageSubjectEdited,unsyncedDataItem:s})})));return{...e,...t.csid?{[t.csid]:b(e[t.csid],t)}:{},...Object.assign.apply({},s)}}if(t.csid)return{...e,[t.csid]:b(e[t.csid],t)};break}case r.INITIAL_STATE:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{mrdParams:s={},draftData:a={}}=t;if(s.csid)return{...e,[s.csid]:b(e[s.csid],t)};if(a.csid)return{...e,[a.csid]:b(e[a.csid],t)};if(t.listData&&t.listData.messages){const s=t.unsyncedData.filter((e=>e.type===o.sKi.COMPOSE)).map((e=>e.id)),a=(0,i.VO)(t.listData.messages||[]).filter((e=>-1===s.indexOf(e.csid))).map((s=>({[s.csid]:b(e[s.csid],{...t,draftMessageId:s.id,inReplyTo:s.inReplyTo})})));return a.length?{...e,...Object.assign.apply({},a)}:e}if(t.csid)return{...e,[t.csid]:b(e[t.csid],t)};break}case r.DELETE_ITEMS_REQUESTED:if(t.csid)return M()(e,t.csid);if(t.itemsToUpdate)return M()(e,t.itemsToUpdate.filter((e=>!e.destinationFolder&&e.isAffected)).map((({csid:e})=>e)).filter(Boolean));break;case r.CONTACT_SUGGESTIONS_REQUESTED:if(t.csid)return{...e,[t.csid]:b(e[t.csid],t)}}return e};var v=s(70921);const F=(0,a.combineReducers)({composeSuggestions:(e={},t)=>{switch(t.type){case r.CONTACT_SUGGESTIONS_SUCCEEDED:return{...e,[(0,v.UP)(t.query)]:t.contacts}}return e},composeSuggestionsFromImportantContacts:(e={},t)=>{switch(t.type){case r.CONTACT_SUGGESTIONS_REQUESTED:return{...e,[(0,v.UP)(t.query)]:t.contacts,...t.nextContacts};case r.OPEN_PAGE_REQUESTED:return{}}return e}});var U=s(93386),k=s.n(U),w=s(73498);const G={name:"",emails:[],emailType:{},phonesWithType:[],addressesWithType:[],aolCategory:o.Ygm.UNCATEGORIZED},H=(e=G,t)=>{switch(t.type){case r.CONTACT_PHOTO_UPLOAD_SUCCEEDED:return{...e,...t.contact,photoTimestamp:Date.now()};case r.FETCH_ALL_CONTACTS_SUCCESS:case r.CONTACT_DETAIL_FETCH_SUCCEEDED:case r.CREATE_CONTACT_SUCCEEDED:case r.CONTACT_SAVE_SUCCEEDED:case r.CONTACTS_LIST_FETCH_SUCCEEDED:return{...e,...t.contact};case r.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contact:s}=t;return{...e,...s,emails:k()(e.emails,s.emails)}}case r.CONTACT_SUGGESTIONS_SUCCEEDED:case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const{contact:s}=t;return{...e,name:s.name,emails:k()(e.emails,s.emails),id:s.xobniId}}case r.SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{xobniId:s,...a}=t.contact;return{...a,aolCategory:e.aolCategory,id:s}}default:return e}};var B=s(94654),x=s.n(B);var V=s(87611);const Z=e=>e.type===o.UA.CONTACTS_LIST?e:{...e,type:o.UA.CONTACTS_LIST,id:null,lastSavedData:void 0,contact:null,uiContext:null};var W=s(61106);const K=(e={},t)=>{switch(t.type){case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case r.CONTACTS_LIST_FETCH_SUCCEEDED:return{...e,...t.group};default:return e}};var z=s(31057);const Y=(e={},t)=>{switch(t.type){case r.CONTACT_DETAIL_FETCH_SUCCEEDED:{const{emails:s,contacts:a}=t,n={},r={...e};return null==a||a.forEach((e=>{var t;return null==e||null===(t=e.emails)||void 0===t?void 0:t.forEach((t=>{n[t]=e}))})),s.forEach((e=>{n[e]&&!n[e].xobniId&&(r[e]=n[e])})),r}}return e},j=(e=[],t)=>{switch(t.type){case r.DELETE_CONTACT_SUGGESTIONS_SUCCEEDED:return[...e,t.contactInfo]}return e},q={snapshots:[],snapshotsStatus:o.DAQ.DOES_NOT_EXIST,restoreApiStatus:o.DxA.DOES_NOT_EXIST},X=(e=q,t)=>{switch(t.type){case r.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:return{...e,snapshotsStatus:o.DAQ.LOADED,snapshots:t.snapshots};case r.CONTACTS_SNAPSHOT_FETCH_FAILED:return{...e,snapshotsStatus:o.DAQ.ERROR};case r.CONTACTS_RESTORE_CLICKED:return e.snapshotsStatus===o.DAQ.LOADED&&e.snapshots.length>0?{...e,restoreApiStatus:o.DxA.DOES_NOT_EXIST}:{...e,snapshotsStatus:o.DAQ.LOADING,restoreApiStatus:o.DxA.DOES_NOT_EXIST};case r.CONTACTS_RESTORE_REQUESTED:return{...e,restoreApiStatus:o.DxA.LOADING};case r.CONTACTS_RESTORE_SUCCEEDED:return"success"===t.status?{...e,restoreApiStatus:o.DxA.SUCCEEDED}:{...e,restoreApiStatus:o.DxA.FAILED};case r.CONTACTS_RESTORE_FAILED:return{...e,restoreApiStatus:o.DxA.FAILED};default:return e}},Q={status:o.woE.NONE,importCompleteInThisSession:!1},J=(e=Q,t)=>{switch(t.type){case r.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:{const{csvFileResult:s}=t.response,{status:a}=s;let n=!1;return e.status!==o.woE.IN_PROGRESS||a!==o.woE.DONE&&a!==o.woE.FAIL||(n=!0),{...e,...s,importCompleteInThisSession:n}}case r.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY:return{...Q,status:o.woE.IN_PROGRESS,importCompleteInThisSession:!1}}return e},$=(0,a.combineReducers)({byId:(e={},t)=>{switch(t.type){case r.CONTACT_SUGGESTIONS_SUCCEEDED:{const{contacts:s=[],type:a}=t;return s.reduce(((t,s)=>({...t,[s.id]:H(e[s.id],{type:a,contact:{xobniId:s.id,name:s.name,emails:[s.email]}})})),{...e})}case r.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((s,a)=>{const{type:n,value:r,...o}=a;return n===w.df.EMAIL&&(o.emails=[r]),{...s,[a.id]:H(e[a.id],{type:t.type,contact:o})}}),{...e})}case r.CONTACTS_LIST_FETCH_SUCCEEDED:{const s={...e},{contacts:a=[]}=t;return a.forEach((({contacts:a})=>{a.forEach((a=>{s[a.id]=H(e[a.id],{type:t.type,contact:a})}))})),s}case r.FETCH_ALL_CONTACTS_SUCCESS:{const s={...e};return t.contacts.forEach((a=>{s[a.id]=H(e[a.id],{type:t.type,contact:a})})),s}case r.SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,a=Object.keys(s.people||{});if(!a.length)return e;const n={...e};return a.forEach((s=>{n[s]=H(e[s],{type:t.type,contact:t.listData.people[s]})})),n}case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:{const s={...e};return t.contacts.forEach((a=>{const{xobniId:n}=a;s[n]=H(e[n],{type:t.type,contact:a})})),s}case r.CREATE_CONTACT_SUCCEEDED:case r.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case r.CONTACT_SAVE_SUCCEEDED:{const s={...e},{id:a,deletedContactId:n}=t.contact;return s[a]=H(e[a],{type:t.type,contact:n?(0,i.oF)(t.contact,["deletedContactId"]):t.contact}),n?(0,i.oF)(s,[n]):s}case r.DELETE_CONTACT_REQUESTED:return(0,i.oF)(e,t.itemsToUpdate.filter((({isAffected:e})=>e)).map((({id:e})=>e)));case r.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s={...e};return t.contacts.filter((e=>e.xobniId)).forEach((a=>{s[a.xobniId]=H(e[a.xobniId],{type:t.type,contact:{...a,id:a.xobniId}})})),s}default:return e}},idByEmail:(e={},t)=>{switch(t.type){case r.SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:{const{listData:s={}}=t,{people:a}=s;return a?(e={...e},(0,i.VO)(a).forEach((({xobniId:t,id:s})=>{e[s]=t})),e):e}case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return{...e,...t.contactEmailToId};case r.CREATE_CONTACT_SUCCEEDED:case r.CONTACT_SAVE_SUCCEEDED:{let s={...e};const{id:a,emails:n=[]}=t.contact,{changedEmails:r=[]}=t.itemsToUpdate[0];return r.length>0&&(s=(0,i.oF)(s,r)),n.forEach((e=>s[e]=a)),s}case r.CONTACTS_LIST_FETCH_SUCCEEDED:return x()(t.contacts||[],(e=>e.contacts)).reduce(((e,t)=>{const s={};return t.emails.forEach((e=>s[e]=t.id)),{...e,...s}}),{...e});case r.CONTACT_SUGGESTIONS_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((e,t)=>({...e,[t.email]:t.id})),{...e})}case r.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{contacts:s=[]}=t;return s.reduce(((e,t)=>{const{id:s,type:a,value:n}=t;return a===w.df.EMAIL?{...e,[n]:s}:e}),{...e})}case r.DELETE_CONTACT_REQUESTED:return Object.keys(e).filter((s=>{const a=e[s];return t.itemsToUpdate.every((e=>e.id!==a))})).reduce(((t,s)=>(t[s]=e[s],t)),{});case r.CONTACT_DETAIL_FETCH_SUCCEEDED:{const s={...e},{contacts:a=[]}=t;return a.forEach((e=>{const{xobniId:t,emails:a}=e;t&&a.forEach((e=>s[e]=t))})),s}case r.FETCH_ALL_CONTACTS_SUCCESS:{const s={...e},{contacts:a=[]}=t;return a.forEach((e=>{const{id:t,emails:a}=e;a.forEach((e=>s[e]=t))})),s}default:return e}},selectedPaneFilter:(e=o.ukn.USER_CREATED_CONTACTS,t)=>{switch(t.type){case r.CONTACTS_PANE_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},contactsPaneView:(e={},t)=>{const{type:s}=t;switch(s){case r.CONTACTS_PANE_CREATE_GROUP_FAILED:case r.CONTACTS_PANE_CREATE_GROUP_BUTTON_CLICKED:return{...e,type:o.UA.CREATE_GROUP,id:t.tempGroupId,lastSavedData:{name:"",contacts:[]}};case r.CONTACTS_PANE_SAVE_GROUP_FAILED:case r.CONTACTS_PANE_EDIT_GROUP:{const{id:s,oldGroup:a}=t;return{...e,type:o.UA.EDIT_GROUP,id:s,lastSavedData:a}}case r.RIGHT_RAIL_COMMS_ICON_CLICKED:if(t.name===o.Qk$.CONTACTS_PANE)return Z(e);break;case r.OPEN_PAGE_REQUESTED:case r.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:r}={}}=t;if(r===o.n8z.CONTACTS){var a,n;if(null==t||null===(a=t.route)||void 0===a||null===(n=a.params)||void 0===n||!n.keepContext)return Z(e);break}if(r===o.n8z.NEW_DRAFT)break;if(s&&-1!==V.o.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))break;if(s&&-1!==V.o.CONTACTS_FULL_PANE_TO_RIGHT_RAIL.indexOf(s))break;return Z(e)}case r.CONTACTS_PANE_BACK_BUTTON_CLICKED:case r.CONTACT_EDIT_CANCELLED:switch(e.type){case o.UA.EDIT_CONTACT:return-1!==V.o.EDIT_FORM.indexOf(e.uiContext)?{...e,type:o.UA.CONTACT_DETAILS}:Z(e);case o.UA.CREATE_GROUP:case o.UA.EDIT_GROUP:case o.UA.CONTACT_DETAILS:case o.UA.CREATE_CONTACT:return Z(e)}break;case r.CONTACTS_PANE_EDIT_BUTTON_CLICKED:switch(e.type){case o.UA.CONTACT_DETAILS:return{...e,type:o.UA.EDIT_CONTACT,uiContext:V.o.EDIT_FORM[1]}}break;case r.EDIT_CONTACT_FROM_CARD:return{...e,type:o.UA.EDIT_CONTACT,id:t.id,contact:null,uiContext:V.o.EDIT_FORM[0]};case r.ADD_TO_CONTACTS:return t.id?{...e,type:o.UA.EDIT_CONTACT,contact:null,id:t.id,uiContext:null}:{...e,type:o.UA.CREATE_CONTACT,contact:{name:"",firstName:"",middleName:"",lastName:"",emailsWithType:[{value:t.email,type:"email"}],phonesWithType:[],addressesWithType:[],aolCategory:o.Ygm.UNCATEGORIZED},id:null};case r.CONTACT_CREATE_CLICKED:return{...e,type:o.UA.CREATE_CONTACT,id:null,contact:null};case r.CREATE_CONTACT_SUCCEEDED:{const{openContactView:s=!1,contact:a}=t;return s&&null!=a&&a.id?{...e,type:o.UA.CONTACT_DETAILS,id:a.id,contact:null}:e}case r.CONTACTS_PANE_CONTACT_CLICKED:return{...e,type:o.UA.CONTACT_DETAILS,id:t.id,contact:null};case r.CONTACTS_FULL_PANE_OPENED:return e.type?e:{...Z(e)};case r.DELETE_CONTACT_REQUESTED:case r.CONTACT_SAVE_REQUESTED:case r.CONTACTS_GROUP_DELETE_REQUESTED:case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:return Z(e)}return e},selectedUserGroup:(e={[o.ukn.GROUPS]:null,[W.Ir]:o.c8t},t)=>{switch(t.type){case r.CONTACTS_PANE_GROUP_CHANGED:return{...e,[o.ukn.GROUPS]:t.value};case r.CONTACTS_LIST_FETCH_SUCCEEDED:{const{groupIds:s=[]}=t;if(null===e[o.ukn.GROUPS]&&s.length)return{...e,[o.ukn.GROUPS]:s[0]};break}case r.CONTACTS_GROUP_DELETE_REQUESTED:return{...e,[o.ukn.GROUPS]:t.newGroupId};case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{tempGroupId:s}=t;return{...e,[o.ukn.GROUPS]:s}}case r.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;if(e[o.ukn.GROUPS]===s)return{...e,[o.ukn.GROUPS]:a};break}case r.CONTACT_PICKER_GROUP_CHANGED:case r.CONTACT_PICKER_OPENED:return{...e,[W.Ir]:t.value||o.c8t}}return e},groupsById:(e={},t)=>{switch(t.type){case r.CONTACTS_LIST_FETCH_SUCCEEDED:{const{groups:s=[],groupIds:a=[],type:n}=t;return s.length&&a.length?s.reduce(((t,s,r)=>{const o=a[r];return o&&(t[o]=K(e[o],{type:n,group:{id:o,name:s}})),t}),{...e}):e}case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{name:s,tempGroupId:a,type:n}=t;if(!s||!a)break;return{...e,[a]:K(e[a],{type:n,group:{id:a,name:s}})}}case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{groupId:s,newName:a,type:n}=t;if(!a||!s)break;return{...e,[s]:K(e[s],{type:n,group:{id:s,name:a}})}}case r.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;if(!a)break;const n=(0,i.T8)(e,s,a);return n[a].id=a,n}case r.CONTACTS_GROUP_FETCH_SUCCEEDED:{const{groupName:s,id:a,type:n}=t;return a?{...e,[a]:K(e[a],{type:n,group:{id:a,name:s}})}:e}case r.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:s}=t;return s?(0,i.oF)(e,[s]):e}}return e},sortBy:(e=o.bW1.FIRST_NAME,t)=>{const{type:s,sortOrder:a}=t;switch(s){case r.CONTACTS_SORT_ORDER_CHANGED:return a;default:return e}},categoryFilter:(e=o.Ygm.ALL_CONTACTS,t)=>{const{type:s,categoryFilter:a}=t;switch(s){case r.CONTACTS_CATEGORY_FILTER_CHANGED:return a;default:return e}},addressBook:Y,contactBlockList:j,restoreStatus:X,csvContactImportStatus:J}),ee=(e={},{type:t,contentProviders:s={}})=>{switch(t){case r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:return{...e,...s}}return e};var te=s(53164);const se=(0,a.combineReducers)({topRetailers:(e=null,t)=>{switch(t.type){case r.TOP_RETAILERS_REQUEST_SUCCEEDED:return t.topRetailers}return e},topDealCategories:(e=null,t)=>{switch(t.type){case r.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:return t.topDealCategories}return e},dealsViewExpansion:(e=!1,{type:t})=>{switch(t){case r.DEALS_VIEW_EXPANSION_TOGGLED:return!e;default:return e}}}),ae=(0,a.combineReducers)({isDetailPaneExpanded:(e=!1,t)=>{switch(t.type){case r.TOGGLE_DETAIL_PANE_EXPANSION:return!e;case r.OPEN_PAGE_REQUESTED:case r.DELETE_ITEMS_SUCCEEDED:case r.UPDATE_ITEMS_SUCCEEDED:return!1;default:return e}}}),ne=(0,a.combineReducers)({content:(e=null,t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.page.content}return e},status:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.page.state;case r.DOCUMENT_FETCH_REQUESTED:return e===o.DAQ.LOADED?e:o.DAQ.LOADING}return e}}),re=(e,t)=>`${e}-${t}`,oe=(0,a.combineReducers)({pages:(e={},t)=>{const{startPage:s,endPage:a}=t,n={};switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return{...e,...Object.keys(t.response.pages).reduce(((s,a)=>(s[a]=ne(e[a],{...t,page:t.response.pages[a]}),s)),{})};case r.DOCUMENT_FETCH_REQUESTED:for(let r=s;r<=a;r++)n[r]=ne(e[r],t);return{...e,...n}}return e},height:(e=null,t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.response.height||e}return e},width:(e=null,t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.response.width||e}return e},numPages:(e=0,t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.response.numPages||e}return e},exceptions:(e={},t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.response.exceptions||e}return e},sheets:(e={},t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:return t.response.sheets||e}return e},status:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case r.DOCUMENT_FETCH_REQUESTED:return e!==o.DAQ.LOADED?o.DAQ.LOADING:e;case r.DOCUMENT_FETCH_SUCCEEDED:return o.DAQ.LOADED;case r.DOCUMENT_FETCH_FAILED:return o.DAQ.ERROR}return e},error:(e={},t)=>{const{error:s={}}=t,{info:a={}}=s.data||{},{documentError:n={}}=a;switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:case r.DOCUMENT_FETCH_REQUESTED:return{};case r.DOCUMENT_FETCH_FAILED:return n}return e},retryCount:(e={},t)=>{switch(t.type){case r.DOCUMENT_FETCH_SUCCEEDED:case r.DOCUMENT_FETCH_FAILED:{const s=re(t.startPage,t.endPage);return{...e,[s]:(e[s]||0)+1}}}return e}}),ie=(e={},t)=>{switch(t.type){case r.DOCUMENT_FETCH_REQUESTED:case r.DOCUMENT_FETCH_SUCCEEDED:case r.DOCUMENT_FETCH_FAILED:{var s;const a=(null===(s=t.statesToRemove)||void 0===s?void 0:s.documentsToRemove)||[];return a.length>0?M()({...e,[t.documentId]:oe(e[t.documentId],t)},a):{...e,[t.documentId]:oe(e[t.documentId],t)}}}return e};var le=s(17016);const ce=function(e=[],t){switch(t.type){case r.DOWNLOAD_REQUESTED:case r.ATTACHMENT_DOWNLOADED:case r.ALL_ATTACHMENTS_DOWNLOADED:return function(e,t){return t.downloadId=`download-${(0,le.generateUID)()}`,e.concat(t)}(e,t.download);case r.DOWNLOAD_COMPLETED:case r.DOWNLOAD_FAILED:return function(e,t){return e.filter((e=>e.downloadId!==t))}(e,t.downloadId);default:return e}};var de=s(62650),_e=s(8106);const Ee={screenWidth:0,screenHeight:0,clientWidth:0,clientHeight:0,innerWidth:0,innerHeight:0,contentAndRightRailWidth:0,contentAndRightRailHeight:0,ybarHeight:0},ue=(0,a.combineReducers)({appName:(e=null,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.appName||e;default:return e}},appId:(e=null,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.appId||e;default:return e}},isInternalIP:(e=!1,t)=>{switch(t.type){case r.INITIAL_STATE:return t.internal;default:return e}},applicationVisibility:(e=!0,t)=>{switch(t.type){case r.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible}return e},applicationLastVisibleTimeStamp:(e=null,t)=>{switch(t.type){case r.APPLICATION_VISIBILITY_DID_CHANGE:return t.isVisible?null:t.actionTimestamp}return e},buildRefreshStatus:(e=o.OcD.NO_REFRESH,t)=>{switch(t.type){case r.APPLICATION_VISIBILITY_DID_CHANGE:if(t.isVisible){const e=(t.actionTimestamp-t.applicationLastVisibleTimeStamp)/6e4;if(t.emergencyRefresh&&e>t.appRefreshIdleInterval.emergencyRefresh)return o.OcD.EMERGENCY_REFRESH;const s=864e5,a=15,n=Math.round(t.elapsedTimeFromSessionStart)/s;if(e>t.appRefreshIdleInterval.periodicRefresh&&n>=a)return o.OcD.PERIODIC_REFRESH}return e;case r.CANCEL_APP_RELOAD:return o.OcD.NO_REFRESH;default:return e}},timeZoneName:(e="UTC",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.timezone||t.timezone&&t.timezone.name||"UTC";case r.LAUNCH_COMPLETED:return t.clientInferredTimezone||e;default:return e}},timezoneUpdating:(e=!1,t)=>{switch(t.type){case r.SETTINGS_LOCATION_CHANGE_REQUESTED:return t.isUpdating||e;default:return e}},region:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.region||e;default:return e}},windowDimensions:(e=Ee,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.clientParams&&t.clientParams.windowInnerWidth&&t.clientParams.windowInnerHeight?{...e,innerWidth:t.clientParams.windowInnerWidth,innerHeight:t.clientParams.windowInnerHeight}:e;case r.WINDOW_RESIZING:return{screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,contentAndRightRailHeight:t.contentAndRightRailHeight,contentAndRightRailWidth:t.contentAndRightRailWidth,innerWidth:t.innerWidth,innerHeight:t.innerHeight,ybarHeight:t.ybarHeight};case r.LAUNCH_COMPLETED:return t.clientWidth&&t.clientHeight&&t.innerWidth&&t.innerHeight?{...e,screenWidth:t.screenWidth,screenHeight:t.screenHeight,clientWidth:t.clientWidth,clientHeight:t.clientHeight,innerWidth:t.innerWidth,innerHeight:t.innerHeight}:e;default:return e}},pageDirection:(e="ltr",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.pageDirection||e;default:return e}},browser:(e={},t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return{browserName:t.browserName,browserVersion:t.browserVersion};default:return e}},loggerParams:(e={},t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.loggerParams||{};default:return e}},doNotSellUrl:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.doNotSellUrl||null;default:return e}},doNotSellLabel:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.doNotSellLabel||"";default:return e}},privacyJurisdictionLinks:(e=[],t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.privacyJurisdictionLinks||[];default:return e}},userSegmentData:(e={},t)=>{switch(t.type){case r.LAUNCH_COMPLETED:return(0,_e.jU)()&&window.AppBootstrapData?window.AppBootstrapData.userSegmentData||{}:e;default:return e}},userAdBlockerData:(e={},t)=>{switch(t.type){case r.LAUNCH_COMPLETED:return(0,_e.jU)()&&window.AppBootstrapData?window.AppBootstrapData.userAdBlockerData||{}:e;default:return e}},endpoints:(e={},t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.endpoints||{};default:return e}},partner:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.partner||"";default:return e}},os:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.os||"";default:return e}},userNamespace:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.userNamespace||"";default:return e}},buckets:(e=[],t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.buckets||[];default:return e}},colo:(e="",t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.colo||"";default:return e}}});var me=s(64721),Se=s.n(me),pe=s(9026),Ce=s(45481),Ae=s(54418);const Te=(e,t,s={})=>{const{contentType:a=o.F6k.MESSAGES,isMessageTag:n}=s,{getFeaturesSelectors:r,isMobileRoute:i,isStorefrontRoute:l}=t,{getSetting:d}=r(),_=!l()&&d(o.Zrf.PREVIEW_PANE)===o.EsZ.RIGHT,E=d(o.Zrf.MSG_LIST_DENSITY),u=d(o.Zrf.SNIPPETS),m=n?c.Ch$:0;if(i())return m+(u?18*(u-1)+c.BNf:c.iWM);switch(a){case o.F6k.PINNED_EMAILS:case o.F6k.MESSAGES:switch(E){case o.Ds1.SLIM:return _?m+(u?c.BKZ:c.O2p):c.zDu;case o.Ds1.RELAXED:return _?m+(u?c.xwf:c.rZd):c.yNf;default:return _?m+(u?c.zJB:c.A3h):c.DGE}case o.F6k.IMAGES:return c.lmS;case o.F6k.DOCUMENTS:return c.Ehc}},Ie=e=>{const{getAction:t}=e,s=t();return s.type===r.STAR_CHANGE_REQUESTED&&!s.isStarred},he=e=>{const{getAction:t,getRoute:s}=e,a=t(),n=s(),i=(0,z.LY)(n);if((0,z.WN)(i)!==o.F6k.COUPON_CARDS)return a.type===r.COUPONS_ADD_TAG_DECO_SUCCEEDED},ge=e=>{const{getFeaturesSelectors:t,isMobileRoute:s}=e,a=s(),{getSetting:n}=t();return n(a?o.Zrf.MOBILE_NOTIFICATION:o.Zrf.DESKTOP_NOTIFICATION)},Oe=(e,t,s=!1)=>{const{isFeatureEnabled:a,getRoute:n,isNarrowScreen:r,getActionableRightRailPane:i}=t,l=n(),c=a(o.ANe.HIDE_RIGHT_RAIL),d=!!l.params.attachmentId;return e&&!c&&(!r()||s)&&!i()&&!d},De=(e,t)=>{const s=t.getRoute(),a=t.getSetting(o.Zrf.PREVIEW_PANE)!==o.EsZ.NO;let n=[o.n8z.MESSAGE_FROM_FOLDER_LIST,o.n8z.MESSAGE_FROM_SEARCH_LIST,o.n8z.MESSAGE_FROM_LIST];return a&&(n=[...n,o.n8z.FOLDER,o.n8z.LIST,o.n8z.SEARCH]),Oe(e,t)&&-1!==n.indexOf(s.name)&&!!t.getGroupId()},Re=(e,t)=>{const{getRoute:s,isMobileRoute:a}=t;if(a())return o.EsZ.NO;const n=(0,z.LY)(s());return(0,z.WN)(n)===o.F6k.MESSAGES?e:o.EsZ.NO};var Ne=s(42363);var Le=s(55831);var fe=s(63523);function Me(e,t){return e.length?function(e,t){return e.find((e=>{const s=(0,fe.W2)(e);return s&&s.name===t}))}(e,t):null}const Pe=(e,t)=>{const s=[],{getFeaturesSelectors:a}=t,n=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_IN_TABS),r=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_PEOPLE),i=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2),l=a().isEnabled(o.ANe.SMARTVIEW_CATEGORIES_SHOPPING),c=`${o.B_Z[o.K8C.PEOPLE]}:1`,d=`${o.B_Z[o.K8C.PEOPLE]}:0`,_=`${o.B_Z[o.K8C.COUPONS]}:1`;if(!(n||r||i||l))return[];if(r||i||l){if(r||i){const t=Me(e,o.K8C.PEOPLE);t?s.push((0,fe.W2)(t)):s.push(r?(0,fe.W2)(c):(0,fe.W2)(d))}if(l){const t=Me(e,o.K8C.COUPONS);s.push(t?(0,fe.W2)(t):(0,fe.W2)(_))}}else e.forEach((e=>{const t=(0,fe.W2)(e);t&&s.push(t)})),o.qwE.forEach((e=>{s.find((({name:t})=>t===e))||s.push({name:e,status:0})}));return s},be=(0,i.gP)(["luv.southwest.com","sg.booking.com","mail.hotels.com","booking.com","email.travelzoo.com","e.delta.com","h1.hilton.com","airbnb.com","email-marriott.com","united.com","email.jetblue.com","frontier.com","mailer.orbitz.com","news.united.com","save.spirit-airlines.com","aa.com","your.choicehotels.com","carnivalcruiselineemail.com","res.hilton.com","ifly.alaskaair.com"]);const ye=(e,t)=>{const{getRouteParams:s,getRouteName:a,getRoute:n,doesMessageGroupIdExist:r,getMessageIdsFromMessageGroupId:l,getMessagesSelectors:c,getSmartViewTypeFromRoute:d}=t,{doesMessageIdExist:_,getFromAddresses:E}=c(),u=a(),m=u===o.n8z.MESSAGE_FROM_FOLDER_LIST||u===o.n8z.MESSAGE_FROM_SEARCH_LIST,S=n(),p=(0,z.zu)(S)&&d(S)===o.K8C.TRAVEL,{groupId:C}=s()||{},A=r(C)&&l(C)[0],T=_(A)&&E(A)[0];return Oe(e,t,!0)&&(m&&function(e){if(!e)return!1;const t=(0,i.u9)(e,"email",""),s=t.slice(t.indexOf("@")+1).toLowerCase();return!!be[s]}(T)||p)},ve=(e,t)=>{const{getRoute:s,getListsSelectors:a}=t,{doesListExist:n}=a(),r=(0,z.LY)(s()),i=(0,z.WN)(r)===o.F6k.TRAVEL_CARDS;return n(r)&&i&&e},Fe=(e,t)=>{const s=e[o.Zrf.ACTION_AFTER_MSG_MOVE],{getPrescribedNumberOfColumns:a,getSetting:n,isFeatureEnabled:r}=t,i="/m"===n("appRootPath"),l=2===a(),c=r(o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED);return i&&!c?l?o.jdT.SHOW_NEXT_MESSAGE:o.jdT.GO_BACK_TO_FOLDER:s};var Ue=s(59678);const ke=/password/i,we=/change|reset/i,Ge=e=>ke.test(e)&&we.test(e);var He=s(78662);var Be=s(45895),xe=s(33471),Ve=s(17673);var Ze=s(41546);const We={MAILPRO:{[o.Zrf.LOGO_URL]:o._72,[o.Zrf.LOGO_SRCSET]:o.Fmq},MAILPLUS:{[o.Zrf.LOGO_URL]:(0,Ze.A)("/img/yahoo_mail_plus_horizontal_white_1x.png"),[o.Zrf.LOGO_SRCSET]:(0,Ze.A)("/img/yahoo_mail_plus_horizontal_white_2x.png")+" 2x"},MAILPLUS_ATT:{[o.Zrf.LOGO_URL]:(0,Ze.A)("/img/yahoo_mail_plus_partner_att_white_1x.png"),[o.Zrf.LOGO_SRCSET]:(0,Ze.A)("/img/yahoo_mail_plus_partner_att_white_2x.png")+" 2x"}},{IN_PREVIEW:Ke}=o.kuZ,ze=(e,t)=>{const{isFeatureEnabled:s,getSetting:a,isMobileRoute:n,getMailPremiumFreeTrialSelectors:r}=t,i=s(o.ANe.MAIL_PRO),l=s(o.ANe.MAIL_PLUS)||s(o.ANe.MAIL_PLUS_FREE_TRIAL),c=s(o.ANe.MAIL_PLUS_MOBILE_WEB);if(i)return!1;const{getDealsRecommendationsPreview:d}=r(),{status:_,value:E}=d();if(_===Ke)return E;if(n()?c:l){const e=a(o.Zrf.DISABLED_MESSAGE_READ_CARDS);return Array.isArray(e)&&-1===e.indexOf(o.ANe.DEAL_RECOMMENDATIONS_ENABLED)}return!0};var Ye=s(3690);const je=(e,t)=>{const{getSetting:s,isFeatureEnabled:a}=t;return a(o.ANe.ENABLE_READABILITY_MODE)&&s(o.Zrf.READABILITY_MODE)?o.Ds1.RELAXED:e},qe=(e,t,s)=>{var a,n;const{getSetting:r,isFeatureEnabled:i}=t;if(!i(o.ANe.SHOW_EXPERIMENTAL_FEATURES))return e;const l=null!==(a=r(o.Zrf.EXPERIMENTAL_FEATURES_META_DATA))&&void 0!==a?a:{},c=null!==(n=r(o.Zrf.EXPERIMENTAL_FEATURES))&&void 0!==n?n:[];if(!l[s])return e;const d=c.find((e=>e.startsWith(`${s},`)));if(d){return"true"===d.split(",")[1]}return l[s].defaultValue},Xe=(e,t)=>{if(!e)return e;const{getContentProviders:s}=t;return!!s().hasConsentForThirdPartyAI()&&e};var Qe=s(64059);const Je={[o.ANe.DISPATCHER_UPSELLS]:!0,[o.ANe.YMOBILE_PROMO_UPSELLS]:!0,[o.ANe.YPMP_PROMO_UPSELLS]:!0,[o.ANe.TOUCHPOINT_UPSELL]:!0},$e=(e,t=!1)=>(s=t,a)=>{switch(a.type){case r.LAUNCH_PAGE_REQUESTED:case r.INITIAL_STATE:case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case r.SETTINGS_BLOCKED_SENDERS_RECEIVED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case r.POST_LAUNCH_ATTRIBUTES_RECEIVED:case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.COMPOSE_ATTRIBUTES_RECEIVED:{const{nextFeature:t}=a;return t===e||(void 0!==a.features[e]?a.features[e]:s)}case r.LAUNCH_COMPLETED:return a.nextFeature===e||s;case r.FEATURE_CLOSED:case r.FEATURE_DISABLED:case r.FEATURE_TRY_NOW_REQUESTED:case r.FEATURE_CUE_NOTIFICATION_CLOSED:{const{name:t}=a,n=t;return(n!==o.ANe.MOBILE_PAC_NOTIFICATION_CUE||e!==o.ANe.INLINE_IMAGES_PROXIED)&&(n!==e&&(a.nextFeature===e||s))}case r.FEATURE_ENABLED:case r.AOL_SETTINGS_MIGRATION_SUCCEEDED:case r.SETTINGS_CHANGE_REQUESTED:case r.SETTINGS_SAVE_FILTERS_REQUESTED:case r.RENAME_FOLDER_REQUESTED:case r.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case r.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:case r.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{name:t,value:n,feature:i,type:l}=a;return void 0===t||void 0===n?s:i===o.ANe.MOBILE_PAC_NOTIFICATION_CUE&&e===o.Zrf.SHOW_IMAGES&&l===r.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED||(t===o.Zrf.CONSENT_EVENTS&&e===o.Zrf.CONSENT_EVENTS&&l===r.SETTINGS_CHANGE_REQUESTED?((e,t)=>{let s=e;return Object.keys(t).forEach((e=>{const a=t[e]&&t[e].status;a===He.e7&&(s=s.filter((t=>t!==e))),a===He.sZ&&(s=[...s,e])})),s})(s,n):t===e?n:s)}case r.SETTINGS_CHANGE_FAILED:var n;return(null==a||null===(n=a.requestActionPayload)||void 0===n?void 0:n.name)===o.Zrf.LINK_ENHANCR&&e===o.Zrf.LINK_ENHANCR?!s:s;case r.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:t,shownMaxTimes:n=!1}=a;return e===o.Zrf.SHOW_IMAGES&&t===o.ANe.WEB_PAC_NOTIFICATION_CUE&&!!n||s}case r.BLOCK_SENDERS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:{const{name:t,blockSenders:n}=a;return void 0===t||void 0===n?s:t===e?n:s}case r.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:{const{value:t}=a;return e===o.Zrf.VACATION_PREFERENCES?t:s}case r.THEME_MODE_CHANGE_REQUESTED:case r.AOL_SETTINGS_MIGRATION_INITIATED:case r.OPEN_PAGE_REQUESTED:{const{nextFeature:t}=a;if(Je[e])return!1;if(t===e)return!0;if(a.updatedSettingAttributes){const{updatedSettingAttributes:t}=a,n=Array.isArray(t)?t.find((t=>t.name===e)):t,{name:r,value:o}=n||{};return void 0===r||void 0===o?s:r===e?o:s}return e===o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA?{}:s}case r.PREVIEW_MESSAGE_REQUESTED:case r.CLOSE_PAGE_REQUESTED:return!Je[e]&&(a.nextFeature===e||s);case r.DISPATCHER_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.DISPATCHER_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;case r.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.TOUCHPOINT_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;case r.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:return e===o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA?a.mailoverlay||s:a.nextFeature===e||s;default:{const{nextFeature:t}=a;return t===e||s}}},et={[o.ANe.RUNTIME_PROFILING]:!1,[o.ANe.FORCE_USER_STICKY_ONBOARDING_CUE]:!1,[o.ANe.SHOW_USER_STICKY_ONBOARDING_CUE]:!1,[o.Zrf.APP_CONTAINER]:"",[o.ANe.SYNC_DATA_ONLY_WHEN_NEEDED]:!1,[o.ANe.SYNC_NOW]:!1,collectConfigAccess:!1,[o.ANe.TAX_SEASON_MESSAGE_TAG]:!1,[o.ANe.ALTERNATE_SEARCH_BOX]:!1,[o.ANe.YBAR_PERSONAL_FEED_SYSTEM]:!1,[o.ANe.YBAR_FUJI2_THEME]:!1,[o.ANe.YBAR_FUJI2_THEME_SUPPRESS_TOP_NAV]:!1,[o.ANe.SMART_REPLY]:!1,[o.ANe.PHOTOS_CUE]:!1,[o.ANe.STARRED_CUE]:!1,[o.ANe.SETTINGS_CUE]:!1,[o.ANe.RM_SETTINGS_CUE]:!1,[o.ANe.PARTNER_RECONSENT_BANNER]:!1,[o.ANe.SEARCH_CUE]:!1,[o.ANe.SEARCH_RELEVANCE_CUE]:!1,[o.ANe.ENABLE_SEARCH_RELEVANCE_CUE]:!1,[o.ANe.ALL_TABS_PLUS_CUE]:!1,[o.ANe.PEOPLE_SMARTVIEW_CUE]:!1,[o.ANe.STATIONERY_CUE]:!1,[o.ANe.EMOJI_CUE]:!1,[o.ANe.LAYOUT_CUE]:!1,[o.ANe.SHOW_SPONSORED_LOGO]:!1,[o.ANe.THEMES_CUE_V3]:!1,[o.ANe.NEW_USER_TASKS_CUE]:!1,[o.ANe.UPDATE_WIDER_MAIL_CUE]:!1,[o.ANe.COUPONS_VIEW_CUE]:!1,[o.Zrf.ASTRA_NONPROD_FLAG]:!1,[o.ANe.CATEGORY_FOLLOWING_CUE]:!1,[o.ANe.AMAZON_PRIME_DAY_CUE]:!1,[o.ANe.PKG_TRACKING_CUE]:!1,[o.ANe.ADBLOCK_UPSELL_CUE]:!1,[o.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN_CUE]:!1,[o.ANe.ADBLOCK_DELAY_DISMISS_CUE_V2]:!1,[o.ANe.RIGHT_RAIL_AD_FREE_UPSELL_CUE]:!1,[o.ANe.COUPONS_VIEW_LAUNCH_CUE]:!1,[o.ANe.FOCUSED_INBOX_CUE]:!1,[o.ANe.SHOW_ENHANCE_CONTACTS_PREFERENCE]:!0,[o.ANe.SHOW_ENHANCED_CONTACTS_INFO]:!0,[o.ANe.SHOW_IMPORT_CONTACTS_IN_SETTINGS]:!0,[o.ANe.CONVERSATIONS]:!0,[o.ANe.INLINE_REPLY_COMPOSE]:!1,[o.ANe.ENHANCED_COMPOSE]:!1,[o.ANe.SHOW_EXPERIMENTAL_FEATURES]:!1,[o.Zrf.EXPERIMENTAL_FEATURES]:[],[o.Zrf.EXPERIMENTAL_FEATURES_META_DATA]:{},[o.ANe.SHOW_FRMT_OPTNS_IN_COMPOSE_HEADER]:!1,[o.ANe.SHOW_CONFIRMATION_ON_DRAFT_CLOSE]:!1,[o.ANe.SHOW_CONFIRMATION_ON_DRAFT_DELETE]:!1,[o.ANe.SHOW_LABELS_FOR_RICH_COMPOSE_OPTIONS]:!1,[o.ANe.SHOW_DRAFT_OPERATIONS_IN_TOOLBAR]:!1,[o.ANe.SHOW_FONT_SIZE_IN_PTS]:!1,[o.ANe.SHOW_ADDITIONAL_FONTS]:!1,[o.ANe.CLOUD_STORAGE]:!1,[o.Zrf.IMAPIN]:!1,canAddImapInAccount:!1,canRemoveImapInAccount:!1,[o.ANe.OFFICE365]:!1,[o.ANe.OFFICE365_CUE]:!1,linkAccountList:!1,[o.ANe.MOVE_FOLDER]:!1,[o.Zrf.SHOW_ALL_SYSTEM_FOLDERS]:!1,addAliasAccount:!1,[o.Zrf.SNIPPETS]:!1,[o.Zrf.USE_RICH_TEXT]:!0,[o.Zrf.HIDE_FORMAT_TOOLBAR]:!1,[o.Zrf.SHOW_IMAGES]:!1,[o.Zrf.CONSENT_EVENTS]:[],[o.Zrf.HUMAN_READABLE_CONSENT]:!1,[o.ANe.SHOW_HUMAN_READABLE_CONSENT_SETTING]:!1,[o.Zrf.DESKTOP_NOTIFICATION]:0,[o.Zrf.MOBILE_NOTIFICATION]:!1,[o.Zrf.MAIL_TABS]:!1,[o.Zrf.MARK_AS_READ_INTERVAL]:o.SEm.IMMEDIATELY,[o.Zrf.THEME]:pe.b3.DEFAULT,[o.Zrf.THEME_MODE]:pe.zg.LIGHT,[o.Zrf.CLIENT_WIDTH]:0,[o.Zrf.ORIENTATION]:"portrait",[o.Zrf.PREVIEW_PANE]:o.EsZ.NO,[o.Zrf.COMPOSE_FORMAT]:o.tTi.FULL_SIZED,[o.Zrf.SUBHUB_RECO_FILTER]:"",[o.Zrf.SUBHUB_RECO_COUNT]:5,[o.Zrf.MSG_LIST_DENSITY]:o.Ds1.NORMAL,[o.Zrf.COMPOSE_FONT_SIZE]:o.H4h.SIZE,[o.Zrf.COMPOSE_FONT_FAMILY]:o.H4h.FAMILY,focusBasedVisibilityDetection:!1,[o.Zrf.DELIVERY_BLOCKED_SENDERS]:[],[o.Zrf.LINK_ENHANCR]:!1,[o.Zrf.VACATION_PREFERENCES]:{enabled:!1},[o.Zrf.DEA_BASE_NAME]:null,[o.Zrf.LIST_ITEM_HEIGHT]:32,[o.Zrf.MESSAGE_FILTERS]:[],[o.Zrf.ACTION_AFTER_MSG_MOVE]:o.jdT.GO_BACK_TO_FOLDER,[o.Zrf.SHOW_CUSTOM_FOLDERS]:!0,[o.Zrf.SHOW_SMART_VIEWS]:!0,[o.Zrf.EXPANDED_FOLDERS]:[],[o.Zrf.STATIONERY_DEFAULT_THEME]:"",[o.Zrf.TOGGLE_CONV_RELOAD_DELAY]:300,[o.Zrf.SUPPRESSED_UPSELLS]:[o.ANe.EMAILS_TO_MYSELF_UPSELL],[o.ANe.RESIZABLE_PREVIEW_PANE]:!0,[o.ANe.PREVIEW_PANE_IN_PIXELS]:!1,[o.ANe.PREVIEW_PANE_COOKIE]:!1,[o.ANe.LEFT_NAV_RESIZING]:!1,[o.Zrf.RECENTLY_USED_EMOJIS]:[],[o.ANe.EMOJI_SEARCH]:!1,[o.Zrf.SYSTEM_TABS]:[],[o.ANe.OPTIMISTIC_SEND]:!1,[o.ANe.FORCE_OPTIN_BEACON]:!1,[o.ANe.CEP_FORWARD]:!1,[o.ANe.RSVP]:!1,[o.ANe.RSVP_RESPONSE]:!1,[o.ANe.NUDGE_TO_REPLY_ELIGIBLE]:!1,[o.Zrf.NUDGE_TO_REPLY_SETTING]:!1,[o.ANe.STATIONERY_THEME_DATES]:!1,[o.ANe.PARSE_RSVP_REPLY_LINKS]:!1,[o.Zrf.PLA_SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search_pla",[o.Zrf.SEARCH_SOURCE_TAG]:"yahoo_mail_nextgen_search",[o.Zrf.SEARCH_FETCH_COUNT]:25,[o.Zrf.SEARCH_FIRST_PAGE_COUNT]:25,[o.Zrf.SPACE_IDS]:{},[o.Zrf.MAGIC_NUMBERS]:{},[o.Zrf.AOL_AD_POSITION_MULTI_SIZES]:{},[o.ANe.SUBHUB_RECOMMENDATIONS]:!1,[o.ANe.DEALS_VIEW_CUE]:!1,[o.ANe.CONTACTS_NEW_BADGE]:!1,[o.ANe.BRAND_MENU_ONBOARDING_CUE]:!1,[o.ANe.BRAND_MENU_FEEDBACK_CUE]:!1,[o.ANe.EMAILS_TO_MYSELF_LEFT_CUE]:!1,[o.ANe.EMAILS_TO_MYSELF_TOOLTIP]:!1,[o.ANe.EMAILS_TO_MYSELF_FEEDBACK_ENABLED]:!1,[o.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE]:!1,[o.ANe.EMAILS_TO_MYSELF_MOBILE_FEEDBACK_CUE]:!1,[o.ANe.TOM_ONBOARDING_CUE]:!1,[o.ANe.EMAILS_TO_MYSELF_UPSELL]:!1,[o.ANe.EMAILS_TO_MYSELF_MAIL_PLUS_UPSELL]:!1,[o.ANe.TOOLBAR_V3]:!1,[o.ANe.RIGHT_RAIL_CONTACT_CARD]:!1,[o.ANe.RIGHT_RAIL_PHOTO_CARD]:!1,[o.ANe.RIGHT_RAIL_DOCS_CARD]:!1,[o.ANe.RIGHT_RAIL_MESSAGES_CARD]:!1,[o.Zrf.AD_BLOCK_FEATURE_CUE_ID]:1,[o.ANe.CONTACTS_FULL_PANE]:!1,[o.ANe.CONTACTS_PANE_FEATURE]:!1,[o.ANe.CONTACTS_PANE_CUE]:!1,[o.ANe.CONTACTS_SORT]:!1,[o.ANe.DISABLE_DL]:!1,[o.ANe.CONTACTS_RESTORE]:!1,[o.ANe.CONTACTS_IMPORT_FROM_CSV]:!1,[o.ANe.CALENDAR_RIGHT_RAIL_PANE]:!1,[o.ANe.CALENDAR_RIGHT_RAIL_PANE_CUE]:!1,[o.ANe.INVITE_FLOW_ENABLED]:!0,[o.ANe.PRINT_ENABLED]:!0,[o.ANe.SOCIAL_ACCOUNTS]:!1,[o.ANe.USE_LINKEDIN_TEST_SPID]:!1,[o.Zrf.LINKEDIN_EXPIRY_NOTIFY_DAYS]:15,[o.ANe.MESSAGE_UNREAD_INDICATOR]:!1,[o.Zrf.THROTTLE_API_LIST]:{},[o.ANe.NO_SYNC_ON_MESSAGE_LAUNCH]:!1,[o.ANe.SMARTVIEW_ATTACHMNENTS]:!1,[o.ANe.ADS]:!0,[o.ANe.NO_ADS]:!1,[o.ANe.JAC_ADS]:!1,[o.ANe.JAC_SERVER_PREFETCH]:!1,[o.ANe.JAC_SERVER_PREFETCH_COOKIE]:!1,[o.ANe.JAC_CLIENT_PREFETCH]:!1,[o.ANe.JAC_DOUBLE_BUFFERING]:!1,[o.ANe.JAC_AD_BLOCK_DETECTION]:!1,[o.ANe.JAC_ENFORCE_AD_ROTATION_INTERVAL]:!1,[o.ANe.JAC_SCRIPT_CACHE]:!1,[o.ANe.JAC_CONNECT_ID]:!1,[o.ANe.EMPTY_FOLDER_DISPLAY_AD]:!1,[o.ANe.DISPLAY_ADS_ROTATION_OPTIMIZATION]:!1,[o.ANe.DO_NOT_SELL_LINK]:!1,[o.ANe.PRIVACY_JURISDICTION_LINKS]:!1,[o.ANe.GEMINI_SPONSORED_VIDEO]:!1,[o.ANe.COM_SCORE_BEACONING]:!1,[o.ANe.EMPTY_FOLDER_VIDEO]:!1,[o.ANe.EMPTY_FOLDER_ALTER]:!1,[o.ANe.MESSAGE_READ_AD_ROTATION]:!0,[o.ANe.GAM]:!1,[o.ANe.GAM_AGE_COMPLIANCE]:!1,[o.ANe.GAM_HEADER_BIDDER]:!1,[o.ANe.GAM_NUKE_AD_ON_INACTIVE]:!1,[o.ANe.GAM_AD_BLOCK_DETECTION]:!1,[o.ANe.GAM_AUTO_RELOAD_ON_APP_VISIBLE]:!1,[o.ANe.GAM_MESSAGE_READ_AUTO_ROTATION]:!1,[o.ANe.GAM_CUSTOM_WAIT_INTERVAL_AFTER_NON_REFRESH_ROTATION]:!1,[o.ANe.GAM_MOUSE_MOVE_ROTATION_ON_ALL_ROUTES]:!1,[o.ANe.GAM_HUMAN_AD_QUALITY]:!1,[o.ANe.GAM_REQUEST_TRACKING]:!1,[o.ANe.GPT_IFRAME_CACHE]:!1,[o.ANe.MAIL_PLUS_ELIGIBLE]:!1,[o.ANe.AOL_AD_FREE_UPSELL_ELIGIBLE]:!1,[o.ANe.MAIL_PLUS_INELIGIBLE]:!0,[o.ANe.MAIL_PLUS_SWITCH_WIDGET_ELIGIBLE]:!1,[o.ANe.MAIL_PLUS]:!1,[o.ANe.MAIL_PLUS_MOBILE_APPS]:!1,[o.ANe.MAIL_PLUS_MOBILE_WEB]:!1,[o.ANe.MAIL_PLUS_FREE_TRIAL]:!1,[o.ANe.MAIL_PLUS_IOS_IN_APP_PURCHASE_USER]:!1,[o.ANe.MAIL_PLUS_ANDROID_IN_APP_PURCHASE_USER]:!1,[o.ANe.COMPOSE_FORMAT_CHOOSER_ENABLED]:!1,[o.ANe.DEAL_RECOMMENDATIONS_ENABLED]:!1,[o.ANe.HIDE_DEALS_ENABLED]:!1,[o.ANe.HIDE_DEALS_ELIGIBLE]:!1,[o.ANe.DEAL_RECO_MOBILE_CUE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_ELIGIBLE]:!1,[o.ANe.DEALS_RECOMMEND_CONTROL_CUE]:!1,[o.ANe.DEAL_RECO_CUE]:!1,[o.ANe.MAIL_PLUS_TASTEMAKER]:!1,[o.ANe.BLOCKED_DOMAINS]:!1,[o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ELIGIBLE]:!1,[o.ANe.MOBILE_AFTER_MESSAGE_MOVE_ENABLED]:!1,[o.ANe.MAIL_PLUS_SPONSORED_MESSAGE]:!1,[o.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER]:!1,[o.ANe.AD_LITE]:!1,[o.ANe.GEMINI_VIEWABILITY]:!0,[o.Zrf.HIDE_AD]:!1,[o.ANe.MAIL_PRO_ELIGIBLE]:!1,[o.ANe.MAIL_PRO_PRIORITY_SUPPORT_ELIGIBLE]:!1,[o.ANe.MESSAGE_READ_CONTACT_CARD]:!1,[o.ANe.HIDE_RIGHT_RAIL]:!1,[o.ANe.SMARTVIEW_CATEGORIES_ENABLED]:!1,[o.ANe.PREMIUM_AD_DETECTION]:!1,[o.ANe.GEMINI_CONTEXTUAL_ADS]:!1,[o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE]:!1,[o.ANe.NO_AD_ROTATION_ON_COMPOSE]:!1,[o.ANe.ROTATE_ADS_ONLINE]:!1,[o.ANe.BOOKING_CARD]:!1,[o.ANe.DARLA_GEMINI_ARBITRATION]:!1,[o.ANe.NODIN_DISPLAY_AD_RETRY]:!1,[o.ANe.AMP]:!1,[o.Zrf.AMP_EMAIL]:!1,[o.ANe.AMP_PROXY]:!1,[o.ANe.LAZY_LOADING_EMAIL_IMG]:!1,[o.Zrf.LAZY_LOADING_EMAIL_IMG_CONFIG]:{},[o.ANe.MAIL_PRO]:!1,[o.ANe.MAIL_PRO_LINK_IN_SETTINGS_MENU]:!1,[o.ANe.ADBLOCK_UPSELL]:!1,[o.ANe.ADBLOCK_DELAY_DISMISS]:!1,[o.ANe.REDIRECT_ADBLOCK_USER_TO_NODIN]:!1,[o.ANe.SHOPPING_CART_AD]:!1,[o.ANe.AUTO_FORWARD_EMAIL]:!1,[o.ANe.RIGHT_RAIL_EXCL_MAIL_PLUS_UPSELL]:!1,[o.ANe.RIGHT_RAIL_COLLAPSE_RESTRICTION]:!1,[o.Zrf.RIGHT_RAIL_COLLAPSE_LIMIT]:0,[o.ANe.REDIRECT_MAIL_PLUS_UPSELL_TO_MAIL_PLUS_TAB]:!1,[o.ANe.PENCIL_AD]:!1,[o.ANe.TALL_PENCIL_AD]:!1,[o.ANe.BOTTOM_STICKY_PENCIL_AD]:!1,[o.ANe.BOTTOM_STICKY_PENCIL_AD_ROTATION_OPTIMIZE]:!1,[o.ANe.BOTTOM_STICKY_PENCIL_AD_WITH_HIDE_OPTION]:!1,[o.ANe.SECOND_PENCIL_AD]:!1,[o.ANe.NORMALIZED_SECOND_PENCIL_AD]:!1,[o.ANe.SECOND_PENCIL_FALLBACK_SECTION_ID_ENABLED]:!1,[o.ANe.HOTELS_CARD_PREFILL]:!1,[o.ANe.RELATED_SEARCHES_CARD]:!1,[o.ANe.MESSAGE_LIST_AD_CAROUSEL]:!1,[o.ANe.NOBLE_HYBRID_AD]:!1,[o.ANe.PORTRAIT_AD]:!1,[o.ANe.FLASH_SALE_AD]:!1,[o.ANe.FLASH_SALE_AD_IN_SECONDS]:!1,[o.ANe.PLA_SEARCH_ADS]:!1,[o.Zrf.PLA_SEARCH_ADS_BUCKET_ID]:"",[o.Zrf.PLA_SEARCH_ADS_JS_URL]:"https://s.yimg.com/ds/scripts/pla.v1.2.js",[o.ANe.MESSAGE_READ_AD_ROTATION_V2]:!1,[o.ANe.ROTATE_PENCIL_AD_ON_EXPIRE]:!1,[o.ANe.AOL_VIDEO_PLAYER]:!1,[o.ANe.OATH_VIDEO_PLAYER]:!1,[o.ANe.RIGHT_RAIL_NATIVE_AD]:!1,[o.ANe.NOBLE_WEB_LINK]:!1,[o.ANe.AFFILIATE_PARTNER]:!1,[o.ANe.AFFILIATE_DIRECTLY]:!1,[o.ANe.NODIN_MESSAGE_HEADER]:!1,[o.Zrf.ENABLED_AFFILIATE_PARTNERS]:[],[o.Zrf.IC_TOM_DENY_LIST]:[],[o.Zrf.AFFILIATE_URL]:o.HH7,[o.Zrf.NUMBER_OF_COUPON_ROWS]:0,[o.ANe.CONTACT_CARD_TRACKING]:!1,[o.ANe.DEBUG_JAC]:!1,[o.ANe.ABP_STATIC_ADS]:!1,[o.ANe.ROTATE_ADS_ON_CHECK_MAIL]:!1,[o.ANe.AD_FORMAT_SELECTION]:!1,[o.ANe.MESSAGE_OP_PERF]:!1,[o.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD]:!1,[o.ANe.MSG_READ_PENCIL_AD]:!1,[o.ANe.DOMAIN_MATCH_AD]:!1,[o.ANe.DOMAIN_MATCH_AD_VIA_GEMINI]:!1,[o.ANe.DOMAIN_MATCH_AD_VIA_RELATED_CARDS]:!1,[o.Zrf.DOMAIN_MATCH_AD_RELATED_CARD_VERTICAL]:"DMA",[o.ANe.BIZMAIL_USER]:!1,[o.ANe.AUTOPLAY_EMPTY_FOLDER_VIDEO]:!1,[o.ANe.DEALS_SHOPPING_CART_AD]:!1,[o.ANe.NO_IDLE_CHECK_MAIL_AD_ROTATIONS]:!1,[o.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL]:!1,[o.ANe.SECOND_SEARCH_AD]:!1,[o.ANe.SEARCH_AD]:!1,[o.ANe.AD_PARTIALLY_ABOVE_FOLD]:!1,[o.ANe.DEAL_EXTENSION]:!1,[o.ANe.SPONSORED_MESSAGE_TRIAGE]:!1,[o.ANe.SUBSCRIPTION_LIST]:!1,[o.ANe.SUBSCRIPTIONS_VIEW_CUE]:!1,[o.ANe.EDGE_TO_EDGE_GRAPHICAL_AD]:!1,[o.Zrf.EDGE_TO_EDGE_GRAHICAL_DEGISN_VERSION]:"default",[o.ANe.CROSS_DOMAIN_DPA_ADS]:!1,[o.ANe.PRIVACY_RIGHTS_ICON]:!1,[o.ANe.NO_HIDDEN_CHECK_MAIL_AD_ROTATIONS]:!1,[o.ANe.NOBLE_GEMINI_DESIGN_V2]:!1,[o.Zrf.AD_SOURCE_AVATAR_INLINE]:!1,[o.Zrf.MAILPRO_UPSELL_INSTRUMENTATION_URL]:{},[o.ANe.VIEWS_UNDER_INBOX]:!1,[o.Zrf.MARKETING_PREFERENCES_SETTING]:void 0,[o.ANe.MAILPRO_FREE_TRIAL]:!1,[o.ANe.MAILPRO_FREE_TRIAL_UPSELLS]:!1,[o.Zrf.OBI_AUTH]:{},[o.Zrf.OBI_HOSTNAME]:{},[o.Zrf.FTWCC_ELIGIBLE_UPSELLS]:[],[o.Zrf.PURCHASE_OFFER_TEST_PARAM]:0,[o.Zrf.LIST_SUBSCRIPTION_TEST_PARAM]:0,[o.Zrf.DAYS_IN_TRIAL_TEST_PARAM]:0,[o.Zrf.MOCKED_RECURRING_INTERVAL]:0,[o.Zrf.DISABLED_MESSAGE_READ_CARDS]:void 0,[o.Zrf.EMPTY_FOLDER_VIDEO_CHANNELS]:{},[o.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL]:0,[o.Zrf.GEMINI_AD_COUNT]:{pencilAd:1,carouselAd:5},[o.Zrf.GEMINI_SECTION_IDS]:{},[o.Zrf.GEMINI_CREATIVE_ID]:0,[o.Zrf.GEMINI_MAIL_PLUS_ADS_CREATIVE_IDS]:[],[o.Zrf.GEMINI_FORCE_FILTER]:"",[o.Zrf.JAC_SCRIPT_URL]:"https://jill.fc.yahoo.com/v1/client/js",[o.Zrf.JAC_SERVICE_HOST]:"",[o.Zrf.JILL_HOSTNAME]:"jill.fc.yahoo.com",[o.Zrf.CMP_JS_URL]:"https://consent.cmp.oath.com/version/6.4.0/cmp.js",[o.Zrf.COM_SCORE_JS_URL]:"https://s.yimg.com/aaq/vzm/cs_1.2.0.js",[o.Zrf.AD_FREE_MAIL_URL]:"",[o.Zrf.MAIL_PLUS_URL]:"https://www.yahoo.com/plus/mail",[o.Zrf.MAIL_PLUS_SUBSCRIPTIONS_URL]:"https://mysubscriptions.yahoo.com/manage/subscriptions",[o.Zrf.MAIL_PLUS_CHECKOUT_URL]:"https://checkout.yahoo.com/checkout/v1?sku=yah-yh-22612027",[o.Zrf.TASTEMAKER_URL]:"https://prod-mail-pse.yahoo.com/tastemaker/yahoo/subscribe",[o.Zrf.YAI_URL]:"https://mobile.mail.yahoo.com/yai",[o.Zrf.BUY_MORE_SAVE_MORE_TERMS_LINK]:"https://legal.yahoo.com/us/en/yahoo/terms/product-atos/bmsm/index.html",[o.Zrf.ABOUT_AD_URL]:"",[o.ANe.SHOW_ABOUT_OUR_ADS_LINK]:!0,[o.ANe.SHOW_ABOUT_YAHOO_MAIL_LINK]:!0,[o.ANe.SHOW_GIVE_FEEDBACK_LINK]:!0,[o.ANe.SHOW_FEEDBACK_PANEL]:!1,[o.ANe.USE_JEDI_CLIENT_PRIORITY]:!1,[o.Zrf.PRIVACY_URL]:"",[o.Zrf.TERMS_URL]:"",[o.Zrf.ITEM_LIST_PAGE_THRESHOLD]:0,[o.Zrf.MESSAGE_READ_AD_ROTATION_INTERVAL]:0,[o.Zrf.MESSAGE_READ_AD_ROTATION_IDLE_INTERVAL]:0,[o.Zrf.WIDER_MAIL_EXTENSION_URL]:{},[o.Zrf.MAIL_PLUS_MONTHLY_PRICE]:"",[o.Zrf.MAIL_PLUS_FREE_TRIAL_DAYS]:14,[o.Zrf.MAIL_PLUS_SETTING_TAB_LEFT_TEXT_STYLE]:"default",[o.Zrf.RIGHT_RAIL_UPSELL_CUE_STYLE]:"default",[o.Zrf.MAIL_PLUS_SETTINGS_UPGRADE_TEXT_STYLE]:"default",[o.Zrf.RIGHT_RAIL_UPSELL_CUE_IMG_STYLE]:"default",[o.Zrf.MAIL_PRO_MONTHLY_PRICE]:"$3.49",[o.Zrf.MAIL_PRO_YEARLY_PRICE]:"$34.99",[o.Zrf.GEMINI_VIDEO_AD_ID]:"",[o.Zrf.GEMINI_VIDEO_AD_SITE]:"",[o.Zrf.GEMINI_VIDEO_AD_EXP_NAME]:"",[o.Zrf.GEMINI_VIDEO_AD_EXP_TYPE]:"",[o.Zrf.CHROME_LONGTERM_EXTENSION_LIST]:[],[o.Zrf.RELATED_SEARCHES_CARD_STYLE]:"default",[o.ANe.LREC_MON_AD_ARBITRATION]:!1,[o.ANe.UBA_LREC_MON_AD_ARBITRATION]:!1,[o.Zrf.VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/js/3/videoplayer-min.js?r=nextgen-desktop&ypv=7.86.926.1602011233",[o.Zrf.VIDEO_PLAYER_SAPI_COBRAND]:"",[o.Zrf.AOL_VIDEO_PLAYER_URL]:"https://cdn.vidible.tv/prod/player/js/latest/iframe-api.min.js",[o.Zrf.AOL_VIDEO_PLAYER_IFRAME_SRC]:"https://delivery.vidible.tv/htmlembed/pid=5aaad183c74d475e29adfe4c/5aaacba1841fad0ac9a8566b.html?m.loadingplaceholder=1",[o.Zrf.OATH_VIDEO_PLAYER_URL]:"https://yep.video.yahoo.com/oath/js/1/oath-player.js",[o.Zrf.SECOND_PENCIL_AD_DEPTH]:10,[o.Zrf.PENCIL_AD_EXPIRE_TIME]:7e3,[o.ANe.COMMERCIAL_ANALYSIS_OF_CONTENT]:!1,[o.Zrf.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION]:30,[o.Zrf.ADBLOCK_UPSELL_CUE_INTERVAL]:1728e5,[o.Zrf.DELETE_DEBOUNCE_TIME]:500,[o.ANe.NODIN_ES5_SHIM]:!1,[o.Zrf.CHECK_MAIL_AD_ROTATION_IDLE_INTERVAL]:18e4,[o.Zrf.WEB_SEARCH_URL]:"https://search.yahoo.com/search?p=%QUERY%&fr=uh-mail-web&fr2=p%3Aml%2Cm%3Asb",[o.Zrf.DEALS_SHOPPING_CART_AD_VERSION]:"themedButton",[o.ANe.NODIN_MESSAGE_READ_AD_ROTATION]:!1,[o.ANe.XOBNI_AUTO_SUGGEST]:!1,[o.ANe.CLASSIC_AUTO_SUGGEST]:!0,[o.ANe.NODIN_AUTOCOMPLETE_ON_XOBNI]:!1,[o.ANe.NODIN_CHECK_MAIL]:!1,[o.ANe.NODIN_FILTERS]:!1,[o.ANe.NODIN_CHECK_MAIL_TOAST]:!1,[o.ANe.NODIN_SHOW_IMAGES_PREF]:!1,[o.ANe.LASTPASS_FREETRIAL_UPSELL]:!1,[o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE]:!1,[o.Zrf.LASTPASS_FREETRIAL_UPSELL_SETTINGS]:{},[o.Zrf.SWITCH_WIDGET_SCRIPT_URL]:"",[o.Zrf.MAIL_PLUS_YBAR_UPSELL_URLS]:{},[o.Zrf.MAIL_PLUS_IMPRESSION_URL]:{},[o.Zrf.MAIL_PLUS_CLICK_URL]:{},[o.Zrf.MAIL_PLUS_MOBILE_CLICK_URL]:{},[o.Zrf.SELECTED_SUBSCRIPTION_UPSELL]:"",[o.ANe.DISPATCHER_UPSELLS]:!1,[o.ANe.DISPATCHER_UPSELLS_ELIGIBLE]:!1,[o.Zrf.DISPATCHER_UPSELL_DATA]:{},[o.Zrf.STATIC_MAIL_PLUS_UPSELL_DATA]:{},[o.ANe.SPAM_TOUCHPOINT]:!1,[o.ANe.UNSUBSCRIBE_TOUCHPOINT]:!1,[o.ANe.TOUCHPOINT_UPSELL]:!1,[o.Zrf.TOUCHPOINT_UPSELL_DATA]:{},[o.ANe.YMOBILE_PROMO_UPSELLS]:!1,[o.Zrf.YMOBILE_UPSELL_VERSION]:"",[o.ANe.YMOBILE_PROMOS]:!1,[o.ANe.YPT_GAMER_UPSELLS]:!1,[o.ANe.YPMP_PROMO_UPSELLS]:!1,[o.Zrf.YPMP_UPSELL_VERSION]:"",[o.ANe.SHOW_MKTG_SUPPORT_NUMBER]:!1,[o.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS]:!1,[o.ANe.FALCON_TOM_ARBITRATION_ENABLED]:!1,[o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED]:!1,[o.Zrf.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT]:0,[o.ANe.LOG_CLIENT_ERROR]:!1,[o.ANe.BREAKING_NEWS]:!1,[o.ANe.BREAKING_NEWS_ENABLED]:!1,[o.ANe.BREAKING_NEWS_TEST_PARAM]:!1,[o.Zrf.BREAKING_NEWS_REFRESH_INTERVAL]:6e4,[o.Zrf.BREAKING_NEWS_SETTINGS]:!1,[o.Zrf.PACKAGE_TRACKING_SETTINGS]:!1,[o.Zrf.DEALS_STORIES_SETTINGS]:o.eG4.EXPANDED,[o.ANe.SHOW_FUJI2_NTK]:!1,[o.ANe.HIDE_YBAR_DOWNLOAD_APP_LINK]:!1,[o.ANe.MAIL_PLUS_YBAR_UPSELL_ELIGIBLE]:!1,[o.ANe.MULTI_ACCOUNT_SIGN_OUT]:!1,[o.ANe.MARK_AS_READ_DEFER]:!1,[o.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH]:10,[o.Zrf.NEIGHBOR_PREFETCH_COUNT]:0,documentTitleStandardDuration:3e3,documentTitleNotificationDuration:5e3,[o.Zrf.BULK_ACTION_DIALOG_THRESHOLD]:50,[o.ANe.SHOW_RECENT_SUGGESTIONS]:!1,[o.ANe.SHOW_EMAIL_SEARCH_SUGGESTIONS]:!1,[o.ANe.MESSAGE_LIST_CONTEXT_MENU]:!1,[o.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS]:!1,[o.ANe.FILTER_COMMERCIAL_IMAGES]:!1,[o.ANe.AUTOTAG]:!1,[o.ANe.BOLD_FOCUS]:!1,[o.ANe.IFRAME_PRINT]:!1,[o.ANe.EXTERNAL_CSS]:!1,[o.ANe.SWITCH_TO_NORRIN]:!1,[o.ANe.SWITCH_TO_NORRIN_ON_WIN10]:!1,[o.ANe.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST]:!1,[o.Zrf.SWITCH_TO_NORRIN_ON_WIN10_MSG_LIST_VERSION]:"",[o.ANe.DOCUMENT_PREVIEW_LIGHT]:!1,[o.ANe.NODIN_JS_ENHANCE]:!1,messageScrollLoadThreshold:10,[o.Zrf.PARTNER_BRAND]:"",[o.Zrf.LOGO_URL]:"https://s1.yimg.com/rz/d/yahoo_mail_en-US_s_f_w_bestfit_mail.png",[o.Zrf.LOGO_SRCSET]:"",secureCryptoMode:0,[o.ANe.DISABLE_UNSUBSCRIBE_FEATURE]:!0,[o.ANe.UNSUBSCRIBE_FROM_MESSAGE]:!1,[o.ANe.COLLAPSED_TRIAGING]:!1,[o.ANe.UNSUBSCRIBE_BADGES]:!1,ybar:!0,[o.ANe.CONTACT_SUMMARY]:!1,[o.Zrf.COMPOSE_SAVE_INTERVAL]:2e4,[o.ANe.WEB_FONTS]:!1,[o.ANe.YAHOO_SANS_VF]:!1,[o.ANe.NEWUSER_MKTG_BEACON]:!1,[o.ANe.SMARTVIEW_CATEGORIES_IN_TABS]:!1,[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE]:!1,[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2]:!1,[o.ANe.SMARTVIEW_CATEGORIES_SHOPPING]:!1,theming:!0,[o.ANe.PHOTO_THEMES]:!1,optOutSurvey:!0,[o.Zrf.HELP_URL]:"https://help.yahoo.com/kb/index?page=product&y=PROD_MAIL_WEB&locale=en_US",[o.Zrf.SUPPORT_PHONE_NUMBER]:"800-716-7420",[o.Zrf.CORP_MAIL_GMAIL_SETTINGS]:{},asyncTaskPollCount:200,[o.ANe.FETCH_FULL_BODY]:!1,peopleNotifications:!1,[o.ANe.SHOULD_SW_SUBSCRIBE]:!1,[o.ANe.PUSH_NOTIFICATIONS]:!1,[o.ANe.TAP_HOOK]:!1,[o.ANe.LEGACY_PUSH_NOTIFICATION_CONTROLLER_VIEW]:!0,[o.ANe.NOTIFICATION_CATEGORIES]:!1,[o.Zrf.SERVICE_WORKER_URL]:"/sw.js",[o.Zrf.PUSH_SUBSCRIPTION_VALIDITY]:15,[o.Zrf.ASSOCIATION_SUBSCRIPTION_VALIDITY]:60,[o.ANe.BROWSER_NOTIFICATIONS]:!1,[o.ANe.SW_LOGGER_PARAMS]:!1,dragDropPill:!0,offlineChecking:!0,promptToSync:!0,appRefreshIdleInterval:{emergencyRefresh:30,periodicRefresh:60},[o.Zrf.APP_ROOT_PATH]:"/d",[o.Zrf.PREVIEWPANE_POSITIONS_FROM_SERVER]:{},[o.Zrf.LEFT_NAV_WIDTH_FROM_SERVER]:c.gs7,[o.ANe.TOOLTIP_EMOJI]:!1,[o.ANe.ATT_PREVIEW_IN_COMPOSE]:!1,[o.ANe.PERSIST_COMPOSE_TEXT_MODE]:!1,[o.ANe.NOTEPAD_TAB]:!1,newMailVideoId:{onboarding:"ebcb9733-fa01-3cb9-a57d-4254ab9c969a",searchOnboarding:"ad93243f-aae2-32e5-8505-b70ea1b35216",personalizeInbox:"1fae6609-d76d-3b9a-adc6-afe490d2ca10",emailOrganization:"92a2f4f4-00c6-38f5-894d-ebcb34d6b9c9"},selectAll:!1,[o.ANe.LOADING_FALLBACK]:!1,[o.ANe.SHOW_COMMS_PROPERTIES]:!1,[o.Zrf.SYNC_TIME]:20,[o.ANe.DISPOSABLE_ADDRESS]:!0,[o.ANe.ADD_SEND_ONLY_ACCOUNTS]:!0,[o.ANe.REPLY_TO_ADDRESS]:!0,[o.Zrf.ASYNC_TASK_POLL_INTERVAL]:2e3,[o.Zrf.CHECK_MAIL_INTERVAL]:3e4,[o.Zrf.MAIL_URL]:"https://mail.yahoo.com",[o.Zrf.CALENDAR_URL]:"https://calendar.yahoo.com",[o.Zrf.NOTEPAD_URL]:"https://calendar.yahoo.com/?view=notepad",[o.Zrf.FEEDBACK_URL]:"https://yahoo.uservoice.com/forums/600772?auth=yahoo",[o.ANe.TUTORIAL]:!0,[o.Zrf.BUFFER_SIZE]:35,[o.Zrf.PREVIEWABLE_INLINE_ATTACHMENT_SIZE]:51200,[o.Zrf.MESSAGE_INITIAL_RENDER_COUNT]:15,[o.Zrf.STATIONERY_RESTRICTED_THEMES]:!1,[o.ANe.TIMEZONE_CHECK]:!0,[o.ANe.SILENT_TIMEZONE_CORRECTION]:!0,[o.ANe.CHECK_MAIL_PREFETCH]:!1,[o.Zrf.MESSAGE_FETCH_COUNT]:100,[o.Zrf.MESSAGE_FETCH_COUNT_INITIAL]:40,[o.Zrf.COUPON_CARDS_FETCH_COUNT]:25,[o.Zrf.RIGHT_RAIL_CARDS_LIMIT]:50,[o.Zrf.COUPON_RECOMMENDATIONS_FETCH_COUNT]:150,[o.Zrf.CARD_GROUPS_FETCH_COUNT]:10,[o.Zrf.FLIGHT_CARD_GROUPS_FETCH_COUNT]:100,[o.Zrf.LINK_ENHANCER_URL_BLOCK_LIST]:[],[o.ANe.RTL]:!1,[o.ANe.IS_RETURNING_USER]:!1,[o.ANe.HAS_MAPPED_THEME]:!1,[o.ANe.ADD_EDIT_FROM_LIST_CARD]:!1,[o.ANe.EXTRACTIONS_FEEDBACK]:!1,[o.ANe.DEALS]:!1,[o.ANe.RECOMMENDED_DEALS]:!1,[o.ANe.DEALS_VIEW_FOR_INTLS]:!1,[o.ANe.RECEIPTS]:!1,[o.ANe.WALLET]:!1,[o.ANe.FLIGHT_CARD_EXTRACTIONS]:!1,[o.ANe.TRAVEL_VIEW]:!1,[o.ANe.PRELOAD_EMOJI]:!1,[o.ANe.GIF]:!0,[o.ANe.STATIONERY]:!0,[o.ANe.VACATION_RESPONSE_STATIONERY]:!1,[o.ANe.EXCEPTION_NOTIFICATION]:!1,[o.Zrf.NOTIFICATION_TTL]:5e3,[o.ANe.UNUSUAL_DISCOUNT]:!1,[o.Zrf.COMPOSE_THROTTLE_COUNT]:Number.MAX_VALUE,[o.ANe.SCOUT]:!0,[o.ANe.SCOUT_PREDICATE]:!0,[o.ANe.SCOUT_RECURRING]:!0,[o.Zrf.SCOUT_ONBOARDING]:[],[o.ANe.BLOCK_SENDERS]:!1,[o.ANe.FILTER_MESSAGES_LIKE_THIS]:!1,[o.ANe.PKG_TRACKING_TOP_OF_MSG]:!1,[o.ANe.PRODUCT_RECOMMENDATIONS]:!1,[o.ANe.SENDER_DEALS_BACKFILL]:!1,[o.ANe.STATIC_DEALS]:!1,[o.ANe.SHOW_MERCHANT_CARD]:!1,[o.ANe.FETCH_AFFILIATE_RETAILERS]:!1,[o.ANe.SHOW_USER_FOLLOWED_CATEGORIES]:!1,[o.ANe.DEALS_WITH_PRODUCTS]:!1,[o.ANe.SHOW_OUT_N_BACK_AUTO_EXPANSION]:!1,[o.ANe.STOREFRONT]:!1,[o.ANe.STOREFRONT_SHORTCUTS]:!1,[o.ANe.SHOW_SEARCH_CONTACT_CARD]:!1,[o.ANe.FOLDER_SEARCH_DISCOVERABILITY_SEARCH_IN_FOLDERS]:!1,[o.ANe.FOLDER_SEARCH_DISCOVERABILITY_DEFAULT_INBOX]:!1,[o.ANe.ADVANCED_SEARCH_BUTTON_HAS_LABEL]:!1,[o.ANe.ADVANCED_SEARCH_IN_SEARCH_HEADER]:!1,[o.ANe.SCROLL_TO_SEARCH]:!1,[o.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA]:!1,[o.ANe.COMMERCE_CARD_GROUP]:!1,[o.ANe.DISABLE_TOM_FEATURES]:!1,[o.ANe.DEALS_RESKIN]:!1,[o.ANe.BRAND_VISIT_ARROW]:!1,[o.ANe.DEAL_ARROW]:!1,[o.ANe.PROMO_CODE_AT_DEALS_DASH]:!1,[o.ANe.RIGHT_RAIL_COMMERCE]:!1,[o.ANe.TOM_ONBOARDING_SURFACE_TEXT]:!1,[o.ANe.TOP_OF_INBOX_CARDS]:!1,[o.ANe.PRIME_DAY_LABEL]:!1,[o.ANe.NOBLE_SEARCH_BUTTON]:!1,[o.ANe.USE_SAVED_SEARCH_FOR_FILTERS]:!1,[o.ANe.DOCUMENT_PREVIEW]:!0,[o.ANe.EMAILS_TO_MYSELF]:!1,[o.ANe.TOM_DEAL_IMAGE_FALLBACK]:!1,[o.ANe.DEALS_CARD_DEAL_CATEGORY]:!1,[o.ANe.RIGHT_RAIL_DEALS]:!1,[o.ANe.RIGHT_RAIL_PRODUCTS]:!1,[o.ANe.TOM_RESTRUCTURED_BUCKETS]:!1,[o.ANe.TOM_RESTRUCTURED_ELEMENTS]:!1,[o.ANe.TOM_RESTRUCTURED_ELEMENTS_WITH_NO_SHOW_MORE_DEALS]:!1,[o.ANe.ABANDONED_CART_EXP1_TEST_A]:!1,[o.ANe.ABANDONED_CART_EXP1_TEST_B]:!1,[o.ANe.ABANDONED_CART_EXP2_TEST_A]:!1,[o.ANe.ABANDONED_CART_EXP2_TEST_C]:!1,[o.ANe.TOM_REDESIGNED_CARDS_TEST_A]:!1,[o.ANe.TOM_REDESIGNED_CARDS_TEST_B]:!1,[o.ANe.TOM_REDESIGNED_CARDS_TEST_C]:!1,[o.ANe.TOM_REDESIGNED_CARDS_TEST_D]:!1,[o.ANe.TOM_REDESIGNED_CARDS_TEST_E]:!1,[o.ANe.MOBILE_MESSAGE_SNIPPETS]:!1,[o.ANe.MOBILE_ONBOARDING_CUE]:!1,[o.ANe.DESIGN_CLASSIFIER]:!1,[o.ANe.CORONAVIRUS_ICON]:!1,[o.ANe.CORONAVIRUS_CUE]:!1,[o.Zrf.CORONAVIRUS_URL]:"https://news.yahoo.com/coronavirus",[o.ANe.MOBILE_SEARCH_SUGGESTIONS]:!1,[o.ANe.MOBILE_SIGNATURE]:!1,[o.ANe.MOBILE_THEMING]:!1,[o.ANe.MOBILE_EDIT_RECIPIENTS]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_PTR]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_LAUNCH]:!1,[o.ANe.MOBILE_PAC_NOTIFICATION_CUE]:!1,[o.ANe.PUSH_NOTIFICATIONS_CUE_COMPOSE]:!1,[o.Zrf.PUSH_NOTIFICATIONS_EXPERIMENT]:o.PP5.DEFAULT,[o.ANe.MOBILE_MESSAGE_READ_NAVIGATION]:!1,[o.ANe.HOMEPAGE_BUTTON]:!0,[o.ANe.COMPOSE_FROM_CUSTOM_FOLDER]:!1,[o.ANe.SIGN_OUT]:!0,[o.ANe.OFFLINE_TOASTS]:!0,[o.ANe.BLOCK_SENDER_CUE]:!1,[o.ANe.LANDSHARK_CUE]:!1,landsharkCreative:!1,showInvisibleLandshark:!1,[o.ANe.CONVERSATIONS_CUE]:!1,[o.ANe.COUPON_LANDSHARK_CUE]:!1,[o.Zrf.LANDSHARK_ON_COUPON_MESSAGE_STRINGS]:{cueBody:"Get notified about expiring deals with the Yahoo Mail app.",oneLink:"https://go.onelink.me/107872968?pid=InProduct&c=US_Acquisition_YMktg_expiringdeals1_Experiment_&af_sub1=Acquisition&af_sub2=US_YMktg&af_sub3=&af_sub4=&af_sub5="},[o.ANe.NOBLE_SUPPORTED_BROWSER_VERSION]:!0,[o.ANe.NOBLE_SUPPORTED_OS_VERSION]:!0,[o.ANe.MAX_PREVIEW_LENGTH]:1,[o.ANe.SENDER_ROLLUP]:!1,[o.ANe.SENDER_ROLLUP_FLUSH_CACHE]:!1,[o.Zrf.AUTO_OPEN_FIRST_MESSAGE]:!1,[o.ANe.BODY_SCROLLING]:!1,[o.ANe.SMART_APP_BANNERS]:!1,[o.ANe.NON_NATIVE_APP_BANNERS]:!1,[o.ANe.MOBILE_APP_BANNER]:!1,[o.Zrf.APP_INSTALL_LINK]:"",[o.Zrf.APP_INSTALL_CUE_VARIATION]:{},[o.Zrf.NOT_FOUND_PAGE_APP_INSTALL_LINK]:"",[o.Zrf.MOBILE_BOTTOM_SHEET_APP_INSTALL_LINK]:"",[o.Zrf.MOBILE_MINI_BOTTOM_SHEET_APP_INSTALL_LINK]:"",[o.ANe.APP_INSTALL_CUE_V1]:!1,[o.ANe.APP_INSTALL_CUE_V2]:!1,[o.ANe.APP_INSTALL_CUE_V3]:!1,[o.ANe.APP_INSTALL_CUE_V3_DISMISSABLE]:!1,[o.ANe.APP_INSTALL_CUE_V3_LIMITED]:!1,[o.ANe.APP_INSTALL_CUE_V3_MINI]:!1,[o.ANe.APP_UPSELL_PILL]:!1,[o.ANe.PULL_TO_REFRESH]:!0,[o.ANe.NPS_SURVEY]:!1,[o.ANe.NPS_SURVEY_CUE]:!1,[o.Zrf.NPS_SURVEY_CONFIG]:{},[o.Zrf.INLINE_PROMPT_HELP_URL]:"",[o.Zrf.INLINE_PROMPT_DASHBOARD_URL]:"",[o.Zrf.TEXT_SIZE_HELP_URL]:"https://help.yahoo.com/kb/SLN2937.html",[o.Zrf.SOUND_SETTINGS_HELP_URL]:"https://help.aol.com/articles/Select-and-enable-a-New-Mail-notification",[o.Zrf.INBOX_STYLE_HELP_URL]:"",[o.Zrf.MAIL_PLUS_EMAIL_STORAGE]:"5,000 GB",[o.Zrf.YBAR_MAIL_PLUS_SHORTCUT_DAYS]:21,[o.Zrf.SPAM_TOUCHPOINT_PLACEMENT]:"mail-desktop-web-spam-touchpoint",[o.Zrf.MAIL_OVERLAY_PLACEMENT]:"mail-overlay",[o.Zrf.STAR_ANIMATION]:{},[o.Zrf.GUIDED_STAR_ANIMATION]:{},[o.Zrf.HAS_GUIDED_STAR_ANIMATION]:!1,[o.ANe.SHOW_TABS]:!1,[o.Zrf.HAS_WIDE_LOGO]:!1,[o.ANe.DISPOSABLE_ADDRESS_DELETE_ONLY]:!1,[o.ANe.SHOW_RIGHT_RAIL_HELP_LINKS]:!0,[o.ANe.INLINE_IMAGES_PROXIED]:!1,[o.ANe.CLICK_URL_LOGGING]:!1,[o.ANe.NODIN_BULK_MENU]:!1,[o.Zrf.LOGIN_NAME]:"",[o.Zrf.BASIC_MAIL_FEEDBACK_URL]:"",[o.Zrf.ACCOUNT_INFO_URL]:"",[o.Zrf.HOME_URL]:"",[o.Zrf.TODAYPAGE_URL]:"",[o.ANe.SHOW_TODAY_AT_SIGNIN]:!1,[o.Zrf.DESKTOP_MAIL_VERSION]:6,[o.Zrf.BASIC_MAIL_THEME]:"DEFAULT",[o.Zrf.HOMEPAGE_URL]:"https://www.yahoo.com",[o.Zrf.SIGN_OUT_URL]:"https://login.yahoo.com/config/login?logout=1&.src=ym&.intl=us&.direct=2&.done=https://www.yahoo.com",[o.Zrf.V3_LIST_MESSAGE_BUFFER]:100,[o.Zrf.V3_OPPOSITE_BUFFER]:20,[o.Zrf.V3_LIST_NUM_OF_PLACEHOLDER]:20,[o.Zrf.BIMI_HELP_URL]:"https://help.yahoo.com/kb/index?page=content&y=PROD_MAIL&locale=en-US&id=SLN36219&actp=productlink",[o.Zrf.NODIN_ONBOARD]:[],[o.ANe.SHOW_NODIN_ONBOARDING_MESSAGE]:!1,[o.ANe.SHOW_NODIN_AUTO_FORWARD_NOTIFICATION]:!1,[o.ANe.NODIN_IMAPIN]:!1,[o.Zrf.NOTIFICATION]:!1,[o.ANe.OPEN_FIRST_MESSAGE]:!1,[o.ANe.ASTRA_YCPI_HOST]:!1,[o.ANe.ASSET_PRECACHE]:!1,[o.ANe.AD_FEEDBACK_V2]:!1,[o.ANe.AOL_USER]:!1,[o.ANe.IS_AOL_SUB_BRAND]:!1,[o.ANe.ALLOW_INBOX_STYLE]:!1,[o.ANe.SHOW_TODAYPAGE]:!1,[o.ANe.SHOW_WEATHER]:!1,[o.ANe.ENABLE_SPELL_CHECK]:!1,[o.ANe.IS_CELSIUS_DEFAULT_WEATHER_UNIT]:!0,[o.ANe.SEND_CONFIRMATION]:!1,[o.ANe.SEND_CONFIRMATION_AD]:!1,[o.ANe.SEND_CONFIRM_FALLBACK_FOR_GAM]:!1,[o.Zrf.SHOW_SEND_CONFIRMATION_PAGE]:!1,[o.Zrf.SPELL_CHECK_BEFORE_SEND]:!1,[o.ANe.SHOW_PIK_SETTING]:!1,[o.Zrf.INBOX_STYLE]:0,[o.ANe.IS_REINDEXABLE]:!0,[o.Zrf.MIGRATION_STATUS]:"",[o.ANe.ENABLE_SETTINGS_MIGRATION]:!1,[o.ANe.AOL_ONBOARDING_CUE_ML]:!1,[o.ANe.AOL_ONBOARDING_CUE_MR]:!1,[o.ANe.AOL_ONBOARDING_CUE_SM]:!1,[o.ANe.AOL_ONBOARDING_CUE_CP]:!1,[o.ANe.ENABLE_AOL_CONTACTS_CATEGORIES]:!1,[o.Zrf.PLAY_SOUND]:!1,[o.Zrf.PLAY_SOUND_MODE]:0,[o.ANe.ENABLE_PLAY_SOUND]:!1,[o.ANe.ENABLE_PLAY_SOUND_MODE]:!1,[o.Zrf.READABILITY_MODE]:!1,[o.ANe.ENABLE_READABILITY_MODE]:!1,[o.ANe.READABILITY_MODE_CUE]:!1,[o.ANe.FIX_IMG_SRC]:!1,[o.ANe.EXTERNAL_INLINE_IMAGE_PREVIEW]:!1,[o.ANe.UNSUBSCRIBE_FOR_SPAM]:!1,[o.Zrf.MAX_NUMBER_OF_MESSAGE_BODIES]:200,[o.Zrf.MAX_NUMBER_OF_DOCUMENTS]:50,[o.Zrf.ADBLOCK_DELAY_DISMISS_TIME_DURATION]:15,[o.Zrf.ADBLOCK_DELAY_DISMISS_INSTRUMENTATION_URL]:{},[o.ANe.AUTO_FORWARD_CUE]:!1,[o.ANe.AUTO_FORWARD_NOTIFICATION]:!1,[o.ANe.AUTO_FORWARD_ALLOWED]:!1,[o.ANe.FREE_AUTO_FORWARD_EXPIRED]:!1,[o.ANe.PREMIUM_DEA]:!1,[o.ANe.PREMIUM_DEA_ALLOWED]:!1,[o.ANe.SMARTVIEWS]:!0,[o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT]:!1,[o.ANe.GDPR_WARNING_CUE]:!1,[o.ANe.INLINE_PROMPT_AD_TARGET_CUE]:!1,[o.ANe.COMPACT_COMPOSE]:!1,[o.ANe.COMPOSE_FORMAT_CUE]:!1,[o.ANe.COMPOSE_ATTACH_CUE]:!1,[o.ANe.VIDEO_PLAYER_IN_ENHANCED_CARD]:!1,[o.ANe.SPAM_INDICATOR]:!1,[o.ANe.MAIL_PLUS_ONBOARDING_CUE]:!1,[o.Zrf.MAIL_PLUS_ONBOARDING_CUE_PERIOD]:5,[o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE]:!1,[o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL]:!1,[o.Zrf.MAILPRO_TO_MAIL_PLUS_UPSELL_SETTINGS]:{},[o.Zrf.AD_FREE_AOL_MAIL_CLICKURL]:{},[o.Zrf.AD_FREE_AOL_SETTINGS_CLICKURL]:{},[o.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK]:!1,[o.ANe.CALENDAR_TAB]:!1,[o.ANe.MAIL_TODO]:!1,[o.ANe.MAIL_TODO_NOTIFICATIONS]:!1,[o.ANe.MAIL_TODO_SMART_SUGGESTIONS]:!1,[o.ANe.MAIL_TODO_SUGGESTIONS_VARIATION_A]:!1,[o.ANe.MAIL_TODO_SUGGESTIONS_VARIATION_B]:!1,[o.ANe.TODO_ONBOARDING_CUE_PART1]:!1,[o.ANe.TODO_ONBOARDING_CUE_PART2]:!1,[o.ANe.TODO_ONBOARDING_CUE_PART3]:!1,[o.ANe.SHOW_NOTIFICATIONS_COMPOSE_UPSELL]:!1,[o.ANe.NOTIFICATIONS_COMPOSE_UPSELL_CUE]:!1,[o.ANe.SHOW_NOTIFICATIONS_REFRESH_UPSELL]:!1,[o.ANe.NOTIFICATIONS_REFRESH_UPSELL_CUE]:!1,[o.ANe.SHOW_NOTIFICATIONS_READ_UPSELL]:!1,[o.ANe.NOTIFICATIONS_READ_UPSELL_CUE]:!1,[o.ANe.NOTIFICATIONS_CUSTOMIZE_UPSELL_CUE]:!1,[o.ANe.SHOW_NOTIFICATIONS_STICKY_UPSELL_CUE]:!1,[o.ANe.NOTIFICATIONS_STICKY_UPSELL_CUE]:!1,[o.ANe.FOCUSED_INBOX]:!1,[o.ANe.REDIRECT_MAIL_PLUS_BENEFITS_CLICK_TO_SETTING]:!1,[o.ANe.USE_DISPATCHER_CLIENT]:!1,[o.ANe.SHOW_OFFICIAL_DOMAIN_LOGO]:!0,[o.ANe.USE_NON_IFRAME_DOWNLOAD]:!1,[o.ANe.SHOW_FORMATTED_UNREAD_COUNT]:!1,[o.ANe.MAIL_PLUS_ICON_SHORTCUT]:!1,[o.ANe.ALLOW_ATTACH_FILES_FROM_RECENT_EMAILS]:!1,[o.ANe.YBAR_MAIL_PLUS_SHORTCUT_PROMPT]:!1,[o.ANe.FOLDER_SEARCH_DISCOVERY]:!1,[o.ANe.SUB_CANCEL_LINK_IN_SETTING]:!1,[o.Zrf.SUB_CANCEL_LINK]:"https://www.yahoo.com/subscriptions",[o.ANe.NEW_THEMES]:!1,[o.ANe.DISPLAY_AD_REPORTER]:!1,[o.ANe.HIGHLIGHT_SEARCH_RESULTS_PAGE]:!1,[o.ANe.GAM]:!1,[o.ANe.NEW_THEMES]:!1,[o.Zrf.GPT_IFRAME_VERSION]:"0.1",[o.Zrf.HEADER_BIDDER_SITE]:"yahoo_mail",[o.Zrf.RIGHT_RAIL_AD_UNIT_PATH]:"/22888152279/us/ymail/ros/dt/us_ymail_ros_dt_top_right",[o.Zrf.EMPTY_FOLDER_AD_UNIT_PATH]:"/22888152279/us/aolmail/webmail/dt/us_aolmail_webmail_dt_empty_folder",[o.Zrf.SEND_CONFIRMATION_AD_UNIT_PATH]:"/22888152279/us/aolmail/webmail/dt/us_aolmail_webmail_dt_send_confirm",[o.Zrf.GAM_TIME_TO_WAIT_SINCE_NON_REFRESH_ROTATION]:3e3,[o.Zrf.GPT_HOST]:"https://gpt.mail.yahoo.net",[o.Zrf.GAM_TEST_ID]:"",[o.ANe.ULTRA_LIGHT_THEME]:!1,[o.ANe.DISPLAY_BIMI]:!1,[o.ANe.HAS_BIMI_EXPERIMENT]:!1,[o.Zrf.STICKY_ONBOARDING_CARDS]:[],[o.ANe.ULTRA_LIGHT_THEME_DEFAULT]:!1,[o.ANe.NEW_USER_ONBOARDING_CUE_V2]:!1,[o.ANe.MOTHERS_DAY_COMPOSE_CUE]:!1,[o.Zrf.GPT_IFRAME_REMOUNT_INTERVAL]:18e5,[o.ANe.FATHERS_DAY_COMPOSE_CUE]:!1,[o.ANe.MAIL_YAI]:!1,[o.ANe.POTENTIAL_MAIL_YAI]:!1,[o.ANe.COMPOSE_ASSISTANT]:!1,[o.Zrf.WALLET_CURRENCY_CONVERTER]:{},[o.ANe.RIGHT_RAIL_NOTEPAD_PANE]:!1,[o.ANe.YAI_SEARCH]:!1,[o.Zrf.WALLET_CURRENCY_CONVERTER]:{},[o.ANe.YAI_RETRO_COMPOSE]:!1,[o.ANe.COMPOSE_DROPDOWN]:!1,[o.ANe.YAI_ONBOARDING_CUE]:!1,[o.ANe.PINNED_EMAILS]:!1,[o.Zrf.PINNED_EMAILS_IDS_AND_TIMESTAMPS]:[],[o.ANe.PRIORITY_INBOX_ELIGIBLE]:!1,[o.Zrf.PRIORITY_INBOX_TABS]:[],[o.ANe.SHOW_NTF_CUSTOMIZE_UPSELL]:!1,[o.ANe.PRIORITY_INBOX_ENABLED]:!1},tt={route:function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:default:return t.route&&e===t.route?e:t.route||e}},drawer:(e=!1,t)=>{switch(t.type){case r.DRAWER_OPENED:return!0;case r.DRAWER_CLOSED:return!1;default:return e}},autoOpenSettingsPopover:(e=!1,t)=>{switch(t.type){case r.SETTINGS_POPOVER_AUTOOPEN_CHANGED:return t.status||e;default:return e}},sendingEmailConfirmStatus:(e=!1,t)=>{switch(t.type){case r.CONFIRM_EMAIL_RESEND_REQUESTED:return!0;case r.CONFIRM_EMAIL_RESEND_SUCCEEDED:case r.CONFIRM_EMAIL_RESEND_FAILED:return!1;default:return e}},actionableRightRailContent:(e,t)=>{const{type:s,name:a}=t;switch(e||(e={currentView:null}),s){case r.RIGHT_RAIL_COMMS_ICON_CLICKED:{var n;if(!Se()(Object.keys(o.Qk$).filter((e=>null!==e)),a))break;if(e.currentView===o.Qk$.TODOS_PANE&&a===o.Qk$.TODOS_PANE&&-1!==V.o.TODOS_PANE_MESSAGE_LINKED.indexOf(null===(n=t.uiContext)||void 0===n?void 0:n.mKey))break;const s=e.currentView!==a?a:null;return{...e,currentView:s}}case r.OPEN_CALENDAR_PANE_REQUESTED:return{...e,currentView:o.Qk$.CALENDAR_PANE};case r.CREATE_NOTE_SUCCEEDED:{const{openNoteView:s=!1}=t;if(s){const t="https://calendar.yahoo.com/?view=notepad";return(0,Qe.x)(t),{...e,currentView:o.Qk$.NOTES_PANE}}return e}case r.CREATE_TODO_SUCCEEDED:{const{openTodoView:s=!1}=t;return s?{...e,currentView:o.Qk$.TODOS_PANE}:e}case r.CREATE_CONTACT_SUCCEEDED:{const{openContactView:s=!1}=t;return s?{...e,currentView:o.Qk$.CONTACTS_PANE}:e}case r.CONTACTS_FULL_PANE_CONTRACTED:return{...e,currentView:o.Qk$.CONTACTS_PANE};case r.EDIT_CONTACT_FROM_CARD:case r.ADD_TO_CONTACTS:return{...e,currentView:a};case r.OPEN_PAGE_REQUESTED:case r.PREVIEW_MESSAGE_REQUESTED:{const{uiContext:{mKey:s}={},route:{name:a}={},name:n=""}=t;if(a===o.n8z.NEW_DRAFT)return e;if(s){if(-1!==V.o.COMPOSE_FROM_CONTACTS_PANE.indexOf(s))return e;if(-1!==V.o.TODOS_PANE_MESSAGE_LINKED.indexOf(s))return e;if(-1!==V.o.CONTACTS_FULL_PANE_TO_RIGHT_RAIL.indexOf(s))return e;if(-1!==V.o.REPLACE_ATTACHMENT_WITH_RIGHT_RAIL.indexOf(s)&&Se()(Object.keys(o.Qk$),n))return{...e,currentView:n}}return{...e,currentView:null}}}return e},hideRightPaneAds:(e=!1,t)=>{if(Ce.gM[t.type])return!1;switch(t.type){case r.APPLICATION_VISIBILITY_DID_CHANGE:case r.OPEN_PAGE_REQUESTED:return!1;case r.HIDE_RIGHT_PANE_ADS:return!0}return e},[o.ANe.SHOW_RECOMMENDATIONS_MODAL]:(e=!0,t)=>{switch(t.type){case r.COUPON_RECOMMENDATIONS_CLOSED:return!1;default:return e}},[o.Zrf.IS_USER_FOLLOWING_CATEGORIES]:(e=!1,t)=>{const{type:s}=t;switch(s){case r.CATEGORY_FOLLOW_SUCCEEDED:return!0;default:return e}},[o.ANe.REPLY_NUDGE_COUNT]:(e=0,t)=>{const{type:s,predictionList:a}=t;switch(s){case r.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:return e+a.length;default:return e}},[o.ANe.HIDE_RIGHT_PANE_ADS_CLICK_COUNT]:(e=0,t)=>{switch(t.type){case r.HIDE_RIGHT_PANE_ADS:return e+1}return e},[o.ANe.MAIL_PLUS_FEATURES_UPSELL]:(e={},t)=>{switch(t.type){case r.MAIL_PLUS_FEATURE_REQUESTED:{const{plusFeatureRequested:s}=t;return s?{plusFeatureRequested:s}:e}case r.OPEN_PAGE_REQUESTED:{var s;const{plusFeatureRequested:a,route:n}=t;return(null==n?void 0:n.name)===o.n8z.SETTINGS&&(null==n||null===(s=n.params)||void 0===s?void 0:s.settingsGroupId)===o.u5h.MAIL_PLUS?{}:a?{plusFeatureRequested:a}:e}case r.CLOSE_MAIL_PLUS_FEATURE_UPSELL:case r.MAIL_PLUS_FREE_TRIAL_REQUESTED:return{};default:return e}}};Object.keys(et).forEach((e=>{tt[e]=$e(e,et[e])}));const st=(0,a.combineReducers)(tt);function at(e,t){return void 0===e[t]?{...e,[t]:{isShown:!0}}:e[t]&&!e[t].reShowInSession?{...e,[t]:Object.assign({},e[t],{isShown:!0})}:e}function nt(e,t){return t===o.ANe.MOBILE_PAC_NOTIFICATION_CUE||t===o.ANe.WEB_PAC_NOTIFICATION_CUE||t===o.ANe.EMAILS_TO_MYSELF_FEEDBACK_CUE||t===o.ANe.EMAILS_TO_MYSELF_MOBILE_FEEDBACK_CUE?e:{...e,[t]:Object.assign({},e[t],{isKeySaved:!0})}}const rt=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:{const{nextFeature:e,featureCues:s={}}=t;return e?at(s,e):s}case r.FEATURE_CLOSED:case r.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case r.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:s,userResponse:a}=t;if(s&&(e[s]||void 0===e[s])){return function(e,t,s){const a=e[t].userResponse;return{...e,[t]:Object.assign({},e[t],{userResponse:s||a})}}(at(e,s),s,a)}return e}case r.FEATURE_CUE_MARK_AS_SHOWN_FAILED:{const{feature:s}=t;return s&&e[s]&&e[s].reShowInSession?function(e,t){return e[t]&&e[t].reShowInSession?{...e,[t]:Object.assign({},e[t],{reShowInSession:!1})}:e}(e,s):e}case r.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{feature:s}=t;return s&&e[s]&&!e[s].isPersistent?nt(e,s):e}case r.FEATURE_CUE_MARK_AS_SUCCESS_SUCCEEDED:case r.FEATURE_CUE_MARK_AS_CLOSE_SUCCEEDED:{const{feature:s}=t;return s&&e[s]?nt(e,s):e}default:{const{nextFeature:s}=t;return s?at(e,s):e}}},ot=(0,a.combineReducers)({providerName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerName;default:return e}},providerIataCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerIataCode;default:return e}},providerUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.providerUrl;default:return e}},departureAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportName;default:return e}},departureAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportDesc;default:return e}},departureAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureAirportCode;default:return e}},departureTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTime;default:return e}},departureTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.departureTerminal;default:return e}},arrivalAirportName:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportName;default:return e}},arrivalAirportDesc:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportDesc;default:return e}},arrivalAirportCode:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalAirportCode;default:return e}},arrivalTime:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTime;default:return e}},arrivalTerminal:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.arrivalTerminal;default:return e}},reservationId:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.reservationId;default:return e}},flightNumber:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.flightNumber;default:return e}},passengers:(e=[],t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.passengers;default:return e}},checkInUrl:(e="",t)=>{const{type:s,card:a}=t;switch(s){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return a.checkInUrl;default:return e}}});const it=function(e={},t){const{listData:s,type:a}=t;switch(a){case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.FlightReservation&&!p()(e[t],s.schemaCards[t]))).reduce(((t,n)=>({...t,[n]:ot(e[n],{type:a,card:s.schemaCards[n]})})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};var lt=s(42907),ct=s(71421);const dt=(0,a.combineReducers)({id:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.id}return e},name:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:return a.name;case r.CREATE_FOLDER_SUCCEEDED:case r.MOVE_FOLDER_SUCCEEDED:case r.RENAME_FOLDER_SUCCEEDED:return a.name.substr(a.name.lastIndexOf("/")+1)}return e},path:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:return a&&a.path?a.path:e;case r.CREATE_FOLDER_SUCCEEDED:case r.RENAME_FOLDER_SUCCEEDED:case r.MOVE_FOLDER_SUCCEEDED:return a&&a.name?a.name:e}return e},accountId:(e="",t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.accountId}return e},types:(e=[],t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return p()(e,a.types)?e:a.types}return e},isSystem:(e=!1,t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.isSystem}return e},total:(e=0,t)=>{const{type:s,folder:a,isDestinationFolder:n}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.total;case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.UPDATE_ITEMS_FAILED:return n?e+1:e-1;case r.V3_MESSAGE_SAVE_SUCCEEDED:return t.draftMessageId?e:e+1}return e},unread:(e=0,t)=>{const{type:s,folder:a,streamItem:n,isDestinationFolder:i,flags:l={},selectionType:c}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.unread;case r.READ_CHANGE_REQUESTED:return!n&&c===o.ie0.ALL&&a?l.read?a.total:0:l.read?e+1:e-1;case r.RECENT_AND_READ_CHANGE_REQUESTED:return e-1;case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.UPDATE_ITEMS_FAILED:return i?l.read?e:e+1:l.read?e:e-1;default:return e}},highestModSeq:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.highestModSeq}return e},uidNext:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.uidNext}return e},uidValidity:(e=-1,t)=>{const{type:s,folder:a}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.CREATE_FOLDER_SUCCEEDED:return a.uidValidity}return e},level:(e=0,t)=>{const{type:s,folder:a,folderNameMap:n}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:return a.level;case r.MOVE_FOLDER_SUCCEEDED:case r.CREATE_FOLDER_SUCCEEDED:{const e=(0,lt.OG)(a.path||a.name);return(0,lt.i3)(a,n,e).length||0}}return e}});const _t=function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.CREATE_FOLDER_SUCCEEDED:case r.RENAME_FOLDER_SUCCEEDED:case r.MOVE_FOLDER_SUCCEEDED:{const s=Object.keys(t.folderMap||{}).map((e=>t.folderMap[e])).filter((t=>!p()(e[t.id],t)));return s.length?s.reduce(((s,a)=>({...s,[a.id]:dt(s[a.id],{type:t.type,folder:a,folderNameMap:e})})),{...e}):e}case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:{const{folderMap:s={}}=t,a=Object.keys(s);if(!a.length)return e;const n=a.map((e=>s[e])).filter((t=>!p()(e[t.id],t))),r=Object.keys(e).filter((e=>!s[e]));return n.length||r.length?n.reduce(((e,s)=>({...e,[s.id]:dt(e[s.id],{type:t.type,folder:s})})),M()(e,r)):e}case r.DELETE_FOLDER_SUCCEEDED:return M()(e,[t.folderId]);case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.READ_CHANGE_REQUESTED:case r.RECENT_AND_READ_CHANGE_REQUESTED:{const{itemsToUpdate:s=[]}=t,a=s.filter((e=>e.isAffected&&!e.isQueryBased));return a.length?a.reduce(((e,{flags:s,folder:a,destinationFolder:n})=>null!=a&&a.id&&null!=n&&n.id&&a.id===n.id?e:{...e,...a&&a.id&&{[a.id]:dt(e[a.id],{...t,folder:a,flags:{...s,read:"boolean"==typeof t.isRead?t.isRead:s.read}})},...n?{[n.id]:dt(e[n.id],{...t,folder:a,isDestinationFolder:!0,flags:s})}:{}}),{...e}):e}case r.UPDATE_ITEMS_FAILED:{const{itemsToDelete:s=[]}=t,a=s.filter((e=>e.isAffected));return a.length?a.reduce(((e,{flags:s,folder:a,destinationFolder:n})=>({...e,...a&&a.id&&{[a.id]:dt(e[a.id],{type:t.type,folder:a,flags:{...s,read:"boolean"==typeof t.isRead?t.isRead:s.read}})},...n?{[n.id]:dt(e[n.id],{type:t.type,folder:a,isDestinationFolder:!0,flags:s})}:{}})),{...e}):e}case r.V3_MESSAGE_SAVE_SUCCEEDED:{const{draftFolderId:s}=t;return s?{...M()(e,[s]),[s]:dt(e[s],{type:t.type,folder:e[s],folderNameMap:e,draftMessageId:t.draftMessageId})}:e}default:return e}},Et=(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case r.GIF_FETCH_REQUESTED:return o.DAQ.LOADING;case r.GIF_FETCH_SUCCEEDED:return o.DAQ.LOADED;case r.GIF_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},ut=(0,a.combineReducers)({categories:(e={},t)=>{switch(t.type){case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.reduce(((e,t)=>({...e,[t.categoryId]:{category:t}})),{});case r.GIF_FETCH_FAILED:case r.GIF_FETCH_REQUESTED:case r.GIF_FETCH_SUCCEEDED:{const{query:s,preloadItems:a}=t;return a?{...e,[s]:{...e[s],status:Et(e[s].status,t)}}:e}default:return e}},categoriesStatus:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return o.DAQ.LOADED;case r.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return o.DAQ.LOADING;case r.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},categoryIds:(e=[],t)=>{switch(t.type){case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return t.categories.map((e=>e.categoryId));default:return e}}}),mt=(e={},t)=>{switch(t.type){case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:{const{listData:{gifItems:s={}}}=t;return{...e,...s}}default:return e}};var St=s(58468);const pt=function(e=[],t){switch(t.type){case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:return t.contacts}return e};const Ct=(0,a.combineReducers)({type:(e="",t)=>{const{type:s,launchError:a,mailboxAttributes:n}=t;switch(s){case r.INITIAL_STATE:return a||(n&&!n.success?o.Rtf.SETTINGS_FAILED_TO_LOAD:e);case r.LAUNCH_FAILED:case r.SETTINGS_CHANGE_REQUESTED:return"";default:return e}}}),At=(e={},t)=>{switch(t.type){case r.LINK_ENHANCER_FETCH_SUCCEEDED:{const{cardUrl:s,linkInfo:a}=t;return{...e,[s]:a}}default:return e}},Tt=(e=!1,t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return void 0!==t.listData.lists[s].hasMoreItems?t.listData.lists[s].hasMoreItems:e;default:return e}},It=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.GIF_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.COUPONS_ADD_TAG_DECO_REQUESTED:case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{itemIds:a}=t.listData.lists[s];return p()(e,a)?e:(0,z.Po)(e,a)}case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAINS_FETCHED:{const{itemIds:a}=t.listData.lists[s];return p()(e,a)?e:a}case r.DELETE_CONTACT_REQUESTED:case r.COUPONS_REMOVE_TAG_DECO_REQUESTED:{const{itemsToUpdate:s=[],listToUpdate:{itemsToUpdate:a=[]}={}}=t,n=a.length?a:s.filter((e=>e.isAffected&&(0,z.C4)(t.listToUpdate.listId)!==o.ukn.ALL_COUPON_CARDS)).map((e=>e.id));return n.length?e.filter((e=>"object"==typeof e?e.type===w.df.EMAIL&&-1===n.indexOf(e.value):-1===n.indexOf(e))):e}case r.CREATE_CONTACT_SUCCEEDED:{const{itemsToUpdate:s,listToUpdate:a={}}=t;return(0,z.h_)(a.listId)?[...e,s[0].id]:e}case r.CONTACT_SAVE_SUCCEEDED:{var n;const{itemsToUpdate:s=[],listToUpdate:a={}}=t;let r=[...e];return s.forEach((t=>{t.oldListId===a.listId&&(r=e.filter((e=>e!==t.id))),t.listId===a.listId&&(r=[...r,t.id])})),null!==(n=t.contact)&&void 0!==n&&n.deletedContactId&&(r=r.filter((e=>e!==t.contact.deletedContactId))),r}case r.FETCH_ALL_CONTACTS_SUCCESS:case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.SENDER_ROLLUP_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.CONTACTS_GROUP_DELETE_REQUESTED:case r.CONTACTS_GROUP_DELETE_FAILED:{const{listData:s,listId:a}=t;return(0,z.fG)(e,s,a)}case r.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listData:s,listId:a}=t,{itemIds:n,totalHits:r}=s.lists[a];return n.length<e.length&&e.length!==r?n:(0,z.fG)(e,s,a)}case r.READ_CHANGE_REQUESTED:case r.RECENT_AND_READ_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isRead:n,newOldMailInboxStyle:r}=t;if(!s)return e;const{listId:o}=s,i=r?(0,ct.NC)(a,o,n?"read":"unread"):(0,ct.k1)(a,o,n?[]:["unread"]);return i.length?e.filter((e=>-1===i.indexOf(e))):e}case r.STAR_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a,isStarred:n}=t;if(!s)return e;const{listId:r}=s,o=(0,ct.k1)(a,r,n?["flagged","starred"]:[]);return o.length?e.filter((e=>-1===o.indexOf(e))):e}case r.V3_MESSAGE_SAVE_SUCCEEDED:{var i,l;const{itemsToUpdate:s=[],previousStreamItem:a,listToUpdate:n={}}=t;return s.length&&(null===(i=s[0])||void 0===i?void 0:i.listId)===n.listId&&null!==(l=s[0])&&void 0!==l&&l.id?[s[0].id,...null!=a&&a.id?e.filter((e=>e!==a.id)):e]:e}case r.MOVE_AND_READ_CHANGE_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a=[],isRead:n,conversationsMode:r,message:o,destinationListId:i}=t;if(!s)return e;const{listId:l,folderIds:c=[]}=s,d=(0,ct.S2)(a,c),_=(0,ct.NC)(a,l,n?"read":"unread"),E=d.concat(_);let u=E.filter(((e,t)=>E.indexOf(e)===t));u=a.reduce(((e,{attachmentIds:t=[]})=>e.concat(t)),u);const m=u.length?e.filter((e=>-1===u.indexOf(e))):e;if(s.listId===i&&o){const e=r?o.conversationId:o.id;return(0,z.m6)(i,m,e)}return m}case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case r.MOVE_ITEMS_REQUESTED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.SEND_SUCCESS:case r.UPDATE_ITEMS_FAILED:case r.PINNED_EMAIL_PIN_REQUESTED:case r.PINNED_EMAIL_UNPIN_REQUESTED:{const{listToUpdate:s,itemsToUpdate:a=[],conversationsMode:n,message:i,triageActionType:l,destinationFolderId:_}=t;if(!s)return e;if(l===o.Ewo.DELETE_FOLDER_ITEMS&&a[0]){const{listId:t,isAffected:n}=a[0];return n&&t===s.listId?[]:e}const{folderIds:E=[]}=s;let u=(0,ct.S2)(a,E);var c;if(u=a.reduce(((e,{attachmentIds:t=[]})=>e.concat(t)),u),s.listId===(0,z.uW)()&&t.type===r.PINNED_EMAIL_UNPIN_REQUESTED)u.push(null==a||null===(c=a[0])||void 0===c?void 0:c.groupId);const m=u.length?e.filter((e=>-1===u.indexOf(e))):e,S=(0,z.Kw)(_);if(s.listId===S&&i){const e=n?i.conversationId:i.id;return(0,z.m6)(S,m,e)}var d;return s.listId===(0,z.uW)()&&t.type===r.PINNED_EMAIL_PIN_REQUESTED?(0,z.m6)(s.listId,m,null==a||null===(d=a[0])||void 0===d?void 0:d.groupId):m}case r.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{tempGroupId:s,id:a}=t;return e.map((e=>e===s?a:e))}case r.OPEN_PAGE_REQUESTED:{const{itemsToRemove:s=[],itemsToAdd:a=[]}=t.listToUpdate;return null!=s&&s.length||null!=a&&a.length?e.filter((e=>-1===s.indexOf(e))).concat(a):e}default:return e}},ht=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:return void 0!==t.listData.lists[s].lmv3Query?t.listData.lists[s].lmv3Query:e;default:return e}},gt=(e="",t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].nextItemsUrl||"";default:return e}},Ot=(e=0,t)=>{const{listId:s,type:a}=t;switch(a){case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:return t.listData.lists[s].offset||e;default:return e}},Dt=(e=o.DAQ.DOES_NOT_EXIST,t)=>{const{type:s,listToUpdate:{markAsDirty:a=!0}={}}=t;switch(s){case r.INITIAL_STATE:return-1===[o.n8z.FOLDER,o.n8z.LIST,o.n8z.SEARCH,o.n8z.BASE].indexOf(t.route.name)?e:o.DAQ.LOADED;case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.CHANGE_FOLDER_SUCCEEDED:case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.COUPONS_LIST_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_COUPONS_SUCCESS:case r.MORE_RECEIPTS_SUCCESS:case r.CONTACTS_LIST_FETCH_SUCCEEDED:case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAINS_FETCHED:case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.FETCH_ALL_CONTACTS_SUCCESS:return o.DAQ.LOADED;case r.GIF_FETCH_REQUESTED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:return o.DAQ.LOADING;case r.CREATE_CONTACT_SUCCEEDED:case r.CONTACT_SAVE_SUCCEEDED:case r.DELETE_CONTACT_REQUESTED:case r.CONTACTS_SORT_ORDER_CHANGED:return a?o.DAQ.DIRTY:e;case r.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:case r.CONTACTS_GROUP_FETCH_FAILED:case r.COUPONS_LIST_FAILED:case r.RECEIPTS_LIST_FAILED:case r.MORE_RECEIPTS_REQUEST_FAILED:case r.WALLET_LIST_FAILED:case r.MORE_COUPONS_REQUEST_FAILED:case r.GIF_FETCH_FAILED:case r.CHANGE_FOLDER_FAILED:case r.SEARCH_LIST_ITEMS_FAILED:case r.TRAVEL_LIST_FAILED:case r.CONTACTS_LIST_FETCH_FAILED:case r.IMPORTANT_CONTACTS_FETCH_FAILED:case r.SUBSCRIPTION_LIST_FETCH_FAILED:case r.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:case r.FETCH_ALL_CONTACTS_FAILED:return o.DAQ.ERROR;case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:var n;return"EP-5020"===(null==t||null===(n=t.err)||void 0===n?void 0:n.errorCode)?o.DAQ.DIRTY:o.DAQ.ERROR;default:return e}},Rt=(e=[],t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:{if(void 0===t.listData.lists[s].suggestedWords)return e;const{suggestedWords:a=[]}=t.listData.lists[s],[n]=a;return(n||{}).suggested||e}default:return e}},Nt=(e=null,t)=>{const{listId:s,type:a}=t;switch(a){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.GIF_FETCH_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case r.CONTACTS_LIST_FETCH_SUCCEEDED:case r.FETCH_ALL_CONTACTS_SUCCESS:case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.CONTACTS_GROUP_DELETE_REQUESTED:case r.CONTACTS_GROUP_DELETE_FAILED:case r.SETTINGS_BLOCKED_DOMAINS_FETCHED:case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:return void 0!==t.listData.lists[s].totalHits?t.listData.lists[s].totalHits:e;case r.DELETE_CONTACT_REQUESTED:{const{itemsToUpdate:s,listToUpdate:a}=t;return e?e-s.filter((e=>e.isAffected&&(e.listId===a.listId||(0,z.C4)(a.listId)===o.ukn.PRINT_CONTACTS))).length:e}case r.CREATE_CONTACT_SUCCEEDED:return e?e+1:1;case r.CONTACT_SAVE_SUCCEEDED:{const{itemsToUpdate:s,listToUpdate:a}=t;let n=0;return s[0].listId!==s[0].oldListId&&(n=a.listId===s[0].listId?1:a.listId===s[0].oldListId?-1:0),e?e+n:1}default:return e}},Lt=(0,a.combineReducers)({itemIds:It,nextItemsUrl:gt,offset:Ot,hasMoreItems:Tt,status:Dt,lmv3Query:ht,totalHits:Nt,suggestedWords:Rt}),ft=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.GIF_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.MORE_COUPONS_SUCCESS:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.COUPONS_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.COUPONS_ADD_TAG_DECO_REQUESTED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.CONTACTS_LIST_FETCH_SUCCEEDED:case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAINS_FETCHED:case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:case r.FETCH_ALL_CONTACTS_SUCCESS:case r.CONTACTS_GROUP_DELETE_REQUESTED:case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return{...e,...Object.keys(t.listData.lists||{}).reduce(((s,a)=>({...s,[a]:Lt(e[a],{...t,listId:a})})),{})};case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:return(0,z.aY)(t.listId)===o.qd8.TODOS?{...e,...Object.keys(t.listData.lists||{}).reduce(((s,a)=>({...s,[a]:Lt(e[a],{...t,listId:a})})),{})}:e;case r.GIF_FETCH_FAILED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:case r.COUPONS_LIST_FAILED:case r.MORE_COUPONS_REQUEST_FAILED:case r.RECEIPTS_LIST_FAILED:case r.WALLET_LIST_FAILED:case r.PINNED_EMAIL_LIST_FAILED:case r.MORE_RECEIPTS_REQUEST_FAILED:case r.CHANGE_FOLDER_FAILED:case r.CONTACTS_LIST_FETCH_FAILED:case r.FETCH_ALL_CONTACTS_FAILED:case r.CONTACTS_GROUP_DELETE_FAILED:case r.SEARCH_LIST_ITEMS_FAILED:{const{listId:s}=t;return{...e,[s]:Lt(e[s],t)}}case r.RECENT_AND_READ_CHANGE_REQUESTED:case r.READ_CHANGE_REQUESTED:if(t.isAutomatic&&[o.K8C.NEWMAIL,o.K8C.UNREAD].includes((0,z.kw)((0,z.LY)(t.route))))return e;case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.SEND_SUCCESS:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.STAR_CHANGE_REQUESTED:case r.COUPONS_REMOVE_TAG_DECO_REQUESTED:case r.DELETE_CONTACT_REQUESTED:case r.CREATE_CONTACT_SUCCEEDED:case r.CONTACT_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.PINNED_EMAIL_PIN_REQUESTED:case r.PINNED_EMAIL_UNPIN_REQUESTED:{const{listsToUpdate:s=[],itemsToUpdate:a=[],listsToRemove:n=[]}=t;if(!s.length&&!n.length||!a.length)return e;let r={...e,...s.reduce(((s,n)=>({...s,[n.listId]:Lt(e[n.listId],{...t,listToUpdate:n,itemsToUpdate:a})})),{})};for(const e of n)r=M()(r,e);return r}case r.UPDATE_ITEMS_FAILED:{const{listsToUpdate:s=[],itemsToDelete:a=[],listsToRemove:n=[]}=t;if(!s.length&&!n.length||!a.length)return e;let r={...e,...s.reduce(((s,n)=>({...s,[n.listId]:Lt(e[n.listId],{...t,listToUpdate:n,itemsToUpdate:a})})),{})};for(const e of n)r=M()(r,e);return r}case r.COUPON_RECOMMENDATIONS_CLOSED:{const{listId:s=""}=t;return""===s?e:M()(e,s)}case r.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:s}=t;if(!s)return e;const a=(0,z.uh)(o.ukn.GROUPS,s);return(0,i.oF)(e,[a])}case r.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:{const{newListId:s,tempListId:a}=t,n=(0,i.T8)(e,a,s),r=(0,z.uh)(o.ukn.GROUPS);return n[r]=Lt(e[r],{...t,listId:r}),n}case r.CONTACTS_SORT_ORDER_CHANGED:case r.OPEN_PAGE_REQUESTED:{const{listsToUpdate:s}=t;if(null!=s&&s.length){return{...e,...s.reduce(((s,a)=>({...s,[a.listId]:Lt(e[a.listId],{...t,listToUpdate:a})})),{})}}return e}default:return e}},Mt=(0,a.combineReducers)({locationSuggestions:(e={},t)=>{switch(t.type){case r.LOCATION_SUGGEST_SUCCEEDED:return{...e,[t.keyword]:t.suggestions};default:return e}},locationFetchStatus:(e={},t)=>{switch(t.type){case r.LOCATION_SUGGEST_REQUESTED:return{[t.keyword]:o.DAQ.LOADING};case r.LOCATION_SUGGEST_SUCCEEDED:return{[t.keyword]:o.DAQ.LOADED};case r.LOCATION_SUGGEST_FAILED:return{[t.keyword]:o.DAQ.ERROR};default:return e}}});const Pt=(0,a.combineReducers)({suggestions:function(e={},t){switch(t.type){case r.ALIAS_EMAIL_CREATE_REQUESTED:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:return{};case r.ALIAS_EMAIL_CREATE_FAILED:return t.suggestions?{[t.email]:t.suggestions}:e}return e},status:function(e={},t){switch(t.type){case r.ALIAS_EMAIL_CREATE_REQUESTED:return{[t.email]:o.DAQ.LOADING};case r.ALIAS_EMAIL_CREATE_SUCCEEDED:return{[t.email]:o.DAQ.LOADED};case r.ALIAS_EMAIL_CREATE_FAILED:return{[t.email]:o.DAQ.ERROR}}return e}});function bt(e){return{getSuggestions:t=>e.suggestions[t],getStatus:t=>e.status[t]||o.DAQ.DOES_NOT_EXIST}}var yt=s(62631);const vt=(0,a.combineReducers)({id:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.id}return e},email:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return-1===[o.tO8.EXTERNAL,o.tO8.PHONE].indexOf(a.type)?a.email:"";case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{email:t=e}=n;return t}}return e},description:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.description||"";case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{description:t=e}=n;return t}}return e},isPrimary:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return!!a.isPrimary;case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isPrimary:t=e}=n;return t}}return e},isSelected:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return!!a.isSelected;case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{isSelected:t=e}=n;return t}}return e},isSending:(e=!1,t)=>{const{type:s,account:a,isSending:n,accountType:o}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.isSending;case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(void 0!==n)return yt.Cs({type:o})?e:n}return e},signatureActive:(e=!1,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:case r.SIGNATURE_STATUS_CHANGE_REQUESTED:return!!a.signatureActive;case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signatureActive:t=e}=n;return t}}return e},signature:(e="",t)=>{const{type:s,account:a,updatedProperties:n={},updatedAccount:o}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.signature||"";case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:return void 0!==n.signature?n.signature:o&&void 0!==o.signature?o.signature:e;case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{signature:t=e}=n;return t}}return e},sendingName:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.sendingName||t.primaryAccountSendingName||"";case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{sendingName:t=e}=n;return t}}return e},status:(e=null,t)=>{const{type:s,account:a,status:n,updatedProperties:o={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.status;case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{status:t=e}=o;return t}case r.ACCOUNT_DELETE_REQUESTED:return e===n?e:n}return e},type:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.type||"";case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{type:t=e}=n;return t}}return e},authType:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.authType||o.nxP.NONE}return e},partnerCode:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.partnerCode||""}return e},replyToAddress:(e=null,t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.replyToAddress||"";case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{replyToAddress:t=e}=n;return t}}return e},isActive:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:return a.isPrimary;default:return e}},accountVerified:(e=!1,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.accountVerified}return e},isSynced:(e=!0,t)=>{switch(t.type){case r.ACCOUNT_ADD_SUCCEEDED:case r.ACCOUNT_ADD_FINISHED:return!0;case r.ACCOUNT_ADD_FAILED:return!1;default:return e}},subscriptionId:(e=null,t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.subscriptionId||e;default:return e}},link:(e={},t)=>{const{type:s,account:a,updatedProperties:n={}}=t;switch(s){case r.INITIAL_STATE:case r.ACCOUNT_ADD_SUCCEEDED:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:return a.link||{};case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{link:t=e}=n;return t}default:return e}},serverUri:(e="",t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return a.serverUri||""}return e},forwardEmail:(e="",t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:o=[]}=n,{forwardEmail:i=""}=a;switch(s){case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==o.indexOf("forwardEmail"))return"";break;case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmail"))return a.forwardEmail;break;case r.INITIAL_STATE:return i}return e},forwardEmailVerified:(e=!1,t)=>{const{type:s,account:a={},updatedProperties:n={}}=t,{unsetFields:o=[]}=n,{forwardEmailVerified:i=!1}=a;switch(s){case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:if(-1!==o.indexOf("forwardEmail"))return!1;break;case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:if(n.hasOwnProperty("forwardEmailVerified"))return a.forwardEmailVerified;break;case r.INITIAL_STATE:return i}return e},createTime:(e="",t)=>{const{type:s,account:a={}}=t;switch(s){case r.INITIAL_STATE:return a.createTime;case r.ACCOUNT_ADD_SUCCEEDED:return Date.now()/1e3}return e},linkedAccounts:(e=[],t)=>{const{type:s,account:a={}}=t;switch(s){case r.INITIAL_STATE:case r.ACCOUNT_ADD_SUCCEEDED:return a.linkedAccounts||e}return e},showForwardReviewAlert:(e=!1,t)=>{const{type:s,updatedProperties:a}=t;switch(s){case r.REVIEW_FORWARD_EMAIL:return a.showForwardReviewAlert}return e},folderPrefix:(e="",t)=>{const{type:s,account:a}=t;switch(s){case r.INITIAL_STATE:case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:return!a.isPrimary&&a.folderPrefix?a.folderPrefix:e}return e}}),Ft=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:{const{accounts:s=[]}=t;return s.length?s.reduce(((e,s)=>(e[s.id]=vt({},{...t,account:s}),e)),{}):e}case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case r.SIGNATURE_STATUS_CHANGE_REQUESTED:case r.ACCOUNT_ADD_SUCCEEDED:case r.ACCOUNT_ADD_FAILED:{const{updatedAccount:s}=t;return s?{...e,[s.id]:vt(e[s.id],{...t,account:s})}:e}case r.REVIEW_FORWARD_EMAIL:{const{accountId:s,updatedProperties:a}=t;return a?{...e,[s]:vt(e[s],t)}:e}case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:{const{accountId:s,updatedProperties:a}=t;return a&&a.isSending&&1===Object.keys(a).length?Object.keys(e).reduce(((a,n)=>({...a,[n]:vt(e[n],{...t,isSending:n===s,accountType:e[n].type})})),{}):a?{...e,[s]:vt(e[s],t)}:e}case r.ALIAS_EMAIL_CREATE_SUCCEEDED:{const{newAccount:s}=t;return s?{...e,[s.id]:vt(e[s.id],{...t,account:s})}:e}case r.ACCOUNT_DELETE_SUCCEEDED:{const{updatedAccount:s}=t;return s?M()(e,[s.id]):e}case r.ACCOUNT_ADD_FINISHED:return Object.keys(e).reduce(((s,a)=>({...s,[a]:vt(e[a],t)})),{});case r.ACCOUNT_DELETE_REQUESTED:{const{accountId:s}=t;if(!s)return e;const a=Object.keys(e).map((t=>e[t])).filter((e=>e.type===o.tO8.ALIAS)),n={...e[s]||a.find((e=>e.id===s)),status:o.dpb.DELETE_IN_PROGRESS};return{...e,[n.id]:vt(e[n.id],{...t,account:n,status:o.dpb.DELETE_IN_PROGRESS})}}default:return e}},Ut=4002,kt=4003,wt=(0,a.combineReducers)({id:(e=null,t)=>{switch(t.type){case r.INITIAL_STATE:return t.selectedMailbox.id}return e},allMailboxes:(e=null,t)=>{switch(t.type){case r.INITIAL_STATE:return[t.selectedMailbox]}return e},accounts:Ft,aliasSuggestion:Pt,socialAccountsStatus:(e={},t)=>{switch(t.type){case r.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:{const{providerResult:s={}}=t.response;return{...e,...s}}case r.SOCIAL_ACCOUNTS_STATUS_RECEIVED:return{...e,...t.response};case r.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:{const{provider:s}=t;return{...e,[s]:{status:o.UcZ.NOT_CONNECTED}}}case r.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case r.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:{const{provider:s,enable:a=!0}=t,n=o.AJg.indexOf(s)>-1;if(!o.Nq8[s]&&!n)return e;let r=o.UcZ.NOT_CONNECTED;return a&&(r=n?o.UcZ.QUEUED:o.UcZ.CONNECTED),{...e,[s]:{status:r}}}default:return e}},enhanceContactsPreference:(e=!0,t)=>{switch(t.type){case r.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case r.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return t.enabled;default:return e}},deaBaseName:(e={deaDomain:"",deaPrefix:""},t)=>{switch(t.type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t,a=s[o.CbW.DEA_BASE_NAME];return void 0!==a?a:e}case r.INITIAL_STATE:{const{mailboxAttributes:s={}}=t,a=(s.responses||{})[o.CbW.DEA_BASE_NAME];return void 0!==a?a:e}case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:{const{baseName:e,domain:s}=t;return{deaPrefix:e,deaDomain:s}}default:return e}},baseNameSuggestions:(e=[],t)=>{switch(t.type){case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_DELETE:case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:return[];case r.INITIAL_STATE:case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:{const{suggestions:e=[]}=t;return e}default:return e}},recentlyAddedAccount:(e=null,t)=>{switch(t.type){case r.ACCOUNT_ADD_SUCCEEDED:{const{updatedAccount:e}=t;return e.id}case r.ACCOUNT_ADD_FINISHED:return null;default:return e}},accountAlerts:(e=[],t)=>{const{type:s,accountAlerts:a=[]}=t;switch(s){case r.INITIAL_STATE:case r.ACCOUNT_REAUTH_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.POST_LAUNCH_SYNC_SUCCEEDED:return a&&a.length>0?a:e;default:return e}},mailboxSize:(e=0,t)=>{switch(t.type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:{const{features:s={}}=t;return s[o.CbW.MAILBOX_SIZE]||e}case r.INITIAL_STATE:{const{mailboxAttributes:s={}}=t;return(s.responses||{})[o.CbW.MAILBOX_SIZE]||e}default:return e}}}),Gt=/<img .*\/?>/i,Ht=/<a\s.?/im,Bt=(0,a.combineReducers)({body:function(e={},t){const{type:s,messageId:a,v3MessageBodiesMap:n}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return n[a].body||{};default:return e}},status:function(e=o.DAQ.DOES_NOT_EXIST,t){const{type:s,errorMessageIds:a=[]}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return-1===a.indexOf(t.messageId)?o.DAQ.LOADED:o.DAQ.ERROR;case r.PREVIEW_MESSAGE_REQUESTED:case r.MESSAGE_BODIES_REQUESTED:case r.OPEN_PAGE_REQUESTED:return e===o.DAQ.LOADED?o.DAQ.LOADED:o.DAQ.DOES_NOT_EXIST;case r.MESSAGE_BODIES_FAILED:return o.DAQ.ERROR;default:return e}},isSecure:function(e=!1,t){switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!1;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case r.MESSAGE_BODIES_REQUESTED:return!!t.secure;default:return e}},hasFullBody:function(e=!1,t){const{type:s,messageId:a,full:n,v3MessageBodiesMap:i}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return!0;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case r.MESSAGE_BODIES_REQUESTED:{const{body:e={}}=i[a],{htmlAnnotations:t}=e;return!n&&t?!t.some((({type:e})=>e===o.fpK.QUOTED||e===o.fpK.TRUNCATED)):!!n}default:return e}},retryCount:function(e=0,t){switch(t.type){case r.MESSAGE_BODIES_FAILED:return Math.min(o.KW1+1,e+1);default:return e}}});const xt=function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.SPONSORED_SAVE_TO_INBOX_SUCCEEDED:case r.OPEN_PAGE_REQUESTED:case r.MESSAGE_BODIES_REQUESTED:case r.PREVIEW_MESSAGE_REQUESTED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_FAILED:{var s;const a=Object.keys(t.v3MessageBodiesMap||{});if(!a.length)return e;const n=a.reduce(((s,a)=>({...s,[a]:Bt(e[a],{...t,messageId:a})})),{}),r=(null===(s=t.statesToRemove)||void 0===s?void 0:s.messageBodiesToRemove)||[];return r.length>0?M()({...e,...n},r):{...e,...n}}case r.FETCH_RAW_MESSAGE_SUCCEEDED:{const{messageId:s,rawMessage:a}=t;return e[s]&&e[s].body?{...e,[s]:{...e[s],body:{...e[s].body,rawMessage:a}}}:e}case r.SETTINGS_CHANGE_REQUESTED:if(t.name===o.Zrf.SHOW_IMAGES){if(!0===t.value){return{...Object.keys(e).reduce(((t,s)=>e[s].body.htmlAnnotations.some((({type:e})=>"blocked"===e))?{...t}:{...t,[s]:e[s]}),{})}}return{}}return e;default:return e}};function Vt(e){return{flagged:!1,ham:!1,recent:!1,read:!1,...e}}function Zt(e){const{type:t,isRead:s,isStarred:a}=e;switch(t){case r.READ_CHANGE_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.UNDO_MOVE_AND_READ_REQUESTED:return{read:!s};case r.STAR_CHANGE_REQUESTED:return{flagged:!a};case r.RECENT_AND_READ_CHANGE_REQUESTED:return{recent:!1,read:!0}}return{}}const Wt=function(e={},t){const{listData:s={},type:a,itemsToUpdate:n,messageMetadataMap:i={}}=t,l=-1!==[r.V3_MESSAGE_SAVE_SUCCEEDED].indexOf(a),c=-1!==[r.EXTRACT_COUPON_SUCCEEDED].indexOf(a),d=-1!==[r.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a);switch(a){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter((t=>l||d||c?!p()(e[t],Vt(s.messages[t].flags)):!e[t])).reduce(((e,t)=>({...e,[t]:Vt(s.messages[t].flags)})),{});return Object.keys(t).length?{...e,...t}:e}case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:{const t={...Object.keys(s.messages||[]).reduce(((e,t)=>({...e,[t]:Vt(s.messages[t].flags)})),{}),...(n||[]).reduce(((e,{messageId:t,flags:s})=>({...e,[t]:Vt(s)})),{})};if(t){const s=Object.keys(t).filter((s=>!p()(e[s],t[s]))).reduce(((e,s)=>({...e,[s]:Vt(t[s])})),{});return Object.keys(s).length?{...e,...s}:e}return e}case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(i);if(!t.length)return e;const a=t.map((t=>({[t]:e[t]}))),n=Object.keys(s.messages||[]).reduce(((t,a)=>{const n=s.messages[a].decos;return{...t,[a]:n&&n.some((e=>e&&e.id===o.Jd6.CRD))?Vt(s.messages[a].flags):e[a]}}),{});return{...e,...Object.assign({},...a,n)}}case r.UNDO_MOVE_AND_READ_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.RECENT_AND_READ_CHANGE_REQUESTED:case r.READ_CHANGE_REQUESTED:case r.STAR_CHANGE_REQUESTED:{const s=n.filter((e=>e.isAffected&&e.messageId)).reduce(((s,a)=>({...s,[a.messageId]:{...e[a.messageId],...Zt(t)}})),{});return Object.keys(s).length?{...e,...s}:e}case r.MOVE_ITEMS_REQUESTED:{const t=n.filter((e=>e.isAffected)).reduce(((t,s)=>{const a={...e[s.messageId]};return(s.isSpamMove||s.isHamMove)&&(a.spam=s.isSpamMove,a.ham=s.isHamMove),{...t,[s.messageId]:a}}),{});return Object.keys(t).length?{...e,...t}:e}default:return e}};const Kt=function(e={},t){const{listData:s={},type:a,message:n={},itemsToUpdate:i,messageMetadataMap:l={}}=t,c=-1!==[r.MESSAGE_AUTO_SAVE_SUCCEEDED,r.MESSAGE_SAVE_SUCCEEDED].indexOf(a),d=-1!==[r.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),_=-1!==[r.EXTRACT_COUPON_SUCCEEDED].indexOf(a),E=-1!==[r.CHANGE_FOLDER_SUCCEEDED].indexOf(a);switch(a){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.MORE_COUPONS_SUCCESS:case r.COUPONS_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:{if(!s.messages)return e;const t=Object.keys(s.messages).filter((t=>{const a=s.messages[t];return c||d||_?!p()(e[t],a):E?!e[t]||e[t]!==a.folder.id:!e[t]})).reduce(((e,t)=>({...e,[t]:s.messages[t].folder.id})),{});return Object.keys(t).length?{...e,...t}:e}case r.V3_MESSAGE_SEND_SUCCEEDED:return n.id&&n.folder&&n.folder.id?{...e,[n.id]:n.folder.id}:e;case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(l);if(!t.length)return e;const a=t.map((t=>({[t]:e[t]}))),n=Object.keys(s.messages||[]).reduce(((t,a)=>{const n=s.messages[a].decos,r=n&&n.some((e=>e&&e.id===o.Jd6.CRD));return t[a]=r?s.messages[a].folder.id:e[a],t}),{});return{...e,...Object.assign({},...a,n)}}case r.UNDO_MOVE_AND_READ_REQUESTED:case r.UNDO_MOVE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:{const t=i.filter((e=>e.isAffected)),s=t.filter((e=>!e.destinationFolder)).map((e=>e.messageId)),a=t.reduce(((t,s)=>({...t,[s.messageId]:s.destinationFolder?s.destinationFolder.id:e[s.messageId]})),{});return Object.keys(a).length||s.length?M()({...e,...a},s):e}case r.UPDATE_ITEMS_FAILED:{const{itemsToDelete:s=[]}=t,a=s.map((e=>e.messageId));return a.length?M()(e,a):e}default:return e}};var zt=s(22222);const Yt=(e,t,s)=>{Object.keys(e).forEach((a=>{const n=e[a].filter((e=>e!==s.messageId));0!==n.length&&(t[a]=n)}))},jt=(e,t)=>{const s={};return Yt(e,s,t),t.destinationFolder?(-1!==t.destinationFolder.types.indexOf(o.Sck.TRASH)&&(s[o.bcr.TRASH]||(s[o.bcr.TRASH]=[]),s[o.bcr.TRASH].push(t.messageId)),-1!==t.destinationFolder.types.indexOf(o.Sck.BULK)&&(s[o.bcr.BULK]||(s[o.bcr.BULK]=[]),s[o.bcr.BULK].push(t.messageId)),s):s},qt=(e={},t)=>{const{type:s,messageGroup:a={},itemToUpdate:n={},folders:i,listId:l}=t;switch(s){case r.INITIAL_STATE:{let e=o.bcr.DEFAULT;const t=(0,z.Fh)(l),s=i.find((e=>e.folder.id===t)),n=s?(0,lt.IZ)(s.folder):"";return n===o.Sck.TRASH?e=o.bcr.TRASH:n===o.Sck.BULK&&(e=o.bcr.BULK),{[e]:a[o.bcr.DEFAULT]}}case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:return p()(a,e)?e:{...e,...a};case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case r.UPDATE_ITEMS_FAILED:return n.isAffected?jt(e,n):e;case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:return n.isAffected?((e,t)=>{if(!t.destinationFolder||-1!==t.destinationFolder.types.indexOf(o.Sck.TRASH)||-1!==t.destinationFolder.types.indexOf(o.Sck.BULK))return jt(e,t);if(-1!==t.folder.types.indexOf(o.Sck.TRASH)||-1!==t.folder.types.indexOf(o.Sck.BULK)){const s={};return Yt(e,s,t),s[o.bcr.DEFAULT]||(s[o.bcr.DEFAULT]=[]),s[o.bcr.DEFAULT].push(t.messageId),s}return e})(e,n):e;default:return e}};const Xt=function(e={},t){const{type:s,listData:a={},itemsToUpdate:n,folders:o={},listId:i}=t;switch(s){case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.INITIAL_STATE:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:{const{groupIdToMessageIdsMap:t}=a;if(!t)return e;const n=Object.keys(t).filter((s=>!p()(t[s],e[s]))).reduce(((a,n)=>({...a,[n]:qt(e[n],{type:s,messageGroup:t[n],folders:o,listId:i})})),{});return Object.keys(n).length?{...e,...n}:e}case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return n.length?n.reduce(((e,t)=>{const{groupId:a}=t,n=a?qt(e[a],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?{...e,[a]:n}:M()(e,[a])}),{...e}):e;case r.UPDATE_ITEMS_FAILED:{const{itemsToDelete:a=[]}=t;return a.length?a.reduce(((e,t)=>{const{groupId:a}=t,n=a?qt(e[a],{type:s,itemToUpdate:t}):{};return Object.keys(n).length?{...e,[a]:n}:M()(e,[a])}),{...e}):e}default:return e}},Qt=(0,zt.createSelector)((e=>e),((e={})=>{const t=()=>Object.keys(e).reduce(((t,s)=>{const a=e[s]||{};return Object.keys(a).forEach((e=>{const n=a[e]||[];(Array.isArray(n)?n:[]).forEach((e=>t[e]=s))})),t}),{}),s=t=>{const s=e[t]||{};return Object.values(s).flat()};return{...{doesMessageGroupIdExist:t=>!!e[t],getAllMessageIdsFromMessageGroupId:s,doesMessageGroupIdExistInList:(t,s)=>!!e[t]&&!!e[t][s],getMessageIdsFromMessageGroupIdForMessageGroupFolderType:(t,a)=>{const n=e[t]||{};return a?n[a]||[]:s(t)},getMessageIdToGroupIdMap:t,getGroupIdContainingMessageId:e=>t()[e]}}}));var Jt=s(62760),$t=s(18247);const es=(0,a.combineReducers)({replyTo:(e=[],t)=>{const{type:s,replyTo:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MORE_RECEIPTS_SUCCESS:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return p()(e,a)?e:a||e;default:return e}},from:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return p()(e,a.headers.from)?e:a.headers.from;default:return e}},to:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return p()(e,a.headers.to)?e:a.headers.to;default:return e}},cc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,a.headers.cc)?e:a.headers.cc;default:return e}},bcc:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:return p()(e,a.headers.bcc)?e:a.headers.bcc;default:return e}},date:(e=null,t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.headers.date?a.headers.date:e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.date?a.headers.date:e;default:return e}},messageIdRfc822:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.headers.messageIdRfc822?a.headers.messageIdRfc822:e;default:return e}}}),ts=(0,a.combineReducers)({messageId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.id||e;default:return e}},csid:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return!e&&a.csid?a.csid||"":e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return!e&&a.csid&&n?a.csid||"":e;default:return e}},conversationId:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.conversationId?a.conversationId:e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.conversationId?a.conversationId:e;default:return e}},cardConversationId:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.EXTRACT_COUPON_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.cardConversationId?a.cardConversationId:e;default:return e}},decos:(e=[],t)=>{const{type:s,message:a={}}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.decos?a.decos:e;case r.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.filter((e=>e.id!==o.Jd6.BDM));default:return e}},inReplyTo:(e={},t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return p()(e,a.replyTo)?e:a.inReplyTo||{};default:return e}},classification:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.classification?a.classification:e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.classification?a.classification:e;default:return e}},verifiedDomains:(e=[],t)=>{const{type:s,message:a}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return p()(e,a.verifiedDomains)?e:a.verifiedDomains||[];default:return e}},headers:es,folderOfDelivery:(e="",t)=>{const{type:s,message:a,isCard:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.folderOfDelivery?a.folderOfDelivery:e;case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:return n&&a.folderOfDelivery?a.folderOfDelivery:e;default:return e}},downloadAllUrl:(e="",t)=>{const{message:s={}}=t;return s.downloadAllUrl&&e!==s.downloadAllUrl?s.downloadAllUrl:e},shouldNudgeToReply:(e=!1,t)=>{const{type:s}=t;switch(s){case r.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:return!0;default:return e}},spame:(e="",t)=>{const{type:s,message:a={}}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.spame||e;default:return e}},modSeq:(e=null,t)=>{const{message:s={}}=t;return s.modSeq?s.modSeq:e},spiceCategories:(e=[],t)=>{const{type:s,message:a={}}=t;switch(s){case r.CHANGE_FOLDER_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.INITIAL_STATE:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_SAVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_RECEIPTS_SUCCESS:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.spiceCategories||e;default:return e}},schemaOrg:(e=[],t)=>{const{type:s,message:a,spamReasonToRemove:n}=t;switch(s){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.RECEIPTS_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:return a.schemaOrg?a.schemaOrg:e;case r.REMOVE_SPAM_SCHEMA_REQUESTED:return e.map((e=>{const t=null==e?void 0:e.schema;if((null==t?void 0:t["@type"])===o.rgK.AntispamResult){const s={...e};return s.schema={...t,antispamStatus:t.antispamStatus.filter((e=>-1===e.indexOf(n)))},s}return e}));default:return e}}});const ss=function(e={},t){const{listData:s={},type:a,messageMetadataMap:n={}}=t,i=-1!==[r.MESSAGE_AUTO_SAVE_SUCCEEDED,r.MESSAGE_SAVE_SUCCEEDED].indexOf(a),l=-1!==[r.CHECK_MAIL_RECEIVED_WITH_UPDATES].indexOf(a),c=-1!==[r.EXTRACT_COUPON_SUCCEEDED].indexOf(a);switch(a){case r.INITIAL_STATE:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.CHANGE_FOLDER_SUCCEEDED:case r.UNDO_MOVE_SUCCEEDED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.EXTRACT_COUPON_SUCCEEDED:case r.MORE_RECEIPTS_SUCCESS:case r.RECEIPTS_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.WALLET_LIST_SUCCEEDED:case r.TRAVEL_LIST_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:{if(!s.messages)return e;const o=Object.keys(s.messages).filter((t=>i||l||c?!p()(e[t],s.messages[t]):!e[t])).reduce(((o,i)=>({...o,[i]:ts(e[i],{type:a,message:s.messages[i],draftFolderId:t.draftFolderId,date:t.date,replyTo:n[i]?n[i].headers.replyTo:void 0,...a===r.V3_MESSAGE_SAVE_SUCCEEDED?{draftMessage:t.message}:{}})})),{});return Object.keys(o).length?{...e,...o}:e}case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:{const t=Object.keys(n);if(!t.length)return e;const r=t.map((t=>({[t]:ts(e[t],{type:a,message:n[t],replyTo:n[t].headers.replyTo})}))),i=Object.keys(s.messages||[]).reduce(((t,n)=>{const r=s.messages[n].decos,i=r&&r.some((e=>e&&e.id===o.Jd6.CRD));return{...t,[n]:ts(e[n],{type:a,message:s.messages[n],replyTo:s.messages[n].headers.replyTo,isCard:i})}}),{});return{...e,...Object.assign({},...r,i)}}case r.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:{const{predictionList:s=[]}=t,n=s.reduce(((t,s)=>{var n;return e[null==s||null===(n=s.message)||void 0===n?void 0:n.id]?{...t,[s.message.id]:ts(e[s.message.id],{type:a})}:t}),{});return Object.keys(n).length?{...e,...n}:e}case r.PHISHING_REMOVE_BDM_DECO_REQUESTED:{const s=Object.keys(e).reduce(((s,a)=>(a===t.messageId&&(s[a]=ts(e[a],{...t})),s)),{});return{...e,...s}}case r.REMOVE_SPAM_SCHEMA_REQUESTED:{const{messageId:s}=t,a=ts(e[s],t);return{...e,[s]:a}}default:return e}},as=(e={})=>({doesMessageIdExist:t=>!!e[t],getConversationId:t=>e[t].conversationId,getCardConversationId:t=>e[t].cardConversationId,getDecos:t=>e[t]&&e[t].decos,isCoupon:t=>e[t].decos&&e[t].decos.some((e=>e&&e.id===o.Jd6.CPN)),hasPhishingDeco:t=>t&&e[t].decos&&e[t].decos.some((e=>e&&e.id===o.Jd6.BDM)),getCsid:t=>e[t].csid,getClassification:t=>e[t].classification,getMessageId:t=>e[t].messageId,__getMessage:t=>e[t],isOfficialDomain:t=>{const{verifiedDomains:s=[]}=e[t];return!!s.length&&((0,Jt.Y3)(s)||s.some((({domain:e})=>o.bRD.indexOf(e)>=0)))},isCertifiedDomain:t=>{const{verifiedDomains:s=[]}=e[t];return!!s.length&&s.some((({domain:e})=>o.EeM.indexOf(e)>=0))},getTimeStamp:t=>e[t].headers.date,getFromAddresses:t=>e[t].headers.from,getToAddresses:t=>e[t].headers.to,getCcAddresses:t=>e[t].headers.cc,getBccAddresses:t=>e[t].headers.bcc,getReplyToAddresses:t=>e[t].headers.replyTo,getDate:t=>e[t].headers.date,getMessageIdRfc822:t=>e[t].headers.messageIdRfc822,getImmutableId:t=>e[t].immutableid,shouldNudgeToReply:t=>!!e[t].shouldNudgeToReply,isMarkedAsSpam:t=>"N"===e[t].spame,getFolderOfDelivery:t=>e[t].folderOfDelivery,findMessageIdsForConversationId:t=>Object.keys(e).filter((s=>e[s].conversationId===t)),getParentConversationIdForCardConversationId:t=>{const s=as(e).getParentMessageIdForCardConversationId(t);return s?e[s].conversationId:""},getParentMessageIdForCardConversationId:t=>Object.keys(e).find((s=>e[s].cardConversationId===t&&e[s].decos.some((({id:e})=>e===o.Jd6.EML)))),getDownloadAllUrl:t=>e[t]?e[t].downloadAllUrl:"",__get__:t=>e[t],getMessagesCount:()=>Object.keys(e).length,getModSeq:t=>e[t].modSeq,getSpiceCategories:t=>e[t].spiceCategories,getSchemaOrg:t=>{var s;return(null===(s=e[t])||void 0===s?void 0:s.schemaOrg)||[]},getSpamReason:(t,s)=>{var a;const n=(null===(a=e[t])||void 0===a?void 0:a.schemaOrg)||[],r=(0,$t.aX)({schemaOrg:n}),i=[s?"":o.DBG.SenderInUserAddressBook,o.DBG.PotentialPhishing,o.DBG.SpamMarkedByUser,o.DBG.PotentialSpam];let l="";return i.forEach((e=>{!l&&r[e]&&(l=r[e])})),l}});const ns=function(e={},t){const{type:s,listData:a={}}=t;switch(s){case r.INITIAL_STATE:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.UNDO_MOVE_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.SEARCH_LIST_ITEMS_RECEIVED:{const{attachmentIdToMessageIdMap:t={}}=a;return Object.keys(t).length?{...e,...t}:e}default:return e}},rs=[],os=(0,zt.createSelector)((e=>e),((e={})=>{const t=Object.keys(e).reduce(((t,s)=>{const a=e[s];return{...t,[a]:(t[a]||[]).concat(s)}}),{});return{attachmentsByMessageId:e=>t[e]||rs,getMessageIdForAttachmentId:t=>e[t]}}));const is=function(e=!0,t){switch(t.type){case r.ONLINE_STATUS_CHANGED:return t.online}return e};var ls=s(3405),cs=s(92559);const ds=e=>e.name===o.n8z.TODAYPAGE||e.name===o.n8z.FOLDER||e.name===o.n8z.CONTACTS||e.name===o.n8z.SUBSCRIPTION_LIST||(0,z.rB)(e)||(0,z.kC)(e);const _s=function(e=[],t){if(t.route&&t.route.query.fullscreen)return e;switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return[...e,t.route];case r.POP_OUT_COMPOSE:return t.route&&-1===[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(t.route.name)?e:e.filter((e=>!(0,ls.Vu)(e,t.route)));case r.CLOSE_PAGE_REQUESTED:return e.filter((e=>!(0,ls.Vu)(e,t.route)));case r.CLOSE_ALL_PAGES_REQUESTED:return e.filter((e=>!(t.pagesToClose||[]).find((t=>(0,ls.Vu)(e,t)))));case r.V3_MESSAGE_SEND_FAILED:{const{pages:s=[]}=t;return s.length?s:e}case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:{const{folderMap:s={}}=t;return e.filter((e=>{if(e.name===o.n8z.MESSAGE_FROM_FOLDER_LIST){const t=(e=>{const{folders:t=e}=Ve.parse(e);return t})((0,i.u9)(e,"params.fid",null));if(t)return s.hasOwnProperty(t)}return!0}))}case r.MESSAGE_GROUP_WITH_BODIES_FAILED:{const{messageGroupId:s}=t;return e.filter((e=>{var t;return!(e.name===o.n8z.MESSAGE_FROM_SEARCH_LIST&&(null===(t=e.params)||void 0===t?void 0:t.groupId)===s)}))}default:{if(t.pages&&t.pages!==e)return t.pages;if(t.route===t.previousRoute)return e;const{tabsToRemove:s=[],i13nModel:a={}}=t;if(-1!==[cs.JE.ATTACHMENT_PREVIEW_IMAGE_CLOSE,cs.JE.ATTACHMENT_PREVIEW_DOCUMENT_CLOSE].indexOf(a.mKey)&&"1"===t.previousRoute.query.messagePreview){const s=e.filter((e=>!((0,ls.Vu)(e,t.previousRoute)||t.route.name===o.n8z.SEARCH&&(0,ls.Vu)(e,t.route))));return[t.route,...s]}if(ds(t.route)){const s=e.filter((e=>!ds(e)));return[t.route,...s]}return-1!==e.findIndex((e=>(0,ls.Vu)(e,t.route)))?e.map((e=>(0,ls.Vu)(e,t.route)?t.route:e)):t.replaceRoute||t.previousRoute.name===t.route.name&&!t.forceNewPage&&!1!==t.replaceRoute?e.map((e=>(0,ls.Vu)(e,t.previousRoute)?t.route:e)):s.length>0?[...e.filter((e=>-1===s.findIndex((t=>(0,ls.Vu)(t,e))))),t.route]:[...e,t.route]}}},Es=(e={},t)=>{switch(t.type){case r.READ_CHANGE_REQUESTED:case r.RECENT_AND_READ_CHANGE_REQUESTED:case r.STAR_CHANGE_REQUESTED:case r.MOVE_ITEMS_REQUESTED:case r.UNDO_MOVE_AND_READ_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.UNDO_MOVE_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:return t;case r.UPDATE_ITEMS_SUCCEEDED:case r.UPDATE_ITEMS_FAILED:return{};default:return e}};const us=function(e={},t){switch(t.type){case r.MESSAGE_PRINT_REQUESTED:{const s=(0,$t.gc)(t)+"-"+t.actionTimestamp;return{...e,[s]:{printId:s,isPrinted:!1,printType:o.cqM.MESSAGE,messageId:t.messageId}}}case r.MESSAGE_PRINT_SUCCEEDED:{const{printId:s}=t,a=e[s];return{...e,[s]:{...a,isPrinted:!0}}}case r.MESSAGE_PRINT_CLOSED:case r.MESSAGE_PRINT_CANCELED:return M()(e,t.printId);case r.PRINT_ALL_CONTACTS_REQUESTED:{const s="contactsPrint-"+t.actionTimestamp;return{...e,[s]:{isPrinted:!1,printId:s,printType:o.cqM.CONTACTS}}}case r.FETCH_ALL_CONTACTS_SUCCESS:{const{contacts:s=[]}=t;if(s.length>0)return e;const a=Object.keys(e).filter((t=>e[t].printType===o.cqM.CONTACTS));return M()(e,a)}case r.FETCH_ALL_CONTACTS_FAILED:{const t=Object.keys(e).filter((t=>e[t].printType===o.cqM.CONTACTS));return M()(e,t)}}return e},ms=(e,t)=>{const{potentialSavings:s,price:a,currency:n,orderedItems:r,sellerName:o,broker:i}=e.schemaCards[t];let{orderDate:l}=e.schemaCards[t];if(!l){const s=Object.keys(e.messageIdToSchemaIdsMap).find((s=>e.messageIdToSchemaIdsMap[s].find((e=>e.id===t)))),a=e.messages[s].headers&&e.messages[s].headers.date;l=a?new Date(1e3*parseInt(String(a),10)).toISOString():`${(new Date).getFullYear()}-01-01T00:00:00Z`}return{potentialSavings:s,price:a,currency:n,orderedItems:r,orderDate:l,sellerName:o,broker:i}};var Ss=s(27955),ps=s.n(Ss);const Cs=(0,a.combineReducers)({status:function(e=o.DAQ.DOES_NOT_EXIST,t){switch(t.type){case r.RECENT_SEARCHES_SUCCEEDED:return o.DAQ.LOADED;case r.RECENT_SEARCHES_FAILED:return o.DAQ.ERROR}return e},recentSearches:function(e=[],t){switch(t.type){case r.RECENT_SEARCHES_SUCCEEDED:return t.recentSearches.map((e=>({query:ps()(e.query)})));case r.SEARCH_LIST_ITEMS_RECEIVED:case r.COUPONS_LIST_SUCCEEDED:if(!0===t.addToRecentSearch){const s=(0,z.Q7)(t.listId);return[{query:s},...e.filter((e=>e.query!==s))]}break;case r.DELETE_RECENT_SEARCH_REQUESTED:return e.filter((e=>e.query!==t.query))}return e}});const As=(0,a.combineReducers)({routesConfig:function(e=[],t){switch(t.type){case r.LAUNCH_PAGE_REQUESTED:return t.routesConfig}return e},route:function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:return t.route;default:return t.route&&e===t.route?e:t.route||e}},hashParams:function(e={},t){switch(t.type){case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:return t.hashParams||e}return e},mrdParams:function(e={},t){switch(t.type){case r.INITIAL_STATE:return t.mrdParams||e;case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:return{}}return e},uiContext:function(e={},t){switch(t.type){case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:case r.OPEN_COMPACT_COMPOSE:return t.i13nModel||t.uiContext||e}return e}});var Ts=s(83521);const Is=(0,a.combineReducers)({suggestions:function(e={},t){switch(t.type){case r.SUGGESTIONS_RECEIVED:return{...e,[(0,v.UP)(t.query)]:(e[(0,v.UP)(t.query)]||[]).concat(t.suggestions)};case r.YAI_SUGGESTIONS_RECEIVED:return{...e,[(0,v.UP)(t.query)]:t.suggestions};case r.DELETE_ITEMS_REQUESTED:{const{itemsToUpdate:s=[]}=t,a={},n=s.filter((e=>e.isAffected)).map((({messageId:e})=>e));return n.length?(Object.keys(e).forEach((t=>{a[t]=(e[t]||[]).filter((e=>{const t=(0,i.u9)(e,"entities.emailSuggestion.messageId");return!t||n.indexOf(t)<0}))})),a):e}}return e},yaiAnswer:function(e={},t){const{route:s}=t,a=(0,z.LY)(s);switch(t.type){case r.YAI_SEARCH_CONSUME_SUCCEEDED:return{...e,[a]:t.response.result}}return e},status:function(e={},t){switch(t.type){case r.YAI_SEARCH_CONSUME_REQUESTED:return{...e,[t.question]:o.DAQ.LOADING};case r.YAI_SEARCH_CONSUME_SUCCEEDED:return{...e,[t.query]:o.DAQ.LOADED};case r.YAI_SEARCH_CONSUME_FAILED:return{...e,[t.query]:o.DAQ.ERROR}}return{...e}}});const hs=(0,a.combineReducers)({settingsApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},blockedSendersApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case r.SETTINGS_BLOCKED_SENDERS_RECEIVED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return o.DAQ.LOADED;case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case r.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return o.DAQ.ERROR;default:return e}},filtersAndBlockedSendersApiCallStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:return o.DAQ.LOADED;case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return o.DAQ.ERROR;default:return e}},humanReadableConsentUpdated:(e=!1,t)=>{switch(t.type){case r.SETTINGS_CHANGE_SUCCEEDED:if(t.requestActionPayload){const{name:e}=t.requestActionPayload;if(e===o.Zrf.CONSENT_EVENTS)return!0}return e;default:return e}},autoForwardAllowedAttributeStatus:(e=o.DAQ.LOADING,t)=>{switch(t.type){case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:return o.DAQ.LOADED;case r.POST_LAUNCH_SYNC_FAILED:case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:return o.DAQ.ERROR;default:return e}},peopleIKnowPreference:(e=!1,t)=>{switch(t.type){case r.INITIAL_STATE:case r.SETTINGS_PEOPLE_I_KNOW_FETCH_SUCCEEDED:case r.SETTINGS_PEOPLE_I_KNOW_CHANGE_SUCCEEDED:case r.SETTINGS_PEOPLE_I_KNOW_CHANGE_REQUESTED:var s;return null!==(s=t.isPeopleIKnowEnabled)&&void 0!==s&&s;default:return e}},rightRailCommerceApiCallStatus:(e=!1,t)=>{const{type:s,rightRailCommerceCardsApiLoaded:a=!1}=t;switch(s){case r.MESSAGE_BODIES_RECEIVED:case r.CHANGE_FOLDER_SUCCEEDED:case r.RIGHT_RAIL_IC_DEALS_RECEIVED:case r.RIGHT_RAIL_IC_PRODUCTS_RECEIVED:return a||e;default:return e}},haveAllThemesRenderedSetting:(e=!1,t)=>{const{type:s,haveAllThemesRendered:a=!1}=t;switch(s){case r.UPDATE_ALL_THEMES_RENDERED:return a;default:return e}},themeOrThemeModeUpdated:(e=!1,t)=>{const{type:s,isThemeUpdated:a=!1}=t;switch(s){case r.THEME_CHANGE_SUCCEEDED:case r.THEME_MODE_CHANGE_SUCCEEDED:return a;default:return e}},stickyOnboardingExpandedState:(e=o.bA8.DEFAULT,t)=>{const{type:s,stickyOnboardingExpanded:a=o.bA8.DEFAULT}=t;switch(s){case r.UPDATE_STICKY_ONBOARDING_EXPANSION:return a;default:return e}}}),gs=(0,a.combineReducers)({authWindow:(e={},t)=>{switch(t.type){case r.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case r.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:case r.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:case r.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:return{url:t.url,provider:t.provider};case r.SETTINGS_CHANGE_REQUESTED:if(e.provider&&(t.name===o.Zrf.THEME||t.name===o.Zrf.THEME_MODE))return{url:void 0,provider:void 0};break;case r.OPEN_PAGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.SOCIAL_ACCOUNTS_CONNECT_FAILED:case r.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:case r.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:case r.CLOUD_STORAGE_ACCOUNT_CONNECT_FAILED:case r.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return{url:void 0,provider:void 0}}return e}});var Os=s(85262);const Ds=(0,a.combineReducers)({subjects:function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:{const s=(0,i.u9)(t,"listData.subjects",{}),a=function(e,t={}){return Object.keys(t).reduce(((s,a)=>{const n=Object.keys(t[a])[0],r=(0,z.d0)(n);if(!e[a]||e[a][r]!==t[a][n]){const o=(0,Jt.bR)(t[a][n]);s[a]={...e[a],[r]:t[a][n],[z.wb]:o}}return s}),{})}(e,s);return Object.keys(a).length?{...e,...a}:e}default:return e}},snippets:function(e={},t){switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.UNDO_MOVE_SUCCEEDED:case r.CHECK_MAIL_RECEIVED_WITH_UPDATES:case r.CHANGE_FOLDER_SUCCEEDED:case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case r.SEARCH_LIST_ITEMS_RECEIVED:case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.MESSAGE_AUTO_SAVE_SUCCEEDED:case r.MESSAGE_SAVE_SUCCEEDED:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_SUCCEEDED:{const s=(0,i.u9)(t,"listData.snippets",{}),a=function(e,t={}){return Object.keys(t).reduce(((s,a)=>{const n=Object.keys(t[a])[0],r=(0,z.d0)(n);return e[a]&&e[a][r]===t[a][n]||(s[a]={...e[a],[r]:t[a][n]}),s}),{})}(e,s);return Object.keys(a).length?{...e,...a}:e}default:return e}}});var Rs=s(45578),Ns=s.n(Rs),Ls=s(44908),fs=s.n(Ls);var Ms=s(22762),Ps=s.n(Ms);const bs=(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n,accountId:i,updatedProperties:l,warnOnClose:c=!0}=s;switch(a){case r.FETCH_PRIMARY_ACCOUNT:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s})=>({type:o.sKi.FETCH_PRIMARY_ACCOUNT,hash:`FETCH_PRIMARY_ACCOUNT_DATA_HASH-${s}`,id:e,timestamp:s,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:i,updatedProperties:l,actionTimestamp:n}));case r.ACCOUNT_DETAILS_CHANGE_REQUESTED:return e.concat((({accountId:e,updatedProperties:t,actionTimestamp:s,warnOnClose:a})=>({type:o.sKi.ACCOUNT_TO_UPDATE,hash:`UPDATE_ACCOUNT_UNSYNCED_DATA_HASH-${s}`,id:e,timestamp:s,warnOnClose:a,userInputtedValues:{accountId:e,updatedProperties:t,requestTimestamp:s}}))({accountId:i,updatedProperties:l,actionTimestamp:n,warnOnClose:c}));default:return e}},ys=(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.ACCOUNT_DETAILS_CHANGE_SUCCEEDED:case r.ACCOUNT_DETAILS_CHANGE_FAILED:return e.filter((e=>!(e.userInputtedValues.accountId===a.accountId&&e.userInputtedValues.requestTimestamp<=a.requestTimestamp)))}return e};function vs({baseName:e,domain:t}){return o.sKi.BASENAME_TO_CREATE+e+t}const Fs=(e=[],{getAction:t})=>{const{type:s,category:a,actionTimestamp:n}=t();switch(s){case r.CATEGORY_FOLLOW_REQUESTED:case r.CATEGORY_UNFOLLOW_REQUESTED:{const t=s===r.CATEGORY_FOLLOW_REQUESTED?o.sKi.FOLLOW_CATEGORY:o.sKi.UNFOLLOW_CATEGORY;return e.concat({id:t,hash:`${t}-${a.id}`,timestamp:n,type:t,userInputtedValues:{category:a}})}default:return e}},Us=(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,category:n={}}=t(),{id:i=""}=n;switch(a){case r.CATEGORY_FOLLOW_SUCCEEDED:case r.CATEGORY_FOLLOW_FAILED:case r.CATEGORY_UNFOLLOW_SUCCEEDED:case r.CATEGORY_UNFOLLOW_FAILED:return[];case r.LAUNCH_COMPLETED:return e.filter((()=>s(o.ANe.DEALS)));default:return e.filter((()=>s(o.ANe.DEALS)&&i))}},ks=(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,cardMid:n="",mailboxId:i="",messageDecosPayloads:l,listId:c}=t();switch(a){case r.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({id:o.sKi.SAVE_COUPONS,hash:n+i,timestamp:s,type:o.sKi.SAVE_COUPONS,userInputtedValues:{clipping:!0,cardMid:n,mailboxId:i,messageDecosPayloads:l,listId:c}});case r.COUPONS_REMOVE_TAG_DECO_REQUESTED:return e.concat({id:o.sKi.UNSAVE_COUPONS,hash:n+i,timestamp:s,type:o.sKi.UNSAVE_COUPONS,userInputtedValues:{clipping:!1,cardMid:n,mailboxId:i,messageDecosPayloads:l,listId:c}});default:return e}},ws=(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.COUPONS_ADD_TAG_DECO_SUCCEEDED:case r.COUPONS_ADD_TAG_DECO_FAILED:case r.COUPONS_REMOVE_TAG_DECO_SUCCEEDED:case r.COUPONS_REMOVE_TAG_DECO_FAILED:return[];default:return e}},Gs=(e,t,s=[])=>`${e}-${t}-${s.join("")}`,Hs=(e,t)=>{const{actionTimestamp:s,listId:a,count:n}=t;return e.concat([{type:o.sKi.CONTACTS_LIST,hash:a,timestamp:s,userInputtedValues:{listId:a,count:n}}])},Bs=(e,t,s,a={})=>{const{getContactListSelectors:n}=t,{getCurrentFilter:r,getSelectedGroup:i,getContactsSortOrder:l}=n(),c=a.listFilter||r(),d=a.selectedGroup||i(c);let _;if(d&&(d+"").includes("temp:"))return e;c!==o.ukn.GROUPS||d||(_=!0);const E=(0,z.uh)(c,d),u={listId:E,count:void 0!==a.count?a.count:(e=>{switch(e){case o.ukn.TOP_CONTACTS:return o.Ojf;case o.ukn.GROUPS:return o.xmI}return o.Weh})(c),sortOrder:a.sortOrder?a.sortOrder:l()};return _&&(u.fetchGroupContactsNext=_),e.concat([{type:o.sKi.CONTACTS_LIST,hash:E,timestamp:s,userInputtedValues:u}])},xs=e=>e.map((({id:e})=>e)).join();function Vs({fromEmail:e,syncThrottle:t,action:s}){return{id:e,hash:e,timestamp:s.actionTimestamp,type:o.sKi.IMPORTANT_CONTACTS_FETCH,userInputtedValues:{fromEmail:e,listId:(0,z.yv)(e)},...t?{syncThrottle:t}:{}}}var Zs=s(78263);var Ws=s(42490);const Ks=(e,t)=>`${e}-${t}`,zs=({listId:e,isStale:t=!1},s)=>{const{getAction:a}=s,{actionTimestamp:n}=a();return{type:o.sKi.LIST_TO_UPDATE,id:e,hash:e,timestamp:n,userInputtedValues:{listId:e,isStale:t}}};var Ys=s(95357);const js="sports_and_outdoors",qs=(e=[],t="",s,a)=>{const{getMessageIdsFromMessageGroupId:n,getListsSelectors:r,getGroupIdContainingMessageId:i,getSetting:l,getFalconTOMSubscriptionSelectors:c,getCurrentListId:d,getMessagesSelectors:_,isFeatureEnabled:E,__getMessage:u,getMessageSubject:m}=a,{getMessageId:S}=_(),p=e;let C,A,T=[];t&&T.push(t);const I=d(),{getItemIdsSelectors:h}=r(),{getItemIds:g}=h(I),O=g(),D=l(o.Zrf.FALCON_TOM_SUBSCRIPTIONS_PREFETCH_COUNT);p.forEach(((e,t)=>{const a=i(e);0===t&&s!==o.YMA.LAUNCH&&(C=a,A=e);const n=O.indexOf(a),r=O.filter((e=>{const t=O.indexOf(e);return t!==n&&t<=n+D&&t>=n-D}));T=T.concat(r).concat(a)})),T=Array.from(new Set(T));let R=[],N=[],L=!0;return T.forEach((e=>{const t=n(e)[0],s=t&&S(t),a=s&&m(s)||"",r=s&&u(s),{decos:i,schemaOrg:l}=r||{},{getFalconTOMSubscriptionByGroupId:d}=c();if(!d(e)){if(E(o.ANe.FALCON_TOM_ARBITRATION_ENABLED)){const e=(0,le.getHash)(t+o.Q_q),s=parseInt(e,16)/4294967295,a=(0,le.generateRandomInteger)({min:0,max:20,randomSeed:s});L=0===a}L||(({decos:e=[],schemaOrg:t=[]})=>{const s=[o.Jd6.PE,o.Jd6.PKG,o.Jd6.TR,o.Jd6.CPN];return!(0,Le.m3)(e,s,!1)&&!!(t||[]).find((({schema:e={}}={})=>(null==e?void 0:e["@type"])===o.rgK.EmailMessage&&((null==e?void 0:e.category)||[]).find(((e={})=>e.topic===js||"SpiceCategory"===e["@type"]&&(e.topics||[]).find((({name:e})=>e===js))))))})({decos:i,schemaOrg:l})||(({msgSubject:e})=>!!e&&Ge(e))({msgSubject:a})?R=R.concat(e):N=N.concat(e)}})),{ineligibleFalconTOMGroupIds:N,eligibleFalconTOMGroupIds:R,openedGroupId:C,openedMessageId:A}},Xs=(e=[],t,s=!1,a="")=>{const{getAction:n,isSpamMessage:i,isFeatureEnabled:l,getMessageBodyRetryCount:c,isMobileRoute:d,getFeatureCueSelectors:_,getMessageIdsFromMessageGroupId:E,getMessagesSelectors:u}=t,{isCertifiedDomain:m,isOfficialDomain:S}=u(),{isShown:p}=_(),C=!l(o.ANe.CONVERSATIONS)||l("fetchFullBody");let A=!l(o.Zrf.SHOW_IMAGES);const T=l(o.ANe.INLINE_IMAGES_PROXIED),I=a?(E(a)||[])[0]:"";if(d()){const e=p(o.ANe.MOBILE_PAC_NOTIFICATION_CUE)&&!l(o.ANe.INLINE_IMAGES_PROXIED);A=A&&(!!e||!p(o.ANe.MOBILE_PAC_NOTIFICATION_CUE))}else A=A&&!T;const{isFallback:h=!1,actionTimestamp:g,secure:O=!0,full:D=C,type:R}=n();let N=null;return s&&(N=R===r.LAUNCH_COMPLETED?o.YMA.LAUNCH:R===r.CHECK_MAIL_RECEIVED_WITH_UPDATES?o.YMA.CHECK_MAIL:o.YMA.NEIGHBOR),e.map((e=>{const t=m(e)||S(e),s=O&&!t&&(i(e)||A),a=c(e);return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e+D+s,timestamp:g,userInputtedValues:{messageId:e,secure:s,full:D,isFallback:h,prefetchMode:N,retryCount:a,isFirstMessageId:I===e}}}))},Qs=(e,t)=>{const{getAction:s,getFoldersSelectors:a,getCurrentListId:n,isFeatureEnabled:r}=t,{isSpamFolder:i}=a(),{actionTimestamp:l,full:c,secure:d=!0}=s(),_=!r(o.Zrf.SHOW_IMAGES)&&!r(o.ANe.INLINE_IMAGES_PROXIED),E=n(),u=(0,z.Fh)(E),m=void 0!==u&&i(u);return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:l,userInputtedValues:{messageGroupId:e,full:c,secure:d&&(m||_)}}},Js=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:a,isDraftMessage:n,isSentMessage:r,getMessageFlags:i,doesMessageBodyExist:l,getHashParams:c,getCurrentListId:d,getStreamsSelectors:_,getMessageCsid:E,isFeatureEnabled:u}=t,m=a(e)||[],S=m.filter((e=>!n(e))),p=S[S.length-1],C=S[0],A=(c()||{}).messageId,T=d(),I=(0,Zs.k3)(T,e),{doesExpansionStateExist:h,getExpansionStateForStreamItem:g}=_(),O=[],D=u(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)||u(o.ANe.DISPLAY_BIMI);h(I)&&m.forEach((e=>{const t={streamId:I,csid:E(e),listId:(0,z.tE)(T,{listContentType:o.F6k.MESSAGE})},s=g(t);s!==o.Lvq.EXPANDED&&s!==o.Lvq.TEMPORARY_EXPANSION||O.push(e)}));const R=m.filter((e=>e===A||r(e)||n(e)||e===p||D&&e===C||i(e).flagged||!i(e).read||-1!==O.indexOf(e)));return(s?R.slice(0,2):R).filter((e=>!l(e)))},$s=(e=[],t,s)=>{const{doesMessageGroupIdExist:a}=t;return e.reduce(((e,n)=>{if(a(n)){const a=Js(n,t,s);return e.concat(Xs(a,t,s,n)).concat(((e,t)=>{const{getAction:s,getSetting:a,getListsSelectors:n,doesMessageGroupIdExist:r,doesListExist:i}=t,l=s().listId;if(!l||!i(l)||(0,z.WN)(l)!==o.F6k.MESSAGES)return[];const{getItemIdsSelectors:c}=n(),d=a(o.Zrf.NEIGHBOR_PREFETCH_COUNT);if(0===d)return[];const _=c(l).getItemIds(),E=_.indexOf(e);return _.filter((e=>{const t=_.indexOf(e);return t!==E&&t<=E+d&&t>=E-d})).reduce(((e,s)=>{if(r(s)){const a=Js(s,t,!0);return e.concat(Xs(a,t,!0,s))}return e.concat(Qs(s,t))}),[])})(n,t))}return e.concat(Qs(n,t))}),[])},ea=[r.READ_CHANGE_REQUESTED,r.RECENT_AND_READ_CHANGE_REQUESTED,r.STAR_CHANGE_REQUESTED,r.MOVE_ITEMS_REQUESTED,r.MOVE_AND_READ_CHANGE_REQUESTED,r.DELETE_ITEMS_REQUESTED,r.UNDO_MOVE_REQUESTED,r.UNDO_MOVE_AND_READ_REQUESTED,r.BLOCK_SENDERS_WITH_DELETE_REQUESTED],ta=[r.UPDATE_ITEMS_SUCCEEDED,r.UPDATE_ITEMS_FAILED,r.BULK_PROGRESS_INITIATED,r.UNDO_MOVE_SUCCEEDED,r.UNDO_MOVE_FAILED],sa={[r.READ_CHANGE_REQUESTED]:o.oc$.READ,[r.STAR_CHANGE_REQUESTED]:o.oc$.STAR,[r.MOVE_ITEMS_REQUESTED]:o.oc$.MOVE,[r.DELETE_ITEMS_REQUESTED]:o.oc$.MOVE,[r.UNDO_MOVE_REQUESTED]:o.oc$.MOVE,[r.BLOCK_SENDERS_WITH_DELETE_REQUESTED]:o.oc$.MOVE},aa={[o.oc$.READ]:"read",[o.oc$.STAR]:"flagged",[o.oc$.SPAM]:"spam",[o.oc$.HAM]:"spam",[o.oc$.ANSWER]:"answered",[o.oc$.FORWARD]:"forwarded",[o.oc$.RECENT]:"recent"},na=(e,t)=>t.isSpamMove?o.oc$.SPAM:t.isHamMove?o.oc$.HAM:t.permanentDelete?o.oc$.DELETE:sa[e],ra=(e,t)=>e===r.RECENT_AND_READ_CHANGE_REQUESTED?{[o.oc$.READ]:t,[o.oc$.RECENT]:t}:e===r.MOVE_AND_READ_CHANGE_REQUESTED||e===r.UNDO_MOVE_AND_READ_REQUESTED?{[o.oc$.READ]:t,[o.oc$.MOVE]:t}:{[na(e,t)]:t},oa=(e=[],t)=>e.filter((e=>e.isAffected)).map((e=>((e,t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();return{type:o.sKi.MESSAGE_ITEM_TO_UPDATE,id:e.messageId||e.messageQueryId||e.messageQuery,hash:`${e.messageId||e.messageQueryId||e.messageQuery}-${n}`,timestamp:n,warnOnClose:!0,userInputtedValues:ra(a,e)}})(e,t))),ia=(e,t)=>{const{messageItemsToSync:s=[],itemsToUpdate:a=[],type:n}=e,l=[...s,...a].find((e=>e.id===t.id||e.messageId===t.id)),{userInputtedValues:c={}}=t;if(((e,{type:t,triageActionType:s,id:a,checkForPermDelete:n})=>!(void 0!==t&&e.type!==t||void 0!==s&&e.triageActionType!==s||(0,i.u9)(e,"itemsToUpdate.0.messageId")===a||(0,i.u9)(e,"itemsToUpdate.0.messageQuery")===a||!n||!(0,i.u9)(e,"itemsToUpdate.0.permanentDelete")))(e,{type:r.DELETE_ITEMS_REQUESTED,triageActionType:o.Ewo.DELETE_FOLDER_ITEMS,id:t.id,checkForPermDelete:!0}))return((e,t)=>{const{userInputtedValues:s={}}=e;return{...e,userInputtedValues:Object.keys(s).reduce(((e,a)=>{const n=s[a];return t(n)?{...e,[a]:n}:e}),{})}})(t,(e=>(0,i.u9)(e,"folder.id")!==(0,i.u9)(a[0],"folder.id")));if(!l)return t;switch(n){case r.UPDATE_ITEMS_SUCCEEDED:case r.UPDATE_ITEMS_FAILED:case r.BULK_PROGRESS_INITIATED:case r.UNDO_MOVE_SUCCEEDED:case r.UNDO_MOVE_FAILED:return{...t,userInputtedValues:M()(c,l.updateTypes)}}return t},la=(e,t)=>{const{getAction:s,getFeaturesSelectors:a,getRoute:n}=t,l=a().getSetting("bulkActionDialogThreshold");return((e,t)=>e.type===r.OPEN_PAGE_REQUESTED&&(0,z.LY)(t)!==(0,z.LY)(e.route))(s(),n())||e.length>=l||e.some((e=>{const t=Object.keys(e.userInputtedValues),s=(0,i.VO)(e.userInputtedValues);return t.some((e=>e!==o.oc$.READ))||s.some((e=>!!e.messageQuery))}))},ca=({accountId:e,updatedSettingAttributes:t,actionTimestamp:s,aolSettingsMigration:a})=>({type:o.sKi.SETTINGS_TO_CHANGE,hash:o.sKi.SETTINGS_TO_CHANGE,timestamp:s,userInputtedValues:{accountId:e,updatedSettingAttributes:t,requestTimestamp:s,aolSettingsMigration:a}}),da=(e,t=!1)=>{const s={type:o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:e,userInputtedValues:{retryCount:6}};return t&&(s.syncThrottle=1200),s},_a=e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.CONTACTS},Ea=({unsyncedData:e,action:t,enable:s=!0})=>{const{provider:a,actionTimestamp:n}=t,r=o.ZUn[a];return e.concat({type:o.sKi.SOCIAL_ACCOUNT_IMPORT,hash:a+(s?"_enable":"_disable"),timestamp:n,userInputtedValues:{provider:a,spid:r,enable:s}})},ua=({timestamp:e})=>[{type:o.sKi.SOCIAL_ACCOUNT_STATUS,hash:"ALL_PROVIDERS",timestamp:e}],{INVALID:ma,PRE_SIGNUP_LIGHTBOX:Sa,PRE_SIGNUP_LEFT_PANEL_3:pa,POST_SIGNUP_THANKYOU_TOAST:Ca,FREE_TRIAL_EXPIRED_NOTIFICATION:Aa}=o.$AH;function Ta(e){const{actionTimestamp:t}=e;return{type:o.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS,hash:"LIST_MAILPRO_SUBSCRIPTIONS_HASH",timestamp:t}}const Ia=e=>({type:o.sKi.FETCH_CLOUD_STORAGE_PROVIDERS,hash:"CLOUD_STORAGE_ACCOUNTS",timestamp:e}),ha=[o.ANe.FETCH_AFFILIATE_RETAILERS,o.ANe.SHOW_USER_FOLLOWED_CATEGORIES,o.ANe.STOREFRONT,o.ANe.SHOW_SEARCH_CONTACT_CARD],ga=(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n,preferenceCode:i}=s();switch(a){case r.UNSUBSCRIBE_MARKETING_PREFERENCES:return[{type:o.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE,hash:"MARKETING_PREFERENCES_TO_UNSUBSCRIBE_HASH",timestamp:n,userInputtedValues:{preferenceCode:i}}];case r.SUBSCRIBE_MARKETING_PREFERENCES:return[{type:o.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE,hash:"MARKETING_PREFERENCES_TO_SUBSCRIBE_HASH",timestamp:n,userInputtedValues:{preferenceCode:i}}];default:return e}},Oa=(e,t)=>{const{getAction:s}=t,{type:a}=s();switch(a){case r.MARKETING_PREFERENCES_WRITE_SUCCEEDED:case r.MARKETING_PREFERENCES_WRITE_FAILED:return[]}return e};var Da=s(85671);const Ra="ypmp",Na=(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n,getFeatureCueSelectors:i,getEnvironmentSelectors:l}=t,{actionTimestamp:c,type:d,nextFeature:_,triageActionType:E,destinationFolderId:u,destinationFolderType:m,i13nModel:S,itemsToUpdate:p}=s();switch(d){case r.LAUNCH_COMPLETED:{if(!a(o.ANe.DISPATCHER_UPSELLS)&&!a(o.ANe.DISPATCHER_UPSELLS_ELIGIBLE)||_&&_!==o.ANe.DISPATCHER_UPSELLS||!(0,Da.l)({stateSelectors:t}))break;const e=l(),s=a(o.ANe.USE_DISPATCHER_CLIENT),r=a(o.ANe.SCOUT_RECURRING),d=i().getRecurringInterval(o.ANe.DISPATCHER_UPSELLS);if(!(!r||(0,Ue.A8)({attribute:n(o.Zrf.SCOUT_ONBOARDING),key:o.ANe.DISPATCHER_UPSELLS,recurringInterval:d})))break;let E={selectedOfferId:n(o.Zrf.SELECTED_SUBSCRIPTION_UPSELL)||""};if(s){const t=n(o.Zrf.MARKETING_PREFERENCES_SETTING)||{},r=e.getOS(),i=Object.keys(t).filter((e=>e.startsWith("yp")));t[Ra]||a(o.ANe.MAIL_PRO_ELIGIBLE)||i.push(Ra),E={...E,optOutCodes:i,clientos:r,useDispatcherClient:s}}else E.placementname=n(o.Zrf.MAIL_OVERLAY_PLACEMENT);return[{type:o.sKi.DISPATCHER_UPSELLS,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:E}]}case r.MOVE_ITEMS_REQUESTED:{if(!a(o.ANe.SPAM_TOUCHPOINT)||_&&_!==o.ANe.TOUCHPOINT_UPSELL)break;if(!(()=>m===o.Sck.BULK&&E===o.Ewo.MOVE_SELECTED_ITEMS||u===o.RfP.SPAM&&E===o.Ewo.MOVE_SELECTED_ITEMS||[o.Ewo.SPAM_ALL_ITEMS,o.Ewo.SPAM_SELECTED_ITEMS].includes(E))())break;const e=({mKey:e}={})=>[cs.JE.TOOLBAR_SPAM,cs.JE.PHISHING_BANNER_SPAM,cs.JE.SPAM_INDICATOR_SPAM,cs.JE.SPAM_UNSUB_DIALOG_SPAM].includes(e)?e:cs.JE.TOOLBAR_SPAM,t={message:{headers:{from:null==p?void 0:p.reduce(((e,t)=>t.fromAddresses?[...e,...t.fromAddresses]:e),[])}}};return[{type:o.sKi.TOUCHPOINT_UPSELL,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:{placementname:n(o.Zrf.SPAM_TOUCHPOINT_PLACEMENT),coreAction:e(S),contextPayload:t}}]}case r.UNSUBSCRIBE_BY_EMAIL_REQUESTED:case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:{if(!a(o.ANe.UNSUBSCRIBE_TOUCHPOINT)||_&&_!==o.ANe.TOUCHPOINT_UPSELL)break;const{email:e,subscriptions:t}=s(),n=({mKey:e}={})=>[cs.JE.TOOLBAR_UNSUBSCRIBE,cs.JE.UNSUB_CONFIRM,cs.JE.SPAM_UNSUB_DIALOG_UNSUB].includes(e)?e:cs.JE.TOOLBAR_UNSUBSCRIBE,i=d===r.UNSUBSCRIBE_BY_EMAIL_REQUESTED?{subscriptions:[{domain:(0,le.isValidEmail)(e)?(0,le.destructEmailAddressParts)(e).domainPart:"",fromEmail:e}]}:{subscriptions:t.map((e=>({domain:e.domain,fromEmail:e.fromEmail,subid:e.subid})))};return[{type:o.sKi.TOUCHPOINT_UPSELL,hash:"ALL_UPSELLS",timestamp:c,userInputtedValues:{placementname:"mail-tp-unsubscribe-web",coreAction:n(S),contextPayload:i}}]}}return e},La=(e,t)=>{const{getAction:s}=t;switch(s().type){case r.DISPATCHER_UPSELL_FETCH_SUCCEEDED:case r.DISPATCHER_UPSELL_FETCH_FAILED:case r.TOUCHPOINT_UPSELL_FETCH_SUCCEEDED:case r.TOUCHPOINT_UPSELL_FETCH_FAILED:return[]}return e},fa={[r.ACCOUNT_ADD_SUCCEEDED]:o.ANe.PREMIUM_DEA,[r.ACCOUNT_DELETE_SUCCEEDED]:o.ANe.PREMIUM_DEA,[r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:o.ANe.BLOCKED_DOMAINS,[r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:o.ANe.BLOCKED_DOMAINS},Ma={[r.ACCOUNT_ADD_SUCCEEDED]:o.sKi.CONSUME_TASTEMAKER,[r.ACCOUNT_DELETE_SUCCEEDED]:o.sKi.DELETE_TASTEMAKER,[r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED]:o.sKi.CONSUME_TASTEMAKER,[r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED]:o.sKi.DELETE_TASTEMAKER};function Pa(e){const{type:t,actionTimestamp:s}=e,a=Ma[t];return{id:a,hash:a,timestamp:s,type:a,userInputtedValues:{featureName:fa[t]}}}const ba=(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s();if(!a(o.ANe.MAIL_PLUS_TASTEMAKER))return e;switch(n.type){case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:return e.concat(Pa(n));case r.ACCOUNT_DELETE_SUCCEEDED:case r.ACCOUNT_ADD_SUCCEEDED:{const{updatedAccount:t}=n,s=a(o.ANe.PREMIUM_DEA_ALLOWED);return(null==t?void 0:t.type)!==o.tO8.DEA||s?e:e.concat(Pa(n))}default:return e}},ya=(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.TASTEMAKER_CONSUME_SUCCEEDED:case r.TASTEMAKER_CONSUME_FAILED:case r.TASTEMAKER_DELETE_SUCCEEDED:case r.TASTEMAKER_DELETE_FAILED:return[];default:return e}},va=(e=[],{getAction:t})=>{const{actionTimestamp:s,accountId:a,brandId:n="",type:i}=t();switch(i){case r.STOREFRONT_BRAND_FOLLOW_REQUESTED:case r.STOREFRONT_BRAND_UNFOLLOW_REQUESTED:{const t=i===r.STOREFRONT_BRAND_FOLLOW_REQUESTED?o.sKi.FOLLOW_STOREFRONT_BRAND:o.sKi.UNFOLLOW_STOREFRONT_BRAND;return e.concat({id:t,hash:n,timestamp:s,type:t,userInputtedValues:{accountId:a,brandId:n}})}default:return e}},Fa=(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:case r.STOREFRONT_BRAND_FOLLOW_FAILED:case r.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:case r.STOREFRONT_BRAND_UNFOLLOW_FAILED:return[];default:return e}},Ua=(e,t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s(),{actionTimestamp:i=Date.now()}=n;if(!a(o.ANe.YAI_SEARCH))return e;switch(n.type){case r.SEARCH_INPUT_FOCUSED:case r.YAI_SUGGESTIONS_REQUESTED:{const{query:t=""}=n;return[...e,{id:t||o.pnD,type:o.sKi.YAI_SEARCH_SUGGESTIONS_FETCH,timestamp:i,hash:o.sKi.YAI_SEARCH_SUGGESTIONS_FETCH+i,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:t}}]}case r.YAI_SEARCH_CONSUME_REQUESTED:{const{question:t="",mostRelevantcardID:s,keywords:a,qid:r}=n;return[...e,{id:t||o.pnD,type:o.sKi.CONSUME_YAI_SEARCH,timestamp:i,hash:o.sKi.CONSUME_YAI_SEARCH+i,userInputtedValues:{question:t,mostRelevantcardID:s,keywords:a,qid:r}}]}}return e},ka=(e,t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.YAI_SUGGESTIONS_RECEIVED:case r.YAI_SUGGESTIONS_FAILED:case r.YAI_SEARCH_CONSUME_SUCCEEDED:case r.YAI_SEARCH_CONSUME_FAILED:return e.id!==o.pnD&&e.id!==a.query}return!0}))},wa={...{[o.sKi.CONTACTS_IMPORT_CSV]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,name:i,file:l,actionTimestamp:c}=a;switch(n){case r.CONTACTS_CSV_IMPORT_REQUESTED:if(!l)break;return e.concat([{type:o.sKi.CONTACTS_IMPORT_CSV,hash:i+c,timestamp:c,userInputtedValues:{name:i,file:l,unsyncedDataItemTimestamp:c}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY:case r.CONTACTS_CSV_IMPORT_FAILED:return e.filter((e=>e.userInputtedValues.unsyncedDataItemTimestamp!==a.unsyncedDataItemTimestamp))}return e}},[o.sKi.CONTACTS_RESTORE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:i,id:l}=a;switch(n){case r.CONTACTS_RESTORE_REQUESTED:return[{type:o.sKi.CONTACTS_RESTORE,hash:n+i,timestamp:i,userInputtedValues:{snapshotId:l}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.CONTACTS_RESTORE_SUCCEEDED:case r.CONTACTS_RESTORE_FAILED:return[]}return e}},[o.sKi.CONTACTS_SNAPSHOT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getContactListSelectors:a}=t,{getContactRestoreStatus:n}=a(),{snapshots:i,snapshotsStatus:l}=n(),c=s(),{type:d,actionTimestamp:_}=c;switch(d){case r.CONTACTS_RESTORE_CLICKED:return l===o.DAQ.LOADED&&i.length>0?e:[{type:o.sKi.CONTACTS_SNAPSHOT_FETCH,hash:d+_,timestamp:_,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.CONTACTS_SNAPSHOT_FETCH_SUCCEEDED:case r.CONTACTS_SNAPSHOT_FETCH_FAILED:return[]}return e}},[o.sKi.FETCH_ALL_CONTACTS]:{preparer:(e=[],t)=>{const{getAction:s,getListsSelectors:a}=t,n=s(),{type:i,actionTimestamp:l,sortOrder:c}=n,d=(0,z.uh)(o.ukn.PRINT_CONTACTS),{isListAlreadyLoaded:_}=a();switch(i){case r.PRINT_ALL_CONTACTS_REQUESTED:if(!_(d))return[{type:o.sKi.FETCH_ALL_CONTACTS,hash:"print_contacts_hash",timestamp:l,userInputtedValues:{listId:d,sortOrder:c}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.FETCH_ALL_CONTACTS_SUCCESS:case r.FETCH_ALL_CONTACTS_FAILED:return[]}return e}},[o.sKi.CONTACTS_GROUP_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_PANE_CREATE_GROUP_REQUESTED:{const{actionTimestamp:t,tempListId:s,tempGroupId:n,name:r,endpoints:i}=a;return e.concat([{type:o.sKi.CONTACTS_GROUP_CREATE,timestamp:t,hash:s,userInputtedValues:{tempGroupId:n,tempListId:s,name:r,endpoints:i}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_PANE_CREATE_GROUP_SUCCEEDED:case r.CONTACTS_PANE_CREATE_GROUP_FAILED:{const{tempListId:t}=a;return(0,N.Z)(t,"`listId` is a required option"),e.filter((e=>e.hash!==t))}}return e}},[o.sKi.CONTACTS_GROUP_EDIT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_PANE_SAVE_GROUP_REQUESTED:{const{doUpdatesExist:t,actionTimestamp:s,listId:n,groupId:r,newName:i,addedEndpoints:l,removedEndpoints:c,oldGroup:d}=a;if(!t)break;return e.concat([{type:o.sKi.CONTACTS_GROUP_EDIT,timestamp:s,hash:n,userInputtedValues:{groupId:r,listId:n,newName:i,addedEndpoints:l,removedEndpoints:c,oldGroup:d}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_PANE_SAVE_GROUP_SUCCEEDED:case r.CONTACTS_PANE_SAVE_GROUP_FAILED:{const{listId:t}=a;return(0,N.Z)(t,"`listId` is a required option"),e.filter((e=>e.hash!==t))}}return e}},[o.sKi.CONTACTS_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getListsSelectors:n,getActionableRightRailPane:i,isFeatureEnabled:l}=t,{isListAlreadyLoaded:c,getItemIds:d,getTotalHits:_,doesListExist:E}=n(),u=s(),m=a(),{type:S,actionTimestamp:p}=u,C=i()===o._Ab.ContactsPane;switch(S){case r.LAUNCH_COMPLETED:{const s=[o.n8z.CONTACTS,o.n8z.CONTACT_DETAILS,o.n8z.CONTACT_DETAILS_FROM_SEARCH,o.n8z.CREATE_CONTACT,o.n8z.EDIT_CONTACT,o.n8z.EDIT_CONTACT_FROM_SEARCH].indexOf(m.name)>-1,a=l(o.ANe.ENABLE_AOL_CONTACTS_CATEGORIES)?{count:o.xmI}:{};return s?Bs(e,t,p,a):e}case r.OPEN_PAGE_REQUESTED:if(u.name===o.Qk$.CONTACTS_PANE&&C||m.name===o.n8z.CONTACTS)return Bs(e,t,p);break;case r.CONTACTS_PANE_GROUP_CHANGED:case r.CONTACTS_PANE_LIST_FILTER_CHANGED:case r.CREATE_CONTACT_SUCCEEDED:case r.CREATE_CONTACT_FAILED:case r.CONTACT_SAVE_SUCCEEDED:case r.CONTACT_SAVE_FAILED:{const{getContactListSelectors:s}=t,{getCurrentFilter:a,getSelectedGroup:n}=s(),r=a(),o=n(r),i=(0,z.uh)(r,o);return c(i)?e:Bs(e,t,p)}case r.DELETE_CONTACT_FAILED:case r.DELETE_CONTACT_SUCCEEDED:{const{listsToUpdate:s=[]}=u,a=s.filter((({listId:e})=>(0,z.WN)(e)===o.F6k.CONTACTS&&(0,z.h_)(e))).map((({listId:e})=>e))[0]||"";return!E(a)||_(a)!==d(a).length?Bs(e,t,p):e}case r.CONTACTS_GROUP_DELETE_REQUESTED:{const{newGroupId:s}=u;let a={};if(s)return a={selectedGroup:s,ListFilter:o.ukn.GROUPS},Bs(e,t,p,a);break}case r.CONTACTS_PANE_SEARCHED:return Hs(e,u);case r.CONTACTS_FULL_PANE_CONTRACTED:case r.EDIT_CONTACT_FROM_CARD:case r.ADD_TO_CONTACTS:case r.FETCH_ALL_CONTACTS:case r.RIGHT_RAIL_COMMS_ICON_CLICKED:if(S!==r.FETCH_ALL_CONTACTS&&(u.name!==o.Qk$.CONTACTS_PANE||!C))break;return Bs(e,t,p);case r.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:{const{getContactListSelectors:s}=t,{status:a,importCompleteInThisSession:n}=s().getCsvContactImportStatus();if(!C||a!==o.woE.IN_PROGRESS&&!n)break;return Bs(e,t,p)}case r.CONTACTS_SORT_ORDER_CHANGED:{const{sortOrder:s,currentListFilter:a=o.ukn.USER_CREATED_CONTACTS}=u,n={sortOrder:s};if(a===o.ukn.GROUPS)break;return Bs(e,t,p,n)}case r.CONTACTS_PANE_BACK_BUTTON_CLICKED:{const{discardOptimisticSave:s,isCreateView:a}=u;if(s)return a?Hs(e,{...u,listId:(0,z.uh)(o.ukn.GROUPS)}):Bs(e,t,p);break}case r.CONTACTS_LIST_FETCH_SUCCEEDED:{const{fetchGroupContactsNext:s}=u,{getContactListSelectors:a}=t,{getCurrentFilter:n,getSelectedGroup:r}=a(),i=n(),l=r(i);if(!s||i!==o.ukn.GROUPS||!l)break;return Bs(e,t,p)}case r.CONTACT_PICKER_GROUP_CHANGED:case r.CONTACT_PICKER_OPENED:case r.CONTACTS_GROUP_EDIT_EMAIL_SEARCH:return[(0,z.uh)(o.ukn.GROUPS),(0,z.uh)(o.ukn.GROUPS,u.value||o.c8t,u.query)].reduce(((e,t)=>c(t)?e:Hs(e,{...u,listId:t})),e)}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_GROUP_FETCH_SUCCEEDED:case r.CONTACTS_GROUP_FETCH_FAILED:case r.CONTACTS_LIST_FETCH_SUCCEEDED:case r.CONTACTS_LIST_FETCH_FAILED:{const{unsyncedDataType:t,listId:s}=a;if(t!==o.sKi.CONTACTS_LIST||!s)break;return e.filter((({userInputtedValues:e})=>e.listId!==s))}}return e}},[o.sKi.CONTACTS_CATEGORY_LIST]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:i}=a;switch(n){case r.CATEGORY_LIST_EXPANSION_TOGGLED:{const{getStreamsSelectors:s,getListsSelectors:n,getContactListSelectors:r}=t,{doesStreamExist:l,getExpansionStateForStreamItem:c}=s(),{isListAlreadyLoaded:d}=n(),{categoryListId:_,listId:E}=a;if(!(l(E)&&c({streamId:E,listId:E,csid:_})))return e;if(d(_))return e;const u=(0,z.h_)(_),m={listId:E,categoryListId:_,count:o.xmI,characters:[u],sortOrder:r().getContactsSortOrder()};return e.concat([{type:o.sKi.CONTACTS_CATEGORY_LIST,hash:"CATEGORY_CONTACTS_LIST_"+_+m.count,timestamp:i,userInputtedValues:m}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_LIST_FETCH_SUCCEEDED:case r.CONTACTS_LIST_FETCH_FAILED:{const{listId:t,characters:s,count:n,unsyncedDataType:r}=a;if(r!==o.sKi.CONTACTS_CATEGORY_LIST)break;return e.filter((e=>{const{listId:a,characters:r,count:o}=e.userInputtedValues;return a!==t||!p()(s,r)||o!==n}))}}return e}},[o.sKi.CONTACT_DETAILS]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getRelatedListIdByContactId:n}=t,i=a(),l=s(),{actionTimestamp:c}=l;let d;switch(l.type){case r.CONTACTS_PANE_CONTACT_CLICKED:d=n(l.id);break;case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:i.name!==o.n8z.CONTACT_DETAILS&&i.name!==o.n8z.CONTACT_DETAILS_FROM_SEARCH&&i.name!==o.n8z.EDIT_CONTACT||(d=n(i.params.id))}return d?e.concat([{type:o.sKi.CONTACT_DETAILS,hash:d,timestamp:c,userInputtedValues:{listId:d}}]):e},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listData:n={}}=a,{lists:o={}}=n;switch(a.type){case r.SEARCH_LIST_ITEMS_FAILED:return e.filter((e=>e.userInputtedValues.listId!==a.listId));default:return e.filter((e=>!o[e.userInputtedValues.listId]))}}},[o.sKi.CONTACT_SAVE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,oldContact:i,newContact:l,image:c,actionTimestamp:d,skipContactDiffCheck:_}=a;switch(n){case r.CONTACT_SAVE_REQUESTED:if(!i.id||!_&&p()(i,l)&&c)break;return e.concat([{type:o.sKi.CONTACT_SAVE,hash:"CONTACT_SAVE_"+i.id,timestamp:d,userInputtedValues:{newContact:l,oldContact:i,skipContactDiffCheck:_}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACT_SAVE_SUCCEEDED:case r.CONTACT_SAVE_FAILED:{const{id:t,deletedContactId:s}=a.contact,n=s||t;return e.filter((e=>e.userInputtedValues.oldContact.id!==n))}}return e}},[o.sKi.CONTACT_PHOTO_UPLOAD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,oldContact:n={},image:i,actionTimestamp:l}=s();switch(a){case r.CONTACT_SAVE_REQUESTED:if(!i||!n.id)break;return e.concat({type:o.sKi.CONTACT_PHOTO_UPLOAD,hash:"CONTACT_PHOTO_UPLOAD_"+n.id,timestamp:l,userInputtedValues:{id:n.id,editToken:n.editToken,image:i}})}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACT_PHOTO_UPLOAD_SUCCEEDED:case r.CONTACT_PHOTO_UPLOAD_FAILED:return e.filter((e=>e.userInputtedValues.id!==a.contact.id))}return e}},[o.sKi.SOCIAL_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.IMPORT_EMAIL_PROVIDER_CONTACTS_REQUESTED:case r.SOCIAL_ACCOUNTS_CONNECT_REQUESTED:{const{provider:s,actionTimestamp:n}=a;return(({provider:e,stateSelectors:t,unsyncedData:s,timestamp:a})=>{const{isFeatureEnabled:n,getSetting:r}=t;let i=o.ZUn[e],l=o.ylH[e];return n(o.ANe.USE_LINKEDIN_TEST_SPID)&&(i=o.ZUn[o.kGi.LinkedInTest],l=null),s.concat({type:o.sKi.SOCIAL_ACCOUNT_AUTH_URL,hash:e,timestamp:a,userInputtedValues:{provider:e,spid:i,appRootPath:r(o.Zrf.APP_ROOT_PATH),scope:l}})})({provider:s,stateSelectors:t,unsyncedData:e,timestamp:n})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_SUCCEEDED:case r.SOCIAL_ACCOUNTS_AUTH_URL_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.SOCIAL_ACCOUNT_IMPORT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SOCIAL_ACCOUNTS_CONNECT_SUCCEEDED:return Ea({unsyncedData:e,action:a});case r.SOCIAL_ACCOUNTS_DISCONNECT_SUCCEEDED:case r.DISCONNECT_CONTACTS_PROVIDER_REQUESTED:return Ea({unsyncedData:e,action:a,enable:!1})}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:case r.SOCIAL_ACCOUNTS_IMPORT_FAILED:{const{enable:t=!0}=a;return e.filter((e=>e.userInputtedValues.provider!==a.provider||e.userInputtedValues.enable!==t))}}return e}},[o.sKi.SOCIAL_ACCOUNT_STATUS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getRoute:n}=t,{actionTimestamp:l,type:c}=s();if(!a(o.ANe.SOCIAL_ACCOUNTS))return e;switch(c){case r.LAUNCH_COMPLETED:if(0===e.length)return ua({timestamp:l});break;case r.OPEN_PAGE_REQUESTED:if(0===e.length&&n().name===o.n8z.SETTINGS){const{getSocialAccountsStatus:s}=t,a=s();return(0,i.xb)(a)?ua({timestamp:l}):e}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SOCIAL_ACCOUNTS_STATUS_RECEIVED:case r.SOCIAL_ACCOUNT_STATUS_FETCH_FAILED:return[]}return e}},[o.sKi.CONTACT_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,oldContact:i={},newContact:l,image:c,actionTimestamp:d,openContactViewOnSuccess:_=!1}=a;switch(n){case r.CONTACT_SAVE_REQUESTED:if(i.id)break;return e.concat([{type:o.sKi.CONTACT_CREATE,hash:n+d,timestamp:d,userInputtedValues:{newContact:l,image:c,timestamp:d,openContactViewOnSuccess:_}}])}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CREATE_CONTACT_FAILED:case r.CREATE_CONTACT_SUCCEEDED:return e.filter((e=>e.userInputtedValues.timestamp!==a.timestamp))}return e}},[o.sKi.CONTACT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.DELETE_CONTACT_REQUESTED:{const{actionTimestamp:t,listsToUpdate:s,itemsToUpdate:n}=a;return e.concat([{type:o.sKi.CONTACT_DELETE,hash:xs(n),timestamp:t,userInputtedValues:{listsToUpdate:s,itemsToUpdate:n}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.DELETE_CONTACT_FAILED:case r.DELETE_CONTACT_SUCCEEDED:{const{itemsToUpdate:t=[]}=a;(0,N.Z)(t.every((({editToken:e})=>e)),"Edit token expected in contact items to update");const s=xs(t);return e.filter((e=>e.hash!==s))}}return e}},[o.sKi.CONTACT_GROUP_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_GROUP_DELETE_REQUESTED:{const{actionTimestamp:t,groupId:s}=a;return e.concat([{type:o.sKi.CONTACT_GROUP_DELETE,hash:s,timestamp:t,userInputtedValues:{groupId:s}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_GROUP_DELETE_FAILED:case r.CONTACTS_GROUP_DELETE_SUCCEEDED:{const{groupId:t=""}=a,s=t;return e.filter((e=>e.hash!==s))}}return e}},[o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS]:{preparer:(e=[],t)=>{const{getAction:s,getActionableRightRailPane:a}=t,n=s(),{actionTimestamp:i,type:l}=n;switch(l){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:if(_a(t))return[da(i)];break;case r.SOCIAL_ACCOUNTS_IMPORT_SUCCEEDED:if(o.AJg.indexOf(n.provider)>-1&&_a(t))return[da(i,!0)];break;case r.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY:case r.RIGHT_RAIL_COMMS_ICON_CLICKED:if(!(a()===o._Ab.ContactsPane))break;return[{type:o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:i,userInputtedValues:{isFromContactsPane:!0},...l===r.CONTACTS_CSV_IMPORT_SCHEDULED_SUCCESSFULLY?{syncDefer:2e3}:void 0}]}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONTACTS_PROVIDERS_STATUS_FETCH_SUCCEEDED:if(e&&e[0]&&e[0].userInputtedValues&&e[0].userInputtedValues.retryCount>0&&_a(t)){const{providerResult:t={}}=a.response;if(Object.keys(t).find((e=>t[e].status===o.UcZ.QUEUED))){const t=da(a.actionTimestamp,!0);return t.userInputtedValues.retryCount=e[0].userInputtedValues.retryCount-1,t.repeat=!0,t.syncDefer=1e3,[t]}}if(e&&e[0]&&e[0].userInputtedValues&&e[0].userInputtedValues.isFromContactsPane){const{csvFileResult:e={}}=a.response,{status:t}=e;if(t===o.woE.IN_PROGRESS)return[{type:o.sKi.IMPORT_CONTACTS_PROVIDERS_STATUS,hash:"ALL_ACCOUNTS",timestamp:a.actionTimestamp,repeat:!0,syncDefer:1e4,userInputtedValues:{isFromContactsPane:!0}}]}return[];case r.CONTACTS_PROVIDERS_STATUS_FETCH_FAILED:return[]}return e}},[o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n}=a;switch(a.type){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:if((e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.CONTACTS})(t))return[{type:o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH,timestamp:n,hash:o.sKi.ENHANCE_CONTACTS_PREFERENCE_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SETTINGS_ENHANCE_CONTACTS_FETCH_SUCCEEDED:case r.SETTINGS_ENHANCE_CONTACTS_FETCH_FAILED:return[]}return e}},[o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n,enabled:i}=a;switch(a.type){case r.SETTINGS_ENHANCE_CONTACTS_CHANGE_REQUESTED:return[{type:o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE,timestamp:n,hash:o.sKi.ENHANCE_CONTACTS_PREFERENCE_CHANGE,userInputtedValues:{enabled:i}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SETTINGS_ENHANCE_CONTACTS_CHANGE_SUCCEEDED:case r.SETTINGS_ENHANCE_CONTACTS_CHANGE_FAILED:return[]}return e}},[o.sKi.PEOPLE_I_KNOW_PREFERENCE_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t;if(!a(o.ANe.SHOW_PIK_SETTING))return e;const n=s(),{actionTimestamp:i}=n;switch(n.type){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:if((e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.SECURITY_AND_PRIVACY})(t))return[{type:o.sKi.PEOPLE_I_KNOW_PREFERENCE_FETCH,timestamp:i,hash:o.sKi.PEOPLE_I_KNOW_PREFERENCE_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SETTINGS_PEOPLE_I_KNOW_FETCH_SUCCEEDED:case r.SETTINGS_PEOPLE_I_KNOW_FETCH_FAILED:return[]}return e}},[o.sKi.PEOPLE_I_KNOW_PREFERENCE_CHANGE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n,isPeopleIKnowEnabled:i}=a;switch(a.type){case r.SETTINGS_PEOPLE_I_KNOW_CHANGE_REQUESTED:return[{type:o.sKi.PEOPLE_I_KNOW_PREFERENCE_CHANGE,timestamp:n,hash:o.sKi.PEOPLE_I_KNOW_PREFERENCE_CHANGE,userInputtedValues:{isPeopleIKnowEnabled:i}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SETTINGS_PEOPLE_I_KNOW_CHANGE_SUCCEEDED:case r.SETTINGS_PEOPLE_I_KNOW_CHANGE_FAILED:return[]}return e}}},...{[o.sKi.MARKETING_PREFERENCES_TO_UNSUBSCRIBE]:{preparer:ga,reconciler:Oa},[o.sKi.DISPATCHER_UPSELLS]:{preparer:Na,reconciler:La},[o.sKi.TOUCHPOINT_UPSELL]:{preparer:Na,reconciler:La},[o.sKi.MARKETING_PREFERENCES_TO_SUBSCRIBE]:{preparer:ga,reconciler:Oa}},...{[o.sKi.FETCH_ALL_TODOS]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.FETCH_ALL_TODOS_REQUESTED:return[...e,{type:o.sKi.FETCH_ALL_TODOS,timestamp:n,hash:o.sKi.FETCH_ALL_TODOS+n,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.FETCH_ALL_TODOS_SUCCEEDED:case r.FETCH_ALL_TODOS_FAILED:return[]}return e}},[o.sKi.CREATE_TODO]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.CREATE_TODO_REQUESTED:{const{todo:t,openTodoViewOnSuccess:s=!1}=a;return[...e,{type:o.sKi.CREATE_TODO,timestamp:n,hash:o.sKi.CREATE_TODO+n,userInputtedValues:{todo:t,hash:o.sKi.CREATE_TODO+n,openTodoViewOnSuccess:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CREATE_TODO_SUCCEEDED:case r.CREATE_TODO_FAILED:return e.filter((e=>e.hash!==a.hash))}return e}},[o.sKi.UPDATE_TODO]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n}=a;switch(a.type){case r.UPDATE_TODO_REQUESTED:{const{todo:t,replaceTodo:s=!1}=a;return[...e,{type:o.sKi.UPDATE_TODO,timestamp:n,hash:o.sKi.UPDATE_TODO+n,userInputtedValues:{todo:t,replaceTodo:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.UPDATE_TODO_SUCCEEDED:case r.UPDATE_TODO_FAILED:return e.filter((e=>e.userInputtedValues.todo.uid!==a.todoUid))}return e}},[o.sKi.DELETE_TODO]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.DELETE_TODO_DEFERRED_REQUESTED:{const{todoUid:t,folderId:s}=a;return[...e,{type:o.sKi.DELETE_TODO,timestamp:n,hash:o.sKi.DELETE_TODO+n,userInputtedValues:{todoUid:t,folderId:s,defer:!0}}]}case r.DELETE_TODO_NOW_REQUESTED:{const{todoUid:t}=a;return e.map((e=>e.userInputtedValues.todoUid===t?{type:o.sKi.DELETE_TODO,timestamp:n,hash:o.sKi.DELETE_TODO+n,userInputtedValues:{...e.userInputtedValues,defer:!1}}:e))}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.DELETE_TODO_CANCEL_REQUESTED:case r.DELETE_TODO_SUCCEEDED:case r.DELETE_TODO_FAILED:return e.filter((e=>e.userInputtedValues.todoUid!==a.todoUid))}return e},syncSelector:e=>e.filter((e=>!1===e.userInputtedValues.defer))}},...{[o.sKi.MSG_FROM_PROMPT]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.GENERATE_MSG_FROM_PROMPT_REQUESTED:{const{csid:t,prompt:s,additionalContext:r="",sender:i="",recipients:l=[]}=a;return[...e,{type:o.sKi.MSG_FROM_PROMPT,timestamp:n,hash:o.sKi.MSG_FROM_PROMPT+n,userInputtedValues:{csid:t,prompt:s,additionalContext:r,sender:i,recipients:l,hash:o.sKi.MSG_FROM_PROMPT+n}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.GENERATE_MSG_FROM_PROMPT_SUCCEEDED:case r.GENERATE_MSG_FROM_PROMPT_FAILED:return e.filter((e=>e.hash!==a.hash))}return e}},[o.sKi.REPHRASE_CONTENT]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.REPHRASE_CONTENT_BY_PROMPT_REQUESTED:{const{csid:t="",prompt:s,draftText:r,additionalContext:i=""}=a;return[...e,{type:o.sKi.REPHRASE_CONTENT,timestamp:n,hash:o.sKi.REPHRASE_CONTENT+n,userInputtedValues:{csid:t,prompt:s,draftText:r,additionalContext:i,hash:o.sKi.REPHRASE_CONTENT+n}}]}case r.REPHRASE_CONTENT_BY_TONE_REQUESTED:{const{csid:t="",tone:s,draftText:r,additionalContext:i=""}=a;return[...e,{type:o.sKi.REPHRASE_CONTENT,timestamp:n,hash:o.sKi.REPHRASE_CONTENT+n,userInputtedValues:{csid:t,tone:s,draftText:r,additionalContext:i,hash:o.sKi.REPHRASE_CONTENT+n}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.REPHRASE_CONTENT_SUCCEEDED:case r.REPHRASE_CONTENT_FAILED:return e.filter((e=>e.hash!==a.hash))}return e}},[o.sKi.YAI_SEARCH_SUGGESTIONS_FETCH]:{preparer:Ua,reconciler:ka},[o.sKi.CONSUME_YAI_SEARCH]:{preparer:Ua,reconciler:ka},[o.sKi.YAI_RETRO_COMPOSE]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.YAI_RETRO_COMPOSE_REQUESTED:{const{messageId:t,cardId:s}=a;return[...e,{type:o.sKi.YAI_RETRO_COMPOSE,hash:o.sKi.YAI_RETRO_COMPOSE+n,timestamp:n,userInputtedValues:{messageId:t,cardId:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.YAI_RETRO_COMPOSE_SUCCEEDED:case r.YAI_RETRO_COMPOSE_FAILED:return[]}return e}},[o.sKi.YAI_OPT_IN]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.YAI_OPT_IN_REQUESTED:{const{optIn:t}=a;return[...e,{type:o.sKi.YAI_OPT_IN,hash:o.sKi.YAI_OPT_IN+n,timestamp:n,userInputtedValues:{optIn:t}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.YAI_OPT_IN_SUCCEEDED:case r.YAI_OPT_IN_FAILED:return[]}return e}}},...{[o.sKi.FETCH_ALL_NOTEBOOKS_AND_NOTES]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.FETCH_ALL_NOTEBOOKS_AND_NOTES_REQUESTED:return[...e,{type:o.sKi.FETCH_ALL_NOTEBOOKS_AND_NOTES,timestamp:n,hash:o.sKi.FETCH_ALL_NOTEBOOKS_AND_NOTES+n,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.FETCH_ALL_NOTEBOOKS_AND_NOTES_SUCCEEDED:case r.FETCH_ALL_NOTEBOOKS_AND_NOTES_FAILED:return[]}return e}},[o.sKi.CREATE_NOTE]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.CREATE_NOTE_REQUESTED:{const{journal:t,isRichTextMode:s,openNoteViewOnSuccess:r=!1}=a;return[...e,{type:o.sKi.CREATE_NOTE,timestamp:n,hash:o.sKi.CREATE_NOTE+n,userInputtedValues:{journal:t,isRichTextMode:s,hash:o.sKi.CREATE_NOTE+n,openNoteViewOnSuccess:r}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CREATE_NOTE_SUCCEEDED:case r.CREATE_NOTE_FAILED:return e.filter((e=>e.hash!==a.hash))}return e}},[o.sKi.UPDATE_NOTE]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n}=a;switch(a.type){case r.UPDATE_NOTE_REQUESTED:{const{journal:t,currentFolderId:s,isRichTextMode:r}=a;return[...e,{type:o.sKi.UPDATE_NOTE,timestamp:n,hash:o.sKi.UPDATE_NOTE+n,userInputtedValues:{journal:t,currentFolderId:s,isRichTextMode:r}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.UPDATE_NOTE_SUCCEEDED:case r.UPDATE_NOTE_FAILED:return e.filter((e=>e.userInputtedValues.journal.uid!==a.journalUid))}return e}},[o.sKi.DELETE_NOTE]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.DELETE_NOTE_DEFERRED_REQUESTED:{const{journalUid:t,folderId:s}=a;return[...e,{type:o.sKi.DELETE_NOTE,timestamp:n,hash:o.sKi.DELETE_NOTE+n,userInputtedValues:{journalUid:t,folderId:s,defer:!0}}]}case r.DELETE_NOTE_NOW_REQUESTED:{const{journalUid:t}=a;return e.map((e=>e.userInputtedValues.journalUid===t?{type:o.sKi.DELETE_NOTE,timestamp:n,hash:o.sKi.DELETE_NOTE+n,userInputtedValues:{...e.userInputtedValues,defer:!1}}:e))}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.DELETE_NOTE_CANCEL_REQUESTED:case r.DELETE_NOTE_SUCCEEDED:case r.DELETE_NOTE_FAILED:return e.filter((e=>e.userInputtedValues.journalUid!==a.journalUid))}return e},syncSelector:e=>e.filter((e=>!1===e.userInputtedValues.defer))},[o.sKi.CREATE_JOURNAL_FOLDER]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.CREATE_JOURNAL_FOLDER_REQUESTED:{const{folder:t}=a;return[...e,{type:o.sKi.CREATE_JOURNAL_FOLDER,timestamp:n,hash:o.sKi.CREATE_JOURNAL_FOLDER+n,userInputtedValues:{folder:t,hash:o.sKi.CREATE_JOURNAL_FOLDER+n}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CREATE_JOURNAL_FOLDER_SUCCEEDED:case r.CREATE_JOURNAL_FOLDER_FAILED:return e.filter((e=>e.hash!==a.hash))}return e}},[o.sKi.UPDATE_JOURNAL_FOLDER]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n}=a;switch(a.type){case r.UPDATE_JOURNAL_FOLDER_REQUESTED:{const{folder:t}=a;return[...e,{type:o.sKi.UPDATE_JOURNAL_FOLDER,timestamp:n,hash:o.sKi.UPDATE_JOURNAL_FOLDER+n,userInputtedValues:{folder:t}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.UPDATE_JOURNAL_FOLDER_SUCCEEDED:case r.UPDATE_JOURNAL_FOLDER_FAILED:return e.filter((e=>e.userInputtedValues.folder.id!==a.folderId))}return e}},[o.sKi.DELETE_JOURNAL_FOLDER]:{preparer:(e,t)=>{const{getAction:s}=t,a=s(),{actionTimestamp:n=Date.now()}=a;switch(a.type){case r.DELETE_JOURNAL_FOLDER_DEFERRED_REQUESTED:{const{folderId:t}=a;return[...e,{type:o.sKi.DELETE_JOURNAL_FOLDER,timestamp:n,hash:o.sKi.DELETE_JOURNAL_FOLDER+n,userInputtedValues:{folderId:t,defer:!0}}]}case r.DELETE_JOURNAL_FOLDER_NOW_REQUESTED:{const{folderId:t}=a;return e.map((e=>e.userInputtedValues.folderId===t?{type:o.sKi.DELETE_JOURNAL_FOLDER,timestamp:n,hash:o.sKi.DELETE_JOURNAL_FOLDER+n,userInputtedValues:{...e.userInputtedValues,defer:!1}}:e))}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.DELETE_JOURNAL_FOLDER_CANCEL_REQUESTED:case r.DELETE_JOURNAL_FOLDER_SUCCEEDED:case r.DELETE_JOURNAL_FOLDER_FAILED:return e.filter((e=>e.userInputtedValues.folderId!==a.folderId))}return e},syncSelector:e=>e.filter((e=>!1===e.userInputtedValues.defer))}},...{[o.sKi.PINNED_EMAILS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,doesListExist:n,getListStatus:i}=t,{actionTimestamp:l,type:c}=s(),d=(0,z.uW)(),_=n(d)&&i(d)===o.DAQ.LOADED;switch(c){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:return a(o.ANe.PINNED_EMAILS)&&!_?[...e,{id:o.sKi.PINNED_EMAILS_TO_FETCH,hash:o.sKi.PINNED_EMAILS_TO_FETCH,timestamp:l,type:o.sKi.PINNED_EMAILS_TO_FETCH,userInputtedValues:{}}]:e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.PINNED_EMAIL_LIST_SUCCEEDED:case r.PINNED_EMAIL_LIST_FAILED:return[];default:return e}}}},[o.sKi.BLOCKED_DOMAIN_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_BLOCKED_DOMAIN_DELETE_REQUESTED:{const{actionTimestamp:t,id:s}=a;return e.concat([{type:o.sKi.BLOCKED_DOMAIN_DELETE,hash:s,timestamp:t,userInputtedValues:{id:s}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_BLOCKED_DOMAIN_DELETE_SUCCEEDED:case r.SETTINGS_BLOCKED_DOMAIN_DELETE_FAILED:{const{id:t=""}=a;return e.filter((e=>e.hash!==t))}}return e}},[o.sKi.BLOCKED_DOMAIN_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_BLOCKED_DOMAIN_ADD_REQUESTED:{var n;const{actionTimestamp:t,i13nModel:s={},isFromSubscriptionsView:r=!1}=a,i=(null===(n=s.actionData)||void 0===n?void 0:n.domains)||[];return e.concat([{type:o.sKi.BLOCKED_DOMAIN_ADD,hash:i.join("-"),timestamp:t,userInputtedValues:{domainNames:i,isFromSubscriptionsView:r}}])}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_BLOCKED_DOMAIN_ADD_FAILED:case r.SETTINGS_BLOCKED_DOMAIN_ADD_SUCCEEDED:{const{domainNames:t=[]}=a;return e.filter((e=>e.hash!==t.join("-")))}}return e}},[o.sKi.BLOCKED_DOMAINS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getListsSelectors:a,isFeatureEnabled:n}=t,i=s(),{type:l,actionTimestamp:c}=i;if(!n(o.ANe.BLOCKED_DOMAINS)||e.length>0)return e;switch(l){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:{const e=t.getRouteName(),{doesListExist:s,getListStatus:n}=a(),r=(0,z._o)(),i=s(r)&&n(r)===o.DAQ.LOADED;if((e===o.n8z.SUBSCRIPTION_LIST||e===o.n8z.SETTINGS||e===o.n8z.BLOCKED_DOMAINS)&&!i)return(({timestamp:e})=>[{type:o.sKi.BLOCKED_DOMAINS_FETCH,hash:"ALL_DOMAINS",timestamp:e}])({timestamp:c});break}}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SETTINGS_BLOCKED_DOMAINS_FETCH_FAILED:case r.SETTINGS_BLOCKED_DOMAINS_FETCHED:return[]}return e}},[o.sKi.SUBSCRIPTION_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getRoute:a,getSelectedMailboxId:n,getEmailOfSelectedAccount:i,isFeatureEnabled:l}=t,c=s(),d=a(),_=(0,z.LY)(d);if(l(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(c.type){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:{const s=(0,z.aY)(_)===o.qd8.SUBSCRIPTIONS;if(d.name===o.n8z.SUBSCRIPTION_LIST||c.type===r.LAUNCH_COMPLETED&&s&&(d.name===o.n8z.LIST||d.name===o.n8z.MESSAGE_FROM_LIST)){const{getSelectedAccountId:s}=t,a=n(),r=s(),l=i();return e.concat([{type:o.sKi.SUBSCRIPTION_LIST,hash:o.Asd.RELEVANCE,timestamp:c.actionTimestamp,userInputtedValues:{mailboxId:a,accountId:r,email:l,sortOrder:o.Asd.RELEVANCE}}])}return e}case r.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:{const{getSelectedAccountId:s}=t,a=n(),r=s(),l=i();return e.concat([{type:o.sKi.SUBSCRIPTION_LIST,hash:c.sortOrder,timestamp:c.actionTimestamp,userInputtedValues:{mailboxId:a,accountId:r,email:l,sortOrder:c.sortOrder}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:case r.SUBSCRIPTION_LIST_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.sortOrder!==a.sortOrder));default:return e}}},[o.sKi.SUBHUB_RECOMMENDATION_LIST]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a,getEmailOfSelectedAccount:n,isFeatureEnabled:i}=t,l=s(),{type:c,sortOrder:d}=l;switch(c){case r.LAUNCH_COMPLETED:if(i(o.ANe.SUBHUB_RECOMMENDATIONS)){const{getSelectedAccountId:s}=t,r=a(),i=s(),c=n(),_=d||o.Asd.RELEVANCE;return e.concat([{type:o.sKi.SUBHUB_RECOMMENDATION_LIST,hash:_,timestamp:l.actionTimestamp,userInputtedValues:{mailboxId:r,accountId:i,email:c,sortOrder:_}}])}return e;default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:case r.SUBHUB_RECOMMENDATION_LIST_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.sortOrder!==a.sortOrder));default:return e}}},[o.sKi.UNSUBSCRIBE_EMAIL]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a,getMessagesFolderIdSelectors:n,getAccountIdByFolderId:i}=t,l=s();switch(l.type){case r.UNSUBSCRIBE_BY_EMAIL_REQUESTED:{const t=l.messageId,s=a(),r=i(n().getFolderId(l.messageId));return e.concat([{hash:t,timestamp:l.actionTimestamp,type:o.sKi.UNSUBSCRIBE_EMAIL,userInputtedValues:{messageId:t,mailboxId:s,accountId:r}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.UNSUBSCRIBE_BY_EMAIL_SUCCEEDED:case r.UNSUBSCRIBE_BY_EMAIL_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a.messageId));default:return e}}},[o.sKi.UNSUBSCRIBE_BRAND]:{preparer:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a}=t,n=s();switch(n.type){case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:{const t=n.brandId,s=n.brandId.split(":"),r=a(),i=s[s.length-1];return e.concat([{hash:t,timestamp:n.actionTimestamp,type:o.sKi.UNSUBSCRIBE_BRAND,userInputtedValues:{brandId:t,mailboxId:r,accountId:i}}])}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:case r.UNSUBSCRIBE_BY_BRAND_FAILED:return e.filter((e=>e.userInputtedValues.brandId!==a.brandId));default:return e}}},[o.sKi.LAUNCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:i}=a;switch(n){case r.LAUNCH_PAGE_REQUESTED:return[{id:o.sKi.LAUNCH,hash:o.sKi.LAUNCH,timestamp:i,type:o.sKi.LAUNCH,userInputtedValues:a}]}return e},reconciler:(e=[],t)=>{const{getAction:s,getSelectedMailboxId:a}=t,n=s(),{type:o}=n;if(a())return[];switch(o){case r.INITIAL_STATE:case r.LAUNCH_COMPLETED:case r.LAUNCH_ERROR:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s}=t;return s()?[]:e}},[o.sKi.DOCUMENT_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getRouteParams:a}=t,n=s();switch(n.type){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:case r.DOCUMENT_FETCH_REQUESTED:{const{attachmentId:s}=a()||{},r=(0,Ws.Z)(t);return r?e.concat(((e,t,s,a,n)=>{const{getAction:r,getAttachmentTypeByAttachmentId:i,getAttachmentSubtypeByAttachmentId:l,getDocumentRetryCount:c,getDocumentSelectors:d}=n,_=r(),E=c(t,s,a),u=d(),m=[];let S;if(u.isDocumentLoaded(t)){const e=u.getNumberOfPages(t);a=Math.min(e,a)}for(S=s;S<=a;S++){const n=Ks(t,S);m.push({id:n,hash:n,timestamp:_.actionTimestamp,type:o.sKi.DOCUMENT_FETCH,userInputtedValues:{attachmentId:e,documentId:t,pageNumber:S,startPage:s,endPage:a,retryCount:E,type:i(e),subtype:l(e)}})}return m})(s,r,n.startPage||1,n.endPage||o._ob.PAGES_CHUNK_SIZE,t)):e}}return e},reconciler:(e=[],t)=>{const{getAction:s,isDocumentLoaded:a,isDocumentPageLoaded:n,getDocumentRetryCount:i}=t,l=s();return e.filter((e=>{const{documentId:t,startPage:s,endPage:r,pageNumber:l}=e.userInputtedValues;return!(i(t,s,r)>o.alB)&&(!a(t)||!n(t,l))})).filter((e=>{const{documentId:t,startPage:s,endPage:a}=e.userInputtedValues;switch(l.type){case r.DOCUMENT_FETCH_SUCCEEDED:case r.DOCUMENT_FETCH_FAILED:return!(t===l.documentId&&s===l.startPage&&a===l.endPage)}return!0}))},syncSelector:(e=[])=>{const t=e.sort(((e,t)=>e.timestamp-t.timestamp)).reduce(((e,t)=>{const{documentId:s,startPage:a,endPage:n}=t.userInputtedValues;return{...e,[t.timestamp]:{hash:`${s}-${a}-${n}`,...t}}}),{});return(0,i.VO)(t)}},[o.sKi.COMPOSE_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),n=a.query||"";switch(a.type){case r.CONTACT_SUGGESTIONS_REQUESTED:{const e=Gs(n,a.contextFrom,a.recipientList);return[{id:e,hash:e,timestamp:a.actionTimestamp,type:o.sKi.COMPOSE_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:a}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.CONTACT_SUGGESTIONS_SUCCEEDED:case r.CONTACT_SUGGESTIONS_FAILED:{const t=Gs(a.query,a.contextFrom,a.recipientList);return e.id!==t}}return!0}))}},[o.sKi.SEARCH_SUGGESTIONS_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s(),{query:i="",fetchEmailSuggestions:l=!1}=n,c=a(o.ANe.SHOW_EMPTY_SEARCH_SUGGESTIONS);if(!i&&!c||a(o.ANe.YAI_SEARCH))return e;switch(n.type){case r.SEARCH_INPUT_FOCUSED:case r.SUGGESTIONS_REQUESTED:return[{id:i||o.pnD,hash:i||o.pnD,timestamp:n.actionTimestamp,type:o.sKi.SEARCH_SUGGESTIONS_FETCH,syncThrottle:12e4,syncDefer:200,userInputtedValues:{query:i,fetchEmailSuggestions:l}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.SUGGESTIONS_RECEIVED:case r.SUGGESTIONS_FAILED:return e.id!==o.pnD&&e.id!==a.query}return!0}))}},[o.sKi.IMPORTANT_CONTACTS_FETCH]:{preparer:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a,getEmailOfSelectedAccount:n,getListsSelectors:i}=t,{doesListExist:l}=i();if(!s())return e;const c=a();switch(c.type){case r.SEARCH_INPUT_FOCUSED:{const t=n();return l((0,z.yv)(t))?e:[...e,Vs({fromEmail:t,syncThrottle:6e5,action:c})]}case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{if(c.type!==r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED&&-1===[o.n8z.NEW_DRAFT,o.n8z.EDIT_DRAFT].indexOf(c.route.name))break;const t=n();return l((0,z.yv)(t))?e:e.concat(Vs({fromEmail:t,action:c}))}case r.DELETE_CONTACT_FAILED:case r.DELETE_CONTACT_SUCCEEDED:{const{listsToUpdate:t=[]}=c;return t.reduce(((t,{listId:s})=>{if((0,z.C4)(s)!==o.ukn.IMPORTANT_CONTACTS)return e;const a=(0,z.Q7)(s);return e.concat(Vs({fromEmail:a,action:c}))}),e)}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.IMPORTANT_CONTACTS_FETCH_SUCCEEDED:case r.IMPORTANT_CONTACTS_FETCH_FAILED:return e.userInputtedValues.listId!==a.listId}return!0}))}},[o.sKi.VIDEO_CHANNELS_METADATA_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,n=s();if(!a(o.ANe.EMPTY_FOLDER_VIDEO)||a(o.ANe.AOL_VIDEO_PLAYER))return e;switch(n.type){case r.LAUNCH_COMPLETED:return[{id:o.sKi.VIDEO_CHANNELS_METADATA_FETCH,hash:"VIDEO_CHANNELS_METADATA_FETCH",timestamp:n.actionTimestamp,type:o.sKi.VIDEO_CHANNELS_METADATA_FETCH,userInputtedValues:{}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.VIDEO_CHANNELS_METADATA_RECEIVED:case r.VIDEO_CHANNELS_METADATA_FAILED:return[]}return e}},[o.sKi.VIDEO_CHANNEL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getVideoChannelsMetaData:a}=t,n=s(),{type:i,actionTimestamp:l}=n;switch(i){case r.VIDEO_CHANNELS_METADATA_RECEIVED:{const t=a(),[s]=Object.keys(t||{});return s?[{id:s,hash:s,timestamp:l,type:o.sKi.VIDEO_CHANNEL_FETCH,userInputtedValues:{channelAlias:s}}]:e}case r.EMPTY_FOLDER_VIDEO_FETCH_CHANNEL:return[{id:n.channelAlias,hash:n.channelAlias,timestamp:l,type:o.sKi.VIDEO_CHANNEL_FETCH,userInputtedValues:n}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;return e.filter((e=>{switch(n){case r.VIDEO_CHANNEL_RECEIVED:case r.VIDEO_CHANNEL_FAILED:return e.id!==a.channel}return!0}))}},[o.sKi.COMPOSE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,csid:n,listId:o}=s();switch(a){case r.V3_MESSAGE_SEND_REQUESTED:return e.map((e=>({...e,userInputtedValues:{...e.userInputtedValues,...e.id===n&&{listId:o}},hash:e.hash||e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp||e.timestamp})));default:return e.map((e=>({...e,hash:e.hash?e.hash:e.userInputtedValues.lastEditedTimeStamp||e.id,saveDueTimestamp:e.saveDueTimestamp?e.saveDueTimestamp:e.timestamp})))}},reconciler:(e,t)=>{const{getAction:s,isOnline:a,getComposeSessionsSelectors:n,isSendRequested:o,isSent:i,didAttachmentUploadFail:l}=t,{doesComposeSessionExist:c,isComposeSessionDirty:d}=n(),_=s(),E=e.filter((e=>{const{userInputtedValues:t={}}=e,{csid:s}=t;return c(s)&&!i(s)&&(d(t)||o(s))})).reduce(((e,t)=>{let s=t.saveDueTimestamp;return[r.V3_MESSAGE_SAVE_FAILED,r.V3_MESSAGE_SEND_FAILED].indexOf(_.type)>-1&&t.userInputtedValues.lastEditedTimeStamp===_.lastEditedTimeStamp&&(s=_.actionTimestamp),{...e,[t.id]:(e[t.id]||[]).concat({...t,saveDueTimestamp:s})}}),{});if(!a()){const e=Object.keys(E).map((e=>{const[t]=E[e].sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map((e=>e.contentId)),a=E[e].reduce(((e,t)=>e.concat(t.userInputtedValues.newContentIds||[])),[]).filter((e=>-1!==s.indexOf(e)&&!l(e)));return{...t,userInputtedValues:{...t.userInputtedValues,newContentIds:a}}}));return[].concat.apply([],e)}const u=Object.keys(E).map((e=>{const[t]=E[e].sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1),s=(t.userInputtedValues.attachmentsInfo||[]).map((e=>e.contentId)),a=E[e].map((e=>({...e,userInputtedValues:{...e.userInputtedValues,newContentIds:(e.userInputtedValues.newContentIds||[]).filter((e=>-1!==s.indexOf(e)&&!l(e)))}}))),n=[...a].sort(((e,t)=>e.timestamp-t.timestamp)).find((e=>(e.userInputtedValues.newContentIds||[]).length));return n?a.filter((e=>e.timestamp>=n.timestamp)):a.sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,1)}));return[].concat.apply([],u)},syncSelector:(e,t,s)=>{const{getAction:a,isSendRequested:n,isAttachmentUploadPendingForComposeSession:i,getSetting:l}=t,{type:c,forceSync:d,i13nModel:_={}}=a(),E=l(o.Zrf.COMPOSE_SAVE_INTERVAL),u=-1!==[r.OPEN_PAGE_REQUESTED,r.ONLINE_STATUS_CHANGED,r.CLOSE_COMPACT_COMPOSE].indexOf(c)||c===r.SYNC_DATA&&d,m=e=>s-e.saveDueTimestamp>E,S=_.mKey===cs.JE.MANUAL_SAVE_DRAFT,p=_.sec===cs.nJ.COMPOSE_CONFIRM_DLG,C=u;return e.filter((e=>{const{newContentIds:s=[]}=e.userInputtedValues;return!!s.length||!i(e.id)&&(t.isSendRequested(e.id)||m(e)||C)})).map((e=>({...e,hash:n(e.id)?e.id:e.hash,userInputtedValues:{...e.userInputtedValues,showNotification:S||!m(e),isDialogAction:p}})))}},[o.sKi.MESSAGE_ITEM_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{groupIds:a,messageIds:n,csid:i}=(0,Ys.Z)(t);if(a.length>0){const n=s.type===r.LAUNCH_COMPLETED;return e.concat($s(a,t,n))}return n.length>0?e.concat(Xs(n,t)):i?e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a}=s();return{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:e,hash:e,timestamp:a,userInputtedValues:{draftCsid:e,full:!0,secure:!1}}})(i,t)):e},reconciler:(e,t)=>{const{doesMessageBodyHasError:s,doesMessageGroupIdExist:a,doesMessageBodyExist:n,getAction:l,isSecureMessage:c,doesMessageFullBodyExist:d,getDraftMessageId:_,isOnline:E,getMessageBodyRetryCount:u,isFeatureEnabled:m}=t,S=l(),p=e;if(!E())return p.map((e=>({...e,timestamp:S.actionTimestamp})));const C=p.filter((e=>{if(e.userInputtedValues.messageId){const{messageId:t,secure:a,full:i}=e.userInputtedValues;if((S.messageIds||[]).indexOf(t)>-1){if(S.type===r.PREVIEW_MESSAGE_REQUESTED)return u(t)<=o.KW1;if(S.type===r.MESSAGE_BODIES_FAILED)return!1}return!s(t)&&(!(!i&&n(t))&&(!n(t)||!a&&c(t)||!d(t)))}if(e.userInputtedValues.messageGroupId){var t,i;if(S.type===r.MESSAGE_GROUP_WITH_BODIES_FAILED)return e.userInputtedValues.messageGroupId!==S.messageGroupId;const s=e.userInputtedValues.messageGroupId;var l;return m(o.ANe.CONVERSATIONS)&&!/^[0-9]+$/.test(s)&&(null===(t=((null===(i=S.messageGroup)||void 0===i?void 0:i.messages)||[])[0])||void 0===t?void 0:t.id)===s?!a(null===(l=S.messageGroup)||void 0===l?void 0:l.id):!a(e.userInputtedValues.messageGroupId)}return!e.userInputtedValues.draftCsid||(S.type===r.MESSAGE_GROUP_WITH_BODIES_FAILED?e.userInputtedValues.draftCsid!==S.csid:!_(e.userInputtedValues.draftCsid))})),A={};return C.forEach((e=>{A[e.id]?e.userInputtedValues.full&&(A[e.id]=e):A[e.id]=e})),[...(0,i.VO)(A)]},syncSelector:(e,t)=>{const{isFeatureEnabled:s,getFoldersSelectors:a,getCurrentListId:n}=t,r=e,l=r.some((e=>!1==!!e.userInputtedValues.prefetchMode)),c=r.reduce(((e,t)=>{if(t.userInputtedValues.messageGroupId||t.userInputtedValues.draftCsid)return{...e,[t.timestamp]:t};const s=`${t.timestamp}-${t.userInputtedValues.secure}-${t.userInputtedValues.full}`;if(!e[s]){const a=!1===l?t.userInputtedValues.prefetchMode:null;return{...e,[s]:{type:o.sKi.MESSAGE_ITEM_TO_FETCH,id:s,hash:s,timestamp:t.timestamp,userInputtedValues:{messageIds:[t.userInputtedValues.messageId],secure:t.userInputtedValues.secure,full:t.userInputtedValues.full,isFallback:t.userInputtedValues.isFallback,prefetchMode:a,retryCount:t.userInputtedValues.retryCount,firstMessageIds:t.userInputtedValues.isFirstMessageId&&[t.userInputtedValues.messageId]||[]}}}}return{...e,[s]:{...e[s],userInputtedValues:{...e[s].userInputtedValues,messageIds:e[s].userInputtedValues.messageIds.concat(t.userInputtedValues.messageId),firstMessageIds:e[s].userInputtedValues.firstMessageIds.concat(t.userInputtedValues.isFirstMessageId&&[t.userInputtedValues.messageId]||[])}}}}),{}),{isSpamFolder:d,isTrashFolder:_,isSentFolder:E,isDraftFolder:u}=a(),m=n(),S=(0,z.Fh)(m)||"",p=d(S)||_(S)||E(S)||u(S);return!s(o.ANe.FALCON_TOM_SUBSCRIPTIONS_UPSELLS)||p||(0,i.xb)(c)||Object.keys(c).forEach((e=>{var s,a,n;const r=c[e],{ineligibleFalconTOMGroupIds:o,eligibleFalconTOMGroupIds:i,openedGroupId:l,openedMessageId:d}=qs(null==r||null===(s=r.userInputtedValues)||void 0===s?void 0:s.messageIds,null==r||null===(a=r.userInputtedValues)||void 0===a?void 0:a.messageGroupId,null==r||null===(n=r.userInputtedValues)||void 0===n?void 0:n.prefetchMode,t);r.userInputtedValues={...r.userInputtedValues,ineligibleFalconTOMGroupIds:o,eligibleFalconTOMGroupIds:i,openedGroupId:l,openedMessageId:d}})),[].concat.apply([],(0,i.VO)(c))}},[o.sKi.CARD_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getMessageIdsFromMessageGroupId:n,isDraftMessage:i,getCurrentGroupId:l,getFalconRelatedCardSelectors:c,getEnabledVerticals:d}=t,_=s(),{route:E,type:u,actionTimestamp:m}=_;if(!a(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)||u!==r.OPEN_PAGE_REQUESTED&&u!==r.LAUNCH_COMPLETED&&u!==r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED||-1===[o.n8z.MESSAGE_FROM_LIST,o.n8z.MESSAGE_FROM_SEARCH_LIST,o.n8z.MESSAGE_FROM_FOLDER_LIST].indexOf(E.name)||!d().length)return e;const S=l(),{doRelatedCardsExistForGroupId:p,hasSomeCardExpiredForGroupId:C,getRelatedCardsVerticalsByGroupId:A}=c(),T=S?(n(S)||[])[0]:"",I=u===r.LAUNCH_COMPLETED,h=p(S)&&C(S),g=(d()||[]).includes(o.f8s.GN_CLAIM_HINT)&&A(S).length&&!A(S).includes(o.f8s.GN_CLAIM_HINT);return i(T)||!(I||h||g)?e:[...e,{id:S,hash:S,timestamp:m,type:o.sKi.CARD_TO_FETCH,userInputtedValues:{groupId:S,messageIds:[T]}}]},reconciler:(e,t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.RELATED_CARDS_FETCH_SUCCEEDED:case r.RELATED_CARDS_FETCH_FAILED:return e.id!==a.groupId}return!0}))}},[o.sKi.LIST_TO_UPDATE]:{preparer:(e=[],t)=>{const{getRoute:s,isFeatureEnabled:a}=t,n=s(),r=(0,z.LY)(n);return!n.name||n.name===o.n8z.SUBSCRIPTION_LIST||!(0,z.vQ)(r)||r&&(0,z.Yy)(r)||a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT)&&[o.K8C.ATTACHMENTS,o.K8C.DOCUMENTS,o.K8C.PHOTOS].indexOf((0,z.YC)(n))>-1?e:e.concat(zs({listId:r},t))},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),{listsToUpdate:n=[],listData:r={}}=a,{lists:o={}}=r;let i=e;return n.length&&(i=e.map((e=>n.some((t=>t.listId===e.id))?zs({listId:e.id,isStale:!0},t):e))),Object.keys(o).length&&(i=e.map((e=>o[e.id]?zs({listId:e.id},t):e))),i},syncSelector:(e,t)=>{const{getAction:s,doesListExist:a,getCurrentListId:n,getSetting:i,getEnvironmentSelectors:l,getHistoryStack:c,isAsyncTaskPending:d,getSelectedMailboxId:_,getRoute:E,getAppName:u,getPrescribedNumberOfColumns:m,isFeatureEnabled:S,getSmartViewTypeFromRoute:p,isMessageUpdatePending:C,getAccountSelectors:A}=t,{isAppVisible:T}=l(),I=s(),h=E()||{},{previousRoute:g={}}=I,O=n(),D=A().userHasRegisteredAccount(),R=e.find((e=>e.id===O)),N=(0,z.WN)(O),L=S(o.ANe.DEALS)&&h.name===o.n8z.SEARCH&&p(h)===o.K8C.COUPONS,f=S(o.ANe.DEALS)&&p(h)===o.K8C.COUPONS&&N===o.F6k.COUPON_CARDS,M=u()===o.BQZ.MOBILE_APP&&2===m();if(!h.url||!M&&-1!==[o.n8z.MESSAGE_FROM_SEARCH_LIST].indexOf(h.name)||!R||!_()||d()||L||f||C()||!D)return[];if(S(o.ANe.NO_SYNC_ON_MESSAGE_LAUNCH)&&!I.forceSync&&T()&&(0,ls.Ec)(h)&&!M&&c().length<2)return[];const P=R.userInputtedValues.isStale&&-1!==[o.n8z.LIST,o.n8z.FOLDER,o.n8z.SEARCH].indexOf(h.name),b=!(h.url!==g.url&&I.type!==r.CHECK_MAIL_FAILED&&(P||!a(O))||I.type===r.LAUNCH_COMPLETED&&!a(O)||I.type===r.UNDO_MOVE_SUCCEEDED||I.forceSync);return[{...R,userInputtedValues:{...R.userInputtedValues,loadMoreItems:I.type===r.MORE_ITEMS_REQUESTED,forceSync:I.forceSync,userInitiated:I.userInitiated},syncThrottle:500,repeat:b,syncDefer:b?i(o.Zrf.CHECK_MAIL_INTERVAL):0}]}},[o.sKi.LOCATION_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:i,location:l}=a;switch(n){case r.SETTINGS_LOCATION_CHANGE_REQUESTED:return[{id:o.sKi.LOCATION_TO_UPDATE,hash:o.sKi.LOCATION_TO_UPDATE,timestamp:i,type:o.sKi.LOCATION_TO_UPDATE,userInputtedValues:{location:l}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case r.SETTINGS_LOCATION_CHANGE_FAILED:case r.SETTINGS_LOCATION_CHANGE_SUCCEEDED:return[]}return e}},[o.sKi.CONVERSATION_MODE_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n,actionTimestamp:i,value:l}=a;switch(n){case r.CONVERSATIONS_CHANGE_REQUESTED:return[{hash:o.sKi.CONVERSATION_MODE_TO_UPDATE,timestamp:i,type:o.sKi.CONVERSATION_MODE_TO_UPDATE,userInputtedValues:{value:l}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s(),{type:n}=a;switch(n){case r.CONVERSATIONS_CHANGE_SUCCEEDED:case r.CONVERSATIONS_CHANGE_FAILED:return[]}return e}},[o.sKi.TOI_MESSAGES]:{preparer:(e=[],{getAction:t,getMessagesSelectors:s})=>{const{type:a,cards:n=[],actionTimestamp:i}=t();switch(a){case r.TOP_OF_INBOX_FETCH_SUCCEEDED:{const t=n.map((e=>{const{getParentMessageIdForCardConversationId:t}=s();return t(e.ccId)?"":e.ccId})).filter((e=>e))||[];return t.length?e.concat({type:o.sKi.TOI_MESSAGES,hash:o.sKi.TOI_MESSAGES,timestamp:i,userInputtedValues:{cardConversationIds:t}}):e}default:return e}},reconciler:(e=[],{getAction:t})=>{const{type:s}=t();switch(s){case r.TOP_OF_INBOX_MESSAGES_FETCH_SUCCEEDED:case r.TOP_OF_INBOX_MESSAGES_FETCH_FAILED:return[]}return e}},[o.sKi.TOP_OF_INBOX]:{preparer:(e=[],{getAction:t,getSetting:s,isMobileRoute:a,isFeatureEnabled:n})=>{const{type:i,actionTimestamp:l,name:c=""}=t();switch(i){case r.TOP_OF_INBOX_COOKIE_ENABLE:return e.concat({type:o.sKi.TOP_OF_INBOX,hash:o.sKi.TOP_OF_INBOX,timestamp:l});case r.SETTINGS_CHANGE_SUCCEEDED:return c===o.Zrf.PACKAGE_TRACKING_SETTINGS&&s(o.Zrf.PACKAGE_TRACKING_SETTINGS)?e.concat({type:o.sKi.TOP_OF_INBOX,hash:o.sKi.TOP_OF_INBOX,timestamp:l}):e;case r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:return n(o.ANe.TOP_OF_INBOX_CARDS)&&(n(o.ANe.MAIL_YAI)||s(o.Zrf.PACKAGE_TRACKING_SETTINGS))&&!a()?e.concat({type:o.sKi.TOP_OF_INBOX,hash:o.sKi.TOP_OF_INBOX,timestamp:l}):e;default:return e}},reconciler:(e=[],{getAction:t})=>{const{type:s}=t();switch(s){case r.TOP_OF_INBOX_FETCH_SUCCEEDED:case r.TOP_OF_INBOX_FETCH_FAILED:return[]}return e}},[o.sKi.PARENT_MESSAGE_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,cardConversationId:a,actionTimestamp:n}=t();switch(s){case r.PARENT_MESSAGE_METADATA_REQUESTED:return e.concat([{type:o.sKi.PARENT_MESSAGE_TO_FETCH,hash:a,timestamp:n,userInputtedValues:{cardConversationId:a}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,cardConversationId:a=""}=t();switch(s){case r.PARENT_MESSAGE_METADATA_SUCCEEDED:case r.PARENT_MESSAGE_METADATA_FAILED:return[];default:return a?e:[]}}},[o.sKi.COUPONS_TO_FETCH]:{preparer:(e=[],{getAction:t,getRoute:s,isFeatureEnabled:a,getSelectedAccountId:n})=>{const i=t(),{type:l,actionTimestamp:c}=i;if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return e;switch(l){case r.LAUNCH_PAGE_REQUESTED:case r.LAUNCH_ERROR:return e;default:{const t=s(),r=(0,z.LY)(t),l=a(o.ANe.DEALS)&&t.name===o.n8z.SEARCH,d=(0,z.Q7)(r),_=(0,z.DF)(r),E=n(),u=a(o.ANe.DEALS),m=(0,z.tE)(r,{listContentType:o.F6k.COUPON_CARDS,listFilter:o.ukn.ALL_COUPON_CARDS,referrer:o.v6P.COUPONS,accountIds:[E]}),S=(0,z.tE)(r,{listContentType:o.F6k.COUPON_CARDS,listFilter:o.ukn.SAVED_COUPON_CARDS,referrer:o.v6P.COUPONS,accountIds:[E]}),p=[{type:o.sKi.COUPONS_TO_FETCH,hash:`${o.sKi.COUPONS_TO_FETCH}-${m}`,timestamp:c,userInputtedValues:{listId:m,decoId:[o.Jd6.CPN],isSearch:l,keyword:d,emailAddress:_,action:i}}];return u&&l||p.push({type:o.sKi.COUPONS_TO_FETCH,hash:`${o.sKi.COUPONS_TO_FETCH}-${S}`,timestamp:c,userInputtedValues:{listId:S,decoId:[o.Jd6.CPN,o.Jd6.TAG],isSearch:l,keyword:d,emailAddress:_}}),e.concat(p)}}},reconciler:(e=[],{getAction:t,doesListExist:s,isFeatureEnabled:a,doesListHasMoreItems:n,getSmartViewTypeFromRoute:i,getRoute:l})=>{const c=t(),{type:d}=c,_=i(l());switch(d){case r.MORE_COUPONS_REQUESTED:return e.filter((({userInputtedValues:{listId:e,action:t,isSearch:r}})=>(a(o.ANe.DEALS)||t||r)&&s(e)&&_===o.K8C.COUPONS&&n(e)));case r.COUPONS_LIST_SUCCEEDED:case r.COUPONS_LIST_FAILED:return[];default:return e.filter((({userInputtedValues:{listId:e,isSearch:t}})=>(a(o.ANe.DEALS)||t)&&!s(e)&&(_===o.K8C.COUPONS||_===o.K8C.COUPON_EMAILS)&&(0,z.WN)(e)===o.F6k.COUPON_CARDS))}}},[o.sKi.GEMINI_AD_ASSET]:{preparer:(e=[],t)=>{const{getAction:s,getAdsSelectors:a,getRoute:n}=t,{type:l,actionTimestamp:c}=s();if(-1===[r.OPEN_PAGE_REQUESTED,r.LAUNCH_COMPLETED].indexOf(l))return e;const d=n();if(d.name!==o.n8z.SPONSORED_MESSAGE)return e;const{getGeminiAdDataFromCreativeId:_}=a(),{nativeAd:E={}}=_((0,i.u9)(d,"params.creativeId"))||{};return E.geminiSponsoredAsset||!E.url?e:e.concat([{type:o.sKi.GEMINI_AD_ASSET,hash:`GEMINI_AD_ASSET_HASH-${d.params.creativeId}`,timestamp:c,userInputtedValues:{dataType:o.sKi.GEMINI_AD_ASSET,creativeId:d.params.creativeId,url:E.url}}])},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.GEMINI_SPONSORED_ASSET_RECEIVED:case r.GEMINI_SPONSORED_ASSET_FAILED:return e.filter((({userInputtedValues:e})=>e.creativeId!==a.creativeId));default:return e}}},[o.sKi.RELATED_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:return[{type:o.sKi.RELATED_SEARCHES_TO_FETCH,hash:"RELATED_SEARCHES_UNSYNCED_DATA_HASH",timestamp:n,userInputtedValues:{dataType:o.sKi.RELATED_SEARCHES_TO_FETCH}}];default:return e}},reconciler:(e,t)=>{const{getAction:s,getAdsSelectors:a,isFeatureEnabled:n}=t,{getRelatedSearches:i}=a(),l=i(),c=s();if(!n(o.ANe.RELATED_SEARCHES_CARD)||l&&Object.keys(l).length)return[];switch(c.type){case r.RELATED_SEARCHES_FETCH_SUCCEEDED:case r.RELATED_SEARCHES_FETCH_FAILED:return[]}return e}},[o.sKi.MESSAGE_ITEM_TO_UPDATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();if(!(e=>ea.indexOf(e)>=0)(a.type))return e;if(a.type===r.BLOCK_SENDERS_WITH_DELETE_REQUESTED){const s=a.itemsToUpdate.filter((e=>!!e.messageQuery));return e.concat(oa(s,t))}return e.concat(oa(a.itemsToUpdate,t))},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return(0,i.VO)(e.sort(((e,t)=>e.timestamp-t.timestamp)).reduce(((e,t)=>{const s=e[t.id]?{...e[t.id].userInputtedValues,...t.userInputtedValues}:t.userInputtedValues;return{...e,[t.id]:{...e[t.id]||t,userInputtedValues:s}}}),{})).map((e=>ia(a,e))).filter((e=>Object.keys(e.userInputtedValues).length))},syncSelector:(e=[],t)=>{const{getAction:s,getMessageFlags:a,getMessageFolderId:n,getAccountIdByFolderId:r,isFeatureEnabled:l}=t,{actionTimestamp:c,type:d,isRead:_}=s(),E=!l(o.ANe.MARK_AS_READ_DEFER)||la(e,t)?0:2e3,u=e.map((e=>{const t=(0,i.VO)(e.userInputtedValues),s=e.id,o=t[0],l=o&&o.isBatch,c=o&&o.messageQuery,d=c?void 0:s,_=Object.keys(e.userInputtedValues);let E,u,m,S=t.reduce(((e,t)=>Math.max(e,t.modSeq)),0);if(isNaN(S)&&(S=c?void 0:Date.now()),c)u=o.flags,E=o.destinationFolder,m=void 0;else{const e=n(s);m=e?r(e):void 0,E={id:e},u=a(s)}return{id:s,messageId:d,permanentDelete:t.some((e=>e.permanentDelete)),updateTypes:_,messageQuery:c,deleteDuplicates:t.some((e=>e.deleteDuplicates)),flags:u,folder:E,sourceFolder:o.folder,modSeq:S,...l?{isBatch:l}:{},...m?{accountId:m}:{}}})).map((e=>{const t={...e};return e.updateTypes.forEach((e=>{const s=aa[e];s&&(t.flags={...t.flags||{},[s]:!!(t.flags||{})[s]})})),t}));return!u.length||(e=>ta.indexOf(e)>=0)(d)?[]:[{type:o.sKi.MESSAGE_ITEM_TO_UPDATE,id:o.sKi.MESSAGE_ITEM_TO_UPDATE,hash:o.sKi.MESSAGE_ITEM_TO_UPDATE,timestamp:c,userInputtedValues:{messageItemsToSync:u,isRead:_},syncDefer:E}]}},[o.sKi.ASYNC_TASK_STATUS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,actionTimestamp:n}=s();switch(a){case r.MOVE_ITEMS_REQUESTED:case r.MOVE_AND_READ_CHANGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:case r.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case r.READ_CHANGE_REQUESTED:case r.STAR_CHANGE_REQUESTED:{const t=s(),{isAsync:a=!1}=t;return a?[{type:o.sKi.ASYNC_TASK_STATUS,hash:"ASYNC_TASK_STATUS_HASH",timestamp:n,userInputtedValues:{taskId:null,status:o.sZ3.INIT,progress:0,pollCount:0,abort:!1,actionPayload:t}}]:e}case r.BULK_PROGRESS_INITIATED:{const{tasks:e=[],isPassiveBulkTask:t,...a}=s();return e.map((({id:e,status:s,progress:r,pollCount:i=0})=>({type:o.sKi.ASYNC_TASK_STATUS,hash:e,timestamp:n,userInputtedValues:{taskId:e,status:s,progress:r,pollCount:i,abort:!1,isPassiveBulkTask:t,actionPayload:a}})))}case r.BULK_PROGRESS_RECEIVED:{const{id:t,status:a,isPassiveBulkTask:r,progress:o,pollCount:i=0}=s();return e.map((e=>!e.userInputtedValues.taskId||t===e.userInputtedValues.taskId||r?{...e,timestamp:n,userInputtedValues:{...e.userInputtedValues,taskId:t,status:a,progress:o,pollCount:i,isPassiveBulkTask:r}}:e))}case r.BULK_CANCEL_REQUESTED:{const{status:t}=s();return e.map((e=>({...e,timestamp:n,userInputtedValues:{...e.userInputtedValues,abort:!0,status:t}})))}default:return e}},reconciler:(e,t)=>{const{getAction:s,isOnline:a}=t,{type:n,triageActionType:o}=s();if(!a())return e.length>0?[]:e;switch(n){case r.UPDATE_ITEMS_SUCCEEDED:case r.UPDATE_ITEMS_FAILED:return e.filter((e=>(0,i.u9)(e,"userInputtedValues.actionPayload.triageActionType",void 0)!==o));case r.BULK_CANCEL_FAILED:return e.length>0?[]:e;default:return e}},syncSelector:(e=[],t,s)=>{const{getFeaturesSelectors:a}=t,n=a().getSetting(o.Zrf.ASYNC_TASK_POLL_INTERVAL);return e.filter((e=>{const t=e.userInputtedValues;return!!t.abort||!!t.taskId&&!(s-e.timestamp<n)}))}},[o.sKi.CONTACT_CARD]:{preparer:(e=[],t)=>{const{doesListExist:s,doesMessageGroupIdExist:a,getAction:n,getContactListSelectors:i,getListsSelectors:l,getMessagesSelectors:c,getRouteParams:d,getSetting:_,isFeatureEnabled:E,isMessageRoute:u,isMobileRoute:m}=t,{getContactByEmail:S}=i(),{doesMessageIdExist:p,getFromAddresses:C}=c(),A=n(),{type:T,actionTimestamp:I}=A,h=e=>{const t=[];return null==e||e.forEach((e=>{var s;if(!p(e))return;const a=null===(s=C(e)[0])||void 0===s?void 0:s.email;S(a)||t.includes(a)||t.push(a)})),t},g=(e,t,s=!1)=>{const{getMessageIdsFromMessageGroupId:a,isDraftMessage:n,getHashParams:r,getCurrentListId:i,getStreamsSelectors:l,getMessageCsid:c}=t,d=a(e)||[],_=d.filter((e=>!n(e))),E=_[_.length-1],u=(r()||{}).messageId,m=i(),S=(0,Zs.k3)(m,e),{doesExpansionStateExist:p,getExpansionStateForStreamItem:C}=l(),A=[];p(S)&&d.forEach((e=>{const t={streamId:S,csid:c(e),listId:(0,z.tE)(m,{listContentType:o.F6k.MESSAGE})},s=C(t);s!==o.Lvq.EXPANDED&&s!==o.Lvq.TEMPORARY_EXPANSION||A.push(e)}));const T=d.filter((e=>e===u||e===E||-1!==A.indexOf(e)));return s?T.slice(0,2):T},O=(e=[],n)=>e.reduce(((e,r)=>{if(a(r)){const i=g(r,t,n),c=(e=>{const{listId:n}=A;if(!n||!s(n)||(0,z.WN)(n)!==o.F6k.MESSAGES)return[];const{getItemIdsSelectors:r}=l(),i=_(o.Zrf.NEIGHBOR_PREFETCH_COUNT);if(0===i)return[];const c=r(n).getItemIds(),d=c.indexOf(e);return c.filter((e=>{const t=c.indexOf(e);return t!==d&&t<=d+i&&t>=d-i})).reduce(((e,s)=>{if(a(s))return e.concat(g(s,t,!0))}),[])})(r);return e.concat(i).concat(c)}}),[]),D=({unsyncedData:e,emails:t,isPrefetch:s})=>t.length?e.concat({type:o.sKi.CONTACT_CARD,hash:t.join(),timestamp:I,userInputtedValues:{emails:t,isPrefetch:s}}):e;switch(T){case r.CONTACT_DETAIL_FETCH_REQUESTED:{const{email:t}=A,s=S(t);return null!=s&&s.editToken?e:D({unsyncedData:e,emails:[t],isPrefetch:!1})}case r.LAUNCH_COMPLETED:{const{listId:t}=A,{getItemIdsSelectors:s}=l();if(!t||(0,z.WN)(t)!==o.F6k.MESSAGES)return e;const{getItemIds:a}=s(t);return D({unsyncedData:e,emails:h(a().slice(0,_(o.Zrf.NUM_MESSAGE_GROUPS_TO_PREFETCH)).map((e=>{var t;return null===(t=O([e],!0))||void 0===t?void 0:t[0]}))),isPrefetch:!0})}case r.OPEN_PAGE_REQUESTED:if(u()&&(!m()||E(o.ANe.NOBLE_WEB_LINK))){return D({unsyncedData:e,emails:h((()=>{const{groupId:e}=d();return O([e],!0)})()),isPrefetch:!0})}return e;case r.PREVIEW_MESSAGE_REQUESTED:{const{itemId:t}=A;return D({unsyncedData:e,emails:h(O([t])),isPrefetch:!0})}case r.STOREFRONT_MODULES_SUCCEEDED:{const{storefrontBrandEmailIds:t}=A;return null==t||!t.length||t.some((e=>S(e)))?e:D({unsyncedData:e,emails:t})}case r.TOP_OF_INBOX_FETCH_SUCCEEDED:{const{cards:t}=A,s=[];return t.forEach((e=>{const t=e.fromEmail||"";S(t)||s.push(t)})),s.length?D({unsyncedData:e,emails:s,isPrefetch:!0}):e}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s(),n=e.filter(((t,s)=>{const{emails:a}=t.userInputtedValues;return 1!==a.length||!e.some(((e,t)=>e.userInputtedValues.emails.includes(a[0])&&t!==s))}));switch(a.type){case r.CONTACT_DETAIL_FETCH_SUCCEEDED:case r.CONTACT_DETAIL_FETCH_FAILED:return n.filter((e=>!p()(a.emails,e.userInputtedValues.emails)))}return n}},[o.sKi.COMPONENT_UI_STATE]:{preparer:(e=[])=>e.sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,10),syncSelector:()=>[]},[o.sKi.ACCOUNT_TO_UPDATE]:{preparer:bs,reconciler:ys,syncSelector:e=>{const t=Ps()(e,(e=>e.timestamp));return t?[t]:[]}},[o.sKi.SETTINGS_TO_CHANGE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,name:n,actionTimestamp:i,shownMaxTimes:l=!1}=s;switch(a){case r.PAC_CUE_MARK_AS_SHOWN_REQUESTED:case r.FEATURE_CUE_MARK_AS_SHOWN_REQUESTED:return-1===[o.ANe.WEB_PAC_NOTIFICATION_CUE,o.ANe.MOBILE_PAC_NOTIFICATION_CUE].indexOf(n)?e:n!==o.ANe.WEB_PAC_NOTIFICATION_CUE||l?e.concat(ca({actionTimestamp:i,accountId:"none",updatedSettingAttributes:[{name:o.Zrf.SHOW_IMAGES,value:!0}]})):e;case r.THEME_MODE_CHANGE_REQUESTED:case r.AOL_SETTINGS_MIGRATION_INITIATED:case r.OPEN_PAGE_REQUESTED:{const{updatedSettingAttributes:t,accountId:n="none"}=s;return t?e.concat(ca({accountId:n,updatedSettingAttributes:t,actionTimestamp:i,aolSettingsMigration:a===r.AOL_SETTINGS_MIGRATION_INITIATED})):e}default:return e}},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_CHANGE_FAILED:case r.SETTINGS_CHANGE_SUCCEEDED:case r.AOL_SETTINGS_MIGRATION_SUCCEEDED:case r.AOL_SETTINGS_MIGRATION_FAILED:if(a.requestActionPayload){const{requestTimestamp:t,accountId:s}=a.requestActionPayload;return e.filter((e=>{const{userInputtedValues:{accountId:a}}=e;return a!==s||t<e.timestamp}))}return e}return e},syncSelector:e=>{if(!e.length)return[];e.sort(((e,t)=>e.timestamp-t.timestamp));const t=e.reduce(((e,t)=>{const{accountId:s,updatedSettingAttributes:a,requestTimestamp:n,aolSettingsMigration:r}=t.userInputtedValues;e[s]||(e[s]={});const{userInputtedValues:i={}}=e[s];return e[s]={...e[s],type:o.sKi.SETTINGS_TO_CHANGE,hash:o.sKi.SETTINGS_TO_CHANGE+s,timestamp:t.timestamp,userInputtedValues:{...i,updatedSettingAttributes:{...i.updatedSettingAttributes||{},...a.reduce(((e,{name:t,value:s})=>(e[t]=s,e)),{})},accountId:s,requestTimestamp:n,aolSettingsMigration:r}},e}),{});return Object.keys(t).reduce(((e,s)=>{const a=t[s],{userInputtedValues:n}=a;return n.updatedSettingAttributes=Object.keys(n.updatedSettingAttributes).reduce(((e,t)=>[...e,{name:t,value:n.updatedSettingAttributes[t]}]),[]),[...e,a]}),[])}},[o.sKi.FOLDER]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,folderId:n,folderName:i,actionTimestamp:l,filters:c,originalFolderName:d,newFolderName:_,subfolders:E}=s();switch(a){case r.RENAME_FOLDER_REQUESTED:case r.MOVE_FOLDER_REQUESTED:case r.DELETE_FOLDER_REQUESTED:return e.concat([{type:o.sKi.FOLDER,hash:n,timestamp:l,userInputtedValues:{folderId:n,folderName:i,filters:c,originalFolderName:d,newFolderName:_,updateType:a,subfolders:E}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.RENAME_FOLDER_SUCCEEDED:case r.RENAME_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==r.RENAME_FOLDER_REQUESTED));case r.MOVE_FOLDER_SUCCEEDED:case r.MOVE_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==r.MOVE_FOLDER_REQUESTED));case r.DELETE_FOLDER_SUCCEEDED:case r.DELETE_FOLDER_FAILED:return e.filter((({userInputtedValues:e})=>e.folderId!==a.folderId||e.updateType!==r.DELETE_FOLDER_REQUESTED))}return e}},[o.sKi.GEMINI_AD]:{preparer:(e=[],t)=>{const{getAction:s,getAdSectionIds:a,getCurrentSpaceId:n}=t,r=s(),l=a(),c=n();return(0,i.xb)(l)||!c?e:e.concat(Object.keys(l).map((e=>({type:o.sKi.GEMINI_AD,hash:`GEMINI_AD_HASH-${l[e]}`,timestamp:r.actionTimestamp,userInputtedValues:{spaceId:c,sectionId:l[e],adPosition:e}}))))},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.GEMINI_AD_RECEIVED:case r.GEMINI_AD_FAILED:return e.filter((({userInputtedValues:e})=>-1===(0,i.VO)(a.sectionIds).indexOf(e.sectionId)));default:return e}},syncSelector:(()=>{let e={},t={},s={};return(a,n,l)=>{if(!a.length||"undefined"==typeof window)return[];const{getAction:d,getAdSectionIds:_,getRoute:E,getSelectedMailboxId:u,getStreamsSelectors:m,getSetting:S,getCurrentListId:p,isFeatureEnabled:C,getAdsSelectors:A,getReconciledUnysncedDataByHash:T,getEnvironmentSelectors:I,getSmartViewTypeFromRoute:h,getAdListItemsSelectors:g,getMailPremiumFreeTrialSelectors:O,isMobileRoute:D}=n,R=d(),N=_(),L=E(),{doesStreamExist:f,getCursorSelectors:M}=m(),{getFeedbackStartedSectionIds:P,getCachedGeminiAds:b,getAdFeedbackStatus:y,hasAdBeenMisclicked:v}=A(),F=-1!==[o.n8z.FOLDER,o.n8z.SEARCH,o.n8z.LIST].indexOf(L.name),U=R.type===r.HIDE_RIGHT_PANE_ADS&&C(o.ANe.RIGHT_RAIL_UPSELL_VIDEO_AD),k=h(L)===o.K8C.COUPONS;let w=!1,G=!1,H=!1;if(R.streamId&&f(R.streamId)&&S(o.Zrf.PREVIEW_PANE)!==o.EsZ.NO&&F){const t=M(R.streamId).getCursorItem();!t||t.id===e.id&&t.listId===e.listId||(0,z.WN)(t.listId)!==o.F6k.MESSAGES||(e=t,w=!0)}u()&&!(0,ls.Vu)(L,t)&&(G=!0,t=L),(0,i.wU)(N,s)||(H=!0,s=N);const B=-1!==[r.PREVIEW_MESSAGE_CLOSED,r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED].indexOf(R.type)||G||H||k&&R.type===r.LAUNCH_COMPLETED,x=(0,Ce.k_)(R,D()),V=w||x||B,Z=P().length>0,W=O().getUpsellId(),K=C("drawer")&&!(L.name===o.n8z.FOLDER||(0,z.rB)(L)),Y=L.name===o.n8z.PORTRAIT_AD;if(k&&-1===[r.OPEN_PAGE_REQUESTED,r.LAUNCH_COMPLETED].indexOf(R.type))return[];if(!U&&(!V||Z||K))return[];if(Y)return[];if(C(o.ANe.MAILPRO_FREE_TRIAL_UPSELLS)&&W===o.$AH.PRE_SIGNUP_PENCIL_BANNER)return[];if(C(o.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&R.type===r.APPLICATION_VISIBILITY_DID_CHANGE&&v())return[];const j=p(),q=T((0,z.JB)(j))||{},X=(0,i.u9)(q,"uiState.scrollTop",0),{contentAndRightRailHeight:Q}=I().getWindowDimensions(),J=c.V2F+(C(o.ANe.SECOND_PENCIL_AD)?Q:0),$=!C(o.ANe.BOTTOM_STICKY_PENCIL_AD_ROTATION_OPTIMIZE)&&X>J,ee=S(o.Zrf.GEMINI_SECTION_IDS),te=[ee[o.e$m.MESSAGE_LIST],ee[o.e$m.MESSAGE_LIST_2],ee[o.e$m.MESSAGE_LIST_2_FALLBACK],ee[o.e$m.MESSAGE_LIST_CAROUSEL]].filter(Boolean),se=[o.e$m.MESSAGE_LIST,o.e$m.MESSAGE_LIST_2,o.e$m.ADBLOCK_MESSAGE_LIST,o.e$m.ADBLOCK_MESSAGE_LIST_2,o.e$m.MESSAGE_LIST_2_FALLBACK,o.e$m.MESSAGE_LIST_SPONSORED_MESSAGE],ae=S(o.Zrf.TIME_TO_WAIT_SINCE_LAST_AD_CALL),ne=y()[ee[o.e$m.SHOPPING_CART]],re=[r.OPEN_PAGE_REQUESTED,r.PREVIEW_MESSAGE_REQUESTED,r.STREAM_CURSOR_MOVED].indexOf(R.type)>-1,oe=a.filter((e=>{const{userInputtedValues:{sectionId:t,adPosition:s}}=e;if(C(o.ANe.ROTATE_PENCIL_AD_ON_EXPIRE)&&b(t).length>2)return!1;if(-1===(0,i.VO)(N).indexOf(t))return!1;if(F&&-1!==te.indexOf(t)&&((0,z.yz)(j)&&!(0,z.rB)(L)||(0,z.lG)(j)||$))return!1;if(!B&&l-e.timestamp<=ae)return!1;if(g().isAdMarkedForSkipRotation(s))return!1;if(s===o.e$m.SHOPPING_CART){if(!re)return!1;if(ne)return!1;if(C(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED))return!1}if(C(o.ANe.DOMAIN_MATCH_AD)&&s===o.e$m.MESSAGE_READ){if(!re)return!1;if(C(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&C(o.ANe.DOMAIN_MATCH_AD_VIA_RELATED_CARDS))return!1}return!(!C(o.ANe.PENCIL_AD)&&-1!==se.indexOf(s))}));return oe.length?oe.reduce(((e,t)=>{const{userInputtedValues:s,timestamp:a}=t,{spaceId:n,sectionId:r,adPosition:i}=s;return e[0]?[{...e[0],userInputtedValues:{...e[0].userInputtedValues,sectionIds:{...e[0].userInputtedValues.sectionIds,[i]:r}}}]:[{type:o.sKi.GEMINI_AD,hash:"GEMINI_AD_HASH",timestamp:a,userInputtedValues:{spaceId:n,sectionIds:{[i]:r}}}]}),[]):[]}})()},[o.sKi.VACATION_RESPONSE_SETTINGS]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,value:n,actionType:i,actionTimestamp:l}=s();switch(a){case r.SETTINGS_SAVE_VACATION_PREFERENCES_REQUESTED:return[{type:o.sKi.VACATION_RESPONSE_SETTINGS,hash:o.ZFS.SAVE_VACATION_RESPONSE,timestamp:l,warnOnClose:!0,userInputtedValues:{value:n,actionType:i,requestTimestamp:l}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.SETTINGS_SAVE_VACATION_PREFERENCES_SUCCEEDED:case r.SETTINGS_SAVE_VACATION_PREFERENCES_FAILED:return e.filter((e=>e.hash!==o.ZFS.PREVENT_ROUTE_CHANGE&&e.timestamp>a.requestTimestamp));default:return e.filter((e=>e.hash!==o.ZFS.PREVENT_ROUTE_CHANGE))}}},[o.sKi.RAW_MESSAGE]:{syncSelector:(e,t)=>{const{getAction:s}=t,{type:a,messageId:n,actionTimestamp:i}=s();return a!==r.VIEW_RAW_MESSAGE?[]:[{type:o.sKi.RAW_MESSAGE,hash:n,timestamp:i,userInputtedValues:{dataType:o.sKi.RAW_MESSAGE,messageId:n}}]}},[o.sKi.RAW_MESSAGE_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,messageId:n,actionTimestamp:i}=s();return a!==r.FETCH_RAW_MESSAGE?e:e.concat([{type:o.sKi.RAW_MESSAGE_TO_FETCH,hash:o.sKi.RAW_MESSAGE_TO_FETCH+n,timestamp:i,userInputtedValues:{dataType:o.sKi.RAW_MESSAGE_TO_FETCH,messageId:n}}])},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case r.FETCH_RAW_MESSAGE_SUCCEEDED:case r.FETCH_RAW_MESSAGE_FAILED:return e.filter((e=>e.hash!==o.sKi.RAW_MESSAGE_TO_FETCH+a));default:return e}}},[o.sKi.COUPON_RECOMMENDATIONS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a,messageId:n=""}=t();switch(s){case r.COUPONS_ADD_TAG_DECO_REQUESTED:return e.concat({type:o.sKi.COUPON_RECOMMENDATIONS_TO_FETCH,hash:"COUPONS_RECOMMENDATIONS_UNSYNCED_DATA_HASH",timestamp:a,userInputtedValues:{cardMessageId:n}});default:return e}},reconciler:(e,{getAction:t,isFeatureEnabled:s})=>{const{type:a,parentMessageId:n="",messageId:i="",recommendations:l=!1,listId:c=""}=t(),[{userInputtedValues:{cardMessageId:d=""}={}}={}]=e,_=(0,z.H7)({referrer:o.qd8.COUPON_RECOMMENDATIONS,keyword:d});switch(a){case r.COUPONS_LIST_SUCCEEDED:case r.COUPONS_LIST_FAILED:return c===_?[]:e;default:return(0,le.box)(n).checkIfNot((()=>""===i)).checkIf((()=>l)).checkIf((()=>s(o.ANe.DEALS))).unbox((()=>e),(()=>[]))}},syncSelector:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.COUPONS_ADD_TAG_DECO_SUCCEEDED:return e;default:return[]}}},[o.sKi.ACCOUNT_TO_REAUTH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{actionTimestamp:a,wssid:n,accountId:i,type:l,email:c,provider:d}=s();switch(l){case r.ACCOUNT_REAUTH_REQUESTED:return[...e,{type:o.sKi.ACCOUNT_TO_REAUTH,hash:o.sKi.ACCOUNT_TO_REAUTH+i,timestamp:a,userInputtedValues:{wssid:n,accountId:i,email:c,provider:d}}];default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.ACCOUNT_REAUTH_SUCCEEDED:case r.ACCOUNT_REAUTH_FAILED:return e.filter((({userInputtedValues:e})=>e.accountId!==a.accountId))}return e}},[o.sKi.REQUEST_AFFILIATE_OFFERS]:{preparer:(e=[],t)=>{const{getAction:s,getStorefrontBrandsSelectors:a,getGroupId:n,getMessageIdsFromMessageGroupId:i,getMessagesSelectors:l,isFeatureEnabled:c,isMessageRoute:d,isMobileRoute:_}=t,{getBrandIdFromDomain:E,getAffiliateProductsFromBrandId:u,doesBrandHaveAffiliateProducts:m}=a(),S=s(),p=c(o.ANe.DEALS_WITH_PRODUCTS),C=e=>{var t;const{getFromAddresses:s}=l(),a=e&&i(e)||[],n=(null===(t=(a.length&&s(a[0])||[])[0])||void 0===t?void 0:t.email)||"";return n?(0,le.getRootDomainFromEmailAddress)(n):""},A=(t,s)=>{const{actionTimestamp:a}=S;return t&&m(t)&&!s?e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:t,timestamp:a,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:t}}):e};switch(S.type){case r.OPEN_PAGE_REQUESTED:{const{streamItem:t={}}=S;if(p&&d()&&!_()){const e=E(C(null==t?void 0:t.id));return A(e,u(e))}return e}case r.PREVIEW_MESSAGE_REQUESTED:{const{streamItem:t={}}=S;if(p&&!_()){const e=E(C(null==t?void 0:t.id));return A(e,u(e))}return e}case r.ASTRA_BATCH_API_SUCCEEDED:{const{actionTimestamp:t,response:s}=S;if(p&&d()&&s){var T,I,h;const a=c(o.ANe.STOREFRONT)||c(o.ANe.SHOW_SEARCH_CONTACT_CARD)?null===(T=s[o.G1D.STOREFRONT_BRANDS])||void 0===T?void 0:T.brands:null===(I=s[o.G1D.AFFILIATE_RETAILERS])||void 0===I?void 0:I.brands,r=C(n()),i=null==a||null===(h=a.filter((e=>e.hasAffiliateProducts)).find((e=>r===e.domain)))||void 0===h?void 0:h.brandId;if(i)return e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:i,timestamp:t,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:i}})}return e}case r.AFFILIATE_OFFERS_REQUESTED:{const{actionTimestamp:t,brandId:s}=S;return e.concat({id:o.sKi.REQUEST_AFFILIATE_OFFERS,hash:s,timestamp:t,type:o.sKi.REQUEST_AFFILIATE_OFFERS,userInputtedValues:{brandId:s}})}default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.AFFILIATE_OFFERS_FAILED:case r.AFFILIATE_OFFERS_SUCCEEDED:return[];default:return e}}},[o.sKi.STOREFRONT_MODULES]:{preparer:(e=[],t)=>{const{getAction:s,getPrimaryAccountId:a,getStorefrontBrandsSelectors:n,isFeatureEnabled:i,isStorefrontRoute:l}=t,{actionTimestamp:c,type:d,route:_}=s(),{getBrandIdFromDomain:E,hasStorefrontModules:u,getBrandInfoFromBrandId:m,doesBrandHaveAffiliateProducts:S}=n(),p=a(),C=_&&(0,z.LY)(_),A=_.name===o.n8z.SEARCH,T=(0,z.DF)(C);if(!i(o.ANe.STOREFRONT)&&!i(o.ANe.SHOW_SEARCH_CONTACT_CARD)||!l()&&!(i(o.ANe.SHOW_SEARCH_CONTACT_CARD)&&A&&T))return e;switch(d){case r.ASTRA_BATCH_API_SUCCEEDED:case r.OPEN_PAGE_REQUESTED:{const t=C&&(0,z.Yy)(C)||E((0,le.getRootDomainFromEmailAddress)(T)),s=(0,z.LY)((0,ls.Rb)(p,t)),{brandDomains:a=[]}=m(t)||{},n="in:inbox",r=o.nnY*(S(t)?1:2);return t&&!u(t)?e.concat({id:o.sKi.STOREFRONT_MODULES,hash:`${o.sKi.STOREFRONT_MODULES}-${t}`,timestamp:c,type:o.sKi.STOREFRONT_MODULES,userInputtedValues:{brandId:t,accountId:p,listId:s,keyword:n,brandDomains:a,messagesToFetch:r}}):e}default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.STOREFRONT_MODULES_SUCCEEDED:case r.STOREFRONT_MODULES_FAILED:return[];default:return e}}},[o.sKi.STOREFRONT_DEALS]:{preparer:(e=[],{getAction:t,getStorefrontBrandsSelectors:s})=>{const{actionTimestamp:a,accountId:n="",brandId:i="",type:l}=t(),{getStorefrontDealCmidsFromBrandId:c}=s(),d=c(i);if(!i||(null==d?void 0:d.length)>o.JaR)return e;switch(l){case r.STOREFRONT_DEALS_REQUESTED:return e.concat({id:o.sKi.STOREFRONT_DEALS,hash:i,timestamp:a,type:o.sKi.STOREFRONT_DEALS,userInputtedValues:{accountId:n,brandId:i}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.STOREFRONT_DEALS_FAILED:case r.STOREFRONT_DEALS_SUCCEEDED:return[];default:return e}}},[o.sKi.STOREFRONT_PRODUCTS]:{preparer:(e=[],{getAction:t,getStorefrontBrandsSelectors:s})=>{const{actionTimestamp:a,accountId:n="",brandId:i="",type:l}=t(),{getStorefrontProductsFromBrandId:c}=s(),d=c(i);if(!i||(null==d?void 0:d.length)>o.JaR)return e;switch(l){case r.STOREFRONT_PRODUCTS_REQUESTED:return e.concat({id:o.sKi.STOREFRONT_PRODUCTS,hash:i,timestamp:a,type:o.sKi.STOREFRONT_PRODUCTS,userInputtedValues:{accountId:n,brandId:i}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.STOREFRONT_PRODUCTS_FAILED:case r.STOREFRONT_PRODUCTS_SUCCEEDED:return[];default:return e}}},[o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT]:{preparer:(e=[],{getAction:t,getSelectedAccountId:s})=>{const{actionTimestamp:a,type:n,brandId:i=""}=t(),l=s();switch(n){case r.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:return i?e:e.concat({id:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,hash:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,timestamp:a,type:o.sKi.RESET_STOREFRONT_NEW_DEAL_COUNT,userInputtedValues:{accountId:l}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.RESET_STOREFRONT_NEW_DEAL_COUNT_FAILED:case r.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:return[];default:return e}}},[o.sKi.FOLLOW_STOREFRONT_BRAND]:{preparer:va,reconciler:Fa},[o.sKi.UNFOLLOW_STOREFRONT_BRAND]:{preparer:va,reconciler:Fa},[o.sKi.SAVE_COUPONS]:{preparer:ks,reconciler:ws},[o.sKi.UNSAVE_COUPONS]:{preparer:ks,reconciler:ws},[o.sKi.FOLLOW_CATEGORY]:{preparer:Fs,reconciler:Us},[o.sKi.UNFOLLOW_CATEGORY]:{preparer:Fs,reconciler:Us},[o.sKi.AFFILIATE_CRUMB]:{preparer:(e=[],t)=>{const{getAction:s,getAffiliateCrumb:a,isFeatureEnabled:n}=t,{actionTimestamp:i,type:l}=s();if(!n(o.ANe.AFFILIATE_DIRECTLY)||a())return e;switch(l){case r.LAUNCH_COMPLETED:return e.concat({id:o.sKi.AFFILIATE_CRUMB,hash:o.sKi.AFFILIATE_CRUMB,timestamp:i,type:o.sKi.AFFILIATE_CRUMB});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.GET_AFFILIATE_CRUMB_SUCCEEDED:case r.GET_AFFILIATE_CRUMB_FAILED:return[];default:return e}}},[o.sKi.NUDGE_AND_SMART_REPLY]:{preparer:(e=[],t)=>{const{getAction:s,getCurrentListId:a,getListItems:n,getMessagesSelectors:i,getSubjectAndSnippetSelectors:l,getMessageFlags:c,doesMessageGroupIdExist:d,getMessageIdsFromMessageGroupId:_,getAttachmentIdsByMessageId:E,getFoldersSelectors:u,getAttachmentById:m,__getMessageWithFlagsAndFolderId:S,isFeatureEnabled:p,isUserOwnEmailMessage:C,getReplySuggestionSelectors:A}=t,{isSpamFolder:T,isTrashFolder:I,isSentFolder:h,isDraftFolder:g,__get__:O}=u(),{actionTimestamp:D,type:R,messageGroupList:N=[]}=s(),L=a();if((!p(o.ANe.NUDGE_TO_REPLY_ELIGIBLE)||!p(o.Zrf.NUDGE_TO_REPLY_SETTING))&&!p(o.ANe.SMART_REPLY)||(0,z.WN)(L)!==o.F6k.MESSAGES)return e;const f=N.length?N:n(L),M=(0,z.Fh)(L)||"",P=T(M)||I(M)||h(M)||g(M);if((R===r.LAUNCH_COMPLETED||R===r.MORE_MESSAGES_REQUEST_SUCCESS||R===r.CHANGE_FOLDER_SUCCEEDED||R===r.SEARCH_LIST_ITEMS_BLOCK_RECEIVED||R===r.MORE_SEARCH_LIST_ITEMS_RECEIVED||R===r.POST_LAUNCH_SYNC_SUCCEEDED)&&!P&&f.length){const t=[],{doesMessageIdExist:s}=i(),{getSnippet:a}=l();return f.forEach((e=>{const n=d(e.id)?_(e.id):[],r=n[n.length-1];if(s(r)&&!C(r)&&!(e=>void 0!==A().getReplySuggestions(e)||!!i().shouldNudgeToReply(e))(r)&&a(r,L)){const e=S(r),{decos:s=[],headers:n={}}=e,o=[].concat(E(r).map(m)).filter(Boolean);t.push({headers:n,id:r,snippet:a(r,L),decos:s,attachments:o,folder:O(e.folderId||e.folderOfDelivery)||{},flags:c(r)||{}})}})),t.length?e.concat({id:o.sKi.NUDGE_AND_SMART_REPLY,hash:o.sKi.NUDGE_AND_SMART_REPLY,timestamp:D,type:o.sKi.NUDGE_AND_SMART_REPLY,userInputtedValues:{messagesList:t}}):e}return e},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:case r.CHECK_NUDGE_AND_SMART_REPLY_FAILED:return[];default:return e}}},[o.sKi.BASENAME_TO_CREATE]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_REQUESTED:{const{domain:t,baseName:a}=s;return[...e,{type:o.sKi.BASENAME_TO_CREATE,hash:vs({baseName:a,domain:t}),timestamp:n,userInputtedValues:{domain:t,baseName:a}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{baseName:a,domain:n,type:o}=s();switch(o){case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_SUCCEEDED:case r.DISPOSABLE_EMAIL_BASE_NAME_CREATE_FAILED:return e.filter((({hash:e})=>e!==vs({baseName:a,domain:n})))}return e}},[o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_REQUESTED:{const{baseName:t=""}=s;return t.length<6?e:[...e,{type:o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH,hash:o.sKi.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_TO_FETCH+t,timestamp:n,syncThrottle:12e4,syncDefer:200,userInputtedValues:{baseName:t}}]}default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,{type:a}=s();switch(a){case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_RECEIVED:case r.DISPOSABLE_EMAIL_BASE_NAME_SUGGESTIONS_FAILED:return[]}return e}},[o.sKi.ACCOUNT_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,accountId:n}=s();switch(a){case r.ACCOUNT_DELETE_REQUESTED:return e.concat(((e,t)=>{const{getAction:s}=t,{actionTimestamp:a,type:n}=s();return{type:o.sKi.ACCOUNT_DELETE,hash:e,timestamp:a,userInputtedValues:{accountId:e,updateType:n}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.ACCOUNT_DELETE_FAILED:case r.ACCOUNT_DELETE_SUCCEEDED:return e.filter((({userInputtedValues:e})=>e.updateType!==r.ACCOUNT_DELETE_REQUESTED&&e.accountId!==a.updatedAccount.id))}return e}},[o.sKi.ACCOUNT_ADD]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,newAccount:n}=s();switch(a){case r.ACCOUNT_ADD_REQUESTED:return e.concat(((e,t)=>{const{getAction:s,getAccountSelectors:a}=t,{actionTimestamp:n,type:r}=s();return{type:o.sKi.ACCOUNT_ADD,hash:e.email,id:e.email,timestamp:n,userInputtedValues:{newAccount:e,emailOrPhoneRegAccount:!a().userHasRegisteredAccount(),updateType:r}}})(n,t));default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.ACCOUNT_ADD_SUCCEEDED:case r.ACCOUNT_ADD_FAILED:return e.filter((({userInputtedValues:e})=>e.updateType!==r.ACCOUNT_ADD_REQUESTED&&e.newAccount.email!==a.newAccount.email))}return e}},[o.sKi.MORE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,shouldFetchMoreItems:a}=t,{type:n,actionTimestamp:i,currentGroupId:l,allItemsSelected:c,route:d}=s(),_=(0,z.LY)(d);switch(n){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:if((0,z.aY)(_)!==o.qd8.SUBSCRIPTIONS)return e;break;case r.MORE_ITEMS_REQUESTED:if(l&&!a(_,l))return e;break;default:return e}return[...e,{type:o.sKi.MORE_ITEMS_TO_FETCH,hash:o.sKi.MORE_ITEMS_TO_FETCH+_,timestamp:i,userInputtedValues:{allItemsSelected:c,listId:_}}]},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.MORE_MESSAGES_REQUEST_SUCCESS:case r.MORE_MESSAGES_REQUEST_FAILED:case r.MORE_SEARCH_LIST_ITEMS_RECEIVED:case r.MORE_SEARCH_LIST_ITEMS_FAILED:case r.MORE_TRAVEL_ITEMS_SUCCEEDED:case r.MORE_TRAVEL_ITEMS_FAILED:return e.filter((e=>e.hash!==o.sKi.MORE_ITEMS_TO_FETCH+a.listId))}return e},syncSelector:(e,t)=>{const{isAsyncTaskPending:s,getPendingUpdate:a,getAction:n}=t,o=n();return s()||a().type&&o.type!==r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED?[]:e}},[o.sKi.MORE_SENDER_ROLLUP_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,{type:a,listId:n,actionTimestamp:i}=s();switch(a){case r.MORE_SENDER_ROLLUP_REQUESTED:return e.concat([{type:o.sKi.MORE_SENDER_ROLLUP_TO_FETCH,hash:"MORE_SENDER_ROLLUP_TO_FETCH"+n,timestamp:i,userInputtedValues:{listId:n}}]);default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,listId:a}=t();switch(s){case r.MORE_SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_FAILED:return e.filter((e=>e.hash!==o.sKi.MORE_SENDER_ROLLUP_TO_FETCH+a))}return e}},[o.sKi.GIFS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.GIF_FETCH_REQUESTED:{const{query:s,listId:n,fetchMoreItems:r}=a,{getListsSelectors:i}=t,{getItemIdsSelectors:l,doesListExist:c,hasMoreItems:d}=i(),_=a.listId;if(c(n)){const t=l(n).getItemIds().length;if(!d(n)&&t)return e;if(t&&!r)return e}return[...e,{id:_,hash:_,timestamp:a.actionTimestamp,type:o.sKi.GIFS_TO_FETCH,userInputtedValues:{query:s,listId:n,fetchMoreItems:r,id:_}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.GIF_FETCH_SUCCEEDED:case r.GIF_FETCH_FAILED:return e.id!==a.id}return!0}))}},[o.sKi.GIF_CATEGORY_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getGifCategoriesSelectors:a}=t,{isCategoryListLoaded:n}=a(),i=s();switch(i.type){case r.GIF_CATEGORIES_CONTENT_FETCH_REQUESTED:return n()?[]:[{id:o.sKi.GIF_CATEGORY_TO_FETCH,hash:o.sKi.GIF_CATEGORY_TO_FETCH,timestamp:i.actionTimestamp,type:o.sKi.GIF_CATEGORY_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case r.GIF_CATEGORIES_CONTENT_FETCH_FAILED:return[]}return e}},[o.sKi.ALIAS_EMAIL_TO_CREATE]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.ALIAS_EMAIL_CREATE_REQUESTED:return[{hash:o.sKi.ALIAS_EMAIL_TO_CREATE,timestamp:a.actionTimestamp,type:o.sKi.ALIAS_EMAIL_TO_CREATE,userInputtedValues:{email:a.email}}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.ALIAS_EMAIL_CREATE_SUCCEEDED:case r.ALIAS_EMAIL_CREATE_FAILED:return[]}return e}},[o.sKi.CONFIRM_EMAIL_TO_RESEND]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONFIRM_EMAIL_RESEND_REQUESTED:{const t=a.account.email;return[...e,{hash:t,id:t,timestamp:a.actionTimestamp,type:o.sKi.CONFIRM_EMAIL_TO_RESEND,userInputtedValues:{account:a.account}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CONFIRM_EMAIL_RESEND_SUCCEEDED:case r.CONFIRM_EMAIL_RESEND_FAILED:return e.filter((e=>e.id!==a.email))}return e}},[o.sKi.BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const{getBlockedSendersApiCallStatus:s}=t.getSettingsSelectors(),a=t.getAction(),{getAppName:n}=t.getEnvironmentSelectors(),{type:i,actionTimestamp:l}=a;switch(i){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:{const a=t.getRouteName();return n()!==o.BQZ.MOBILE_APP||a!==o.n8z.MESSAGE_FROM_FOLDER_LIST&&a!==o.n8z.MESSAGE_FROM_SEARCH_LIST&&a!==o.n8z.MESSAGE_FROM_LIST||s()===o.DAQ.LOADED?e:e.concat([{id:o.sKi.BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.BLOCKED_SENDERS_TO_FETCH,type:o.sKi.BLOCKED_SENDERS_TO_FETCH,timestamp:l}])}case r.SETTINGS_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:o.sKi.BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.BLOCKED_SENDERS_TO_FETCH,type:o.sKi.BLOCKED_SENDERS_TO_FETCH,timestamp:l}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case r.SETTINGS_BLOCKED_SENDERS_RECEIVED:case r.SETTINGS_BLOCKED_SENDERS_FETCH_FAILED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH]:{preparer:(e=[],t)=>{const s=t.getAction(),{type:a,actionTimestamp:n}=s;switch(a){case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_REQUESTED:return e.concat([{id:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,hash:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,type:o.sKi.FILTERS_AND_BLOCKED_SENDERS_TO_FETCH,timestamp:n}])}return e},reconciler:(e=[],t)=>{switch(t.getAction().type){case r.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED:case r.SETTINGS_MAILBOX_ATTRIBUTES_FETCH_FAILED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_RECEIVED:case r.SETTINGS_FILTERS_AND_BLOCKED_SENDERS_FAILED:return[]}return e}},[o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,doesCurrentRouteContainDraft:a,getComposeAttributesSelectors:n,getSelectedMailboxId:i,isMobileRoute:l}=t,{getComposeAttributesStatus:c}=n(),d=c();if(!i()||d!==o.DAQ.LOADING||l())return[];const _=s();switch(_.type){case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:return[{hash:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:_.actionTimestamp,type:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}];case r.WINDOW_RESIZING:case r.WINDOW_RESIZED:return e;default:if(a())return[{hash:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,timestamp:_.actionTimestamp,type:o.sKi.COMPOSE_ATTRIBUTES_TO_FETCH,userInputtedValues:{}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.COMPOSE_ATTRIBUTES_RECEIVED:case r.COMPOSE_ATTRIBUTES_FETCH_FAILED:return[]}return e}},[o.sKi.POST_LUNCH_TO_SYNC]:{reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.POST_LAUNCH_SYNC_FAILED:return[]}return e},syncSelector:(e=[],t)=>{const{getSelectedMailboxId:s,getAction:a}=t;if(!s())return[];switch(a().type){case r.LAUNCH_PAGE_REQUESTED:case r.INITIAL_STATE:case r.LAUNCH_ERROR:return[]}return e}},[o.sKi.TOP_RETAILERS_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:return[{type:o.sKi.TOP_RETAILERS_TO_FETCH,hash:"TOP_RETAILERS_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsViewSelectors:i})=>{const{type:l}=t(),c=n(s())===o.K8C.COUPONS,d=a(o.ANe.DEALS)&&c,_=i().getTopRetailers();if(!d||_)return[];if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return[];switch(l){case r.TOP_RETAILERS_REQUEST_SUCCEEDED:case r.TOP_RETAILERS_REQUEST_FAILED:return[]}return e}},[o.sKi.TOP_DEAL_CATEGORIES_TO_FETCH]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:return[{type:o.sKi.TOP_DEAL_CATEGORIES_TO_FETCH,hash:"TOP_DEAL_CATEGORIES_UNSYNCED_DATA_HASH",timestamp:a}];default:return e}},reconciler:(e,{getAction:t,getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getDealsViewSelectors:i})=>{const{type:l}=t(),c=n(s())===o.K8C.COUPONS,d=a(o.ANe.DEALS)&&c,_=i().getTopDealCategories();if(!d||_)return[];if(a(o.ANe.SHOW_SMARTVIEWS_INLINE_PROMPT))return[];switch(l){case r.TOP_DEAL_CATEGORIES_REQUEST_SUCCEEDED:case r.TOP_DEAL_CATEGORIES_REQUEST_FAILED:return[]}return e}},[o.sKi.RECENT_SEARCH_DELETE]:{preparer:(e=[],t)=>{const{getAction:s}=t,{query:a,actionTimestamp:n,type:i}=s();switch(i){case r.DELETE_RECENT_SEARCH_REQUESTED:return e.concat({id:a,hash:a,userInputtedValues:{query:a},timestamp:n,type:o.sKi.RECENT_SEARCH_DELETE,syncThrottle:12e4,syncDefer:200})}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.DELETE_RECENT_SEARCH_SUCCEEDED:case r.DELETE_RECENT_SEARCH_FAILED:return e.id!==a.query}return!0}))}},[o.sKi.SYNC_NOW]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSelectedAccountId:n,getAccountById:i,getMailboxesSelectors:l}=t,c=s();if(!a(o.ANe.SYNC_NOW))return e;switch(c.type){case r.SYNC_DATA:if(c.forceSync&&c.userInitiated){const t=n(),s=i(t),{id:a}=l().getExpiredAccountAlert(t);return!s||s.isPrimary||!s.isPrimary&&a?e:[{id:o.sKi.SYNC_NOW,hash:o.sKi.SYNC_NOW,timestamp:c.actionTimestamp,type:o.sKi.SYNC_NOW,syncThrottle:12e4}]}return e;case r.ACCOUNT_ADD_SUCCEEDED:{const{newAccount:t}=c;return(null==t?void 0:t.type)===o.tO8.IMAPIN?[{id:o.sKi.SYNC_NOW,hash:o.sKi.SYNC_NOW,timestamp:c.actionTimestamp,type:o.sKi.SYNC_NOW,syncThrottle:12e4,userInputtedValues:{accountId:t.id}}]:e}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.SYNC_NOW_SUCCEEDED:case r.SYNC_NOW_FAILED:return[]}return e}},[o.sKi.RECENT_SEARCHES_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getRecentSearchesSelectors:n}=t,i=s(),{getRecentSearchesCallStatus:l}=n();if(!a(o.ANe.SHOW_RECENT_SUGGESTIONS)||l()!==o.DAQ.DOES_NOT_EXIST)return e;switch(i.type){case r.RECENT_SEARCHES_REQUESTED:case r.SEARCH_INPUT_FOCUSED:return[{id:o.sKi.RECENT_SEARCHES_TO_FETCH,hash:o.sKi.RECENT_SEARCHES_TO_FETCH,timestamp:i.actionTimestamp,type:o.sKi.RECENT_SEARCHES_TO_FETCH}]}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.RECENT_SEARCHES_SUCCEEDED:case r.RECENT_SEARCHES_FAILED:return[]}return e}},[o.sKi.LINK_ENHANCER_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getSetting:a}=t;if(!a(o.Zrf.LINK_ENHANCR))return e;const n=s();switch(n.type){case r.LINK_ENHANCER_FETCH_REQUESTED:{const{cardUrl:s}=n,{getLinkEnhancerSelectors:a}=t,{getEnhancedLinks:r}=a(),i=s;return void 0!==r()[s]?e:[...e,{id:i,hash:i,timestamp:n.actionTimestamp,type:o.sKi.LINK_ENHANCER_TO_FETCH,userInputtedValues:{cardUrl:s,id:i}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return e.filter((e=>{switch(a.type){case r.LINK_ENHANCER_FETCH_SUCCEEDED:case r.LINK_ENHANCER_FETCH_FAILED:return e.id!==a.id}return!0}))}},[o.sKi.FETCH_PRIMARY_ACCOUNT]:{preparer:bs,reconciler:ys},[o.sKi.UPDATE_PAC_CUE]:{preparer:(e=[],t)=>{const{getSetting:s,getAction:a}=t,n=a(),i=s(o.Zrf.SCOUT_ONBOARDING),l=(0,Ue.JV)(i,o.ANe.WEB_PAC_NOTIFICATION_CUE);switch(n.type){case r.PAC_CUE_MARK_AS_SHOWN_REQUESTED:{const{name:t,userResponse:s}=n;return s<=l?e:[{hash:o.sKi.UPDATE_PAC_CUE,timestamp:n.actionTimestamp,type:o.sKi.UPDATE_PAC_CUE,userInputtedValues:{name:t,userResponse:s}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();return[r.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED,r.FEATURE_CUE_MARK_AS_SHOWN_FAILED].indexOf(a.type)>-1&&a.feature===o.ANe.WEB_PAC_NOTIFICATION_CUE?e.filter((e=>{switch(a.type){case r.FEATURE_CUE_MARK_AS_SHOWN_SUCCEEDED:{const{userInputtedValues:{userResponse:t}}=e;return t>(0,Ue.JV)(a.value,o.ANe.WEB_PAC_NOTIFICATION_CUE)}case r.FEATURE_CUE_MARK_AS_SHOWN_FAILED:return!1}return!0})):e}},[o.sKi.RSVP_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,getCalendarSelectors:a,doesMessageBodyExist:n}=t,{type:i,messageId:l,actionTimestamp:c}=s(),{getInviteStatus:d}=a();switch(i){case r.GET_INVITE_INFO_REQUESTED:return!l||n(l)||"READY"===d(l)?e:e.concat([{type:o.sKi.RSVP_FETCH,timestamp:c,hash:l,userInputtedValues:{messageId:l}}]);default:return e}},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.INVITEINFO_FETCH_SUCCEEDED:case r.INVITEINFO_FETCH_FAILED:return e.filter((({userInputtedValues:e})=>!(a.messageIds||[]).includes(e.messageId)));default:return e}}},[o.sKi.BREAKING_NEWS]:{preparer:(e=[],{getAction:t})=>{const{type:s,actionTimestamp:a}=t();switch(s){case r.LAUNCH_COMPLETED:case r.BREAKING_NEWS_REFRESH:case r.OPEN_PAGE_REQUESTED:return[{type:o.sKi.BREAKING_NEWS,hash:"BREAKING_NEWS_HASH",timestamp:a}]}return e},reconciler:(e,t)=>{const{isFeatureEnabled:s,getSetting:a,getAction:n,getBreakingNewsSelectors:i,isAppVisible:l,getApplicationLastVisibleTimeStamp:c}=t,{type:d,actionTimestamp:_}=n(),E=s(o.ANe.BREAKING_NEWS_ENABLED),u=i().getNewsRefreshTimestamp(),m=a(o.Zrf.BREAKING_NEWS_REFRESH_INTERVAL),S=i().getNewsArticle();if(!E)return[];switch(d){case r.BREAKING_NEWS_SUCCESS:case r.BREAKING_NEWS_FAILED:return[];case r.BREAKING_NEWS_REFRESH:{const e=l()?null:c();if(e&&_>e+18e5&&!S.title)return[]}}return e.filter((e=>e.timestamp-u>m))}},[o.sKi.WEATHER]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n,getRoute:i}=t,{type:l,actionTimestamp:c}=s(),d=i(),_=a(o.ANe.SHOW_WEATHER),E=n(o.Zrf.TODAYPAGE_URL);if(d.name!==o.n8z.TODAYPAGE||!E||!_)return e;switch(l){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:case r.WEATHER_GET_REQUESTED:return[{type:o.sKi.WEATHER,hash:"WEATHER_HASH",timestamp:c}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.WEATHER_SUCCESS:case r.WEATHER_FAILED:return[]}return e}},[o.sKi.WEATHER_LOCATION_SUGGESTIONS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getSetting:n,getRoute:i}=t,{type:l,actionTimestamp:c,query:d}=s(),_=i(),E=a(o.ANe.SHOW_WEATHER),u=n(o.Zrf.TODAYPAGE_URL);if(_.name!==o.n8z.TODAYPAGE||!u||!E)return e;switch(l){case r.WEATHER_LOCATION_SUGGESTIONS_REQUESTED:return[{type:o.sKi.WEATHER_LOCATION_SUGGESTIONS,hash:"WEATHER_LOCATION_HASH",timestamp:c,userInputtedValues:{query:d}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.WEATHER_LOCATION_SUCCESS:case r.WEATHER_LOCATION_FAILED:return[]}return e}},[o.sKi.SPELL_CHECK_SUGGESTIONS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:i,spellCheckText:l}=s();if(!a(o.ANe.ENABLE_SPELL_CHECK)||!l)return e;switch(n){case r.SPELL_CHECK_SUGGESTIONS_REQUESTED:return[{type:o.sKi.SPELL_CHECK_SUGGESTIONS,hash:"SPELL_CHECK_HASH",timestamp:i,userInputtedValues:{spellCheckText:l}}]}return e},reconciler:(e,t)=>{const{getAction:s}=t;switch(s().type){case r.SPELL_CHECK_SUCCESS:case r.SPELL_CHECK_FAILED:return[]}return e}},[o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_CONNECT_REQUESTED:{const{provider:t,actionTimestamp:s}=a;return(({provider:e,unsyncedData:t,timestamp:s})=>t.concat({type:o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL,hash:o.sKi.CLOUD_STORAGE_ACCOUNT_AUTH_URL,timestamp:s,userInputtedValues:{provider:e}}))({provider:t,unsyncedData:e,timestamp:s})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_AUTH_URL_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_REQUESTED:{const{query:s,listId:n,fetchMoreItems:r,source:i,path:l}=a,{getListsSelectors:c}=t,{getItemIdsSelectors:d,doesListExist:_,hasMoreItems:E}=c(),u=a.listId;if(_(n)){const t=d(n).getItemIds().length;if(!E(n)&&t)return e;if(t&&!r)return e}return[...e,{id:u,hash:u,timestamp:a.actionTimestamp,type:o.sKi.CLOUD_STORAGE_ITEMS_TO_FETCH,userInputtedValues:{query:s,listId:n,fetchMoreItems:r,id:u,source:i,path:l}}]}}return e},reconciler:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_FAILED:return e.filter((e=>e.id!==a.id))}return e}},[o.sKi.FETCH_CLOUD_STORAGE_PROVIDERS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getContentProviders:n}=t;if(!(a(o.ANe.CLOUD_STORAGE)||a(o.ANe.MAIL_YAI)||a(o.ANe.POTENTIAL_MAIL_YAI)))return e;const i=s(),{actionTimestamp:l,type:c}=i,{isContentProvidersLoaded:d}=n();switch(c){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:if(!d()&&((e=>{const{getRoute:t}=e,{name:s,params:a={}}=t();return s===o.n8z.SETTINGS&&a.settingsGroupId===o.u5h.WRITING_EMAIL||s===o.n8z.NEW_DRAFT||s===o.n8z.EDIT_DRAFT})(t)||a(o.ANe.MAIL_YAI)||a(o.ANe.POTENTIAL_MAIL_YAI)))return Ia(l);break;case r.OPEN_COMPACT_COMPOSE:case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:if(!d())return Ia(l);break;case r.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_CONNECT_SUCCEEDED:case r.YAI_OPT_IN_SUCCEEDED:return Ia(l)}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_FETCH_PROVIDERS_FAILED:return[]}return e}},[o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT]:{preparer:(e=[],t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_DISCONNECT_REQUESTED:{const{provider:t,unlink:s,actionTimestamp:n}=a;return(({provider:e,unlink:t,unsyncedData:s,timestamp:a})=>s.concat({type:o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT,hash:o.sKi.UNLINK_CLOUD_STORAGE_ACCOUNT,timestamp:a,userInputtedValues:{provider:e,unlink:t}}))({provider:t,unlink:s,unsyncedData:e,timestamp:n})}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ACCOUNT_DISCONNECT_SUCCEEDED:case r.CLOUD_STORAGE_ACCOUNT_DISCONNECT_FAILED:return e.filter((e=>e.userInputtedValues.provider!==a.provider))}return e}},[o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK]:{preparer:(e=[],t)=>{const{getAction:s,getCloudStorageAccountSelectors:a}=t,n=s();switch(n.type){case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:{const{itemId:t,provider:s,actionTimestamp:r}=n,{getShareableLinkByItemId:i}=a();return i(t)?e:[...e,{type:o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK,hash:o.sKi.CLOUD_STORAGE_ITEM_SHAREABLE_LINK+t,timestamp:r,userInputtedValues:{itemId:t,provider:s}}]}}return e},reconciler:(e,t)=>{const{getAction:s}=t,a=s();switch(a.type){case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:return e.filter((e=>e.userInputtedValues.itemId!==a.itemId))}return e}},[o.sKi.PHISHING_REMOVE_BDM_DECO]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,mailboxId:n,messageId:i}=t();switch(a){case r.PHISHING_REMOVE_BDM_DECO_REQUESTED:return e.concat({type:o.sKi.PHISHING_REMOVE_BDM_DECO,hash:`${n}_${i}`,timestamp:s,userInputtedValues:{mailboxId:n,messageId:i}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case r.PHISHING_REMOVE_BDM_DECO_SUCCEEDED:case r.PHISHING_REMOVE_BDM_DECO_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a));default:return e}}},[o.sKi.ASTRA_BATCH_REQUEST]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSelectedMailboxId:a,isStorefrontRoute:n,getStorefrontBrandsSelectors:i})=>{const{type:l,actionTimestamp:c}=t(),d=ha.filter((e=>s(e)));if(!d.length)return e;const{isAstraBatchAPICalled:_}=i();switch(l){case r.LAUNCH_COMPLETED:return s(o.ANe.STOREFRONT_SHORTCUTS)||n()?e.concat({id:o.sKi.ASTRA_BATCH_REQUEST,hash:o.sKi.ASTRA_BATCH_REQUEST,timestamp:c,type:o.sKi.ASTRA_BATCH_REQUEST,userInputtedValues:{batchEnabledFeatures:d,mailboxId:a()}}):e;case r.OPEN_PAGE_REQUESTED:return n()&&!_()?e.concat({id:o.sKi.ASTRA_BATCH_REQUEST,hash:o.sKi.ASTRA_BATCH_REQUEST,timestamp:c,type:o.sKi.ASTRA_BATCH_REQUEST,userInputtedValues:{batchEnabledFeatures:d,mailboxId:a()}}):e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.ASTRA_BATCH_API_SUCCEEDED:case r.ASTRA_BATCH_API_FAILED:return[];default:return e}}},[o.sKi.COMBINE_DEALS]:{preparer:(e=[],{getAction:t,isFeatureEnabled:s,getSelectedMailboxId:a,getRoute:n})=>{const{type:i,actionTimestamp:l}=t();switch(i){case r.LAUNCH_PAGE_REQUESTED:case r.OPEN_PAGE_REQUESTED:return s(o.ANe.FETCH_COMBINE_DEALS_FROM_ASTRA)&&(e=>{const{name:t}=e();return t===o.n8z.LIST&&(0,z.LY)(e()).includes("COUPON_CARDS")})(n)&&!s(o.ANe.STOREFRONT)?e.concat({id:o.sKi.COMBINE_DEALS,hash:o.sKi.COMBINE_DEALS,timestamp:l,type:o.sKi.COMBINE_DEALS,userInputtedValues:{mailboxId:a()}}):e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.COMBINE_DEALS_SUCCEEDED:case r.COMBINE_DEALS_FAILED:return[];default:return e}}},[o.sKi.PURCHASE_MAILPRO_FREE_TRIAL]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a}=t,{type:n,actionTimestamp:i}=s();if(!a(o.ANe.MAILPRO_FREE_TRIAL))return[];switch(n){case r.PURCHASE_MAILPRO_FREE_TRIAL:return[{type:o.sKi.PURCHASE_MAILPRO_FREE_TRIAL,hash:"PURCHASE_MAILPRO_FREE_TRIAL_HASH",timestamp:i}];default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:case r.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return[]}return e}},[o.sKi.LIST_MAIL_PREMIUM_SUBSCRIPTIONS]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,getFeatureCueSelectors:n,getMailPremiumFreeTrialSelectors:i,getRoute:l}=t,c=s(),{type:d}=c;if(!a(o.ANe.MAILPRO_FREE_TRIAL)&&!a(o.ANe.MAIL_PLUS_ELIGIBLE)||i().getListSubscriptionsApiCallStatus()!==o.DAQ.DOES_NOT_EXIST)return e;if(a(o.ANe.MAILPRO_TO_MAIL_PLUS_UPSELL_ELIGIBLE)&&a(o.ANe.MAIL_PLUS)&&d===r.LAUNCH_COMPLETED)return e.concat(Ta(c));switch(d){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:if(a(o.ANe.MAILPRO_FREE_TRIAL)){const t=n().getUserResponse(o.ANe.MAILPRO_FREE_TRIAL_UPSELLS),s=i().getSubscriptionStatus(),r=parseInt(t,10)||0,l=a(o.ANe.ADS);return(l&&r>=Sa&&r<pa||l&&r>=Ca&&r<Aa||!l&&r>=ma&&r<Aa)&&s===o.cZM.NOT_APPLICABLE?e.concat(Ta(c)):[]}if(a(o.ANe.MAIL_PLUS_ELIGIBLE)&&!a(o.ANe.MAIL_PLUS)){const t=l();return(0,ls.re)(t)?e.concat(Ta(c)):e}return e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:return[]}return e}},[o.sKi.CONSUME_TASTEMAKER]:{preparer:ba,reconciler:ya},[o.sKi.DELETE_TASTEMAKER]:{preparer:ba,reconciler:ya},[o.sKi.REMOVE_SPAM_SCHEMA]:{preparer:(e=[],{getAction:t})=>{const{actionTimestamp:s,type:a,mailboxId:n,messageId:i}=t();switch(a){case r.REMOVE_SPAM_SCHEMA_REQUESTED:return e.concat({type:o.sKi.REMOVE_SPAM_SCHEMA,hash:`${n}_${i}`,timestamp:s,userInputtedValues:{mailboxId:n,messageId:i}});default:return e}},reconciler:(e,{getAction:t})=>{const{type:s,messageId:a}=t();switch(s){case r.REMOVE_SPAM_SCHEMA_SUCCEEDED:case r.REMOVE_SPAM_SCHEMA_FAILED:return e.filter((e=>e.userInputtedValues.messageId!==a));default:return e}}},[o.sKi.STATIC_MAILPLUS_UPSELL_FETCH]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,couldShowEmptyFolderVideo:n,getAdsSelectors:i}=t,l=s();if(!a(o.ANe.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER)&&!a(o.ANe.EMPTY_FOLDER_ALTER)||!n())return e;const c={id:o.sKi.STATIC_MAILPLUS_UPSELL_FETCH,hash:"STATIC_MAILPLUS_UPSELL_FETCH",timestamp:l.actionTimestamp,type:o.sKi.STATIC_MAILPLUS_UPSELL_FETCH,userInputtedValues:{placementname:"mail-desktop-web-emptyfolder"}};switch(l.type){case r.LAUNCH_COMPLETED:case r.CHANGE_FOLDER_SUCCEEDED:return e.concat(c);case r.OPEN_PAGE_REQUESTED:return a(o.ANe.EMPTY_FOLDER_ALTER)&&i().getEmptyFolderAlterUpsellType()!==o.GyM.STATIC_MAIL_PLUS_UPSELL_FOR_EMPTY_FOLDER?e:e.concat(c)}return e},reconciler:(e=[],t)=>{const{getAction:s}=t;switch(s().type){case r.STATIC_MAIL_PLUS_UPSELL_FETCH_SUCCEEDED:case r.STATIC_MAIL_PLUS_UPSELL_FETCH_FAILED:return[]}return e}},[o.sKi.RIGHT_RAIL_CARDS_TO_FETCH]:{preparer:(e=[],t)=>{const{isFeatureEnabled:s,getAction:a,getSelectedAccountId:n,getSelectedMailboxId:i}=t,l=s(o.ANe.RIGHT_RAIL_DEALS)||s(o.ANe.RIGHT_RAIL_PRODUCTS),{actionTimestamp:c,type:d}=a(),_=n(),E=i();if(l)switch(d){case r.OPEN_PAGE_REQUESTED:case r.PREVIEW_MESSAGE_REQUESTED:case r.LAUNCH_COMPLETED:return[{type:o.sKi.RIGHT_RAIL_CARDS_TO_FETCH,id:o.sKi.RIGHT_RAIL_CARDS_TO_FETCH,hash:o.sKi.RIGHT_RAIL_CARDS_TO_FETCH,timestamp:c,userInputtedValues:{mailboxId:E,accountId:_}}];default:return e}return e},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.RIGHT_RAIL_IC_DEALS_FAILED:case r.RIGHT_RAIL_IC_DEALS_RECEIVED:case r.RIGHT_RAIL_IC_PRODUCTS_FAILED:case r.RIGHT_RAIL_IC_PRODUCTS_RECEIVED:return[];default:return e}}},[o.sKi.WALLET]:{preparer:(e=[],t)=>{const{getAction:s,isFeatureEnabled:a,doesListExist:n,getListStatus:i,getRoute:l}=t,{actionTimestamp:c,type:d,route:_}=s(),E=(0,z.LY)(l()),u=n(E)&&i(E)===o.DAQ.LOADED;switch(d){case r.OPEN_PAGE_REQUESTED:case r.LAUNCH_COMPLETED:return a(o.ANe.WALLET)&&(null==_?void 0:_.name)===o.n8z.WALLET&&!u?[...e,{id:o.sKi.WALLET,hash:o.sKi.WALLET,timestamp:c,type:o.sKi.WALLET,userInputtedValues:{}}]:e;default:return e}},reconciler:(e,{getAction:t})=>{const{type:s}=t();switch(s){case r.WALLET_LIST_SUCCEEDED:case r.WALLET_LIST_FAILED:return[];default:return e}}}};var Ga=s(42056);const Ha=(e=[],t)=>t.unsyncedData&&!p()(t.unsyncedData,e)?t.unsyncedData:e,Ba=(e,t,s,a)=>{const n=t.reduce(((e,t)=>({...e,[t.type]:(e[t.type]||[]).concat(t)})),{}),r=fs()(Object.keys(o.sKi).concat(t.map((e=>e.type))));return[].concat.apply([],r.map((t=>wa[t]&&"function"==typeof wa[t][e]?wa[t][e](n[t]||[],s,a):n[t]||[])))},xa=(e,t={})=>Ba("reconciler",e,t).concat(((e,t={})=>{const{getAction:s}=t,a=s();return a.type!==r.SYNC_DATA&&Ga.Z[a.type]?[{id:`V2-${a.type}-${a.actionTimestamp}`,hash:`V2-${a.type}-${a.actionTimestamp}`,type:a.type,isAutoGenerated:!0,timestamp:a.actionTimestamp,userInputtedValues:a}]:[]})(0,t)),Va=(0,a.combineReducers)({currentChannel:(e="",t)=>{switch(t.type){case r.CHANNEL_CHANGED:case r.VIDEO_CHANNEL_RECEIVED:return t.channel}return e},showVideoPlayer:(e=!0,t)=>{switch(t.type){case r.VIDEO_PLAYER_CLOSED:return!1;case r.VIDEO_PLAYER_OPENED:return!0}return e},channelData:(e={},t)=>{switch(t.type){case r.VIDEO_CHANNELS_METADATA_RECEIVED:return t.payload;case r.VIDEO_CHANNEL_RECEIVED:{const{payload:s,channel:a}=t;return{...e,[a]:s[a]}}}return e},isPaused:(e=!1,t)=>{switch(t.type){case r.VIDEO_PLAYER_PAUSED:return!0;case r.VIDEO_PLAYER_PLAYED:return!1}return e}});const Za=function(e={},t){switch(t.type){case r.SETTINGS_ADD_FILTER_REQUESTED:return{messageId:t.messageId,listId:t.listId};case r.OPEN_PAGE_REQUESTED:{const{settingsGroupId:e=""}=t.route.params||{};if(e!==o.u5h.FILTERS)return{}}}return e},Wa=(e={},t)=>{switch(t.type){case r.CHECK_NUDGE_AND_SMART_REPLY_SUCCEEDED:{const{replySuggestionResponse:s}=t;return s?{...e,...s}:e}default:return e}},Ka=(0,a.combineReducers)({newsArticle:(e={},t)=>{switch(t.type){case r.BREAKING_NEWS_SUCCESS:return t.news&&t.news.id&&e.id!==t.news.id?{...t.news,isRead:!1}:e;case r.BREAKING_NEWS_CLICKED:case r.OPEN_PAGE_REQUESTED:if(void 0!==e.isRead){const s=Object.assign({},e,{isRead:!0}),{route:a}=t;return t.type===r.OPEN_PAGE_REQUESTED&&a.name!==o.n8z.MESSAGE_FROM_FOLDER_LIST&&a.name!==o.n8z.MESSAGE_FROM_SEARCH_LIST?e:s}return e;case r.BREAKING_NEWS_DISMISSED:case r.BREAKING_NEWS_FAILED:return{}}return e},isDismissed:(e=!1,t)=>{switch(t.type){case r.BREAKING_NEWS_DISMISSED:return!0}return e},newsRefreshTimestamp:(e=0,t)=>{switch(t.type){case r.BREAKING_NEWS_SUCCESS:case r.BREAKING_NEWS_FAILED:return t.actionTimestamp}return e}});const za=(0,a.combineReducers)({weatherData:(e={},t)=>{const{weatherData:s={},weatherLocationSuggestions:a={}}=t;switch(t.type){case r.WEATHER_SUCCESS:return s;case r.WEATHER_LOCATION_SUCCESS:return{...e,...a}}return e}});const Ya=(0,a.combineReducers)({spellCheckData:(e={},t)=>{const{spellCheckData:s={}}=t;switch(t.type){case r.SPELL_CHECK_SUCCESS:return s}return e}});var ja=s(47292);const{DOES_NOT_EXIST:qa,SUCCESS:Xa,FAILED:Qa}=o.Mwh,{NOT_APPLICABLE:Ja,SUBSCRIBED:$a}=o.cZM,{IN_PREVIEW:en,NOT_IN_PREVIEW:tn}=o.kuZ,sn=(0,a.combineReducers)({listSubscriptionsApiCallStatus:(e=o.DAQ.DOES_NOT_EXIST,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:{const{subscriptionDetails:e}=t;return(0,i.xb)(e)?o.DAQ.DOES_NOT_EXIST:o.DAQ.LOADED}case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return o.DAQ.LOADED;case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_FAILED:return o.DAQ.ERROR}return e},purchaseFreeTrialStatus:(e=qa,t)=>{switch(t.type){case r.PURCHASE_MAILPRO_FREE_TRIAL:return qa;case r.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return Xa;case r.PURCHASE_MAILPRO_FREE_TRIAL_FAILED:return Qa}return e},trialStartDate:(e=0,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:{const{subscriptionDetails:s={}}=t,{trialStartDate:a,inFreeTrial:n=!1}=s;return a&&n?a:e}case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var s;var a;if((null===(s=t.data)||void 0===s?void 0:s.inFreeTrial)||!1)return null===(a=t.data)||void 0===a?void 0:a.trialStartDate}return e},upsellId:(e=0,t)=>{switch(t.type){case r.LAUNCH_COMPLETED:case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return t.mailproFreeTrialUpsellId||e}return e},subscriptionStatus:(e=Ja,t)=>{switch(t.type){case r.LAUNCH_COMPLETED:case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:return t.subscriptionStatus||e;case r.PURCHASE_MAILPRO_FREE_TRIAL_SUCCESS:return $a}return e},hasCrossDeviceMailPlusInSubsList:(e=!1,t)=>{switch(t.type){case r.LAUNCH_PAGE_REQUESTED:{const{subscriptionDetails:e={}}=t,{hasCrossDeviceMailPlusInSubsList:s}=e;return!!s}case r.LIST_MAIL_PREMIUM_SUBSCRIPTIONS_SUCCESS:var s;return!(null===(s=t.data)||void 0===s||!s.hasCrossDeviceMailPlusInSubsList)}return e},dealsRecommendationsPreview:(e={status:tn,value:void 0},t)=>{switch(t.type){case r.TOGGLE_DEAL_RECOMMENDATION_PREVIEW:return{status:en,value:t.dealsRecommendationsAllowed};case r.FEATURE_CLOSED:{const{name:s}=t;if(s===o.ANe.DEALS_RECOMMEND_CONTROL_CUE||s===o.ANe.DEALS_RECOMMEND_CONTROL_MOBILE_CUE)return{...e,status:tn};break}case r.SETTINGS_CHANGE_SUCCEEDED:case r.SETTINGS_CHANGE_FAILED:{const{name:e}=t;if(e===o.Zrf.DISABLED_MESSAGE_READ_CARDS)return{status:tn,value:void 0};break}}return e}}),an=(0,a.combineReducers)({isRead:(e=!1,t)=>{switch(t.type){case r.READ_CHANGE_REQUESTED:return!t.isRead;case r.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE)return!0;break;case r.GEMINI_AD_RECEIVED:return!1}return e},isSelected:(e=!1,t)=>{switch(t.type){case r.TOGGLE_PENCIL_AD_SELECTION:return!e;case r.ALL_STREAM_ITEMS_SELECTED:return!0;case r.DELETE_ITEMS_REQUESTED:case r.MOVE_ITEMS_REQUESTED:case r.READ_CHANGE_REQUESTED:case r.DELETE_PENCIL_AD:case r.STREAM_ITEMS_SELECTION_CLEARED:case r.SEARCH_INPUT_FOCUSED:case r.STAR_CHANGE_REQUESTED:return!1}return e},isDeleted:(e=!1,t)=>{switch(t.type){case r.DELETE_PENCIL_AD:return!0;case r.DELETE_ITEMS_REQUESTED:case r.MOVE_ITEMS_REQUESTED:if(t.isSelected)return!0;break;case r.GEMINI_AD_RECEIVED:return!1}return e},rotateAd:(e=1,t)=>{switch(t.type){case r.READ_CHANGE_REQUESTED:return t.isRead?1:0;case r.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE){if(1===e)return 0;if(e<=0)return++e}else if(t.previousRoute.name!==o.n8z.SPONSORED_MESSAGE&&e<=0)return++e;break;case r.DELETE_PENCIL_AD:return 0;case r.DELETE_ITEMS_REQUESTED:case r.MOVE_ITEMS_REQUESTED:if(t.isSelected)return 0;if(e<=0)return++e;break;default:if((0,Ce.k_)(t,!1)&&e<=0)return++e}return e}}),nn=(e={},t)=>{if(!Object.keys(e).length&&t.type===r.GEMINI_AD_RECEIVED&&t.sponsoredMessageTriage)return[o.e$m.MESSAGE_LIST,o.e$m.MESSAGE_LIST_2].forEach((s=>{e[s]=an(e[s],t)})),e;if(Object.keys(e).length)switch(t.type){case r.TOGGLE_PENCIL_AD_SELECTION:case r.DELETE_PENCIL_AD:return{...e,[t.adPosition]:an(e[t.adPosition],t)};case r.ALL_STREAM_ITEMS_SELECTED:case r.STREAM_ITEMS_SELECTION_CLEARED:case r.STAR_CHANGE_REQUESTED:case r.SEARCH_INPUT_FOCUSED:if(t.type!==r.SEARCH_INPUT_FOCUSED||t.clearSelection){const s={};return Object.keys(e).forEach((a=>{s[a]=an(e[a],t)})),s}break;case r.READ_CHANGE_REQUESTED:{const s={...e};return Object.keys(e).forEach((a=>{e[a].isSelected&&(s[a]=an(e[a],t))})),s}case r.MOVE_ITEMS_REQUESTED:case r.DELETE_ITEMS_REQUESTED:if("DELETE_SELECTED_ITEMS"===t.triageActionType||"MOVE_SELECTED_ITEMS"===t.triageActionType){const s={};return Object.keys(e).forEach((a=>{s[a]=an(e[a],{...t,isSelected:e[a].isSelected})})),s}break;case r.OPEN_PAGE_REQUESTED:if(t.route.name===o.n8z.SPONSORED_MESSAGE)return{...e,[t.adPosition]:an(e[t.adPosition],t)};if(t.previousRoute.name!==o.n8z.SPONSORED_MESSAGE){const s={};return Object.keys(e).forEach((a=>{s[a]=an(e[a],t)})),s}break;case r.GEMINI_AD_RECEIVED:{const s={...e};return Object.keys(e).forEach((a=>{t.sectionIds&&Object.keys(t.sectionIds).indexOf(a)>-1&&(s[a]=an(e[a],t))})),s}default:if((0,Ce.k_)(t,!1)){const s={};return Object.keys(e).forEach((a=>{s[a]=an(e[a],t)})),s}}return e},rn=(e={},t)=>{switch(t.type){case r.CLOUD_STORAGE_ACCOUNT_FETCH_RESULTS_SUCCEEDED:{const{listData:{cloudStorageItems:s={}}}=t;return{...e,...s}}case r.CLOUD_STORAGE_ITEM_PERMISSION_UPDATED:{const{itemId:s,permission:a}=t,n=e[s];return{...e,[`${s}`]:{...n,permission:a}}}case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:{const{itemId:s}=t,a=e[s];return{...e,[`${s}`]:{...a,permission:o.zCd.PUBLIC}}}default:return e}},on=(e={},t)=>{const{type:s,itemId:a,shareableLink:n}=t;switch(s){case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return{...e,[`${a}`]:{shareableLink:n}};default:return e}},ln=(e,t)=>{const{type:s,itemId:a}=t;switch(s){case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_REQUESTED:case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_SUCCEEDED:return a;case r.CLOUD_STORAGE_ITEM_LINK_ADDED:case r.CLOUD_STORAGE_ITEM_SHAREABLE_LINK_FETCH_FAILED:default:return""}},cn=(0,a.combineReducers)({cloudStorageItems:rn,shareableLinks:on,recentItemId:ln}),dn=(0,a.combineReducers)({falconTOMSubscriptions:(e={},t)=>{const{type:s,responseList:a,groupIds:n}=t;switch(s){case r.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:{const t={};return(n||[]).forEach((e=>{t[`${e}`]=a[e]||{}})),{...e,...t}}default:return e}},falconTOMSubscriptionsApiCallStatus:(e={},t)=>{switch(t.type){case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:{const{ineligibleFalconTOMGroupIds:s}=t,a={};return(s||[]).forEach((e=>{a[`${e}`]=o.bYh.CANCELLED})),{...e,...a}}case r.FALCON_TOM_SUBSCRIPTIONS_FETCH_REQUESTED:{const{groupIds:s}=t,a={};return(s||[]).forEach((t=>{e[`${t}`]||(a[`${t}`]=o.bYh.LOADING)})),{...e,...a}}case r.FALCON_TOM_SUBSCRIPTIONS_FETCH_SUCCEEDED:case r.FALCON_TOM_SUBSCRIPTIONS_FETCH_FAILED:{const{groupIds:s}=t,a={};return(s||[]).forEach((e=>{a[`${e}`]=o.bYh.LOADED})),{...e,...a}}default:return e}}}),_n=(0,a.combineReducers)({relatedCards:(e={},t)=>{const{type:s,relatedCardsMap:a={}}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.MESSAGE_BODIES_RECEIVED:case r.RELATED_CARDS_FETCH_SUCCEEDED:{const t={};return(Object.keys(a)||[]).forEach((e=>{t[e]=a[e]||[]})),{...e,...t}}case r.RELATED_CARDS_FETCH_FAILED:{const s={},{groupId:a}=t,n=e[a].filter((e=>new Date(e.ttl)>new Date));return s[a]=n,{...e,...s}}case r.COUPONS_REMOVE_TAG_DECO_REQUESTED:case r.COUPONS_ADD_TAG_DECO_REQUESTED:{const{cardMid:s,parentMessageId:a,schemaCard:n}=t,r=null==n?void 0:n.saved,o=[];return e[a]?(e[a].forEach((e=>{if("COMMERCE"!==e.vertical)return void o.push({...e});const t={...e};t.data=t.data.map((e=>e.cmid===s?{...e,saved:r}:e)),o.push(t)})),{...e,[a]:o}):e}default:return e}},relatedCardsStatus:(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.RELATED_CARDS_FETCH_SUCCEEDED:{const{relatedCardsMap:s={}}=t,a={};return(Object.keys(s)||[]).forEach((e=>{a[`${e}`]=o.bYh.LOADED})),{...e,...a}}default:return e}},commerceIntent:(e={},t)=>{const{type:s,relatedCardsMap:a={}}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.RELATED_CARDS_FETCH_SUCCEEDED:{const t={};return(Object.keys(a)||[]).forEach((e=>{var s,n,r;const i=(null===(s=a[e])||void 0===s||null===(n=s.filter((e=>e.vertical===o.VRv.HI)))||void 0===n||null===(r=n[0])||void 0===r?void 0:r.hIBrands)||[];for(const a of i)t[`${a}`]=!0})),{...e,...t}}default:return e}},isHighCommerceIntentUser:(e=!1,t)=>{const{type:s,relatedCardsMap:a={}}=t;switch(s){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.RELATED_CARDS_FETCH_SUCCEEDED:{if(e)return e;let t=!1;for(const e of Object.keys(a)||[]){for(const s of a[e])if(s.vertical===o.VRv.HI){t=!0;break}if(t)break}return t}default:return e}},relatedCardsVerticals:(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.RELATED_CARDS_FETCH_SUCCEEDED:{const{relatedCardsMap:s={},enabledVerticals:a=[]}=t,n={};return(Object.keys(s)||[]).forEach((e=>{n[`${e}`]=a})),{...e,...n}}default:return e}}}),En=(0,a.combineReducers)({from:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return(a.messages||[]).reduce(((e,{headers:{from:t=[]}})=>(t.length&&!e.find((({email:e})=>e===t[0].email))&&e.push(t[0]),e)),[]);default:return e}},messages:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return[...e,...a.messages.map((e=>e.id))];default:return e}},subjects:(e=[],t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return(a.messages||[]).reduce(((e,{headers:{subject:t=""}})=>(t.length&&e.push(t),e)),[]);default:return e}},timestamp:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return a.timestamp;default:return e}},type:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return(0,le.isValidEmail)(a.id)?o.ICb.SENDER:o.ICb.CONV;default:return e}},unreadCount:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return a.unread;default:return e}},totalCount:(e="",t)=>{const{type:s,sender:a}=t;switch(s){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:return a.total;default:return e}}});const un=function(e={},t){switch(t.type){case r.SENDER_ROLLUP_SUCCEEDED:case r.MORE_SENDER_ROLLUP_SUCCEEDED:{const{senderRollup:s=[],listId:a}=t,n=(0,z.Fh)(a);return Object.assign({},e,{[n]:Object.assign({},e[n]||{},s.reduce(((s,a)=>({...s,[a.id]:En(e[a.id],{type:t.type,sender:a})})),{}))})}}return e};const mn=(0,a.combineReducers)({affiliateProducts:(e=null,t)=>{switch(t.type){case r.AFFILIATE_OFFERS_SUCCEEDED:case r.STOREFRONT_MODULES_SUCCEEDED:case r.STOREFRONT_PRODUCTS_SUCCEEDED:return t.affiliateProducts||[];default:return e}},affinityNumber:(e=NaN,t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.affinityNumber||e;default:return e}},brandCategories:(e={},t)=>{const{type:s,brandCategories:a}=t;switch(s){case r.STOREFRONT_MODULES_SUCCEEDED:return a||e;default:return e}},brandDomains:(e=[],t)=>{const{type:s,brandDomains:a}=t;switch(s){case r.ASTRA_BATCH_API_SUCCEEDED:return a||e;default:return e}},brandEmailIds:(e=[],t)=>{const{type:s,brandEmailIds:a}=t;switch(s){case r.STOREFRONT_MODULES_SUCCEEDED:return a||e;default:return e}},brandId:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.brandId||"";default:return e}},dealCmids:(e=null,t)=>{const{type:s,dealCmids:a}=t;switch(s){case r.STOREFRONT_MODULES_SUCCEEDED:case r.STOREFRONT_DEALS_SUCCEEDED:return a||[];default:return e}},domain:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.domain||"";default:return e}},facebookUrl:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.facebookUrl||"";default:return e}},featured:(e=!1,t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.featured||!1;default:return e}},followed:(e=!1,t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.followed||!1;case r.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:return!0;case r.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:return!1;default:return e}},hasAffiliateProducts:(e=!1,t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.hasAffiliateProducts||e;default:return e}},isLoaded:(e=!1,t)=>{switch(t.type){case r.STOREFRONT_MODULES_FAILED:case r.STOREFRONT_MODULES_SUCCEEDED:return!0;default:return e}},logo:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.logo||"";default:return e}},name:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.name||"";default:return e}},newDealsCount:(e=0,t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.newDealsCount||e;case r.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:case r.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:return 0;default:return e}},numberOfMessages:(e=0,t)=>{const{type:s,numberOfMessages:a}=t;switch(s){case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:return a||e;default:return e}},receipts:(e=[],t)=>{switch(t.type){case r.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:return t.receipts||[];default:return e}},twitterUrl:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.twitterUrl||"";default:return e}},website:(e="",t)=>{switch(t.type){case r.ASTRA_BATCH_API_SUCCEEDED:return t.website||"";default:return e}}});const Sn=function(e={},t){const{actionTimestamp:s,affiliateProducts:a,applicationLastVisibleTimeStamp:n,brandId:l="",clicked:c,dealsToSave:d,isVisible:_,numberOfMessages:E,products:u,response:m,storefrontBrandCategories:S={},storefrontBrandEmailIds:p=[],storefrontProductsModule:C=[],storefrontReceiptsModule:A=[],type:T}=t;switch(T){case r.RESET_STOREFRONT_NEW_DEAL_COUNT_REQUESTED:return l?{...e,[l]:mn(e[l],{type:T})}:e;case r.ASTRA_BATCH_API_SUCCEEDED:var I,h;return((null==m||null===(I=m[o.G1D.AFFILIATE_RETAILERS])||void 0===I?void 0:I.brands)||(null==m||null===(h=m[o.G1D.STOREFRONT_BRANDS])||void 0===h?void 0:h.brands)||[]).reduce(((e,t)=>({...e,[t.brandId]:mn(e[t.brandId],{type:T,...t})})),{...e,astraBatchAPICalled:!0});case r.ASTRA_BATCH_API_FAILED:return{...e,astraBatchAPICalled:!0};case r.STOREFRONT_MODULES_SUCCEEDED:{if(!l)return e;const t=d.map((e=>e.cmid));return{...e,[l]:mn(e[l],{type:T,dealCmids:t,affiliateProducts:C,brandCategories:S,brandEmailIds:p})}}case r.STOREFRONT_EMAILS_MODULES_SUCCEEDED:return l?{...e,[l]:mn(e[l],{type:T,numberOfMessages:E})}:e;case r.AFFILIATE_OFFERS_SUCCEEDED:return l&&a?{...e,[l]:mn(e[l],{type:T,affiliateProducts:a})}:e;case r.INBOX_COMMERCE_FEATURE_CLICKED:return{...e,inboxCommerceFeatureClicked:c,autoExpansion:!1};case r.MESSAGE_BODY_LINK_CLICKED:return{...e,inboxCommerceFeatureClicked:!0};case r.OPEN_PAGE_REQUESTED:return{...e,inboxCommerceFeatureClicked:!1};case r.APPLICATION_VISIBILITY_DID_CHANGE:{let t=!1;if(_){const a=s-n;return t=a>5e3&&a<18e5,t?{...e,autoExpansion:t}:{...e,autoExpansion:t,inboxCommerceFeatureClicked:!1}}return e}case r.STOREFRONT_DEALS_SUCCEEDED:{var g;if(!l)return e;const t=d.map((e=>e.cmid)).filter((t=>{var s,a;return!(null!==(s=e[l])&&void 0!==s&&null!==(a=s.dealCmids)&&void 0!==a&&a.some((e=>e===t)))})),s=[...null===(g=e[l])||void 0===g?void 0:g.dealCmids,...t];return{...e,[l]:mn(e[l],{type:T,dealCmids:s})}}case r.STOREFRONT_PRODUCTS_SUCCEEDED:{var O;if(!l)return e;const t=u.filter((t=>{var s,a;return!(null!==(s=e[l])&&void 0!==s&&null!==(a=s.affiliateProducts)&&void 0!==a&&a.some((e=>e.productId===t.productId)))})),s=[...null===(O=e[l])||void 0===O?void 0:O.affiliateProducts,...t];return{...e,[l]:mn(e[l],{type:T,affiliateProducts:s})}}case r.STOREFRONT_RECEIPTS_MODULES_SUCCEEDED:{var D;if(!l)return e;const t=A.filter((t=>{var s,a;return!(null!==(s=e[l])&&void 0!==s&&null!==(a=s.receipts)&&void 0!==a&&a.some((e=>e.cardId===t.cardId)))})),s=[...null===(D=e[l])||void 0===D?void 0:D.receipts,...t];return{...e,[l]:mn(e[l],{type:T,receipts:s})}}case r.RESET_STOREFRONT_NEW_DEAL_COUNT_SUCCEEDED:return Object.keys((0,i.oF)(e,["autoExpansion","inboxCommerceFeatureClicked"])).reduce(((t,s)=>({...t,[s]:mn(e[s],{type:T})})),{...e});case r.STOREFRONT_MODULES_FAILED:return l?{...e,[l]:mn(e[l],{type:T})}:e;case r.STOREFRONT_BRAND_FOLLOW_SUCCEEDED:case r.STOREFRONT_BRAND_UNFOLLOW_SUCCEEDED:return l?{...e,[l]:mn(e[l],{type:T})}:e;default:return e}};const pn=function(e={},t){const{cardGroupList:s=[],response:a={},type:n}=t,l=(0,i.u9)(a,"RECOMMENDATION_CARDS.ALL_DEAL_RECOMMENDATION_CARDS.items",[]);switch(n){case r.MESSAGE_BODIES_RECEIVED:case r.CHANGE_FOLDER_SUCCEEDED:{if(!l.length)return e;const t=l.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>({...e,[t.id]:{...t}})),{})})),{})})),{});return{...e,...t}}case r.POST_LAUNCH_SYNC_SUCCEEDED:case r.RIGHT_RAIL_IC_PRODUCTS_RECEIVED:{if(!s.length)return e;const t=s.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t={})=>{if(t.type===o.rgK.Recommendation)return{...e,[t.id]:{...t}}}),{})})),{})})),{}),a=new Set;return Object.entries(t).forEach((([e,s])=>{s.imageUrl&&!a.has(s.imageUrl)?a.add(s.imageUrl):delete t[e]})),{...e,...t}}default:return e}},Cn=(0,a.combineReducers)({messageBodies:(e=[],t)=>{var s;const a=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.messageBodies)||[];return 0===a.length?e:a},documents:(e=[],t)=>{switch(t.type){case r.LAUNCH_COMPLETED:case r.OPEN_PAGE_REQUESTED:case r.DOCUMENT_FETCH_REQUESTED:case r.DOCUMENT_FETCH_SUCCEEDED:case r.DOCUMENT_FETCH_FAILED:{var s;const a=(null===(s=t.recentlyUsedState)||void 0===s?void 0:s.documents)||[];return 0===a.length?e:a}}return e}}),An=(e={},t)=>{switch(t.type){case r.MESSAGE_BODIES_RECEIVED:var s,a,n;return{...e,...null===(s=t.response)||void 0===s||null===(a=s.PKG_TRACKING_CARD)||void 0===a||null===(n=a.ALL_PKG_TRACKING_CARD)||void 0===n?void 0:n.items.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e,t)=>({...e,[t.cardConversationId]:{...t}})),{})})),{})})),{})};case r.POST_LAUNCH_SYNC_SUCCEEDED:var o;return{...e,...null===(o=t.cardGroupList)||void 0===o?void 0:o.reduce(((e,t)=>({...e,...t.messages.reduce(((e,t)=>({...e,...(t.schemaCards||[]).reduce(((e={},t)=>{if("ParcelDelivery"===t.type)return{...e,[t.cardConversationId]:{...t}}}),{})})),{})})),{})};default:return e}},Tn=e=>!!e.params.attachmentId,In=(0,a.combineReducers)({itemsById:(e={},t)=>{switch(t.type){case r.OPEN_COMPACT_COMPOSE:case r.POP_OUT_COMPOSE:{const s={...e,[t.csid]:{csid:t.csid,accountId:t.accountId,format:o.UeM.COMPACT}};return t.csidsToRemove?M()(s,t.csidsToRemove):s}case r.OPEN_PAGE_REQUESTED:return!t.route||Tn(t.route)?e:M()(e,(0,ls.uo)(t.route));case r.DELETE_ITEMS_REQUESTED:return M()(e,t.csidsToRemove);case r.CLOSE_COMPACT_COMPOSE:return M()(e,t.csids);case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return M()(e,t.csid)}return e},composeSessionIds:(e=[],t)=>{switch(t.type){case r.POP_OUT_COMPOSE:case r.OPEN_COMPACT_COMPOSE:{const s=e.filter((e=>{var s;return-1===(null===(s=t.csidsToRemove)||void 0===s?void 0:s.indexOf(e))}));return[t.csid,...s]}case r.OPEN_PAGE_REQUESTED:{if(!t.route||Tn(t.route))return e;const s=(0,ls.uo)(t.route);return e.filter((e=>e!==s))}case r.DELETE_ITEMS_REQUESTED:return e.filter((e=>{var s;return-1===(null===(s=t.csidsToRemove)||void 0===s?void 0:s.indexOf(e))}));case r.CLOSE_COMPACT_COMPOSE:{const{csids:s=[]}=t;return e.filter((e=>!s.includes(e)))}case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:return e.filter((e=>e!==t.csid))}return e},lastActiveComposeSession:(e=null,t)=>{switch(t.type){case r.UPDATE_COMPOSE_HEADER_FOCUS:case r.OPEN_COMPACT_COMPOSE:case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case r.OPEN_PAGE_REQUESTED:return t.csid?t.csid:e;case r.CLOSE_COMPACT_COMPOSE:return e&&t.csids.includes(e)?null:e;case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.CLOSE_PAGE_REQUESTED:case r.DELETE_ITEMS_REQUESTED:return t.csid===e?null:e}return e}}),hn={itemsById:{},composeSessionIds:[],lastActiveComposeSession:null},gn=(e=hn,t)=>{switch(t.type){case r.CLOSE_PAGE_REQUESTED:case r.CLOSE_COMPACT_COMPOSE:case r.OPEN_PAGE_REQUESTED:case r.V3_MESSAGE_SEND_SUCCEEDED:case r.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case r.UPDATE_COMPOSE_HEADER_FOCUS:return In(e,t);case r.OPEN_COMPACT_COMPOSE:case r.POP_OUT_COMPOSE:{const{composeSessionIds:s}=e,a=s.length>=4?[s.pop()]:[];return In(e,{...t,csidsToRemove:a})}case r.DELETE_ITEMS_REQUESTED:{const{csid:s}=t,a=s?[s]:(t.itemsToUpdate||[]).filter((e=>!e.destinationFolder&&e.isAffected)).map((({csid:e})=>e)).filter(Boolean);return In(e,{...t,csidsToRemove:a})}}return e},On=(0,a.combineReducers)({isAdvancedSearchPaneOpen:(e=!1,t)=>{switch(t.type){case r.TOGGLE_ADVANCED_SEARCH_PANE:return!e;default:return e}}}),Dn=(0,a.combineReducers)({leftNavWidth:(e=0,t)=>{switch(t.type){case r.LEFT_NAV_RESIZED:return t.width;default:return e}}});var Rn=s(34970),Nn=s(66710);const Ln=(e="",t)=>{switch(t.type){case r.GET_AFFILIATE_CRUMB_SUCCEEDED:return t.affiliateCrumb||e;default:return e}},fn=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:{const{extractedCardsForTodoTOMMap:s}=t;if(s){const t=Object.keys(s).reduce(((e,t)=>{const a=[];return s[t].forEach((e=>{e.type===o.rgK.Invoice&&a.push(e)})),{...e,...a.length>0&&{[t]:a}}}),{});return{...e,...t}}return e}default:return e}},Mn=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:{const{extractedCardsForTodoTOMMap:s}=t;if(s){const t=Object.keys(s).reduce(((e,t)=>{const a=[];return s[t].forEach((e=>{e.type===o.rgK.GiftCard&&a.push(e)})),{...e,...a.length>0&&{[t]:a}}}),{});return{...e,...t}}return e}default:return e}},Pn=(e={},t)=>{switch(t.type){case r.INITIAL_STATE:case r.MESSAGE_BODIES_RECEIVED:{const{extractedShoppingCards:s}=t;return s?{...e,...s}:e}default:return e}},bn={topOfInboxCards:[],cardsRemoved:[],cardsRemovedAll:!1,firstCardOpened:!1,bottomOptionsOpenedCard:{},isBottomOptionsNavigate:!1,imapSessionCount:-1,topOfInboxFetched:!1},yn=(0,a.combineReducers)({topOfInboxCards:(e=[],t)=>{switch(t.type){case r.TOP_OF_INBOX_FETCH_SUCCEEDED:{const{cards:e=[]}=t;return e}default:return e}},cardsRemoved:(e=[],t)=>{switch(t.type){case r.TOP_OF_INBOX_CARD_REMOVE:{const{cardId:s}=t;return e.concat(s)}case r.TOP_OF_INBOX_CARD_REMOVE_UNDO:{const{cardId:s}=t;return e.filter((e=>e!==s))}default:return e}},cardsRemovedAll:(e=!1,t)=>{switch(t.type){case r.TOP_OF_INBOX_CARD_REMOVE_ALL:return!0;case r.TOP_OF_INBOX_CARD_REMOVE_ALL_UNDO:return!1;default:return e}},firstCardOpened:(e=!1,t)=>{switch(t.type){case r.TOP_OF_INBOX_FIRST_CARD_OPENED:return!0;default:return e}},bottomOptionsOpenedCard:(e={},t)=>{switch(t.type){case r.TOP_OF_INBOX_BOTTOM_OPTIONS_OPEN:{const{card:e}=t;return e}case r.TOP_OF_INBOX_BOTTOM_OPTIONS_CLOSE:return{};default:return e}},isBottomOptionsNavigate:(e="",t)=>{switch(t.type){case r.OPEN_PAGE_REQUESTED:{const{i13nModel:s={}}=t;return(null==s?void 0:s.mKey)===cs.JE.SETTINGS_INBOX_HIGHLIGHTS&&(null==s?void 0:s.sec)===cs.nJ.TOP_OF_INBOX_BOTTOM_OPTIONS||e}case r.TOP_OF_INBOX_EXPAND_CLOSE:return!1;default:return e}},imapSessionCount:(e=-1,t)=>{switch(t.type){case r.TOP_OF_INBOX_FETCH_SUCCEEDED:return-1===e&&-2!==(0,Ye.nC)()?(0,Ye.Kn)(!0):e;default:return e}},topOfInboxFetched:(e=!1,t)=>{switch(t.type){case r.TOP_OF_INBOX_FETCH_SUCCEEDED:case r.TOP_OF_INBOX_FETCH_FAILED:return!0;default:return e}}});const vn=function(e={},t){switch(t.type){case r.ON_LIST_SCROLL_TIME_CHUNK:return t.timeChunkInfo}return e},Fn={},Un={selectedUniqueCardId:"",wallet:{}},kn=(0,a.combineReducers)({parentMessageId:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.id||e;default:return e}},cardId:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.cardId||e;default:return e}},cardConversationId:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.cardConversationId||e;default:return e}},walletItemType:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.walletItemType||e;default:return e}},fromEmail:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.fromEmail||e;default:return e}},redemptionUrl:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.redemptionUrl||e;default:return e}},giftCardNumber:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.giftCardNumber||e;default:return e}},imageUrl:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.imageUrl||e;default:return e}},hostingOrganization:(e={name:"",url:""},t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.hostingOrganization||e;default:return e}},receivedDate:(e=null,t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.receivedDate?Number(t.walletItem.receivedDate):e;default:return e}},amount:(e={value:0},t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.amount||e;default:return e}},expirationDate:(e=null,t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.expirationDate?Number(t.walletItem.expirationDate):e;default:return e}},provider:(e={name:"",url:""},t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.provider||e;default:return e}},sentBy:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.sentBy||e;default:return e}},uniqueCardId:(e="",t)=>{const{type:s}=t;switch(s){case r.WALLET_LIST_SUCCEEDED:return t.walletItem.uniqueCardId||e;default:return e}}}),wn=(0,a.combineReducers)({wallet:(e=Fn,t)=>{switch(t.type){case r.WALLET_LIST_SUCCEEDED:{const{listData:s}=t;if(!s.schemaCards)return e;const a=Ns()(Object.keys(s.schemaCards),(e=>s.schemaCards[e].uniqueCardId)).filter((t=>[o.rgK.GiftCard,o.rgK.ProgramMembership].includes(s.schemaCards[t].type)&&!p()(e[t],M()(s.schemaCards[t],["id","type"])))).reduce(((a,n)=>({...a,[n]:{showFeedbackModule:!0,...kn(e[n],{type:t.type,walletItem:s.schemaCards[n]})}})),{});return Object.keys(a).length?{...e,...a}:e}case r.WALLET_FEEDBACK_ALREADY_ADDED:{const{uniqueCardId:s}=t;return Object.keys(e).reduce(((t,a)=>{const n={...e[a]};return n.uniqueCardId===s&&(n.showFeedbackModule=!1),{...t,[a]:n}}),{})}default:return e}},selectedUniqueCardId:(e="",t)=>{switch(t.type){case r.SELECT_WALLET_LIST_ITEM:return t.uniqueCardId;default:return e}}});var Gn=s(63465),Hn=s(55842),Bn=s(64561);const xn=(0,a.combineReducers)({mailActionTimeData:(e={},t)=>{const{actionTimestamp:s,type:a}=t;switch(t.type){case r.OPEN_COMPACT_COMPOSE:return{actionTimestamp:s,type:a,fromCompactToFullScrn:s};case r.OPEN_PAGE_REQUESTED:return{actionTimestamp:s,type:a,fromCompactToFullScrn:null==e?void 0:e.fromCompactToFullScrn};case r.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case r.PREVIEW_MESSAGE_REQUESTED:return{actionTimestamp:s,type:a};default:return e}},firstEmailOpened:(e=!1,t)=>{switch(t.type){case r.OPEN_FIRST_EMAIL:return!0;default:return e}}}),Vn={action:{reducer:(e={},t)=>t,selector:(e={})=>e},unsyncedData:{reducer:Ha,selector:(e=[])=>({getUnsyncedData:()=>e,getReconciledUnsyncedData:t=>{const{getAction:s}=t;if(!s().route)return e;const a=((e,t={})=>Ns()(Ba("preparer",e,t).filter((e=>Boolean(e.hash))),"hash"))(e,t);return xa(a,t)},getUnsyncedDataToSync:(e,t)=>((e,t,s)=>Ba("syncSelector",e,t,s))(e.getReconciledUnsyncedData(),e,t)})},launchError:{reducer:Ct,selector:(e={})=>({getLaunchErrorType:()=>e.type})},composeSessions:{reducer:y,selector:(e={})=>{const t={doesComposeSessionExist:t=>!!e[t],doComposeFromRouteQueryParams:t=>e[t].doComposeFromRouteQueryParams,doComposeFromMailToLink:t=>Boolean(e[t].mailToLink),getMailToLink:t=>e[t].mailToLink,getStationeryTheme:t=>e[t].stationeryTheme,getUndoStack:t=>e[t].composeUndoStack,getRedoStack:t=>e[t].composeRedoStack,getUiState:t=>e[t].composeUiState,wasAutotagDropdownClosed:t=>e[t].isAutotagDisabled,wasRelatedContactsClosed:t=>e[t].isRelatedContactsDismissed,getReplyingToMessageId:e=>{const{getInReplyToMessageId:s,getInReplyAllToMessageId:a,getInForwardToMessageId:n}=t;return s(e)||a(e)||n(e)},getAttachmentProgress:t=>e[t].attachmentProgress,findReplyForwardCsidsOfMessage:s=>Object.keys(e).filter((e=>t.getReplyingToMessageId(e)===s)),findDraftMessageCsid:s=>Object.keys(e).find((e=>t.getDraftMessageId(e)===s)),getDraftMessageId:t=>((0,N.Z)(e[t],"getDraftMessageId csid does not exist",{csid:t}),e[t].draftMessageId),getForwardCreativeId:t=>e[t].forwardCreativeId,getForwardAttachmentIds:t=>e[t].forwardAttachmentIds,getInReplyToMessageId:t=>e[t].inReplyToMessageId,getInReplyAllToMessageId:t=>e[t].inReplyAllToMessageId,getInForwardToMessageId:t=>e[t].inForwardToMessageId,isReplyMessage:t=>Boolean(e[t].inReplyToMessageId),isReplyAllMessage:t=>Boolean(e[t].inReplyAllToMessageId),isForwardMessage:t=>Boolean(e[t].inForwardToMessageId),isSendRequested:t=>e[t].sendStatus===L.fq.SENDING,isSendFailed:t=>e[t].sendStatus===L.fq.SEND_FAILED,isSent:t=>((0,N.Z)(e[t],"isSent csid does not exist",{csid:t||"undefined"}),e[t].sendStatus===L.fq.SENT),getLastSaveTimeStamp:t=>e[t].lastSaveTimeStamp,isQuotedTextExpanded:t=>Boolean(e[t].isQuotedTextExpanded),getFatalErrorCount:t=>e[t].fatalErrorCount,isComposeSessionDirty:({csid:t,lastEditedTimeStamp:s})=>Boolean(s)&&(!e[t]||!e[t].lastSaveTimeStamp||e[t].lastSaveTimeStamp!==s),getLastOpenTimeStamp:t=>e[t].lastOpenTimeStamp,getLastAutotagQuery:t=>e[t].lastAutotagQuery,getSelectedReplySuggestion:t=>e[t].selectedReplySuggestion,getComposeParams:t=>e[t].composeParams,getComposeHeaderFocus:t=>e[t].composeHeaderInputFocus};return t}},generatedContent:{reducer:Gn.ZP,selector:Gn.wl},attachments:{reducer:_,selector:(e={})=>({doesAttachmentExistById:t=>!!e[t],getAttachmentById:t=>e[t],getContentIdByAttachmentId:t=>e[t].contentId,getConversationIdByAttachmentId:t=>e[t].conversationId,getAttachmentExtentionByAttachmentId:t=>{const s=(e[t]&&e[t].filename||"").split(".");return Array.isArray(s)&&s.length>=2?s.pop():"unknown"},getMimetypeByAttachmentId:t=>`${e[t].type}/${e[t].subtype}`,getAttachmentTypeByAttachmentId:t=>e[t].type,getAttachmentSubtypeByAttachmentId:t=>e[t].subtype,getSizeByAttachmentId:t=>e[t].size,isInlineAttachmentById:t=>e[t].disposition===d.INLINE,isNonInlineAttachmentById:t=>e[t].disposition!==d.INLINE,getConversationId:t=>e[t].conversationId,getTimeStamp:t=>e[t].creationDate,getMessageReferenceByContentId:t=>{const s=(0,i.VO)(e).find((e=>e.contentId===t));if(s&&s.id){const{id:e,partId:t}=s;return{id:e.split(":").slice(0,-1).join(":"),pid:t}}},getDownloadUrlByContentId:t=>{const s=(0,i.VO)(e).find((e=>e.contentId===t));return s?s.downloadUrl:null},getByContentId:t=>(0,i.VO)(e).find((e=>e.contentId===t)),hasError:t=>{const s=(0,i.VO)(e).find((e=>e.contentId===t));return!(!s||s.id)},isUploaded:t=>{const s=(0,i.VO)(e).find((e=>e.contentId===t));return!(!s||!s.id)},getThumbnailUrl:t=>{const s=(0,i.VO)(e).find((e=>e.contentId===t));return(0,l.gu)(s.thumbnailUrl,c.oqp)},getDocumentIdByAttachmentId:t=>e[t].documentId,getAttachmentIdByDocumentId:t=>{const s=(0,i.VO)(e).find((e=>e.documentId===t));return s?s.id:null}})},inlineImagesAttachments:{reducer:E.ZP,selector:E.wl},lists:{reducer:ft,selector:(e={})=>{const t={doesListExist:s=>Boolean(e[s]&&t.getListStatus(s)!==o.DAQ.DOES_NOT_EXIST),getListIdsByContentType:t=>Object.keys(e).filter((e=>(0,z.WN)(e)===t)),getListIdsByListFilter:t=>Object.keys(e).filter((e=>(0,z.C4)(e)===t)),getListIdsByFolderId:t=>Object.keys(e).filter((e=>(0,z.Fh)(e)===t)),getItemIdsSelectors:t=>((e=[])=>({doesItemIdExist:t=>!!e.find((e=>e===t)),getItemIdByIndex:t=>e[t],getItemIdIndex:t=>e.indexOf(t),getItemIds:()=>e}))(e[t]?e[t].itemIds:[]),__getListIds__:()=>Object.keys(e),getListNextItemsUrl:t=>e[t].nextItemsUrl,getListOffset:t=>e[t].offset,hasMoreItems:t=>e[t].hasMoreItems,getListStatus:t=>e[t].status,getLmv3Query:t=>e[t].lmv3Query,getSuggestedWords:t=>e[t].suggestedWords,getTotalHits:t=>e[t].totalHits,doesListItemExist:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).doesItemIdExist(s),getListItemIdIndex:(e,s)=>t.doesListExist(e)&&t.getItemIdsSelectors(e).getItemIdIndex(s),getItemIdByIndex:(e,s)=>t.getItemIdsSelectors(e).getItemIdByIndex(s),getItemIds:e=>t.getItemIdsSelectors(e).getItemIds(),getFirstItemIdOfList:e=>t.getItemIdsSelectors(e).getItemIds()[0],getPreviousListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)-1;if(!(a<0))return t.getItemIdByIndex(e,a)},getImportantContactIds:()=>{const s=(0,z.yv)("");return t.doesListExist(s)?e[s].itemIds:[]},getImportantContactEmailsByContextEmail:s=>{const a=(0,z.yv)(s);return t.doesListExist(a)?e[a].itemIds:[]},getNextListItemId:(e,s)=>{const a=t.getListItemIdIndex(e,s)+1;if(!(a>t.getItemIds(e).length))return t.getItemIdByIndex(e,a)},isListAlreadyLoaded:e=>t.doesListExist(e)&&t.getListStatus(e)===o.DAQ.LOADED&&t.getItemIds(e).length===t.getTotalHits(e)&&!t.hasMoreItems(e),isListEmpty:e=>t.doesListExist(e)&&0===t.getItemIds(e).length,isListExpanded:t=>!!e[t]&&e[t].expanded};return t}},streams:{reducer:Os.ZP,selector:Os.wl},documents:{reducer:ie,selector:e=>({getState:t=>e[t]?e[t].status:o.DAQ.DOES_NOT_EXIST,getDocument:t=>e[t],getError:t=>{const s=!!e[t].retryCount&&(0,i.VO)(e[t].retryCount).some((e=>e>o.alB)),a=e[t].error;return a&&a.isRetryable?{...a,isRetryable:!s&&a.isRetryable}:a},getNumberOfPages:t=>e[t].numPages,getRetryCount:(t,s,a)=>e[t]?e[t].retryCount[re(s,a)]:0,isDocumentLoaded:t=>!(!e[t]||e[t].status!==o.DAQ.LOADED),isPageLoaded:(t,s)=>!(!e[t].pages[s]||e[t].pages[s].status!==o.DAQ.LOADED),getDocumentsCount:()=>Object.keys(e).length})},subjectsAndSnippets:{reducer:Ds,selector:e=>({getSubject:(t,s)=>{var a,n;const r=(0,z.d0)(s);return(null===(a=e.subjects[t])||void 0===a?void 0:a[r])||(null===(n=e.subjects[t])||void 0===n?void 0:n[z.wb])||""},getSnippet:(t,s)=>{var a,n;const r=(0,z.d0)(s);return(null===(a=e.snippets[t])||void 0===a?void 0:a[r])||(null===(n=e.snippets[t])||void 0===n?void 0:n[z.wb])||""}})},folders:{reducer:_t,selector:(e={})=>{const t=t=>!!e[t].types.find((e=>o.tlB.hasOwnProperty(e))),s=t=>{(0,N.Z)(e[t],"getPrimaryFolderTypeByFolderId folderId does not exist",{folderId:t||"undefined"});return(e[t].types||[]).find((e=>o.o4.hasOwnProperty(e)))},a={doesFolderIdExist:t=>!!e[t],getFolderIdsByName:t=>Object.keys(e).reduce(((s,a)=>e[a].name===t?s.concat(a):s),[]),getFolderIdsByPath:t=>Object.keys(e).reduce(((s,a)=>e[a].path===t?s.concat(a):s),[]),getFolderIds:()=>Object.keys(e),getFolderName:t=>e[t].name,shouldUpdateFolders:t=>{const s=Object.keys((0,lt.YY)(t));return Object.keys(e).length!==s.length||s.some((e=>!a.doesFolderIdExist(e)))},getFolderTotal:t=>e[t].total,getFolderHighestModSeq:t=>e[t].highestModSeq,getFolderLevelByFolderId:t=>e[t].level,getFolderUnreadCount:t=>e[t].unread,getFolderTypes:t=>e[t].types,getFolderUidNext:t=>e[t].uidNext,getFolderUidValidity:t=>e[t].uidValidity,getFolderPath:t=>e[t].path,isPermDeleteFolderType:e=>{const t=s(e);return-1!==[o.Sck.TRASH,o.Sck.DRAFT,o.Sck.BULK].indexOf(t)},getFolderIdsByNameAndAccountId:(t,s)=>Object.keys(e).reduce(((a,n)=>e[n].name===t&&e[n].accountId===s?a.concat(n):a),[]),getFolderDisplayTypeByFolderId:t=>{const a=e[t].types,n=s(t);return n===o.Sck.ARCHIVE&&a.indexOf(o.Sck.EXTERNAL_ALL)>-1?o.d$d.ALL_MAIL:n},getPrimaryFolderTypeByFolderId:s,isSystemFolder:t,isSpamFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.BULK,getAccountIdByFolderId:t=>((0,N.Z)(e[t],"getAccountIdByFolderId folderId does not exist",{folderId:t||"undefined"}),e[t].accountId),getFolderIdsFromFolderType:(t,s)=>Object.keys(e).reduce(((a,n)=>-1!==e[n].types.indexOf(t)&&e[n].accountId===s?a.concat(n):a),[]),getAllInboxes:()=>Object.keys(e).reduce(((t,s)=>-1!==e[s].types.indexOf(o.Sck.INBOX)?t.concat(s):t),[]).map((t=>e[t])),getFolderIdsByAccountId:t=>Object.keys(e).filter((function(s){return e[s].accountId===t})),isInboxFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.INBOX,isDraftFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.DRAFT,isSentFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.SENT,isTrashFolder:e=>a.doesFolderIdExist(e)&&a.getPrimaryFolderTypeByFolderId(e)===o.Sck.TRASH,getParentFolderId:t=>{const s=e[t].path,a=e[t].name,n=e[t].accountId,r=Object.keys(e).find((t=>e[t].accountId===n&&e[t].path+"/"+a===s));return r||""},getCustomFolderIds:t=>Object.keys(e).map((t=>e[t])).filter((e=>e.accountId===t&&e.types.indexOf(o.Sck.USER)>=0&&e.types.indexOf(o.Sck.INVISIBLE)<0)).sort(ct.DV).map((e=>e.id)),getUserCardFolderIds:t=>{let s;for(s in e){const a=e[s];if(a.accountId===t&&a.types.indexOf(o.Sck.USER)>=0&&a.types.indexOf(o.Sck.CARD)>=0&&a.types.indexOf(o.Sck.INVISIBLE)>=0)return s}return-1},getFolderByAccountIdAndType:(t,n)=>{const r=Object.keys(e).find((s=>e[s].accountId===t&&e[s].types.includes(n)));return r?{id:r,type:s(r),kind:"folder",name:a.getFolderName(r),level:0}:null},getSystemFolderList:n=>Object.keys(e).filter((s=>e[s].accountId===n&&t(s))).map((e=>({id:e,type:s(e),kind:"folder",name:a.getFolderName(e),level:0}))).sort(((e,t)=>lt.p4[e.type]-lt.p4[t.type])),getCustomFolderList:t=>Object.keys(e).map((t=>e[t])).filter((e=>e.accountId===t&&(e.types.indexOf(o.Sck.USER)>=0||a.hasChildren(e.id))&&-1===e.types.indexOf(o.Sck.INVISIBLE))).sort(ct.DV).map((e=>({id:e.id,type:s(e.id),kind:"folder",name:e.name,level:e.level}))),hasChildren:t=>{const s=e[t].path+"/",a=e[t].accountId;let n=!1;return Object.keys(e).some((t=>{const r=e[t].path,o=e[t].accountId;0===r.indexOf(s)&&a===o&&(n=!0)})),n},getSubfolders:e=>{const t=a.getFolderPath(e)+"/",s=a.getAccountIdByFolderId(e);return a.getFolderIdsByAccountId(s).filter((s=>0===a.getFolderPath(s).indexOf(t)&&s!==e)).map((e=>({id:e,name:a.getFolderPath(e)})))},getMessageGroupFolderType:e=>a.isTrashFolder(e)?o.bcr.TRASH:a.isSpamFolder(e)?o.bcr.BULK:o.bcr.DEFAULT,getSystemFolderListForDisplaying:(e,t)=>{const{getSystemFolderList:s}=a;return s(e).filter((e=>t!==o.Ql2.AOL||e.type!==o.Sck.ARCHIVE))},getCustomFolderListForDisplaying:(e,t)=>{const{getCustomFolderList:s,getFolderByAccountIdAndType:n}=a,r=s(e);if(t===o.Ql2.AOL){const t=n(e,o.Sck.ARCHIVE);if(t){const e=r.findIndex((e=>0===e.level&&e.name.localeCompare(t.name)>0));r.splice(e,0,t)}const s=r.findIndex((e=>0===e.level&&"Saved"===e.name)),a=r.findIndex(((e,t)=>t>s&&0===e.level)),i=-1===a?r.length:a;return[...r.slice(s,i),...r.slice(0,Math.max(0,s)),...r.slice(i)].filter(Boolean)}return r},__get__:t=>e[t],__getFolderIds__:()=>Object.keys(e),getNumOfTotalMsgs:()=>Object.keys(e).reduce(((t,s)=>t+e[s].total),0)};return{...a}}},mailboxes:{reducer:wt,selector:(e={})=>{const t={getAllMailboxes:()=>e.allMailboxes,getSelectedMailboxId:()=>e.id,getAccountsSelectors:()=>((e={})=>{const t=Object.keys(e),s={getAccountById:t=>e[t],getPrimaryAccount:()=>t.map((t=>e[t])).find((({isPrimary:e})=>!!e)),getPrimaryAccountType:()=>(s.getPrimaryAccount()||{}).type,getPrimaryAccountSendingName:()=>(s.getPrimaryAccount()||{}).sendingName||"",getPrimaryAccountId:()=>t.find((t=>e[t].isPrimary)),getVerifiedAutoForwardAccount:()=>{const e=s.getPrimaryAccount()||{},{forwardEmail:t,forwardEmailVerified:a=!1}=e;return a&&t?e:null},isPrimaryAccountDisabled:()=>s.getPrimaryAccount().status===o.dpb.DISABLED,userHasRegisteredAccount:()=>{const s=t.find((t=>{const{isPrimary:s,type:a,status:n}=e[t];return s&&n===o.dpb.DISABLED&&(a===o.tO8.EXTERNAL||a===o.tO8.PHONE)})),a=t.find((t=>{const{type:s,status:a}=e[t];return yt.Cs({type:s})&&(a===o.dpb.ENABLED||a===o.dpb.PENDING)}));return!s||!!a},getAllAccounts:({includeDisabled:s=!1}={})=>t.map((t=>e[t])).filter((({status:e})=>s||e!==o.dpb.DISABLED)).sort(yt.k8),getSelectedAccountId:()=>t.find((t=>e[t].isSelected)),getSendingAccountId:()=>t.find((t=>e[t].isSending)),hasIMAPinAccounts:()=>t.filter((t=>yt.Cs(e[t]))).length>0,isMyEmailAddress:t=>(0,i.VO)(e).some((e=>e.email===t)),getRootAccounts:()=>t.map((t=>e[t])).filter((e=>o.NTC.indexOf(e.type)>-1)),hasMultipleRootAccounts:()=>s.getRootAccounts().length>1,getSendAccountsByAccountId:e=>{const t=s.getAccountById(e);if(!t.isPrimary)return[t];const a=s.getAllAccounts().filter((e=>-1===o.NTC.indexOf(e.type)||e.type===o.tO8.BIZMAIL&&!e.isPrimary));return[t].concat(a)},getDisposableEmailAccounts:(e=!0)=>s.getAllAccounts({includeDisabled:e}).filter((e=>e.type===o.tO8.DEA)).sort(yt.Xx),isSignatureActive:t=>Boolean(e[t].signatureActive),getSignatureByAccountId:t=>e[t]&&e[t].signatureActive?e[t].signature:"",isPrimaryAccountEmail:e=>{const t=s.getAccountIdByAccountEmail(e);return o.NTC.indexOf(s.getAccountTypeByAccountId(t))>-1},getSignatureByAccountEmail:e=>s.isPrimaryAccountEmail(e)?s.getSignatureByAccountId(s.getAccountIdByAccountEmail(e)):s.getSignatureByAccountId(s.getSelectedAccountId()),getAccountDescriptionByAccountId:e=>s.getAccountById(e).description,getAccountTypeByAccountId:e=>s.getAccountById(e).type,getAccountEmailByAccountId:e=>s.getAccountById(e).email,getAccountNameByAccountId:e=>s.getAccountById(e).sendingName,getAccountProvider:t=>yt.VH(e[t]),isSelectedAccountId:e=>s.getAccountById(e).isSelected,getMyAddresses:()=>Object.keys(e).map((t=>e[t].email)),hasAccountWithEmail:t=>(0,i.VO)(e).some((e=>e.type!==o.tO8.POPIN&&e.email===t)),getAccountIdByAccountEmail:t=>(0,i.VO)(e).find((e=>e.email===t)).id,getAliasAccounts:()=>Object.keys(e).map((t=>e[t])).filter((e=>e.type===o.tO8.ALIAS)),getAccountIds:()=>Object.keys(e),doesSelectedAccountExist:()=>Boolean(s.getSelectedAccountId()),getProviderFromAccount:t=>yt.VH(e[t]),getAccountsWithMailboxes:()=>Object.keys(e).filter((t=>e[t].isPrimary||yt.Cs(e[t]))),getAvailableAccounts:()=>s.getAccountsWithMailboxes().filter((e=>s.getAccountById(e).status!==o.dpb.DELETE_IN_PROGRESS)),getImapInAccounts:()=>Object.keys(e).filter((t=>yt.Cs(e[t]))),getAccountSubscriptionIds:()=>Object.keys(e).map((t=>e[t])).map((e=>e.subscriptionId)),getFolderPrefixByAccountId:t=>e[t].folderPrefix||"",isBasicAuthAccountId:e=>{const t=s.getAccountById(e);return t.type===o.tO8.IMAPIN&&t.authType===o.nxP.PLAIN},getMailboxAccounts:()=>s.getAllAccounts().filter((e=>yt.Cs(e)||e.isPrimary))};return s})(e.accounts),getAliasSuggestions:bt(e.aliasSuggestion).getSuggestions,getAliasSuggestionStatus:bt(e.aliasSuggestion).getStatus,getSocialAccountsStatus:()=>e.socialAccountsStatus,getEnhanceContactsPreference:()=>e.enhanceContactsPreference,getDeaBaseName:()=>e.deaBaseName,getBaseNameSuggestions:()=>e.baseNameSuggestions,getRecentlyAddedAccount:()=>e.recentlyAddedAccount?e.accounts[e.recentlyAddedAccount]:null,isAccountExpired:s=>{const a=t.getAccountsSelectors().getAccountById(s);return!(!a||!(0,yt.Cs)(a))&&!!e.accountAlerts.find((e=>e.accountId===s&&-1!==[Ut,kt].indexOf(e.state)&&1===e.type))},getExpiredAccountAlert:t=>e.accountAlerts.find((e=>e.accountId===t&&1===e.type))||{},getExpiredAccounts:()=>t.getAccountsSelectors().getAllAccounts().filter((e=>t.isAccountExpired(e.id))),getMailboxSize:()=>e.mailboxSize};return t}},ads:{reducer:n.ZP,selector:n.wl},printItems:{reducer:us,selector:(e={})=>({getItemToPrint:()=>{const t=Object.keys(e).filter((t=>!e[t].isPrinted))[0];return t?e[t]:{}}})},messageBodies:{reducer:xt,selector:(e={})=>({get:t=>e[t].body,getState:t=>e[t]?e[t].status:o.DAQ.DOES_NOT_EXIST,doesMessageBodyExist:t=>!!e[t]&&-1===[o.DAQ.DOES_NOT_EXIST,o.DAQ.ERROR].indexOf(e[t].status),hasFullBody:t=>e[t]&&e[t].hasFullBody,hasError:t=>e[t]&&e[t].status===o.DAQ.ERROR,hasInlineImage:t=>{const s=e[t];if(!s)return!1;const{body:{html:a="",htmlAnnotations:n=[]}}=s;return n.some((({type:e})=>"blocked"===e))||Gt.test(a)},hasAnchorLinks:t=>{const s=e[t];if(!s)return!1;const{body:{html:a=""}}=s;return Ht.test(a)},isSecureMessage:t=>{const s=e[t];if(!s)return!1;const{body:{htmlAnnotations:a=[]},isSecure:n,hasFullBody:r}=s;return r?a.some((({type:e})=>"blocked"===e)):n},getMessageBodiesCount:()=>Object.keys(e).length,getRetryCount:t=>e[t]?e[t].retryCount:0})},messageGroups:{reducer:Xt,selector:Qt},cardGroups:{reducer:A,selector:(e={})=>t=>({doesCardGroupIdExist:t=>!!e[t],getMessageIdsFromCardGroupId:t=>Array.isArray(e[t])?e[t]:e[t]&&e[t].DEFAULT,getMostRecentEmailId:s=>{const{getMessagesSelectors:a}=t,{getDecos:n,getTimeStamp:r}=a(),i=e[s].filter((e=>n(e).some((e=>e.id===o.Jd6.EML))));return i.length>1&&i.sort(((e,t)=>r(t)-r(e))),i[0]},getCardConversationIds:()=>Object.keys(e)})},cardMessageToSchemas:{reducer:I,selector:(e={})=>({getSchemas:t=>e[t]})},flights:{reducer:it,selector:(e={})=>({getFlightCard:t=>e[t],getCardDate:t=>Date.parse(e[t].departureTime),isEligibleCardForFilter:(t,s,a)=>{const n=Date.parse(e[t].departureTime);switch(s){case o.ukn.TRAVEL_VIEW_UPCOMING:return n>=a;case o.ukn.TRAVEL_VIEW_PAST:return n<a}return!0}})},deals:{reducer:te.Z,selector:te.w},categoryFollowing:{reducer:D,selector:(e={})=>({isCategoryFollowed:t=>e.categories&&e.categories[t]&&e.categories[t].following,isCategoryLastError:t=>e.categories&&e.categories[t]&&e.categories[t].error,isCategoryListLoaded:()=>e.isCategoryListLoaded,getSpiceToGptMapping:()=>e.spiceToGptMapping})},storefrontBrands:{reducer:Sn,selector:(e={})=>({isStoreFrontModulesLoaded:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.isLoaded},getAllStorefrontBrands:()=>(0,i.VO)((0,i.oF)(e,["autoExpansion","inboxCommerceFeatureClicked","astraBatchAPICalled"])||{}).sort(((e,t)=>e.affinityNumber-t.affinityNumber)),getBrandInfoFromBrandId:t=>e[t],getAffiliateProductsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.affiliateProducts},getAffiliateProductIdsFromCategoryId:(t,s)=>{var a,n;return null===(a=e[t])||void 0===a||null===(n=a.brandCategories[s])||void 0===n?void 0:n.productIds},doesBrandHaveAffiliateProducts:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.hasAffiliateProducts},getBrandIdFromDomain:t=>{for(const n of Object.keys(e)){var s,a;if(null!==(s=e[n])&&void 0!==s&&null!==(a=s.brandDomains)&&void 0!==a&&a.some((e=>e===t)))return n}return""},shouldAutoExpand:()=>e.autoExpansion&&e.inboxCommerceFeatureClicked,hasStorefrontModules:t=>{var s,a;return!(null===(s=e[t])||void 0===s||!s.dealCmids||null===(a=e[t])||void 0===a||!a.affiliateProducts)},getStorefrontDealCmidsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.dealCmids},getStorefrontProductsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.affiliateProducts},getStorefrontReceiptsFromBrandId:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.receipts},isAstraBatchAPICalled:()=>!!e.astraBatchAPICalled})},receipts:{reducer:function(e={},t){const{listData:s={},type:a}=t;switch(a){case r.MORE_RECEIPTS_SUCCESS:case r.MESSAGE_BODIES_RECEIVED:case r.MESSAGE_BODIES_OPEN_GROUP_RECEIVED:case r.MESSAGE_GROUP_WITH_BODIES_RECEIVED:case r.RECEIPTS_LIST_SUCCEEDED:case r.INITIAL_STATE:{if(!s.schemaCards)return e;const t=Object.keys(s.schemaCards).filter((t=>s.schemaCards[t].type===o.rgK.Order&&!p()(e[t],ms(s,t)))).reduce(((e,t)=>({...e,[t]:ms(s,t)})),{});return Object.keys(t).length?{...e,...t}:e}default:return e}},selector:(e={})=>({getReceipt:t=>e[t],getPrice:t=>e[t].price,getPotentialSavings:t=>e[t].potentialSavings,getFirstItemName:t=>e[t].orderedItems.length?e[t].orderedItems[0].name:0,getOrderDate:t=>e[t].orderDate,getNumItems:t=>e[t].orderedItems.length,getCurrency:t=>e[t].currency||"",getSellerName:t=>e[t].sellerName,getTotalPotentialSaving:(t=0)=>Object.keys(e).filter((s=>t<=Date.parse(e[s].orderDate))).map((t=>Math.floor(100*e[t].potentialSavings))).reduce(((e,t)=>e+t),0)/100,getNumPurchases:(t=0)=>Object.keys(e).filter((s=>t<=Date.parse(e[s].orderDate))).length,getTotalSpentWithEligibleSaving:(t=0)=>Object.keys(e).filter((s=>0!==e[s].potentialSavings&&t<=Date.parse(e[s].orderDate))).map((t=>Math.floor(100*e[t].price))).reduce(((e,t)=>e+t),0)/100})},contentProviders:{reducer:ee,selector:(e={})=>({doesContentProviderExist:t=>void 0!==e[t],isContentProviderConnected:t=>e[t].isConnected,hasConsentForThirdPartyAI:()=>{var t,s;return void 0!==e[o.hKF.THIRD_PARTY_AI]&&(null===(t=e[o.hKF.THIRD_PARTY_AI])||void 0===t||null===(s=t.connectionDetails)||void 0===s?void 0:s.tosStatus)===o.k5w.OPTED_IN},hasOptedOutConsentForThirdPartyAI:()=>{var t,s;return void 0!==e[o.hKF.THIRD_PARTY_AI]&&(null===(t=e[o.hKF.THIRD_PARTY_AI])||void 0===t||null===(s=t.connectionDetails)||void 0===s?void 0:s.tosStatus)===o.k5w.OPTED_OUT},hasConsentForThirdPartyAIAndIndexed:()=>{var t,s,a,n;return void 0!==e[o.hKF.THIRD_PARTY_AI]&&(null===(t=e[o.hKF.THIRD_PARTY_AI])||void 0===t||null===(s=t.connectionDetails)||void 0===s?void 0:s.indexStatus)===o.k5w.COMPLETED&&(null===(a=e[o.hKF.THIRD_PARTY_AI])||void 0===a||null===(n=a.connectionDetails)||void 0===n?void 0:n.tosStatus)===o.k5w.OPTED_IN},getContentProvidersStatus:()=>Object.keys(e).reduce(((t,s)=>(t[s]={status:e[s].isConnected?o.UcZ.CONNECTED:o.UcZ.NOT_CONNECTED},t)),{}),isContentProvidersLoaded:()=>!(0,i.xb)(e)})},router:{reducer:As,selector:(e={})=>({getRoutesConfig:()=>e.routesConfig,getRoute:()=>e.route,getHashParams:()=>e.hashParams,getRouteUIContext:()=>e.uiContext,getMrdParams:()=>e.mrdParams})},pages:{reducer:_s,selector:(e=[])=>({doesPageExist:t=>-1!==e.findIndex((e=>(0,ls.Vu)(e,t))),getPages:()=>e,getFolderPageRoute:()=>e.find((e=>e.name===o.n8z.FOLDER||(0,z.kC)(e))),getSettingsPageRoute:()=>e.find((e=>e.name===o.n8z.SETTINGS))})},history:{reducer:St.Z,selector:St.w},messages:{reducer:ss,selector:as},messagesFlags:{reducer:Wt,selector:(e={})=>({getFlags:t=>e[t],isMessageReadByContext:(t,s)=>{const a=(0,z.kw)(s);return a===o.K8C.OLDMAIL||(a===o.K8C.NEWMAIL?!e[t].recent:e[t].read)}})},messagesFolderId:{reducer:Kt,selector:(e={})=>({getFolderId:t=>e[t],doesMessageIdHasFolderId:t=>!!e[t]})},videoPlayers:{reducer:Va,selector:e=>({getCurrentChannel:()=>e.currentChannel,getShowVideoPlayer:()=>e.showVideoPlayer,getChannelMetaData:()=>e.channelData,getIsPaused:()=>e.isPaused})},messageToAttachments:{reducer:ns,selector:os},features:{reducer:st,selector:(e={})=>t=>{const{getEnvironmentSelectors:s,getTopOfInboxCardsSelectors:a,getFoldersSelectors:n}=t,r=(i,l)=>{if(s().getIsInternalIP()&&(0,_e.jU)()&&window.__DEBUG_MAIL__&&window.__DEBUG_MAIL__[i])return window.__DEBUG_MAIL__[i];switch(i){case o.ANe.PRIORITY_INBOX_ENABLED:return e[o.ANe.PRIORITY_INBOX_ELIGIBLE];case o.ANe.MESSAGE_READ_CONTACT_CARD:return De(e[i],t);case o.ANe.PLA_SEARCH_ADS:return((e,t)=>{const{getRoute:s}=t,a=s(),n=(0,z.LY)(a),r=a.name===o.n8z.SEARCH,i=r&&!!(0,z.DF)(n);return e&&r&&Oe(!0,t,!0)&&!i&&!(0,z.yE)(n)&&(0,z.WN)(n)===o.F6k.MESSAGES})(e[i],t);case o.ANe.BOOKING_CARD:return ye(e[i],t);case o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE:return((e,t)=>{const{isAppVisible:s}=t;return e[o.ANe.NUKE_DISPLAY_ADS_ON_INACTIVE]&&!s()})(e,t);case o.ANe.HIDE_RIGHT_RAIL:return((e,t)=>{var s;const{isFeatureEnabled:a,getAdsSelectors:n,getSetting:r,getRoute:i,emptyFolderDisplayAdEligible:l}=t,c=n(),d=a(o.ANe.RIGHT_RAIL_COLLAPSE_RESTRICTION),_=r(o.Zrf.RIGHT_RAIL_COLLAPSE_LIMIT),E=r(o.ANe.HIDE_RIGHT_PANE_ADS_CLICK_COUNT),u=_>0&&E>_,m=i(),S=a(o.ANe.MAIL_PLUS_SPONSORED_MESSAGE_ON_AD_MISCLICK)&&1===parseInt(null==m||null===(s=m.params)||void 0===s?void 0:s.isMisclickSponsoredAd,10),p=l();return m.name===o.n8z.TODAYPAGE||m.name===o.n8z.SEND_CONFIRMATION||!!(c.isNativeMailPlusUpsellAd()||S||p)||(!d||!u)&&e})(e.hideRightPaneAds,t);case o.ANe.RIGHT_RAIL_CONTACT_CARD:case o.ANe.RIGHT_RAIL_PHOTO_CARD:case o.ANe.RIGHT_RAIL_DOCS_CARD:case o.ANe.RIGHT_RAIL_MESSAGES_CARD:return((e,t,s)=>{const{isFeatureEnabled:a,getRoute:n}=t,r=n(),i=(0,z.LY)(r),l=(0,z.WN)(i),c=r.name===o.n8z.SEARCH,d=a(o.ANe.DEALS)&&[o.F6k.COUPON_CARDS].includes(l),_=c&&!!(0,z.DF)(i)&&!d;if(!Oe(!0,t,!0))return!1;switch(s){case o.ANe.RIGHT_RAIL_CONTACT_CARD:return _;case o.ANe.RIGHT_RAIL_PHOTO_CARD:return l!==o.F6k.IMAGES&&_;case o.ANe.RIGHT_RAIL_DOCS_CARD:return l!==o.F6k.DOCUMENTS&&_;case o.ANe.RIGHT_RAIL_MESSAGES_CARD:return l!==o.F6k.MESSAGES&&_;default:return!1}})(e[i],t,i);case o.ANe.NON_NATIVE_APP_BANNERS:if(!e[i])return!1;return(e[o.Zrf.SUPPRESSED_UPSELLS]||[]).indexOf(o.u82)<0;case o.ANe.SHOPPING_CART_AD:return((e,t)=>{const{hasMatchingDomainInMessageGroup:s,isFeatureEnabled:a,getCurrentListId:n,getGroupId:r,getMessagesSelectors:i,getRelevantMessageIdFromMessageGroupId:l}=t,{getDecos:c}=i(),d=r(),_=l(d,n());if(!d||!_)return!!a(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)&&e;const E=(c(_)||[]).some((({id:e})=>e===o.B_Z[o.K8C.PEOPLE]));return e&&s(o.niV)&&!E})(e[i],t);case o.ANe.DOMAIN_MATCH_AD:return((e,t)=>{if(!e)return!1;const{getCurrentListId:s,getGroupId:a,getMessagesSelectors:n,getRelevantMessageIdFromMessageGroupId:r,isFeatureEnabled:i}=t,l=r(a(),s());if(!l)return!(!i(o.ANe.JEDI_BATCH_RELATED_CARDS_ENABLED)||!i(o.ANe.DOMAIN_MATCH_AD_VIA_RELATED_CARDS))&&e;const{getDecos:c}=n(),d=c(l)||[];return(0,Le.m3)(d,[o.Jd6.CPN])&&!(0,Le.m3)(d,[o.Jd6.PE])})(e[i],t);case o.ANe.HOTELS_CARD_PREFILL:return ve(e[i],t);case o.ANe.RELATED_SEARCHES_CARD:return((e,t)=>{const{getAdsSelectors:s,getFeaturesSelectors:a,getParticipantInFocus:n}=t,{isEnabled:r}=a(),i=De(e,t),l=r(o.ANe.BOOKING_CARD);if(!i||l)return!1;const{getRelatedSearches:c}=s(),d=c(),_=n(),{email:E}=_||{};return!!(0,Ne.d)(d,E)||!Object.keys(d).length})(e[i],t);case o.ANe.RIGHT_RAIL_NATIVE_AD:return((e,t)=>{const{getRouteName:s}=t;return Oe(e,t,!0)&&s()===o.n8z.SPONSORED_MESSAGE})(e[i],t);case o.ANe.SMARTVIEW_CATEGORIES_ENABLED:return e[o.ANe.SMARTVIEW_CATEGORIES_IN_TABS]||e[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE]||e[o.ANe.SMARTVIEW_CATEGORIES_PEOPLE_V2]||e[o.ANe.SMARTVIEW_CATEGORIES_SHOPPING];case o.ANe.SHOW_TABS:return e[o.Zrf.MAIL_TABS];case o.Zrf.MAIL_TABS:return e[i]||t.hasFailedComposeSend();case o.ANe.INLINE_REPLY_COMPOSE:return e[i]&&!e[o.Zrf.MAIL_TABS];case o.Zrf.HAS_GUIDED_STAR_ANIMATION:return Ie(t);case o.Zrf.HAS_DEALS_STAR_ANIMATION:return he(t);case o.Zrf.SNIPPETS:return e[i];case o.Zrf.PREVIEW_PANE:return Re(e[i],t);case o.Zrf.MSG_LIST_DENSITY:return je(e[i],t);case o.Zrf.LIST_ITEM_HEIGHT:return Te(e,t,l);case o.Zrf.THEME_MODE:return(e=>{const t=e[o.Zrf.THEME_MODE];return o.zgU[t]||o.zgU.LIGHT})(e);case o.Zrf.THEME:return((e,t)=>{const{isFeatureEnabled:s,getSetting:a}=t,n=s(o.ANe.PHOTO_THEMES),r=e[o.Zrf.THEME];return a(o.Zrf.APP_CONTAINER)===o.jH6.NEXTGENHOME?o.b39.NEXTGENHOME:!n&&(0,pe.L_)(r)?o.b39.DEFAULT:o.b39[r]||o.b39.DEFAULT})(e,t);case o.Zrf.SYSTEM_TABS:return Pe(e[i],t);case o.Zrf.NOTIFICATION:return ge(t);case o.Zrf.COUPON_CARDS_FETCH_COUNT:return((e,t)=>{const{getRoute:s,isFeatureEnabled:a,getSmartViewTypeFromRoute:n,getCouponsSelectors:r}=t,{getExtractedDeals:i}=r(),l=s();return a(o.ANe.DEALS)&&[o.K8C.COUPONS,o.K8C.COUPON_EMAILS].includes(n(l))&&Object.keys(i()).length<100?100:e})(e[i],t);case o.ANe.MAIL_PRO_LINK_IN_SETTINGS_MENU:return(e=>{if(!e||!(0,_e.jU)()||!window.AppBootstrapData)return!1;const{value:t=""}=window.AppBootstrapData.mailboxAttributes["web.clientVersionHistory"]||{},s=t.split("|").filter((e=>!!e)),a=Date.now();if(1===s.length)return!0;const n=s.reduce(((e,t="")=>{const[s,n]=t.split(",");if("6"===s){let t=1e3*parseInt(n,10);return t>a&&(t/=1e3),Math.max(e,t)}return e}),0);return 0!==n&&a-n>60*o.Zd2})(e[i]);case o.Zrf.ACTION_AFTER_MSG_MOVE:return Fe(e,t);case o.ANe.INLINE_IMAGES_PROXIED:return((e,t)=>{const{getSetting:s,isMobileRoute:a}=t;if(a())return e;const n=s(o.Zrf.SCOUT_ONBOARDING)||[],r=(0,Ue.Zo)(n);return e&&r})(e[i],t);case o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:return((e,t,s)=>{const{doesMessageGroupIdExist:a,getRoute:n,getMessageSubject:r,getMessageIdsFromMessageGroupId:i,getMessageListItems:l}=t,c=n(),d=(0,z.LY)(c);switch(s){case o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE:{const t=l(d).some((e=>{const t=a(e.id)&&i(e.id)[0];if(!t||c.name!==o.n8z.FOLDER)return!1;const s=r(t,d);return s&&Ge(s)}));return e&&t}default:return!1}})(e[i],t,i);case o.ANe.LASTPASS_FREETRIAL_UPSELL:return e[i]&&e[o.ANe.LASTPASS_FREETRIAL_UPSELL_ELIGIBLE];case o.ANe.BREAKING_NEWS_ENABLED:return((e,t)=>{const{getSetting:s,getRoute:a,isFolderRoute:n,getBreakingNewsSelectors:r,getCurrentListId:i}=t,l=a(),c=r().getIsBreakingNewsDismissed(),d=s(o.Zrf.BREAKING_NEWS_SETTINGS),_=e&&d&&!c,E=i(),u=l.name===o.n8z.SEARCH&&((0,z.rB)(l)||!(0,z.yE)(E)),m=n(),S=s(o.Zrf.PREVIEW_PANE)===o.EsZ.RIGHT;return _&&(m||u)&&!S})(e[o.ANe.BREAKING_NEWS],t);case o.ANe.COMPOSE_ASSISTANT:return e[o.ANe.SHOW_EXPERIMENTAL_FEATURES]?Xe(qe(e[i],t,i),t):Xe(e[i],t);case o.ANe.YAI_RETRO_COMPOSE:case o.ANe.POTENTIAL_MAIL_YAI:return Xe(e[i],t);case o.ANe.YAI_SEARCH:return((e,t)=>{if(!e)return e;const{getContentProviders:s}=t;return!!s().hasConsentForThirdPartyAIAndIndexed()&&e})(e[i],t);case o.Zrf.HUMAN_READABLE_CONSENT:{const t=e[o.Zrf.CONSENT_EVENTS];return!!(Array.isArray(t)&&t.indexOf("humanReadableConsentEvents")>-1)}case o.ANe.ABP_STATIC_ADS:return e[i]&&t.getAdsSelectors().isABPDetected();case o.ANe.SAME_SEARCH_AD_ON_SECOND_PENCIL:case o.ANe.SECOND_SEARCH_AD:case o.ANe.BOTTOM_STICKY_PENCIL_AD:return e[i]&&!(t.getAdsSelectors().isABPDetected()||t.getAdsSelectors().isAdblockerDetected());case o.ANe.ADBLOCK_UPSELL_CUE:case o.ANe.ADBLOCK_UPSELL:return e[i]&&!t.isFeatureEnabled(o.ANe.ABP_STATIC_ADS);case o.ANe.PORTRAIT_AD:{const{screenHeight:a,clientWidth:n}=s().getWindowDimensions(),r=t.isMobileRoute()&&a>=Be.u3.MIN_HEIGHT_FOR_TWO_COLUMNS&&n>=Be.u3.MIN_WIDTH_FOR_TWO_COLUMNS;return e[i]&&!(r&&2===t.getPrescribedNumberOfColumns())}case o.ANe.CROSS_DOMAIN_DPA_ADS:return((e,t)=>{const{getCouponsSelectors:s,isFeatureEnabled:a}=t,{getCouponCategoriesForMessageGroup:n}=s(),r=n();return e&&!a(o.ANe.SHOPPING_CART_AD)&&!!r.length})(e[i],t);case o.ANe.AD_PARTIALLY_ABOVE_FOLD:{const{screenHeight:a,clientWidth:n}=s().getWindowDimensions(),r=t.isMobileRoute()&&a>=Be.u3.MIN_HEIGHT_FOR_TWO_COLUMNS&&n>=Be.u3.MIN_WIDTH_FOR_TWO_COLUMNS&&1===t.getPrescribedNumberOfColumns();return e[i]&&!r}case o.ANe.DEAL_RECOMMENDATIONS_ENABLED:return ze(e,t);case o.ANe.HIDE_DEALS_ENABLED:return!ze(e,t);case o.Zrf.YMOBILE_UPSELL_VERSION:return e[i]||(0,xe.ZP)(t);case o.Zrf.COMPOSE_FORMAT:{const{isFeatureEnabled:s}=t;return s(o.ANe.COMPACT_COMPOSE)?e[i]:o.tTi.FULL_SIZED}case o.Zrf.FEEDBACK_URL:return((e,t)=>{const s=e+(-1!==e.indexOf("?")?"&":"?"),{getEnvironmentSelectors:a,getSetting:n,isFeatureEnabled:r,getFoldersSelectors:i}=t,{getLoggerParams:l,getAppName:c}=a(),{getNumOfTotalMsgs:d}=i(),{buckets:_,os:E,browser:u}=l(),m=c()===o.BQZ.MAIL_APP?n(o.Zrf.PREVIEW_PANE):0,S=r(o.ANe.CONVERSATIONS),p={bucket:_,mailpro:r(o.ANe.MAIL_PRO)?1:0,os:E,browser:u,conv:S?1:0,pp:m,empty:0===d()?1:0};return s+Ve.stringify(p)})(e[i],t);case o.Zrf.LOGO_URL:case o.Zrf.LOGO_SRCSET:return((e,t,s)=>{const{isFeatureEnabled:a,getEnvironmentSelectors:n}=t,{getAppName:r,getPartner:i}=n(),l=r();if(l!==o.BQZ.BASIC_MAIL_APP&&l!==o.BQZ.BASIC_MOBILE_APP)return e;const c=a(o.ANe.MAIL_PRO),d=a(o.ANe.MAIL_PLUS);return i()===o.Ql2.ATT&&d?We.MAILPLUS_ATT[s]:d||c?d?We.MAILPLUS[s]:We.MAILPRO[s]:e})(e[i],t,i);case o.Zrf.AMP_EMAIL:{const{isFeatureEnabled:s,getSetting:a}=t;return s(o.ANe.AMP)&&!!e[i]&&a(o.Zrf.SHOW_IMAGES)}case o.ANe.EMAILS_TO_MYSELF_UPSELL:if(!e[i])return!1;return(e[o.Zrf.SUPPRESSED_UPSELLS]||[o.ANe.EMAILS_TO_MYSELF_UPSELL]).indexOf(o.ANe.EMAILS_TO_MYSELF_UPSELL)<0;case o.ANe.NOBLE_SEARCH_BUTTON:return!(null==t||!t.isMobileRoute())&&r(o.ANe.TOP_OF_INBOX_CARDS,null);case o.ANe.TOP_OF_INBOX_CARDS:{var c,d,_,E;if(null==t||!t.isMobileRoute())return e[i];if(-2!==(0,Ye.nC)())return e[i];const{route:a={}}=e,n=(0,z.I7)(a),r=s().getUserSegmentData();return!(r&&("0"!==(null==r||null===(c=r.MOBILE_ANDROID)||void 0===c?void 0:c.segment_activedays)&&"MOBILE_ANDROID"in r||"0"!==(null==r||null===(d=r.MOBILE_IOS)||void 0===d?void 0:d.segment_activedays)&&"MOBILE_IOS"in r||"0"!==(null==r||null===(_=r.WEB_DESKTOP)||void 0===_?void 0:_.segment_activedays)&&"WEB_DESKTOP"in r||"0"!==(null==r||null===(E=r.WEB_MOBILE)||void 0===E?void 0:E.segment_activedays)&&"WEB_MOBILE"in r)||!n)&&(r&&(0,Ye.o3)(1),e[i])}case o.ANe.APP_UPSELL_PILL:case o.ANe.APP_INSTALL_CUE_V3:case o.ANe.APP_INSTALL_CUE_V3_MINI:case o.ANe.APP_INSTALL_CUE_V3_LIMITED:case o.ANe.APP_INSTALL_CUE_V3_DISMISSABLE:case o.ANe.MOBILE_APP_BANNER:case o.ANe.SMART_APP_BANNERS:if(null==t||!t.isMobileRoute())return e[i];if(r(o.ANe.TOP_OF_INBOX_CARDS,null)){var u;const{getImapSessionCount:t,getTopOfInboxCards:s}=a(),{route:r={}}=e,o=t();if(o>0&&o<=5)return!1;if(o>5&&n().isInboxFolder(null==r||null===(u=r.params)||void 0===u?void 0:u.fid)&&s().length)return!1}return e[i];default:return e[i]}};return{isEnabled:t=>{const s=r(t),{route:a={}}=e,{name:n}=a;return(0,Ae._)(e,t,n),void 0!==s?!!s:s},getSetting:(t,s)=>{const{route:a={}}=e,{name:n}=a;return(0,Ae.N)(e,t,n),r(t,s)},getDefaultSetting:t=>{const{route:s={}}=e,{name:a}=s;return(0,Ae.N)(e,t,a),e[t]}}}},featureCues:{reducer:rt,selector:e=>({isShown:t=>e[t]&&e[t].isShown,shownFeatures:()=>Object.keys(e||{}).filter((t=>e[t].isShown)),isPersistent:t=>e[t]&&e[t].isPersistent,isKeySaved:t=>e[t]&&e[t].isKeySaved,getSubkey:t=>e[t]&&e[t].subkey,getUserResponse:t=>e[t]&&e[t].userResponse,isReshowInSessionEnabled:t=>e[t]&&e[t].reShowInSession,getRecurringInterval:t=>{var s;return null===(s=e[t])||void 0===s?void 0:s.recurringInterval}})},gifItems:{reducer:mt,selector:(e={})=>({getGifItems:()=>e})},gifCategories:{reducer:ut,selector:(e={})=>({isGifCategoryQuery:t=>e.categories.hasOwnProperty(t),getGifCategoryTopItemsStatus:t=>e.categories[t].status,getGifCategoryTopItemsUrl:t=>e.categories[t].category.topItemsUrl,getGifCategoriesList:()=>e.categoryIds.map((t=>e.categories[t].category)),isCategoryListLoaded:()=>e.categoriesStatus===o.DAQ.LOADED})},contacts:{reducer:$,selector:e=>({getContacts:()=>e.byId,doesContactExist:({id:t})=>!!e.byId[t],getContactById:t=>e.byId[t],getContactIdByEmail:t=>e.idByEmail[t],getContactByEmail:t=>{const s=e.idByEmail[t];return s?e.byId[s]:e.addressBook[t]||null},getContactCategoryById:t=>(e.byId[t]||{}).aolCategory,getCurrentFilter:()=>e.selectedPaneFilter,getCurrentPaneView:()=>e.contactsPaneView,getCurrentPaneListId:()=>(0,z.uh)(e.selectedPaneFilter,e.selectedUserGroup[e.selectedPaneFilter]||""),isEditable:t=>{const{editToken:s}=e.byId[t]||{};return!!s},isDeletable:t=>{const{editToken:s,isInUserContactList:a}=e.byId[t]||{};return!!s&&a},getAllGroupsData:()=>e.groupsById||{},getSelectedGroup:t=>e.selectedUserGroup[t],getGroupName:t=>((e.groupsById||{})[t]||{name:""}).name,getAllGroupNames:()=>Object.keys(e.groupsById).reduce(((t,s)=>({...t,[e.groupsById[s].name.toLowerCase()]:++t[e.groupsById[s].name.toLowerCase()]||1})),{}),isUserAddedContact:t=>!!e.byId[t]&&e.byId[t].isInUserContactList,getContactsSortOrder:()=>e.sortBy,getCategoryFilter:()=>e.categoryFilter,getContactBlockList:()=>e.contactBlockList,getContactRestoreStatus:()=>e.restoreStatus,getCsvContactImportStatus:()=>e.csvContactImportStatus})},socialAccounts:{reducer:gs,selector:e=>({showAuthWindow:()=>!!e.authWindow.provider,getAuthWindowData:()=>e.authWindow})},downloads:{reducer:ce,selector:e=>({getDownloads:()=>e})},online:{reducer:is,selector:e=>({isOnline:()=>e})},searchSuggestions:{reducer:Is,selector:function(e={}){return{getSuggestions:t=>e.suggestions[(0,v.UP)(t)],getYaiSearchAnswer:t=>e.yaiAnswer[t],getYaiSearchAnswerStatus:t=>e.status[t]}}},searchInput:{reducer:Ts.Z,selector:Ts.w},calendar:{reducer:m,selector:(e={})=>({getInviteUid:t=>e[t]&&e[t].uid,getInviteStatus:t=>e[t]&&e[t].status,getInviteInfo:t=>e[t]})},environment:{reducer:ue,selector:(e={})=>({getAppName:()=>e.appName,getAppId:()=>e.appId,getIsInternalIP:()=>e.isInternalIP,isAppVisible:()=>e.applicationVisibility,getApplicationLastVisibleTimeStamp:()=>e.applicationLastVisibleTimeStamp,getBuildRefreshStatus:()=>e.buildRefreshStatus,getTimeZoneName:()=>e.timeZoneName,getBrowser:()=>e.browser||{},getPageDirection:()=>e.pageDirection,getTimezoneUpdatingStatus:()=>e.timezoneUpdating,getRegion:()=>e.region||"",getWindowDimensions:()=>e.windowDimensions||{},getLoggerParams:()=>e.loggerParams,getUserSegmentData:()=>e.userSegmentData,getUserAdBlockerData:()=>e.userAdBlockerData,getDoNotSellUrl:()=>e.doNotSellUrl,getDoNotSellLabel:()=>e.doNotSellLabel,getPrivacyJurisdictionLinks:()=>e.privacyJurisdictionLinks,getInactiveSinceDate:()=>(0,de.B)(e.userSegmentData),getEndpoint:t=>e.endpoints[t],getPartner:()=>e.partner,getOS:()=>e.os,getUserNamespace:()=>e.userNamespace,getBuckets:()=>e.buckets,getColo:()=>e.colo})},composeSuggestions:{reducer:F,selector:e=>({getSuggestions:t=>{const s=e.composeSuggestionsFromImportantContacts[(0,v.UP)(t)]||[],a=e.composeSuggestions[(0,v.UP)(t)]||[];return s.concat(a).reduce(((e,t)=>e.map[t.email]?(e.map[t.email].filteredResults=t.filteredResults,e):(e.result=[...e.result,t],e.map[t.email]=t,e)),{map:{},result:[]}).result}})},locationSuggestions:{reducer:Mt,selector:(e={})=>({getLocationSuggestionsMap:()=>e.locationSuggestions,getLocationSuggestions:t=>e.locationSuggestions[t]||[],getLocationSuggestionStatus:t=>e.locationFetchStatus[t]||o.DAQ.DOES_NOT_EXIST})},settings:{reducer:hs,selector:(e={})=>({getSettingsApiCallStatus:()=>e.settingsApiCallStatus,getBlockedSendersApiCallStatus:()=>e.blockedSendersApiCallStatus,getFiltersAndBlockedSendersApiCallStatus:()=>e.filtersAndBlockedSendersApiCallStatus,isHumanReadableConsentUpdated:()=>e.humanReadableConsentUpdated,autoForwardAllowedAttributeStatus:()=>e.autoForwardAllowedAttributeStatus,getPeopleIKnowPreference:()=>e.peopleIKnowPreference,isRightRailCommerceResponseLoaded:()=>!!e.rightRailCommerceApiCallStatus,haveAllThemesRenderedSetting:()=>e.haveAllThemesRenderedSetting,themeOrThemeModeUpdated:()=>e.themeOrThemeModeUpdated,stickyOnboardingExpandedState:()=>e.stickyOnboardingExpandedState})},importantContacts:{reducer:pt,selector:function(e={}){return{getImportantContacts:()=>e}}},recentSearches:{reducer:Cs,selector:function(e={}){return{getRecentSearches:()=>e.recentSearches,getRecentSearchesCallStatus:()=>e.status}}},breakingNews:{reducer:Ka,selector:function(e={}){return{getNewsArticle:()=>e.newsArticle,getIsBreakingNewsDismissed:()=>e.isDismissed,getNewsRefreshTimestamp:()=>e.newsRefreshTimestamp}}},weather:{reducer:za,selector:function(e={}){return{getWeatherData:()=>e.weatherData}}},spellCheck:{reducer:Ya,selector:function(e={}){return{getSpellCheckData:()=>null==e?void 0:e.spellCheckData}}},pendingUpdate:{reducer:Es,selector:(e={})=>({getPendingUpdate:()=>e})},designClassifier:{reducer:ae,selector:(e={isDetailPaneExpanded:!1})=>({isDetailPaneExpanded:()=>e.isDetailPaneExpanded})},composeAttributesStatus:{reducer:R,selector:(e={})=>({getComposeAttributesStatus:()=>e.composeAttributesStatus})},dealsView:{reducer:se,selector:e=>({getTopRetailers:()=>e.topRetailers,getTopDealCategories:()=>e.topDealCategories,getDealsViewListExpansion:()=>!!e.dealsViewExpansion})},linkEnhancer:{reducer:At,selector:(e={})=>({getEnhancedLinks:()=>e})},addFilter:{reducer:Za,selector:(e={})=>({getAddFilter:()=>e})},replySuggestions:{reducer:Wa,selector:(e={})=>({getReplySuggestions:t=>e[t]})},adListItems:{reducer:nn,selector:(e={})=>({getAdItems:()=>Object.keys(e),getSelectedPencilAds:()=>Object.keys(e).filter((t=>e[t].isSelected)),hasSelectedPencilAds:()=>{let t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].isSelected)return!0;return!1},isAdSelected:t=>!!e[t]&&e[t].isSelected,isAdMarkedAsRead:t=>!!e[t]&&e[t].isRead,isAdDeleted:t=>!!e[t]&&e[t].isDeleted,isAdMarkedForSkipRotation:t=>!!e[t]&&e[t].rotateAd<1})},cloudStorageAccounts:{reducer:cn,selector:(e={})=>({getCloudStorageItems:()=>e.cloudStorageItems,getShareableLinkByItemId:t=>e.shareableLinks[t],getShareableLinkForRecentItem:()=>{if(e.shareableLinks[e.recentItemId]){const{shareableLink:t}=e.shareableLinks[e.recentItemId];return t}}})},senderRollup:{reducer:un,selector:function(e={}){return{getSenderRollupById:(t,s)=>e[t]&&e[t][s]}}},productRecommendations:{reducer:pn,selector:(e={})=>({getRecommendationsFromConversationId:t=>Object.keys(e).reduce(((s,a)=>(e[a].cardConversationId===t&&(e[a].schemaId=a,s.push(e[a])),s)),[]),getRecommendationsFromAddress:t=>e[t].from,getJediRightRailProductRecommendations:()=>{var t;return(null===(t=(0,i.VO)(e)||[])||void 0===t?void 0:t.map((e=>{const{dealLink:t,from:{name:s,email:a}={}}=e;return{...e,email:a,brandUrl:t,brandName:s}})).filter((e=>{const{email:t,brandUrl:s,brandName:a}=e;return s&&a&&t})))||[]}})},mailPremiumFreeTrial:{reducer:sn,selector:(e={})=>t=>({getDaysLeftInTrial:()=>{let t=0;return e.trialStartDate>0&&(t=(0,ja.differenceInDays)((new Date).getTime(),e.trialStartDate)+1),o.OIv-t},getUpsellId:()=>e.upsellId,getSubscriptionStatus:()=>e.subscriptionStatus,getPurchaseFreeTrialStatus:()=>e.purchaseFreeTrialStatus,getListSubscriptionsApiCallStatus:()=>e.listSubscriptionsApiCallStatus,isPurchaseFreeTrialInProgress:()=>{const{getUnsyncedDataToSync:e}=t;return e(Date.now()).some((e=>e.type===o.sKi.PURCHASE_MAILPRO_FREE_TRIAL&&"PURCHASE_MAILPRO_FREE_TRIAL_HASH"===e.hash))},isPurchaseFreeTrialFailed:()=>!!e.purchaseFreeTrialStatus&&e.purchaseFreeTrialStatus===Qa,hasCrossDeviceMailPlusInSubsList:()=>e.hasCrossDeviceMailPlusInSubsList,getDealsRecommendationsPreview:()=>e.dealsRecommendationsPreview})},recentlyUsedState:{reducer:Cn,selector:e=>({getRecentlyUsedMessageBodiesIds:()=>e.messageBodies,getRecentlyUsedDocumentsIds:()=>e.documents})},packageTracking:{reducer:An,selector:e=>({getPackageTrackingCardFromConversationId:t=>e[t]})},falconTOMSubscriptions:{reducer:dn,selector:(e={})=>({getFalconTOMSubscriptionByGroupId:t=>e.falconTOMSubscriptions[t],getFalconTOMSubscriptionsApiCallStatus:t=>e.falconTOMSubscriptionsApiCallStatus[t]})},falconRelatedCards:{reducer:_n,selector:(e={})=>t=>{const s={getOfferCardByGroupId:t=>{if(Array.isArray(e.relatedCards[t])){return e.relatedCards[t].filter((e=>e.vertical===o.VRv.OFFERS))[0]}return e.relatedCards[t]},getDPACardByGroupId:t=>{if(Array.isArray(e.relatedCards[t])){return e.relatedCards[t].filter((e=>e.vertical===o.VRv.DPA))[0]}return e.relatedCards[t]},getDMACardByGroupId:t=>{if(Array.isArray(e.relatedCards[t])){return e.relatedCards[t].filter((e=>e.vertical===o.VRv.DMA||e.vertical===o.VRv.DMA1))[0]}return e.relatedCards[t]},getICDealcardsByGroupId:s=>{var a;const{isFeatureEnabled:n}=t,r=null===(a=e.relatedCards[s])||void 0===a?void 0:a.filter((e=>e.vertical===o.VRv.COMMERCE)),i=(null==r?void 0:r.reduce(((e,t)=>e.concat(t.data)),[]).filter((e=>e.dealType!==o.WSI.AFFILIATE_PRODUCT_OFFER&&(e.dealType===o.WSI.INBOX_DEAL||e.dealType===o.WSI.PRODUCT_RECOMMENDATION_DEAL||e.dealType===o.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL||e.dealType===o.WSI.RECOMMENDED_DEAL||e.dealType===o.WSI.CONQUEST_DEAL||e.dealType===o.WSI.CONQUEST_PRODUCT_DEAL||!e.expirationTime||e.expirationTime.dateDiff>=0)&&(o.TVr!==e.entity||o.WSI.PRODUCT_RECOMMENDATION_DEAL!==e.dealType&&o.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL!==e.dealType))))||[];if(n(o.ANe.DEALS_RESKIN)){const e=[o.WSI.PRODUCT_RECOMMENDATION_DEAL,o.WSI.INBOX_PRODUCT_RECOMMENDATION_DEAL,o.WSI.EXTRACTED_DEAL,o.WSI.INBOX_DEAL,o.WSI.STATIC_DEAL];i.sort((({dealType:t},{dealType:s})=>e.indexOf(t)-e.indexOf(s)))}return i.slice(0,12)},getICProductcardsByGroupId:t=>{var s;const a=null===(s=e.relatedCards[t])||void 0===s?void 0:s.filter((e=>e.vertical===o.VRv.COMMERCE));return(null==a?void 0:a.reduce(((e,t)=>e.concat(t.data)),[]).filter((e=>e.dealType===o.WSI.AFFILIATE_PRODUCT_OFFER)))||[]},getFalconContactCardByGroupId:t=>{var s,a;const n=null===(s=e.relatedCards[t])||void 0===s||null===(a=s.filter((e=>e.vertical===o.VRv.KE)))||void 0===a?void 0:a[0];return(null==n?void 0:n.data)||{}},getDPAAdsByGroupId:e=>{const{data:a={}}=s.getDPACardByGroupId(e)||{},{getSetting:n,isFeatureEnabled:r}=t,i=a[n(o.Zrf.GEMINI_SECTION_IDS)[o.e$m.SHOPPING_CART]||""]||[],{ads:l}=i[0]||{},c=(l&&1===l.length&&!l[0].creativeId?l[0]:l)||[];return r(o.ANe.SHOPPING_CART_AD)&&c.length?c:[]},getDomainMatchAdsByGroupId:e=>{const{data:a={}}=s.getDMACardByGroupId(e)||{},{getSetting:n,isFeatureEnabled:r}=t,i=a[n(o.Zrf.GEMINI_SECTION_IDS)[o.e$m.MESSAGE_READ]||""]||[],{ads:l}=i[0]||{},c=(l&&1===l.length&&!l[0].creativeId?l[0]:l)||[];return r(o.ANe.DOMAIN_MATCH_AD)&&c.length?c:[]},getPromoCodeCardByGroupId:t=>{var s;const a=null===(s=e.relatedCards[t])||void 0===s?void 0:s.filter((e=>e.vertical===o.VRv.COMMERCE)),n=(null==a?void 0:a.reduce(((e,t)=>e.concat(t.data)),[]).filter((e=>{var t;return e.promoCode&&(!e.expirationTime||(null===(t=e.expirationTime)||void 0===t?void 0:t.dateDiff)>=0)})))||[];return n.length?n[0]:{}},doRelatedCardsExistForGroupId:t=>!!e.relatedCards[t],doCommerceRelatedCardsExistForGroupId:t=>{var s;return null===(s=e.relatedCards[t])||void 0===s?void 0:s.some((e=>e.vertical===o.VRv.COMMERCE||e.vertical===o.VRv.KE))},hasSomeCardExpiredForGroupId:t=>e.relatedCards[t].some((e=>new Date(e.ttl)<=new Date)),getRelatedCardsStatus:t=>e.relatedCardsStatus[t],isRelatedCardsFetched:()=>0!==Object.keys(e.relatedCards).length||0!==Object.keys(e.relatedCardsStatus).length,getI13nMeta:t=>(s=o.VRv.OFFERS)=>{var a,n;const r=null===(a=e.relatedCards[t])||void 0===a?void 0:a.filter((e=>e.vertical===s));return(null==r||null===(n=r[0])||void 0===n?void 0:n.i13nMeta)||""},getCommerceIntentPageIdByBrandName:t=>(null==t?void 0:t.toLowerCase())in e.commerceIntent?"commerce_brand_intent":"all"in e.commerceIntent?"commerce_intent":"",getCommerceIntentBrands:()=>e.commerceIntent,isHighCommerceIntentUser:()=>e.isHighCommerceIntentUser,getYaiReceiptCardsByGroupId:t=>{var s;const a=(null===(s=e.relatedCards[t])||void 0===s?void 0:s.filter((e=>e.vertical===o.VRv.COMMERCE_UTIL)))||[];let n={},r={};for(const e of a)if(Array.isArray(e.data))if(e.subType===o.W2H.CPN)for(const t of e.data)(0,i.xb)(n)&&(n={...t,subType:e.subType});else if(e.subType===o.W2H.EEG)for(const t of e.data)(0,i.xb)(n)&&(n={...t,subType:e.subType});else if(e.subType===o.W2H.PCS)for(const t of e.data)(0,i.xb)(r)&&(r={...t,subType:e.subType});return(0,i.xb)(n)||(0,i.xb)(r)?{}:{discountCard:n,receiptCard:r}},getRelatedCardsVerticalsByGroupId:t=>e.relatedCardsVerticals[t]||[]};return s}},composeFormats:{reducer:gn,selector:(e=hn)=>({getAllComposeFormats:()=>e.composeSessionIds.slice()||[],getComposeFormatById:t=>e.itemsById&&e.itemsById[t],getComposeFormat:t=>(e.itemsById&&e.itemsById[t]||{}).format,getLastActiveComposeSession:()=>e.lastActiveComposeSession})},mailActionTimeData:{reducer:xn,selector:e=>({getMailActionTimeData:()=>null==e?void 0:e.mailActionTimeData,getFirstEmailOpenedTime:()=>null==e?void 0:e.firstEmailOpened})},advancedSearchPane:{reducer:On,selector:(e={isAdvancedSearchPaneOpen:!1})=>({isAdvancedSearchPaneOpen:()=>e.isAdvancedSearchPaneOpen})},leftNavResizeWidth:{reducer:Dn,selector:(e={leftNavWidth:0})=>({leftNavResizeWidth:()=>{var t;return null!==(t=null==e?void 0:e.leftNavWidth)&&void 0!==t?t:0}})},scrollToSearch:{reducer:Rn.ZP,selector:Rn.wl},todos:{reducer:Nn.ZP,selector:Nn.wl},affiliateCrumb:{reducer:Ln,selector:(e="")=>({getAffiliateCrumb:()=>e})},invoices:{reducer:fn,selector:(e={})=>({getInvoiceCardsByGroupId:t=>e[t]||[]})},giftCards:{reducer:Mn,selector:(e={})=>({getGiftCardsByGroupId:t=>e[t]||[]})},shoppingCards:{reducer:Pn,selector:(e={})=>({getShoppingCartByMessageId:t=>e[t]||{}})},topOfInboxCards:{reducer:yn,selector:(e=bn)=>t=>({getTopOfInboxCards:()=>{if(e.cardsRemovedAll)return[];const{getMessagesSelectors:s,getMessageFolderId:a,getMessageGroupsSelectors:n,isFeatureEnabled:r,isMobileRoute:i,getSetting:l}=t;return e.topOfInboxCards.filter((t=>!(e.cardsRemoved.includes(t.cardId)||t.subType===o.MKR.GN_CLAIM_HINT&&!r(o.ANe.YAI_RETRO_COMPOSE)||!i()&&t.subType===o.MKR.PKG&&!l(o.Zrf.PACKAGE_TRACKING_SETTINGS)))).map((e=>{const{getParentMessageIdForCardConversationId:t,getConversationId:r}=s(),{doesMessageGroupIdExist:o}=n(),i=t(e.ccId),l=i?r(i):"";let c=l;return l&&o(l)||(c=i,i&&o(i)||(c="")),{...e,msgGroupId:c,folderId:i?a(i):""}})).filter((e=>!!e.msgGroupId||!!e.folderId))},isFirstCardOpened:()=>e.firstCardOpened,getBottomOptionsOpenedCard:()=>e.bottomOptionsOpenedCard,isBottomOptionsNavigate:()=>e.isBottomOptionsNavigate,getImapSessionCount:()=>e.imapSessionCount,isTopOfInboxFetched:()=>e.topOfInboxFetched})},mobileScrollTimeChunk:{reducer:vn,selector:e=>({getMobileTimeChunk:()=>e})},wallet:{reducer:wn,selector:(e=Un)=>({getGiftCards:()=>(0,i.VO)(e.wallet).filter((e=>e.walletItemType===o.mUW.GIFT_CARD))||[],getCredits:()=>(0,i.VO)(e.wallet).filter((e=>e.walletItemType===o.mUW.CREDIT))||[],getRewards:()=>(0,i.VO)(e.wallet).filter((e=>e.walletItemType===o.mUW.REWARD))||[],getGiftCardsTotal:()=>{let t=0;return((0,i.VO)(e.wallet).filter((e=>e.walletItemType===o.mUW.GIFT_CARD))||[]).forEach((e=>{var s;null!=e&&null!==(s=e.amount)&&void 0!==s&&s.value&&(t+=e.amount.value)})),t},getWalletItemByUniqueCardId:t=>(0,i.VO)(e.wallet).find((e=>e.uniqueCardId===t)),getSelectedUniqueCardId:()=>e.selectedUniqueCardId})},notes:{reducer:Hn.ZP,selector:Hn.wl},yaiRetroCompose:{reducer:Bn.ZP,selector:Bn.wl}},Zn=(0,v.kP)(Vn),Wn=(0,a.combineReducers)(Zn),Kn=(0,v.C1)(Vn),zn=Wn},70717:(e,t,s)=>{"use strict";s.d(t,{N4:()=>d,ZP:()=>_,wl:()=>E});var a=s(50566),n=s(37422),r=s(63352),o=s(18446),i=s.n(o),l=s(57557),c=s.n(l);function d(e,t,s=[]){let{index:a=-1}=e;return t===n.Fio.UP?a--:t===n.Fio.DOWN?a++:t===n.Fio.FIRST?a=0:t===n.Fio.LAST?a=s.length-1:(0,r.Z)(!t,"Movement not supported yet"),a<0?a=0:a>=s.length&&(a=s.length-1),{index:a,streamItem:s[a]}}const _=(e={},t)=>{const{type:s,streamItem:n,streamItems:r=[],selectionPayload:o={}}=t;switch(s){case a.STREAM_ITEM_TOGGLED:case a.STREAM_CONTEXT_MENU:case a.ITEMS_DRAG_STARTED:case a.STREAM_ITEMS_RANGE_SELECTED:case a.PREVIEW_MESSAGE_REQUESTED:{const t=r.findIndex((e=>i()(e,n))),s={streamItem:n,index:t};return i()(e,s)?e:s}case a.OPEN_PAGE_REQUESTED:{const t=r.findIndex((e=>i()(e,n)));if(!n||-1===t)return{};const s={streamItem:n,index:t};return i()(e,s)?e:s}case a.PREVIEW_MESSAGE_CLOSED:return e.streamItem?c()(e,"streamItem"):e;case a.STREAM_SELECT_CURSOR_MOVED:case a.STREAM_CURSOR_MOVED:{const{movement:s}=t,a=d(e,s,r);return i()(e,a)?e:a}case a.READ_CHANGE_REQUESTED:case a.STAR_CHANGE_REQUESTED:case a.RECENT_AND_READ_CHANGE_REQUESTED:case a.DELETE_ITEMS_REQUESTED:case a.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case a.MOVE_ITEMS_REQUESTED:case a.MOVE_AND_READ_CHANGE_REQUESTED:case a.SEND_SUCCESS:case a.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case a.V3_MESSAGE_SEND_SUCCEEDED:case a.CHECK_MAIL_RECEIVED_WITH_UPDATES:case a.CHANGE_FOLDER_SUCCEEDED:case a.SEARCH_LIST_ITEMS_RECEIVED:case a.UNDO_MOVE_SUCCEEDED:case a.MORE_MESSAGES_REQUEST_SUCCESS:case a.MORE_SEARCH_LIST_ITEMS_RECEIVED:case a.SEARCH_LIST_ITEMS_BLOCK_RECEIVED:case a.GIF_FETCH_SUCCEEDED:case a.MORE_COUPONS_SUCCESS:case a.MORE_RECEIPTS_SUCCESS:case a.RECEIPTS_LIST_SUCCEEDED:case a.WALLET_LIST_SUCCEEDED:case a.PINNED_EMAIL_LIST_SUCCEEDED:case a.GIF_CATEGORIES_CONTENT_FETCH_SUCCEEDED:case a.COUPONS_LIST_SUCCEEDED:case a.EXTRACT_COUPON_SUCCEEDED:case a.TRAVEL_LIST_SUCCEEDED:case a.COUPONS_ADD_TAG_DECO_REQUESTED:case a.MORE_TRAVEL_ITEMS_SUCCEEDED:case a.UPDATE_ITEMS_FAILED:{const{oldMessageStreamItems:s=[],newMessageStreamItems:a=[]}=t;if(!a.length)return{};if(!Object.keys(e).length)return e;const n=s[e.index]||{},r=a.findIndex((e=>e.id===n.id&&e.listId===n.listId));if(-1!==r){const t=e.index===r&&i()(e.streamItem,n)?e:{streamItem:n,index:r};return e.streamItem?t:c()(t,"streamItem")}const o=s.slice(e.index+1).find((e=>a.some((t=>e.id===t.id&&e.listId===t.listId))))||a[a.length-1]||{},l={streamItem:o,index:a.findIndex((e=>e.id===o.id&&e.listId===o.listId))};return e.streamItem?l:c()(l,"streamItem")}case a.MESSAGE_GROUP_OPENED:case a.MESSAGE_CARD_EXPANSION_CHANGED:case a.MESSAGE_CARD_FOCUSED:{const{streamItem:s}=t;return{...e,streamItem:s}}case a.V3_MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_SAVE_SUCCEEDED:case a.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamItem:s,previousStreamItem:a}=t;return s&&a&&(o.oldCursor&&i()(o.oldCursor.streamItem,a))?{...e,streamItem:s}:e}default:return e}},E=(e={})=>({getCursor:()=>e,getCursorItem:()=>e.streamItem})},85262:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>f,lw:()=>g,wl:()=>M});var a=s(14890),n=s(50566),r=s(71421),o=s(70717),i=s(57557),l=s.n(i),c=s(18446),d=s.n(c);const _=Object.prototype.hasOwnProperty,E=(e={},t=[])=>t.reduce(((e,{listId:t,id:s})=>({...e,[t]:{...e[t]||{},[s]:!0}})),{...e}),u=(e={},t=[])=>t.reduce(((e,{listId:t,id:s})=>({...e,[t]:l()(e[t]||{},s)})),{...e}),m=e=>e.reduce(((e,{listId:t,id:s})=>({...e,[t]:{...e[t]||{},[s]:!0}})),{});const S=function(e={},t){const{streamItem:s={},selectionPayload:a={},streamItems:r=[]}=t,{oldCursor:i,oldSelectedItems:l=[]}=a;switch(t.type){case n.ALL_STREAM_ITEMS_SELECTED:case n.STREAM_ITEMS_SELECTION_CHANGED:{const{selectedItems:e=[]}=t;return E({},e)}case n.STREAM_CONTEXT_MENU:return l.some((e=>d()(e,s)))?e:E({...u(m(l),[...l])},[s]);case n.STREAM_ITEM_TOGGLED:case n.ITEMS_DRAG_STARTED:return s.id?l.some((e=>d()(e,s)))?u(m(l),[s]):E(m(l),[s]):e;case n.STREAM_ITEMS_MULTIPLE_TOGGLE:return s.id&&t.multipleStreamItems?l.some((e=>d()(e,s)))?u(m(l),[s]):E(m(l),t.multipleStreamItems):e;case n.STREAM_ITEMS_RANGE_SELECTED:{if(!s.id)return e;if(!i)return E(m(l),[s]);const t=r.findIndex((e=>d()(e,s))),[a,n]=[i.index,t].sort(((e,t)=>e-t));return E(m(l),r.slice(a,n+1))}case n.STREAM_SELECT_CURSOR_MOVED:{const{movement:s}=t,a=(0,o.N4)(i||{},s,r);if(!l.some((e=>d()(e,a.streamItem)))){const e=[a.streamItem];return i&&i.streamItem&&e.push(i.streamItem),E(m(l),e)}return i&&i.streamItem?u(m(l),[i.streamItem]):e}case n.MORE_SEARCH_LIST_ITEMS_RECEIVED:case n.MORE_MESSAGES_REQUEST_SUCCESS:{const{listData:s={},allItemsSelected:a,listId:n}=t,{groupIdToMessageIdsMap:r={}}=s,o=Object.keys(r),i=o.map((e=>({listId:n,id:e})));return a&&0!==o.length?E(e,i):e}case n.STREAM_CURSOR_MOVED:case n.STREAM_ITEMS_SELECTION_CLEARED:case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.MOVE_AND_READ_CHANGE_REQUESTED:case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.SEND_SUCCESS:case n.PREVIEW_MESSAGE_CLOSED:case n.V3_MESSAGE_SEND_SUCCEEDED:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.PREVIEW_MESSAGE_REQUESTED:case n.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:case n.UPDATE_ITEMS_FAILED:return Object.keys(e).length?{}:e;case n.OPEN_PAGE_REQUESTED:case n.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s&&Object.keys(e).length?{}:e}default:return t.clearSelection&&Object.keys(e).length?{}:e}};var p=s(37422);const C=(e=p.ie0.NONE,t)=>{const{type:s}=t;switch(s){case n.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:return p.ie0.BULK;case n.ALL_STREAM_ITEMS_SELECTED:return p.ie0.ALL;case n.STREAM_ITEMS_SELECTION_CHANGED:return t.selectionType;case n.STREAM_ITEMS_SELECTION_CLEARED:case n.STREAM_ITEM_TOGGLED:case n.ITEMS_DRAG_STARTED:case n.STREAM_ITEMS_RANGE_SELECTED:case n.STREAM_SELECT_CURSOR_MOVED:case n.STREAM_CURSOR_MOVED:case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.MOVE_AND_READ_CHANGE_REQUESTED:case n.SEND_SUCCESS:case n.V3_MESSAGE_SEND_SUCCEEDED:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.PREVIEW_MESSAGE_REQUESTED:case n.PREVIEW_MESSAGE_CLOSED:return p.ie0.NONE;case n.OPEN_PAGE_REQUESTED:case n.SEARCH_INPUT_FOCUSED:{const{clearSelection:s=!1}=t;return s?p.ie0.NONE:e}default:return e}};var A=s(31057),T=s(92559);var I=s(78263);const h=(e=[],t=(()=>{}))=>{const s=((e=[])=>e.reduce(((e,t)=>({...e,[t.listId]:(e[t.listId]||[]).concat(t.id)})),{}))(e),a=Object.keys(s).reduce(((e,a)=>{const n=t(a)||[];return e[a]=n.length?s[a].filter((e=>-1===n.indexOf(e))):s[a],e}),{});return e.filter((({id:e,listId:t})=>-1!==(a[t]||[]).indexOf(e)))},g=e=>{const t=[];return e.forEach((e=>{const s=(0,A.WN)(e.listId);if(s===p.F6k.MESSAGES)t.push({id:e.id,listId:e.listId});else if(s===p.F6k.IMAGES){const{items:s}=e;s.forEach((e=>{t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})}))}else s===p.F6k.DOCUMENTS&&t.push({id:e.id,listId:e.listId,messageId:e.messageGroupId,previewable:e.previewable,downloadUrl:e.downloadUrl})})),t},O=e=>`${e.listId}-${e.csid}`,D=(e={},t)=>{const{type:s,itemToUpdate:a}=t;switch(s){case n.CONTACTS_LIST_FETCH_SUCCEEDED:{if(!a)return e;const{category:s,contacts:n=[],remainingCount:r=0}=a,{listId:o}=t,i=(0,A.tE)(o,{name:s}),c=O({csid:i,listId:o});return n.length+r>p.Weh?e:l()(e,c)}case n.CATEGORY_LIST_EXPANSION_TOGGLED:{const{categoryListId:s,listId:a}=t,n=O({csid:s,listId:a});return e[n]?l()(e,n):{...e,[n]:!0}}case n.CONTACT_SAVE_SUCCEEDED:{const{streamId:s,streamItem:a}=t,n=O({csid:a.listId,listId:s}),r=O({csid:a.oldListId,listId:s}),o=e[n]?l()(e,n):e;return o[r]?l()(o,r):o}case n.CONTACTS_SORT_ORDER_CHANGED:case n.DELETE_CONTACT_FAILED:return{};case n.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case n.MESSAGE_CARD_EXPANSION_CHANGED:case n.STAR_CHANGE_REQUESTED:case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.READ_CHANGE_REQUESTED:{if(!a)return e;const t={csid:a.csid,listId:a.listId},s=O(t);return{...e,[s]:a.expansionState}}case n.CLOSE_PAGE_REQUESTED:return e;case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.V3_MESSAGE_SEND_SUCCEEDED:{const{inReplyToMessageCsid:s,listId:a,shouldCreateExpansionState:n=!1,csid:r}=t;if(!n)return e;const o=O({csid:s,listId:(0,A.tE)(a,{listContentType:p.F6k.MESSAGE})}),i=O({csid:r,listId:(0,A.tE)(a,{listContentType:p.F6k.MESSAGE})}),l={...e};return l[o]||(l[o]=p.Lvq.TEMPORARY_EXPANSION),l[i]||(l[i]=p.Lvq.TEMPORARY_EXPANSION),l}case n.PREVIEW_MESSAGE_REQUESTED:case n.STREAM_CURSOR_MOVED:case n.STREAM_SELECT_CURSOR_MOVED:case n.OPEN_PAGE_REQUESTED:case n.STREAM_ITEM_TOGGLED:case n.STREAM_CONTEXT_MENU:case n.STREAM_ITEMS_MULTIPLE_TOGGLE:case n.STREAM_ITEMS_RANGE_SELECTED:{const s=Object.keys(e).filter((t=>e[t]!==p.Lvq.TEMPORARY_EXPANSION&&e[t]!==p.Lvq.TEMPORARY_COLLAPSE)).reduce(((t,s)=>({...t,[s]:e[s]})),{});return t.temporaryExpansionState?t.temporaryExpansionState.reduce(((e,t)=>{const s={csid:t.csid,listId:t.listId};return{...e,[O(s)]:t.expansionState}}),s):s}default:return e}},R=(0,a.combineReducers)({cursor:o.ZP,selectedItems:S,selectionType:C,expansionState:D}),N=(e,t={})=>e.persistStreamItemExpansionStates?e.persistStreamItemExpansionStates.reduce(((t,s)=>({...t,[s.streamId]:R(t[s.streamId],{...e,itemToUpdate:s})})),{...t}):t,L=(e,t)=>{const{type:s,streamItem:a={}}=t;return Object.keys(e).filter(Boolean).reduce(((r,o)=>{let i=e[o].expansionState;return[n.PREVIEW_MESSAGE_REQUESTED,n.OPEN_PAGE_REQUESTED].includes(s)&&(0,I.k3)(a.listId,a.id)===o||(i=D(e[o].expansionState,t)),{...r,[o]:{...e[o],expansionState:i}}}),{})},f=(e={},t)=>{switch(t.type){case n.CONTACTS_LIST_FETCH_SUCCEEDED:{const{listId:s,contacts:a=[]}=t,n=(0,A.C4)(s);return a.length&&n!==p.ukn.TOP_CONTACTS?a.reduce(((e,a)=>({...e,[s]:R(e[s],{...t,itemToUpdate:a,listId:s})})),{...e}):e}case n.CATEGORY_LIST_EXPANSION_TOGGLED:{const{listId:s}=t;return{...e,[s]:R(e[s],t)}}case n.CONTACTS_SORT_ORDER_CHANGED:{const s=(0,A.uh)(p.ukn.USER_CREATED_CONTACTS);return{...e,[s]:R(e[s],t)}}case n.CREATE_CONTACT_SUCCEEDED:case n.CONTACT_SAVE_SUCCEEDED:{const{streamId:s}=t;return{...e,[s]:R(e[s],t)}}case n.DELETE_CONTACT_FAILED:case n.MESSAGE_GROUP_ALL_EXPANSIONS_CHANGED:case n.MESSAGE_CARD_EXPANSION_CHANGED:return t.itemsToUpdate.reduce(((e,s)=>({...e,[s.streamId]:R(e[s.streamId],{...t,itemToUpdate:s})})),{...e});case n.ALL_STREAM_ITEMS_SELECTED_FOR_BULK_OPERATION:case n.ALL_STREAM_ITEMS_SELECTED:case n.STREAM_ITEMS_SELECTION_CHANGED:case n.STREAM_ITEMS_SELECTION_CLEARED:case n.MESSAGE_GROUP_OPENED:case n.MESSAGE_CARD_FOCUSED:{const{streamId:s}=t;return s?{...e,[s]:R(e[s],t)}:e}case n.PREVIEW_MESSAGE_CLOSED:{const{streamId:s,expansionStatesToRemove:a=[]}=t,n=s?{...e,[s]:R(e[s],t)}:e;return a.reduce(((e,t)=>({...e,[t]:{...e[t],expansionState:{}}})),n)}case n.MORE_SEARCH_LIST_ITEMS_RECEIVED:case n.MORE_MESSAGES_REQUEST_SUCCESS:{const{streamId:s,listId:a,streamItems:n=[],listData:r}=t,o=s||(0,I.BA)([a]),i=g(n);return o?{...e,[o]:R(e[o],{...t,oldMessageStreamItems:i,newMessageStreamItems:i.concat(Object.keys(r.lists||[]).reduce(((e,t)=>(r.lists[t].itemIds.forEach((s=>{e.push({id:s,listId:t})})),e)),[]))})}:e}case n.SEARCH_INPUT_FOCUSED:{const{streamId:s,clearSelection:a=!1}=t;return s&&a?{...e,[s]:R(e[s],t)}:e}case n.MESSAGE_REPLY_REPLY_ALL_FORWARD_REQUESTED:{const{triggeredFromContextMenu:s=!1,streamId:a}=t;return s&&a?{...e,[a]:R(e[a],t)}:e}case n.ITEMS_DRAG_STARTED:{const{streamId:s,streamItems:a=[],streamItem:n={},selectionPayload:r={}}=t,{oldSelectedItems:o=[]}=r;return o.find((e=>d()(e,n)))?e:s?{...e,[s]:R(e[s],{...t,streamItems:g(a)})}:e}case n.OPEN_PAGE_REQUESTED:{const n=[T.JE.OPEN_MSG,T.JE.DOC_READ_MSG,T.JE.PHOTO_READ_MSG],r=[T.JE.PHOTO_OPEN,T.JE.DOC_OPEN],o=((e={})=>{const{i13nModel:t,uiContext:s}=e;return t||s||{}})(t)||{};if(-1===[...n,...r].indexOf(o.mKey))return e;const{streamId:i,streamItems:l=[],temporaryExpansionState:c=[]}=t;if(!i){if(c.length>0){var s;const a=c[0].streamId;return{...e,[a]:{...e[a],expansionState:D((null===(s=e[a])||void 0===s?void 0:s.expansionState)||{},t)}}}return e}let d={...e,[i]:R(e[i],{...t,streamItems:g(l),temporaryExpansionState:null})};if(d=L(d,{...t,temporaryExpansionState:null}),c.length>0){var a;const e=c[0].streamId;return{...d,[e]:{...d[e],expansionState:D((null===(a=d[e])||void 0===a?void 0:a.expansionState)||{},t)}}}return d}case n.PREVIEW_MESSAGE_REQUESTED:case n.STREAM_ITEM_TOGGLED:case n.STREAM_CONTEXT_MENU:case n.STREAM_ITEMS_MULTIPLE_TOGGLE:case n.STREAM_ITEMS_RANGE_SELECTED:case n.STREAM_SELECT_CURSOR_MOVED:case n.STREAM_CURSOR_MOVED:{const{streamId:s,streamItems:a=[],temporaryExpansionState:n=[]}=t;if(!s)return e;let r={...e,[s]:R(e[s],{...t,streamItems:g(a),temporaryExpansionState:null})};if(r=L(r,{...t,temporaryExpansionState:null}),n.length>0){var o;const e=n[0].streamId;return{...r,[e]:{...r[e],expansionState:D((null===(o=r[e])||void 0===o?void 0:o.expansionState)||{},t)}}}return r}case n.V3_MESSAGE_SAVE_SUCCEEDED:case n.MESSAGE_SAVE_SUCCEEDED:case n.MESSAGE_AUTO_SAVE_SUCCEEDED:{const{streamId:s}=t;return s&&e[s]?{...e,[s]:R(e[s],t)}:e}case n.RECENT_AND_READ_CHANGE_REQUESTED:case n.READ_CHANGE_REQUESTED:{const{isAutomatic:s,isRead:a,streamId:n,itemsToUpdate:o=[],streamItems:i=[],newOldMailInboxStyle:l}=t;if(!o.length)return e;if(l&&s)return e;const c=g(i),d=e=>l?(0,r.NC)(o,e,a?"read":"unread"):(0,r.k1)(o,e,a?[]:["unread"]),_={...e,[n]:R(e[n],{...t,oldMessageStreamItems:c,newMessageStreamItems:h(c,(e=>d(e)))})};return N(t,_)}case n.STAR_CHANGE_REQUESTED:{const{isStarred:s,streamId:a,itemsToUpdate:n=[],streamItems:o=[]}=t;if(!n.length)return e;const i=g(o),l={...e,[a]:R(e[a],{...t,oldMessageStreamItems:i,newMessageStreamItems:h(i,(e=>(0,r.k1)(n,e,s?["flagged","starred"]:[])))})};return N(t,l)}case n.MOVE_AND_READ_CHANGE_REQUESTED:{const{isRead:s,streamId:a,itemsToUpdate:n=[],streamItems:o=[],listsToUpdate:i=[]}=t;if(!n.length)return e;const l=g(o);return{...e,[a]:R(e[a],{...t,oldMessageStreamItems:l,newMessageStreamItems:h(l,(e=>{const t=i.find((t=>t.listId===e))||{},a=(0,r.S2)(n,t.folderIds),o=(0,r.NC)(n,e,s?"read":"unread"),l=a.concat(o);return l.filter(((e,t)=>l.indexOf(e)===t))}))})}}case n.DELETE_ITEMS_REQUESTED:case n.BLOCK_SENDERS_REQUESTED:case n.BLOCK_SENDERS_WITH_DELETE_REQUESTED:case n.MOVE_ITEMS_REQUESTED:case n.SEND_SUCCESS:case n.V3_MESSAGE_SAVE_AND_SEND_SUCCEEDED:case n.V3_MESSAGE_SEND_SUCCEEDED:{const{streamId:s,streamItem:a,listId:n,conversationsMode:o,itemsToUpdate:i=[],streamItems:l=[],listsToUpdate:c=[],inReplyToMessageCsid:d}=t;if(!i.length)return e;const _=g(l),E=o&&d?(0,I.k3)(n,a.id):null;return{...e,...E?{[E]:R(e[E],{...t,shouldCreateExpansionState:!0})}:null,[s]:R(e[s],{...t,oldMessageStreamItems:_,newMessageStreamItems:h(_,(e=>{const t=c.find((t=>t.listId===e))||{};return(0,r.S2)(i,t.folderIds)}))})}}case n.UPDATE_ITEMS_FAILED:{const{streamId:s,itemsToDelete:a=[],streamItems:n=[],listsToUpdate:o=[]}=t;if(0===a.length)return e;const i=g(n);return{...e,[s]:R(e[s],{...t,oldMessageStreamItems:i,newMessageStreamItems:h(i,(e=>{const t=o.find((t=>t.listId===e))||{};return(0,r.S2)(a,t.folderIds)}))})}}case n.CHECK_MAIL_RECEIVED_WITH_UPDATES:case n.CHANGE_FOLDER_SUCCEEDED:{const{streamId:s,listData:a,streamItems:n=[]}=t;return a.lists?{...e,[s]:R(e[s],{...t,oldMessageStreamItems:g(n),newMessageStreamItems:Object.keys(a.lists||[]).reduce(((e,t)=>(a.lists[t].itemIds.forEach((s=>{e.push({id:s,listId:t})})),e)),[])})}:e}case n.CLOSE_PAGE_REQUESTED:{const{streamId:s,route:a,shouldPersistStream:n=!1}=t;return s&&(a&&!n)?l()(e,[s]):e}default:return e}},M=(e={})=>({doesStreamExist:t=>!!e[t],getSelectedItemsSelectors:t=>((e={})=>({getSelectedItems:()=>Object.keys(e).reduce(((t,s)=>t.concat(Object.keys(e[s]).map((e=>({id:e,listId:s}))))),[]),isItemSelected:t=>e[t.listId]&&e[t.listId][t.id],hasSelectedItems:()=>{let t,s;for(s in e)if(_.call(e,s))for(t in e[s])if(_.call(e[s],t))return!0;return!1}}))(e[t].selectedItems),getCursorSelectors:t=>(0,o.wl)(e[t].cursor),getSelectionType:t=>((e=p.ie0.NONE)=>({getSelectionType:()=>e}))(e[t].selectionType).getSelectionType(),getExpansionStateForStreamItem:t=>e[t.streamId].expansionState[O(t)],doesExpansionStateExist:t=>e[t]&&e[t].expansionState&&Object.keys(e[t].expansionState).length>0})},2464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E,key:()=>m,selectors:()=>u});var a=s(14890),n=s(37422),r=s(50566);const o=(0,a.combineReducers)({brands:(e={},t)=>{switch(t.type){case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return{...e,...t.response.subscription.email.brand.reduce(((e,s)=>{var a,n;return e[(a=t.accountId,n=s.name,`${n}:${a}`)]={name:s.name,subscriptions:s.subscriptions.map((e=>e.recoid))},e}),{})};default:return e}},recommendationsById:(e={},t)=>{switch(t.type){case r.SUBHUB_RECOMMENDATION_LIST_FETCH_SUCCEEDED:return{...e,...t.response.subscription.email.brand.reduce(((e,t)=>(t.subscriptions.forEach((s=>{e[s.recoid]={name:t.name,...s}})),e)),{})};default:return e}}}),i={name:"",unsubRequestTs:0,frequency:{ftype:n.A3t.WEEKLY,fval:0},lastOpened:-1,score:0,subscriptions:[]},l=(e=i,t)=>{switch(t.type){case r.UNSUBSCRIBE_BY_BRAND_FAILED:case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:return{...e,subscriptions:e.subscriptions.map((e=>({...e,status:t.type===r.UNSUBSCRIBE_BY_BRAND_FAILED?n.yhH.ACTIVE:n.yhH.PENDINGUNSUB})))};case r.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:return{...e,subscriptions:t.subscriptions};default:return e}},c=(e={},t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_FETCH_SUCCEEDED:{const s={};return t.response.subscription.email.brand.forEach((e=>{const a=(n=e.name,r=t.accountId,n+":"+r);var n,r;const o=e.unsubRequestTs;s[a]={...i,name:e.name,unsubRequestTs:isNaN(o)?0:o,frequency:e.frequency,lastOpened:e.lastOpened,score:e.score,subscriptions:e.subscriptions}})),{...e,...s}}case r.UNSUBSCRIBE_BY_BRAND_REQUESTED:case r.UNSUBSCRIBE_BY_BRAND_FAILED:case r.UNSUBSCRIBE_BY_BRAND_SUCCEEDED:{const{brandId:s}=t;return{...e,[s]:l(e[s],t)}}default:return e}},d=(e=n.ukn.ACTIVE,t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_FILTER_CHANGED:return t.listFilter;default:return e}},_=(e={[n.ukn.ACTIVE]:n.Asd.RELEVANCE,[n.ukn.PAST]:n.Asd.RELEVANCE},t)=>{switch(t.type){case r.SUBSCRIPTION_LIST_SORT_ORDER_CHANGED:return{...e,[t.listFilter]:t.sortOrder};case r.OPEN_PAGE_REQUESTED:return{[n.ukn.ACTIVE]:n.Asd.RELEVANCE,[n.ukn.PAST]:n.Asd.RELEVANCE};default:return e}},E=(0,a.combineReducers)({subscriptions:c,currentFilter:d,sortOrder:_,recommendations:o}),u=e=>({getBrandInfo:t=>e.subscriptions[t],getSortOrder:t=>e.sortOrder[t],getCurrentListFilter:()=>e.currentFilter,getSubscriptionFailureCount:()=>{let t,s=0;for(t in e.subscriptions)e.subscriptions.hasOwnProperty(t)&&(s+=e.subscriptions[t].subscriptions.reduce(((e,t)=>t.status===n.yhH.FAILED?e+1:e),0));return s},doesBrandExist:t=>!!e.subscriptions[t],getBrandFrequency:t=>e.subscriptions[t]?e.subscriptions[t].frequency:void 0,getBrandName:t=>e.subscriptions[t]?e.subscriptions[t].name:void 0,getBrandSubscriptions:t=>e.subscriptions[t]?e.subscriptions[t].subscriptions:void 0,getFromEmailsForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t,fromEmail:s})=>(!t&&s&&e.push(s),e)),[])},getListIdsForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t})=>(t&&e.push(t),e)),[])},getFromNamesForBrand:t=>{const{subscriptions:s=[]}=e.subscriptions[t]||{};return s.reduce(((e,{listId:t,fromName:s})=>(!t&&s&&e.push(s),e)),[])},getRecommendationIds:()=>Object.values(e.recommendations.brands).reduce(((e,t)=>(t.subscriptions[0]&&e.push(t.subscriptions[0]),e)),[]),getRecommendationById:t=>e.recommendations.recommendationsById[t],getRecommendationsInfo:()=>Object.values(e.recommendations.recommendationsById).reduce(((e,t)=>(e.push({recoId:t.recoid,logInfo:t.meta}),e)),[])}),m="subscriptionList"},66710:(e,t,s)=>{"use strict";s.d(t,{OZ:()=>_,ZP:()=>p,wl:()=>S});var a=s(22222),n=s(14890),r=s(82159),o=s(50566),i=s(37422);var l=s(95406),c=s(40315),d=s(92559);let _;!function(e){e.DELETE="DELETE"}(_||(_={}));const E={loadStatus:i.DAQ.LOADING,updatePendingById:{},todos:[],filterBy:r.EU.ACTIVE,todosPane:{view:r.$r.LIST}},u=(e={},t)=>{switch(t.type){case o.RIGHT_RAIL_COMMS_ICON_CLICKED:{const{todoContext:e,i13nModel:s={}}=t,{sec:a,actionData:n={}}=s;return e?{todoContext:e,source:{sec:a,actionData:n}}:{source:{sec:a,actionData:n}}}case o.CHANGE_TODOS_PANE_VIEW:{const{clearViewContext:e=!1,todoContext:s,i13nModel:a={}}=t,{sec:n,actionData:r={}}=a;return e?{}:s?{todoContext:s,source:{sec:n,actionData:r}}:{source:{sec:n,actionData:r}}}default:return e}},m=(0,n.combineReducers)({loadStatus:(e=i.DAQ.LOADING,t)=>{switch(t.type){case o.POST_LAUNCH_FETCH_TODOS_SUCCEEDED:case o.FETCH_ALL_TODOS_SUCCEEDED:return i.DAQ.LOADED;case o.POST_LAUNCH_FETCH_TODOS_FAILED:case o.FETCH_ALL_TODOS_FAILED:return i.DAQ.ERROR;case o.FETCH_ALL_TODOS_REQUESTED:return i.DAQ.LOADING;default:return e}},updatePendingById:(e={},t)=>{switch(t.type){case o.DELETE_TODO_DEFERRED_REQUESTED:{const{todoUid:s}=t;return{...e,[s]:{updateType:_.DELETE}}}case o.DELETE_TODO_CANCEL_REQUESTED:case o.DELETE_TODO_SUCCEEDED:case o.DELETE_TODO_FAILED:{const{todoUid:s}=t;return(0,l.oF)(e,[s])}default:return e}},todos:(e=[],t)=>{switch(t.type){case o.POST_LAUNCH_FETCH_TODOS_SUCCEEDED:case o.FETCH_ALL_TODOS_SUCCEEDED:{const{todos:s,folders:a}=t,n=(e=>{const t={};for(const s of e)t[s.id]=s;return t})(a),r=s.filter((e=>{var t;return null===(t=n[e.folderId])||void 0===t||!t.isReadOnly}));return[...e,...r]}case o.CREATE_TODO_SUCCEEDED:{const{todo:s}=t;return[s,...e]}case o.UPDATE_TODO_SUCCEEDED:{const{todo:s,todoUid:a}=t;return e.map((e=>e.uid!==a?e:s))}case o.DELETE_TODO_SUCCEEDED:{const{todoUid:s}=t;return e.filter((({uid:e})=>e!==s))}default:return e}},filterBy:(e=r.EU.ACTIVE,t)=>{switch(t.type){case o.CHANGE_TODOS_PANE_FILTER:return t.filterBy;default:return e}},todosPane:(e={view:r.$r.LIST},t)=>{switch(t.type){case o.RIGHT_RAIL_COMMS_ICON_CLICKED:{const{name:s,view:a}=t;return s===i.Qk$.TODOS_PANE&&a?{view:a,viewContext:u(e.viewContext,t)}:e}case o.CHANGE_TODOS_PANE_VIEW:return{view:t.view,viewContext:u(e.viewContext,t)};case o.DELETE_TODO_DEFERRED_REQUESTED:{var s;const{todoUid:a}=t,{view:n,viewContext:o}=e;return n===r.$r.EDIT&&(null==o||null===(s=o.todoContext)||void 0===s?void 0:s.uid)===a?{view:r.$r.LIST}:e}case o.CREATE_TODO_REQUESTED:case o.UPDATE_TODO_REQUESTED:return{view:r.$r.LIST};case o.OPEN_PAGE_REQUESTED:var a;return(null===(a=t.uiContext)||void 0===a?void 0:a.mKey)===d.JE.OPEN_LINKED_MESSAGE_FROM_TODO_PANE?e:{view:r.$r.LIST};default:return e}}}),S=(0,a.createSelector)(((e=E)=>e),((e=E)=>{const t=()=>e.todos.filter((e=>{var t,s,a;return e.status===r.wq.NEEDS_ACTION&&(0,c.dW)(null===(t=e.reminders)||void 0===t||null===(s=t.reminder)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.dateTime)}));return{areTodosLoaded:()=>e.loadStatus===i.DAQ.LOADED,getLoadingStatus:()=>e.loadStatus,getFilterBy:()=>e.filterBy,getCurrentView:()=>e.todosPane.view,getCurrentViewContext:()=>e.todosPane.viewContext||{},getActiveTodos:()=>e.todos.filter((e=>e.status===r.wq.NEEDS_ACTION)),getCompletedTodos:()=>e.todos.filter((e=>e.status===r.wq.COMPLETED)),getTodoByMessageId:t=>e.todos.reduce(((e,t)=>{var s;return null!==(s=t.externalRef)&&void 0!==s&&s.msgId&&(e[t.externalRef.msgId]=t),e}),{})[t],isPendingUpdate:t=>!!e.updatePendingById[t],getPendingUpdateType:t=>{var s;return null===(s=e.updatePendingById[t])||void 0===s?void 0:s.updateType},getTodosWithReminders:()=>t(),hasTodosWithReminders:()=>t().length>0}})),p=m},70921:(e,t,s)=>{"use strict";s.d(t,{C1:()=>r,UP:()=>n,kP:()=>o});var a=s(22222);function n(e){return`@.y.${e}`}function r(e){const t=t=>(0,a.createSelector)((e=>e[t]),(s=>e[t].selector(s)));return Object.keys(e).reduce(((e,s)=>({...e,[s]:t(s)})),{})}function o(e){return Object.keys(e).reduce(((t,s)=>({...t,[s]:e[s].reducer})),{})}},64561:(e,t,s)=>{"use strict";s.d(t,{FR:()=>n,ZP:()=>i,wl:()=>l});var a=s(50566);const n="yaiRetroComposeFailed",r={messageId:"",retroCompose:{body:"",return_address:"",subject:""}},o={messageId:"",retroCompose:{body:"",return_address:"",subject:n}},i=(e=r,t)=>{switch(t.type){case a.YAI_RETRO_COMPOSE_SUCCEEDED:{const{messageId:e,retroCompose:s}=t;return{messageId:e,retroCompose:s}}case a.YAI_RETRO_COMPOSE_FAILED:return o;case a.YAI_RETRO_COMPOSE_REQUESTED:case a.YAI_RETRO_COMPOSE_CLEAR:return r;default:return e}},l=(e=r)=>({getYaiRetroComposeMessage:()=>e})},47745:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});const a="devbox"},24893:(e,t,s)=>{"use strict";function a(e,t){if(null==e)throw new Error(`${t}; Expected 'val' to be defined, but received ${e}`)}s.d(t,{c:()=>a})},98374:()=>{},25353:()=>{},24654:()=>{},7116:()=>{},63695:()=>{},24908:()=>{}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=a,r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,s,a,n)=>{if(!s){var o=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],i=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>"js/mail_app_es6_"+({13:"epochCalendar",202:"lazy_group1",340:"lazy_group2",396:"onboardingRoute",421:"contacts",497:"notes",656:"feedback",700:"todos",841:"subscriptions"}[e]||e)+"_"+{13:"46a2e1f0d439e8abb603",120:"997bbb78c6a500273e84",202:"6b7d5a952dabab0a95ff",309:"4ff3e4dc64f49603e08b",340:"aa5809f2deeb749bba6d",396:"c6b1e0d45abee848d09b",421:"a6a8ab7808a14f3a61ed",497:"93e351c718e79894e196",656:"513729d4791dea571f6a",700:"bbc5e413d04a9d86473f",841:"7a8e2602d1c706cce823"}[e]+".chunk.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},s="@vzmi/mail:",r.l=(e,a,n,o)=>{if(t[e])t[e].push(a);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var _=c[d];if(_.getAttribute("src")==e||_.getAttribute("data-webpack")==s+n){i=_;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",s+n),i.src=e,0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous")),t[e]=[a];var E=(s,a)=>{i.onerror=i.onload=null,clearTimeout(u);var n=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(a))),s)return s(a)},u=setTimeout(E.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=E.bind(null,i.onerror),i.onload=E.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="",(()=>{var e={199:0};r.f.j=(t,s)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var n=new Promise(((s,n)=>a=e[t]=[s,n]));s.push(a[2]=n);var o=r.p+r.u(t),i=new Error;r.l(o,(s=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",i.name="ChunkLoadError",i.type=n,i.request=o,a[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var a,n,[o,i,l]=s,c=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var d=l(r)}for(t&&t(s);c<o.length;c++)n=o[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},s=self.webpackChunk_vzmi_mail=self.webpackChunk_vzmi_mail||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.O(void 0,[567],(()=>r(6732)));var o=r.O(void 0,[567],(()=>r(77837)));o=r.O(o)})();